"use strict";
/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __commonJS = (cb, mod2) => function __require() {
  return mod2 || (0, cb[__getOwnPropNames(cb)[0]])((mod2 = { exports: {} }).exports, mod2), mod2.exports;
};
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod2, isNodeMode, target) => (target = mod2 != null ? __create(__getProtoOf(mod2)) : {}, __copyProps(
  isNodeMode || !mod2 || !mod2.__esModule ? __defProp(target, "default", { value: mod2, enumerable: true }) : target,
  mod2
));
var __toCommonJS = (mod2) => __copyProps(__defProp({}, "__esModule", { value: true }), mod2);
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};

// node_modules/obsidian-dataview/lib/index.js
var require_lib = __commonJS({
  "node_modules/obsidian-dataview/lib/index.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    require("obsidian");
    var commonjsGlobal = typeof globalThis !== "undefined" ? globalThis : typeof window !== "undefined" ? window : typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : {};
    var luxon = {};
    Object.defineProperty(luxon, "__esModule", { value: true });
    function _defineProperties(target, props) {
      for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor)
          descriptor.writable = true;
        Object.defineProperty(target, descriptor.key, descriptor);
      }
    }
    function _createClass(Constructor, protoProps, staticProps) {
      if (protoProps)
        _defineProperties(Constructor.prototype, protoProps);
      if (staticProps)
        _defineProperties(Constructor, staticProps);
      return Constructor;
    }
    function _extends() {
      _extends = Object.assign || function(target) {
        for (var i = 1; i < arguments.length; i++) {
          var source = arguments[i];
          for (var key in source) {
            if (Object.prototype.hasOwnProperty.call(source, key)) {
              target[key] = source[key];
            }
          }
        }
        return target;
      };
      return _extends.apply(this, arguments);
    }
    function _inheritsLoose(subClass, superClass) {
      subClass.prototype = Object.create(superClass.prototype);
      subClass.prototype.constructor = subClass;
      _setPrototypeOf(subClass, superClass);
    }
    function _getPrototypeOf(o) {
      _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf2(o2) {
        return o2.__proto__ || Object.getPrototypeOf(o2);
      };
      return _getPrototypeOf(o);
    }
    function _setPrototypeOf(o, p) {
      _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf2(o2, p2) {
        o2.__proto__ = p2;
        return o2;
      };
      return _setPrototypeOf(o, p);
    }
    function _isNativeReflectConstruct() {
      if (typeof Reflect === "undefined" || !Reflect.construct)
        return false;
      if (Reflect.construct.sham)
        return false;
      if (typeof Proxy === "function")
        return true;
      try {
        Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
        }));
        return true;
      } catch (e) {
        return false;
      }
    }
    function _construct(Parent, args, Class) {
      if (_isNativeReflectConstruct()) {
        _construct = Reflect.construct;
      } else {
        _construct = function _construct2(Parent2, args2, Class2) {
          var a = [null];
          a.push.apply(a, args2);
          var Constructor = Function.bind.apply(Parent2, a);
          var instance6 = new Constructor();
          if (Class2)
            _setPrototypeOf(instance6, Class2.prototype);
          return instance6;
        };
      }
      return _construct.apply(null, arguments);
    }
    function _isNativeFunction(fn) {
      return Function.toString.call(fn).indexOf("[native code]") !== -1;
    }
    function _wrapNativeSuper(Class) {
      var _cache = typeof Map === "function" ? /* @__PURE__ */ new Map() : void 0;
      _wrapNativeSuper = function _wrapNativeSuper2(Class2) {
        if (Class2 === null || !_isNativeFunction(Class2))
          return Class2;
        if (typeof Class2 !== "function") {
          throw new TypeError("Super expression must either be null or a function");
        }
        if (typeof _cache !== "undefined") {
          if (_cache.has(Class2))
            return _cache.get(Class2);
          _cache.set(Class2, Wrapper);
        }
        function Wrapper() {
          return _construct(Class2, arguments, _getPrototypeOf(this).constructor);
        }
        Wrapper.prototype = Object.create(Class2.prototype, {
          constructor: {
            value: Wrapper,
            enumerable: false,
            writable: true,
            configurable: true
          }
        });
        return _setPrototypeOf(Wrapper, Class2);
      };
      return _wrapNativeSuper(Class);
    }
    function _objectWithoutPropertiesLoose(source, excluded) {
      if (source == null)
        return {};
      var target = {};
      var sourceKeys = Object.keys(source);
      var key, i;
      for (i = 0; i < sourceKeys.length; i++) {
        key = sourceKeys[i];
        if (excluded.indexOf(key) >= 0)
          continue;
        target[key] = source[key];
      }
      return target;
    }
    function _unsupportedIterableToArray(o, minLen) {
      if (!o)
        return;
      if (typeof o === "string")
        return _arrayLikeToArray(o, minLen);
      var n2 = Object.prototype.toString.call(o).slice(8, -1);
      if (n2 === "Object" && o.constructor)
        n2 = o.constructor.name;
      if (n2 === "Map" || n2 === "Set")
        return Array.from(o);
      if (n2 === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n2))
        return _arrayLikeToArray(o, minLen);
    }
    function _arrayLikeToArray(arr, len) {
      if (len == null || len > arr.length)
        len = arr.length;
      for (var i = 0, arr2 = new Array(len); i < len; i++)
        arr2[i] = arr[i];
      return arr2;
    }
    function _createForOfIteratorHelperLoose(o, allowArrayLike) {
      var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"];
      if (it)
        return (it = it.call(o)).next.bind(it);
      if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") {
        if (it)
          o = it;
        var i = 0;
        return function() {
          if (i >= o.length)
            return {
              done: true
            };
          return {
            done: false,
            value: o[i++]
          };
        };
      }
      throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
    }
    var LuxonError = /* @__PURE__ */ function(_Error) {
      _inheritsLoose(LuxonError2, _Error);
      function LuxonError2() {
        return _Error.apply(this, arguments) || this;
      }
      return LuxonError2;
    }(/* @__PURE__ */ _wrapNativeSuper(Error));
    var InvalidDateTimeError = /* @__PURE__ */ function(_LuxonError) {
      _inheritsLoose(InvalidDateTimeError2, _LuxonError);
      function InvalidDateTimeError2(reason) {
        return _LuxonError.call(this, "Invalid DateTime: " + reason.toMessage()) || this;
      }
      return InvalidDateTimeError2;
    }(LuxonError);
    var InvalidIntervalError = /* @__PURE__ */ function(_LuxonError2) {
      _inheritsLoose(InvalidIntervalError2, _LuxonError2);
      function InvalidIntervalError2(reason) {
        return _LuxonError2.call(this, "Invalid Interval: " + reason.toMessage()) || this;
      }
      return InvalidIntervalError2;
    }(LuxonError);
    var InvalidDurationError = /* @__PURE__ */ function(_LuxonError3) {
      _inheritsLoose(InvalidDurationError2, _LuxonError3);
      function InvalidDurationError2(reason) {
        return _LuxonError3.call(this, "Invalid Duration: " + reason.toMessage()) || this;
      }
      return InvalidDurationError2;
    }(LuxonError);
    var ConflictingSpecificationError = /* @__PURE__ */ function(_LuxonError4) {
      _inheritsLoose(ConflictingSpecificationError2, _LuxonError4);
      function ConflictingSpecificationError2() {
        return _LuxonError4.apply(this, arguments) || this;
      }
      return ConflictingSpecificationError2;
    }(LuxonError);
    var InvalidUnitError = /* @__PURE__ */ function(_LuxonError5) {
      _inheritsLoose(InvalidUnitError2, _LuxonError5);
      function InvalidUnitError2(unit) {
        return _LuxonError5.call(this, "Invalid unit " + unit) || this;
      }
      return InvalidUnitError2;
    }(LuxonError);
    var InvalidArgumentError = /* @__PURE__ */ function(_LuxonError6) {
      _inheritsLoose(InvalidArgumentError2, _LuxonError6);
      function InvalidArgumentError2() {
        return _LuxonError6.apply(this, arguments) || this;
      }
      return InvalidArgumentError2;
    }(LuxonError);
    var ZoneIsAbstractError = /* @__PURE__ */ function(_LuxonError7) {
      _inheritsLoose(ZoneIsAbstractError2, _LuxonError7);
      function ZoneIsAbstractError2() {
        return _LuxonError7.call(this, "Zone is an abstract class") || this;
      }
      return ZoneIsAbstractError2;
    }(LuxonError);
    var n = "numeric";
    var s = "short";
    var l = "long";
    var DATE_SHORT = {
      year: n,
      month: n,
      day: n
    };
    var DATE_MED = {
      year: n,
      month: s,
      day: n
    };
    var DATE_MED_WITH_WEEKDAY = {
      year: n,
      month: s,
      day: n,
      weekday: s
    };
    var DATE_FULL = {
      year: n,
      month: l,
      day: n
    };
    var DATE_HUGE = {
      year: n,
      month: l,
      day: n,
      weekday: l
    };
    var TIME_SIMPLE = {
      hour: n,
      minute: n
    };
    var TIME_WITH_SECONDS = {
      hour: n,
      minute: n,
      second: n
    };
    var TIME_WITH_SHORT_OFFSET = {
      hour: n,
      minute: n,
      second: n,
      timeZoneName: s
    };
    var TIME_WITH_LONG_OFFSET = {
      hour: n,
      minute: n,
      second: n,
      timeZoneName: l
    };
    var TIME_24_SIMPLE = {
      hour: n,
      minute: n,
      hourCycle: "h23"
    };
    var TIME_24_WITH_SECONDS = {
      hour: n,
      minute: n,
      second: n,
      hourCycle: "h23"
    };
    var TIME_24_WITH_SHORT_OFFSET = {
      hour: n,
      minute: n,
      second: n,
      hourCycle: "h23",
      timeZoneName: s
    };
    var TIME_24_WITH_LONG_OFFSET = {
      hour: n,
      minute: n,
      second: n,
      hourCycle: "h23",
      timeZoneName: l
    };
    var DATETIME_SHORT = {
      year: n,
      month: n,
      day: n,
      hour: n,
      minute: n
    };
    var DATETIME_SHORT_WITH_SECONDS = {
      year: n,
      month: n,
      day: n,
      hour: n,
      minute: n,
      second: n
    };
    var DATETIME_MED = {
      year: n,
      month: s,
      day: n,
      hour: n,
      minute: n
    };
    var DATETIME_MED_WITH_SECONDS = {
      year: n,
      month: s,
      day: n,
      hour: n,
      minute: n,
      second: n
    };
    var DATETIME_MED_WITH_WEEKDAY = {
      year: n,
      month: s,
      day: n,
      weekday: s,
      hour: n,
      minute: n
    };
    var DATETIME_FULL = {
      year: n,
      month: l,
      day: n,
      hour: n,
      minute: n,
      timeZoneName: s
    };
    var DATETIME_FULL_WITH_SECONDS = {
      year: n,
      month: l,
      day: n,
      hour: n,
      minute: n,
      second: n,
      timeZoneName: s
    };
    var DATETIME_HUGE = {
      year: n,
      month: l,
      day: n,
      weekday: l,
      hour: n,
      minute: n,
      timeZoneName: l
    };
    var DATETIME_HUGE_WITH_SECONDS = {
      year: n,
      month: l,
      day: n,
      weekday: l,
      hour: n,
      minute: n,
      second: n,
      timeZoneName: l
    };
    function isUndefined(o) {
      return typeof o === "undefined";
    }
    function isNumber(o) {
      return typeof o === "number";
    }
    function isInteger(o) {
      return typeof o === "number" && o % 1 === 0;
    }
    function isString(o) {
      return typeof o === "string";
    }
    function isDate(o) {
      return Object.prototype.toString.call(o) === "[object Date]";
    }
    function hasRelative() {
      try {
        return typeof Intl !== "undefined" && !!Intl.RelativeTimeFormat;
      } catch (e) {
        return false;
      }
    }
    function maybeArray(thing) {
      return Array.isArray(thing) ? thing : [thing];
    }
    function bestBy(arr, by, compare) {
      if (arr.length === 0) {
        return void 0;
      }
      return arr.reduce(function(best, next) {
        var pair = [by(next), next];
        if (!best) {
          return pair;
        } else if (compare(best[0], pair[0]) === best[0]) {
          return best;
        } else {
          return pair;
        }
      }, null)[1];
    }
    function pick(obj, keys) {
      return keys.reduce(function(a, k) {
        a[k] = obj[k];
        return a;
      }, {});
    }
    function hasOwnProperty(obj, prop) {
      return Object.prototype.hasOwnProperty.call(obj, prop);
    }
    function integerBetween(thing, bottom, top) {
      return isInteger(thing) && thing >= bottom && thing <= top;
    }
    function floorMod(x, n2) {
      return x - n2 * Math.floor(x / n2);
    }
    function padStart(input, n2) {
      if (n2 === void 0) {
        n2 = 2;
      }
      var isNeg = input < 0;
      var padded;
      if (isNeg) {
        padded = "-" + ("" + -input).padStart(n2, "0");
      } else {
        padded = ("" + input).padStart(n2, "0");
      }
      return padded;
    }
    function parseInteger(string) {
      if (isUndefined(string) || string === null || string === "") {
        return void 0;
      } else {
        return parseInt(string, 10);
      }
    }
    function parseFloating(string) {
      if (isUndefined(string) || string === null || string === "") {
        return void 0;
      } else {
        return parseFloat(string);
      }
    }
    function parseMillis(fraction) {
      if (isUndefined(fraction) || fraction === null || fraction === "") {
        return void 0;
      } else {
        var f = parseFloat("0." + fraction) * 1e3;
        return Math.floor(f);
      }
    }
    function roundTo(number, digits, towardZero) {
      if (towardZero === void 0) {
        towardZero = false;
      }
      var factor = Math.pow(10, digits), rounder = towardZero ? Math.trunc : Math.round;
      return rounder(number * factor) / factor;
    }
    function isLeapYear(year) {
      return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);
    }
    function daysInYear(year) {
      return isLeapYear(year) ? 366 : 365;
    }
    function daysInMonth(year, month) {
      var modMonth = floorMod(month - 1, 12) + 1, modYear = year + (month - modMonth) / 12;
      if (modMonth === 2) {
        return isLeapYear(modYear) ? 29 : 28;
      } else {
        return [31, null, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][modMonth - 1];
      }
    }
    function objToLocalTS(obj) {
      var d = Date.UTC(obj.year, obj.month - 1, obj.day, obj.hour, obj.minute, obj.second, obj.millisecond);
      if (obj.year < 100 && obj.year >= 0) {
        d = new Date(d);
        d.setUTCFullYear(d.getUTCFullYear() - 1900);
      }
      return +d;
    }
    function weeksInWeekYear(weekYear) {
      var p1 = (weekYear + Math.floor(weekYear / 4) - Math.floor(weekYear / 100) + Math.floor(weekYear / 400)) % 7, last = weekYear - 1, p2 = (last + Math.floor(last / 4) - Math.floor(last / 100) + Math.floor(last / 400)) % 7;
      return p1 === 4 || p2 === 3 ? 53 : 52;
    }
    function untruncateYear(year) {
      if (year > 99) {
        return year;
      } else
        return year > 60 ? 1900 + year : 2e3 + year;
    }
    function parseZoneInfo(ts, offsetFormat, locale, timeZone) {
      if (timeZone === void 0) {
        timeZone = null;
      }
      var date = new Date(ts), intlOpts = {
        hourCycle: "h23",
        year: "numeric",
        month: "2-digit",
        day: "2-digit",
        hour: "2-digit",
        minute: "2-digit"
      };
      if (timeZone) {
        intlOpts.timeZone = timeZone;
      }
      var modified = _extends({
        timeZoneName: offsetFormat
      }, intlOpts);
      var parsed = new Intl.DateTimeFormat(locale, modified).formatToParts(date).find(function(m) {
        return m.type.toLowerCase() === "timezonename";
      });
      return parsed ? parsed.value : null;
    }
    function signedOffset(offHourStr, offMinuteStr) {
      var offHour = parseInt(offHourStr, 10);
      if (Number.isNaN(offHour)) {
        offHour = 0;
      }
      var offMin = parseInt(offMinuteStr, 10) || 0, offMinSigned = offHour < 0 || Object.is(offHour, -0) ? -offMin : offMin;
      return offHour * 60 + offMinSigned;
    }
    function asNumber(value) {
      var numericValue = Number(value);
      if (typeof value === "boolean" || value === "" || Number.isNaN(numericValue))
        throw new InvalidArgumentError("Invalid unit value " + value);
      return numericValue;
    }
    function normalizeObject(obj, normalizer) {
      var normalized = {};
      for (var u in obj) {
        if (hasOwnProperty(obj, u)) {
          var v = obj[u];
          if (v === void 0 || v === null)
            continue;
          normalized[normalizer(u)] = asNumber(v);
        }
      }
      return normalized;
    }
    function formatOffset(offset2, format) {
      var hours = Math.trunc(Math.abs(offset2 / 60)), minutes = Math.trunc(Math.abs(offset2 % 60)), sign = offset2 >= 0 ? "+" : "-";
      switch (format) {
        case "short":
          return "" + sign + padStart(hours, 2) + ":" + padStart(minutes, 2);
        case "narrow":
          return "" + sign + hours + (minutes > 0 ? ":" + minutes : "");
        case "techie":
          return "" + sign + padStart(hours, 2) + padStart(minutes, 2);
        default:
          throw new RangeError("Value format " + format + " is out of range for property format");
      }
    }
    function timeObject(obj) {
      return pick(obj, ["hour", "minute", "second", "millisecond"]);
    }
    var ianaRegex = /[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;
    var monthsLong = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
    var monthsShort = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
    var monthsNarrow = ["J", "F", "M", "A", "M", "J", "J", "A", "S", "O", "N", "D"];
    function months(length) {
      switch (length) {
        case "narrow":
          return [].concat(monthsNarrow);
        case "short":
          return [].concat(monthsShort);
        case "long":
          return [].concat(monthsLong);
        case "numeric":
          return ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12"];
        case "2-digit":
          return ["01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11", "12"];
        default:
          return null;
      }
    }
    var weekdaysLong = ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"];
    var weekdaysShort = ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"];
    var weekdaysNarrow = ["M", "T", "W", "T", "F", "S", "S"];
    function weekdays(length) {
      switch (length) {
        case "narrow":
          return [].concat(weekdaysNarrow);
        case "short":
          return [].concat(weekdaysShort);
        case "long":
          return [].concat(weekdaysLong);
        case "numeric":
          return ["1", "2", "3", "4", "5", "6", "7"];
        default:
          return null;
      }
    }
    var meridiems = ["AM", "PM"];
    var erasLong = ["Before Christ", "Anno Domini"];
    var erasShort = ["BC", "AD"];
    var erasNarrow = ["B", "A"];
    function eras(length) {
      switch (length) {
        case "narrow":
          return [].concat(erasNarrow);
        case "short":
          return [].concat(erasShort);
        case "long":
          return [].concat(erasLong);
        default:
          return null;
      }
    }
    function meridiemForDateTime(dt) {
      return meridiems[dt.hour < 12 ? 0 : 1];
    }
    function weekdayForDateTime(dt, length) {
      return weekdays(length)[dt.weekday - 1];
    }
    function monthForDateTime(dt, length) {
      return months(length)[dt.month - 1];
    }
    function eraForDateTime(dt, length) {
      return eras(length)[dt.year < 0 ? 0 : 1];
    }
    function formatRelativeTime(unit, count, numeric, narrow) {
      if (numeric === void 0) {
        numeric = "always";
      }
      if (narrow === void 0) {
        narrow = false;
      }
      var units = {
        years: ["year", "yr."],
        quarters: ["quarter", "qtr."],
        months: ["month", "mo."],
        weeks: ["week", "wk."],
        days: ["day", "day", "days"],
        hours: ["hour", "hr."],
        minutes: ["minute", "min."],
        seconds: ["second", "sec."]
      };
      var lastable = ["hours", "minutes", "seconds"].indexOf(unit) === -1;
      if (numeric === "auto" && lastable) {
        var isDay = unit === "days";
        switch (count) {
          case 1:
            return isDay ? "tomorrow" : "next " + units[unit][0];
          case -1:
            return isDay ? "yesterday" : "last " + units[unit][0];
          case 0:
            return isDay ? "today" : "this " + units[unit][0];
        }
      }
      var isInPast = Object.is(count, -0) || count < 0, fmtValue = Math.abs(count), singular = fmtValue === 1, lilUnits = units[unit], fmtUnit = narrow ? singular ? lilUnits[1] : lilUnits[2] || lilUnits[1] : singular ? units[unit][0] : unit;
      return isInPast ? fmtValue + " " + fmtUnit + " ago" : "in " + fmtValue + " " + fmtUnit;
    }
    function stringifyTokens(splits, tokenToString) {
      var s2 = "";
      for (var _iterator = _createForOfIteratorHelperLoose(splits), _step; !(_step = _iterator()).done; ) {
        var token = _step.value;
        if (token.literal) {
          s2 += token.val;
        } else {
          s2 += tokenToString(token.val);
        }
      }
      return s2;
    }
    var _macroTokenToFormatOpts = {
      D: DATE_SHORT,
      DD: DATE_MED,
      DDD: DATE_FULL,
      DDDD: DATE_HUGE,
      t: TIME_SIMPLE,
      tt: TIME_WITH_SECONDS,
      ttt: TIME_WITH_SHORT_OFFSET,
      tttt: TIME_WITH_LONG_OFFSET,
      T: TIME_24_SIMPLE,
      TT: TIME_24_WITH_SECONDS,
      TTT: TIME_24_WITH_SHORT_OFFSET,
      TTTT: TIME_24_WITH_LONG_OFFSET,
      f: DATETIME_SHORT,
      ff: DATETIME_MED,
      fff: DATETIME_FULL,
      ffff: DATETIME_HUGE,
      F: DATETIME_SHORT_WITH_SECONDS,
      FF: DATETIME_MED_WITH_SECONDS,
      FFF: DATETIME_FULL_WITH_SECONDS,
      FFFF: DATETIME_HUGE_WITH_SECONDS
    };
    var Formatter = /* @__PURE__ */ function() {
      Formatter2.create = function create(locale, opts) {
        if (opts === void 0) {
          opts = {};
        }
        return new Formatter2(locale, opts);
      };
      Formatter2.parseFormat = function parseFormat(fmt) {
        var current = null, currentFull = "", bracketed = false;
        var splits = [];
        for (var i = 0; i < fmt.length; i++) {
          var c = fmt.charAt(i);
          if (c === "'") {
            if (currentFull.length > 0) {
              splits.push({
                literal: bracketed,
                val: currentFull
              });
            }
            current = null;
            currentFull = "";
            bracketed = !bracketed;
          } else if (bracketed) {
            currentFull += c;
          } else if (c === current) {
            currentFull += c;
          } else {
            if (currentFull.length > 0) {
              splits.push({
                literal: false,
                val: currentFull
              });
            }
            currentFull = c;
            current = c;
          }
        }
        if (currentFull.length > 0) {
          splits.push({
            literal: bracketed,
            val: currentFull
          });
        }
        return splits;
      };
      Formatter2.macroTokenToFormatOpts = function macroTokenToFormatOpts(token) {
        return _macroTokenToFormatOpts[token];
      };
      function Formatter2(locale, formatOpts) {
        this.opts = formatOpts;
        this.loc = locale;
        this.systemLoc = null;
      }
      var _proto = Formatter2.prototype;
      _proto.formatWithSystemDefault = function formatWithSystemDefault(dt, opts) {
        if (this.systemLoc === null) {
          this.systemLoc = this.loc.redefaultToSystem();
        }
        var df = this.systemLoc.dtFormatter(dt, _extends({}, this.opts, opts));
        return df.format();
      };
      _proto.formatDateTime = function formatDateTime(dt, opts) {
        if (opts === void 0) {
          opts = {};
        }
        var df = this.loc.dtFormatter(dt, _extends({}, this.opts, opts));
        return df.format();
      };
      _proto.formatDateTimeParts = function formatDateTimeParts(dt, opts) {
        if (opts === void 0) {
          opts = {};
        }
        var df = this.loc.dtFormatter(dt, _extends({}, this.opts, opts));
        return df.formatToParts();
      };
      _proto.resolvedOptions = function resolvedOptions(dt, opts) {
        if (opts === void 0) {
          opts = {};
        }
        var df = this.loc.dtFormatter(dt, _extends({}, this.opts, opts));
        return df.resolvedOptions();
      };
      _proto.num = function num(n2, p) {
        if (p === void 0) {
          p = 0;
        }
        if (this.opts.forceSimple) {
          return padStart(n2, p);
        }
        var opts = _extends({}, this.opts);
        if (p > 0) {
          opts.padTo = p;
        }
        return this.loc.numberFormatter(opts).format(n2);
      };
      _proto.formatDateTimeFromString = function formatDateTimeFromString(dt, fmt) {
        var _this = this;
        var knownEnglish = this.loc.listingMode() === "en", useDateTimeFormatter = this.loc.outputCalendar && this.loc.outputCalendar !== "gregory", string = function string2(opts, extract) {
          return _this.loc.extract(dt, opts, extract);
        }, formatOffset2 = function formatOffset3(opts) {
          if (dt.isOffsetFixed && dt.offset === 0 && opts.allowZ) {
            return "Z";
          }
          return dt.isValid ? dt.zone.formatOffset(dt.ts, opts.format) : "";
        }, meridiem = function meridiem2() {
          return knownEnglish ? meridiemForDateTime(dt) : string({
            hour: "numeric",
            hourCycle: "h12"
          }, "dayperiod");
        }, month = function month2(length, standalone) {
          return knownEnglish ? monthForDateTime(dt, length) : string(standalone ? {
            month: length
          } : {
            month: length,
            day: "numeric"
          }, "month");
        }, weekday = function weekday2(length, standalone) {
          return knownEnglish ? weekdayForDateTime(dt, length) : string(standalone ? {
            weekday: length
          } : {
            weekday: length,
            month: "long",
            day: "numeric"
          }, "weekday");
        }, maybeMacro = function maybeMacro2(token) {
          var formatOpts = Formatter2.macroTokenToFormatOpts(token);
          if (formatOpts) {
            return _this.formatWithSystemDefault(dt, formatOpts);
          } else {
            return token;
          }
        }, era = function era2(length) {
          return knownEnglish ? eraForDateTime(dt, length) : string({
            era: length
          }, "era");
        }, tokenToString = function tokenToString2(token) {
          switch (token) {
            case "S":
              return _this.num(dt.millisecond);
            case "u":
            case "SSS":
              return _this.num(dt.millisecond, 3);
            case "s":
              return _this.num(dt.second);
            case "ss":
              return _this.num(dt.second, 2);
            case "uu":
              return _this.num(Math.floor(dt.millisecond / 10), 2);
            case "uuu":
              return _this.num(Math.floor(dt.millisecond / 100));
            case "m":
              return _this.num(dt.minute);
            case "mm":
              return _this.num(dt.minute, 2);
            case "h":
              return _this.num(dt.hour % 12 === 0 ? 12 : dt.hour % 12);
            case "hh":
              return _this.num(dt.hour % 12 === 0 ? 12 : dt.hour % 12, 2);
            case "H":
              return _this.num(dt.hour);
            case "HH":
              return _this.num(dt.hour, 2);
            case "Z":
              return formatOffset2({
                format: "narrow",
                allowZ: _this.opts.allowZ
              });
            case "ZZ":
              return formatOffset2({
                format: "short",
                allowZ: _this.opts.allowZ
              });
            case "ZZZ":
              return formatOffset2({
                format: "techie",
                allowZ: _this.opts.allowZ
              });
            case "ZZZZ":
              return dt.zone.offsetName(dt.ts, {
                format: "short",
                locale: _this.loc.locale
              });
            case "ZZZZZ":
              return dt.zone.offsetName(dt.ts, {
                format: "long",
                locale: _this.loc.locale
              });
            case "z":
              return dt.zoneName;
            case "a":
              return meridiem();
            case "d":
              return useDateTimeFormatter ? string({
                day: "numeric"
              }, "day") : _this.num(dt.day);
            case "dd":
              return useDateTimeFormatter ? string({
                day: "2-digit"
              }, "day") : _this.num(dt.day, 2);
            case "c":
              return _this.num(dt.weekday);
            case "ccc":
              return weekday("short", true);
            case "cccc":
              return weekday("long", true);
            case "ccccc":
              return weekday("narrow", true);
            case "E":
              return _this.num(dt.weekday);
            case "EEE":
              return weekday("short", false);
            case "EEEE":
              return weekday("long", false);
            case "EEEEE":
              return weekday("narrow", false);
            case "L":
              return useDateTimeFormatter ? string({
                month: "numeric",
                day: "numeric"
              }, "month") : _this.num(dt.month);
            case "LL":
              return useDateTimeFormatter ? string({
                month: "2-digit",
                day: "numeric"
              }, "month") : _this.num(dt.month, 2);
            case "LLL":
              return month("short", true);
            case "LLLL":
              return month("long", true);
            case "LLLLL":
              return month("narrow", true);
            case "M":
              return useDateTimeFormatter ? string({
                month: "numeric"
              }, "month") : _this.num(dt.month);
            case "MM":
              return useDateTimeFormatter ? string({
                month: "2-digit"
              }, "month") : _this.num(dt.month, 2);
            case "MMM":
              return month("short", false);
            case "MMMM":
              return month("long", false);
            case "MMMMM":
              return month("narrow", false);
            case "y":
              return useDateTimeFormatter ? string({
                year: "numeric"
              }, "year") : _this.num(dt.year);
            case "yy":
              return useDateTimeFormatter ? string({
                year: "2-digit"
              }, "year") : _this.num(dt.year.toString().slice(-2), 2);
            case "yyyy":
              return useDateTimeFormatter ? string({
                year: "numeric"
              }, "year") : _this.num(dt.year, 4);
            case "yyyyyy":
              return useDateTimeFormatter ? string({
                year: "numeric"
              }, "year") : _this.num(dt.year, 6);
            case "G":
              return era("short");
            case "GG":
              return era("long");
            case "GGGGG":
              return era("narrow");
            case "kk":
              return _this.num(dt.weekYear.toString().slice(-2), 2);
            case "kkkk":
              return _this.num(dt.weekYear, 4);
            case "W":
              return _this.num(dt.weekNumber);
            case "WW":
              return _this.num(dt.weekNumber, 2);
            case "o":
              return _this.num(dt.ordinal);
            case "ooo":
              return _this.num(dt.ordinal, 3);
            case "q":
              return _this.num(dt.quarter);
            case "qq":
              return _this.num(dt.quarter, 2);
            case "X":
              return _this.num(Math.floor(dt.ts / 1e3));
            case "x":
              return _this.num(dt.ts);
            default:
              return maybeMacro(token);
          }
        };
        return stringifyTokens(Formatter2.parseFormat(fmt), tokenToString);
      };
      _proto.formatDurationFromString = function formatDurationFromString(dur, fmt) {
        var _this2 = this;
        var tokenToField = function tokenToField2(token) {
          switch (token[0]) {
            case "S":
              return "millisecond";
            case "s":
              return "second";
            case "m":
              return "minute";
            case "h":
              return "hour";
            case "d":
              return "day";
            case "w":
              return "week";
            case "M":
              return "month";
            case "y":
              return "year";
            default:
              return null;
          }
        }, tokenToString = function tokenToString2(lildur) {
          return function(token) {
            var mapped = tokenToField(token);
            if (mapped) {
              return _this2.num(lildur.get(mapped), token.length);
            } else {
              return token;
            }
          };
        }, tokens = Formatter2.parseFormat(fmt), realTokens = tokens.reduce(function(found, _ref) {
          var literal = _ref.literal, val = _ref.val;
          return literal ? found : found.concat(val);
        }, []), collapsed = dur.shiftTo.apply(dur, realTokens.map(tokenToField).filter(function(t) {
          return t;
        }));
        return stringifyTokens(tokens, tokenToString(collapsed));
      };
      return Formatter2;
    }();
    var Invalid = /* @__PURE__ */ function() {
      function Invalid2(reason, explanation) {
        this.reason = reason;
        this.explanation = explanation;
      }
      var _proto = Invalid2.prototype;
      _proto.toMessage = function toMessage() {
        if (this.explanation) {
          return this.reason + ": " + this.explanation;
        } else {
          return this.reason;
        }
      };
      return Invalid2;
    }();
    var Zone = /* @__PURE__ */ function() {
      function Zone2() {
      }
      var _proto = Zone2.prototype;
      _proto.offsetName = function offsetName(ts, opts) {
        throw new ZoneIsAbstractError();
      };
      _proto.formatOffset = function formatOffset2(ts, format) {
        throw new ZoneIsAbstractError();
      };
      _proto.offset = function offset2(ts) {
        throw new ZoneIsAbstractError();
      };
      _proto.equals = function equals(otherZone) {
        throw new ZoneIsAbstractError();
      };
      _createClass(Zone2, [{
        key: "type",
        get: function get() {
          throw new ZoneIsAbstractError();
        }
      }, {
        key: "name",
        get: function get() {
          throw new ZoneIsAbstractError();
        }
      }, {
        key: "ianaName",
        get: function get() {
          return this.name;
        }
      }, {
        key: "isUniversal",
        get: function get() {
          throw new ZoneIsAbstractError();
        }
      }, {
        key: "isValid",
        get: function get() {
          throw new ZoneIsAbstractError();
        }
      }]);
      return Zone2;
    }();
    var singleton$1 = null;
    var SystemZone = /* @__PURE__ */ function(_Zone) {
      _inheritsLoose(SystemZone2, _Zone);
      function SystemZone2() {
        return _Zone.apply(this, arguments) || this;
      }
      var _proto = SystemZone2.prototype;
      _proto.offsetName = function offsetName(ts, _ref) {
        var format = _ref.format, locale = _ref.locale;
        return parseZoneInfo(ts, format, locale);
      };
      _proto.formatOffset = function formatOffset$1(ts, format) {
        return formatOffset(this.offset(ts), format);
      };
      _proto.offset = function offset2(ts) {
        return -new Date(ts).getTimezoneOffset();
      };
      _proto.equals = function equals(otherZone) {
        return otherZone.type === "system";
      };
      _createClass(SystemZone2, [{
        key: "type",
        get: function get() {
          return "system";
        }
      }, {
        key: "name",
        get: function get() {
          return new Intl.DateTimeFormat().resolvedOptions().timeZone;
        }
      }, {
        key: "isUniversal",
        get: function get() {
          return false;
        }
      }, {
        key: "isValid",
        get: function get() {
          return true;
        }
      }], [{
        key: "instance",
        get: function get() {
          if (singleton$1 === null) {
            singleton$1 = new SystemZone2();
          }
          return singleton$1;
        }
      }]);
      return SystemZone2;
    }(Zone);
    var dtfCache = {};
    function makeDTF(zone) {
      if (!dtfCache[zone]) {
        dtfCache[zone] = new Intl.DateTimeFormat("en-US", {
          hour12: false,
          timeZone: zone,
          year: "numeric",
          month: "2-digit",
          day: "2-digit",
          hour: "2-digit",
          minute: "2-digit",
          second: "2-digit",
          era: "short"
        });
      }
      return dtfCache[zone];
    }
    var typeToPos = {
      year: 0,
      month: 1,
      day: 2,
      era: 3,
      hour: 4,
      minute: 5,
      second: 6
    };
    function hackyOffset(dtf, date) {
      var formatted = dtf.format(date).replace(/\u200E/g, ""), parsed = /(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(formatted), fMonth = parsed[1], fDay = parsed[2], fYear = parsed[3], fadOrBc = parsed[4], fHour = parsed[5], fMinute = parsed[6], fSecond = parsed[7];
      return [fYear, fMonth, fDay, fadOrBc, fHour, fMinute, fSecond];
    }
    function partsOffset(dtf, date) {
      var formatted = dtf.formatToParts(date);
      var filled = [];
      for (var i = 0; i < formatted.length; i++) {
        var _formatted$i = formatted[i], type = _formatted$i.type, value = _formatted$i.value;
        var pos = typeToPos[type];
        if (type === "era") {
          filled[pos] = value;
        } else if (!isUndefined(pos)) {
          filled[pos] = parseInt(value, 10);
        }
      }
      return filled;
    }
    var ianaZoneCache = {};
    var IANAZone = /* @__PURE__ */ function(_Zone) {
      _inheritsLoose(IANAZone2, _Zone);
      IANAZone2.create = function create(name) {
        if (!ianaZoneCache[name]) {
          ianaZoneCache[name] = new IANAZone2(name);
        }
        return ianaZoneCache[name];
      };
      IANAZone2.resetCache = function resetCache() {
        ianaZoneCache = {};
        dtfCache = {};
      };
      IANAZone2.isValidSpecifier = function isValidSpecifier(s2) {
        return this.isValidZone(s2);
      };
      IANAZone2.isValidZone = function isValidZone(zone) {
        if (!zone) {
          return false;
        }
        try {
          new Intl.DateTimeFormat("en-US", {
            timeZone: zone
          }).format();
          return true;
        } catch (e) {
          return false;
        }
      };
      function IANAZone2(name) {
        var _this;
        _this = _Zone.call(this) || this;
        _this.zoneName = name;
        _this.valid = IANAZone2.isValidZone(name);
        return _this;
      }
      var _proto = IANAZone2.prototype;
      _proto.offsetName = function offsetName(ts, _ref) {
        var format = _ref.format, locale = _ref.locale;
        return parseZoneInfo(ts, format, locale, this.name);
      };
      _proto.formatOffset = function formatOffset$1(ts, format) {
        return formatOffset(this.offset(ts), format);
      };
      _proto.offset = function offset2(ts) {
        var date = new Date(ts);
        if (isNaN(date))
          return NaN;
        var dtf = makeDTF(this.name);
        var _ref2 = dtf.formatToParts ? partsOffset(dtf, date) : hackyOffset(dtf, date), year = _ref2[0], month = _ref2[1], day = _ref2[2], adOrBc = _ref2[3], hour = _ref2[4], minute = _ref2[5], second = _ref2[6];
        if (adOrBc === "BC") {
          year = -Math.abs(year) + 1;
        }
        var adjustedHour = hour === 24 ? 0 : hour;
        var asUTC = objToLocalTS({
          year,
          month,
          day,
          hour: adjustedHour,
          minute,
          second,
          millisecond: 0
        });
        var asTS = +date;
        var over = asTS % 1e3;
        asTS -= over >= 0 ? over : 1e3 + over;
        return (asUTC - asTS) / (60 * 1e3);
      };
      _proto.equals = function equals(otherZone) {
        return otherZone.type === "iana" && otherZone.name === this.name;
      };
      _createClass(IANAZone2, [{
        key: "type",
        get: function get() {
          return "iana";
        }
      }, {
        key: "name",
        get: function get() {
          return this.zoneName;
        }
      }, {
        key: "isUniversal",
        get: function get() {
          return false;
        }
      }, {
        key: "isValid",
        get: function get() {
          return this.valid;
        }
      }]);
      return IANAZone2;
    }(Zone);
    var singleton = null;
    var FixedOffsetZone = /* @__PURE__ */ function(_Zone) {
      _inheritsLoose(FixedOffsetZone2, _Zone);
      FixedOffsetZone2.instance = function instance6(offset2) {
        return offset2 === 0 ? FixedOffsetZone2.utcInstance : new FixedOffsetZone2(offset2);
      };
      FixedOffsetZone2.parseSpecifier = function parseSpecifier(s2) {
        if (s2) {
          var r = s2.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);
          if (r) {
            return new FixedOffsetZone2(signedOffset(r[1], r[2]));
          }
        }
        return null;
      };
      function FixedOffsetZone2(offset2) {
        var _this;
        _this = _Zone.call(this) || this;
        _this.fixed = offset2;
        return _this;
      }
      var _proto = FixedOffsetZone2.prototype;
      _proto.offsetName = function offsetName() {
        return this.name;
      };
      _proto.formatOffset = function formatOffset$1(ts, format) {
        return formatOffset(this.fixed, format);
      };
      _proto.offset = function offset2() {
        return this.fixed;
      };
      _proto.equals = function equals(otherZone) {
        return otherZone.type === "fixed" && otherZone.fixed === this.fixed;
      };
      _createClass(FixedOffsetZone2, [{
        key: "type",
        get: function get() {
          return "fixed";
        }
      }, {
        key: "name",
        get: function get() {
          return this.fixed === 0 ? "UTC" : "UTC" + formatOffset(this.fixed, "narrow");
        }
      }, {
        key: "ianaName",
        get: function get() {
          if (this.fixed === 0) {
            return "Etc/UTC";
          } else {
            return "Etc/GMT" + formatOffset(-this.fixed, "narrow");
          }
        }
      }, {
        key: "isUniversal",
        get: function get() {
          return true;
        }
      }, {
        key: "isValid",
        get: function get() {
          return true;
        }
      }], [{
        key: "utcInstance",
        get: function get() {
          if (singleton === null) {
            singleton = new FixedOffsetZone2(0);
          }
          return singleton;
        }
      }]);
      return FixedOffsetZone2;
    }(Zone);
    var InvalidZone = /* @__PURE__ */ function(_Zone) {
      _inheritsLoose(InvalidZone2, _Zone);
      function InvalidZone2(zoneName) {
        var _this;
        _this = _Zone.call(this) || this;
        _this.zoneName = zoneName;
        return _this;
      }
      var _proto = InvalidZone2.prototype;
      _proto.offsetName = function offsetName() {
        return null;
      };
      _proto.formatOffset = function formatOffset2() {
        return "";
      };
      _proto.offset = function offset2() {
        return NaN;
      };
      _proto.equals = function equals() {
        return false;
      };
      _createClass(InvalidZone2, [{
        key: "type",
        get: function get() {
          return "invalid";
        }
      }, {
        key: "name",
        get: function get() {
          return this.zoneName;
        }
      }, {
        key: "isUniversal",
        get: function get() {
          return false;
        }
      }, {
        key: "isValid",
        get: function get() {
          return false;
        }
      }]);
      return InvalidZone2;
    }(Zone);
    function normalizeZone(input, defaultZone2) {
      if (isUndefined(input) || input === null) {
        return defaultZone2;
      } else if (input instanceof Zone) {
        return input;
      } else if (isString(input)) {
        var lowered = input.toLowerCase();
        if (lowered === "local" || lowered === "system")
          return defaultZone2;
        else if (lowered === "utc" || lowered === "gmt")
          return FixedOffsetZone.utcInstance;
        else
          return FixedOffsetZone.parseSpecifier(lowered) || IANAZone.create(input);
      } else if (isNumber(input)) {
        return FixedOffsetZone.instance(input);
      } else if (typeof input === "object" && input.offset && typeof input.offset === "number") {
        return input;
      } else {
        return new InvalidZone(input);
      }
    }
    var now = function now2() {
      return Date.now();
    };
    var defaultZone = "system";
    var defaultLocale = null;
    var defaultNumberingSystem = null;
    var defaultOutputCalendar = null;
    var throwOnInvalid;
    var Settings = /* @__PURE__ */ function() {
      function Settings2() {
      }
      Settings2.resetCaches = function resetCaches() {
        Locale.resetCache();
        IANAZone.resetCache();
      };
      _createClass(Settings2, null, [{
        key: "now",
        get: function get() {
          return now;
        },
        set: function set(n2) {
          now = n2;
        }
      }, {
        key: "defaultZone",
        get: function get() {
          return normalizeZone(defaultZone, SystemZone.instance);
        },
        set: function set(zone) {
          defaultZone = zone;
        }
      }, {
        key: "defaultLocale",
        get: function get() {
          return defaultLocale;
        },
        set: function set(locale) {
          defaultLocale = locale;
        }
      }, {
        key: "defaultNumberingSystem",
        get: function get() {
          return defaultNumberingSystem;
        },
        set: function set(numberingSystem) {
          defaultNumberingSystem = numberingSystem;
        }
      }, {
        key: "defaultOutputCalendar",
        get: function get() {
          return defaultOutputCalendar;
        },
        set: function set(outputCalendar) {
          defaultOutputCalendar = outputCalendar;
        }
      }, {
        key: "throwOnInvalid",
        get: function get() {
          return throwOnInvalid;
        },
        set: function set(t) {
          throwOnInvalid = t;
        }
      }]);
      return Settings2;
    }();
    var _excluded = ["base"];
    var _excluded2 = ["padTo", "floor"];
    var intlLFCache = {};
    function getCachedLF(locString, opts) {
      if (opts === void 0) {
        opts = {};
      }
      var key = JSON.stringify([locString, opts]);
      var dtf = intlLFCache[key];
      if (!dtf) {
        dtf = new Intl.ListFormat(locString, opts);
        intlLFCache[key] = dtf;
      }
      return dtf;
    }
    var intlDTCache = {};
    function getCachedDTF(locString, opts) {
      if (opts === void 0) {
        opts = {};
      }
      var key = JSON.stringify([locString, opts]);
      var dtf = intlDTCache[key];
      if (!dtf) {
        dtf = new Intl.DateTimeFormat(locString, opts);
        intlDTCache[key] = dtf;
      }
      return dtf;
    }
    var intlNumCache = {};
    function getCachedINF(locString, opts) {
      if (opts === void 0) {
        opts = {};
      }
      var key = JSON.stringify([locString, opts]);
      var inf = intlNumCache[key];
      if (!inf) {
        inf = new Intl.NumberFormat(locString, opts);
        intlNumCache[key] = inf;
      }
      return inf;
    }
    var intlRelCache = {};
    function getCachedRTF(locString, opts) {
      if (opts === void 0) {
        opts = {};
      }
      var _opts = opts;
      _opts.base;
      var cacheKeyOpts = _objectWithoutPropertiesLoose(_opts, _excluded);
      var key = JSON.stringify([locString, cacheKeyOpts]);
      var inf = intlRelCache[key];
      if (!inf) {
        inf = new Intl.RelativeTimeFormat(locString, opts);
        intlRelCache[key] = inf;
      }
      return inf;
    }
    var sysLocaleCache = null;
    function systemLocale() {
      if (sysLocaleCache) {
        return sysLocaleCache;
      } else {
        sysLocaleCache = new Intl.DateTimeFormat().resolvedOptions().locale;
        return sysLocaleCache;
      }
    }
    function parseLocaleString(localeStr) {
      var uIndex = localeStr.indexOf("-u-");
      if (uIndex === -1) {
        return [localeStr];
      } else {
        var options;
        var smaller = localeStr.substring(0, uIndex);
        try {
          options = getCachedDTF(localeStr).resolvedOptions();
        } catch (e) {
          options = getCachedDTF(smaller).resolvedOptions();
        }
        var _options = options, numberingSystem = _options.numberingSystem, calendar = _options.calendar;
        return [smaller, numberingSystem, calendar];
      }
    }
    function intlConfigString(localeStr, numberingSystem, outputCalendar) {
      if (outputCalendar || numberingSystem) {
        localeStr += "-u";
        if (outputCalendar) {
          localeStr += "-ca-" + outputCalendar;
        }
        if (numberingSystem) {
          localeStr += "-nu-" + numberingSystem;
        }
        return localeStr;
      } else {
        return localeStr;
      }
    }
    function mapMonths(f) {
      var ms = [];
      for (var i = 1; i <= 12; i++) {
        var dt = DateTime.utc(2016, i, 1);
        ms.push(f(dt));
      }
      return ms;
    }
    function mapWeekdays(f) {
      var ms = [];
      for (var i = 1; i <= 7; i++) {
        var dt = DateTime.utc(2016, 11, 13 + i);
        ms.push(f(dt));
      }
      return ms;
    }
    function listStuff(loc, length, defaultOK, englishFn, intlFn) {
      var mode = loc.listingMode(defaultOK);
      if (mode === "error") {
        return null;
      } else if (mode === "en") {
        return englishFn(length);
      } else {
        return intlFn(length);
      }
    }
    function supportsFastNumbers(loc) {
      if (loc.numberingSystem && loc.numberingSystem !== "latn") {
        return false;
      } else {
        return loc.numberingSystem === "latn" || !loc.locale || loc.locale.startsWith("en") || new Intl.DateTimeFormat(loc.intl).resolvedOptions().numberingSystem === "latn";
      }
    }
    var PolyNumberFormatter = /* @__PURE__ */ function() {
      function PolyNumberFormatter2(intl, forceSimple, opts) {
        this.padTo = opts.padTo || 0;
        this.floor = opts.floor || false;
        opts.padTo;
        opts.floor;
        var otherOpts = _objectWithoutPropertiesLoose(opts, _excluded2);
        if (!forceSimple || Object.keys(otherOpts).length > 0) {
          var intlOpts = _extends({
            useGrouping: false
          }, opts);
          if (opts.padTo > 0)
            intlOpts.minimumIntegerDigits = opts.padTo;
          this.inf = getCachedINF(intl, intlOpts);
        }
      }
      var _proto = PolyNumberFormatter2.prototype;
      _proto.format = function format(i) {
        if (this.inf) {
          var fixed = this.floor ? Math.floor(i) : i;
          return this.inf.format(fixed);
        } else {
          var _fixed = this.floor ? Math.floor(i) : roundTo(i, 3);
          return padStart(_fixed, this.padTo);
        }
      };
      return PolyNumberFormatter2;
    }();
    var PolyDateFormatter = /* @__PURE__ */ function() {
      function PolyDateFormatter2(dt, intl, opts) {
        this.opts = opts;
        var z;
        if (dt.zone.isUniversal) {
          var gmtOffset = -1 * (dt.offset / 60);
          var offsetZ = gmtOffset >= 0 ? "Etc/GMT+" + gmtOffset : "Etc/GMT" + gmtOffset;
          if (dt.offset !== 0 && IANAZone.create(offsetZ).valid) {
            z = offsetZ;
            this.dt = dt;
          } else {
            z = "UTC";
            if (opts.timeZoneName) {
              this.dt = dt;
            } else {
              this.dt = dt.offset === 0 ? dt : DateTime.fromMillis(dt.ts + dt.offset * 60 * 1e3);
            }
          }
        } else if (dt.zone.type === "system") {
          this.dt = dt;
        } else {
          this.dt = dt;
          z = dt.zone.name;
        }
        var intlOpts = _extends({}, this.opts);
        if (z) {
          intlOpts.timeZone = z;
        }
        this.dtf = getCachedDTF(intl, intlOpts);
      }
      var _proto2 = PolyDateFormatter2.prototype;
      _proto2.format = function format() {
        return this.dtf.format(this.dt.toJSDate());
      };
      _proto2.formatToParts = function formatToParts() {
        return this.dtf.formatToParts(this.dt.toJSDate());
      };
      _proto2.resolvedOptions = function resolvedOptions() {
        return this.dtf.resolvedOptions();
      };
      return PolyDateFormatter2;
    }();
    var PolyRelFormatter = /* @__PURE__ */ function() {
      function PolyRelFormatter2(intl, isEnglish, opts) {
        this.opts = _extends({
          style: "long"
        }, opts);
        if (!isEnglish && hasRelative()) {
          this.rtf = getCachedRTF(intl, opts);
        }
      }
      var _proto3 = PolyRelFormatter2.prototype;
      _proto3.format = function format(count, unit) {
        if (this.rtf) {
          return this.rtf.format(count, unit);
        } else {
          return formatRelativeTime(unit, count, this.opts.numeric, this.opts.style !== "long");
        }
      };
      _proto3.formatToParts = function formatToParts(count, unit) {
        if (this.rtf) {
          return this.rtf.formatToParts(count, unit);
        } else {
          return [];
        }
      };
      return PolyRelFormatter2;
    }();
    var Locale = /* @__PURE__ */ function() {
      Locale2.fromOpts = function fromOpts(opts) {
        return Locale2.create(opts.locale, opts.numberingSystem, opts.outputCalendar, opts.defaultToEN);
      };
      Locale2.create = function create(locale, numberingSystem, outputCalendar, defaultToEN) {
        if (defaultToEN === void 0) {
          defaultToEN = false;
        }
        var specifiedLocale = locale || Settings.defaultLocale;
        var localeR = specifiedLocale || (defaultToEN ? "en-US" : systemLocale());
        var numberingSystemR = numberingSystem || Settings.defaultNumberingSystem;
        var outputCalendarR = outputCalendar || Settings.defaultOutputCalendar;
        return new Locale2(localeR, numberingSystemR, outputCalendarR, specifiedLocale);
      };
      Locale2.resetCache = function resetCache() {
        sysLocaleCache = null;
        intlDTCache = {};
        intlNumCache = {};
        intlRelCache = {};
      };
      Locale2.fromObject = function fromObject(_temp) {
        var _ref = _temp === void 0 ? {} : _temp, locale = _ref.locale, numberingSystem = _ref.numberingSystem, outputCalendar = _ref.outputCalendar;
        return Locale2.create(locale, numberingSystem, outputCalendar);
      };
      function Locale2(locale, numbering, outputCalendar, specifiedLocale) {
        var _parseLocaleString = parseLocaleString(locale), parsedLocale = _parseLocaleString[0], parsedNumberingSystem = _parseLocaleString[1], parsedOutputCalendar = _parseLocaleString[2];
        this.locale = parsedLocale;
        this.numberingSystem = numbering || parsedNumberingSystem || null;
        this.outputCalendar = outputCalendar || parsedOutputCalendar || null;
        this.intl = intlConfigString(this.locale, this.numberingSystem, this.outputCalendar);
        this.weekdaysCache = {
          format: {},
          standalone: {}
        };
        this.monthsCache = {
          format: {},
          standalone: {}
        };
        this.meridiemCache = null;
        this.eraCache = {};
        this.specifiedLocale = specifiedLocale;
        this.fastNumbersCached = null;
      }
      var _proto4 = Locale2.prototype;
      _proto4.listingMode = function listingMode() {
        var isActuallyEn = this.isEnglish();
        var hasNoWeirdness = (this.numberingSystem === null || this.numberingSystem === "latn") && (this.outputCalendar === null || this.outputCalendar === "gregory");
        return isActuallyEn && hasNoWeirdness ? "en" : "intl";
      };
      _proto4.clone = function clone2(alts) {
        if (!alts || Object.getOwnPropertyNames(alts).length === 0) {
          return this;
        } else {
          return Locale2.create(alts.locale || this.specifiedLocale, alts.numberingSystem || this.numberingSystem, alts.outputCalendar || this.outputCalendar, alts.defaultToEN || false);
        }
      };
      _proto4.redefaultToEN = function redefaultToEN(alts) {
        if (alts === void 0) {
          alts = {};
        }
        return this.clone(_extends({}, alts, {
          defaultToEN: true
        }));
      };
      _proto4.redefaultToSystem = function redefaultToSystem(alts) {
        if (alts === void 0) {
          alts = {};
        }
        return this.clone(_extends({}, alts, {
          defaultToEN: false
        }));
      };
      _proto4.months = function months$1(length, format, defaultOK) {
        var _this = this;
        if (format === void 0) {
          format = false;
        }
        if (defaultOK === void 0) {
          defaultOK = true;
        }
        return listStuff(this, length, defaultOK, months, function() {
          var intl = format ? {
            month: length,
            day: "numeric"
          } : {
            month: length
          }, formatStr = format ? "format" : "standalone";
          if (!_this.monthsCache[formatStr][length]) {
            _this.monthsCache[formatStr][length] = mapMonths(function(dt) {
              return _this.extract(dt, intl, "month");
            });
          }
          return _this.monthsCache[formatStr][length];
        });
      };
      _proto4.weekdays = function weekdays$1(length, format, defaultOK) {
        var _this2 = this;
        if (format === void 0) {
          format = false;
        }
        if (defaultOK === void 0) {
          defaultOK = true;
        }
        return listStuff(this, length, defaultOK, weekdays, function() {
          var intl = format ? {
            weekday: length,
            year: "numeric",
            month: "long",
            day: "numeric"
          } : {
            weekday: length
          }, formatStr = format ? "format" : "standalone";
          if (!_this2.weekdaysCache[formatStr][length]) {
            _this2.weekdaysCache[formatStr][length] = mapWeekdays(function(dt) {
              return _this2.extract(dt, intl, "weekday");
            });
          }
          return _this2.weekdaysCache[formatStr][length];
        });
      };
      _proto4.meridiems = function meridiems$1(defaultOK) {
        var _this3 = this;
        if (defaultOK === void 0) {
          defaultOK = true;
        }
        return listStuff(this, void 0, defaultOK, function() {
          return meridiems;
        }, function() {
          if (!_this3.meridiemCache) {
            var intl = {
              hour: "numeric",
              hourCycle: "h12"
            };
            _this3.meridiemCache = [DateTime.utc(2016, 11, 13, 9), DateTime.utc(2016, 11, 13, 19)].map(function(dt) {
              return _this3.extract(dt, intl, "dayperiod");
            });
          }
          return _this3.meridiemCache;
        });
      };
      _proto4.eras = function eras$1(length, defaultOK) {
        var _this4 = this;
        if (defaultOK === void 0) {
          defaultOK = true;
        }
        return listStuff(this, length, defaultOK, eras, function() {
          var intl = {
            era: length
          };
          if (!_this4.eraCache[length]) {
            _this4.eraCache[length] = [DateTime.utc(-40, 1, 1), DateTime.utc(2017, 1, 1)].map(function(dt) {
              return _this4.extract(dt, intl, "era");
            });
          }
          return _this4.eraCache[length];
        });
      };
      _proto4.extract = function extract(dt, intlOpts, field) {
        var df = this.dtFormatter(dt, intlOpts), results = df.formatToParts(), matching = results.find(function(m) {
          return m.type.toLowerCase() === field;
        });
        return matching ? matching.value : null;
      };
      _proto4.numberFormatter = function numberFormatter(opts) {
        if (opts === void 0) {
          opts = {};
        }
        return new PolyNumberFormatter(this.intl, opts.forceSimple || this.fastNumbers, opts);
      };
      _proto4.dtFormatter = function dtFormatter(dt, intlOpts) {
        if (intlOpts === void 0) {
          intlOpts = {};
        }
        return new PolyDateFormatter(dt, this.intl, intlOpts);
      };
      _proto4.relFormatter = function relFormatter(opts) {
        if (opts === void 0) {
          opts = {};
        }
        return new PolyRelFormatter(this.intl, this.isEnglish(), opts);
      };
      _proto4.listFormatter = function listFormatter(opts) {
        if (opts === void 0) {
          opts = {};
        }
        return getCachedLF(this.intl, opts);
      };
      _proto4.isEnglish = function isEnglish() {
        return this.locale === "en" || this.locale.toLowerCase() === "en-us" || new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us");
      };
      _proto4.equals = function equals(other) {
        return this.locale === other.locale && this.numberingSystem === other.numberingSystem && this.outputCalendar === other.outputCalendar;
      };
      _createClass(Locale2, [{
        key: "fastNumbers",
        get: function get() {
          if (this.fastNumbersCached == null) {
            this.fastNumbersCached = supportsFastNumbers(this);
          }
          return this.fastNumbersCached;
        }
      }]);
      return Locale2;
    }();
    function combineRegexes() {
      for (var _len = arguments.length, regexes = new Array(_len), _key = 0; _key < _len; _key++) {
        regexes[_key] = arguments[_key];
      }
      var full = regexes.reduce(function(f, r) {
        return f + r.source;
      }, "");
      return RegExp("^" + full + "$");
    }
    function combineExtractors() {
      for (var _len2 = arguments.length, extractors = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
        extractors[_key2] = arguments[_key2];
      }
      return function(m) {
        return extractors.reduce(function(_ref, ex) {
          var mergedVals = _ref[0], mergedZone = _ref[1], cursor = _ref[2];
          var _ex = ex(m, cursor), val = _ex[0], zone = _ex[1], next = _ex[2];
          return [_extends({}, mergedVals, val), zone || mergedZone, next];
        }, [{}, null, 1]).slice(0, 2);
      };
    }
    function parse(s2) {
      if (s2 == null) {
        return [null, null];
      }
      for (var _len3 = arguments.length, patterns = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {
        patterns[_key3 - 1] = arguments[_key3];
      }
      for (var _i = 0, _patterns = patterns; _i < _patterns.length; _i++) {
        var _patterns$_i = _patterns[_i], regex = _patterns$_i[0], extractor = _patterns$_i[1];
        var m = regex.exec(s2);
        if (m) {
          return extractor(m);
        }
      }
      return [null, null];
    }
    function simpleParse() {
      for (var _len4 = arguments.length, keys = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
        keys[_key4] = arguments[_key4];
      }
      return function(match2, cursor) {
        var ret = {};
        var i;
        for (i = 0; i < keys.length; i++) {
          ret[keys[i]] = parseInteger(match2[cursor + i]);
        }
        return [ret, null, cursor + i];
      };
    }
    var offsetRegex = /(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/;
    var isoExtendedZone = "(?:" + offsetRegex.source + "?(?:\\[(" + ianaRegex.source + ")\\])?)?";
    var isoTimeBaseRegex = /(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/;
    var isoTimeRegex = RegExp("" + isoTimeBaseRegex.source + isoExtendedZone);
    var isoTimeExtensionRegex = RegExp("(?:T" + isoTimeRegex.source + ")?");
    var isoYmdRegex = /([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/;
    var isoWeekRegex = /(\d{4})-?W(\d\d)(?:-?(\d))?/;
    var isoOrdinalRegex = /(\d{4})-?(\d{3})/;
    var extractISOWeekData = simpleParse("weekYear", "weekNumber", "weekDay");
    var extractISOOrdinalData = simpleParse("year", "ordinal");
    var sqlYmdRegex = /(\d{4})-(\d\d)-(\d\d)/;
    var sqlTimeRegex = RegExp(isoTimeBaseRegex.source + " ?(?:" + offsetRegex.source + "|(" + ianaRegex.source + "))?");
    var sqlTimeExtensionRegex = RegExp("(?: " + sqlTimeRegex.source + ")?");
    function int(match2, pos, fallback) {
      var m = match2[pos];
      return isUndefined(m) ? fallback : parseInteger(m);
    }
    function extractISOYmd(match2, cursor) {
      var item = {
        year: int(match2, cursor),
        month: int(match2, cursor + 1, 1),
        day: int(match2, cursor + 2, 1)
      };
      return [item, null, cursor + 3];
    }
    function extractISOTime(match2, cursor) {
      var item = {
        hours: int(match2, cursor, 0),
        minutes: int(match2, cursor + 1, 0),
        seconds: int(match2, cursor + 2, 0),
        milliseconds: parseMillis(match2[cursor + 3])
      };
      return [item, null, cursor + 4];
    }
    function extractISOOffset(match2, cursor) {
      var local = !match2[cursor] && !match2[cursor + 1], fullOffset = signedOffset(match2[cursor + 1], match2[cursor + 2]), zone = local ? null : FixedOffsetZone.instance(fullOffset);
      return [{}, zone, cursor + 3];
    }
    function extractIANAZone(match2, cursor) {
      var zone = match2[cursor] ? IANAZone.create(match2[cursor]) : null;
      return [{}, zone, cursor + 1];
    }
    var isoTimeOnly = RegExp("^T?" + isoTimeBaseRegex.source + "$");
    var isoDuration = /^-?P(?:(?:(-?\d{1,9}(?:\.\d{1,9})?)Y)?(?:(-?\d{1,9}(?:\.\d{1,9})?)M)?(?:(-?\d{1,9}(?:\.\d{1,9})?)W)?(?:(-?\d{1,9}(?:\.\d{1,9})?)D)?(?:T(?:(-?\d{1,9}(?:\.\d{1,9})?)H)?(?:(-?\d{1,9}(?:\.\d{1,9})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,9}))?S)?)?)$/;
    function extractISODuration(match2) {
      var s2 = match2[0], yearStr = match2[1], monthStr = match2[2], weekStr = match2[3], dayStr = match2[4], hourStr = match2[5], minuteStr = match2[6], secondStr = match2[7], millisecondsStr = match2[8];
      var hasNegativePrefix = s2[0] === "-";
      var negativeSeconds = secondStr && secondStr[0] === "-";
      var maybeNegate = function maybeNegate2(num, force) {
        if (force === void 0) {
          force = false;
        }
        return num !== void 0 && (force || num && hasNegativePrefix) ? -num : num;
      };
      return [{
        years: maybeNegate(parseFloating(yearStr)),
        months: maybeNegate(parseFloating(monthStr)),
        weeks: maybeNegate(parseFloating(weekStr)),
        days: maybeNegate(parseFloating(dayStr)),
        hours: maybeNegate(parseFloating(hourStr)),
        minutes: maybeNegate(parseFloating(minuteStr)),
        seconds: maybeNegate(parseFloating(secondStr), secondStr === "-0"),
        milliseconds: maybeNegate(parseMillis(millisecondsStr), negativeSeconds)
      }];
    }
    var obsOffsets = {
      GMT: 0,
      EDT: -4 * 60,
      EST: -5 * 60,
      CDT: -5 * 60,
      CST: -6 * 60,
      MDT: -6 * 60,
      MST: -7 * 60,
      PDT: -7 * 60,
      PST: -8 * 60
    };
    function fromStrings(weekdayStr, yearStr, monthStr, dayStr, hourStr, minuteStr, secondStr) {
      var result = {
        year: yearStr.length === 2 ? untruncateYear(parseInteger(yearStr)) : parseInteger(yearStr),
        month: monthsShort.indexOf(monthStr) + 1,
        day: parseInteger(dayStr),
        hour: parseInteger(hourStr),
        minute: parseInteger(minuteStr)
      };
      if (secondStr)
        result.second = parseInteger(secondStr);
      if (weekdayStr) {
        result.weekday = weekdayStr.length > 3 ? weekdaysLong.indexOf(weekdayStr) + 1 : weekdaysShort.indexOf(weekdayStr) + 1;
      }
      return result;
    }
    var rfc2822 = /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;
    function extractRFC2822(match2) {
      var weekdayStr = match2[1], dayStr = match2[2], monthStr = match2[3], yearStr = match2[4], hourStr = match2[5], minuteStr = match2[6], secondStr = match2[7], obsOffset = match2[8], milOffset = match2[9], offHourStr = match2[10], offMinuteStr = match2[11], result = fromStrings(weekdayStr, yearStr, monthStr, dayStr, hourStr, minuteStr, secondStr);
      var offset2;
      if (obsOffset) {
        offset2 = obsOffsets[obsOffset];
      } else if (milOffset) {
        offset2 = 0;
      } else {
        offset2 = signedOffset(offHourStr, offMinuteStr);
      }
      return [result, new FixedOffsetZone(offset2)];
    }
    function preprocessRFC2822(s2) {
      return s2.replace(/\([^)]*\)|[\n\t]/g, " ").replace(/(\s\s+)/g, " ").trim();
    }
    var rfc1123 = /^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/;
    var rfc850 = /^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/;
    var ascii = /^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;
    function extractRFC1123Or850(match2) {
      var weekdayStr = match2[1], dayStr = match2[2], monthStr = match2[3], yearStr = match2[4], hourStr = match2[5], minuteStr = match2[6], secondStr = match2[7], result = fromStrings(weekdayStr, yearStr, monthStr, dayStr, hourStr, minuteStr, secondStr);
      return [result, FixedOffsetZone.utcInstance];
    }
    function extractASCII(match2) {
      var weekdayStr = match2[1], monthStr = match2[2], dayStr = match2[3], hourStr = match2[4], minuteStr = match2[5], secondStr = match2[6], yearStr = match2[7], result = fromStrings(weekdayStr, yearStr, monthStr, dayStr, hourStr, minuteStr, secondStr);
      return [result, FixedOffsetZone.utcInstance];
    }
    var isoYmdWithTimeExtensionRegex = combineRegexes(isoYmdRegex, isoTimeExtensionRegex);
    var isoWeekWithTimeExtensionRegex = combineRegexes(isoWeekRegex, isoTimeExtensionRegex);
    var isoOrdinalWithTimeExtensionRegex = combineRegexes(isoOrdinalRegex, isoTimeExtensionRegex);
    var isoTimeCombinedRegex = combineRegexes(isoTimeRegex);
    var extractISOYmdTimeAndOffset = combineExtractors(extractISOYmd, extractISOTime, extractISOOffset, extractIANAZone);
    var extractISOWeekTimeAndOffset = combineExtractors(extractISOWeekData, extractISOTime, extractISOOffset, extractIANAZone);
    var extractISOOrdinalDateAndTime = combineExtractors(extractISOOrdinalData, extractISOTime, extractISOOffset, extractIANAZone);
    var extractISOTimeAndOffset = combineExtractors(extractISOTime, extractISOOffset, extractIANAZone);
    function parseISODate(s2) {
      return parse(s2, [isoYmdWithTimeExtensionRegex, extractISOYmdTimeAndOffset], [isoWeekWithTimeExtensionRegex, extractISOWeekTimeAndOffset], [isoOrdinalWithTimeExtensionRegex, extractISOOrdinalDateAndTime], [isoTimeCombinedRegex, extractISOTimeAndOffset]);
    }
    function parseRFC2822Date(s2) {
      return parse(preprocessRFC2822(s2), [rfc2822, extractRFC2822]);
    }
    function parseHTTPDate(s2) {
      return parse(s2, [rfc1123, extractRFC1123Or850], [rfc850, extractRFC1123Or850], [ascii, extractASCII]);
    }
    function parseISODuration(s2) {
      return parse(s2, [isoDuration, extractISODuration]);
    }
    var extractISOTimeOnly = combineExtractors(extractISOTime);
    function parseISOTimeOnly(s2) {
      return parse(s2, [isoTimeOnly, extractISOTimeOnly]);
    }
    var sqlYmdWithTimeExtensionRegex = combineRegexes(sqlYmdRegex, sqlTimeExtensionRegex);
    var sqlTimeCombinedRegex = combineRegexes(sqlTimeRegex);
    var extractISOTimeOffsetAndIANAZone = combineExtractors(extractISOTime, extractISOOffset, extractIANAZone);
    function parseSQL(s2) {
      return parse(s2, [sqlYmdWithTimeExtensionRegex, extractISOYmdTimeAndOffset], [sqlTimeCombinedRegex, extractISOTimeOffsetAndIANAZone]);
    }
    var INVALID$2 = "Invalid Duration";
    var lowOrderMatrix = {
      weeks: {
        days: 7,
        hours: 7 * 24,
        minutes: 7 * 24 * 60,
        seconds: 7 * 24 * 60 * 60,
        milliseconds: 7 * 24 * 60 * 60 * 1e3
      },
      days: {
        hours: 24,
        minutes: 24 * 60,
        seconds: 24 * 60 * 60,
        milliseconds: 24 * 60 * 60 * 1e3
      },
      hours: {
        minutes: 60,
        seconds: 60 * 60,
        milliseconds: 60 * 60 * 1e3
      },
      minutes: {
        seconds: 60,
        milliseconds: 60 * 1e3
      },
      seconds: {
        milliseconds: 1e3
      }
    };
    var casualMatrix = _extends({
      years: {
        quarters: 4,
        months: 12,
        weeks: 52,
        days: 365,
        hours: 365 * 24,
        minutes: 365 * 24 * 60,
        seconds: 365 * 24 * 60 * 60,
        milliseconds: 365 * 24 * 60 * 60 * 1e3
      },
      quarters: {
        months: 3,
        weeks: 13,
        days: 91,
        hours: 91 * 24,
        minutes: 91 * 24 * 60,
        seconds: 91 * 24 * 60 * 60,
        milliseconds: 91 * 24 * 60 * 60 * 1e3
      },
      months: {
        weeks: 4,
        days: 30,
        hours: 30 * 24,
        minutes: 30 * 24 * 60,
        seconds: 30 * 24 * 60 * 60,
        milliseconds: 30 * 24 * 60 * 60 * 1e3
      }
    }, lowOrderMatrix);
    var daysInYearAccurate = 146097 / 400;
    var daysInMonthAccurate = 146097 / 4800;
    var accurateMatrix = _extends({
      years: {
        quarters: 4,
        months: 12,
        weeks: daysInYearAccurate / 7,
        days: daysInYearAccurate,
        hours: daysInYearAccurate * 24,
        minutes: daysInYearAccurate * 24 * 60,
        seconds: daysInYearAccurate * 24 * 60 * 60,
        milliseconds: daysInYearAccurate * 24 * 60 * 60 * 1e3
      },
      quarters: {
        months: 3,
        weeks: daysInYearAccurate / 28,
        days: daysInYearAccurate / 4,
        hours: daysInYearAccurate * 24 / 4,
        minutes: daysInYearAccurate * 24 * 60 / 4,
        seconds: daysInYearAccurate * 24 * 60 * 60 / 4,
        milliseconds: daysInYearAccurate * 24 * 60 * 60 * 1e3 / 4
      },
      months: {
        weeks: daysInMonthAccurate / 7,
        days: daysInMonthAccurate,
        hours: daysInMonthAccurate * 24,
        minutes: daysInMonthAccurate * 24 * 60,
        seconds: daysInMonthAccurate * 24 * 60 * 60,
        milliseconds: daysInMonthAccurate * 24 * 60 * 60 * 1e3
      }
    }, lowOrderMatrix);
    var orderedUnits$1 = ["years", "quarters", "months", "weeks", "days", "hours", "minutes", "seconds", "milliseconds"];
    var reverseUnits = orderedUnits$1.slice(0).reverse();
    function clone$1(dur, alts, clear) {
      if (clear === void 0) {
        clear = false;
      }
      var conf = {
        values: clear ? alts.values : _extends({}, dur.values, alts.values || {}),
        loc: dur.loc.clone(alts.loc),
        conversionAccuracy: alts.conversionAccuracy || dur.conversionAccuracy
      };
      return new Duration(conf);
    }
    function antiTrunc(n2) {
      return n2 < 0 ? Math.floor(n2) : Math.ceil(n2);
    }
    function convert(matrix, fromMap, fromUnit, toMap, toUnit) {
      var conv = matrix[toUnit][fromUnit], raw = fromMap[fromUnit] / conv, sameSign = Math.sign(raw) === Math.sign(toMap[toUnit]), added = !sameSign && toMap[toUnit] !== 0 && Math.abs(raw) <= 1 ? antiTrunc(raw) : Math.trunc(raw);
      toMap[toUnit] += added;
      fromMap[fromUnit] -= added * conv;
    }
    function normalizeValues(matrix, vals) {
      reverseUnits.reduce(function(previous, current) {
        if (!isUndefined(vals[current])) {
          if (previous) {
            convert(matrix, vals, previous, vals, current);
          }
          return current;
        } else {
          return previous;
        }
      }, null);
    }
    var Duration = /* @__PURE__ */ function() {
      function Duration2(config) {
        var accurate = config.conversionAccuracy === "longterm" || false;
        this.values = config.values;
        this.loc = config.loc || Locale.create();
        this.conversionAccuracy = accurate ? "longterm" : "casual";
        this.invalid = config.invalid || null;
        this.matrix = accurate ? accurateMatrix : casualMatrix;
        this.isLuxonDuration = true;
      }
      Duration2.fromMillis = function fromMillis(count, opts) {
        return Duration2.fromObject({
          milliseconds: count
        }, opts);
      };
      Duration2.fromObject = function fromObject(obj, opts) {
        if (opts === void 0) {
          opts = {};
        }
        if (obj == null || typeof obj !== "object") {
          throw new InvalidArgumentError("Duration.fromObject: argument expected to be an object, got " + (obj === null ? "null" : typeof obj));
        }
        return new Duration2({
          values: normalizeObject(obj, Duration2.normalizeUnit),
          loc: Locale.fromObject(opts),
          conversionAccuracy: opts.conversionAccuracy
        });
      };
      Duration2.fromDurationLike = function fromDurationLike(durationLike) {
        if (isNumber(durationLike)) {
          return Duration2.fromMillis(durationLike);
        } else if (Duration2.isDuration(durationLike)) {
          return durationLike;
        } else if (typeof durationLike === "object") {
          return Duration2.fromObject(durationLike);
        } else {
          throw new InvalidArgumentError("Unknown duration argument " + durationLike + " of type " + typeof durationLike);
        }
      };
      Duration2.fromISO = function fromISO(text2, opts) {
        var _parseISODuration = parseISODuration(text2), parsed = _parseISODuration[0];
        if (parsed) {
          return Duration2.fromObject(parsed, opts);
        } else {
          return Duration2.invalid("unparsable", 'the input "' + text2 + `" can't be parsed as ISO 8601`);
        }
      };
      Duration2.fromISOTime = function fromISOTime(text2, opts) {
        var _parseISOTimeOnly = parseISOTimeOnly(text2), parsed = _parseISOTimeOnly[0];
        if (parsed) {
          return Duration2.fromObject(parsed, opts);
        } else {
          return Duration2.invalid("unparsable", 'the input "' + text2 + `" can't be parsed as ISO 8601`);
        }
      };
      Duration2.invalid = function invalid(reason, explanation) {
        if (explanation === void 0) {
          explanation = null;
        }
        if (!reason) {
          throw new InvalidArgumentError("need to specify a reason the Duration is invalid");
        }
        var invalid2 = reason instanceof Invalid ? reason : new Invalid(reason, explanation);
        if (Settings.throwOnInvalid) {
          throw new InvalidDurationError(invalid2);
        } else {
          return new Duration2({
            invalid: invalid2
          });
        }
      };
      Duration2.normalizeUnit = function normalizeUnit2(unit) {
        var normalized = {
          year: "years",
          years: "years",
          quarter: "quarters",
          quarters: "quarters",
          month: "months",
          months: "months",
          week: "weeks",
          weeks: "weeks",
          day: "days",
          days: "days",
          hour: "hours",
          hours: "hours",
          minute: "minutes",
          minutes: "minutes",
          second: "seconds",
          seconds: "seconds",
          millisecond: "milliseconds",
          milliseconds: "milliseconds"
        }[unit ? unit.toLowerCase() : unit];
        if (!normalized)
          throw new InvalidUnitError(unit);
        return normalized;
      };
      Duration2.isDuration = function isDuration(o) {
        return o && o.isLuxonDuration || false;
      };
      var _proto = Duration2.prototype;
      _proto.toFormat = function toFormat(fmt, opts) {
        if (opts === void 0) {
          opts = {};
        }
        var fmtOpts = _extends({}, opts, {
          floor: opts.round !== false && opts.floor !== false
        });
        return this.isValid ? Formatter.create(this.loc, fmtOpts).formatDurationFromString(this, fmt) : INVALID$2;
      };
      _proto.toHuman = function toHuman(opts) {
        var _this = this;
        if (opts === void 0) {
          opts = {};
        }
        var l2 = orderedUnits$1.map(function(unit) {
          var val = _this.values[unit];
          if (isUndefined(val)) {
            return null;
          }
          return _this.loc.numberFormatter(_extends({
            style: "unit",
            unitDisplay: "long"
          }, opts, {
            unit: unit.slice(0, -1)
          })).format(val);
        }).filter(function(n2) {
          return n2;
        });
        return this.loc.listFormatter(_extends({
          type: "conjunction",
          style: opts.listStyle || "narrow"
        }, opts)).format(l2);
      };
      _proto.toObject = function toObject() {
        if (!this.isValid)
          return {};
        return _extends({}, this.values);
      };
      _proto.toISO = function toISO() {
        if (!this.isValid)
          return null;
        var s2 = "P";
        if (this.years !== 0)
          s2 += this.years + "Y";
        if (this.months !== 0 || this.quarters !== 0)
          s2 += this.months + this.quarters * 3 + "M";
        if (this.weeks !== 0)
          s2 += this.weeks + "W";
        if (this.days !== 0)
          s2 += this.days + "D";
        if (this.hours !== 0 || this.minutes !== 0 || this.seconds !== 0 || this.milliseconds !== 0)
          s2 += "T";
        if (this.hours !== 0)
          s2 += this.hours + "H";
        if (this.minutes !== 0)
          s2 += this.minutes + "M";
        if (this.seconds !== 0 || this.milliseconds !== 0)
          s2 += roundTo(this.seconds + this.milliseconds / 1e3, 3) + "S";
        if (s2 === "P")
          s2 += "T0S";
        return s2;
      };
      _proto.toISOTime = function toISOTime(opts) {
        if (opts === void 0) {
          opts = {};
        }
        if (!this.isValid)
          return null;
        var millis = this.toMillis();
        if (millis < 0 || millis >= 864e5)
          return null;
        opts = _extends({
          suppressMilliseconds: false,
          suppressSeconds: false,
          includePrefix: false,
          format: "extended"
        }, opts);
        var value = this.shiftTo("hours", "minutes", "seconds", "milliseconds");
        var fmt = opts.format === "basic" ? "hhmm" : "hh:mm";
        if (!opts.suppressSeconds || value.seconds !== 0 || value.milliseconds !== 0) {
          fmt += opts.format === "basic" ? "ss" : ":ss";
          if (!opts.suppressMilliseconds || value.milliseconds !== 0) {
            fmt += ".SSS";
          }
        }
        var str = value.toFormat(fmt);
        if (opts.includePrefix) {
          str = "T" + str;
        }
        return str;
      };
      _proto.toJSON = function toJSON() {
        return this.toISO();
      };
      _proto.toString = function toString() {
        return this.toISO();
      };
      _proto.toMillis = function toMillis() {
        return this.as("milliseconds");
      };
      _proto.valueOf = function valueOf() {
        return this.toMillis();
      };
      _proto.plus = function plus(duration) {
        if (!this.isValid)
          return this;
        var dur = Duration2.fromDurationLike(duration), result = {};
        for (var _iterator = _createForOfIteratorHelperLoose(orderedUnits$1), _step; !(_step = _iterator()).done; ) {
          var k = _step.value;
          if (hasOwnProperty(dur.values, k) || hasOwnProperty(this.values, k)) {
            result[k] = dur.get(k) + this.get(k);
          }
        }
        return clone$1(this, {
          values: result
        }, true);
      };
      _proto.minus = function minus(duration) {
        if (!this.isValid)
          return this;
        var dur = Duration2.fromDurationLike(duration);
        return this.plus(dur.negate());
      };
      _proto.mapUnits = function mapUnits(fn) {
        if (!this.isValid)
          return this;
        var result = {};
        for (var _i = 0, _Object$keys = Object.keys(this.values); _i < _Object$keys.length; _i++) {
          var k = _Object$keys[_i];
          result[k] = asNumber(fn(this.values[k], k));
        }
        return clone$1(this, {
          values: result
        }, true);
      };
      _proto.get = function get(unit) {
        return this[Duration2.normalizeUnit(unit)];
      };
      _proto.set = function set(values) {
        if (!this.isValid)
          return this;
        var mixed = _extends({}, this.values, normalizeObject(values, Duration2.normalizeUnit));
        return clone$1(this, {
          values: mixed
        });
      };
      _proto.reconfigure = function reconfigure(_temp) {
        var _ref = _temp === void 0 ? {} : _temp, locale = _ref.locale, numberingSystem = _ref.numberingSystem, conversionAccuracy = _ref.conversionAccuracy;
        var loc = this.loc.clone({
          locale,
          numberingSystem
        }), opts = {
          loc
        };
        if (conversionAccuracy) {
          opts.conversionAccuracy = conversionAccuracy;
        }
        return clone$1(this, opts);
      };
      _proto.as = function as(unit) {
        return this.isValid ? this.shiftTo(unit).get(unit) : NaN;
      };
      _proto.normalize = function normalize() {
        if (!this.isValid)
          return this;
        var vals = this.toObject();
        normalizeValues(this.matrix, vals);
        return clone$1(this, {
          values: vals
        }, true);
      };
      _proto.shiftTo = function shiftTo() {
        for (var _len = arguments.length, units = new Array(_len), _key = 0; _key < _len; _key++) {
          units[_key] = arguments[_key];
        }
        if (!this.isValid)
          return this;
        if (units.length === 0) {
          return this;
        }
        units = units.map(function(u) {
          return Duration2.normalizeUnit(u);
        });
        var built = {}, accumulated = {}, vals = this.toObject();
        var lastUnit;
        for (var _iterator2 = _createForOfIteratorHelperLoose(orderedUnits$1), _step2; !(_step2 = _iterator2()).done; ) {
          var k = _step2.value;
          if (units.indexOf(k) >= 0) {
            lastUnit = k;
            var own = 0;
            for (var ak in accumulated) {
              own += this.matrix[ak][k] * accumulated[ak];
              accumulated[ak] = 0;
            }
            if (isNumber(vals[k])) {
              own += vals[k];
            }
            var i = Math.trunc(own);
            built[k] = i;
            accumulated[k] = (own * 1e3 - i * 1e3) / 1e3;
            for (var down in vals) {
              if (orderedUnits$1.indexOf(down) > orderedUnits$1.indexOf(k)) {
                convert(this.matrix, vals, down, built, k);
              }
            }
          } else if (isNumber(vals[k])) {
            accumulated[k] = vals[k];
          }
        }
        for (var key in accumulated) {
          if (accumulated[key] !== 0) {
            built[lastUnit] += key === lastUnit ? accumulated[key] : accumulated[key] / this.matrix[lastUnit][key];
          }
        }
        return clone$1(this, {
          values: built
        }, true).normalize();
      };
      _proto.negate = function negate() {
        if (!this.isValid)
          return this;
        var negated = {};
        for (var _i2 = 0, _Object$keys2 = Object.keys(this.values); _i2 < _Object$keys2.length; _i2++) {
          var k = _Object$keys2[_i2];
          negated[k] = this.values[k] === 0 ? 0 : -this.values[k];
        }
        return clone$1(this, {
          values: negated
        }, true);
      };
      _proto.equals = function equals(other) {
        if (!this.isValid || !other.isValid) {
          return false;
        }
        if (!this.loc.equals(other.loc)) {
          return false;
        }
        function eq(v1, v2) {
          if (v1 === void 0 || v1 === 0)
            return v2 === void 0 || v2 === 0;
          return v1 === v2;
        }
        for (var _iterator3 = _createForOfIteratorHelperLoose(orderedUnits$1), _step3; !(_step3 = _iterator3()).done; ) {
          var u = _step3.value;
          if (!eq(this.values[u], other.values[u])) {
            return false;
          }
        }
        return true;
      };
      _createClass(Duration2, [{
        key: "locale",
        get: function get() {
          return this.isValid ? this.loc.locale : null;
        }
      }, {
        key: "numberingSystem",
        get: function get() {
          return this.isValid ? this.loc.numberingSystem : null;
        }
      }, {
        key: "years",
        get: function get() {
          return this.isValid ? this.values.years || 0 : NaN;
        }
      }, {
        key: "quarters",
        get: function get() {
          return this.isValid ? this.values.quarters || 0 : NaN;
        }
      }, {
        key: "months",
        get: function get() {
          return this.isValid ? this.values.months || 0 : NaN;
        }
      }, {
        key: "weeks",
        get: function get() {
          return this.isValid ? this.values.weeks || 0 : NaN;
        }
      }, {
        key: "days",
        get: function get() {
          return this.isValid ? this.values.days || 0 : NaN;
        }
      }, {
        key: "hours",
        get: function get() {
          return this.isValid ? this.values.hours || 0 : NaN;
        }
      }, {
        key: "minutes",
        get: function get() {
          return this.isValid ? this.values.minutes || 0 : NaN;
        }
      }, {
        key: "seconds",
        get: function get() {
          return this.isValid ? this.values.seconds || 0 : NaN;
        }
      }, {
        key: "milliseconds",
        get: function get() {
          return this.isValid ? this.values.milliseconds || 0 : NaN;
        }
      }, {
        key: "isValid",
        get: function get() {
          return this.invalid === null;
        }
      }, {
        key: "invalidReason",
        get: function get() {
          return this.invalid ? this.invalid.reason : null;
        }
      }, {
        key: "invalidExplanation",
        get: function get() {
          return this.invalid ? this.invalid.explanation : null;
        }
      }]);
      return Duration2;
    }();
    var INVALID$1 = "Invalid Interval";
    function validateStartEnd(start, end) {
      if (!start || !start.isValid) {
        return Interval.invalid("missing or invalid start");
      } else if (!end || !end.isValid) {
        return Interval.invalid("missing or invalid end");
      } else if (end < start) {
        return Interval.invalid("end before start", "The end of an interval must be after its start, but you had start=" + start.toISO() + " and end=" + end.toISO());
      } else {
        return null;
      }
    }
    var Interval = /* @__PURE__ */ function() {
      function Interval2(config) {
        this.s = config.start;
        this.e = config.end;
        this.invalid = config.invalid || null;
        this.isLuxonInterval = true;
      }
      Interval2.invalid = function invalid(reason, explanation) {
        if (explanation === void 0) {
          explanation = null;
        }
        if (!reason) {
          throw new InvalidArgumentError("need to specify a reason the Interval is invalid");
        }
        var invalid2 = reason instanceof Invalid ? reason : new Invalid(reason, explanation);
        if (Settings.throwOnInvalid) {
          throw new InvalidIntervalError(invalid2);
        } else {
          return new Interval2({
            invalid: invalid2
          });
        }
      };
      Interval2.fromDateTimes = function fromDateTimes(start, end) {
        var builtStart = friendlyDateTime(start), builtEnd = friendlyDateTime(end);
        var validateError = validateStartEnd(builtStart, builtEnd);
        if (validateError == null) {
          return new Interval2({
            start: builtStart,
            end: builtEnd
          });
        } else {
          return validateError;
        }
      };
      Interval2.after = function after(start, duration) {
        var dur = Duration.fromDurationLike(duration), dt = friendlyDateTime(start);
        return Interval2.fromDateTimes(dt, dt.plus(dur));
      };
      Interval2.before = function before(end, duration) {
        var dur = Duration.fromDurationLike(duration), dt = friendlyDateTime(end);
        return Interval2.fromDateTimes(dt.minus(dur), dt);
      };
      Interval2.fromISO = function fromISO(text2, opts) {
        var _split = (text2 || "").split("/", 2), s2 = _split[0], e = _split[1];
        if (s2 && e) {
          var start, startIsValid;
          try {
            start = DateTime.fromISO(s2, opts);
            startIsValid = start.isValid;
          } catch (e2) {
            startIsValid = false;
          }
          var end, endIsValid;
          try {
            end = DateTime.fromISO(e, opts);
            endIsValid = end.isValid;
          } catch (e2) {
            endIsValid = false;
          }
          if (startIsValid && endIsValid) {
            return Interval2.fromDateTimes(start, end);
          }
          if (startIsValid) {
            var dur = Duration.fromISO(e, opts);
            if (dur.isValid) {
              return Interval2.after(start, dur);
            }
          } else if (endIsValid) {
            var _dur = Duration.fromISO(s2, opts);
            if (_dur.isValid) {
              return Interval2.before(end, _dur);
            }
          }
        }
        return Interval2.invalid("unparsable", 'the input "' + text2 + `" can't be parsed as ISO 8601`);
      };
      Interval2.isInterval = function isInterval(o) {
        return o && o.isLuxonInterval || false;
      };
      var _proto = Interval2.prototype;
      _proto.length = function length(unit) {
        if (unit === void 0) {
          unit = "milliseconds";
        }
        return this.isValid ? this.toDuration.apply(this, [unit]).get(unit) : NaN;
      };
      _proto.count = function count(unit) {
        if (unit === void 0) {
          unit = "milliseconds";
        }
        if (!this.isValid)
          return NaN;
        var start = this.start.startOf(unit), end = this.end.startOf(unit);
        return Math.floor(end.diff(start, unit).get(unit)) + 1;
      };
      _proto.hasSame = function hasSame(unit) {
        return this.isValid ? this.isEmpty() || this.e.minus(1).hasSame(this.s, unit) : false;
      };
      _proto.isEmpty = function isEmpty() {
        return this.s.valueOf() === this.e.valueOf();
      };
      _proto.isAfter = function isAfter(dateTime) {
        if (!this.isValid)
          return false;
        return this.s > dateTime;
      };
      _proto.isBefore = function isBefore(dateTime) {
        if (!this.isValid)
          return false;
        return this.e <= dateTime;
      };
      _proto.contains = function contains(dateTime) {
        if (!this.isValid)
          return false;
        return this.s <= dateTime && this.e > dateTime;
      };
      _proto.set = function set(_temp) {
        var _ref = _temp === void 0 ? {} : _temp, start = _ref.start, end = _ref.end;
        if (!this.isValid)
          return this;
        return Interval2.fromDateTimes(start || this.s, end || this.e);
      };
      _proto.splitAt = function splitAt() {
        var _this = this;
        if (!this.isValid)
          return [];
        for (var _len = arguments.length, dateTimes = new Array(_len), _key = 0; _key < _len; _key++) {
          dateTimes[_key] = arguments[_key];
        }
        var sorted = dateTimes.map(friendlyDateTime).filter(function(d) {
          return _this.contains(d);
        }).sort(), results = [];
        var s2 = this.s, i = 0;
        while (s2 < this.e) {
          var added = sorted[i] || this.e, next = +added > +this.e ? this.e : added;
          results.push(Interval2.fromDateTimes(s2, next));
          s2 = next;
          i += 1;
        }
        return results;
      };
      _proto.splitBy = function splitBy(duration) {
        var dur = Duration.fromDurationLike(duration);
        if (!this.isValid || !dur.isValid || dur.as("milliseconds") === 0) {
          return [];
        }
        var s2 = this.s, idx = 1, next;
        var results = [];
        while (s2 < this.e) {
          var added = this.start.plus(dur.mapUnits(function(x) {
            return x * idx;
          }));
          next = +added > +this.e ? this.e : added;
          results.push(Interval2.fromDateTimes(s2, next));
          s2 = next;
          idx += 1;
        }
        return results;
      };
      _proto.divideEqually = function divideEqually(numberOfParts) {
        if (!this.isValid)
          return [];
        return this.splitBy(this.length() / numberOfParts).slice(0, numberOfParts);
      };
      _proto.overlaps = function overlaps(other) {
        return this.e > other.s && this.s < other.e;
      };
      _proto.abutsStart = function abutsStart(other) {
        if (!this.isValid)
          return false;
        return +this.e === +other.s;
      };
      _proto.abutsEnd = function abutsEnd(other) {
        if (!this.isValid)
          return false;
        return +other.e === +this.s;
      };
      _proto.engulfs = function engulfs(other) {
        if (!this.isValid)
          return false;
        return this.s <= other.s && this.e >= other.e;
      };
      _proto.equals = function equals(other) {
        if (!this.isValid || !other.isValid) {
          return false;
        }
        return this.s.equals(other.s) && this.e.equals(other.e);
      };
      _proto.intersection = function intersection(other) {
        if (!this.isValid)
          return this;
        var s2 = this.s > other.s ? this.s : other.s, e = this.e < other.e ? this.e : other.e;
        if (s2 >= e) {
          return null;
        } else {
          return Interval2.fromDateTimes(s2, e);
        }
      };
      _proto.union = function union(other) {
        if (!this.isValid)
          return this;
        var s2 = this.s < other.s ? this.s : other.s, e = this.e > other.e ? this.e : other.e;
        return Interval2.fromDateTimes(s2, e);
      };
      Interval2.merge = function merge(intervals) {
        var _intervals$sort$reduc = intervals.sort(function(a, b) {
          return a.s - b.s;
        }).reduce(function(_ref2, item) {
          var sofar = _ref2[0], current = _ref2[1];
          if (!current) {
            return [sofar, item];
          } else if (current.overlaps(item) || current.abutsStart(item)) {
            return [sofar, current.union(item)];
          } else {
            return [sofar.concat([current]), item];
          }
        }, [[], null]), found = _intervals$sort$reduc[0], final = _intervals$sort$reduc[1];
        if (final) {
          found.push(final);
        }
        return found;
      };
      Interval2.xor = function xor(intervals) {
        var _Array$prototype;
        var start = null, currentCount = 0;
        var results = [], ends = intervals.map(function(i2) {
          return [{
            time: i2.s,
            type: "s"
          }, {
            time: i2.e,
            type: "e"
          }];
        }), flattened = (_Array$prototype = Array.prototype).concat.apply(_Array$prototype, ends), arr = flattened.sort(function(a, b) {
          return a.time - b.time;
        });
        for (var _iterator = _createForOfIteratorHelperLoose(arr), _step; !(_step = _iterator()).done; ) {
          var i = _step.value;
          currentCount += i.type === "s" ? 1 : -1;
          if (currentCount === 1) {
            start = i.time;
          } else {
            if (start && +start !== +i.time) {
              results.push(Interval2.fromDateTimes(start, i.time));
            }
            start = null;
          }
        }
        return Interval2.merge(results);
      };
      _proto.difference = function difference() {
        var _this2 = this;
        for (var _len2 = arguments.length, intervals = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
          intervals[_key2] = arguments[_key2];
        }
        return Interval2.xor([this].concat(intervals)).map(function(i) {
          return _this2.intersection(i);
        }).filter(function(i) {
          return i && !i.isEmpty();
        });
      };
      _proto.toString = function toString() {
        if (!this.isValid)
          return INVALID$1;
        return "[" + this.s.toISO() + " \u2013 " + this.e.toISO() + ")";
      };
      _proto.toISO = function toISO(opts) {
        if (!this.isValid)
          return INVALID$1;
        return this.s.toISO(opts) + "/" + this.e.toISO(opts);
      };
      _proto.toISODate = function toISODate() {
        if (!this.isValid)
          return INVALID$1;
        return this.s.toISODate() + "/" + this.e.toISODate();
      };
      _proto.toISOTime = function toISOTime(opts) {
        if (!this.isValid)
          return INVALID$1;
        return this.s.toISOTime(opts) + "/" + this.e.toISOTime(opts);
      };
      _proto.toFormat = function toFormat(dateFormat, _temp2) {
        var _ref3 = _temp2 === void 0 ? {} : _temp2, _ref3$separator = _ref3.separator, separator = _ref3$separator === void 0 ? " \u2013 " : _ref3$separator;
        if (!this.isValid)
          return INVALID$1;
        return "" + this.s.toFormat(dateFormat) + separator + this.e.toFormat(dateFormat);
      };
      _proto.toDuration = function toDuration(unit, opts) {
        if (!this.isValid) {
          return Duration.invalid(this.invalidReason);
        }
        return this.e.diff(this.s, unit, opts);
      };
      _proto.mapEndpoints = function mapEndpoints(mapFn) {
        return Interval2.fromDateTimes(mapFn(this.s), mapFn(this.e));
      };
      _createClass(Interval2, [{
        key: "start",
        get: function get() {
          return this.isValid ? this.s : null;
        }
      }, {
        key: "end",
        get: function get() {
          return this.isValid ? this.e : null;
        }
      }, {
        key: "isValid",
        get: function get() {
          return this.invalidReason === null;
        }
      }, {
        key: "invalidReason",
        get: function get() {
          return this.invalid ? this.invalid.reason : null;
        }
      }, {
        key: "invalidExplanation",
        get: function get() {
          return this.invalid ? this.invalid.explanation : null;
        }
      }]);
      return Interval2;
    }();
    var Info = /* @__PURE__ */ function() {
      function Info2() {
      }
      Info2.hasDST = function hasDST(zone) {
        if (zone === void 0) {
          zone = Settings.defaultZone;
        }
        var proto = DateTime.now().setZone(zone).set({
          month: 12
        });
        return !zone.isUniversal && proto.offset !== proto.set({
          month: 6
        }).offset;
      };
      Info2.isValidIANAZone = function isValidIANAZone(zone) {
        return IANAZone.isValidZone(zone);
      };
      Info2.normalizeZone = function normalizeZone$1(input) {
        return normalizeZone(input, Settings.defaultZone);
      };
      Info2.months = function months2(length, _temp) {
        if (length === void 0) {
          length = "long";
        }
        var _ref = _temp === void 0 ? {} : _temp, _ref$locale = _ref.locale, locale = _ref$locale === void 0 ? null : _ref$locale, _ref$numberingSystem = _ref.numberingSystem, numberingSystem = _ref$numberingSystem === void 0 ? null : _ref$numberingSystem, _ref$locObj = _ref.locObj, locObj = _ref$locObj === void 0 ? null : _ref$locObj, _ref$outputCalendar = _ref.outputCalendar, outputCalendar = _ref$outputCalendar === void 0 ? "gregory" : _ref$outputCalendar;
        return (locObj || Locale.create(locale, numberingSystem, outputCalendar)).months(length);
      };
      Info2.monthsFormat = function monthsFormat(length, _temp2) {
        if (length === void 0) {
          length = "long";
        }
        var _ref2 = _temp2 === void 0 ? {} : _temp2, _ref2$locale = _ref2.locale, locale = _ref2$locale === void 0 ? null : _ref2$locale, _ref2$numberingSystem = _ref2.numberingSystem, numberingSystem = _ref2$numberingSystem === void 0 ? null : _ref2$numberingSystem, _ref2$locObj = _ref2.locObj, locObj = _ref2$locObj === void 0 ? null : _ref2$locObj, _ref2$outputCalendar = _ref2.outputCalendar, outputCalendar = _ref2$outputCalendar === void 0 ? "gregory" : _ref2$outputCalendar;
        return (locObj || Locale.create(locale, numberingSystem, outputCalendar)).months(length, true);
      };
      Info2.weekdays = function weekdays2(length, _temp3) {
        if (length === void 0) {
          length = "long";
        }
        var _ref3 = _temp3 === void 0 ? {} : _temp3, _ref3$locale = _ref3.locale, locale = _ref3$locale === void 0 ? null : _ref3$locale, _ref3$numberingSystem = _ref3.numberingSystem, numberingSystem = _ref3$numberingSystem === void 0 ? null : _ref3$numberingSystem, _ref3$locObj = _ref3.locObj, locObj = _ref3$locObj === void 0 ? null : _ref3$locObj;
        return (locObj || Locale.create(locale, numberingSystem, null)).weekdays(length);
      };
      Info2.weekdaysFormat = function weekdaysFormat(length, _temp4) {
        if (length === void 0) {
          length = "long";
        }
        var _ref4 = _temp4 === void 0 ? {} : _temp4, _ref4$locale = _ref4.locale, locale = _ref4$locale === void 0 ? null : _ref4$locale, _ref4$numberingSystem = _ref4.numberingSystem, numberingSystem = _ref4$numberingSystem === void 0 ? null : _ref4$numberingSystem, _ref4$locObj = _ref4.locObj, locObj = _ref4$locObj === void 0 ? null : _ref4$locObj;
        return (locObj || Locale.create(locale, numberingSystem, null)).weekdays(length, true);
      };
      Info2.meridiems = function meridiems2(_temp5) {
        var _ref5 = _temp5 === void 0 ? {} : _temp5, _ref5$locale = _ref5.locale, locale = _ref5$locale === void 0 ? null : _ref5$locale;
        return Locale.create(locale).meridiems();
      };
      Info2.eras = function eras2(length, _temp6) {
        if (length === void 0) {
          length = "short";
        }
        var _ref6 = _temp6 === void 0 ? {} : _temp6, _ref6$locale = _ref6.locale, locale = _ref6$locale === void 0 ? null : _ref6$locale;
        return Locale.create(locale, null, "gregory").eras(length);
      };
      Info2.features = function features() {
        return {
          relative: hasRelative()
        };
      };
      return Info2;
    }();
    function dayDiff(earlier, later) {
      var utcDayStart = function utcDayStart2(dt) {
        return dt.toUTC(0, {
          keepLocalTime: true
        }).startOf("day").valueOf();
      }, ms = utcDayStart(later) - utcDayStart(earlier);
      return Math.floor(Duration.fromMillis(ms).as("days"));
    }
    function highOrderDiffs(cursor, later, units) {
      var differs = [["years", function(a, b) {
        return b.year - a.year;
      }], ["quarters", function(a, b) {
        return b.quarter - a.quarter;
      }], ["months", function(a, b) {
        return b.month - a.month + (b.year - a.year) * 12;
      }], ["weeks", function(a, b) {
        var days = dayDiff(a, b);
        return (days - days % 7) / 7;
      }], ["days", dayDiff]];
      var results = {};
      var lowestOrder, highWater;
      for (var _i = 0, _differs = differs; _i < _differs.length; _i++) {
        var _differs$_i = _differs[_i], unit = _differs$_i[0], differ = _differs$_i[1];
        if (units.indexOf(unit) >= 0) {
          var _cursor$plus;
          lowestOrder = unit;
          var delta = differ(cursor, later);
          highWater = cursor.plus((_cursor$plus = {}, _cursor$plus[unit] = delta, _cursor$plus));
          if (highWater > later) {
            var _cursor$plus2;
            cursor = cursor.plus((_cursor$plus2 = {}, _cursor$plus2[unit] = delta - 1, _cursor$plus2));
            delta -= 1;
          } else {
            cursor = highWater;
          }
          results[unit] = delta;
        }
      }
      return [cursor, results, highWater, lowestOrder];
    }
    function _diff(earlier, later, units, opts) {
      var _highOrderDiffs = highOrderDiffs(earlier, later, units), cursor = _highOrderDiffs[0], results = _highOrderDiffs[1], highWater = _highOrderDiffs[2], lowestOrder = _highOrderDiffs[3];
      var remainingMillis = later - cursor;
      var lowerOrderUnits = units.filter(function(u) {
        return ["hours", "minutes", "seconds", "milliseconds"].indexOf(u) >= 0;
      });
      if (lowerOrderUnits.length === 0) {
        if (highWater < later) {
          var _cursor$plus3;
          highWater = cursor.plus((_cursor$plus3 = {}, _cursor$plus3[lowestOrder] = 1, _cursor$plus3));
        }
        if (highWater !== cursor) {
          results[lowestOrder] = (results[lowestOrder] || 0) + remainingMillis / (highWater - cursor);
        }
      }
      var duration = Duration.fromObject(results, opts);
      if (lowerOrderUnits.length > 0) {
        var _Duration$fromMillis;
        return (_Duration$fromMillis = Duration.fromMillis(remainingMillis, opts)).shiftTo.apply(_Duration$fromMillis, lowerOrderUnits).plus(duration);
      } else {
        return duration;
      }
    }
    var numberingSystems = {
      arab: "[\u0660-\u0669]",
      arabext: "[\u06F0-\u06F9]",
      bali: "[\u1B50-\u1B59]",
      beng: "[\u09E6-\u09EF]",
      deva: "[\u0966-\u096F]",
      fullwide: "[\uFF10-\uFF19]",
      gujr: "[\u0AE6-\u0AEF]",
      hanidec: "[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",
      khmr: "[\u17E0-\u17E9]",
      knda: "[\u0CE6-\u0CEF]",
      laoo: "[\u0ED0-\u0ED9]",
      limb: "[\u1946-\u194F]",
      mlym: "[\u0D66-\u0D6F]",
      mong: "[\u1810-\u1819]",
      mymr: "[\u1040-\u1049]",
      orya: "[\u0B66-\u0B6F]",
      tamldec: "[\u0BE6-\u0BEF]",
      telu: "[\u0C66-\u0C6F]",
      thai: "[\u0E50-\u0E59]",
      tibt: "[\u0F20-\u0F29]",
      latn: "\\d"
    };
    var numberingSystemsUTF16 = {
      arab: [1632, 1641],
      arabext: [1776, 1785],
      bali: [6992, 7001],
      beng: [2534, 2543],
      deva: [2406, 2415],
      fullwide: [65296, 65303],
      gujr: [2790, 2799],
      khmr: [6112, 6121],
      knda: [3302, 3311],
      laoo: [3792, 3801],
      limb: [6470, 6479],
      mlym: [3430, 3439],
      mong: [6160, 6169],
      mymr: [4160, 4169],
      orya: [2918, 2927],
      tamldec: [3046, 3055],
      telu: [3174, 3183],
      thai: [3664, 3673],
      tibt: [3872, 3881]
    };
    var hanidecChars = numberingSystems.hanidec.replace(/[\[|\]]/g, "").split("");
    function parseDigits(str) {
      var value = parseInt(str, 10);
      if (isNaN(value)) {
        value = "";
        for (var i = 0; i < str.length; i++) {
          var code = str.charCodeAt(i);
          if (str[i].search(numberingSystems.hanidec) !== -1) {
            value += hanidecChars.indexOf(str[i]);
          } else {
            for (var key in numberingSystemsUTF16) {
              var _numberingSystemsUTF = numberingSystemsUTF16[key], min = _numberingSystemsUTF[0], max = _numberingSystemsUTF[1];
              if (code >= min && code <= max) {
                value += code - min;
              }
            }
          }
        }
        return parseInt(value, 10);
      } else {
        return value;
      }
    }
    function digitRegex(_ref, append2) {
      var numberingSystem = _ref.numberingSystem;
      if (append2 === void 0) {
        append2 = "";
      }
      return new RegExp("" + numberingSystems[numberingSystem || "latn"] + append2);
    }
    var MISSING_FTP = "missing Intl.DateTimeFormat.formatToParts support";
    function intUnit(regex, post) {
      if (post === void 0) {
        post = function post2(i) {
          return i;
        };
      }
      return {
        regex,
        deser: function deser(_ref) {
          var s2 = _ref[0];
          return post(parseDigits(s2));
        }
      };
    }
    var NBSP = String.fromCharCode(160);
    var spaceOrNBSP = "[ " + NBSP + "]";
    var spaceOrNBSPRegExp = new RegExp(spaceOrNBSP, "g");
    function fixListRegex(s2) {
      return s2.replace(/\./g, "\\.?").replace(spaceOrNBSPRegExp, spaceOrNBSP);
    }
    function stripInsensitivities(s2) {
      return s2.replace(/\./g, "").replace(spaceOrNBSPRegExp, " ").toLowerCase();
    }
    function oneOf(strings, startIndex) {
      if (strings === null) {
        return null;
      } else {
        return {
          regex: RegExp(strings.map(fixListRegex).join("|")),
          deser: function deser(_ref2) {
            var s2 = _ref2[0];
            return strings.findIndex(function(i) {
              return stripInsensitivities(s2) === stripInsensitivities(i);
            }) + startIndex;
          }
        };
      }
    }
    function offset(regex, groups) {
      return {
        regex,
        deser: function deser(_ref3) {
          var h = _ref3[1], m = _ref3[2];
          return signedOffset(h, m);
        },
        groups
      };
    }
    function simple(regex) {
      return {
        regex,
        deser: function deser(_ref4) {
          var s2 = _ref4[0];
          return s2;
        }
      };
    }
    function escapeToken(value) {
      return value.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&");
    }
    function unitForToken(token, loc) {
      var one = digitRegex(loc), two = digitRegex(loc, "{2}"), three = digitRegex(loc, "{3}"), four = digitRegex(loc, "{4}"), six = digitRegex(loc, "{6}"), oneOrTwo = digitRegex(loc, "{1,2}"), oneToThree = digitRegex(loc, "{1,3}"), oneToSix = digitRegex(loc, "{1,6}"), oneToNine = digitRegex(loc, "{1,9}"), twoToFour = digitRegex(loc, "{2,4}"), fourToSix = digitRegex(loc, "{4,6}"), literal = function literal2(t) {
        return {
          regex: RegExp(escapeToken(t.val)),
          deser: function deser(_ref5) {
            var s2 = _ref5[0];
            return s2;
          },
          literal: true
        };
      }, unitate = function unitate2(t) {
        if (token.literal) {
          return literal(t);
        }
        switch (t.val) {
          case "G":
            return oneOf(loc.eras("short", false), 0);
          case "GG":
            return oneOf(loc.eras("long", false), 0);
          case "y":
            return intUnit(oneToSix);
          case "yy":
            return intUnit(twoToFour, untruncateYear);
          case "yyyy":
            return intUnit(four);
          case "yyyyy":
            return intUnit(fourToSix);
          case "yyyyyy":
            return intUnit(six);
          case "M":
            return intUnit(oneOrTwo);
          case "MM":
            return intUnit(two);
          case "MMM":
            return oneOf(loc.months("short", true, false), 1);
          case "MMMM":
            return oneOf(loc.months("long", true, false), 1);
          case "L":
            return intUnit(oneOrTwo);
          case "LL":
            return intUnit(two);
          case "LLL":
            return oneOf(loc.months("short", false, false), 1);
          case "LLLL":
            return oneOf(loc.months("long", false, false), 1);
          case "d":
            return intUnit(oneOrTwo);
          case "dd":
            return intUnit(two);
          case "o":
            return intUnit(oneToThree);
          case "ooo":
            return intUnit(three);
          case "HH":
            return intUnit(two);
          case "H":
            return intUnit(oneOrTwo);
          case "hh":
            return intUnit(two);
          case "h":
            return intUnit(oneOrTwo);
          case "mm":
            return intUnit(two);
          case "m":
            return intUnit(oneOrTwo);
          case "q":
            return intUnit(oneOrTwo);
          case "qq":
            return intUnit(two);
          case "s":
            return intUnit(oneOrTwo);
          case "ss":
            return intUnit(two);
          case "S":
            return intUnit(oneToThree);
          case "SSS":
            return intUnit(three);
          case "u":
            return simple(oneToNine);
          case "uu":
            return simple(oneOrTwo);
          case "uuu":
            return intUnit(one);
          case "a":
            return oneOf(loc.meridiems(), 0);
          case "kkkk":
            return intUnit(four);
          case "kk":
            return intUnit(twoToFour, untruncateYear);
          case "W":
            return intUnit(oneOrTwo);
          case "WW":
            return intUnit(two);
          case "E":
          case "c":
            return intUnit(one);
          case "EEE":
            return oneOf(loc.weekdays("short", false, false), 1);
          case "EEEE":
            return oneOf(loc.weekdays("long", false, false), 1);
          case "ccc":
            return oneOf(loc.weekdays("short", true, false), 1);
          case "cccc":
            return oneOf(loc.weekdays("long", true, false), 1);
          case "Z":
          case "ZZ":
            return offset(new RegExp("([+-]" + oneOrTwo.source + ")(?::(" + two.source + "))?"), 2);
          case "ZZZ":
            return offset(new RegExp("([+-]" + oneOrTwo.source + ")(" + two.source + ")?"), 2);
          case "z":
            return simple(/[a-z_+-/]{1,256}?/i);
          default:
            return literal(t);
        }
      };
      var unit = unitate(token) || {
        invalidReason: MISSING_FTP
      };
      unit.token = token;
      return unit;
    }
    var partTypeStyleToTokenVal = {
      year: {
        "2-digit": "yy",
        numeric: "yyyyy"
      },
      month: {
        numeric: "M",
        "2-digit": "MM",
        short: "MMM",
        long: "MMMM"
      },
      day: {
        numeric: "d",
        "2-digit": "dd"
      },
      weekday: {
        short: "EEE",
        long: "EEEE"
      },
      dayperiod: "a",
      dayPeriod: "a",
      hour: {
        numeric: "h",
        "2-digit": "hh"
      },
      minute: {
        numeric: "m",
        "2-digit": "mm"
      },
      second: {
        numeric: "s",
        "2-digit": "ss"
      }
    };
    function tokenForPart(part, locale, formatOpts) {
      var type = part.type, value = part.value;
      if (type === "literal") {
        return {
          literal: true,
          val: value
        };
      }
      var style = formatOpts[type];
      var val = partTypeStyleToTokenVal[type];
      if (typeof val === "object") {
        val = val[style];
      }
      if (val) {
        return {
          literal: false,
          val
        };
      }
      return void 0;
    }
    function buildRegex(units) {
      var re = units.map(function(u) {
        return u.regex;
      }).reduce(function(f, r) {
        return f + "(" + r.source + ")";
      }, "");
      return ["^" + re + "$", units];
    }
    function match(input, regex, handlers) {
      var matches = input.match(regex);
      if (matches) {
        var all = {};
        var matchIndex = 1;
        for (var i in handlers) {
          if (hasOwnProperty(handlers, i)) {
            var h = handlers[i], groups = h.groups ? h.groups + 1 : 1;
            if (!h.literal && h.token) {
              all[h.token.val[0]] = h.deser(matches.slice(matchIndex, matchIndex + groups));
            }
            matchIndex += groups;
          }
        }
        return [matches, all];
      } else {
        return [matches, {}];
      }
    }
    function dateTimeFromMatches(matches) {
      var toField = function toField2(token) {
        switch (token) {
          case "S":
            return "millisecond";
          case "s":
            return "second";
          case "m":
            return "minute";
          case "h":
          case "H":
            return "hour";
          case "d":
            return "day";
          case "o":
            return "ordinal";
          case "L":
          case "M":
            return "month";
          case "y":
            return "year";
          case "E":
          case "c":
            return "weekday";
          case "W":
            return "weekNumber";
          case "k":
            return "weekYear";
          case "q":
            return "quarter";
          default:
            return null;
        }
      };
      var zone = null;
      var specificOffset;
      if (!isUndefined(matches.z)) {
        zone = IANAZone.create(matches.z);
      }
      if (!isUndefined(matches.Z)) {
        if (!zone) {
          zone = new FixedOffsetZone(matches.Z);
        }
        specificOffset = matches.Z;
      }
      if (!isUndefined(matches.q)) {
        matches.M = (matches.q - 1) * 3 + 1;
      }
      if (!isUndefined(matches.h)) {
        if (matches.h < 12 && matches.a === 1) {
          matches.h += 12;
        } else if (matches.h === 12 && matches.a === 0) {
          matches.h = 0;
        }
      }
      if (matches.G === 0 && matches.y) {
        matches.y = -matches.y;
      }
      if (!isUndefined(matches.u)) {
        matches.S = parseMillis(matches.u);
      }
      var vals = Object.keys(matches).reduce(function(r, k) {
        var f = toField(k);
        if (f) {
          r[f] = matches[k];
        }
        return r;
      }, {});
      return [vals, zone, specificOffset];
    }
    var dummyDateTimeCache = null;
    function getDummyDateTime() {
      if (!dummyDateTimeCache) {
        dummyDateTimeCache = DateTime.fromMillis(1555555555555);
      }
      return dummyDateTimeCache;
    }
    function maybeExpandMacroToken(token, locale) {
      if (token.literal) {
        return token;
      }
      var formatOpts = Formatter.macroTokenToFormatOpts(token.val);
      if (!formatOpts) {
        return token;
      }
      var formatter = Formatter.create(locale, formatOpts);
      var parts = formatter.formatDateTimeParts(getDummyDateTime());
      var tokens = parts.map(function(p) {
        return tokenForPart(p, locale, formatOpts);
      });
      if (tokens.includes(void 0)) {
        return token;
      }
      return tokens;
    }
    function expandMacroTokens(tokens, locale) {
      var _Array$prototype;
      return (_Array$prototype = Array.prototype).concat.apply(_Array$prototype, tokens.map(function(t) {
        return maybeExpandMacroToken(t, locale);
      }));
    }
    function explainFromTokens(locale, input, format) {
      var tokens = expandMacroTokens(Formatter.parseFormat(format), locale), units = tokens.map(function(t) {
        return unitForToken(t, locale);
      }), disqualifyingUnit = units.find(function(t) {
        return t.invalidReason;
      });
      if (disqualifyingUnit) {
        return {
          input,
          tokens,
          invalidReason: disqualifyingUnit.invalidReason
        };
      } else {
        var _buildRegex = buildRegex(units), regexString = _buildRegex[0], handlers = _buildRegex[1], regex = RegExp(regexString, "i"), _match = match(input, regex, handlers), rawMatches = _match[0], matches = _match[1], _ref6 = matches ? dateTimeFromMatches(matches) : [null, null, void 0], result = _ref6[0], zone = _ref6[1], specificOffset = _ref6[2];
        if (hasOwnProperty(matches, "a") && hasOwnProperty(matches, "H")) {
          throw new ConflictingSpecificationError("Can't include meridiem when specifying 24-hour format");
        }
        return {
          input,
          tokens,
          regex,
          rawMatches,
          matches,
          result,
          zone,
          specificOffset
        };
      }
    }
    function parseFromTokens(locale, input, format) {
      var _explainFromTokens = explainFromTokens(locale, input, format), result = _explainFromTokens.result, zone = _explainFromTokens.zone, specificOffset = _explainFromTokens.specificOffset, invalidReason = _explainFromTokens.invalidReason;
      return [result, zone, specificOffset, invalidReason];
    }
    var nonLeapLadder = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334];
    var leapLadder = [0, 31, 60, 91, 121, 152, 182, 213, 244, 274, 305, 335];
    function unitOutOfRange(unit, value) {
      return new Invalid("unit out of range", "you specified " + value + " (of type " + typeof value + ") as a " + unit + ", which is invalid");
    }
    function dayOfWeek(year, month, day) {
      var d = new Date(Date.UTC(year, month - 1, day));
      if (year < 100 && year >= 0) {
        d.setUTCFullYear(d.getUTCFullYear() - 1900);
      }
      var js = d.getUTCDay();
      return js === 0 ? 7 : js;
    }
    function computeOrdinal(year, month, day) {
      return day + (isLeapYear(year) ? leapLadder : nonLeapLadder)[month - 1];
    }
    function uncomputeOrdinal(year, ordinal) {
      var table = isLeapYear(year) ? leapLadder : nonLeapLadder, month0 = table.findIndex(function(i) {
        return i < ordinal;
      }), day = ordinal - table[month0];
      return {
        month: month0 + 1,
        day
      };
    }
    function gregorianToWeek(gregObj) {
      var year = gregObj.year, month = gregObj.month, day = gregObj.day, ordinal = computeOrdinal(year, month, day), weekday = dayOfWeek(year, month, day);
      var weekNumber = Math.floor((ordinal - weekday + 10) / 7), weekYear;
      if (weekNumber < 1) {
        weekYear = year - 1;
        weekNumber = weeksInWeekYear(weekYear);
      } else if (weekNumber > weeksInWeekYear(year)) {
        weekYear = year + 1;
        weekNumber = 1;
      } else {
        weekYear = year;
      }
      return _extends({
        weekYear,
        weekNumber,
        weekday
      }, timeObject(gregObj));
    }
    function weekToGregorian(weekData) {
      var weekYear = weekData.weekYear, weekNumber = weekData.weekNumber, weekday = weekData.weekday, weekdayOfJan4 = dayOfWeek(weekYear, 1, 4), yearInDays = daysInYear(weekYear);
      var ordinal = weekNumber * 7 + weekday - weekdayOfJan4 - 3, year;
      if (ordinal < 1) {
        year = weekYear - 1;
        ordinal += daysInYear(year);
      } else if (ordinal > yearInDays) {
        year = weekYear + 1;
        ordinal -= daysInYear(weekYear);
      } else {
        year = weekYear;
      }
      var _uncomputeOrdinal = uncomputeOrdinal(year, ordinal), month = _uncomputeOrdinal.month, day = _uncomputeOrdinal.day;
      return _extends({
        year,
        month,
        day
      }, timeObject(weekData));
    }
    function gregorianToOrdinal(gregData) {
      var year = gregData.year, month = gregData.month, day = gregData.day;
      var ordinal = computeOrdinal(year, month, day);
      return _extends({
        year,
        ordinal
      }, timeObject(gregData));
    }
    function ordinalToGregorian(ordinalData) {
      var year = ordinalData.year, ordinal = ordinalData.ordinal;
      var _uncomputeOrdinal2 = uncomputeOrdinal(year, ordinal), month = _uncomputeOrdinal2.month, day = _uncomputeOrdinal2.day;
      return _extends({
        year,
        month,
        day
      }, timeObject(ordinalData));
    }
    function hasInvalidWeekData(obj) {
      var validYear = isInteger(obj.weekYear), validWeek = integerBetween(obj.weekNumber, 1, weeksInWeekYear(obj.weekYear)), validWeekday = integerBetween(obj.weekday, 1, 7);
      if (!validYear) {
        return unitOutOfRange("weekYear", obj.weekYear);
      } else if (!validWeek) {
        return unitOutOfRange("week", obj.week);
      } else if (!validWeekday) {
        return unitOutOfRange("weekday", obj.weekday);
      } else
        return false;
    }
    function hasInvalidOrdinalData(obj) {
      var validYear = isInteger(obj.year), validOrdinal = integerBetween(obj.ordinal, 1, daysInYear(obj.year));
      if (!validYear) {
        return unitOutOfRange("year", obj.year);
      } else if (!validOrdinal) {
        return unitOutOfRange("ordinal", obj.ordinal);
      } else
        return false;
    }
    function hasInvalidGregorianData(obj) {
      var validYear = isInteger(obj.year), validMonth = integerBetween(obj.month, 1, 12), validDay = integerBetween(obj.day, 1, daysInMonth(obj.year, obj.month));
      if (!validYear) {
        return unitOutOfRange("year", obj.year);
      } else if (!validMonth) {
        return unitOutOfRange("month", obj.month);
      } else if (!validDay) {
        return unitOutOfRange("day", obj.day);
      } else
        return false;
    }
    function hasInvalidTimeData(obj) {
      var hour = obj.hour, minute = obj.minute, second = obj.second, millisecond = obj.millisecond;
      var validHour = integerBetween(hour, 0, 23) || hour === 24 && minute === 0 && second === 0 && millisecond === 0, validMinute = integerBetween(minute, 0, 59), validSecond = integerBetween(second, 0, 59), validMillisecond = integerBetween(millisecond, 0, 999);
      if (!validHour) {
        return unitOutOfRange("hour", hour);
      } else if (!validMinute) {
        return unitOutOfRange("minute", minute);
      } else if (!validSecond) {
        return unitOutOfRange("second", second);
      } else if (!validMillisecond) {
        return unitOutOfRange("millisecond", millisecond);
      } else
        return false;
    }
    var INVALID = "Invalid DateTime";
    var MAX_DATE = 864e13;
    function unsupportedZone(zone) {
      return new Invalid("unsupported zone", 'the zone "' + zone.name + '" is not supported');
    }
    function possiblyCachedWeekData(dt) {
      if (dt.weekData === null) {
        dt.weekData = gregorianToWeek(dt.c);
      }
      return dt.weekData;
    }
    function clone(inst, alts) {
      var current = {
        ts: inst.ts,
        zone: inst.zone,
        c: inst.c,
        o: inst.o,
        loc: inst.loc,
        invalid: inst.invalid
      };
      return new DateTime(_extends({}, current, alts, {
        old: current
      }));
    }
    function fixOffset(localTS, o, tz) {
      var utcGuess = localTS - o * 60 * 1e3;
      var o2 = tz.offset(utcGuess);
      if (o === o2) {
        return [utcGuess, o];
      }
      utcGuess -= (o2 - o) * 60 * 1e3;
      var o3 = tz.offset(utcGuess);
      if (o2 === o3) {
        return [utcGuess, o2];
      }
      return [localTS - Math.min(o2, o3) * 60 * 1e3, Math.max(o2, o3)];
    }
    function tsToObj(ts, offset2) {
      ts += offset2 * 60 * 1e3;
      var d = new Date(ts);
      return {
        year: d.getUTCFullYear(),
        month: d.getUTCMonth() + 1,
        day: d.getUTCDate(),
        hour: d.getUTCHours(),
        minute: d.getUTCMinutes(),
        second: d.getUTCSeconds(),
        millisecond: d.getUTCMilliseconds()
      };
    }
    function objToTS(obj, offset2, zone) {
      return fixOffset(objToLocalTS(obj), offset2, zone);
    }
    function adjustTime(inst, dur) {
      var oPre = inst.o, year = inst.c.year + Math.trunc(dur.years), month = inst.c.month + Math.trunc(dur.months) + Math.trunc(dur.quarters) * 3, c = _extends({}, inst.c, {
        year,
        month,
        day: Math.min(inst.c.day, daysInMonth(year, month)) + Math.trunc(dur.days) + Math.trunc(dur.weeks) * 7
      }), millisToAdd = Duration.fromObject({
        years: dur.years - Math.trunc(dur.years),
        quarters: dur.quarters - Math.trunc(dur.quarters),
        months: dur.months - Math.trunc(dur.months),
        weeks: dur.weeks - Math.trunc(dur.weeks),
        days: dur.days - Math.trunc(dur.days),
        hours: dur.hours,
        minutes: dur.minutes,
        seconds: dur.seconds,
        milliseconds: dur.milliseconds
      }).as("milliseconds"), localTS = objToLocalTS(c);
      var _fixOffset = fixOffset(localTS, oPre, inst.zone), ts = _fixOffset[0], o = _fixOffset[1];
      if (millisToAdd !== 0) {
        ts += millisToAdd;
        o = inst.zone.offset(ts);
      }
      return {
        ts,
        o
      };
    }
    function parseDataToDateTime(parsed, parsedZone, opts, format, text2, specificOffset) {
      var setZone = opts.setZone, zone = opts.zone;
      if (parsed && Object.keys(parsed).length !== 0) {
        var interpretationZone = parsedZone || zone, inst = DateTime.fromObject(parsed, _extends({}, opts, {
          zone: interpretationZone,
          specificOffset
        }));
        return setZone ? inst : inst.setZone(zone);
      } else {
        return DateTime.invalid(new Invalid("unparsable", 'the input "' + text2 + `" can't be parsed as ` + format));
      }
    }
    function toTechFormat(dt, format, allowZ) {
      if (allowZ === void 0) {
        allowZ = true;
      }
      return dt.isValid ? Formatter.create(Locale.create("en-US"), {
        allowZ,
        forceSimple: true
      }).formatDateTimeFromString(dt, format) : null;
    }
    function _toISODate(o, extended) {
      var longFormat = o.c.year > 9999 || o.c.year < 0;
      var c = "";
      if (longFormat && o.c.year >= 0)
        c += "+";
      c += padStart(o.c.year, longFormat ? 6 : 4);
      if (extended) {
        c += "-";
        c += padStart(o.c.month);
        c += "-";
        c += padStart(o.c.day);
      } else {
        c += padStart(o.c.month);
        c += padStart(o.c.day);
      }
      return c;
    }
    function _toISOTime(o, extended, suppressSeconds, suppressMilliseconds, includeOffset, extendedZone) {
      var c = padStart(o.c.hour);
      if (extended) {
        c += ":";
        c += padStart(o.c.minute);
        if (o.c.second !== 0 || !suppressSeconds) {
          c += ":";
        }
      } else {
        c += padStart(o.c.minute);
      }
      if (o.c.second !== 0 || !suppressSeconds) {
        c += padStart(o.c.second);
        if (o.c.millisecond !== 0 || !suppressMilliseconds) {
          c += ".";
          c += padStart(o.c.millisecond, 3);
        }
      }
      if (includeOffset) {
        if (o.isOffsetFixed && o.offset === 0 && !extendedZone) {
          c += "Z";
        } else if (o.o < 0) {
          c += "-";
          c += padStart(Math.trunc(-o.o / 60));
          c += ":";
          c += padStart(Math.trunc(-o.o % 60));
        } else {
          c += "+";
          c += padStart(Math.trunc(o.o / 60));
          c += ":";
          c += padStart(Math.trunc(o.o % 60));
        }
      }
      if (extendedZone) {
        c += "[" + o.zone.ianaName + "]";
      }
      return c;
    }
    var defaultUnitValues = {
      month: 1,
      day: 1,
      hour: 0,
      minute: 0,
      second: 0,
      millisecond: 0
    };
    var defaultWeekUnitValues = {
      weekNumber: 1,
      weekday: 1,
      hour: 0,
      minute: 0,
      second: 0,
      millisecond: 0
    };
    var defaultOrdinalUnitValues = {
      ordinal: 1,
      hour: 0,
      minute: 0,
      second: 0,
      millisecond: 0
    };
    var orderedUnits = ["year", "month", "day", "hour", "minute", "second", "millisecond"];
    var orderedWeekUnits = ["weekYear", "weekNumber", "weekday", "hour", "minute", "second", "millisecond"];
    var orderedOrdinalUnits = ["year", "ordinal", "hour", "minute", "second", "millisecond"];
    function normalizeUnit(unit) {
      var normalized = {
        year: "year",
        years: "year",
        month: "month",
        months: "month",
        day: "day",
        days: "day",
        hour: "hour",
        hours: "hour",
        minute: "minute",
        minutes: "minute",
        quarter: "quarter",
        quarters: "quarter",
        second: "second",
        seconds: "second",
        millisecond: "millisecond",
        milliseconds: "millisecond",
        weekday: "weekday",
        weekdays: "weekday",
        weeknumber: "weekNumber",
        weeksnumber: "weekNumber",
        weeknumbers: "weekNumber",
        weekyear: "weekYear",
        weekyears: "weekYear",
        ordinal: "ordinal"
      }[unit.toLowerCase()];
      if (!normalized)
        throw new InvalidUnitError(unit);
      return normalized;
    }
    function quickDT(obj, opts) {
      var zone = normalizeZone(opts.zone, Settings.defaultZone), loc = Locale.fromObject(opts), tsNow = Settings.now();
      var ts, o;
      if (!isUndefined(obj.year)) {
        for (var _iterator = _createForOfIteratorHelperLoose(orderedUnits), _step; !(_step = _iterator()).done; ) {
          var u = _step.value;
          if (isUndefined(obj[u])) {
            obj[u] = defaultUnitValues[u];
          }
        }
        var invalid = hasInvalidGregorianData(obj) || hasInvalidTimeData(obj);
        if (invalid) {
          return DateTime.invalid(invalid);
        }
        var offsetProvis = zone.offset(tsNow);
        var _objToTS = objToTS(obj, offsetProvis, zone);
        ts = _objToTS[0];
        o = _objToTS[1];
      } else {
        ts = tsNow;
      }
      return new DateTime({
        ts,
        zone,
        loc,
        o
      });
    }
    function diffRelative(start, end, opts) {
      var round = isUndefined(opts.round) ? true : opts.round, format = function format2(c, unit2) {
        c = roundTo(c, round || opts.calendary ? 0 : 2, true);
        var formatter = end.loc.clone(opts).relFormatter(opts);
        return formatter.format(c, unit2);
      }, differ = function differ2(unit2) {
        if (opts.calendary) {
          if (!end.hasSame(start, unit2)) {
            return end.startOf(unit2).diff(start.startOf(unit2), unit2).get(unit2);
          } else
            return 0;
        } else {
          return end.diff(start, unit2).get(unit2);
        }
      };
      if (opts.unit) {
        return format(differ(opts.unit), opts.unit);
      }
      for (var _iterator2 = _createForOfIteratorHelperLoose(opts.units), _step2; !(_step2 = _iterator2()).done; ) {
        var unit = _step2.value;
        var count = differ(unit);
        if (Math.abs(count) >= 1) {
          return format(count, unit);
        }
      }
      return format(start > end ? -0 : 0, opts.units[opts.units.length - 1]);
    }
    function lastOpts(argList) {
      var opts = {}, args;
      if (argList.length > 0 && typeof argList[argList.length - 1] === "object") {
        opts = argList[argList.length - 1];
        args = Array.from(argList).slice(0, argList.length - 1);
      } else {
        args = Array.from(argList);
      }
      return [opts, args];
    }
    var DateTime = /* @__PURE__ */ function() {
      function DateTime2(config) {
        var zone = config.zone || Settings.defaultZone;
        var invalid = config.invalid || (Number.isNaN(config.ts) ? new Invalid("invalid input") : null) || (!zone.isValid ? unsupportedZone(zone) : null);
        this.ts = isUndefined(config.ts) ? Settings.now() : config.ts;
        var c = null, o = null;
        if (!invalid) {
          var unchanged = config.old && config.old.ts === this.ts && config.old.zone.equals(zone);
          if (unchanged) {
            var _ref = [config.old.c, config.old.o];
            c = _ref[0];
            o = _ref[1];
          } else {
            var ot = zone.offset(this.ts);
            c = tsToObj(this.ts, ot);
            invalid = Number.isNaN(c.year) ? new Invalid("invalid input") : null;
            c = invalid ? null : c;
            o = invalid ? null : ot;
          }
        }
        this._zone = zone;
        this.loc = config.loc || Locale.create();
        this.invalid = invalid;
        this.weekData = null;
        this.c = c;
        this.o = o;
        this.isLuxonDateTime = true;
      }
      DateTime2.now = function now2() {
        return new DateTime2({});
      };
      DateTime2.local = function local() {
        var _lastOpts = lastOpts(arguments), opts = _lastOpts[0], args = _lastOpts[1], year = args[0], month = args[1], day = args[2], hour = args[3], minute = args[4], second = args[5], millisecond = args[6];
        return quickDT({
          year,
          month,
          day,
          hour,
          minute,
          second,
          millisecond
        }, opts);
      };
      DateTime2.utc = function utc() {
        var _lastOpts2 = lastOpts(arguments), opts = _lastOpts2[0], args = _lastOpts2[1], year = args[0], month = args[1], day = args[2], hour = args[3], minute = args[4], second = args[5], millisecond = args[6];
        opts.zone = FixedOffsetZone.utcInstance;
        return quickDT({
          year,
          month,
          day,
          hour,
          minute,
          second,
          millisecond
        }, opts);
      };
      DateTime2.fromJSDate = function fromJSDate(date, options) {
        if (options === void 0) {
          options = {};
        }
        var ts = isDate(date) ? date.valueOf() : NaN;
        if (Number.isNaN(ts)) {
          return DateTime2.invalid("invalid input");
        }
        var zoneToUse = normalizeZone(options.zone, Settings.defaultZone);
        if (!zoneToUse.isValid) {
          return DateTime2.invalid(unsupportedZone(zoneToUse));
        }
        return new DateTime2({
          ts,
          zone: zoneToUse,
          loc: Locale.fromObject(options)
        });
      };
      DateTime2.fromMillis = function fromMillis(milliseconds, options) {
        if (options === void 0) {
          options = {};
        }
        if (!isNumber(milliseconds)) {
          throw new InvalidArgumentError("fromMillis requires a numerical input, but received a " + typeof milliseconds + " with value " + milliseconds);
        } else if (milliseconds < -MAX_DATE || milliseconds > MAX_DATE) {
          return DateTime2.invalid("Timestamp out of range");
        } else {
          return new DateTime2({
            ts: milliseconds,
            zone: normalizeZone(options.zone, Settings.defaultZone),
            loc: Locale.fromObject(options)
          });
        }
      };
      DateTime2.fromSeconds = function fromSeconds(seconds, options) {
        if (options === void 0) {
          options = {};
        }
        if (!isNumber(seconds)) {
          throw new InvalidArgumentError("fromSeconds requires a numerical input");
        } else {
          return new DateTime2({
            ts: seconds * 1e3,
            zone: normalizeZone(options.zone, Settings.defaultZone),
            loc: Locale.fromObject(options)
          });
        }
      };
      DateTime2.fromObject = function fromObject(obj, opts) {
        if (opts === void 0) {
          opts = {};
        }
        obj = obj || {};
        var zoneToUse = normalizeZone(opts.zone, Settings.defaultZone);
        if (!zoneToUse.isValid) {
          return DateTime2.invalid(unsupportedZone(zoneToUse));
        }
        var tsNow = Settings.now(), offsetProvis = !isUndefined(opts.specificOffset) ? opts.specificOffset : zoneToUse.offset(tsNow), normalized = normalizeObject(obj, normalizeUnit), containsOrdinal = !isUndefined(normalized.ordinal), containsGregorYear = !isUndefined(normalized.year), containsGregorMD = !isUndefined(normalized.month) || !isUndefined(normalized.day), containsGregor = containsGregorYear || containsGregorMD, definiteWeekDef = normalized.weekYear || normalized.weekNumber, loc = Locale.fromObject(opts);
        if ((containsGregor || containsOrdinal) && definiteWeekDef) {
          throw new ConflictingSpecificationError("Can't mix weekYear/weekNumber units with year/month/day or ordinals");
        }
        if (containsGregorMD && containsOrdinal) {
          throw new ConflictingSpecificationError("Can't mix ordinal dates with month/day");
        }
        var useWeekData = definiteWeekDef || normalized.weekday && !containsGregor;
        var units, defaultValues, objNow = tsToObj(tsNow, offsetProvis);
        if (useWeekData) {
          units = orderedWeekUnits;
          defaultValues = defaultWeekUnitValues;
          objNow = gregorianToWeek(objNow);
        } else if (containsOrdinal) {
          units = orderedOrdinalUnits;
          defaultValues = defaultOrdinalUnitValues;
          objNow = gregorianToOrdinal(objNow);
        } else {
          units = orderedUnits;
          defaultValues = defaultUnitValues;
        }
        var foundFirst = false;
        for (var _iterator3 = _createForOfIteratorHelperLoose(units), _step3; !(_step3 = _iterator3()).done; ) {
          var u = _step3.value;
          var v = normalized[u];
          if (!isUndefined(v)) {
            foundFirst = true;
          } else if (foundFirst) {
            normalized[u] = defaultValues[u];
          } else {
            normalized[u] = objNow[u];
          }
        }
        var higherOrderInvalid = useWeekData ? hasInvalidWeekData(normalized) : containsOrdinal ? hasInvalidOrdinalData(normalized) : hasInvalidGregorianData(normalized), invalid = higherOrderInvalid || hasInvalidTimeData(normalized);
        if (invalid) {
          return DateTime2.invalid(invalid);
        }
        var gregorian = useWeekData ? weekToGregorian(normalized) : containsOrdinal ? ordinalToGregorian(normalized) : normalized, _objToTS2 = objToTS(gregorian, offsetProvis, zoneToUse), tsFinal = _objToTS2[0], offsetFinal = _objToTS2[1], inst = new DateTime2({
          ts: tsFinal,
          zone: zoneToUse,
          o: offsetFinal,
          loc
        });
        if (normalized.weekday && containsGregor && obj.weekday !== inst.weekday) {
          return DateTime2.invalid("mismatched weekday", "you can't specify both a weekday of " + normalized.weekday + " and a date of " + inst.toISO());
        }
        return inst;
      };
      DateTime2.fromISO = function fromISO(text2, opts) {
        if (opts === void 0) {
          opts = {};
        }
        var _parseISODate = parseISODate(text2), vals = _parseISODate[0], parsedZone = _parseISODate[1];
        return parseDataToDateTime(vals, parsedZone, opts, "ISO 8601", text2);
      };
      DateTime2.fromRFC2822 = function fromRFC2822(text2, opts) {
        if (opts === void 0) {
          opts = {};
        }
        var _parseRFC2822Date = parseRFC2822Date(text2), vals = _parseRFC2822Date[0], parsedZone = _parseRFC2822Date[1];
        return parseDataToDateTime(vals, parsedZone, opts, "RFC 2822", text2);
      };
      DateTime2.fromHTTP = function fromHTTP(text2, opts) {
        if (opts === void 0) {
          opts = {};
        }
        var _parseHTTPDate = parseHTTPDate(text2), vals = _parseHTTPDate[0], parsedZone = _parseHTTPDate[1];
        return parseDataToDateTime(vals, parsedZone, opts, "HTTP", opts);
      };
      DateTime2.fromFormat = function fromFormat(text2, fmt, opts) {
        if (opts === void 0) {
          opts = {};
        }
        if (isUndefined(text2) || isUndefined(fmt)) {
          throw new InvalidArgumentError("fromFormat requires an input string and a format");
        }
        var _opts = opts, _opts$locale = _opts.locale, locale = _opts$locale === void 0 ? null : _opts$locale, _opts$numberingSystem = _opts.numberingSystem, numberingSystem = _opts$numberingSystem === void 0 ? null : _opts$numberingSystem, localeToUse = Locale.fromOpts({
          locale,
          numberingSystem,
          defaultToEN: true
        }), _parseFromTokens = parseFromTokens(localeToUse, text2, fmt), vals = _parseFromTokens[0], parsedZone = _parseFromTokens[1], specificOffset = _parseFromTokens[2], invalid = _parseFromTokens[3];
        if (invalid) {
          return DateTime2.invalid(invalid);
        } else {
          return parseDataToDateTime(vals, parsedZone, opts, "format " + fmt, text2, specificOffset);
        }
      };
      DateTime2.fromString = function fromString(text2, fmt, opts) {
        if (opts === void 0) {
          opts = {};
        }
        return DateTime2.fromFormat(text2, fmt, opts);
      };
      DateTime2.fromSQL = function fromSQL(text2, opts) {
        if (opts === void 0) {
          opts = {};
        }
        var _parseSQL = parseSQL(text2), vals = _parseSQL[0], parsedZone = _parseSQL[1];
        return parseDataToDateTime(vals, parsedZone, opts, "SQL", text2);
      };
      DateTime2.invalid = function invalid(reason, explanation) {
        if (explanation === void 0) {
          explanation = null;
        }
        if (!reason) {
          throw new InvalidArgumentError("need to specify a reason the DateTime is invalid");
        }
        var invalid2 = reason instanceof Invalid ? reason : new Invalid(reason, explanation);
        if (Settings.throwOnInvalid) {
          throw new InvalidDateTimeError(invalid2);
        } else {
          return new DateTime2({
            invalid: invalid2
          });
        }
      };
      DateTime2.isDateTime = function isDateTime(o) {
        return o && o.isLuxonDateTime || false;
      };
      var _proto = DateTime2.prototype;
      _proto.get = function get(unit) {
        return this[unit];
      };
      _proto.resolvedLocaleOptions = function resolvedLocaleOptions(opts) {
        if (opts === void 0) {
          opts = {};
        }
        var _Formatter$create$res = Formatter.create(this.loc.clone(opts), opts).resolvedOptions(this), locale = _Formatter$create$res.locale, numberingSystem = _Formatter$create$res.numberingSystem, calendar = _Formatter$create$res.calendar;
        return {
          locale,
          numberingSystem,
          outputCalendar: calendar
        };
      };
      _proto.toUTC = function toUTC(offset2, opts) {
        if (offset2 === void 0) {
          offset2 = 0;
        }
        if (opts === void 0) {
          opts = {};
        }
        return this.setZone(FixedOffsetZone.instance(offset2), opts);
      };
      _proto.toLocal = function toLocal() {
        return this.setZone(Settings.defaultZone);
      };
      _proto.setZone = function setZone(zone, _temp) {
        var _ref2 = _temp === void 0 ? {} : _temp, _ref2$keepLocalTime = _ref2.keepLocalTime, keepLocalTime = _ref2$keepLocalTime === void 0 ? false : _ref2$keepLocalTime, _ref2$keepCalendarTim = _ref2.keepCalendarTime, keepCalendarTime = _ref2$keepCalendarTim === void 0 ? false : _ref2$keepCalendarTim;
        zone = normalizeZone(zone, Settings.defaultZone);
        if (zone.equals(this.zone)) {
          return this;
        } else if (!zone.isValid) {
          return DateTime2.invalid(unsupportedZone(zone));
        } else {
          var newTS = this.ts;
          if (keepLocalTime || keepCalendarTime) {
            var offsetGuess = zone.offset(this.ts);
            var asObj = this.toObject();
            var _objToTS3 = objToTS(asObj, offsetGuess, zone);
            newTS = _objToTS3[0];
          }
          return clone(this, {
            ts: newTS,
            zone
          });
        }
      };
      _proto.reconfigure = function reconfigure(_temp2) {
        var _ref3 = _temp2 === void 0 ? {} : _temp2, locale = _ref3.locale, numberingSystem = _ref3.numberingSystem, outputCalendar = _ref3.outputCalendar;
        var loc = this.loc.clone({
          locale,
          numberingSystem,
          outputCalendar
        });
        return clone(this, {
          loc
        });
      };
      _proto.setLocale = function setLocale(locale) {
        return this.reconfigure({
          locale
        });
      };
      _proto.set = function set(values) {
        if (!this.isValid)
          return this;
        var normalized = normalizeObject(values, normalizeUnit), settingWeekStuff = !isUndefined(normalized.weekYear) || !isUndefined(normalized.weekNumber) || !isUndefined(normalized.weekday), containsOrdinal = !isUndefined(normalized.ordinal), containsGregorYear = !isUndefined(normalized.year), containsGregorMD = !isUndefined(normalized.month) || !isUndefined(normalized.day), containsGregor = containsGregorYear || containsGregorMD, definiteWeekDef = normalized.weekYear || normalized.weekNumber;
        if ((containsGregor || containsOrdinal) && definiteWeekDef) {
          throw new ConflictingSpecificationError("Can't mix weekYear/weekNumber units with year/month/day or ordinals");
        }
        if (containsGregorMD && containsOrdinal) {
          throw new ConflictingSpecificationError("Can't mix ordinal dates with month/day");
        }
        var mixed;
        if (settingWeekStuff) {
          mixed = weekToGregorian(_extends({}, gregorianToWeek(this.c), normalized));
        } else if (!isUndefined(normalized.ordinal)) {
          mixed = ordinalToGregorian(_extends({}, gregorianToOrdinal(this.c), normalized));
        } else {
          mixed = _extends({}, this.toObject(), normalized);
          if (isUndefined(normalized.day)) {
            mixed.day = Math.min(daysInMonth(mixed.year, mixed.month), mixed.day);
          }
        }
        var _objToTS4 = objToTS(mixed, this.o, this.zone), ts = _objToTS4[0], o = _objToTS4[1];
        return clone(this, {
          ts,
          o
        });
      };
      _proto.plus = function plus(duration) {
        if (!this.isValid)
          return this;
        var dur = Duration.fromDurationLike(duration);
        return clone(this, adjustTime(this, dur));
      };
      _proto.minus = function minus(duration) {
        if (!this.isValid)
          return this;
        var dur = Duration.fromDurationLike(duration).negate();
        return clone(this, adjustTime(this, dur));
      };
      _proto.startOf = function startOf(unit) {
        if (!this.isValid)
          return this;
        var o = {}, normalizedUnit = Duration.normalizeUnit(unit);
        switch (normalizedUnit) {
          case "years":
            o.month = 1;
          case "quarters":
          case "months":
            o.day = 1;
          case "weeks":
          case "days":
            o.hour = 0;
          case "hours":
            o.minute = 0;
          case "minutes":
            o.second = 0;
          case "seconds":
            o.millisecond = 0;
            break;
        }
        if (normalizedUnit === "weeks") {
          o.weekday = 1;
        }
        if (normalizedUnit === "quarters") {
          var q = Math.ceil(this.month / 3);
          o.month = (q - 1) * 3 + 1;
        }
        return this.set(o);
      };
      _proto.endOf = function endOf(unit) {
        var _this$plus;
        return this.isValid ? this.plus((_this$plus = {}, _this$plus[unit] = 1, _this$plus)).startOf(unit).minus(1) : this;
      };
      _proto.toFormat = function toFormat(fmt, opts) {
        if (opts === void 0) {
          opts = {};
        }
        return this.isValid ? Formatter.create(this.loc.redefaultToEN(opts)).formatDateTimeFromString(this, fmt) : INVALID;
      };
      _proto.toLocaleString = function toLocaleString(formatOpts, opts) {
        if (formatOpts === void 0) {
          formatOpts = DATE_SHORT;
        }
        if (opts === void 0) {
          opts = {};
        }
        return this.isValid ? Formatter.create(this.loc.clone(opts), formatOpts).formatDateTime(this) : INVALID;
      };
      _proto.toLocaleParts = function toLocaleParts(opts) {
        if (opts === void 0) {
          opts = {};
        }
        return this.isValid ? Formatter.create(this.loc.clone(opts), opts).formatDateTimeParts(this) : [];
      };
      _proto.toISO = function toISO(_temp3) {
        var _ref4 = _temp3 === void 0 ? {} : _temp3, _ref4$format = _ref4.format, format = _ref4$format === void 0 ? "extended" : _ref4$format, _ref4$suppressSeconds = _ref4.suppressSeconds, suppressSeconds = _ref4$suppressSeconds === void 0 ? false : _ref4$suppressSeconds, _ref4$suppressMillise = _ref4.suppressMilliseconds, suppressMilliseconds = _ref4$suppressMillise === void 0 ? false : _ref4$suppressMillise, _ref4$includeOffset = _ref4.includeOffset, includeOffset = _ref4$includeOffset === void 0 ? true : _ref4$includeOffset, _ref4$extendedZone = _ref4.extendedZone, extendedZone = _ref4$extendedZone === void 0 ? false : _ref4$extendedZone;
        if (!this.isValid) {
          return null;
        }
        var ext = format === "extended";
        var c = _toISODate(this, ext);
        c += "T";
        c += _toISOTime(this, ext, suppressSeconds, suppressMilliseconds, includeOffset, extendedZone);
        return c;
      };
      _proto.toISODate = function toISODate(_temp4) {
        var _ref5 = _temp4 === void 0 ? {} : _temp4, _ref5$format = _ref5.format, format = _ref5$format === void 0 ? "extended" : _ref5$format;
        if (!this.isValid) {
          return null;
        }
        return _toISODate(this, format === "extended");
      };
      _proto.toISOWeekDate = function toISOWeekDate() {
        return toTechFormat(this, "kkkk-'W'WW-c");
      };
      _proto.toISOTime = function toISOTime(_temp5) {
        var _ref6 = _temp5 === void 0 ? {} : _temp5, _ref6$suppressMillise = _ref6.suppressMilliseconds, suppressMilliseconds = _ref6$suppressMillise === void 0 ? false : _ref6$suppressMillise, _ref6$suppressSeconds = _ref6.suppressSeconds, suppressSeconds = _ref6$suppressSeconds === void 0 ? false : _ref6$suppressSeconds, _ref6$includeOffset = _ref6.includeOffset, includeOffset = _ref6$includeOffset === void 0 ? true : _ref6$includeOffset, _ref6$includePrefix = _ref6.includePrefix, includePrefix = _ref6$includePrefix === void 0 ? false : _ref6$includePrefix, _ref6$extendedZone = _ref6.extendedZone, extendedZone = _ref6$extendedZone === void 0 ? false : _ref6$extendedZone, _ref6$format = _ref6.format, format = _ref6$format === void 0 ? "extended" : _ref6$format;
        if (!this.isValid) {
          return null;
        }
        var c = includePrefix ? "T" : "";
        return c + _toISOTime(this, format === "extended", suppressSeconds, suppressMilliseconds, includeOffset, extendedZone);
      };
      _proto.toRFC2822 = function toRFC2822() {
        return toTechFormat(this, "EEE, dd LLL yyyy HH:mm:ss ZZZ", false);
      };
      _proto.toHTTP = function toHTTP() {
        return toTechFormat(this.toUTC(), "EEE, dd LLL yyyy HH:mm:ss 'GMT'");
      };
      _proto.toSQLDate = function toSQLDate() {
        if (!this.isValid) {
          return null;
        }
        return _toISODate(this, true);
      };
      _proto.toSQLTime = function toSQLTime(_temp6) {
        var _ref7 = _temp6 === void 0 ? {} : _temp6, _ref7$includeOffset = _ref7.includeOffset, includeOffset = _ref7$includeOffset === void 0 ? true : _ref7$includeOffset, _ref7$includeZone = _ref7.includeZone, includeZone = _ref7$includeZone === void 0 ? false : _ref7$includeZone, _ref7$includeOffsetSp = _ref7.includeOffsetSpace, includeOffsetSpace = _ref7$includeOffsetSp === void 0 ? true : _ref7$includeOffsetSp;
        var fmt = "HH:mm:ss.SSS";
        if (includeZone || includeOffset) {
          if (includeOffsetSpace) {
            fmt += " ";
          }
          if (includeZone) {
            fmt += "z";
          } else if (includeOffset) {
            fmt += "ZZ";
          }
        }
        return toTechFormat(this, fmt, true);
      };
      _proto.toSQL = function toSQL(opts) {
        if (opts === void 0) {
          opts = {};
        }
        if (!this.isValid) {
          return null;
        }
        return this.toSQLDate() + " " + this.toSQLTime(opts);
      };
      _proto.toString = function toString() {
        return this.isValid ? this.toISO() : INVALID;
      };
      _proto.valueOf = function valueOf() {
        return this.toMillis();
      };
      _proto.toMillis = function toMillis() {
        return this.isValid ? this.ts : NaN;
      };
      _proto.toSeconds = function toSeconds() {
        return this.isValid ? this.ts / 1e3 : NaN;
      };
      _proto.toUnixInteger = function toUnixInteger() {
        return this.isValid ? Math.floor(this.ts / 1e3) : NaN;
      };
      _proto.toJSON = function toJSON() {
        return this.toISO();
      };
      _proto.toBSON = function toBSON() {
        return this.toJSDate();
      };
      _proto.toObject = function toObject(opts) {
        if (opts === void 0) {
          opts = {};
        }
        if (!this.isValid)
          return {};
        var base = _extends({}, this.c);
        if (opts.includeConfig) {
          base.outputCalendar = this.outputCalendar;
          base.numberingSystem = this.loc.numberingSystem;
          base.locale = this.loc.locale;
        }
        return base;
      };
      _proto.toJSDate = function toJSDate() {
        return new Date(this.isValid ? this.ts : NaN);
      };
      _proto.diff = function diff(otherDateTime, unit, opts) {
        if (unit === void 0) {
          unit = "milliseconds";
        }
        if (opts === void 0) {
          opts = {};
        }
        if (!this.isValid || !otherDateTime.isValid) {
          return Duration.invalid("created by diffing an invalid DateTime");
        }
        var durOpts = _extends({
          locale: this.locale,
          numberingSystem: this.numberingSystem
        }, opts);
        var units = maybeArray(unit).map(Duration.normalizeUnit), otherIsLater = otherDateTime.valueOf() > this.valueOf(), earlier = otherIsLater ? this : otherDateTime, later = otherIsLater ? otherDateTime : this, diffed = _diff(earlier, later, units, durOpts);
        return otherIsLater ? diffed.negate() : diffed;
      };
      _proto.diffNow = function diffNow(unit, opts) {
        if (unit === void 0) {
          unit = "milliseconds";
        }
        if (opts === void 0) {
          opts = {};
        }
        return this.diff(DateTime2.now(), unit, opts);
      };
      _proto.until = function until(otherDateTime) {
        return this.isValid ? Interval.fromDateTimes(this, otherDateTime) : this;
      };
      _proto.hasSame = function hasSame(otherDateTime, unit) {
        if (!this.isValid)
          return false;
        var inputMs = otherDateTime.valueOf();
        var adjustedToZone = this.setZone(otherDateTime.zone, {
          keepLocalTime: true
        });
        return adjustedToZone.startOf(unit) <= inputMs && inputMs <= adjustedToZone.endOf(unit);
      };
      _proto.equals = function equals(other) {
        return this.isValid && other.isValid && this.valueOf() === other.valueOf() && this.zone.equals(other.zone) && this.loc.equals(other.loc);
      };
      _proto.toRelative = function toRelative(options) {
        if (options === void 0) {
          options = {};
        }
        if (!this.isValid)
          return null;
        var base = options.base || DateTime2.fromObject({}, {
          zone: this.zone
        }), padding = options.padding ? this < base ? -options.padding : options.padding : 0;
        var units = ["years", "months", "days", "hours", "minutes", "seconds"];
        var unit = options.unit;
        if (Array.isArray(options.unit)) {
          units = options.unit;
          unit = void 0;
        }
        return diffRelative(base, this.plus(padding), _extends({}, options, {
          numeric: "always",
          units,
          unit
        }));
      };
      _proto.toRelativeCalendar = function toRelativeCalendar(options) {
        if (options === void 0) {
          options = {};
        }
        if (!this.isValid)
          return null;
        return diffRelative(options.base || DateTime2.fromObject({}, {
          zone: this.zone
        }), this, _extends({}, options, {
          numeric: "auto",
          units: ["years", "months", "days"],
          calendary: true
        }));
      };
      DateTime2.min = function min() {
        for (var _len = arguments.length, dateTimes = new Array(_len), _key = 0; _key < _len; _key++) {
          dateTimes[_key] = arguments[_key];
        }
        if (!dateTimes.every(DateTime2.isDateTime)) {
          throw new InvalidArgumentError("min requires all arguments be DateTimes");
        }
        return bestBy(dateTimes, function(i) {
          return i.valueOf();
        }, Math.min);
      };
      DateTime2.max = function max() {
        for (var _len2 = arguments.length, dateTimes = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
          dateTimes[_key2] = arguments[_key2];
        }
        if (!dateTimes.every(DateTime2.isDateTime)) {
          throw new InvalidArgumentError("max requires all arguments be DateTimes");
        }
        return bestBy(dateTimes, function(i) {
          return i.valueOf();
        }, Math.max);
      };
      DateTime2.fromFormatExplain = function fromFormatExplain(text2, fmt, options) {
        if (options === void 0) {
          options = {};
        }
        var _options = options, _options$locale = _options.locale, locale = _options$locale === void 0 ? null : _options$locale, _options$numberingSys = _options.numberingSystem, numberingSystem = _options$numberingSys === void 0 ? null : _options$numberingSys, localeToUse = Locale.fromOpts({
          locale,
          numberingSystem,
          defaultToEN: true
        });
        return explainFromTokens(localeToUse, text2, fmt);
      };
      DateTime2.fromStringExplain = function fromStringExplain(text2, fmt, options) {
        if (options === void 0) {
          options = {};
        }
        return DateTime2.fromFormatExplain(text2, fmt, options);
      };
      _createClass(DateTime2, [{
        key: "isValid",
        get: function get() {
          return this.invalid === null;
        }
      }, {
        key: "invalidReason",
        get: function get() {
          return this.invalid ? this.invalid.reason : null;
        }
      }, {
        key: "invalidExplanation",
        get: function get() {
          return this.invalid ? this.invalid.explanation : null;
        }
      }, {
        key: "locale",
        get: function get() {
          return this.isValid ? this.loc.locale : null;
        }
      }, {
        key: "numberingSystem",
        get: function get() {
          return this.isValid ? this.loc.numberingSystem : null;
        }
      }, {
        key: "outputCalendar",
        get: function get() {
          return this.isValid ? this.loc.outputCalendar : null;
        }
      }, {
        key: "zone",
        get: function get() {
          return this._zone;
        }
      }, {
        key: "zoneName",
        get: function get() {
          return this.isValid ? this.zone.name : null;
        }
      }, {
        key: "year",
        get: function get() {
          return this.isValid ? this.c.year : NaN;
        }
      }, {
        key: "quarter",
        get: function get() {
          return this.isValid ? Math.ceil(this.c.month / 3) : NaN;
        }
      }, {
        key: "month",
        get: function get() {
          return this.isValid ? this.c.month : NaN;
        }
      }, {
        key: "day",
        get: function get() {
          return this.isValid ? this.c.day : NaN;
        }
      }, {
        key: "hour",
        get: function get() {
          return this.isValid ? this.c.hour : NaN;
        }
      }, {
        key: "minute",
        get: function get() {
          return this.isValid ? this.c.minute : NaN;
        }
      }, {
        key: "second",
        get: function get() {
          return this.isValid ? this.c.second : NaN;
        }
      }, {
        key: "millisecond",
        get: function get() {
          return this.isValid ? this.c.millisecond : NaN;
        }
      }, {
        key: "weekYear",
        get: function get() {
          return this.isValid ? possiblyCachedWeekData(this).weekYear : NaN;
        }
      }, {
        key: "weekNumber",
        get: function get() {
          return this.isValid ? possiblyCachedWeekData(this).weekNumber : NaN;
        }
      }, {
        key: "weekday",
        get: function get() {
          return this.isValid ? possiblyCachedWeekData(this).weekday : NaN;
        }
      }, {
        key: "ordinal",
        get: function get() {
          return this.isValid ? gregorianToOrdinal(this.c).ordinal : NaN;
        }
      }, {
        key: "monthShort",
        get: function get() {
          return this.isValid ? Info.months("short", {
            locObj: this.loc
          })[this.month - 1] : null;
        }
      }, {
        key: "monthLong",
        get: function get() {
          return this.isValid ? Info.months("long", {
            locObj: this.loc
          })[this.month - 1] : null;
        }
      }, {
        key: "weekdayShort",
        get: function get() {
          return this.isValid ? Info.weekdays("short", {
            locObj: this.loc
          })[this.weekday - 1] : null;
        }
      }, {
        key: "weekdayLong",
        get: function get() {
          return this.isValid ? Info.weekdays("long", {
            locObj: this.loc
          })[this.weekday - 1] : null;
        }
      }, {
        key: "offset",
        get: function get() {
          return this.isValid ? +this.o : NaN;
        }
      }, {
        key: "offsetNameShort",
        get: function get() {
          if (this.isValid) {
            return this.zone.offsetName(this.ts, {
              format: "short",
              locale: this.locale
            });
          } else {
            return null;
          }
        }
      }, {
        key: "offsetNameLong",
        get: function get() {
          if (this.isValid) {
            return this.zone.offsetName(this.ts, {
              format: "long",
              locale: this.locale
            });
          } else {
            return null;
          }
        }
      }, {
        key: "isOffsetFixed",
        get: function get() {
          return this.isValid ? this.zone.isUniversal : null;
        }
      }, {
        key: "isInDST",
        get: function get() {
          if (this.isOffsetFixed) {
            return false;
          } else {
            return this.offset > this.set({
              month: 1,
              day: 1
            }).offset || this.offset > this.set({
              month: 5
            }).offset;
          }
        }
      }, {
        key: "isInLeapYear",
        get: function get() {
          return isLeapYear(this.year);
        }
      }, {
        key: "daysInMonth",
        get: function get() {
          return daysInMonth(this.year, this.month);
        }
      }, {
        key: "daysInYear",
        get: function get() {
          return this.isValid ? daysInYear(this.year) : NaN;
        }
      }, {
        key: "weeksInWeekYear",
        get: function get() {
          return this.isValid ? weeksInWeekYear(this.weekYear) : NaN;
        }
      }], [{
        key: "DATE_SHORT",
        get: function get() {
          return DATE_SHORT;
        }
      }, {
        key: "DATE_MED",
        get: function get() {
          return DATE_MED;
        }
      }, {
        key: "DATE_MED_WITH_WEEKDAY",
        get: function get() {
          return DATE_MED_WITH_WEEKDAY;
        }
      }, {
        key: "DATE_FULL",
        get: function get() {
          return DATE_FULL;
        }
      }, {
        key: "DATE_HUGE",
        get: function get() {
          return DATE_HUGE;
        }
      }, {
        key: "TIME_SIMPLE",
        get: function get() {
          return TIME_SIMPLE;
        }
      }, {
        key: "TIME_WITH_SECONDS",
        get: function get() {
          return TIME_WITH_SECONDS;
        }
      }, {
        key: "TIME_WITH_SHORT_OFFSET",
        get: function get() {
          return TIME_WITH_SHORT_OFFSET;
        }
      }, {
        key: "TIME_WITH_LONG_OFFSET",
        get: function get() {
          return TIME_WITH_LONG_OFFSET;
        }
      }, {
        key: "TIME_24_SIMPLE",
        get: function get() {
          return TIME_24_SIMPLE;
        }
      }, {
        key: "TIME_24_WITH_SECONDS",
        get: function get() {
          return TIME_24_WITH_SECONDS;
        }
      }, {
        key: "TIME_24_WITH_SHORT_OFFSET",
        get: function get() {
          return TIME_24_WITH_SHORT_OFFSET;
        }
      }, {
        key: "TIME_24_WITH_LONG_OFFSET",
        get: function get() {
          return TIME_24_WITH_LONG_OFFSET;
        }
      }, {
        key: "DATETIME_SHORT",
        get: function get() {
          return DATETIME_SHORT;
        }
      }, {
        key: "DATETIME_SHORT_WITH_SECONDS",
        get: function get() {
          return DATETIME_SHORT_WITH_SECONDS;
        }
      }, {
        key: "DATETIME_MED",
        get: function get() {
          return DATETIME_MED;
        }
      }, {
        key: "DATETIME_MED_WITH_SECONDS",
        get: function get() {
          return DATETIME_MED_WITH_SECONDS;
        }
      }, {
        key: "DATETIME_MED_WITH_WEEKDAY",
        get: function get() {
          return DATETIME_MED_WITH_WEEKDAY;
        }
      }, {
        key: "DATETIME_FULL",
        get: function get() {
          return DATETIME_FULL;
        }
      }, {
        key: "DATETIME_FULL_WITH_SECONDS",
        get: function get() {
          return DATETIME_FULL_WITH_SECONDS;
        }
      }, {
        key: "DATETIME_HUGE",
        get: function get() {
          return DATETIME_HUGE;
        }
      }, {
        key: "DATETIME_HUGE_WITH_SECONDS",
        get: function get() {
          return DATETIME_HUGE_WITH_SECONDS;
        }
      }]);
      return DateTime2;
    }();
    function friendlyDateTime(dateTimeish) {
      if (DateTime.isDateTime(dateTimeish)) {
        return dateTimeish;
      } else if (dateTimeish && dateTimeish.valueOf && isNumber(dateTimeish.valueOf())) {
        return DateTime.fromJSDate(dateTimeish);
      } else if (dateTimeish && typeof dateTimeish === "object") {
        return DateTime.fromObject(dateTimeish);
      } else {
        throw new InvalidArgumentError("Unknown datetime argument: " + dateTimeish + ", of type " + typeof dateTimeish);
      }
    }
    var VERSION = "2.4.0";
    var DateTime_1 = luxon.DateTime = DateTime;
    var Duration_1 = luxon.Duration = Duration;
    luxon.FixedOffsetZone = FixedOffsetZone;
    luxon.IANAZone = IANAZone;
    luxon.Info = Info;
    luxon.Interval = Interval;
    luxon.InvalidZone = InvalidZone;
    luxon.Settings = Settings;
    luxon.SystemZone = SystemZone;
    luxon.VERSION = VERSION;
    luxon.Zone = Zone;
    var DEFAULT_QUERY_SETTINGS = {
      renderNullAs: "\\-",
      taskCompletionTracking: false,
      taskCompletionUseEmojiShorthand: false,
      taskCompletionText: "completion",
      taskCompletionDateFormat: "yyyy-MM-dd",
      recursiveSubTaskCompletion: false,
      warnOnEmptyResult: true,
      refreshEnabled: true,
      refreshInterval: 2500,
      defaultDateFormat: "MMMM dd, yyyy",
      defaultDateTimeFormat: "h:mm a - MMMM dd, yyyy",
      maxRecursiveRenderDepth: 4,
      tableIdColumnName: "File",
      tableGroupColumnName: "Group"
    };
    var DEFAULT_EXPORT_SETTINGS = {
      allowHtml: true
    };
    __spreadValues(__spreadValues(__spreadValues({}, DEFAULT_QUERY_SETTINGS), DEFAULT_EXPORT_SETTINGS), {
      inlineQueryPrefix: "=",
      inlineJsQueryPrefix: "$=",
      inlineQueriesInCodeblocks: true,
      enableInlineDataview: true,
      enableDataviewJs: false,
      enableInlineDataviewJs: false,
      prettyRenderInlineFields: true
    });
    var Success = class {
      constructor(value) {
        this.value = value;
        this.successful = true;
      }
      map(f) {
        return new Success(f(this.value));
      }
      flatMap(f) {
        return f(this.value);
      }
      mapErr(f) {
        return this;
      }
      bimap(succ, _fail) {
        return this.map(succ);
      }
      orElse(_value) {
        return this.value;
      }
      cast() {
        return this;
      }
      orElseThrow(_message) {
        return this.value;
      }
    };
    var Failure = class {
      constructor(error) {
        this.error = error;
        this.successful = false;
      }
      map(_f) {
        return this;
      }
      flatMap(_f) {
        return this;
      }
      mapErr(f) {
        return new Failure(f(this.error));
      }
      bimap(_succ, fail) {
        return this.mapErr(fail);
      }
      orElse(value) {
        return value;
      }
      cast() {
        return this;
      }
      orElseThrow(message) {
        if (message)
          throw new Error(message(this.error));
        else
          throw new Error("" + this.error);
      }
    };
    var Result;
    (function(Result2) {
      function success(value) {
        return new Success(value);
      }
      Result2.success = success;
      function failure(error) {
        return new Failure(error);
      }
      Result2.failure = failure;
      function flatMap2(first, second, f) {
        if (first.successful) {
          if (second.successful)
            return f(first.value, second.value);
          else
            return failure(second.error);
        } else {
          return failure(first.error);
        }
      }
      Result2.flatMap2 = flatMap2;
      function map2(first, second, f) {
        return flatMap2(first, second, (a, b) => success(f(a, b)));
      }
      Result2.map2 = map2;
    })(Result || (Result = {}));
    var parsimmon_umd_min = { exports: {} };
    (function(module3, exports2) {
      !function(n2, t) {
        module3.exports = t();
      }("undefined" != typeof self ? self : commonjsGlobal, function() {
        return function(n2) {
          var t = {};
          function r(e) {
            if (t[e])
              return t[e].exports;
            var u = t[e] = { i: e, l: false, exports: {} };
            return n2[e].call(u.exports, u, u.exports, r), u.l = true, u.exports;
          }
          return r.m = n2, r.c = t, r.d = function(n3, t2, e) {
            r.o(n3, t2) || Object.defineProperty(n3, t2, { configurable: false, enumerable: true, get: e });
          }, r.r = function(n3) {
            Object.defineProperty(n3, "__esModule", { value: true });
          }, r.n = function(n3) {
            var t2 = n3 && n3.__esModule ? function() {
              return n3.default;
            } : function() {
              return n3;
            };
            return r.d(t2, "a", t2), t2;
          }, r.o = function(n3, t2) {
            return Object.prototype.hasOwnProperty.call(n3, t2);
          }, r.p = "", r(r.s = 0);
        }([function(n2, t, r) {
          function e(n3) {
            if (!(this instanceof e))
              return new e(n3);
            this._ = n3;
          }
          var u = e.prototype;
          function o(n3, t2) {
            for (var r2 = 0; r2 < n3; r2++)
              t2(r2);
          }
          function i(n3, t2, r2) {
            return function(n4, t3) {
              o(t3.length, function(r3) {
                n4(t3[r3], r3, t3);
              });
            }(function(r3, e2, u2) {
              t2 = n3(t2, r3, e2, u2);
            }, r2), t2;
          }
          function a(n3, t2) {
            return i(function(t3, r2, e2, u2) {
              return t3.concat([n3(r2, e2, u2)]);
            }, [], t2);
          }
          function f(n3, t2) {
            var r2 = { v: 0, buf: t2 };
            return o(n3, function() {
              var n4;
              r2 = { v: r2.v << 1 | (n4 = r2.buf, n4[0] >> 7), buf: function(n5) {
                var t3 = i(function(n6, t4, r3, e2) {
                  return n6.concat(r3 === e2.length - 1 ? Buffer.from([t4, 0]).readUInt16BE(0) : e2.readUInt16BE(r3));
                }, [], n5);
                return Buffer.from(a(function(n6) {
                  return (n6 << 1 & 65535) >> 8;
                }, t3));
              }(r2.buf) };
            }), r2;
          }
          function c() {
            return "undefined" != typeof Buffer;
          }
          function s2() {
            if (!c())
              throw new Error("Buffer global does not exist; please use webpack if you need to parse Buffers in the browser.");
          }
          function l2(n3) {
            s2();
            var t2 = i(function(n4, t3) {
              return n4 + t3;
            }, 0, n3);
            if (t2 % 8 != 0)
              throw new Error("The bits [" + n3.join(", ") + "] add up to " + t2 + " which is not an even number of bytes; the total should be divisible by 8");
            var r2, u2 = t2 / 8, o2 = (r2 = function(n4) {
              return n4 > 48;
            }, i(function(n4, t3) {
              return n4 || (r2(t3) ? t3 : n4);
            }, null, n3));
            if (o2)
              throw new Error(o2 + " bit range requested exceeds 48 bit (6 byte) Number max.");
            return new e(function(t3, r3) {
              var e2 = u2 + r3;
              return e2 > t3.length ? x(r3, u2.toString() + " bytes") : b(e2, i(function(n4, t4) {
                var r4 = f(t4, n4.buf);
                return { coll: n4.coll.concat(r4.v), buf: r4.buf };
              }, { coll: [], buf: t3.slice(r3, e2) }, n3).coll);
            });
          }
          function h(n3, t2) {
            return new e(function(r2, e2) {
              return s2(), e2 + t2 > r2.length ? x(e2, t2 + " bytes for " + n3) : b(e2 + t2, r2.slice(e2, e2 + t2));
            });
          }
          function p(n3, t2) {
            if ("number" != typeof (r2 = t2) || Math.floor(r2) !== r2 || t2 < 0 || t2 > 6)
              throw new Error(n3 + " requires integer length in range [0, 6].");
            var r2;
          }
          function d(n3) {
            return p("uintBE", n3), h("uintBE(" + n3 + ")", n3).map(function(t2) {
              return t2.readUIntBE(0, n3);
            });
          }
          function v(n3) {
            return p("uintLE", n3), h("uintLE(" + n3 + ")", n3).map(function(t2) {
              return t2.readUIntLE(0, n3);
            });
          }
          function g(n3) {
            return p("intBE", n3), h("intBE(" + n3 + ")", n3).map(function(t2) {
              return t2.readIntBE(0, n3);
            });
          }
          function m(n3) {
            return p("intLE", n3), h("intLE(" + n3 + ")", n3).map(function(t2) {
              return t2.readIntLE(0, n3);
            });
          }
          function y(n3) {
            return n3 instanceof e;
          }
          function E(n3) {
            return "[object Array]" === {}.toString.call(n3);
          }
          function w(n3) {
            return c() && Buffer.isBuffer(n3);
          }
          function b(n3, t2) {
            return { status: true, index: n3, value: t2, furthest: -1, expected: [] };
          }
          function x(n3, t2) {
            return E(t2) || (t2 = [t2]), { status: false, index: -1, value: null, furthest: n3, expected: t2 };
          }
          function B(n3, t2) {
            if (!t2)
              return n3;
            if (n3.furthest > t2.furthest)
              return n3;
            var r2 = n3.furthest === t2.furthest ? function(n4, t3) {
              if (function() {
                if (void 0 !== e._supportsSet)
                  return e._supportsSet;
                var n5 = "undefined" != typeof Set;
                return e._supportsSet = n5, n5;
              }() && Array.from) {
                for (var r3 = new Set(n4), u2 = 0; u2 < t3.length; u2++)
                  r3.add(t3[u2]);
                var o2 = Array.from(r3);
                return o2.sort(), o2;
              }
              for (var i2 = {}, a2 = 0; a2 < n4.length; a2++)
                i2[n4[a2]] = true;
              for (var f2 = 0; f2 < t3.length; f2++)
                i2[t3[f2]] = true;
              var c2 = [];
              for (var s3 in i2)
                ({}).hasOwnProperty.call(i2, s3) && c2.push(s3);
              return c2.sort(), c2;
            }(n3.expected, t2.expected) : t2.expected;
            return { status: n3.status, index: n3.index, value: n3.value, furthest: t2.furthest, expected: r2 };
          }
          var j = {};
          function S(n3, t2) {
            if (w(n3))
              return { offset: t2, line: -1, column: -1 };
            n3 in j || (j[n3] = {});
            for (var r2 = j[n3], e2 = 0, u2 = 0, o2 = 0, i2 = t2; i2 >= 0; ) {
              if (i2 in r2) {
                e2 = r2[i2].line, 0 === o2 && (o2 = r2[i2].lineStart);
                break;
              }
              ("\n" === n3.charAt(i2) || "\r" === n3.charAt(i2) && "\n" !== n3.charAt(i2 + 1)) && (u2++, 0 === o2 && (o2 = i2 + 1)), i2--;
            }
            var a2 = e2 + u2, f2 = t2 - o2;
            return r2[t2] = { line: a2, lineStart: o2 }, { offset: t2, line: a2 + 1, column: f2 + 1 };
          }
          function _(n3) {
            if (!y(n3))
              throw new Error("not a parser: " + n3);
          }
          function L(n3, t2) {
            return "string" == typeof n3 ? n3.charAt(t2) : n3[t2];
          }
          function O(n3) {
            if ("number" != typeof n3)
              throw new Error("not a number: " + n3);
          }
          function k(n3) {
            if ("function" != typeof n3)
              throw new Error("not a function: " + n3);
          }
          function P(n3) {
            if ("string" != typeof n3)
              throw new Error("not a string: " + n3);
          }
          var q = 2, A = 3, I = 8, F = 5 * I, M = 4 * I, z = "  ";
          function R(n3, t2) {
            return new Array(t2 + 1).join(n3);
          }
          function U(n3, t2, r2) {
            var e2 = t2 - n3.length;
            return e2 <= 0 ? n3 : R(r2, e2) + n3;
          }
          function W(n3, t2, r2, e2) {
            return { from: n3 - t2 > 0 ? n3 - t2 : 0, to: n3 + r2 > e2 ? e2 : n3 + r2 };
          }
          function D(n3, t2) {
            var r2, e2, u2, o2, f2, c2 = t2.index, s3 = c2.offset, l3 = 1;
            if (s3 === n3.length)
              return "Got the end of the input";
            if (w(n3)) {
              var h2 = s3 - s3 % I, p2 = s3 - h2, d2 = W(h2, F, M + I, n3.length), v2 = a(function(n4) {
                return a(function(n5) {
                  return U(n5.toString(16), 2, "0");
                }, n4);
              }, function(n4, t3) {
                var r3 = n4.length, e3 = [], u3 = 0;
                if (r3 <= t3)
                  return [n4.slice()];
                for (var o3 = 0; o3 < r3; o3++)
                  e3[u3] || e3.push([]), e3[u3].push(n4[o3]), (o3 + 1) % t3 == 0 && u3++;
                return e3;
              }(n3.slice(d2.from, d2.to).toJSON().data, I));
              o2 = function(n4) {
                return 0 === n4.from && 1 === n4.to ? { from: n4.from, to: n4.to } : { from: n4.from / I, to: Math.floor(n4.to / I) };
              }(d2), e2 = h2 / I, r2 = 3 * p2, p2 >= 4 && (r2 += 1), l3 = 2, u2 = a(function(n4) {
                return n4.length <= 4 ? n4.join(" ") : n4.slice(0, 4).join(" ") + "  " + n4.slice(4).join(" ");
              }, v2), (f2 = (8 * (o2.to > 0 ? o2.to - 1 : o2.to)).toString(16).length) < 2 && (f2 = 2);
            } else {
              var g2 = n3.split(/\r\n|[\n\r\u2028\u2029]/);
              r2 = c2.column - 1, e2 = c2.line - 1, o2 = W(e2, q, A, g2.length), u2 = g2.slice(o2.from, o2.to), f2 = o2.to.toString().length;
            }
            var m2 = e2 - o2.from;
            return w(n3) && (f2 = (8 * (o2.to > 0 ? o2.to - 1 : o2.to)).toString(16).length) < 2 && (f2 = 2), i(function(t3, e3, u3) {
              var i2, a2 = u3 === m2, c3 = a2 ? "> " : z;
              return i2 = w(n3) ? U((8 * (o2.from + u3)).toString(16), f2, "0") : U((o2.from + u3 + 1).toString(), f2, " "), [].concat(t3, [c3 + i2 + " | " + e3], a2 ? [z + R(" ", f2) + " | " + U("", r2, " ") + R("^", l3)] : []);
            }, [], u2).join("\n");
          }
          function N(n3, t2) {
            return ["\n", "-- PARSING FAILED " + R("-", 50), "\n\n", D(n3, t2), "\n\n", (r2 = t2.expected, 1 === r2.length ? "Expected:\n\n" + r2[0] : "Expected one of the following: \n\n" + r2.join(", ")), "\n"].join("");
            var r2;
          }
          function G(n3) {
            return void 0 !== n3.flags ? n3.flags : [n3.global ? "g" : "", n3.ignoreCase ? "i" : "", n3.multiline ? "m" : "", n3.unicode ? "u" : "", n3.sticky ? "y" : ""].join("");
          }
          function C() {
            for (var n3 = [].slice.call(arguments), t2 = n3.length, r2 = 0; r2 < t2; r2 += 1)
              _(n3[r2]);
            return e(function(r3, e2) {
              for (var u2, o2 = new Array(t2), i2 = 0; i2 < t2; i2 += 1) {
                if (!(u2 = B(n3[i2]._(r3, e2), u2)).status)
                  return u2;
                o2[i2] = u2.value, e2 = u2.index;
              }
              return B(b(e2, o2), u2);
            });
          }
          function J() {
            var n3 = [].slice.call(arguments);
            if (0 === n3.length)
              throw new Error("seqMap needs at least one argument");
            var t2 = n3.pop();
            return k(t2), C.apply(null, n3).map(function(n4) {
              return t2.apply(null, n4);
            });
          }
          function T() {
            var n3 = [].slice.call(arguments), t2 = n3.length;
            if (0 === t2)
              return Y("zero alternates");
            for (var r2 = 0; r2 < t2; r2 += 1)
              _(n3[r2]);
            return e(function(t3, r3) {
              for (var e2, u2 = 0; u2 < n3.length; u2 += 1)
                if ((e2 = B(n3[u2]._(t3, r3), e2)).status)
                  return e2;
              return e2;
            });
          }
          function V(n3, t2) {
            return H(n3, t2).or(X([]));
          }
          function H(n3, t2) {
            return _(n3), _(t2), J(n3, t2.then(n3).many(), function(n4, t3) {
              return [n4].concat(t3);
            });
          }
          function K(n3) {
            P(n3);
            var t2 = "'" + n3 + "'";
            return e(function(r2, e2) {
              var u2 = e2 + n3.length, o2 = r2.slice(e2, u2);
              return o2 === n3 ? b(u2, o2) : x(e2, t2);
            });
          }
          function Q(n3, t2) {
            !function(n4) {
              if (!(n4 instanceof RegExp))
                throw new Error("not a regexp: " + n4);
              for (var t3 = G(n4), r3 = 0; r3 < t3.length; r3++) {
                var e2 = t3.charAt(r3);
                if ("i" !== e2 && "m" !== e2 && "u" !== e2 && "s" !== e2)
                  throw new Error('unsupported regexp flag "' + e2 + '": ' + n4);
              }
            }(n3), arguments.length >= 2 ? O(t2) : t2 = 0;
            var r2 = function(n4) {
              return RegExp("^(?:" + n4.source + ")", G(n4));
            }(n3), u2 = "" + n3;
            return e(function(n4, e2) {
              var o2 = r2.exec(n4.slice(e2));
              if (o2) {
                if (0 <= t2 && t2 <= o2.length) {
                  var i2 = o2[0], a2 = o2[t2];
                  return b(e2 + i2.length, a2);
                }
                return x(e2, "valid match group (0 to " + o2.length + ") in " + u2);
              }
              return x(e2, u2);
            });
          }
          function X(n3) {
            return e(function(t2, r2) {
              return b(r2, n3);
            });
          }
          function Y(n3) {
            return e(function(t2, r2) {
              return x(r2, n3);
            });
          }
          function Z(n3) {
            if (y(n3))
              return e(function(t2, r2) {
                var e2 = n3._(t2, r2);
                return e2.index = r2, e2.value = "", e2;
              });
            if ("string" == typeof n3)
              return Z(K(n3));
            if (n3 instanceof RegExp)
              return Z(Q(n3));
            throw new Error("not a string, regexp, or parser: " + n3);
          }
          function $(n3) {
            return _(n3), e(function(t2, r2) {
              var e2 = n3._(t2, r2), u2 = t2.slice(r2, e2.index);
              return e2.status ? x(r2, 'not "' + u2 + '"') : b(r2, null);
            });
          }
          function nn(n3) {
            return k(n3), e(function(t2, r2) {
              var e2 = L(t2, r2);
              return r2 < t2.length && n3(e2) ? b(r2 + 1, e2) : x(r2, "a character/byte matching " + n3);
            });
          }
          function tn(n3, t2) {
            arguments.length < 2 && (t2 = n3, n3 = void 0);
            var r2 = e(function(n4, e2) {
              return r2._ = t2()._, r2._(n4, e2);
            });
            return n3 ? r2.desc(n3) : r2;
          }
          function rn() {
            return Y("fantasy-land/empty");
          }
          u.parse = function(n3) {
            if ("string" != typeof n3 && !w(n3))
              throw new Error(".parse must be called with a string or Buffer as its argument");
            var t2, r2 = this.skip(an)._(n3, 0);
            return t2 = r2.status ? { status: true, value: r2.value } : { status: false, index: S(n3, r2.furthest), expected: r2.expected }, delete j[n3], t2;
          }, u.tryParse = function(n3) {
            var t2 = this.parse(n3);
            if (t2.status)
              return t2.value;
            var r2 = N(n3, t2), e2 = new Error(r2);
            throw e2.type = "ParsimmonError", e2.result = t2, e2;
          }, u.assert = function(n3, t2) {
            return this.chain(function(r2) {
              return n3(r2) ? X(r2) : Y(t2);
            });
          }, u.or = function(n3) {
            return T(this, n3);
          }, u.trim = function(n3) {
            return this.wrap(n3, n3);
          }, u.wrap = function(n3, t2) {
            return J(n3, this, t2, function(n4, t3) {
              return t3;
            });
          }, u.thru = function(n3) {
            return n3(this);
          }, u.then = function(n3) {
            return _(n3), C(this, n3).map(function(n4) {
              return n4[1];
            });
          }, u.many = function() {
            var n3 = this;
            return e(function(t2, r2) {
              for (var e2 = [], u2 = void 0; ; ) {
                if (!(u2 = B(n3._(t2, r2), u2)).status)
                  return B(b(r2, e2), u2);
                if (r2 === u2.index)
                  throw new Error("infinite loop detected in .many() parser --- calling .many() on a parser which can accept zero characters is usually the cause");
                r2 = u2.index, e2.push(u2.value);
              }
            });
          }, u.tieWith = function(n3) {
            return P(n3), this.map(function(t2) {
              if (function(n4) {
                if (!E(n4))
                  throw new Error("not an array: " + n4);
              }(t2), t2.length) {
                P(t2[0]);
                for (var r2 = t2[0], e2 = 1; e2 < t2.length; e2++)
                  P(t2[e2]), r2 += n3 + t2[e2];
                return r2;
              }
              return "";
            });
          }, u.tie = function() {
            return this.tieWith("");
          }, u.times = function(n3, t2) {
            var r2 = this;
            return arguments.length < 2 && (t2 = n3), O(n3), O(t2), e(function(e2, u2) {
              for (var o2 = [], i2 = void 0, a2 = void 0, f2 = 0; f2 < n3; f2 += 1) {
                if (a2 = B(i2 = r2._(e2, u2), a2), !i2.status)
                  return a2;
                u2 = i2.index, o2.push(i2.value);
              }
              for (; f2 < t2 && (a2 = B(i2 = r2._(e2, u2), a2), i2.status); f2 += 1)
                u2 = i2.index, o2.push(i2.value);
              return B(b(u2, o2), a2);
            });
          }, u.result = function(n3) {
            return this.map(function() {
              return n3;
            });
          }, u.atMost = function(n3) {
            return this.times(0, n3);
          }, u.atLeast = function(n3) {
            return J(this.times(n3), this.many(), function(n4, t2) {
              return n4.concat(t2);
            });
          }, u.map = function(n3) {
            k(n3);
            var t2 = this;
            return e(function(r2, e2) {
              var u2 = t2._(r2, e2);
              return u2.status ? B(b(u2.index, n3(u2.value)), u2) : u2;
            });
          }, u.contramap = function(n3) {
            k(n3);
            var t2 = this;
            return e(function(r2, e2) {
              var u2 = t2.parse(n3(r2.slice(e2)));
              return u2.status ? b(e2 + r2.length, u2.value) : u2;
            });
          }, u.promap = function(n3, t2) {
            return k(n3), k(t2), this.contramap(n3).map(t2);
          }, u.skip = function(n3) {
            return C(this, n3).map(function(n4) {
              return n4[0];
            });
          }, u.mark = function() {
            return J(en, this, en, function(n3, t2, r2) {
              return { start: n3, value: t2, end: r2 };
            });
          }, u.node = function(n3) {
            return J(en, this, en, function(t2, r2, e2) {
              return { name: n3, value: r2, start: t2, end: e2 };
            });
          }, u.sepBy = function(n3) {
            return V(this, n3);
          }, u.sepBy1 = function(n3) {
            return H(this, n3);
          }, u.lookahead = function(n3) {
            return this.skip(Z(n3));
          }, u.notFollowedBy = function(n3) {
            return this.skip($(n3));
          }, u.desc = function(n3) {
            E(n3) || (n3 = [n3]);
            var t2 = this;
            return e(function(r2, e2) {
              var u2 = t2._(r2, e2);
              return u2.status || (u2.expected = n3), u2;
            });
          }, u.fallback = function(n3) {
            return this.or(X(n3));
          }, u.ap = function(n3) {
            return J(n3, this, function(n4, t2) {
              return n4(t2);
            });
          }, u.chain = function(n3) {
            var t2 = this;
            return e(function(r2, e2) {
              var u2 = t2._(r2, e2);
              return u2.status ? B(n3(u2.value)._(r2, u2.index), u2) : u2;
            });
          }, u.concat = u.or, u.empty = rn, u.of = X, u["fantasy-land/ap"] = u.ap, u["fantasy-land/chain"] = u.chain, u["fantasy-land/concat"] = u.concat, u["fantasy-land/empty"] = u.empty, u["fantasy-land/of"] = u.of, u["fantasy-land/map"] = u.map;
          var en = e(function(n3, t2) {
            return b(t2, S(n3, t2));
          }), un = e(function(n3, t2) {
            return t2 >= n3.length ? x(t2, "any character/byte") : b(t2 + 1, L(n3, t2));
          }), on = e(function(n3, t2) {
            return b(n3.length, n3.slice(t2));
          }), an = e(function(n3, t2) {
            return t2 < n3.length ? x(t2, "EOF") : b(t2, null);
          }), fn = Q(/[0-9]/).desc("a digit"), cn = Q(/[0-9]*/).desc("optional digits"), sn = Q(/[a-z]/i).desc("a letter"), ln = Q(/[a-z]*/i).desc("optional letters"), hn = Q(/\s*/).desc("optional whitespace"), pn = Q(/\s+/).desc("whitespace"), dn = K("\r"), vn = K("\n"), gn = K("\r\n"), mn = T(gn, vn, dn).desc("newline"), yn = T(mn, an);
          e.all = on, e.alt = T, e.any = un, e.cr = dn, e.createLanguage = function(n3) {
            var t2 = {};
            for (var r2 in n3)
              ({}).hasOwnProperty.call(n3, r2) && function(r3) {
                t2[r3] = tn(function() {
                  return n3[r3](t2);
                });
              }(r2);
            return t2;
          }, e.crlf = gn, e.custom = function(n3) {
            return e(n3(b, x));
          }, e.digit = fn, e.digits = cn, e.empty = rn, e.end = yn, e.eof = an, e.fail = Y, e.formatError = N, e.index = en, e.isParser = y, e.lazy = tn, e.letter = sn, e.letters = ln, e.lf = vn, e.lookahead = Z, e.makeFailure = x, e.makeSuccess = b, e.newline = mn, e.noneOf = function(n3) {
            return nn(function(t2) {
              return n3.indexOf(t2) < 0;
            }).desc("none of '" + n3 + "'");
          }, e.notFollowedBy = $, e.of = X, e.oneOf = function(n3) {
            for (var t2 = n3.split(""), r2 = 0; r2 < t2.length; r2++)
              t2[r2] = "'" + t2[r2] + "'";
            return nn(function(t3) {
              return n3.indexOf(t3) >= 0;
            }).desc(t2);
          }, e.optWhitespace = hn, e.Parser = e, e.range = function(n3, t2) {
            return nn(function(r2) {
              return n3 <= r2 && r2 <= t2;
            }).desc(n3 + "-" + t2);
          }, e.regex = Q, e.regexp = Q, e.sepBy = V, e.sepBy1 = H, e.seq = C, e.seqMap = J, e.seqObj = function() {
            for (var n3, t2 = {}, r2 = 0, u2 = (n3 = arguments, Array.prototype.slice.call(n3)), o2 = u2.length, i2 = 0; i2 < o2; i2 += 1) {
              var a2 = u2[i2];
              if (!y(a2)) {
                if (E(a2) && 2 === a2.length && "string" == typeof a2[0] && y(a2[1])) {
                  var f2 = a2[0];
                  if (Object.prototype.hasOwnProperty.call(t2, f2))
                    throw new Error("seqObj: duplicate key " + f2);
                  t2[f2] = true, r2++;
                  continue;
                }
                throw new Error("seqObj arguments must be parsers or [string, parser] array pairs.");
              }
            }
            if (0 === r2)
              throw new Error("seqObj expects at least one named parser, found zero");
            return e(function(n4, t3) {
              for (var r3, e2 = {}, i3 = 0; i3 < o2; i3 += 1) {
                var a3, f3;
                if (E(u2[i3]) ? (a3 = u2[i3][0], f3 = u2[i3][1]) : (a3 = null, f3 = u2[i3]), !(r3 = B(f3._(n4, t3), r3)).status)
                  return r3;
                a3 && (e2[a3] = r3.value), t3 = r3.index;
              }
              return B(b(t3, e2), r3);
            });
          }, e.string = K, e.succeed = X, e.takeWhile = function(n3) {
            return k(n3), e(function(t2, r2) {
              for (var e2 = r2; e2 < t2.length && n3(L(t2, e2)); )
                e2++;
              return b(e2, t2.slice(r2, e2));
            });
          }, e.test = nn, e.whitespace = pn, e["fantasy-land/empty"] = rn, e["fantasy-land/of"] = X, e.Binary = { bitSeq: l2, bitSeqObj: function(n3) {
            s2();
            var t2 = {}, r2 = 0, e2 = a(function(n4) {
              if (E(n4)) {
                var e3 = n4;
                if (2 !== e3.length)
                  throw new Error("[" + e3.join(", ") + "] should be length 2, got length " + e3.length);
                if (P(e3[0]), O(e3[1]), Object.prototype.hasOwnProperty.call(t2, e3[0]))
                  throw new Error("duplicate key in bitSeqObj: " + e3[0]);
                return t2[e3[0]] = true, r2++, e3;
              }
              return O(n4), [null, n4];
            }, n3);
            if (r2 < 1)
              throw new Error("bitSeqObj expects at least one named pair, got [" + n3.join(", ") + "]");
            var u2 = a(function(n4) {
              return n4[0];
            }, e2);
            return l2(a(function(n4) {
              return n4[1];
            }, e2)).map(function(n4) {
              return i(function(n5, t3) {
                return null !== t3[0] && (n5[t3[0]] = t3[1]), n5;
              }, {}, a(function(t3, r3) {
                return [t3, n4[r3]];
              }, u2));
            });
          }, byte: function(n3) {
            if (s2(), O(n3), n3 > 255)
              throw new Error("Value specified to byte constructor (" + n3 + "=0x" + n3.toString(16) + ") is larger in value than a single byte.");
            var t2 = (n3 > 15 ? "0x" : "0x0") + n3.toString(16);
            return e(function(r2, e2) {
              var u2 = L(r2, e2);
              return u2 === n3 ? b(e2 + 1, u2) : x(e2, t2);
            });
          }, buffer: function(n3) {
            return h("buffer", n3).map(function(n4) {
              return Buffer.from(n4);
            });
          }, encodedString: function(n3, t2) {
            return h("string", t2).map(function(t3) {
              return t3.toString(n3);
            });
          }, uintBE: d, uint8BE: d(1), uint16BE: d(2), uint32BE: d(4), uintLE: v, uint8LE: v(1), uint16LE: v(2), uint32LE: v(4), intBE: g, int8BE: g(1), int16BE: g(2), int32BE: g(4), intLE: m, int8LE: m(1), int16LE: m(2), int32LE: m(4), floatBE: h("floatBE", 4).map(function(n3) {
            return n3.readFloatBE(0);
          }), floatLE: h("floatLE", 4).map(function(n3) {
            return n3.readFloatLE(0);
          }), doubleBE: h("doubleBE", 8).map(function(n3) {
            return n3.readDoubleBE(0);
          }), doubleLE: h("doubleLE", 8).map(function(n3) {
            return n3.readDoubleLE(0);
          }) }, n2.exports = e;
        }]);
      });
    })(parsimmon_umd_min);
    var emojiRegex = () => {
      return /(?:[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC3\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDD-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF6](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC2\uDED0-\uDED9\uDEE0-\uDEE7]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?))/g;
    };
    function normalizeDuration(dur) {
      if (dur === void 0 || dur === null)
        return dur;
      return dur.shiftTo("years", "months", "weeks", "days", "hours", "minutes", "seconds", "milliseconds").normalize();
    }
    function getFileTitle(path) {
      if (path.includes("/"))
        path = path.substring(path.lastIndexOf("/") + 1);
      if (path.endsWith(".md"))
        path = path.substring(0, path.length - 3);
      return path;
    }
    parsimmon_umd_min.exports.alt(parsimmon_umd_min.exports.regex(new RegExp(emojiRegex(), "")), parsimmon_umd_min.exports.regex(/[0-9\p{Letter}_-]+/u).map((str) => str.toLocaleLowerCase()), parsimmon_umd_min.exports.whitespace.map((_) => "-"), parsimmon_umd_min.exports.any.map((_) => "")).many().map((result) => result.join(""));
    var HEADER_CANONICALIZER = parsimmon_umd_min.exports.alt(parsimmon_umd_min.exports.regex(new RegExp(emojiRegex(), "")), parsimmon_umd_min.exports.regex(/[0-9\p{Letter}_-]+/u), parsimmon_umd_min.exports.whitespace.map((_) => " "), parsimmon_umd_min.exports.any.map((_) => " ")).many().map((result) => {
      return result.join("").split(/\s+/).join(" ").trim();
    });
    function normalizeHeaderForLink(header) {
      return HEADER_CANONICALIZER.tryParse(header);
    }
    function renderMinimalDuration(dur) {
      dur = normalizeDuration(dur);
      let result = "";
      if (dur.years)
        result += `${dur.years} years, `;
      if (dur.months)
        result += `${dur.months} months, `;
      if (dur.weeks)
        result += `${dur.weeks} weeks, `;
      if (dur.days)
        result += `${dur.days} days, `;
      if (dur.hours)
        result += `${dur.hours} hours, `;
      if (dur.minutes)
        result += `${dur.minutes} minutes, `;
      if (dur.seconds)
        result += `${Math.round(dur.seconds)} seconds, `;
      if (dur.milliseconds)
        result += `${Math.round(dur.milliseconds)} ms, `;
      if (result.endsWith(", "))
        result = result.substring(0, result.length - 2);
      return result;
    }
    var Values;
    (function(Values2) {
      function toString(field, setting = DEFAULT_QUERY_SETTINGS, recursive = false) {
        let wrapped = wrapValue(field);
        if (!wrapped)
          return setting.renderNullAs;
        switch (wrapped.type) {
          case "null":
            return setting.renderNullAs;
          case "string":
            return wrapped.value;
          case "number":
          case "boolean":
            return "" + wrapped.value;
          case "html":
            return wrapped.value.outerHTML;
          case "widget":
            return wrapped.value.markdown();
          case "link":
            return wrapped.value.markdown();
          case "function":
            return "<function>";
          case "array":
            let result = "";
            if (recursive)
              result += "[";
            result += wrapped.value.map((f) => toString(f, setting, true)).join(", ");
            if (recursive)
              result += "]";
            return result;
          case "object":
            return "{ " + Object.entries(wrapped.value).map((e) => e[0] + ": " + toString(e[1], setting, true)).join(", ") + " }";
          case "date":
            if (wrapped.value.second == 0 && wrapped.value.hour == 0 && wrapped.value.minute == 0) {
              return wrapped.value.toFormat(setting.defaultDateFormat);
            }
            return wrapped.value.toFormat(setting.defaultDateTimeFormat);
          case "duration":
            return renderMinimalDuration(wrapped.value);
        }
      }
      Values2.toString = toString;
      function wrapValue(val) {
        if (isNull(val))
          return { type: "null", value: val };
        else if (isNumber2(val))
          return { type: "number", value: val };
        else if (isString2(val))
          return { type: "string", value: val };
        else if (isBoolean(val))
          return { type: "boolean", value: val };
        else if (isDuration(val))
          return { type: "duration", value: val };
        else if (isDate2(val))
          return { type: "date", value: val };
        else if (isWidget(val))
          return { type: "widget", value: val };
        else if (isArray(val))
          return { type: "array", value: val };
        else if (isLink(val))
          return { type: "link", value: val };
        else if (isFunction(val))
          return { type: "function", value: val };
        else if (isHtml(val))
          return { type: "html", value: val };
        else if (isObject(val))
          return { type: "object", value: val };
        else
          return void 0;
      }
      Values2.wrapValue = wrapValue;
      function mapLeaves(val, func) {
        if (isObject(val)) {
          let result = {};
          for (let [key, value] of Object.entries(val))
            result[key] = mapLeaves(value, func);
          return result;
        } else if (isArray(val)) {
          let result = [];
          for (let value of val)
            result.push(mapLeaves(value, func));
          return result;
        } else {
          return func(val);
        }
      }
      Values2.mapLeaves = mapLeaves;
      function compareValue(val1, val2, linkNormalizer) {
        var _a, _b;
        if (val1 === void 0)
          val1 = null;
        if (val2 === void 0)
          val2 = null;
        if (val1 === null && val2 === null)
          return 0;
        else if (val1 === null)
          return -1;
        else if (val2 === null)
          return 1;
        let wrap1 = wrapValue(val1);
        let wrap2 = wrapValue(val2);
        if (wrap1 === void 0 && wrap2 === void 0)
          return 0;
        else if (wrap1 === void 0)
          return -1;
        else if (wrap2 === void 0)
          return 1;
        if (wrap1.type != wrap2.type)
          return wrap1.type.localeCompare(wrap2.type);
        if (wrap1.value === wrap2.value)
          return 0;
        switch (wrap1.type) {
          case "string":
            return wrap1.value.localeCompare(wrap2.value);
          case "number":
            if (wrap1.value < wrap2.value)
              return -1;
            else if (wrap1.value == wrap2.value)
              return 0;
            return 1;
          case "null":
            return 0;
          case "boolean":
            if (wrap1.value == wrap2.value)
              return 0;
            else
              return wrap1.value ? 1 : -1;
          case "link":
            let link1 = wrap1.value;
            let link2 = wrap2.value;
            let normalize = linkNormalizer !== null && linkNormalizer !== void 0 ? linkNormalizer : (x) => x;
            let pathCompare = normalize(link1.path).localeCompare(normalize(link2.path));
            if (pathCompare != 0)
              return pathCompare;
            let typeCompare = link1.type.localeCompare(link2.type);
            if (typeCompare != 0)
              return typeCompare;
            if (link1.subpath && !link2.subpath)
              return 1;
            if (!link1.subpath && link2.subpath)
              return -1;
            if (!link1.subpath && !link2.subpath)
              return 0;
            return ((_a = link1.subpath) !== null && _a !== void 0 ? _a : "").localeCompare((_b = link2.subpath) !== null && _b !== void 0 ? _b : "");
          case "date":
            return wrap1.value < wrap2.value ? -1 : wrap1.value.equals(wrap2.value) ? 0 : 1;
          case "duration":
            return wrap1.value < wrap2.value ? -1 : wrap1.value.equals(wrap2.value) ? 0 : 1;
          case "array":
            let f1 = wrap1.value;
            let f2 = wrap2.value;
            for (let index = 0; index < Math.min(f1.length, f2.length); index++) {
              let comp = compareValue(f1[index], f2[index]);
              if (comp != 0)
                return comp;
            }
            return f1.length - f2.length;
          case "object":
            let o1 = wrap1.value;
            let o2 = wrap2.value;
            let k1 = Array.from(Object.keys(o1));
            let k2 = Array.from(Object.keys(o2));
            k1.sort();
            k2.sort();
            let keyCompare = compareValue(k1, k2);
            if (keyCompare != 0)
              return keyCompare;
            for (let key of k1) {
              let comp = compareValue(o1[key], o2[key]);
              if (comp != 0)
                return comp;
            }
            return 0;
          case "widget":
          case "html":
          case "function":
            return 0;
        }
      }
      Values2.compareValue = compareValue;
      function typeOf(val) {
        var _a;
        return (_a = wrapValue(val)) === null || _a === void 0 ? void 0 : _a.type;
      }
      Values2.typeOf = typeOf;
      function isTruthy2(field) {
        let wrapped = wrapValue(field);
        if (!wrapped)
          return false;
        switch (wrapped.type) {
          case "number":
            return wrapped.value != 0;
          case "string":
            return wrapped.value.length > 0;
          case "boolean":
            return wrapped.value;
          case "link":
            return !!wrapped.value.path;
          case "date":
            return wrapped.value.toMillis() != 0;
          case "duration":
            return wrapped.value.as("seconds") != 0;
          case "object":
            return Object.keys(wrapped.value).length > 0;
          case "array":
            return wrapped.value.length > 0;
          case "null":
            return false;
          case "html":
          case "widget":
          case "function":
            return true;
        }
      }
      Values2.isTruthy = isTruthy2;
      function deepCopy(field) {
        if (field === null || field === void 0)
          return field;
        if (Values2.isArray(field)) {
          return [].concat(field.map((v) => deepCopy(v)));
        } else if (Values2.isObject(field)) {
          let result = {};
          for (let [key, value] of Object.entries(field))
            result[key] = deepCopy(value);
          return result;
        } else {
          return field;
        }
      }
      Values2.deepCopy = deepCopy;
      function isString2(val) {
        return typeof val == "string";
      }
      Values2.isString = isString2;
      function isNumber2(val) {
        return typeof val == "number";
      }
      Values2.isNumber = isNumber2;
      function isDate2(val) {
        return val instanceof DateTime_1;
      }
      Values2.isDate = isDate2;
      function isDuration(val) {
        return val instanceof Duration_1;
      }
      Values2.isDuration = isDuration;
      function isNull(val) {
        return val === null || val === void 0;
      }
      Values2.isNull = isNull;
      function isArray(val) {
        return Array.isArray(val);
      }
      Values2.isArray = isArray;
      function isBoolean(val) {
        return typeof val === "boolean";
      }
      Values2.isBoolean = isBoolean;
      function isLink(val) {
        return val instanceof Link;
      }
      Values2.isLink = isLink;
      function isWidget(val) {
        return val instanceof Widget;
      }
      Values2.isWidget = isWidget;
      function isHtml(val) {
        if (typeof HTMLElement !== "undefined") {
          return val instanceof HTMLElement;
        } else {
          return false;
        }
      }
      Values2.isHtml = isHtml;
      function isObject(val) {
        return typeof val == "object" && !isHtml(val) && !isWidget(val) && !isArray(val) && !isDuration(val) && !isDate2(val) && !isLink(val) && val !== void 0 && !isNull(val);
      }
      Values2.isObject = isObject;
      function isFunction(val) {
        return typeof val == "function";
      }
      Values2.isFunction = isFunction;
    })(Values || (Values = {}));
    var Groupings;
    (function(Groupings2) {
      function isElementGroup(entry) {
        return Values.isObject(entry) && Object.keys(entry).length == 2 && "key" in entry && "rows" in entry;
      }
      Groupings2.isElementGroup = isElementGroup;
      function isGrouping(entry) {
        for (let element2 of entry)
          if (!isElementGroup(element2))
            return false;
        return true;
      }
      Groupings2.isGrouping = isGrouping;
      function count(elements) {
        if (isGrouping(elements)) {
          let result = 0;
          for (let subgroup of elements)
            result += count(subgroup.rows);
          return result;
        } else {
          return elements.length;
        }
      }
      Groupings2.count = count;
    })(Groupings || (Groupings = {}));
    var Link = class {
      constructor(fields) {
        Object.assign(this, fields);
      }
      static file(path, embed = false, display) {
        return new Link({
          path,
          embed,
          display,
          subpath: void 0,
          type: "file"
        });
      }
      static infer(linkpath, embed = false, display) {
        if (linkpath.includes("#^")) {
          let split = linkpath.split("#^");
          return Link.block(split[0], split[1], embed, display);
        } else if (linkpath.includes("#")) {
          let split = linkpath.split("#");
          return Link.header(split[0], split[1], embed, display);
        } else
          return Link.file(linkpath, embed, display);
      }
      static header(path, header, embed, display) {
        return new Link({
          path,
          embed,
          display,
          subpath: normalizeHeaderForLink(header),
          type: "header"
        });
      }
      static block(path, blockId, embed, display) {
        return new Link({
          path,
          embed,
          display,
          subpath: blockId,
          type: "block"
        });
      }
      static fromObject(object) {
        return new Link(object);
      }
      equals(other) {
        if (other == void 0 || other == null)
          return false;
        return this.path == other.path && this.type == other.type && this.subpath == other.subpath;
      }
      toString() {
        return this.markdown();
      }
      toObject() {
        return { path: this.path, type: this.type, subpath: this.subpath, display: this.display, embed: this.embed };
      }
      withPath(path) {
        return new Link(Object.assign({}, this, { path }));
      }
      withDisplay(display) {
        return new Link(Object.assign({}, this, { display }));
      }
      withHeader(header) {
        return Link.header(this.path, header, this.embed, this.display);
      }
      toFile() {
        return Link.file(this.path, this.embed, this.display);
      }
      toEmbed() {
        if (this.embed) {
          return this;
        } else {
          let link = new Link(this);
          link.embed = true;
          return link;
        }
      }
      fromEmbed() {
        if (!this.embed) {
          return this;
        } else {
          let link = new Link(this);
          link.embed = false;
          return link;
        }
      }
      markdown() {
        let result = (this.embed ? "!" : "") + "[[" + this.obsidianLink();
        if (this.display) {
          result += "|" + this.display;
        } else {
          result += "|" + getFileTitle(this.path);
          if (this.type == "header" || this.type == "block")
            result += " > " + this.subpath;
        }
        result += "]]";
        return result;
      }
      obsidianLink() {
        var _a, _b;
        const escaped = this.path.replace("|", "\\|");
        if (this.type == "header")
          return escaped + "#" + ((_a = this.subpath) === null || _a === void 0 ? void 0 : _a.replace("|", "\\|"));
        if (this.type == "block")
          return escaped + "#^" + ((_b = this.subpath) === null || _b === void 0 ? void 0 : _b.replace("|", "\\|"));
        else
          return escaped;
      }
      fileName() {
        return getFileTitle(this.path).replace(".md", "");
      }
    };
    var Widget = class {
      constructor($widget) {
        this.$widget = $widget;
      }
    };
    var ListPairWidget = class extends Widget {
      constructor(key, value) {
        super("dataview:list-pair");
        this.key = key;
        this.value = value;
      }
      markdown() {
        return `${Values.toString(this.key)}: ${Values.toString(this.value)}`;
      }
    };
    var ExternalLinkWidget = class extends Widget {
      constructor(url, display) {
        super("dataview:external-link");
        this.url = url;
        this.display = display;
      }
      markdown() {
        var _a;
        return `[${(_a = this.display) !== null && _a !== void 0 ? _a : this.url}](${this.url})`;
      }
    };
    var Widgets;
    (function(Widgets2) {
      function listPair(key, value) {
        return new ListPairWidget(key, value);
      }
      Widgets2.listPair = listPair;
      function externalLink(url, display) {
        return new ExternalLinkWidget(url, display);
      }
      Widgets2.externalLink = externalLink;
      function isListPair(widget) {
        return widget.$widget === "dataview:list-pair";
      }
      Widgets2.isListPair = isListPair;
      function isExternalLink(widget) {
        return widget.$widget === "dataview:external-link";
      }
      Widgets2.isExternalLink = isExternalLink;
      function isBuiltin(widget) {
        return isListPair(widget) || isExternalLink(widget);
      }
      Widgets2.isBuiltin = isBuiltin;
    })(Widgets || (Widgets = {}));
    var Fields;
    (function(Fields2) {
      function variable(name) {
        return { type: "variable", name };
      }
      Fields2.variable = variable;
      function literal(value) {
        return { type: "literal", value };
      }
      Fields2.literal = literal;
      function binaryOp(left, op, right) {
        return { type: "binaryop", left, op, right };
      }
      Fields2.binaryOp = binaryOp;
      function index(obj, index2) {
        return { type: "index", object: obj, index: index2 };
      }
      Fields2.index = index;
      function indexVariable(name) {
        let parts = name.split(".");
        let result = Fields2.variable(parts[0]);
        for (let index2 = 1; index2 < parts.length; index2++) {
          result = Fields2.index(result, Fields2.literal(parts[index2]));
        }
        return result;
      }
      Fields2.indexVariable = indexVariable;
      function lambda(args, value) {
        return { type: "lambda", arguments: args, value };
      }
      Fields2.lambda = lambda;
      function func(func2, args) {
        return { type: "function", func: func2, arguments: args };
      }
      Fields2.func = func;
      function list(values) {
        return { type: "list", values };
      }
      Fields2.list = list;
      function object(values) {
        return { type: "object", values };
      }
      Fields2.object = object;
      function negate(child) {
        return { type: "negated", child };
      }
      Fields2.negate = negate;
      function isCompareOp(op) {
        return op == "<=" || op == "<" || op == ">" || op == ">=" || op == "!=" || op == "=";
      }
      Fields2.isCompareOp = isCompareOp;
      Fields2.NULL = Fields2.literal(null);
    })(Fields || (Fields = {}));
    var Sources;
    (function(Sources2) {
      function tag(tag2) {
        return { type: "tag", tag: tag2 };
      }
      Sources2.tag = tag;
      function csv(path) {
        return { type: "csv", path };
      }
      Sources2.csv = csv;
      function folder(prefix) {
        return { type: "folder", folder: prefix };
      }
      Sources2.folder = folder;
      function link(file, incoming) {
        return { type: "link", file, direction: incoming ? "incoming" : "outgoing" };
      }
      Sources2.link = link;
      function binaryOp(left, op, right) {
        return { type: "binaryop", left, op, right };
      }
      Sources2.binaryOp = binaryOp;
      function and(left, right) {
        return { type: "binaryop", left, op: "&", right };
      }
      Sources2.and = and;
      function or(left, right) {
        return { type: "binaryop", left, op: "|", right };
      }
      Sources2.or = or;
      function negate(child) {
        return { type: "negate", child };
      }
      Sources2.negate = negate;
      function empty2() {
        return { type: "empty" };
      }
      Sources2.empty = empty2;
    })(Sources || (Sources = {}));
    var EMOJI_REGEX = new RegExp(emojiRegex(), "");
    var DURATION_TYPES = {
      year: Duration_1.fromObject({ years: 1 }),
      years: Duration_1.fromObject({ years: 1 }),
      yr: Duration_1.fromObject({ years: 1 }),
      yrs: Duration_1.fromObject({ years: 1 }),
      month: Duration_1.fromObject({ months: 1 }),
      months: Duration_1.fromObject({ months: 1 }),
      mo: Duration_1.fromObject({ months: 1 }),
      mos: Duration_1.fromObject({ months: 1 }),
      week: Duration_1.fromObject({ weeks: 1 }),
      weeks: Duration_1.fromObject({ weeks: 1 }),
      wk: Duration_1.fromObject({ weeks: 1 }),
      wks: Duration_1.fromObject({ weeks: 1 }),
      w: Duration_1.fromObject({ weeks: 1 }),
      day: Duration_1.fromObject({ days: 1 }),
      days: Duration_1.fromObject({ days: 1 }),
      d: Duration_1.fromObject({ days: 1 }),
      hour: Duration_1.fromObject({ hours: 1 }),
      hours: Duration_1.fromObject({ hours: 1 }),
      hr: Duration_1.fromObject({ hours: 1 }),
      hrs: Duration_1.fromObject({ hours: 1 }),
      h: Duration_1.fromObject({ hours: 1 }),
      minute: Duration_1.fromObject({ minutes: 1 }),
      minutes: Duration_1.fromObject({ minutes: 1 }),
      min: Duration_1.fromObject({ minutes: 1 }),
      mins: Duration_1.fromObject({ minutes: 1 }),
      m: Duration_1.fromObject({ minutes: 1 }),
      second: Duration_1.fromObject({ seconds: 1 }),
      seconds: Duration_1.fromObject({ seconds: 1 }),
      sec: Duration_1.fromObject({ seconds: 1 }),
      secs: Duration_1.fromObject({ seconds: 1 }),
      s: Duration_1.fromObject({ seconds: 1 })
    };
    var DATE_SHORTHANDS = {
      now: () => DateTime_1.local(),
      today: () => DateTime_1.local().startOf("day"),
      yesterday: () => DateTime_1.local().startOf("day").minus(Duration_1.fromObject({ days: 1 })),
      tomorrow: () => DateTime_1.local().startOf("day").plus(Duration_1.fromObject({ days: 1 })),
      sow: () => DateTime_1.local().startOf("week"),
      "start-of-week": () => DateTime_1.local().startOf("week"),
      eow: () => DateTime_1.local().endOf("week"),
      "end-of-week": () => DateTime_1.local().endOf("week"),
      soy: () => DateTime_1.local().startOf("year"),
      "start-of-year": () => DateTime_1.local().startOf("year"),
      eoy: () => DateTime_1.local().endOf("year"),
      "end-of-year": () => DateTime_1.local().endOf("year"),
      som: () => DateTime_1.local().startOf("month"),
      "start-of-month": () => DateTime_1.local().startOf("month"),
      eom: () => DateTime_1.local().endOf("month"),
      "end-of-month": () => DateTime_1.local().endOf("month")
    };
    var KEYWORDS = ["FROM", "WHERE", "LIMIT", "GROUP", "FLATTEN"];
    function splitOnUnescapedPipe(link) {
      let pipe = -1;
      while ((pipe = link.indexOf("|", pipe + 1)) >= 0) {
        if (pipe > 0 && link[pipe - 1] == "\\")
          continue;
        return [link.substring(0, pipe).replace(/\\\|/g, "|"), link.substring(pipe + 1)];
      }
      return [link.replace(/\\\|/g, "|"), void 0];
    }
    function parseInnerLink(rawlink) {
      let [link, display] = splitOnUnescapedPipe(rawlink);
      return Link.infer(link, false, display);
    }
    function createBinaryParser(child, sep, combine) {
      return parsimmon_umd_min.exports.seqMap(child, parsimmon_umd_min.exports.seq(parsimmon_umd_min.exports.optWhitespace, sep, parsimmon_umd_min.exports.optWhitespace, child).many(), (first, rest) => {
        if (rest.length == 0)
          return first;
        let node = combine(first, rest[0][1], rest[0][3]);
        for (let index = 1; index < rest.length; index++) {
          node = combine(node, rest[index][1], rest[index][3]);
        }
        return node;
      });
    }
    function chainOpt(base, ...funcs) {
      return parsimmon_umd_min.exports.custom((success, failure) => {
        return (input, i) => {
          let result = base._(input, i);
          if (!result.status)
            return result;
          for (let func of funcs) {
            let next = func(result.value)._(input, result.index);
            if (!next.status)
              return result;
            result = next;
          }
          return result;
        };
      });
    }
    var EXPRESSION = parsimmon_umd_min.exports.createLanguage({
      number: (q) => parsimmon_umd_min.exports.regexp(/-?[0-9]+(\.[0-9]+)?/).map((str) => Number.parseFloat(str)).desc("number"),
      string: (q) => parsimmon_umd_min.exports.string('"').then(parsimmon_umd_min.exports.alt(q.escapeCharacter, parsimmon_umd_min.exports.noneOf('"\\')).atLeast(0).map((chars) => chars.join(""))).skip(parsimmon_umd_min.exports.string('"')).desc("string"),
      escapeCharacter: (_) => parsimmon_umd_min.exports.string("\\").then(parsimmon_umd_min.exports.any).map((escaped) => {
        if (escaped === '"')
          return '"';
        if (escaped === "\\")
          return "\\";
        else
          return "\\" + escaped;
      }),
      bool: (_) => parsimmon_umd_min.exports.regexp(/true|false|True|False/).map((str) => str.toLowerCase() == "true").desc("boolean ('true' or 'false')"),
      tag: (_) => parsimmon_umd_min.exports.seqMap(parsimmon_umd_min.exports.string("#"), parsimmon_umd_min.exports.alt(parsimmon_umd_min.exports.regexp(/[\p{Letter}0-9_/-]/u).desc("text"), parsimmon_umd_min.exports.regexp(EMOJI_REGEX).desc("text")).many(), (start, rest) => start + rest.join("")).desc("tag ('#hello/stuff')"),
      identifier: (_) => parsimmon_umd_min.exports.seqMap(parsimmon_umd_min.exports.alt(parsimmon_umd_min.exports.regexp(new RegExp("\\p{Letter}", "u")), parsimmon_umd_min.exports.regexp(EMOJI_REGEX).desc("text")), parsimmon_umd_min.exports.alt(parsimmon_umd_min.exports.regexp(/[0-9\p{Letter}_-]/u), parsimmon_umd_min.exports.regexp(EMOJI_REGEX).desc("text")).many(), (first, rest) => first + rest.join("")).desc("variable identifier"),
      link: (_) => parsimmon_umd_min.exports.regexp(/\[\[([^\[\]]*?)\]\]/u, 1).map((linkInner) => parseInnerLink(linkInner)).desc("file link"),
      embedLink: (q) => parsimmon_umd_min.exports.seqMap(parsimmon_umd_min.exports.string("!").atMost(1), q.link, (p, l2) => {
        if (p.length > 0)
          l2.embed = true;
        return l2;
      }).desc("file link"),
      binaryPlusMinus: (_) => parsimmon_umd_min.exports.regexp(/\+|-/).map((str) => str).desc("'+' or '-'"),
      binaryMulDiv: (_) => parsimmon_umd_min.exports.regexp(/\*|\/|%/).map((str) => str).desc("'*' or '/' or '%'"),
      binaryCompareOp: (_) => parsimmon_umd_min.exports.regexp(/>=|<=|!=|>|<|=/).map((str) => str).desc("'>=' or '<=' or '!=' or '=' or '>' or '<'"),
      binaryBooleanOp: (_) => parsimmon_umd_min.exports.regexp(/and|or|&|\|/i).map((str) => {
        if (str.toLowerCase() == "and")
          return "&";
        else if (str.toLowerCase() == "or")
          return "|";
        else
          return str;
      }).desc("'and' or 'or'"),
      rootDate: (_) => parsimmon_umd_min.exports.seqMap(parsimmon_umd_min.exports.regexp(/\d{4}/), parsimmon_umd_min.exports.string("-"), parsimmon_umd_min.exports.regexp(/\d{2}/), (year, _2, month) => {
        return DateTime_1.fromObject({ year: Number.parseInt(year), month: Number.parseInt(month) });
      }).desc("date in format YYYY-MM[-DDTHH-MM-SS.MS]"),
      dateShorthand: (_) => parsimmon_umd_min.exports.alt(...Object.keys(DATE_SHORTHANDS).sort((a, b) => b.length - a.length).map(parsimmon_umd_min.exports.string)),
      date: (q) => chainOpt(q.rootDate, (ym) => parsimmon_umd_min.exports.seqMap(parsimmon_umd_min.exports.string("-"), parsimmon_umd_min.exports.regexp(/\d{2}/), (_, day) => ym.set({ day: Number.parseInt(day) })), (ymd) => parsimmon_umd_min.exports.seqMap(parsimmon_umd_min.exports.string("T"), parsimmon_umd_min.exports.regexp(/\d{2}/), (_, hour) => ymd.set({ hour: Number.parseInt(hour) })), (ymdh) => parsimmon_umd_min.exports.seqMap(parsimmon_umd_min.exports.string(":"), parsimmon_umd_min.exports.regexp(/\d{2}/), (_, minute) => ymdh.set({ minute: Number.parseInt(minute) })), (ymdhm) => parsimmon_umd_min.exports.seqMap(parsimmon_umd_min.exports.string(":"), parsimmon_umd_min.exports.regexp(/\d{2}/), (_, second) => ymdhm.set({ second: Number.parseInt(second) })), (ymdhms) => parsimmon_umd_min.exports.alt(
        parsimmon_umd_min.exports.seqMap(parsimmon_umd_min.exports.string("."), parsimmon_umd_min.exports.regexp(/\d{3}/), (_, millisecond) => ymdhms.set({ millisecond: Number.parseInt(millisecond) })),
        parsimmon_umd_min.exports.succeed(ymdhms)
      ), (dt) => parsimmon_umd_min.exports.alt(parsimmon_umd_min.exports.seqMap(parsimmon_umd_min.exports.string("+").or(parsimmon_umd_min.exports.string("-")), parsimmon_umd_min.exports.regexp(/\d{1,2}(:\d{2})?/), (pm, hr) => dt.setZone("UTC" + pm + hr, { keepLocalTime: true })), parsimmon_umd_min.exports.seqMap(parsimmon_umd_min.exports.string("Z"), () => dt.setZone("utc", { keepLocalTime: true })), parsimmon_umd_min.exports.seqMap(parsimmon_umd_min.exports.string("["), parsimmon_umd_min.exports.regexp(/[0-9A-Za-z+-\/]+/u), parsimmon_umd_min.exports.string("]"), (_a, zone, _b) => dt.setZone(zone, { keepLocalTime: true })))).assert((dt) => dt.isValid, "valid date").desc("date in format YYYY-MM[-DDTHH-MM-SS.MS]"),
      datePlus: (q) => parsimmon_umd_min.exports.alt(q.dateShorthand.map((d) => DATE_SHORTHANDS[d]()), q.date).desc("date in format YYYY-MM[-DDTHH-MM-SS.MS] or in shorthand"),
      durationType: (_) => parsimmon_umd_min.exports.alt(...Object.keys(DURATION_TYPES).sort((a, b) => b.length - a.length).map(parsimmon_umd_min.exports.string)),
      duration: (q) => parsimmon_umd_min.exports.seqMap(q.number, parsimmon_umd_min.exports.optWhitespace, q.durationType, (count, _, t) => DURATION_TYPES[t].mapUnits((x) => x * count)).sepBy1(parsimmon_umd_min.exports.string(",").trim(parsimmon_umd_min.exports.optWhitespace).or(parsimmon_umd_min.exports.optWhitespace)).map((durations) => durations.reduce((p, c) => p.plus(c))).desc("duration like 4hr2min"),
      rawNull: (_) => parsimmon_umd_min.exports.string("null"),
      tagSource: (q) => q.tag.map((tag) => Sources.tag(tag)),
      csvSource: (q) => parsimmon_umd_min.exports.seqMap(parsimmon_umd_min.exports.string("csv(").skip(parsimmon_umd_min.exports.optWhitespace), q.string, parsimmon_umd_min.exports.string(")"), (_1, path, _2) => Sources.csv(path)),
      linkIncomingSource: (q) => q.link.map((link) => Sources.link(link.path, true)),
      linkOutgoingSource: (q) => parsimmon_umd_min.exports.seqMap(parsimmon_umd_min.exports.string("outgoing(").skip(parsimmon_umd_min.exports.optWhitespace), q.link, parsimmon_umd_min.exports.string(")"), (_1, link, _2) => Sources.link(link.path, false)),
      folderSource: (q) => q.string.map((str) => Sources.folder(str)),
      parensSource: (q) => parsimmon_umd_min.exports.seqMap(parsimmon_umd_min.exports.string("("), parsimmon_umd_min.exports.optWhitespace, q.source, parsimmon_umd_min.exports.optWhitespace, parsimmon_umd_min.exports.string(")"), (_1, _2, field, _3, _4) => field),
      negateSource: (q) => parsimmon_umd_min.exports.seqMap(parsimmon_umd_min.exports.alt(parsimmon_umd_min.exports.string("-"), parsimmon_umd_min.exports.string("!")), q.atomSource, (_, source) => Sources.negate(source)),
      atomSource: (q) => parsimmon_umd_min.exports.alt(q.parensSource, q.negateSource, q.linkOutgoingSource, q.linkIncomingSource, q.folderSource, q.tagSource, q.csvSource),
      binaryOpSource: (q) => createBinaryParser(q.atomSource, q.binaryBooleanOp.map((s2) => s2), Sources.binaryOp),
      source: (q) => q.binaryOpSource,
      variableField: (q) => q.identifier.chain((r) => {
        if (KEYWORDS.includes(r.toUpperCase())) {
          return parsimmon_umd_min.exports.fail("Variable fields cannot be a keyword (" + KEYWORDS.join(" or ") + ")");
        } else {
          return parsimmon_umd_min.exports.succeed(Fields.variable(r));
        }
      }).desc("variable"),
      numberField: (q) => q.number.map((val) => Fields.literal(val)).desc("number"),
      stringField: (q) => q.string.map((val) => Fields.literal(val)).desc("string"),
      boolField: (q) => q.bool.map((val) => Fields.literal(val)).desc("boolean"),
      dateField: (q) => parsimmon_umd_min.exports.seqMap(parsimmon_umd_min.exports.string("date("), parsimmon_umd_min.exports.optWhitespace, q.datePlus, parsimmon_umd_min.exports.optWhitespace, parsimmon_umd_min.exports.string(")"), (prefix, _1, date, _2, postfix) => Fields.literal(date)).desc("date"),
      durationField: (q) => parsimmon_umd_min.exports.seqMap(parsimmon_umd_min.exports.string("dur("), parsimmon_umd_min.exports.optWhitespace, q.duration, parsimmon_umd_min.exports.optWhitespace, parsimmon_umd_min.exports.string(")"), (prefix, _1, dur, _2, postfix) => Fields.literal(dur)).desc("duration"),
      nullField: (q) => q.rawNull.map((_) => Fields.NULL),
      linkField: (q) => q.link.map((f) => Fields.literal(f)),
      listField: (q) => q.field.sepBy(parsimmon_umd_min.exports.string(",").trim(parsimmon_umd_min.exports.optWhitespace)).wrap(parsimmon_umd_min.exports.string("[").skip(parsimmon_umd_min.exports.optWhitespace), parsimmon_umd_min.exports.optWhitespace.then(parsimmon_umd_min.exports.string("]"))).map((l2) => Fields.list(l2)).desc("list ('[1, 2, 3]')"),
      objectField: (q) => parsimmon_umd_min.exports.seqMap(q.identifier.or(q.string), parsimmon_umd_min.exports.string(":").trim(parsimmon_umd_min.exports.optWhitespace), q.field, (name, _sep, value) => {
        return { name, value };
      }).sepBy(parsimmon_umd_min.exports.string(",").trim(parsimmon_umd_min.exports.optWhitespace)).wrap(parsimmon_umd_min.exports.string("{").skip(parsimmon_umd_min.exports.optWhitespace), parsimmon_umd_min.exports.optWhitespace.then(parsimmon_umd_min.exports.string("}"))).map((vals) => {
        let res = {};
        for (let entry of vals)
          res[entry.name] = entry.value;
        return Fields.object(res);
      }).desc("object ('{ a: 1, b: 2 }')"),
      atomInlineField: (q) => parsimmon_umd_min.exports.alt(q.date, q.duration.map((d) => normalizeDuration(d)), q.string, q.tag, q.embedLink, q.bool, q.number, q.rawNull),
      inlineFieldList: (q) => q.atomInlineField.sepBy(parsimmon_umd_min.exports.string(",").trim(parsimmon_umd_min.exports.optWhitespace).lookahead(q.atomInlineField)),
      inlineField: (q) => parsimmon_umd_min.exports.alt(parsimmon_umd_min.exports.seqMap(q.atomInlineField, parsimmon_umd_min.exports.string(",").trim(parsimmon_umd_min.exports.optWhitespace), q.inlineFieldList, (f, _s, l2) => [f].concat(l2)), q.atomInlineField),
      atomField: (q) => parsimmon_umd_min.exports.alt(
        q.embedLink.map((l2) => Fields.literal(l2)),
        q.negatedField,
        q.linkField,
        q.listField,
        q.objectField,
        q.lambdaField,
        q.parensField,
        q.boolField,
        q.numberField,
        q.stringField,
        q.dateField,
        q.durationField,
        q.nullField,
        q.variableField
      ),
      indexField: (q) => parsimmon_umd_min.exports.seqMap(q.atomField, parsimmon_umd_min.exports.alt(q.dotPostfix, q.indexPostfix, q.functionPostfix).many(), (obj, postfixes) => {
        let result = obj;
        for (let post of postfixes) {
          switch (post.type) {
            case "dot":
              result = Fields.index(result, Fields.literal(post.field));
              break;
            case "index":
              result = Fields.index(result, post.field);
              break;
            case "function":
              result = Fields.func(result, post.fields);
              break;
          }
        }
        return result;
      }),
      negatedField: (q) => parsimmon_umd_min.exports.seqMap(parsimmon_umd_min.exports.string("!"), q.indexField, (_, field) => Fields.negate(field)).desc("negated field"),
      parensField: (q) => parsimmon_umd_min.exports.seqMap(parsimmon_umd_min.exports.string("("), parsimmon_umd_min.exports.optWhitespace, q.field, parsimmon_umd_min.exports.optWhitespace, parsimmon_umd_min.exports.string(")"), (_1, _2, field, _3, _4) => field),
      lambdaField: (q) => parsimmon_umd_min.exports.seqMap(q.identifier.sepBy(parsimmon_umd_min.exports.string(",").trim(parsimmon_umd_min.exports.optWhitespace)).wrap(parsimmon_umd_min.exports.string("(").trim(parsimmon_umd_min.exports.optWhitespace), parsimmon_umd_min.exports.string(")").trim(parsimmon_umd_min.exports.optWhitespace)), parsimmon_umd_min.exports.string("=>").trim(parsimmon_umd_min.exports.optWhitespace), q.field, (ident, _ignore, value) => {
        return { type: "lambda", arguments: ident, value };
      }),
      dotPostfix: (q) => parsimmon_umd_min.exports.seqMap(parsimmon_umd_min.exports.string("."), q.identifier, (_, field) => {
        return { type: "dot", field };
      }),
      indexPostfix: (q) => parsimmon_umd_min.exports.seqMap(parsimmon_umd_min.exports.string("["), parsimmon_umd_min.exports.optWhitespace, q.field, parsimmon_umd_min.exports.optWhitespace, parsimmon_umd_min.exports.string("]"), (_, _2, field, _3, _4) => {
        return { type: "index", field };
      }),
      functionPostfix: (q) => parsimmon_umd_min.exports.seqMap(parsimmon_umd_min.exports.string("("), parsimmon_umd_min.exports.optWhitespace, q.field.sepBy(parsimmon_umd_min.exports.string(",").trim(parsimmon_umd_min.exports.optWhitespace)), parsimmon_umd_min.exports.optWhitespace, parsimmon_umd_min.exports.string(")"), (_, _1, fields, _2, _3) => {
        return { type: "function", fields };
      }),
      binaryMulDivField: (q) => createBinaryParser(q.indexField, q.binaryMulDiv, Fields.binaryOp),
      binaryPlusMinusField: (q) => createBinaryParser(q.binaryMulDivField, q.binaryPlusMinus, Fields.binaryOp),
      binaryCompareField: (q) => createBinaryParser(q.binaryPlusMinusField, q.binaryCompareOp, Fields.binaryOp),
      binaryBooleanField: (q) => createBinaryParser(q.binaryCompareField, q.binaryBooleanOp, Fields.binaryOp),
      binaryOpField: (q) => q.binaryBooleanField,
      field: (q) => q.binaryOpField
    });
    function parseField(text2) {
      try {
        return Result.success(EXPRESSION.field.tryParse(text2));
      } catch (error) {
        return Result.failure("" + error);
      }
    }
    var QueryFields;
    (function(QueryFields2) {
      function named(name, field) {
        return { name, field };
      }
      QueryFields2.named = named;
      function sortBy(field, dir) {
        return { field, direction: dir };
      }
      QueryFields2.sortBy = sortBy;
    })(QueryFields || (QueryFields = {}));
    function captureRaw(base) {
      return parsimmon_umd_min.exports.custom((success, failure) => {
        return (input, i) => {
          let result = base._(input, i);
          if (!result.status)
            return result;
          return Object.assign({}, result, { value: [result.value, input.substring(i, result.index)] });
        };
      });
    }
    function stripNewlines(text2) {
      return text2.split(/[\r\n]+/).map((t) => t.trim()).join("");
    }
    var QUERY_LANGUAGE = parsimmon_umd_min.exports.createLanguage({
      queryType: (q) => parsimmon_umd_min.exports.alt(parsimmon_umd_min.exports.regexp(/TABLE|LIST|TASK|CALENDAR/i)).map((str) => str.toLowerCase()).desc("query type ('TABLE', 'LIST', 'TASK', or 'CALENDAR')"),
      explicitNamedField: (q) => parsimmon_umd_min.exports.seqMap(EXPRESSION.field.skip(parsimmon_umd_min.exports.whitespace), parsimmon_umd_min.exports.regexp(/AS/i).skip(parsimmon_umd_min.exports.whitespace), EXPRESSION.identifier.or(EXPRESSION.string), (field, _as, ident) => QueryFields.named(ident, field)),
      namedField: (q) => parsimmon_umd_min.exports.alt(q.explicitNamedField, captureRaw(EXPRESSION.field).map(([value, text2]) => QueryFields.named(stripNewlines(text2), value))),
      sortField: (q) => parsimmon_umd_min.exports.seqMap(EXPRESSION.field.skip(parsimmon_umd_min.exports.optWhitespace), parsimmon_umd_min.exports.regexp(/ASCENDING|DESCENDING|ASC|DESC/i).atMost(1), (field, dir) => {
        let direction = dir.length == 0 ? "ascending" : dir[0].toLowerCase();
        if (direction == "desc")
          direction = "descending";
        if (direction == "asc")
          direction = "ascending";
        return {
          field,
          direction
        };
      }),
      headerClause: (q) => q.queryType.skip(parsimmon_umd_min.exports.whitespace).chain((qtype) => {
        switch (qtype) {
          case "table":
            return parsimmon_umd_min.exports.seqMap(parsimmon_umd_min.exports.regexp(/WITHOUT\s+ID/i).skip(parsimmon_umd_min.exports.optWhitespace).atMost(1), parsimmon_umd_min.exports.sepBy(q.namedField, parsimmon_umd_min.exports.string(",").trim(parsimmon_umd_min.exports.optWhitespace)), (withoutId, fields) => {
              return { type: "table", fields, showId: withoutId.length == 0 };
            });
          case "list":
            return parsimmon_umd_min.exports.seqMap(parsimmon_umd_min.exports.regexp(/WITHOUT\s+ID/i).skip(parsimmon_umd_min.exports.optWhitespace).atMost(1), EXPRESSION.field.atMost(1), (withoutId, format) => {
              return {
                type: "list",
                format: format.length == 1 ? format[0] : void 0,
                showId: withoutId.length == 0
              };
            });
          case "task":
            return parsimmon_umd_min.exports.succeed({ type: "task" });
          case "calendar":
            return parsimmon_umd_min.exports.seqMap(q.namedField, (field) => {
              return {
                type: "calendar",
                showId: true,
                field
              };
            });
          default:
            return parsimmon_umd_min.exports.fail(`Unrecognized query type '${qtype}'`);
        }
      }).desc("TABLE or LIST or TASK or CALENDAR"),
      fromClause: (q) => parsimmon_umd_min.exports.seqMap(parsimmon_umd_min.exports.regexp(/FROM/i), parsimmon_umd_min.exports.whitespace, EXPRESSION.source, (_1, _2, source) => source),
      whereClause: (q) => parsimmon_umd_min.exports.seqMap(parsimmon_umd_min.exports.regexp(/WHERE/i), parsimmon_umd_min.exports.whitespace, EXPRESSION.field, (where, _, field) => {
        return { type: "where", clause: field };
      }).desc("WHERE <expression>"),
      sortByClause: (q) => parsimmon_umd_min.exports.seqMap(parsimmon_umd_min.exports.regexp(/SORT/i), parsimmon_umd_min.exports.whitespace, q.sortField.sepBy1(parsimmon_umd_min.exports.string(",").trim(parsimmon_umd_min.exports.optWhitespace)), (sort, _1, fields) => {
        return { type: "sort", fields };
      }).desc("SORT field [ASC/DESC]"),
      limitClause: (q) => parsimmon_umd_min.exports.seqMap(parsimmon_umd_min.exports.regexp(/LIMIT/i), parsimmon_umd_min.exports.whitespace, EXPRESSION.field, (limit, _1, field) => {
        return { type: "limit", amount: field };
      }).desc("LIMIT <value>"),
      flattenClause: (q) => parsimmon_umd_min.exports.seqMap(parsimmon_umd_min.exports.regexp(/FLATTEN/i).skip(parsimmon_umd_min.exports.whitespace), q.namedField, (_, field) => {
        return { type: "flatten", field };
      }).desc("FLATTEN <value> [AS <name>]"),
      groupByClause: (q) => parsimmon_umd_min.exports.seqMap(parsimmon_umd_min.exports.regexp(/GROUP BY/i).skip(parsimmon_umd_min.exports.whitespace), q.namedField, (_, field) => {
        return { type: "group", field };
      }).desc("GROUP BY <value> [AS <name>]"),
      clause: (q) => parsimmon_umd_min.exports.alt(q.fromClause, q.whereClause, q.sortByClause, q.limitClause, q.groupByClause, q.flattenClause),
      query: (q) => parsimmon_umd_min.exports.seqMap(q.headerClause.trim(parsimmon_umd_min.exports.optWhitespace), q.fromClause.trim(parsimmon_umd_min.exports.optWhitespace).atMost(1), q.clause.trim(parsimmon_umd_min.exports.optWhitespace).many(), (header, from, clauses) => {
        return {
          header,
          source: from.length == 0 ? Sources.folder("") : from[0],
          operations: clauses,
          settings: DEFAULT_QUERY_SETTINGS
        };
      })
    });
    var getAPI2 = (app) => {
      var _a;
      if (app)
        return (_a = app.plugins.plugins.dataview) === null || _a === void 0 ? void 0 : _a.api;
      else
        return window.DataviewAPI;
    };
    var isPluginEnabled = (app) => app.plugins.enabledPlugins.has("dataview");
    exports.DATE_SHORTHANDS = DATE_SHORTHANDS;
    exports.DURATION_TYPES = DURATION_TYPES;
    exports.EXPRESSION = EXPRESSION;
    exports.KEYWORDS = KEYWORDS;
    exports.QUERY_LANGUAGE = QUERY_LANGUAGE;
    exports.getAPI = getAPI2;
    exports.isPluginEnabled = isPluginEnabled;
    exports.parseField = parseField;
  }
});

// node_modules/@opd-libs/opd-metadata-lib/lib/Utils.js
var require_Utils = __commonJS({
  "node_modules/@opd-libs/opd-metadata-lib/lib/Utils.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.OPDTraversalError = exports.validatePath = exports.parsePath = exports.traverseObjectByPath = exports.traverseObjectToParent = exports.traverseObject = void 0;
    function traverseObject3(path, o) {
      let pathParts = parsePath(path);
      return traverseObjectByPath(pathParts, o);
    }
    exports.traverseObject = traverseObject3;
    function traverseObjectToParent(path, o) {
      var _a;
      let pathParts = parsePath(path);
      if (pathParts[0] === "") {
        throw new OPDTraversalError("can not traverse to parent on self reference");
      }
      let parentPath = pathParts.slice(0, -1);
      let childKey = (_a = pathParts.at(-1)) !== null && _a !== void 0 ? _a : "";
      let parentObject = traverseObjectByPath(parentPath, o);
      return {
        parent: { key: parentPath, value: parentObject },
        child: { key: childKey, value: parentObject[childKey] }
      };
    }
    exports.traverseObjectToParent = traverseObjectToParent;
    function traverseObjectByPath(pathParts, o) {
      for (const pathPart of pathParts) {
        if (pathPart === "") {
          return o;
        }
        if (o === void 0) {
          return void 0;
        }
        o = o[pathPart];
      }
      return o;
    }
    exports.traverseObjectByPath = traverseObjectByPath;
    function parsePath(path) {
      path = path.replace(/'/g, '"');
      validatePath(path);
      return path.split(".").map((x) => x.split("[").map((y) => {
        if (y.endsWith("]")) {
          y = y.slice(0, -1);
        }
        if (y.startsWith('"') && y.endsWith('"')) {
          y = y.slice(1, -1);
        }
        return y;
      })).flat();
    }
    exports.parsePath = parsePath;
    function validatePath(path) {
      const numbers = "0123456789";
      const letters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";
      let insideStringBrackets = false;
      let insideNumberBrackets = false;
      for (let i = 0; i < path.length; i++) {
        const char = path[i];
        const nextChar = path[i + 1];
        if (char === ".") {
          if (i === 0) {
            throw new OPDTraversalError(`Invalid character '${char}' at position ${i} in "${path}", path may not start with '.'`);
          }
          if (!(letters.includes(nextChar) || nextChar === "_" || nextChar === "$")) {
            throw new OPDTraversalError(`Invalid character '${nextChar}' at position ${i + 1} in "${path}", expected a letter, '_' or '$' to follow '.'`);
          }
        }
        if (char === "[") {
          if (numbers.includes(nextChar)) {
            insideNumberBrackets = true;
            continue;
          } else if (nextChar === '"') {
            if (path[i + 2] === '"') {
              throw new OPDTraversalError(`Invalid character '${path[i + 2]}' at position ${i + 2} in "${path}", the string between the quotation-marks may not be empty`);
            }
            insideStringBrackets = true;
            i += 1;
            continue;
          } else {
            throw new OPDTraversalError(`Invalid character '${nextChar}' at position ${i + 1} in "${path}", expected number or '"' to follow a '['`);
          }
        }
        if (insideStringBrackets && char === '"') {
          if (nextChar === "]") {
            insideStringBrackets = false;
            i += 1;
            continue;
          } else {
            throw new OPDTraversalError(`Invalid character '${nextChar}' at position ${i + 1} in "${path}", expected ']' to follow a '"'`);
          }
        }
        if (insideNumberBrackets && char === "]") {
          insideNumberBrackets = false;
          continue;
        }
        if (insideStringBrackets && (char === "." || char === "]" || char === "[")) {
          throw new OPDTraversalError(`Invalid character '${char}' at position ${i} in "${path}"`);
        }
        if (insideNumberBrackets && !numbers.includes(char)) {
          throw new OPDTraversalError(`Invalid character '${char}' at position ${i} in "${path}", number expected inside of brackets`);
        }
        if (!insideNumberBrackets && !insideStringBrackets) {
          if (char === "]") {
            throw new OPDTraversalError(`Invalid character '${char}' at position ${i} in "${path}", expected '[' to proceed`);
          }
        }
      }
    }
    exports.validatePath = validatePath;
    var OPDTraversalError = class extends Error {
      constructor(message) {
        super(message);
      }
    };
    exports.OPDTraversalError = OPDTraversalError;
  }
});

// node_modules/@opd-libs/opd-metadata-lib/lib/ObsUtils.js
var require_ObsUtils = __commonJS({
  "node_modules/@opd-libs/opd-metadata-lib/lib/ObsUtils.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.stringifyFrontmatter = void 0;
    var obsidian_1 = require("obsidian");
    function stringifyFrontmatter(frontmatter) {
      return `---
${(0, obsidian_1.stringifyYaml)(frontmatter)}---`;
    }
    exports.stringifyFrontmatter = stringifyFrontmatter;
  }
});

// node_modules/@opd-libs/opd-metadata-lib/lib/Internal.js
var require_Internal = __commonJS({
  "node_modules/@opd-libs/opd-metadata-lib/lib/Internal.js"(exports) {
    "use strict";
    var __awaiter = exports && exports.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Internal = void 0;
    var obsidian_1 = require("obsidian");
    var Utils_1 = require_Utils();
    var ObsUtils_1 = require_ObsUtils();
    var Internal;
    (function(Internal2) {
      Internal2.frontMatterRexExpPattern = "^(---)\\n[\\s\\S]*?\\n---";
      function getMetaDataFromFileContent(fileContent) {
        const regExp = new RegExp(Internal2.frontMatterRexExpPattern);
        const frontMatterRegExpResult = regExp.exec(fileContent);
        if (!frontMatterRegExpResult) {
          return [];
        }
        let frontMatter = frontMatterRegExpResult[0];
        if (!frontMatter) {
          return [];
        }
        frontMatter = frontMatter.substring(4);
        frontMatter = frontMatter.substring(0, frontMatter.length - 3);
        return getMetaDataFromYAML(frontMatter);
      }
      Internal2.getMetaDataFromFileContent = getMetaDataFromFileContent;
      function getMetaDataFromYAML(yaml) {
        if (!yaml) {
          return {};
        }
        const obj = (0, obsidian_1.parseYaml)(yaml);
        if (!obj) {
          return {};
        }
        return obj;
      }
      Internal2.getMetaDataFromYAML = getMetaDataFromYAML;
      function getMetadataFromFileCache(file, plugin) {
        var _a;
        let metadata = (_a = plugin.app.metadataCache.getFileCache(file)) === null || _a === void 0 ? void 0 : _a.frontmatter;
        if (metadata) {
          metadata = Object.assign({}, metadata);
          delete metadata.position;
        } else {
          return {};
        }
        return metadata;
      }
      Internal2.getMetadataFromFileCache = getMetadataFromFileCache;
      function removeFrontmatter(fileContent) {
        return fileContent.replace(new RegExp(Internal2.frontMatterRexExpPattern), "");
      }
      Internal2.removeFrontmatter = removeFrontmatter;
      function updateFrontmatter(metadata, file, plugin) {
        return __awaiter(this, void 0, void 0, function* () {
          let fileContent = yield plugin.app.vault.cachedRead(file);
          fileContent = removeFrontmatter(fileContent);
          fileContent = `${(0, ObsUtils_1.stringifyFrontmatter)(metadata)}${fileContent}`;
          yield plugin.app.vault.modify(file, fileContent);
        });
      }
      Internal2.updateFrontmatter = updateFrontmatter;
      function hasField(path, metadata) {
        return getField(path, metadata) !== void 0;
      }
      Internal2.hasField = hasField;
      function getField(path, metadata) {
        return (0, Utils_1.traverseObject)(path, metadata);
      }
      Internal2.getField = getField;
      function deleteField(path, metadata) {
        let { parent, child } = (0, Utils_1.traverseObjectToParent)(path, metadata);
        if (parent.value === void 0) {
          throw Error(`The parent of "${path}" does not exist in Object, can not delete child from non existing parent`);
        }
        if (Array.isArray(parent.value)) {
          const index = Number.parseInt(child.key);
          if (Number.isNaN(index)) {
            return metadata;
          }
          parent.value.splice(index, 1);
        } else {
          delete parent.value[child.key];
        }
        return metadata;
      }
      Internal2.deleteField = deleteField;
      function updateField(path, value, metadata) {
        let { parent, child } = (0, Utils_1.traverseObjectToParent)(path, metadata);
        if (parent.value === void 0) {
          throw Error(`The parent of "${path}" does not exist in Object, please create the parent first`);
        }
        if (child.value === void 0) {
          throw Error(`Field with key "${path}" does not exist in Object`);
        }
        parent.value[child.key] = value;
        return metadata;
      }
      Internal2.updateField = updateField;
      function insertField(path, value, metadata) {
        let { parent, child } = (0, Utils_1.traverseObjectToParent)(path, metadata);
        if (parent.value === void 0) {
          throw Error(`The parent of "${path}" does not exist in Object, please create the parent first`);
        }
        if (child.value !== void 0) {
          throw Error(`Field with key "${path}" does already exist in Object`);
        }
        parent.value[child.key] = value;
        return metadata;
      }
      Internal2.insertField = insertField;
      function updateOrInsertField(path, value, metadata) {
        let { parent, child } = (0, Utils_1.traverseObjectToParent)(path, metadata);
        if (parent.value === void 0) {
          throw Error(`The parent of "${path}" does not exist in Object, please create the parent first`);
        }
        parent.value[child.key] = value;
        return metadata;
      }
      Internal2.updateOrInsertField = updateOrInsertField;
    })(Internal = exports.Internal || (exports.Internal = {}));
  }
});

// node_modules/@opd-libs/opd-metadata-lib/lib/API.js
var require_API = __commonJS({
  "node_modules/@opd-libs/opd-metadata-lib/lib/API.js"(exports) {
    "use strict";
    var __awaiter = exports && exports.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.setFrontmatterOfTFile = exports.getFrontmatterOfTFile = exports.deleteFieldInTFile = exports.updateOrInsertFieldInTFile = exports.updateFieldInTFile = exports.insertFieldInTFile = exports.getFieldFromTFile = exports.doesFieldExistInTFile = void 0;
    var Internal_1 = require_Internal();
    function doesFieldExistInTFile(field, file, plugin, isInline = false) {
      const metadata = Internal_1.Internal.getMetadataFromFileCache(file, plugin);
      return Internal_1.Internal.hasField(field, metadata);
    }
    exports.doesFieldExistInTFile = doesFieldExistInTFile;
    function getFieldFromTFile(field, file, plugin, isInline = false) {
      const metadata = Internal_1.Internal.getMetadataFromFileCache(file, plugin);
      return Internal_1.Internal.getField(field, metadata);
    }
    exports.getFieldFromTFile = getFieldFromTFile;
    function insertFieldInTFile(field, value, file, plugin, isInline = false) {
      return __awaiter(this, void 0, void 0, function* () {
        const metadata = Internal_1.Internal.getMetadataFromFileCache(file, plugin);
        Internal_1.Internal.insertField(field, value, metadata);
        yield Internal_1.Internal.updateFrontmatter(metadata, file, plugin);
      });
    }
    exports.insertFieldInTFile = insertFieldInTFile;
    function updateFieldInTFile(field, value, file, plugin, isInline = false) {
      return __awaiter(this, void 0, void 0, function* () {
        const metadata = Internal_1.Internal.getMetadataFromFileCache(file, plugin);
        Internal_1.Internal.updateField(field, value, metadata);
        yield Internal_1.Internal.updateFrontmatter(metadata, file, plugin);
      });
    }
    exports.updateFieldInTFile = updateFieldInTFile;
    function updateOrInsertFieldInTFile2(field, value, file, plugin, isInline = false) {
      return __awaiter(this, void 0, void 0, function* () {
        let metadata = Internal_1.Internal.getMetadataFromFileCache(file, plugin);
        Internal_1.Internal.updateOrInsertField(field, value, metadata);
        yield Internal_1.Internal.updateFrontmatter(metadata, file, plugin);
      });
    }
    exports.updateOrInsertFieldInTFile = updateOrInsertFieldInTFile2;
    function deleteFieldInTFile(field, file, plugin, isInline = false) {
      return __awaiter(this, void 0, void 0, function* () {
        const metadata = Internal_1.Internal.getMetadataFromFileCache(file, plugin);
        Internal_1.Internal.deleteField(field, metadata);
        yield Internal_1.Internal.updateFrontmatter(metadata, file, plugin);
      });
    }
    exports.deleteFieldInTFile = deleteFieldInTFile;
    function getFrontmatterOfTFile2(file, plugin) {
      return Internal_1.Internal.getMetadataFromFileCache(file, plugin);
    }
    exports.getFrontmatterOfTFile = getFrontmatterOfTFile2;
    function setFrontmatterOfTFile(metadata, file, plugin) {
      return __awaiter(this, void 0, void 0, function* () {
        yield Internal_1.Internal.updateFrontmatter(metadata, file, plugin);
      });
    }
    exports.setFrontmatterOfTFile = setFrontmatterOfTFile;
  }
});

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => MetaBindPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian16 = require("obsidian");

// src/settings/Settings.ts
var import_obsidian = require("obsidian");
var DEFAULT_SETTINGS = {
  devMode: false,
  preferredDateFormat: "YYYY-MM-DD",
  useUsDateInputOrder: false,
  syncInterval: 200,
  minSyncInterval: 50,
  maxSyncInterval: 1e3,
  inputTemplates: ""
};
var MetaBindSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Meta Bind Plugin Settings" });
    new import_obsidian.Setting(containerEl).setName("Sync interval").setDesc(
      `The interval in milli-seconds between disk writes. Changing this number is not recommended except if your hard drive is exceptionally slow. Standard: ${DEFAULT_SETTINGS.syncInterval}; Minimum: ${DEFAULT_SETTINGS.minSyncInterval}; Maximum: ${DEFAULT_SETTINGS.maxSyncInterval}`
    ).addText((cb) => {
      cb.setValue(this.plugin.settings.syncInterval.toString());
      cb.onChange((data) => {
        this.plugin.settings.syncInterval = Number.parseInt(data);
        if (Number.isNaN(this.plugin.settings.syncInterval)) {
          this.plugin.settings.syncInterval = DEFAULT_SETTINGS.syncInterval;
        }
        if (this.plugin.settings.syncInterval < DEFAULT_SETTINGS.minSyncInterval) {
          this.plugin.settings.syncInterval = DEFAULT_SETTINGS.minSyncInterval;
        }
        if (this.plugin.settings.syncInterval > DEFAULT_SETTINGS.maxSyncInterval) {
          this.plugin.settings.syncInterval = DEFAULT_SETTINGS.maxSyncInterval;
        }
        this.plugin.saveSettings();
      });
    });
    new import_obsidian.Setting(containerEl).setName("Date format").setDesc(
      `The date format to be used by this plugin. Changing this setting will break the parsing of existing date inputs. Here is a list of all available date tokes https://momentjs.com/docs/#/displaying/.`
    ).addText((cb) => {
      cb.setValue(this.plugin.settings.preferredDateFormat);
      cb.onChange((data) => {
        this.plugin.settings.preferredDateFormat = data;
        this.plugin.saveSettings();
      });
    });
    new import_obsidian.Setting(containerEl).setName("Use US date input field order").setDesc(`When enabled the month input is before the day input.`).addToggle((cb) => {
      cb.setValue(this.plugin.settings.useUsDateInputOrder);
      cb.onChange((data) => {
        this.plugin.settings.useUsDateInputOrder = data;
        this.plugin.saveSettings();
      });
    });
    new import_obsidian.Setting(containerEl).setName("Templates").setDesc(`You can specify templates here, and access them using \`INPUT[template_name][overrides (optional)]\` in your notes.`);
    const ta = new import_obsidian.TextAreaComponent(containerEl);
    ta.setValue(this.plugin.settings.inputTemplates);
    ta.setPlaceholder("template_name -> INPUT[input_type(argument(value)):bind_target]");
    ta.inputEl.style.width = "100%";
    ta.inputEl.style.height = "200px";
    ta.onChange((data) => {
      this.plugin.settings.inputTemplates = data;
      this.plugin.saveSettings();
    });
    new import_obsidian.Setting(containerEl).setName("Dev Mode").setDesc("Enable dev mode. Not recommended unless you want to debug this plugin.").addToggle((cb) => {
      cb.setValue(this.plugin.settings.devMode);
      cb.onChange((data) => {
        this.plugin.settings.devMode = data;
        this.plugin.saveSettings();
      });
    });
  }
};

// src/InputFieldMarkdownRenderChild.ts
var import_obsidian15 = require("obsidian");

// src/inputFields/AbstractInputField.ts
var AbstractInputField = class {
  constructor(inputFieldMarkdownRenderChild, onValueChange) {
    this.inputFieldMarkdownRenderChild = inputFieldMarkdownRenderChild;
    this.onValueChange = onValueChange;
  }
};
AbstractInputField.allowCodeBlock = true;
AbstractInputField.allowInlineCodeBlock = true;

// src/inputFields/ToggleInputField.ts
var import_obsidian2 = require("obsidian");

// src/utils/Utils.ts
var MetaBindInternalError = class extends Error {
  constructor(message) {
    super(`[MB_INTERNAL_ERROR - please report this error here https://github.com/mProjectsCode/obsidian-meta-bind-plugin/issues] ${message}`);
  }
};
var MetaBindParsingError = class extends Error {
  constructor(message) {
    super(`[MB_PARSING_ERROR] ${message}`);
  }
};
var MetaBindBindTargetError = class extends Error {
  constructor(message) {
    super(`[MB_BIND_TARGET_ERROR] ${message}`);
  }
};
var MetaBindValueError = class extends Error {
  constructor(message) {
    super(`[MB_VALUE_ERROR] ${message}`);
  }
};
var MetaBindArgumentError = class extends Error {
  constructor(message) {
    super(`[MB_ARGUMENT_ERROR] ${message}`);
  }
};
function getFileName(path) {
  var _a;
  return (_a = path.split("/").at(-1)) != null ? _a : path;
}
function isPath(path) {
  return path.split("/").length > 1;
}
function removeFileEnding(fileName) {
  const fileNameParts = fileName.split(".");
  if (fileNameParts.length === 1) {
    return fileName;
  } else {
    let newFileName = fileNameParts[0];
    for (let i = 1; i < fileNameParts.length - 1; i++) {
      newFileName += "." + fileNameParts[i];
    }
    return newFileName;
  }
}
function mod(n, m) {
  return (n % m + m) % m;
}
function arrayEquals(arr1, arr2) {
  if (arr1.length !== arr2.length) {
    return false;
  }
  for (const arr1Element of arr1) {
    if (!arr2.contains(arr1Element)) {
      return false;
    }
  }
  return true;
}
function isTruthy(value) {
  return !!value;
}
function isFalsy(value) {
  return !value;
}
function equalOrIncludes(str1, str2) {
  return str1 === str2 || str1.includes(str2) || str2.includes(str1);
}
function numberToString(n) {
  return n + "";
}

// src/inputFields/ToggleInputField.ts
var ToggleInputField = class extends AbstractInputField {
  getValue() {
    if (!this.toggleComponent) {
      throw new MetaBindInternalError("toggle input component is undefined");
    }
    return this.toggleComponent.getValue();
  }
  setValue(value) {
    if (!this.toggleComponent) {
      throw new MetaBindInternalError("toggle input component is undefined");
    }
    if (value != null && typeof value == "boolean") {
      this.toggleComponent.setValue(value);
    } else {
      console.warn(new MetaBindValueError(`invalid value '${value}' at toggleInputField ${this.inputFieldMarkdownRenderChild.uid}`));
      this.toggleComponent.setValue(false);
    }
  }
  isEqualValue(value) {
    return this.getValue() == value;
  }
  getDefaultValue() {
    return false;
  }
  getHtmlElement() {
    if (!this.toggleComponent) {
      throw new MetaBindInternalError("toggle input component is undefined");
    }
    return this.toggleComponent.toggleEl;
  }
  render(container) {
    console.debug(`meta-bind | render toggleInputField ${this.inputFieldMarkdownRenderChild.uid}`);
    const component = new import_obsidian2.ToggleComponent(container);
    component.setValue(this.inputFieldMarkdownRenderChild.getInitialValue());
    component.onChange(this.onValueChange);
    this.toggleComponent = component;
  }
};

// src/inputFields/TextInputField.ts
var import_obsidian3 = require("obsidian");
var TextInputField = class extends AbstractInputField {
  getValue() {
    if (!this.textComponent) {
      throw new MetaBindInternalError("text input component is undefined");
    }
    return this.textComponent.getValue();
  }
  setValue(value) {
    if (!this.textComponent) {
      throw new MetaBindInternalError("text input component is undefined");
    }
    if (value != null && typeof value == "string") {
      this.textComponent.setValue(value);
    } else {
      console.warn(new MetaBindValueError(`invalid value '${value}' at textInputField ${this.inputFieldMarkdownRenderChild.uid}`));
      this.textComponent.setValue("");
    }
  }
  isEqualValue(value) {
    return this.getValue() == value;
  }
  getDefaultValue() {
    return "";
  }
  getHtmlElement() {
    if (!this.textComponent) {
      throw new MetaBindInternalError("text input component is undefined");
    }
    return this.textComponent.inputEl;
  }
  render(container) {
    console.debug(`meta-bind | render textInputField ${this.inputFieldMarkdownRenderChild.uid}`);
    const component = new import_obsidian3.TextComponent(container);
    component.setValue(this.inputFieldMarkdownRenderChild.getInitialValue());
    component.onChange(this.onValueChange);
    this.textComponent = component;
  }
};

// src/inputFields/SliderInputField.ts
var import_obsidian4 = require("obsidian");

// src/utils/ParserUtils.ts
var EnclosingPair = class {
  constructor(openingString, closingString) {
    if (isFalsy(openingString)) {
      throw new MetaBindInternalError("opening string must not be empty");
    }
    this.openingEqualsClosing = isFalsy(closingString) || openingString === closingString;
    if (this.openingEqualsClosing) {
      this._openingString = openingString;
      this._closingString = openingString;
    } else {
      this._openingString = openingString;
      this._closingString = closingString;
    }
  }
  get openingString() {
    return this._openingString;
  }
  get closingString() {
    return this.openingEqualsClosing ? this._openingString : this._closingString;
  }
  overlaps(other) {
    return equalOrIncludes(this.openingString, other.openingString) || equalOrIncludes(this.openingString, other.closingString) || equalOrIncludes(this.closingString, other.openingString) || equalOrIncludes(this.closingString, other.closingString);
  }
  equals(other) {
    if (isFalsy(other)) {
      return false;
    }
    return this.openingString === other.openingString && this.closingString === other.closingString;
  }
  toString() {
    return JSON.stringify(this);
  }
};
var ParserUtils = class {
  static split(str, separator, ignore) {
    if (!str) {
      throw new MetaBindInternalError("string must not be empty");
    }
    if (!separator) {
      throw new MetaBindInternalError("separator must not be empty");
    }
    let subStr = "";
    const subStrings = [];
    if (ignore) {
      let remainingOpeningStringCount = ParserUtils.numberOfOccurrences(str, ignore.openingString);
      let remainingClosingStringCount = ParserUtils.numberOfOccurrences(str, ignore.closingString);
      let enclosingLevel = 0;
      strLoop:
        for (let i = 0; i < str.length; i++) {
          if (enclosingLevel === 0 && ParserUtils.isStringAt(str, separator, i)) {
            subStrings.push(subStr);
            subStr = "";
            i += separator.length - 1;
          } else {
            subStr += str[i];
          }
          if (ignore.openingEqualsClosing) {
            if (ParserUtils.isStringAt(str, ignore.openingString, i)) {
              if (enclosingLevel % 2 === 0 && remainingOpeningStringCount === 1) {
              } else if (enclosingLevel % 2 === 0) {
                enclosingLevel += 1;
                for (let j = 1; j < ignore.openingString.length; j++) {
                  i += 1;
                  subStr += str[i];
                  if (i >= str.length) {
                    break strLoop;
                  }
                }
              } else {
                enclosingLevel -= 1;
                for (let j = 1; j < ignore.closingString.length; j++) {
                  i += 1;
                  subStr += str[i];
                  if (i >= str.length) {
                    break strLoop;
                  }
                }
              }
              remainingOpeningStringCount -= 1;
            }
          } else {
            if (ParserUtils.isStringAt(str, ignore.openingString, i)) {
              if (remainingOpeningStringCount <= remainingClosingStringCount) {
                enclosingLevel += 1;
                for (let j = 1; j < ignore.openingString.length; j++) {
                  i += 1;
                  subStr += str[i];
                  if (i >= str.length) {
                    break strLoop;
                  }
                }
              }
              remainingOpeningStringCount -= 1;
            } else if (ParserUtils.isStringAt(str, ignore.closingString, i)) {
              if (enclosingLevel > 0) {
                enclosingLevel -= 1;
                for (let j = 1; j < ignore.closingString.length; j++) {
                  i += 1;
                  subStr += str[i];
                  if (i >= str.length) {
                    break strLoop;
                  }
                }
              }
              remainingClosingStringCount -= 1;
            }
          }
        }
    } else {
      for (let i = 0; i < str.length; i++) {
        if (ParserUtils.isStringAt(str, separator, i)) {
          subStrings.push(subStr);
          subStr = "";
          i += separator.length - 1;
        } else {
          subStr += str[i];
        }
      }
    }
    subStrings.push(subStr);
    return subStrings;
  }
  static removeInBetween(str, enclosingPair) {
    if (!str) {
      throw new MetaBindInternalError("string must not be empty");
    }
    let remainingOpeningStringCount = ParserUtils.numberOfOccurrences(str, enclosingPair.openingString);
    let remainingClosingStringCount = ParserUtils.numberOfOccurrences(str, enclosingPair.closingString);
    let enclosingLevel = 0;
    let subStr = "";
    for (let i = 0; i < str.length; i++) {
      if (enclosingPair.openingEqualsClosing) {
        if (ParserUtils.isStringAt(str, enclosingPair.openingString, i)) {
          if (enclosingLevel % 2 === 0 && remainingOpeningStringCount === 1) {
          } else if (enclosingLevel % 2 === 0) {
            enclosingLevel += 1;
            i += enclosingPair.openingString.length;
            if (i >= str.length) {
              break;
            }
          } else {
            enclosingLevel -= 1;
            i += enclosingPair.closingString.length;
            if (i >= str.length) {
              break;
            }
          }
          remainingOpeningStringCount -= 1;
        }
      } else {
        if (ParserUtils.isStringAt(str, enclosingPair.openingString, i)) {
          if (remainingOpeningStringCount <= remainingClosingStringCount) {
            enclosingLevel += 1;
            i += enclosingPair.openingString.length;
            if (i >= str.length) {
              break;
            }
          }
          remainingOpeningStringCount -= 1;
        } else if (ParserUtils.isStringAt(str, enclosingPair.closingString, i)) {
          if (enclosingLevel > 0) {
            enclosingLevel -= 1;
            i += enclosingPair.closingString.length;
            if (i >= str.length) {
              break;
            }
          }
          remainingClosingStringCount -= 1;
        }
      }
      if (enclosingLevel === 0) {
        subStr += str[i];
      }
    }
    return subStr;
  }
  static getInBetween(str, enclosingPair) {
    if (!str) {
      throw new MetaBindInternalError("string must not be empty");
    }
    let remainingOpeningStringCount = ParserUtils.numberOfOccurrences(str, enclosingPair.openingString);
    let remainingClosingStringCount = ParserUtils.numberOfOccurrences(str, enclosingPair.closingString);
    let enclosingLevel = 0;
    let subStr = "";
    const subStrings = [];
    strLoop:
      for (let i = 0; i < str.length; i++) {
        if (enclosingPair.openingEqualsClosing) {
          if (ParserUtils.isStringAt(str, enclosingPair.openingString, i)) {
            if (enclosingLevel % 2 === 0 && remainingOpeningStringCount === 1) {
            } else if (enclosingLevel % 2 === 0) {
              enclosingLevel += 1;
              subStr += str[i];
              for (let j = 1; j < enclosingPair.openingString.length; j++) {
                i += 1;
                subStr += str[i];
                if (i >= str.length) {
                  break strLoop;
                }
              }
            } else {
              enclosingLevel -= 1;
              subStr += str[i];
              for (let j = 1; j < enclosingPair.closingString.length; j++) {
                i += 1;
                subStr += str[i];
                if (i > str.length) {
                  break strLoop;
                }
              }
              subStrings.push(subStr);
              subStr = "";
            }
            remainingOpeningStringCount -= 1;
          } else {
            if (enclosingLevel >= 1) {
              subStr += str[i];
            }
          }
        } else {
          if (ParserUtils.isStringAt(str, enclosingPair.openingString, i)) {
            if (remainingOpeningStringCount <= remainingClosingStringCount) {
              enclosingLevel += 1;
              subStr += str[i];
              for (let j = 1; j < enclosingPair.openingString.length; j++) {
                i += 1;
                subStr += str[i];
                if (i >= str.length) {
                  break strLoop;
                }
              }
            }
            remainingOpeningStringCount -= 1;
          } else if (ParserUtils.isStringAt(str, enclosingPair.closingString, i)) {
            if (enclosingLevel > 0) {
              enclosingLevel -= 1;
              subStr += str[i];
              for (let j = 1; j < enclosingPair.closingString.length; j++) {
                i += 1;
                subStr += str[i];
                if (i > str.length) {
                  break strLoop;
                }
              }
              if (enclosingLevel === 0) {
                subStrings.push(subStr);
                subStr = "";
              }
            }
            remainingClosingStringCount -= 1;
          } else {
            if (enclosingLevel >= 1) {
              subStr += str[i];
            }
          }
        }
      }
    if (subStrings.length === 0) {
      return "";
    } else if (subStrings.length === 1) {
      return subStrings[0].substring(enclosingPair.openingString.length, subStrings[0].length - enclosingPair.closingString.length);
    } else {
      return subStrings.map((x) => x.substring(enclosingPair.openingString.length, x.length - enclosingPair.closingString.length));
    }
  }
  static isStringAt(str, subStr, index) {
    if (index < 0) {
      throw new MetaBindInternalError("index must be greater than 0");
    }
    if (index >= str.length) {
      throw new MetaBindInternalError("index out of bounds of string");
    }
    if (!str) {
      throw new MetaBindInternalError("string must not be empty");
    }
    if (!subStr) {
      throw new MetaBindInternalError("sub string must not be empty");
    }
    for (let i = 0; i < subStr.length; i++) {
      if (str[i + index] !== subStr[i]) {
        return false;
      }
    }
    return true;
  }
  static contains(str, subStr) {
    return ParserUtils.numberOfOccurrences(str, subStr) > 0;
  }
  static numberOfOccurrences(str, subStr) {
    if (!str) {
      throw new MetaBindInternalError("string must not be empty");
    }
    if (!subStr) {
      throw new MetaBindInternalError("sub string must not be empty");
    }
    let occurrences = 0;
    for (let i = 0; i < str.length; i++) {
      if (ParserUtils.isStringAt(str, subStr, i)) {
        occurrences += 1;
      }
    }
    return occurrences;
  }
};

// src/inputFieldArguments/AbstractInputFieldArgument.ts
var AbstractInputFieldArgument = class {
  constructor() {
    this.identifier = "invalid" /* INVALID */;
    this.allowedInputFields = [];
    this.requiresValue = false;
    this.allowMultiple = false;
  }
  isAllowed(inputFieldType) {
    if (this.allowedInputFields.length === 0) {
      return true;
    }
    return this.allowedInputFields.contains(inputFieldType);
  }
  getAllowedInputFieldsAsString() {
    return this.allowedInputFields.length === 0 ? "all" : this.allowedInputFields.join(", ");
  }
};

// src/inputFieldArguments/ClassInputFieldArgument.ts
var ClassInputFieldArgument = class extends AbstractInputFieldArgument {
  constructor() {
    super(...arguments);
    this.identifier = "class" /* CLASS */;
    this.allowedInputFields = [];
    this.value = [];
    this.requiresValue = true;
    this.allowMultiple = true;
  }
  parseValue(valueStr) {
    this.value = valueStr.split(" ");
  }
};

// src/inputFieldArguments/AddLabelsInputFieldArgument.ts
var AddLabelsInputFieldArgument = class extends AbstractInputFieldArgument {
  constructor() {
    super(...arguments);
    this.identifier = "addLabels" /* ADD_LABELS */;
    this.allowedInputFields = ["slider" /* SLIDER */];
    this.value = true;
    this.requiresValue = false;
    this.allowMultiple = false;
  }
  parseValue(valueStr) {
    this.value = valueStr.toLowerCase() === "true";
  }
};

// src/inputFieldArguments/MinValueInputFieldArgument.ts
var MinValueInputFieldArgument = class extends AbstractInputFieldArgument {
  constructor() {
    super(...arguments);
    this.identifier = "minValue" /* MIN_VALUE */;
    this.allowedInputFields = ["slider" /* SLIDER */];
    this.value = 0;
    this.requiresValue = true;
    this.allowMultiple = false;
  }
  parseValue(valueStr) {
    this.value = Number.parseInt(valueStr);
    if (Number.isNaN(this.value)) {
      throw new MetaBindParsingError("value of argument 'minValue' must be of type number");
    }
  }
};

// src/inputFieldArguments/MaxValueInputFieldArgument.ts
var MaxValueInputFieldArgument = class extends AbstractInputFieldArgument {
  constructor() {
    super(...arguments);
    this.identifier = "maxValue" /* MAX_VALUE */;
    this.allowedInputFields = ["slider" /* SLIDER */];
    this.value = 100;
    this.requiresValue = true;
    this.allowMultiple = false;
  }
  parseValue(valueStr) {
    this.value = Number.parseInt(valueStr);
    if (Number.isNaN(this.value)) {
      throw new MetaBindParsingError("value of argument 'maxValue' must be of type number");
    }
  }
};

// src/inputFieldArguments/OptionInputFieldArgument.ts
var OptionInputFieldArgument = class extends AbstractInputFieldArgument {
  constructor() {
    super(...arguments);
    this.identifier = "option" /* OPTION */;
    this.allowedInputFields = ["select" /* SELECT */, "multi_select" /* MULTI_SELECT */];
    this.value = "";
    this.requiresValue = true;
    this.allowMultiple = true;
  }
  parseValue(valueStr) {
    this.value = valueStr;
  }
};

// src/inputFieldArguments/TitleInputFieldArgument.ts
var TitleInputFieldArgument = class extends AbstractInputFieldArgument {
  constructor() {
    super(...arguments);
    this.identifier = "title" /* TITLE */;
    this.allowedInputFields = ["select" /* SELECT */, "multi_select" /* MULTI_SELECT */];
    this.value = "";
    this.requiresValue = true;
    this.allowMultiple = false;
  }
  parseValue(valueStr) {
    this.value = valueStr;
  }
};

// src/inputFieldArguments/AlignRightInputFieldArgument.ts
var AlignRightInputFieldArgument = class extends AbstractInputFieldArgument {
  constructor() {
    super(...arguments);
    this.identifier = "alignRight" /* ALIGN_RIGHT */;
    this.allowedInputFields = ["date_picker" /* DATE_PICKER */];
    this.value = true;
    this.requiresValue = false;
    this.allowMultiple = false;
  }
  parseValue(valueStr) {
    this.value = valueStr.toLowerCase() === "true";
  }
};

// src/inputFieldArguments/SuggestOptionInputFieldArgument.ts
var SuggestOptionInputFieldArgument = class extends AbstractInputFieldArgument {
  constructor() {
    super(...arguments);
    this.identifier = "suggestOption" /* SUGGEST_OPTION */;
    this.allowedInputFields = ["suggester" /* SUGGESTER */];
    this.value = "";
    this.requiresValue = true;
    this.allowMultiple = true;
  }
  parseValue(valueStr) {
    this.value = valueStr;
  }
};

// src/inputFieldArguments/SuggestOptionQueryInputFieldArgument.ts
var SuggestOptionQueryInputFieldArgument = class extends AbstractInputFieldArgument {
  constructor() {
    super(...arguments);
    this.identifier = "suggestOptionQuery" /* SUGGEST_OPTION_QUERY */;
    this.allowedInputFields = ["suggester" /* SUGGESTER */];
    this.value = "";
    this.requiresValue = true;
    this.allowMultiple = true;
  }
  parseValue(valueStr) {
    this.value = valueStr;
  }
};

// src/inputFieldArguments/InputFieldArgumentFactory.ts
var InputFieldArgumentFactory = class {
  static createInputFieldArgument(argumentIdentifier) {
    if (argumentIdentifier === "class" /* CLASS */) {
      return new ClassInputFieldArgument();
    } else if (argumentIdentifier === "addLabels" /* ADD_LABELS */) {
      return new AddLabelsInputFieldArgument();
    } else if (argumentIdentifier === "minValue" /* MIN_VALUE */) {
      return new MinValueInputFieldArgument();
    } else if (argumentIdentifier === "maxValue" /* MAX_VALUE */) {
      return new MaxValueInputFieldArgument();
    } else if (argumentIdentifier === "option" /* OPTION */) {
      return new OptionInputFieldArgument();
    } else if (argumentIdentifier === "title" /* TITLE */) {
      return new TitleInputFieldArgument();
    } else if (argumentIdentifier === "alignRight" /* ALIGN_RIGHT */) {
      return new AlignRightInputFieldArgument();
    } else if (argumentIdentifier === "suggestOption" /* SUGGEST_OPTION */) {
      return new SuggestOptionInputFieldArgument();
    } else if (argumentIdentifier === "suggestOptionQuery" /* SUGGEST_OPTION_QUERY */) {
      return new SuggestOptionQueryInputFieldArgument();
    } else {
      throw new MetaBindParsingError(`unknown argument '${argumentIdentifier}'`);
    }
  }
};

// src/inputFieldArguments/InputFieldArgumentContainer.ts
var InputFieldArgumentContainer = class {
  constructor() {
    this.arguments = [];
  }
  add(argument) {
    this.arguments.push(argument);
  }
  validate() {
    let map = {};
    for (const inputFieldArgumentType of Object.values(InputFieldArgumentType)) {
      map[inputFieldArgumentType] = 0;
    }
    for (const argument of this.arguments) {
      map[argument.identifier] += 1;
      if (map[argument.identifier] > 1 && !argument.allowMultiple) {
        throw new MetaBindParsingError(`argument '${argument.identifier}' does not allow duplicates`);
      }
    }
  }
  mergeByOverride(other) {
    for (const argument of other.arguments) {
      if (!argument.allowMultiple) {
        this.arguments = this.arguments.filter((x) => x.identifier !== argument.identifier);
      }
      this.arguments.push(argument);
    }
    this.validate();
    return this;
  }
  mergeByThrow(other) {
    for (const argument of other.arguments) {
      if (!argument.allowMultiple) {
        if (this.arguments.filter((x) => x.identifier === argument.identifier).length > 0) {
          throw new MetaBindParsingError("can not merge InputFieldArgumentContainers, since arguments overlap");
        }
      }
      this.arguments.push(argument);
    }
    this.validate();
    return this;
  }
};

// src/parsers/InputFieldDeclarationParser.ts
var InputFieldType3 = /* @__PURE__ */ ((InputFieldType4) => {
  InputFieldType4["TOGGLE"] = "toggle";
  InputFieldType4["SLIDER"] = "slider";
  InputFieldType4["TEXT"] = "text";
  InputFieldType4["TEXT_AREA"] = "text_area";
  InputFieldType4["SELECT"] = "select";
  InputFieldType4["MULTI_SELECT"] = "multi_select";
  InputFieldType4["DATE"] = "date";
  InputFieldType4["TIME"] = "time";
  InputFieldType4["DATE_PICKER"] = "date_picker";
  InputFieldType4["NUMBER"] = "number";
  InputFieldType4["SUGGESTER"] = "suggester";
  InputFieldType4["INVALID"] = "invalid";
  return InputFieldType4;
})(InputFieldType3 || {});
var InputFieldArgumentType = /* @__PURE__ */ ((InputFieldArgumentType2) => {
  InputFieldArgumentType2["CLASS"] = "class";
  InputFieldArgumentType2["ADD_LABELS"] = "addLabels";
  InputFieldArgumentType2["MIN_VALUE"] = "minValue";
  InputFieldArgumentType2["MAX_VALUE"] = "maxValue";
  InputFieldArgumentType2["OPTION"] = "option";
  InputFieldArgumentType2["TITLE"] = "title";
  InputFieldArgumentType2["ALIGN_RIGHT"] = "alignRight";
  InputFieldArgumentType2["SUGGEST_OPTION"] = "suggestOption";
  InputFieldArgumentType2["SUGGEST_OPTION_QUERY"] = "suggestOptionQuery";
  InputFieldArgumentType2["INVALID"] = "invalid";
  return InputFieldArgumentType2;
})(InputFieldArgumentType || {});
var _InputFieldDeclarationParser = class {
  static parse(fullDeclaration) {
    var _a, _b;
    const inputFieldDeclaration = {};
    let useTemplate = false;
    let templateName = "";
    inputFieldDeclaration.fullDeclaration = fullDeclaration;
    const temp = ParserUtils.getInBetween(fullDeclaration, _InputFieldDeclarationParser.squareBracesPair);
    if (Array.isArray(temp)) {
      if (temp.length === 2) {
        useTemplate = true;
        templateName = temp[0];
        inputFieldDeclaration.declaration = temp[1];
      } else {
        throw new MetaBindParsingError("invalid input field declaration");
      }
    } else {
      inputFieldDeclaration.declaration = temp;
    }
    const declarationParts = ParserUtils.split(inputFieldDeclaration.declaration, ":", _InputFieldDeclarationParser.squareBracesPair);
    inputFieldDeclaration.bindTarget = (_a = declarationParts[1]) != null ? _a : "";
    inputFieldDeclaration.isBound = isTruthy(inputFieldDeclaration.bindTarget);
    const inputFieldTypeWithArguments = declarationParts[0];
    if (inputFieldTypeWithArguments) {
      const inputFieldTypeString = ParserUtils.removeInBetween(inputFieldTypeWithArguments, _InputFieldDeclarationParser.roundBracesPair);
      inputFieldDeclaration.inputFieldType = _InputFieldDeclarationParser.getInputFieldType(inputFieldTypeString);
      const inputFieldArgumentsString = ParserUtils.getInBetween(inputFieldTypeWithArguments, _InputFieldDeclarationParser.roundBracesPair);
      if (inputFieldArgumentsString) {
        inputFieldDeclaration.argumentContainer = _InputFieldDeclarationParser.parseArguments(inputFieldArgumentsString, inputFieldDeclaration.inputFieldType);
      } else {
        inputFieldDeclaration.argumentContainer = new InputFieldArgumentContainer();
      }
    } else {
      inputFieldDeclaration.inputFieldType = "invalid" /* INVALID */;
      inputFieldDeclaration.argumentContainer = new InputFieldArgumentContainer();
    }
    if (useTemplate) {
      const template = (_b = _InputFieldDeclarationParser.templates.filter((x) => x.identifier === templateName).first()) == null ? void 0 : _b.template;
      if (template) {
        inputFieldDeclaration.bindTarget = inputFieldDeclaration.bindTarget || template.bindTarget;
        inputFieldDeclaration.isBound = inputFieldDeclaration.isBound || template.isBound;
        inputFieldDeclaration.inputFieldType = inputFieldDeclaration.inputFieldType === "invalid" /* INVALID */ ? template.inputFieldType : inputFieldDeclaration.inputFieldType || template.inputFieldType;
        inputFieldDeclaration.argumentContainer = template.argumentContainer.mergeByOverride(inputFieldDeclaration.argumentContainer);
      } else {
        throw new MetaBindParsingError(`unknown template name '${templateName}'`);
      }
    }
    if (inputFieldDeclaration.inputFieldType === "invalid" /* INVALID */) {
      throw new MetaBindParsingError(`unknown input field type`);
    }
    return inputFieldDeclaration;
  }
  static parseTemplates(templates) {
    _InputFieldDeclarationParser.templates = [];
    let templateDeclarations = templates ? ParserUtils.split(templates, "\n", _InputFieldDeclarationParser.squareBracesPair) : [];
    templateDeclarations = templateDeclarations.map((x) => x.trim()).filter((x) => x.length > 0);
    for (const templateDeclaration of templateDeclarations) {
      let templateDeclarationParts = ParserUtils.split(templateDeclaration, "->", _InputFieldDeclarationParser.squareBracesPair);
      templateDeclarationParts = templateDeclarationParts.map((x) => x.trim());
      if (templateDeclarationParts.length === 1) {
        throw new MetaBindParsingError("Invalid template syntax");
      } else if (templateDeclarationParts.length === 2) {
        _InputFieldDeclarationParser.templates.push({
          identifier: templateDeclarationParts[0],
          template: _InputFieldDeclarationParser.parse(templateDeclarationParts[1])
        });
      }
    }
    console.log(_InputFieldDeclarationParser.templates);
  }
  static parseArguments(inputFieldArgumentsString, inputFieldType) {
    let inputFieldArgumentStrings = ParserUtils.split(inputFieldArgumentsString, ",", _InputFieldDeclarationParser.roundBracesPair);
    inputFieldArgumentStrings = inputFieldArgumentStrings.map((x) => x.trim());
    const inputFieldArgumentContainer = new InputFieldArgumentContainer();
    for (const inputFieldArgumentString of inputFieldArgumentStrings) {
      const inputFieldArgumentIdentifier = _InputFieldDeclarationParser.extractInputFieldArgumentIdentifier(inputFieldArgumentString);
      const inputFieldArgument = InputFieldArgumentFactory.createInputFieldArgument(inputFieldArgumentIdentifier);
      if (!inputFieldArgument.isAllowed(inputFieldType)) {
        throw new MetaBindParsingError(
          `argument '${inputFieldArgumentIdentifier}' is only applicable to ${inputFieldArgument.getAllowedInputFieldsAsString()} input fields`
        );
      }
      if (inputFieldArgument.requiresValue) {
        inputFieldArgument.parseValue(_InputFieldDeclarationParser.extractInputFieldArgumentValue(inputFieldArgumentString));
      }
      inputFieldArgumentContainer.add(inputFieldArgument);
    }
    inputFieldArgumentContainer.validate();
    return inputFieldArgumentContainer;
  }
  static extractInputFieldArgumentIdentifier(argumentString) {
    return ParserUtils.removeInBetween(argumentString, _InputFieldDeclarationParser.roundBracesPair);
  }
  static extractInputFieldArgumentValue(argumentString) {
    const argumentName = this.extractInputFieldArgumentIdentifier(argumentString);
    const argumentValue = ParserUtils.getInBetween(argumentString, _InputFieldDeclarationParser.roundBracesPair);
    if (!argumentValue) {
      throw new MetaBindParsingError(`argument '${argumentName}' requires a non empty value`);
    }
    return argumentValue;
  }
  static getInputFieldType(str) {
    for (const entry of Object.entries(InputFieldType3)) {
      if (entry[1] === str) {
        return entry[1];
      }
    }
    return "invalid" /* INVALID */;
  }
};
var InputFieldDeclarationParser = _InputFieldDeclarationParser;
InputFieldDeclarationParser.roundBracesPair = new EnclosingPair("(", ")");
InputFieldDeclarationParser.squareBracesPair = new EnclosingPair("[", "]");
InputFieldDeclarationParser.curlyBracesPair = new EnclosingPair("{", "}");
InputFieldDeclarationParser.allBracesPairs = [
  _InputFieldDeclarationParser.roundBracesPair,
  _InputFieldDeclarationParser.squareBracesPair,
  _InputFieldDeclarationParser.curlyBracesPair
];
InputFieldDeclarationParser.templates = [];

// src/inputFields/SliderInputField.ts
var SliderInputField = class extends AbstractInputField {
  constructor(inputFieldMarkdownRenderChild, onValueChange) {
    var _a, _b, _c, _d;
    super(inputFieldMarkdownRenderChild, onValueChange);
    this.minValue = (_b = (_a = inputFieldMarkdownRenderChild.getArgument("minValue" /* MIN_VALUE */)) == null ? void 0 : _a.value) != null ? _b : 0;
    this.maxValue = (_d = (_c = inputFieldMarkdownRenderChild.getArgument("maxValue" /* MAX_VALUE */)) == null ? void 0 : _c.value) != null ? _d : 100;
  }
  getValue() {
    if (!this.sliderComponent) {
      throw new MetaBindInternalError("slider input component is undefined");
    }
    return this.sliderComponent.getValue();
  }
  setValue(value) {
    if (!this.sliderComponent) {
      throw new MetaBindInternalError("slider input component is undefined");
    }
    if (value != null && typeof value == "number") {
      if (value >= this.minValue && value <= this.maxValue) {
        this.sliderComponent.setValue(value);
      }
    } else {
      console.warn(new MetaBindValueError(`invalid value '${value}' at sliderInputField ${this.inputFieldMarkdownRenderChild.uid}`));
      this.sliderComponent.setValue(this.getDefaultValue());
    }
  }
  isEqualValue(value) {
    return this.getValue() == value;
  }
  getDefaultValue() {
    return this.minValue;
  }
  getHtmlElement() {
    if (!this.sliderComponent) {
      throw new MetaBindInternalError("slider input component is undefined");
    }
    return this.sliderComponent.sliderEl;
  }
  render(container) {
    console.debug(`meta-bind | render slider ${this.inputFieldMarkdownRenderChild.uid}`);
    container.removeClass("meta-bind-plugin-input-wrapper");
    container.addClass("meta-bind-plugin-flex-input-wrapper");
    const labelArgument = this.inputFieldMarkdownRenderChild.getArgument("addLabels" /* ADD_LABELS */);
    if (labelArgument && labelArgument.value === true) {
      container.createSpan({ text: this.minValue.toString(), cls: "meta-bind-plugin-slider-input-label" });
    }
    const component = new import_obsidian4.SliderComponent(container);
    component.setValue(this.inputFieldMarkdownRenderChild.getInitialValue());
    component.onChange(this.onValueChange);
    component.setDynamicTooltip();
    component.setLimits(this.minValue, this.maxValue, 1);
    component.sliderEl.addClass("meta-bind-plugin-slider-input");
    if (labelArgument && labelArgument.value === true) {
      container.createSpan({ text: this.maxValue.toString(), cls: "meta-bind-plugin-slider-input-label" });
    }
    this.sliderComponent = component;
  }
};

// src/inputFields/TextAreaInputField.ts
var import_obsidian5 = require("obsidian");
var TextAreaInputField = class extends AbstractInputField {
  getValue() {
    if (!this.textAreaComponent) {
      throw new MetaBindInternalError("text area input component is undefined");
    }
    return this.textAreaComponent.getValue();
  }
  setValue(value) {
    if (!this.textAreaComponent) {
      throw new MetaBindInternalError("text area input component is undefined");
    }
    if (value != null && typeof value == "string") {
      this.textAreaComponent.setValue(value);
    } else {
      console.warn(new MetaBindValueError(`invalid value '${value}' at textAreaInputField ${this.inputFieldMarkdownRenderChild.uid}`));
      this.textAreaComponent.setValue("");
    }
  }
  isEqualValue(value) {
    return this.getValue() == value;
  }
  getDefaultValue() {
    return "";
  }
  getHtmlElement() {
    if (!this.textAreaComponent) {
      throw new MetaBindInternalError("text area input component is undefined");
    }
    return this.textAreaComponent.inputEl;
  }
  render(container) {
    console.debug(`meta-bind | render textAreaInputField ${this.inputFieldMarkdownRenderChild.uid}`);
    const component = new import_obsidian5.TextAreaComponent(container);
    component.setValue(this.inputFieldMarkdownRenderChild.getInitialValue());
    component.onChange(this.onValueChange);
    this.textAreaComponent = component;
  }
};

// src/inputFields/SelectInputFieldElement.ts
var SelectInputFieldElement = class {
  constructor(value, parentElement, id, multiSelectInputField, active = false) {
    this.value = value;
    this.id = id;
    this.active = active;
    this.highlighted = false;
    this.selectInputField = multiSelectInputField;
    this.cssClass = "meta-bind-plugin-select-input-element";
    this.activeClass = "meta-bind-plugin-select-input-element-selected";
    this.hoverClass = "meta-bind-plugin-select-input-element-hover";
    this.element = parentElement.createDiv({ cls: this.cssClass });
    this.element.id = this.getHTMLId();
    this.element.on("click", "#" + this.getHTMLId(), () => {
      this.setActive(!this.active);
      if (!this.selectInputField.allowMultiSelect) {
        this.selectInputField.disableAllOtherElements(this.id);
      }
    });
    this.element.on("mouseenter", "#" + this.getHTMLId(), () => {
      this.setHighlighted(true);
    });
    this.element.on("mouseleave", "#" + this.getHTMLId(), () => {
      this.setHighlighted(false);
    });
  }
  getHTMLId() {
    return `meta-bind-select-input-element-${this.selectInputField.inputFieldMarkdownRenderChild.uid}-${this.id}`;
  }
  isHighlighted() {
    return this.highlighted;
  }
  setHighlighted(value) {
    this.highlighted = value;
    if (this.highlighted) {
      this.addClass(this.hoverClass);
      this.selectInputField.deHighlightAllOtherElements(this.id);
    } else {
      this.removeClass(this.hoverClass);
    }
  }
  isActive() {
    return this.active;
  }
  setActive(active, updateParent = true) {
    this.active = active;
    this.update(updateParent);
  }
  update(updateParent) {
    if (this.active) {
      this.addClass(this.activeClass);
    } else {
      this.removeClass(this.activeClass);
    }
    if (updateParent) {
      this.selectInputField.onChange();
    }
  }
  addClass(cssClass) {
    if (!this.element.hasClass(cssClass)) {
      this.element.addClass(cssClass);
    }
  }
  removeClass(cssClass) {
    if (this.element.hasClass(cssClass)) {
      this.element.removeClass(cssClass);
    }
  }
  render() {
    this.element.createEl("div", { text: this.value });
  }
};

// src/inputFields/SelectInputField.ts
var SelectInputField = class extends AbstractInputField {
  constructor(inputFieldMarkdownRenderChild, onValueChange) {
    super(inputFieldMarkdownRenderChild, onValueChange);
    this.elements = [];
    this.allowMultiSelect = false;
  }
  getHtmlElement() {
    if (!this.container) {
      throw new MetaBindInternalError("select input container is undefined");
    }
    return this.container;
  }
  getValue() {
    var _a, _b;
    return (_b = (_a = this.elements.filter((x) => x.isActive()).first()) == null ? void 0 : _a.value) != null ? _b : "";
  }
  setValue(value) {
    for (const element2 of this.elements) {
      if (value === element2.value) {
        element2.setActive(true, false);
      } else {
        element2.setActive(false, false);
      }
    }
  }
  isEqualValue(value) {
    return this.getValue() == value;
  }
  getDefaultValue() {
    return "";
  }
  onChange() {
    this.onValueChange(this.getValue());
  }
  render(container) {
    console.debug(`meta-bind | render selectInputField ${this.inputFieldMarkdownRenderChild.uid}`);
    container.addClass("meta-bind-plugin-select-input-bg");
    this.container = container;
    const elementWrapper = container.createDiv({ cls: "meta-bind-plugin-select-input-wrapper" });
    const titleArgument = this.inputFieldMarkdownRenderChild.getArgument("title" /* TITLE */);
    if (titleArgument) {
      elementWrapper.createEl("div", { text: titleArgument.value, cls: "meta-bind-plugin-select-input-header" });
    }
    const elementArguments = this.inputFieldMarkdownRenderChild.getArguments("option" /* OPTION */);
    let i = 0;
    for (const elementArgument of elementArguments) {
      const selectInputFieldElement = new SelectInputFieldElement(elementArgument.value, elementWrapper, i, this, false);
      this.elements.push(selectInputFieldElement);
      selectInputFieldElement.render();
      i += 1;
    }
    this.setValue(this.inputFieldMarkdownRenderChild.getInitialValue());
  }
  disableAllOtherElements(elementId) {
    for (const selectModalElement of this.elements) {
      if (selectModalElement.id !== elementId) {
        selectModalElement.setActive(false);
      }
    }
  }
  deHighlightAllOtherElements(elementId) {
    for (const selectModalElement of this.elements) {
      if (selectModalElement.id !== elementId) {
        selectModalElement.setHighlighted(false);
      }
    }
  }
  activateHighlighted() {
    for (const selectModalElement of this.elements) {
      if (selectModalElement.isHighlighted()) {
        selectModalElement.setActive(!selectModalElement.isActive());
        if (!this.allowMultiSelect) {
          this.disableAllOtherElements(selectModalElement.id);
        }
      }
    }
  }
  highlightUp() {
    var _a, _b;
    for (const selectModalElement of this.elements) {
      if (selectModalElement.isHighlighted()) {
        (_a = this.getPreviousSelectModalElement(selectModalElement)) == null ? void 0 : _a.setHighlighted(true);
        return;
      }
    }
    (_b = this.elements.at(-1)) == null ? void 0 : _b.setHighlighted(true);
  }
  highlightDown() {
    var _a, _b;
    for (const selectModalElement of this.elements) {
      if (selectModalElement.isHighlighted()) {
        (_a = this.getNextSelectModalElement(selectModalElement)) == null ? void 0 : _a.setHighlighted(true);
        return;
      }
    }
    (_b = this.elements.at(0)) == null ? void 0 : _b.setHighlighted(true);
  }
  getNextSelectModalElement(element2) {
    let nextId = element2.id + 1;
    nextId = mod(nextId, this.elements.length);
    return this.elements.filter((x) => x.id === nextId).at(0);
  }
  getPreviousSelectModalElement(element2) {
    let nextId = element2.id - 1;
    nextId = mod(nextId, this.elements.length);
    return this.elements.filter((x) => x.id === nextId).at(0);
  }
};
SelectInputField.allowInlineCodeBlock = false;

// src/inputFields/MultiSelectInputField.ts
var MultiSelectInputField = class extends SelectInputField {
  constructor(inputFieldMarkdownRenderChild, onValueChange) {
    super(inputFieldMarkdownRenderChild, onValueChange);
    this.allowMultiSelect = true;
  }
  getValue() {
    return this.elements.filter((x) => x.isActive()).map((x) => x.value);
  }
  setValue(value) {
    if (value.length === 0) {
      for (const element2 of this.elements) {
        element2.setActive(false, false);
      }
      return;
    }
    elementLoop:
      for (const element2 of this.elements) {
        for (const valueElement of value) {
          if (valueElement === element2.value) {
            element2.setActive(true, false);
            continue elementLoop;
          }
        }
        element2.setActive(false, false);
      }
  }
  isEqualValue(value) {
    if (!Array.isArray(value)) {
      return false;
    }
    return arrayEquals(this.getValue(), value);
  }
  getDefaultValue() {
    return [];
  }
};

// src/inputFields/DateInputField.ts
var import_obsidian7 = require("obsidian");

// src/parsers/DateParser.ts
var import_obsidian6 = require("obsidian");
var DateParser = class {
  static stringify(date) {
    return date.format(this.dateFormat);
  }
  static parse(dateString) {
    return (0, import_obsidian6.moment)(dateString, DateParser.dateFormat);
  }
  static getDefaultDate() {
    return (0, import_obsidian6.moment)(new Date(DateParser.getDefaultYear(), DateParser.getDefaultMonth(), DateParser.getDefaultDay()));
  }
  static getDefaultDay() {
    return 1;
  }
  static getDefaultMonth() {
    return 1;
  }
  static getDefaultYear() {
    return 2022;
  }
};

// src/inputFields/DateInputField.ts
var DateInputField = class extends AbstractInputField {
  constructor(inputFieldMarkdownRenderChild, onValueChange) {
    super(inputFieldMarkdownRenderChild, onValueChange);
    this.months = {
      "0": "January",
      "1": "February",
      "2": "March",
      "3": "April",
      "4": "May",
      "5": "June",
      "6": "July",
      "7": "August",
      "8": "September",
      "9": "October",
      "10": "November",
      "11": "December"
    };
    this.date = DateParser.getDefaultDate();
    this.days = {};
    for (let i = 1; i <= 31; i++) {
      this.days[i.toString()] = i.toString();
    }
  }
  getHtmlElement() {
    if (!this.container) {
      throw new MetaBindInternalError("toggle input container is undefined");
    }
    return this.container;
  }
  getValue() {
    return DateParser.stringify(this.date);
  }
  setValue(value) {
    if (!this.monthComponent) {
      throw new MetaBindInternalError("date input month component is undefined");
    }
    if (!this.dayComponent) {
      throw new MetaBindInternalError("date input day component is undefined");
    }
    if (!this.yearComponent) {
      throw new MetaBindInternalError("date input hour component is undefined");
    }
    this.date = DateParser.parse(value);
    if (!this.date) {
      console.warn(new MetaBindValueError(`invalid value '${value}' at dateInputField ${this.inputFieldMarkdownRenderChild.uid}`));
      this.date = DateParser.getDefaultDate();
    }
    if (!this.date.isValid()) {
      this.date = DateParser.getDefaultDate();
      this.onValueChange(this.getValue());
    }
    this.monthComponent.setValue(this.date.month().toString());
    this.dayComponent.setValue(this.date.date().toString());
    this.yearComponent.setValue(this.date.year().toString());
  }
  isEqualValue(value) {
    return value == this.getValue();
  }
  getDefaultValue() {
    return DateParser.stringify(DateParser.getDefaultDate());
  }
  render(container) {
    var _a;
    console.debug(`meta-bind | render dateInputField ${this.inputFieldMarkdownRenderChild.uid}`);
    this.date = (_a = DateParser.parse(this.inputFieldMarkdownRenderChild.getInitialValue())) != null ? _a : DateParser.getDefaultDate();
    if (!this.date.isValid()) {
      this.date = DateParser.getDefaultDate();
      this.onValueChange(this.getValue());
    }
    let useUsInputOrder = this.inputFieldMarkdownRenderChild.plugin.settings.useUsDateInputOrder;
    container.removeClass("meta-bind-plugin-input-wrapper");
    container.addClass("meta-bind-plugin-flex-input-wrapper", "meta-bind-plugin-input-element-group");
    if (!useUsInputOrder) {
      this.dayComponent = new import_obsidian7.DropdownComponent(container);
      this.dayComponent.addOptions(this.days);
      this.dayComponent.setValue(this.date.date().toString());
      this.dayComponent.onChange(this.onDayChange.bind(this));
      this.monthComponent = new import_obsidian7.DropdownComponent(container);
      this.monthComponent.addOptions(this.months);
      this.monthComponent.setValue(this.date.month().toString());
      this.monthComponent.onChange(this.onMonthChange.bind(this));
      this.dayComponent.selectEl.addClass("meta-bind-plugin-input-element-group-element");
      this.monthComponent.selectEl.addClass("meta-bind-plugin-input-element-group-element");
    } else {
      this.monthComponent = new import_obsidian7.DropdownComponent(container);
      this.monthComponent.addOptions(this.months);
      this.monthComponent.setValue(this.date.month().toString());
      this.monthComponent.onChange(this.onMonthChange.bind(this));
      this.dayComponent = new import_obsidian7.DropdownComponent(container);
      this.dayComponent.addOptions(this.days);
      this.dayComponent.setValue(this.date.date().toString());
      this.dayComponent.onChange(this.onDayChange.bind(this));
      this.dayComponent.selectEl.addClass("meta-bind-plugin-input-element-group-element");
      this.monthComponent.selectEl.addClass("meta-bind-plugin-input-element-group-element");
    }
    this.yearComponent = new import_obsidian7.TextComponent(container);
    this.yearComponent.setValue(this.date.year().toString());
    this.yearComponent.onChange(this.onYearChange.bind(this));
    this.yearComponent.inputEl.addClass("meta-bind-plugin-date-input-year-input");
    this.yearComponent.inputEl.addClass("meta-bind-plugin-input-element-group-element");
    this.yearComponent.inputEl.type = "number";
    this.yearComponent.inputEl.max = "9999";
    this.container = container;
  }
  onMonthChange(value) {
    var _a;
    this.date.month(value);
    const clampedDay = this.clampDay(this.date.date());
    (_a = this.dayComponent) == null ? void 0 : _a.setValue(clampedDay.toString());
    this.date.date(clampedDay);
    this.onValueChange(this.getValue());
  }
  onDayChange(value) {
    var _a;
    const day = Number.parseInt(value);
    const clampedDay = this.clampDay(day);
    if (clampedDay !== day) {
      (_a = this.dayComponent) == null ? void 0 : _a.setValue(clampedDay.toString());
    }
    this.date.date(clampedDay);
    this.onValueChange(this.getValue());
  }
  onYearChange(value) {
    const year = Number.parseInt(value);
    this.date.year(Number.isNaN(year) ? DateParser.getDefaultYear() : year);
    this.onValueChange(this.getValue());
  }
  clampDay(day) {
    if (Number.isNaN(day)) {
      return DateParser.getDefaultDay();
    } else if (day < 1) {
      return 1;
    } else if (day > this.date.daysInMonth()) {
      return this.date.daysInMonth();
    }
    return day;
  }
};

// src/inputFields/TimeInputField.ts
var import_obsidian8 = require("obsidian");

// src/parsers/TimeParser.ts
var Time = class {
  constructor() {
    this._hour = TimeParser.getDefaultHour();
    this._minute = TimeParser.getDefaultHour();
  }
  getHour() {
    return this._hour;
  }
  setHour(value) {
    if (value < 0 || value > 24) {
      this._hour = TimeParser.getDefaultHour();
      return;
    }
    this._hour = value;
  }
  getMinute() {
    return this._minute;
  }
  setMinute(value) {
    if (value < 0 || value > 59) {
      this._minute = TimeParser.getDefaultMinute();
      return;
    }
    this._minute = value;
  }
  getUniformHour() {
    return ("00" + this.getHour().toString()).slice(-2);
  }
  getUniformMinute() {
    return ("00" + this.getMinute().toString()).slice(-2);
  }
  setHourFromString(str) {
    const v = Number.parseInt(str);
    this.setHour(Number.isNaN(v) ? TimeParser.getDefaultHour() : v);
  }
  setMinuteFromString(str) {
    const v = Number.parseInt(str);
    this.setMinute(Number.isNaN(v) ? TimeParser.getDefaultMinute() : v);
  }
};
var TimeParser = class {
  static parse(timeString) {
    const time = TimeParser.getDefaultTime();
    const timeParts = timeString.split(":");
    if (timeParts.length !== 2) {
      return void 0;
    }
    time.setHourFromString(timeParts[0]);
    time.setMinuteFromString(timeParts[1]);
    return time;
  }
  static stringify(time) {
    return `${time.getUniformHour()}:${time.getUniformMinute()}`;
  }
  static getDefaultTime() {
    return new Time();
  }
  static getDefaultHour() {
    return 0;
  }
  static getDefaultMinute() {
    return 0;
  }
};

// src/inputFields/TimeInputField.ts
var TimeInputField = class extends AbstractInputField {
  constructor(inputFieldMarkdownRenderChild, onValueChange) {
    super(inputFieldMarkdownRenderChild, onValueChange);
    this.time = TimeParser.getDefaultTime();
    this.hours = {};
    for (let i = 0; i <= 24; i++) {
      this.hours[i.toString()] = i.toString();
    }
    this.minutes = {};
    for (let i = 0; i <= 59; i++) {
      this.minutes[i.toString()] = i.toString();
    }
  }
  getHtmlElement() {
    if (!this.container) {
      throw new MetaBindInternalError("time input container is undefined");
    }
    return this.container;
  }
  getValue() {
    return TimeParser.stringify(this.time);
  }
  setValue(value) {
    if (!this.hourComponent) {
      throw new MetaBindInternalError("time input hour component is undefined");
    }
    if (!this.minuteComponent) {
      throw new MetaBindInternalError("time input minute component is undefined");
    }
    this.time = TimeParser.parse(value);
    if (!this.time) {
      console.warn(new MetaBindValueError(`invalid value '${value}' at timeInputField ${this.inputFieldMarkdownRenderChild.uid}`));
      this.time = TimeParser.getDefaultTime();
    }
    this.hourComponent.setValue(this.time.getHour().toString());
    this.minuteComponent.setValue(this.time.getMinute().toString());
  }
  isEqualValue(value) {
    return value == this.getValue();
  }
  getDefaultValue() {
    return TimeParser.stringify(TimeParser.getDefaultTime());
  }
  render(container) {
    var _a;
    console.debug(`meta-bind | render timeInputField ${this.inputFieldMarkdownRenderChild.uid}`);
    this.time = (_a = TimeParser.parse(this.inputFieldMarkdownRenderChild.getInitialValue())) != null ? _a : TimeParser.getDefaultTime();
    container.removeClass("meta-bind-plugin-input-wrapper");
    container.addClass("meta-bind-plugin-flex-input-wrapper", "meta-bind-plugin-input-element-group");
    this.hourComponent = new import_obsidian8.DropdownComponent(container);
    this.hourComponent.addOptions(this.hours);
    this.hourComponent.setValue(this.time.getHour().toString());
    this.hourComponent.onChange(this.onHourChange.bind(this));
    this.minuteComponent = new import_obsidian8.DropdownComponent(container);
    this.minuteComponent.addOptions(this.minutes);
    this.minuteComponent.setValue(this.time.getMinute().toString());
    this.minuteComponent.onChange(this.onMinuteChange.bind(this));
    this.hourComponent.selectEl.addClass("meta-bind-plugin-input-element-group-element");
    this.minuteComponent.selectEl.addClass("meta-bind-plugin-input-element-group-element");
    this.container = container;
  }
  onHourChange(value) {
    var _a;
    (_a = this.time) == null ? void 0 : _a.setHourFromString(value);
    this.onValueChange(this.getValue());
  }
  onMinuteChange(value) {
    var _a;
    (_a = this.time) == null ? void 0 : _a.setMinuteFromString(value);
    this.onValueChange(this.getValue());
  }
};

// node_modules/svelte/internal/index.mjs
function noop() {
}
function run(fn) {
  return fn();
}
function blank_object() {
  return /* @__PURE__ */ Object.create(null);
}
function run_all(fns) {
  fns.forEach(run);
}
function is_function(thing) {
  return typeof thing === "function";
}
function safe_not_equal(a, b) {
  return a != a ? b == b : a !== b || (a && typeof a === "object" || typeof a === "function");
}
function is_empty(obj) {
  return Object.keys(obj).length === 0;
}
var is_hydrating = false;
function start_hydrating() {
  is_hydrating = true;
}
function end_hydrating() {
  is_hydrating = false;
}
function append(target, node) {
  target.appendChild(node);
}
function append_styles(target, style_sheet_id, styles) {
  const append_styles_to = get_root_for_style(target);
  if (!append_styles_to.getElementById(style_sheet_id)) {
    const style = element("style");
    style.id = style_sheet_id;
    style.textContent = styles;
    append_stylesheet(append_styles_to, style);
  }
}
function get_root_for_style(node) {
  if (!node)
    return document;
  const root = node.getRootNode ? node.getRootNode() : node.ownerDocument;
  if (root && root.host) {
    return root;
  }
  return node.ownerDocument;
}
function append_stylesheet(node, style) {
  append(node.head || node, style);
  return style.sheet;
}
function insert(target, node, anchor) {
  target.insertBefore(node, anchor || null);
}
function detach(node) {
  if (node.parentNode) {
    node.parentNode.removeChild(node);
  }
}
function destroy_each(iterations, detaching) {
  for (let i = 0; i < iterations.length; i += 1) {
    if (iterations[i])
      iterations[i].d(detaching);
  }
}
function element(name) {
  return document.createElement(name);
}
function text(data) {
  return document.createTextNode(data);
}
function space() {
  return text(" ");
}
function empty() {
  return text("");
}
function listen(node, event, handler, options) {
  node.addEventListener(event, handler, options);
  return () => node.removeEventListener(event, handler, options);
}
function attr(node, attribute, value) {
  if (value == null)
    node.removeAttribute(attribute);
  else if (node.getAttribute(attribute) !== value)
    node.setAttribute(attribute, value);
}
function children(element2) {
  return Array.from(element2.childNodes);
}
function set_data(text2, data) {
  data = "" + data;
  if (text2.wholeText !== data)
    text2.data = data;
}
function toggle_class(element2, name, toggle) {
  element2.classList[toggle ? "add" : "remove"](name);
}
function custom_event(type, detail, { bubbles = false, cancelable = false } = {}) {
  const e = document.createEvent("CustomEvent");
  e.initCustomEvent(type, bubbles, cancelable, detail);
  return e;
}
var current_component;
function set_current_component(component) {
  current_component = component;
}
function get_current_component() {
  if (!current_component)
    throw new Error("Function called outside component initialization");
  return current_component;
}
function onMount(fn) {
  get_current_component().$$.on_mount.push(fn);
}
function createEventDispatcher() {
  const component = get_current_component();
  return (type, detail, { cancelable = false } = {}) => {
    const callbacks = component.$$.callbacks[type];
    if (callbacks) {
      const event = custom_event(type, detail, { cancelable });
      callbacks.slice().forEach((fn) => {
        fn.call(component, event);
      });
      return !event.defaultPrevented;
    }
    return true;
  };
}
var dirty_components = [];
var binding_callbacks = [];
var render_callbacks = [];
var flush_callbacks = [];
var resolved_promise = Promise.resolve();
var update_scheduled = false;
function schedule_update() {
  if (!update_scheduled) {
    update_scheduled = true;
    resolved_promise.then(flush);
  }
}
function add_render_callback(fn) {
  render_callbacks.push(fn);
}
function add_flush_callback(fn) {
  flush_callbacks.push(fn);
}
var seen_callbacks = /* @__PURE__ */ new Set();
var flushidx = 0;
function flush() {
  const saved_component = current_component;
  do {
    while (flushidx < dirty_components.length) {
      const component = dirty_components[flushidx];
      flushidx++;
      set_current_component(component);
      update(component.$$);
    }
    set_current_component(null);
    dirty_components.length = 0;
    flushidx = 0;
    while (binding_callbacks.length)
      binding_callbacks.pop()();
    for (let i = 0; i < render_callbacks.length; i += 1) {
      const callback = render_callbacks[i];
      if (!seen_callbacks.has(callback)) {
        seen_callbacks.add(callback);
        callback();
      }
    }
    render_callbacks.length = 0;
  } while (dirty_components.length);
  while (flush_callbacks.length) {
    flush_callbacks.pop()();
  }
  update_scheduled = false;
  seen_callbacks.clear();
  set_current_component(saved_component);
}
function update($$) {
  if ($$.fragment !== null) {
    $$.update();
    run_all($$.before_update);
    const dirty = $$.dirty;
    $$.dirty = [-1];
    $$.fragment && $$.fragment.p($$.ctx, dirty);
    $$.after_update.forEach(add_render_callback);
  }
}
var outroing = /* @__PURE__ */ new Set();
var outros;
function group_outros() {
  outros = {
    r: 0,
    c: [],
    p: outros
  };
}
function check_outros() {
  if (!outros.r) {
    run_all(outros.c);
  }
  outros = outros.p;
}
function transition_in(block, local) {
  if (block && block.i) {
    outroing.delete(block);
    block.i(local);
  }
}
function transition_out(block, local, detach2, callback) {
  if (block && block.o) {
    if (outroing.has(block))
      return;
    outroing.add(block);
    outros.c.push(() => {
      outroing.delete(block);
      if (callback) {
        if (detach2)
          block.d(1);
        callback();
      }
    });
    block.o(local);
  } else if (callback) {
    callback();
  }
}
var globals = typeof window !== "undefined" ? window : typeof globalThis !== "undefined" ? globalThis : global;
function destroy_block(block, lookup) {
  block.d(1);
  lookup.delete(block.key);
}
function update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block2, next, get_context) {
  let o = old_blocks.length;
  let n = list.length;
  let i = o;
  const old_indexes = {};
  while (i--)
    old_indexes[old_blocks[i].key] = i;
  const new_blocks = [];
  const new_lookup = /* @__PURE__ */ new Map();
  const deltas = /* @__PURE__ */ new Map();
  i = n;
  while (i--) {
    const child_ctx = get_context(ctx, list, i);
    const key = get_key(child_ctx);
    let block = lookup.get(key);
    if (!block) {
      block = create_each_block2(key, child_ctx);
      block.c();
    } else if (dynamic) {
      block.p(child_ctx, dirty);
    }
    new_lookup.set(key, new_blocks[i] = block);
    if (key in old_indexes)
      deltas.set(key, Math.abs(i - old_indexes[key]));
  }
  const will_move = /* @__PURE__ */ new Set();
  const did_move = /* @__PURE__ */ new Set();
  function insert2(block) {
    transition_in(block, 1);
    block.m(node, next);
    lookup.set(block.key, block);
    next = block.first;
    n--;
  }
  while (o && n) {
    const new_block = new_blocks[n - 1];
    const old_block = old_blocks[o - 1];
    const new_key = new_block.key;
    const old_key = old_block.key;
    if (new_block === old_block) {
      next = new_block.first;
      o--;
      n--;
    } else if (!new_lookup.has(old_key)) {
      destroy(old_block, lookup);
      o--;
    } else if (!lookup.has(new_key) || will_move.has(new_key)) {
      insert2(new_block);
    } else if (did_move.has(old_key)) {
      o--;
    } else if (deltas.get(new_key) > deltas.get(old_key)) {
      did_move.add(new_key);
      insert2(new_block);
    } else {
      will_move.add(old_key);
      o--;
    }
  }
  while (o--) {
    const old_block = old_blocks[o];
    if (!new_lookup.has(old_block.key))
      destroy(old_block, lookup);
  }
  while (n)
    insert2(new_blocks[n - 1]);
  return new_blocks;
}
function bind(component, name, callback) {
  const index = component.$$.props[name];
  if (index !== void 0) {
    component.$$.bound[index] = callback;
    callback(component.$$.ctx[index]);
  }
}
function create_component(block) {
  block && block.c();
}
function mount_component(component, target, anchor, customElement) {
  const { fragment, after_update } = component.$$;
  fragment && fragment.m(target, anchor);
  if (!customElement) {
    add_render_callback(() => {
      const new_on_destroy = component.$$.on_mount.map(run).filter(is_function);
      if (component.$$.on_destroy) {
        component.$$.on_destroy.push(...new_on_destroy);
      } else {
        run_all(new_on_destroy);
      }
      component.$$.on_mount = [];
    });
  }
  after_update.forEach(add_render_callback);
}
function destroy_component(component, detaching) {
  const $$ = component.$$;
  if ($$.fragment !== null) {
    run_all($$.on_destroy);
    $$.fragment && $$.fragment.d(detaching);
    $$.on_destroy = $$.fragment = null;
    $$.ctx = [];
  }
}
function make_dirty(component, i) {
  if (component.$$.dirty[0] === -1) {
    dirty_components.push(component);
    schedule_update();
    component.$$.dirty.fill(0);
  }
  component.$$.dirty[i / 31 | 0] |= 1 << i % 31;
}
function init(component, options, instance6, create_fragment6, not_equal, props, append_styles2, dirty = [-1]) {
  const parent_component = current_component;
  set_current_component(component);
  const $$ = component.$$ = {
    fragment: null,
    ctx: [],
    props,
    update: noop,
    not_equal,
    bound: blank_object(),
    on_mount: [],
    on_destroy: [],
    on_disconnect: [],
    before_update: [],
    after_update: [],
    context: new Map(options.context || (parent_component ? parent_component.$$.context : [])),
    callbacks: blank_object(),
    dirty,
    skip_bound: false,
    root: options.target || parent_component.$$.root
  };
  append_styles2 && append_styles2($$.root);
  let ready = false;
  $$.ctx = instance6 ? instance6(component, options.props || {}, (i, ret, ...rest) => {
    const value = rest.length ? rest[0] : ret;
    if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {
      if (!$$.skip_bound && $$.bound[i])
        $$.bound[i](value);
      if (ready)
        make_dirty(component, i);
    }
    return ret;
  }) : [];
  $$.update();
  ready = true;
  run_all($$.before_update);
  $$.fragment = create_fragment6 ? create_fragment6($$.ctx) : false;
  if (options.target) {
    if (options.hydrate) {
      start_hydrating();
      const nodes = children(options.target);
      $$.fragment && $$.fragment.l(nodes);
      nodes.forEach(detach);
    } else {
      $$.fragment && $$.fragment.c();
    }
    if (options.intro)
      transition_in(component.$$.fragment);
    mount_component(component, options.target, options.anchor, options.customElement);
    end_hydrating();
    flush();
  }
  set_current_component(parent_component);
}
var SvelteElement;
if (typeof HTMLElement === "function") {
  SvelteElement = class extends HTMLElement {
    constructor() {
      super();
      this.attachShadow({ mode: "open" });
    }
    connectedCallback() {
      const { on_mount } = this.$$;
      this.$$.on_disconnect = on_mount.map(run).filter(is_function);
      for (const key in this.$$.slotted) {
        this.appendChild(this.$$.slotted[key]);
      }
    }
    attributeChangedCallback(attr2, _oldValue, newValue) {
      this[attr2] = newValue;
    }
    disconnectedCallback() {
      run_all(this.$$.on_disconnect);
    }
    $destroy() {
      destroy_component(this, 1);
      this.$destroy = noop;
    }
    $on(type, callback) {
      if (!is_function(callback)) {
        return noop;
      }
      const callbacks = this.$$.callbacks[type] || (this.$$.callbacks[type] = []);
      callbacks.push(callback);
      return () => {
        const index = callbacks.indexOf(callback);
        if (index !== -1)
          callbacks.splice(index, 1);
      };
    }
    $set($$props) {
      if (this.$$set && !is_empty($$props)) {
        this.$$.skip_bound = true;
        this.$$set($$props);
        this.$$.skip_bound = false;
      }
    }
  };
}
var SvelteComponent = class {
  $destroy() {
    destroy_component(this, 1);
    this.$destroy = noop;
  }
  $on(type, callback) {
    if (!is_function(callback)) {
      return noop;
    }
    const callbacks = this.$$.callbacks[type] || (this.$$.callbacks[type] = []);
    callbacks.push(callback);
    return () => {
      const index = callbacks.indexOf(callback);
      if (index !== -1)
        callbacks.splice(index, 1);
    };
  }
  $set($$props) {
    if (this.$$set && !is_empty($$props)) {
      this.$$.skip_bound = true;
      this.$$set($$props);
      this.$$.skip_bound = false;
    }
  }
};

// src/inputFields/DatePicker/DatePickerInputSvelteHelpers.ts
var import_obsidian9 = require("obsidian");
var monthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
function getMonthName(index) {
  return monthNames[index];
}
function getDateRows(monthIndex, year) {
  const days = (0, import_obsidian9.moment)(new Date(year, monthIndex)).daysInMonth();
  let rows = new Array(42).fill(void 0);
  const startIndex = getWeekDay(new Date(year, monthIndex, 1));
  for (let i = 0; i < days; i++) {
    rows[i + startIndex] = i + 1;
  }
  rows = rows[rows.length - 7] ? rows : rows.slice(0, -7);
  rows = rows[rows.length - 7] ? rows : rows.slice(0, -7);
  return rows;
}
function getWeekDay(date) {
  return date.getDay() === 0 ? 6 : date.getDay() - 1;
}
function getWeekDays() {
  return ["Mo", "Tu", "We", "Th", "Fr", "Sa", "Su"];
}
function uuid() {
  let id = 0;
  return () => {
    return ++id;
  };
}

// src/inputFields/DatePicker/Calender.svelte
var import_obsidian10 = require("obsidian");
function add_css(target) {
  append_styles(target, "svelte-sdiiqi", ".calendar.svelte-sdiiqi{margin-top:10px}.calendar-header.svelte-sdiiqi{display:flex;justify-content:space-around;flex-wrap:wrap;gap:2px;background:var(--background-primary);border-radius:var(--meta-bind-plugin-border-radius);margin-bottom:2px}.calendar-content.svelte-sdiiqi{display:grid;flex-wrap:wrap;grid-template-columns:repeat(7, 1fr);gap:2px}.cell.svelte-sdiiqi{min-width:40px;height:30px;padding:5px;display:flex;justify-content:center;align-items:center;border-radius:var(--meta-bind-plugin-border-radius)}.content-cell.svelte-sdiiqi{cursor:pointer}.cell-text.svelte-sdiiqi{margin:auto;text-align:center}.selected.svelte-sdiiqi{background:var(--background-modifier-success)}.highlight.svelte-sdiiqi:hover{background:var(--interactive-hover)}.selected.highlight.svelte-sdiiqi:hover{background:green}");
}
function get_each_context(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[7] = list[i];
  return child_ctx;
}
function get_each_context_1(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[10] = list[i];
  return child_ctx;
}
function create_each_block_1(ctx) {
  let div;
  let span;
  let t0_value = ctx[10] + "";
  let t0;
  let t1;
  return {
    c() {
      div = element("div");
      span = element("span");
      t0 = text(t0_value);
      t1 = space();
      attr(span, "class", "cell-text svelte-sdiiqi");
      attr(div, "class", "cell header-cell svelte-sdiiqi");
    },
    m(target, anchor) {
      insert(target, div, anchor);
      append(div, span);
      append(span, t0);
      append(div, t1);
    },
    p: noop,
    d(detaching) {
      if (detaching)
        detach(div);
    }
  };
}
function create_each_block(key_1, ctx) {
  let div;
  let span;
  let t0_value = (ctx[7] || "") + "";
  let t0;
  let t1;
  let mounted;
  let dispose;
  function click_handler() {
    return ctx[5](ctx[7]);
  }
  return {
    key: key_1,
    first: null,
    c() {
      div = element("div");
      span = element("span");
      t0 = text(t0_value);
      t1 = space();
      attr(span, "class", "cell-text svelte-sdiiqi");
      attr(div, "class", "cell svelte-sdiiqi");
      toggle_class(div, "highlight", ctx[7]);
      toggle_class(div, "content-cell", ctx[7]);
      toggle_class(div, "selected", ctx[0].year() === ctx[2] && ctx[0].month() === ctx[1] && ctx[0].date() === ctx[7]);
      this.first = div;
    },
    m(target, anchor) {
      insert(target, div, anchor);
      append(div, span);
      append(span, t0);
      append(div, t1);
      if (!mounted) {
        dispose = listen(div, "click", function() {
          if (is_function(ctx[7] ? click_handler : click_handler_1))
            (ctx[7] ? click_handler : click_handler_1).apply(this, arguments);
        });
        mounted = true;
      }
    },
    p(new_ctx, dirty) {
      ctx = new_ctx;
      if (dirty & 8 && t0_value !== (t0_value = (ctx[7] || "") + ""))
        set_data(t0, t0_value);
      if (dirty & 8) {
        toggle_class(div, "highlight", ctx[7]);
      }
      if (dirty & 8) {
        toggle_class(div, "content-cell", ctx[7]);
      }
      if (dirty & 15) {
        toggle_class(div, "selected", ctx[0].year() === ctx[2] && ctx[0].month() === ctx[1] && ctx[0].date() === ctx[7]);
      }
    },
    d(detaching) {
      if (detaching)
        detach(div);
      mounted = false;
      dispose();
    }
  };
}
function create_fragment(ctx) {
  let div2;
  let div0;
  let t;
  let div1;
  let each_blocks = [];
  let each1_lookup = /* @__PURE__ */ new Map();
  let each_value_1 = getWeekDays();
  let each_blocks_1 = [];
  for (let i = 0; i < each_value_1.length; i += 1) {
    each_blocks_1[i] = create_each_block_1(get_each_context_1(ctx, each_value_1, i));
  }
  let each_value = ctx[3];
  const get_key = (ctx2) => uuid();
  for (let i = 0; i < each_value.length; i += 1) {
    let child_ctx = get_each_context(ctx, each_value, i);
    let key = get_key(child_ctx);
    each1_lookup.set(key, each_blocks[i] = create_each_block(key, child_ctx));
  }
  return {
    c() {
      div2 = element("div");
      div0 = element("div");
      for (let i = 0; i < each_blocks_1.length; i += 1) {
        each_blocks_1[i].c();
      }
      t = space();
      div1 = element("div");
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      attr(div0, "class", "calendar-header svelte-sdiiqi");
      attr(div1, "class", "calendar-content svelte-sdiiqi");
      attr(div2, "class", "calendar svelte-sdiiqi");
    },
    m(target, anchor) {
      insert(target, div2, anchor);
      append(div2, div0);
      for (let i = 0; i < each_blocks_1.length; i += 1) {
        each_blocks_1[i].m(div0, null);
      }
      append(div2, t);
      append(div2, div1);
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].m(div1, null);
      }
    },
    p(ctx2, [dirty]) {
      if (dirty & 0) {
        each_value_1 = getWeekDays();
        let i;
        for (i = 0; i < each_value_1.length; i += 1) {
          const child_ctx = get_each_context_1(ctx2, each_value_1, i);
          if (each_blocks_1[i]) {
            each_blocks_1[i].p(child_ctx, dirty);
          } else {
            each_blocks_1[i] = create_each_block_1(child_ctx);
            each_blocks_1[i].c();
            each_blocks_1[i].m(div0, null);
          }
        }
        for (; i < each_blocks_1.length; i += 1) {
          each_blocks_1[i].d(1);
        }
        each_blocks_1.length = each_value_1.length;
      }
      if (dirty & 31) {
        each_value = ctx2[3];
        each_blocks = update_keyed_each(each_blocks, dirty, get_key, 1, ctx2, each_value, each1_lookup, div1, destroy_block, create_each_block, null, get_each_context);
      }
    },
    i: noop,
    o: noop,
    d(detaching) {
      if (detaching)
        detach(div2);
      destroy_each(each_blocks_1, detaching);
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].d();
      }
    }
  };
}
var click_handler_1 = () => {
};
function instance($$self, $$props, $$invalidate) {
  const dispatch = createEventDispatcher();
  let { selectedDate } = $$props;
  let { month } = $$props;
  let { year } = $$props;
  let cells;
  function onChange(date) {
    dispatch("dateChange", (0, import_obsidian10.moment)(new Date(year, month, date)));
  }
  const click_handler = (value) => onChange(value);
  $$self.$$set = ($$props2) => {
    if ("selectedDate" in $$props2)
      $$invalidate(0, selectedDate = $$props2.selectedDate);
    if ("month" in $$props2)
      $$invalidate(1, month = $$props2.month);
    if ("year" in $$props2)
      $$invalidate(2, year = $$props2.year);
  };
  $$self.$$.update = () => {
    if ($$self.$$.dirty & 6) {
      $:
        $$invalidate(3, cells = getDateRows(month, year));
    }
  };
  return [selectedDate, month, year, cells, onChange, click_handler];
}
var Calender = class extends SvelteComponent {
  constructor(options) {
    super();
    init(this, options, instance, create_fragment, safe_not_equal, { selectedDate: 0, month: 1, year: 2 }, add_css);
  }
};
var Calender_default = Calender;

// src/inputFields/DatePicker/DatePicker.svelte
var import_obsidian12 = require("obsidian");

// src/inputFields/DatePicker/Icon.svelte
var import_obsidian11 = require("obsidian");
function add_css2(target) {
  append_styles(target, "svelte-107ymkd", ".icon-wrapper.svelte-107ymkd{display:inline-block;position:relative;width:20px}.icon.svelte-107ymkd{position:absolute;height:20px;width:20px;bottom:-6px}");
}
function create_if_block(ctx) {
  let div1;
  let div0;
  return {
    c() {
      div1 = element("div");
      div0 = element("div");
      attr(div0, "class", "icon svelte-107ymkd");
      attr(div1, "class", "icon-wrapper svelte-107ymkd");
    },
    m(target, anchor) {
      insert(target, div1, anchor);
      append(div1, div0);
      ctx[3](div0);
    },
    p: noop,
    d(detaching) {
      if (detaching)
        detach(div1);
      ctx[3](null);
    }
  };
}
function create_fragment2(ctx) {
  let if_block_anchor;
  let if_block = ctx[0].length > 0 && create_if_block(ctx);
  return {
    c() {
      if (if_block)
        if_block.c();
      if_block_anchor = empty();
    },
    m(target, anchor) {
      if (if_block)
        if_block.m(target, anchor);
      insert(target, if_block_anchor, anchor);
    },
    p(ctx2, [dirty]) {
      if (ctx2[0].length > 0) {
        if (if_block) {
          if_block.p(ctx2, dirty);
        } else {
          if_block = create_if_block(ctx2);
          if_block.c();
          if_block.m(if_block_anchor.parentNode, if_block_anchor);
        }
      } else if (if_block) {
        if_block.d(1);
        if_block = null;
      }
    },
    i: noop,
    o: noop,
    d(detaching) {
      if (if_block)
        if_block.d(detaching);
      if (detaching)
        detach(if_block_anchor);
    }
  };
}
function instance2($$self, $$props, $$invalidate) {
  let { iconName = "" } = $$props;
  let { iconSize = 20 } = $$props;
  let iconEl;
  onMount(() => {
    (0, import_obsidian11.setIcon)(iconEl, iconName, iconSize);
  });
  function div0_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      iconEl = $$value;
      $$invalidate(1, iconEl);
    });
  }
  $$self.$$set = ($$props2) => {
    if ("iconName" in $$props2)
      $$invalidate(0, iconName = $$props2.iconName);
    if ("iconSize" in $$props2)
      $$invalidate(2, iconSize = $$props2.iconSize);
  };
  return [iconName, iconEl, iconSize, div0_binding];
}
var Icon = class extends SvelteComponent {
  constructor(options) {
    super();
    init(this, options, instance2, create_fragment2, safe_not_equal, { iconName: 0, iconSize: 2 }, add_css2);
  }
};
var Icon_default = Icon;

// src/inputFields/DatePicker/DatePicker.svelte
function add_css3(target) {
  append_styles(target, "svelte-vzlvwz", ".date-picker-input.svelte-vzlvwz{position:relative;color:var(--text-normal);display:inline-block}.date-picker.svelte-vzlvwz{position:absolute;top:35px;display:inline-block;background:var(--background-secondary);border-radius:var(--meta-bind-plugin-border-radius);border:var(--meta-bind-plugin-border-width) solid var(--background-modifier-border);padding:10px;z-index:1000000}.date-picker-text.svelte-vzlvwz{background:var(--background-secondary);border-radius:var(--meta-bind-plugin-border-radius);border:var(--meta-bind-plugin-border-width) solid var(--background-modifier-border);padding:5px 5px 5px 7px;cursor:pointer;width:fit-content;display:inline-block}.date-picker-close-layer.svelte-vzlvwz{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:900000}.date-picker-header.svelte-vzlvwz{display:flex;gap:5px;align-items:center;justify-content:space-around}.date-picker-header-text.svelte-vzlvwz{flex:1;text-align:center;display:flex;gap:5px;align-items:center;justify-content:center;width:min-content}.date-picker-header-text-year.svelte-vzlvwz{width:60px;padding:5px}.date-picker-header-text-month.svelte-vzlvwz{height:min-content}.month-switch-button.svelte-vzlvwz{margin:0}");
}
function create_if_block2(ctx) {
  let div0;
  let t0;
  let div3;
  let div2;
  let button0;
  let t2;
  let div1;
  let span;
  let t3_value = getMonthName(ctx[3]) + "";
  let t3;
  let t4;
  let input;
  let input_value_value;
  let t5;
  let button1;
  let t7;
  let calender;
  let div3_style_value;
  let current;
  let mounted;
  let dispose;
  calender = new Calender_default({
    props: {
      month: ctx[3],
      year: ctx[4],
      selectedDate: ctx[0]
    }
  });
  calender.$on("dateChange", ctx[9]);
  return {
    c() {
      div0 = element("div");
      t0 = space();
      div3 = element("div");
      div2 = element("div");
      button0 = element("button");
      button0.textContent = "Prev";
      t2 = space();
      div1 = element("div");
      span = element("span");
      t3 = text(t3_value);
      t4 = space();
      input = element("input");
      t5 = space();
      button1 = element("button");
      button1.textContent = "Next";
      t7 = space();
      create_component(calender.$$.fragment);
      attr(div0, "class", "date-picker-close-layer svelte-vzlvwz");
      attr(button0, "class", "month-switch-button svelte-vzlvwz");
      attr(span, "class", "date-picker-header-text-month svelte-vzlvwz");
      attr(input, "class", "date-picker-header-text-year svelte-vzlvwz");
      attr(input, "type", "number");
      input.value = input_value_value = ctx[4].toString();
      attr(div1, "class", "date-picker-header-text svelte-vzlvwz");
      attr(button1, "class", "month-switch-button svelte-vzlvwz");
      attr(div2, "class", "date-picker-header svelte-vzlvwz");
      attr(div3, "class", "date-picker svelte-vzlvwz");
      attr(div3, "style", div3_style_value = ctx[2] ? "left: auto; right: 0;" : "right: auto; left: 0;");
    },
    m(target, anchor) {
      insert(target, div0, anchor);
      insert(target, t0, anchor);
      insert(target, div3, anchor);
      append(div3, div2);
      append(div2, button0);
      append(div2, t2);
      append(div2, div1);
      append(div1, span);
      append(span, t3);
      append(div1, t4);
      append(div1, input);
      append(div2, t5);
      append(div2, button1);
      append(div3, t7);
      mount_component(calender, div3, null);
      current = true;
      if (!mounted) {
        dispose = [
          listen(div0, "click", ctx[12]),
          listen(button0, "click", ctx[7]),
          listen(input, "input", ctx[8]),
          listen(button1, "click", ctx[6])
        ];
        mounted = true;
      }
    },
    p(ctx2, dirty) {
      if ((!current || dirty & 8) && t3_value !== (t3_value = getMonthName(ctx2[3]) + ""))
        set_data(t3, t3_value);
      if (!current || dirty & 16 && input_value_value !== (input_value_value = ctx2[4].toString()) && input.value !== input_value_value) {
        input.value = input_value_value;
      }
      const calender_changes = {};
      if (dirty & 8)
        calender_changes.month = ctx2[3];
      if (dirty & 16)
        calender_changes.year = ctx2[4];
      if (dirty & 1)
        calender_changes.selectedDate = ctx2[0];
      calender.$set(calender_changes);
      if (!current || dirty & 4 && div3_style_value !== (div3_style_value = ctx2[2] ? "left: auto; right: 0;" : "right: auto; left: 0;")) {
        attr(div3, "style", div3_style_value);
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(calender.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(calender.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(div0);
      if (detaching)
        detach(t0);
      if (detaching)
        detach(div3);
      destroy_component(calender);
      mounted = false;
      run_all(dispose);
    }
  };
}
function create_fragment3(ctx) {
  let div1;
  let div0;
  let t0_value = ctx[0].format(ctx[1]) + "";
  let t0;
  let t1;
  let icon;
  let t2;
  let current;
  let mounted;
  let dispose;
  icon = new Icon_default({ props: { iconName: "calendar" } });
  let if_block = ctx[5] && create_if_block2(ctx);
  return {
    c() {
      div1 = element("div");
      div0 = element("div");
      t0 = text(t0_value);
      t1 = space();
      create_component(icon.$$.fragment);
      t2 = space();
      if (if_block)
        if_block.c();
      attr(div0, "class", "date-picker-text svelte-vzlvwz");
      attr(div1, "class", "date-picker-input svelte-vzlvwz");
    },
    m(target, anchor) {
      insert(target, div1, anchor);
      append(div1, div0);
      append(div0, t0);
      append(div0, t1);
      mount_component(icon, div0, null);
      append(div1, t2);
      if (if_block)
        if_block.m(div1, null);
      current = true;
      if (!mounted) {
        dispose = listen(div0, "click", ctx[11]);
        mounted = true;
      }
    },
    p(ctx2, [dirty]) {
      if ((!current || dirty & 3) && t0_value !== (t0_value = ctx2[0].format(ctx2[1]) + ""))
        set_data(t0, t0_value);
      if (ctx2[5]) {
        if (if_block) {
          if_block.p(ctx2, dirty);
          if (dirty & 32) {
            transition_in(if_block, 1);
          }
        } else {
          if_block = create_if_block2(ctx2);
          if_block.c();
          transition_in(if_block, 1);
          if_block.m(div1, null);
        }
      } else if (if_block) {
        group_outros();
        transition_out(if_block, 1, 1, () => {
          if_block = null;
        });
        check_outros();
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(icon.$$.fragment, local);
      transition_in(if_block);
      current = true;
    },
    o(local) {
      transition_out(icon.$$.fragment, local);
      transition_out(if_block);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(div1);
      destroy_component(icon);
      if (if_block)
        if_block.d();
      mounted = false;
      dispose();
    }
  };
}
function instance3($$self, $$props, $$invalidate) {
  const dispatch = createEventDispatcher();
  let { selectedDate = (0, import_obsidian12.moment)() } = $$props;
  let { dateFormat = "dddd, MMMM Do YYYY" } = $$props;
  let { dateChangeCallback } = $$props;
  let { alignRight } = $$props;
  let date;
  let month;
  let year;
  let showDatePicker;
  function nextMonth() {
    if (month === 11) {
      $$invalidate(3, month = 0);
      $$invalidate(4, year += 1);
      return;
    }
    $$invalidate(3, month = month + 1);
  }
  function prevMonth() {
    if (month === 0) {
      $$invalidate(3, month = 11);
      $$invalidate(4, year -= 1);
      return;
    }
    $$invalidate(3, month -= 1);
  }
  function changeYear(value) {
    const v = value.target.value;
    const vNum = Number.parseInt(v);
    if (!Number.isNaN(vNum)) {
      $$invalidate(4, year = vNum);
    }
  }
  function onDateChange(d) {
    $$invalidate(5, showDatePicker = false);
    $$invalidate(0, selectedDate = d.detail);
    dateChangeCallback(d.detail);
  }
  const click_handler = () => $$invalidate(5, showDatePicker = true);
  const click_handler_12 = () => $$invalidate(5, showDatePicker = false);
  $$self.$$set = ($$props2) => {
    if ("selectedDate" in $$props2)
      $$invalidate(0, selectedDate = $$props2.selectedDate);
    if ("dateFormat" in $$props2)
      $$invalidate(1, dateFormat = $$props2.dateFormat);
    if ("dateChangeCallback" in $$props2)
      $$invalidate(10, dateChangeCallback = $$props2.dateChangeCallback);
    if ("alignRight" in $$props2)
      $$invalidate(2, alignRight = $$props2.alignRight);
  };
  $$self.$$.update = () => {
    if ($$self.$$.dirty & 1) {
      $: {
        console.log("update date picker", selectedDate);
        date = selectedDate.date();
        $$invalidate(3, month = selectedDate.month());
        $$invalidate(4, year = selectedDate.year());
      }
    }
  };
  return [
    selectedDate,
    dateFormat,
    alignRight,
    month,
    year,
    showDatePicker,
    nextMonth,
    prevMonth,
    changeYear,
    onDateChange,
    dateChangeCallback,
    click_handler,
    click_handler_12
  ];
}
var DatePicker = class extends SvelteComponent {
  constructor(options) {
    super();
    init(
      this,
      options,
      instance3,
      create_fragment3,
      safe_not_equal,
      {
        selectedDate: 0,
        dateFormat: 1,
        dateChangeCallback: 10,
        alignRight: 2
      },
      add_css3
    );
  }
};
var DatePicker_default = DatePicker;

// src/inputFields/DatePicker/DatePickerInputField.ts
var DatePickerInputField = class extends AbstractInputField {
  constructor(inputFieldMarkdownRenderChild, onValueChange) {
    super(inputFieldMarkdownRenderChild, onValueChange);
    this.date = DateParser.getDefaultDate();
  }
  getValue() {
    return DateParser.stringify(this.date);
  }
  setValue(value) {
    var _a, _b;
    this.date = (_a = DateParser.parse(value)) != null ? _a : DateParser.getDefaultDate();
    if (!this.date.isValid()) {
      this.date = DateParser.getDefaultDate();
      this.onValueChange(this.getValue());
    }
    (_b = this.component) == null ? void 0 : _b.$set({ selectedDate: this.date });
  }
  isEqualValue(value) {
    return this.getValue() == value;
  }
  getDefaultValue() {
    return DateParser.stringify(DateParser.getDefaultDate());
  }
  getHtmlElement() {
    if (!this.container) {
      throw new MetaBindInternalError("");
    }
    return this.container;
  }
  datePickerValueChanged(date) {
    this.date = date;
    if (this.date.isValid()) {
      this.onValueChange(this.getValue());
    }
  }
  render(container) {
    var _a, _b;
    console.debug(`meta-bind | render datePickerInputField ${this.inputFieldMarkdownRenderChild.uid}`);
    this.container = container;
    this.date = (_a = DateParser.parse(this.inputFieldMarkdownRenderChild.getInitialValue())) != null ? _a : DateParser.getDefaultDate();
    if (!this.date.isValid()) {
      this.date = DateParser.getDefaultDate();
      this.onValueChange(this.getValue());
    }
    this.component = new DatePicker_default({
      target: container,
      props: {
        alignRight: (_b = this.inputFieldMarkdownRenderChild.getArgument("alignRight" /* ALIGN_RIGHT */)) == null ? void 0 : _b.value,
        selectedDate: this.date,
        dateFormat: this.inputFieldMarkdownRenderChild.plugin.settings.preferredDateFormat,
        dateChangeCallback: (date) => this.datePickerValueChanged(date)
      }
    });
  }
};

// src/inputFields/NumberInputField.ts
var import_obsidian13 = require("obsidian");
var NumberInputField = class extends AbstractInputField {
  getValue() {
    if (!this.numberComponent) {
      throw new MetaBindInternalError("number input component is undefined");
    }
    const value = parseFloat(this.numberComponent.getValue());
    return isNaN(value) ? 0 : value;
  }
  setValue(value) {
    if (!this.numberComponent) {
      throw new MetaBindInternalError("number input component is undefined");
    }
    if (value != null && (typeof value == "number" || typeof value == "string")) {
      this.numberComponent.setValue(numberToString(value));
    } else {
      console.warn(new MetaBindValueError(`invalid value '${value}' at numberInputField ${this.inputFieldMarkdownRenderChild.uid}`));
      this.numberComponent.setValue(this.getDefaultValue());
    }
  }
  isEqualValue(value) {
    return this.getValue() == value;
  }
  getDefaultValue() {
    return 0;
  }
  getHtmlElement() {
    if (!this.numberComponent) {
      throw new MetaBindInternalError("number input component is undefined");
    }
    return this.numberComponent.inputEl;
  }
  render(container) {
    console.debug(`meta-bind | render numberInputField ${this.inputFieldMarkdownRenderChild.uid}`);
    const component = new import_obsidian13.TextComponent(container);
    component.inputEl.type = "number";
    component.setValue(numberToString(this.inputFieldMarkdownRenderChild.getInitialValue()));
    component.onChange((value) => {
      const n = parseFloat(value);
      this.onValueChange(isNaN(n) ? 0 : n);
    });
    this.numberComponent = component;
  }
};

// src/parsers/MarkdownLinkParser.ts
function parseMdLink(link) {
  if (!link) {
    throw new MetaBindParsingError("invalid link, link is empty");
  }
  const mdLink = {};
  mdLink.isEmbed = link.startsWith("!");
  const linkContent = ParserUtils.getInBetween(link, new EnclosingPair("[[", "]]"));
  if (!linkContent) {
    throw new MetaBindParsingError("invalid link, link is empty");
  }
  if (typeof linkContent !== "string") {
    throw new MetaBindParsingError("invalid link, link format is invalid");
  }
  const linkParts = linkContent.split("|");
  if (linkParts.length === 2) {
    mdLink.alias = linkParts[1];
  } else if (linkParts.length > 2) {
    throw new MetaBindParsingError("invalid link, link may only contain a maximum of one '|'");
  }
  const targetParts = linkParts[0].split("#");
  if (targetParts.length === 1) {
    mdLink.target = targetParts[0];
  } else if (targetParts.length === 2) {
    mdLink.target = targetParts[0];
    mdLink.block = targetParts[1];
  } else {
    throw new MetaBindParsingError("invalid link, link target may only contain a maximum of one '#'");
  }
  return mdLink;
}
function isMdLink(str) {
  return (str.startsWith("![[") || str.startsWith("[[")) && str.endsWith("]]");
}

// src/utils/LinkComponent.svelte
function create_else_block(ctx) {
  let a;
  let t_value = ctx[1]() + "";
  let t;
  let a_data_href_value;
  let a_href_value;
  return {
    c() {
      a = element("a");
      t = text(t_value);
      attr(a, "data-href", a_data_href_value = ctx[1]());
      attr(a, "href", a_href_value = ctx[1]());
      attr(a, "class", "internal-link");
      attr(a, "target", "_blank");
      attr(a, "rel", "noopener");
    },
    m(target, anchor) {
      insert(target, a, anchor);
      append(a, t);
    },
    p: noop,
    d(detaching) {
      if (detaching)
        detach(a);
    }
  };
}
function create_if_block3(ctx) {
  let a;
  let t_value = ctx[0].alias + "";
  let t;
  let a_data_href_value;
  let a_href_value;
  let a_aria_label_value;
  return {
    c() {
      a = element("a");
      t = text(t_value);
      attr(a, "data-href", a_data_href_value = ctx[1]());
      attr(a, "href", a_href_value = ctx[1]());
      attr(a, "class", "internal-link");
      attr(a, "target", "_blank");
      attr(a, "rel", "noopener");
      attr(a, "aria-label", a_aria_label_value = ctx[1]());
      attr(a, "aria-label-position", "top");
    },
    m(target, anchor) {
      insert(target, a, anchor);
      append(a, t);
    },
    p(ctx2, dirty) {
      if (dirty & 1 && t_value !== (t_value = ctx2[0].alias + ""))
        set_data(t, t_value);
    },
    d(detaching) {
      if (detaching)
        detach(a);
    }
  };
}
function create_fragment4(ctx) {
  let if_block_anchor;
  function select_block_type(ctx2, dirty) {
    if (ctx2[0].alias)
      return create_if_block3;
    return create_else_block;
  }
  let current_block_type = select_block_type(ctx, -1);
  let if_block = current_block_type(ctx);
  return {
    c() {
      if_block.c();
      if_block_anchor = empty();
    },
    m(target, anchor) {
      if_block.m(target, anchor);
      insert(target, if_block_anchor, anchor);
    },
    p(ctx2, [dirty]) {
      if (current_block_type === (current_block_type = select_block_type(ctx2, dirty)) && if_block) {
        if_block.p(ctx2, dirty);
      } else {
        if_block.d(1);
        if_block = current_block_type(ctx2);
        if (if_block) {
          if_block.c();
          if_block.m(if_block_anchor.parentNode, if_block_anchor);
        }
      }
    },
    i: noop,
    o: noop,
    d(detaching) {
      if_block.d(detaching);
      if (detaching)
        detach(if_block_anchor);
    }
  };
}
function instance4($$self, $$props, $$invalidate) {
  let { mdLink } = $$props;
  function getHref() {
    return mdLink.block ? `${mdLink.target}#${mdLink.block}` : mdLink.target;
  }
  $$self.$$set = ($$props2) => {
    if ("mdLink" in $$props2)
      $$invalidate(0, mdLink = $$props2.mdLink);
  };
  return [mdLink, getHref];
}
var LinkComponent = class extends SvelteComponent {
  constructor(options) {
    super();
    init(this, options, instance4, create_fragment4, safe_not_equal, { mdLink: 0 });
  }
};
var LinkComponent_default = LinkComponent;

// src/inputFields/Suggest/Suggest.svelte
function add_css4(target) {
  append_styles(target, "svelte-k84hnq", ".suggest-input.svelte-k84hnq{position:relative;color:var(--text-normal);display:inline-block}.suggest-text.svelte-k84hnq{background:var(--background-secondary);border-radius:var(--meta-bind-plugin-border-radius);border:var(--meta-bind-plugin-border-width) solid var(--background-modifier-border);padding:5px 5px 5px 7px;cursor:pointer;width:fit-content;display:inline-block}");
}
function create_else_block2(ctx) {
  let span;
  let t;
  return {
    c() {
      span = element("span");
      t = text(ctx[1]);
    },
    m(target, anchor) {
      insert(target, span, anchor);
      append(span, t);
    },
    p(ctx2, dirty) {
      if (dirty & 2)
        set_data(t, ctx2[1]);
    },
    i: noop,
    o: noop,
    d(detaching) {
      if (detaching)
        detach(span);
    }
  };
}
function create_if_block4(ctx) {
  let linkcomponent;
  let updating_mdLink;
  let current;
  function linkcomponent_mdLink_binding(value) {
    ctx[6](value);
  }
  let linkcomponent_props = {};
  if (ctx[0] !== void 0) {
    linkcomponent_props.mdLink = ctx[0];
  }
  linkcomponent = new LinkComponent_default({ props: linkcomponent_props });
  binding_callbacks.push(() => bind(linkcomponent, "mdLink", linkcomponent_mdLink_binding));
  return {
    c() {
      create_component(linkcomponent.$$.fragment);
    },
    m(target, anchor) {
      mount_component(linkcomponent, target, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      const linkcomponent_changes = {};
      if (!updating_mdLink && dirty & 1) {
        updating_mdLink = true;
        linkcomponent_changes.mdLink = ctx2[0];
        add_flush_callback(() => updating_mdLink = false);
      }
      linkcomponent.$set(linkcomponent_changes);
    },
    i(local) {
      if (current)
        return;
      transition_in(linkcomponent.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(linkcomponent.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(linkcomponent, detaching);
    }
  };
}
function create_fragment5(ctx) {
  let div1;
  let div0;
  let current_block_type_index;
  let if_block;
  let t;
  let icon;
  let current;
  let mounted;
  let dispose;
  const if_block_creators = [create_if_block4, create_else_block2];
  const if_blocks = [];
  function select_block_type(ctx2, dirty) {
    if (ctx2[2])
      return 0;
    return 1;
  }
  current_block_type_index = select_block_type(ctx, -1);
  if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);
  icon = new Icon_default({ props: { iconName: "list" } });
  return {
    c() {
      div1 = element("div");
      div0 = element("div");
      if_block.c();
      t = space();
      create_component(icon.$$.fragment);
      attr(div0, "class", "suggest-text svelte-k84hnq");
      attr(div1, "class", "suggest-input svelte-k84hnq");
    },
    m(target, anchor) {
      insert(target, div1, anchor);
      append(div1, div0);
      if_blocks[current_block_type_index].m(div0, null);
      append(div0, t);
      mount_component(icon, div0, null);
      current = true;
      if (!mounted) {
        dispose = listen(div1, "click", ctx[3]);
        mounted = true;
      }
    },
    p(ctx2, [dirty]) {
      let previous_block_index = current_block_type_index;
      current_block_type_index = select_block_type(ctx2, dirty);
      if (current_block_type_index === previous_block_index) {
        if_blocks[current_block_type_index].p(ctx2, dirty);
      } else {
        group_outros();
        transition_out(if_blocks[previous_block_index], 1, 1, () => {
          if_blocks[previous_block_index] = null;
        });
        check_outros();
        if_block = if_blocks[current_block_type_index];
        if (!if_block) {
          if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx2);
          if_block.c();
        } else {
          if_block.p(ctx2, dirty);
        }
        transition_in(if_block, 1);
        if_block.m(div0, t);
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(if_block);
      transition_in(icon.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(if_block);
      transition_out(icon.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(div1);
      if_blocks[current_block_type_index].d();
      destroy_component(icon);
      mounted = false;
      dispose();
    }
  };
}
function instance5($$self, $$props, $$invalidate) {
  let { showSuggest } = $$props;
  let mdLink;
  let str;
  let isLink = false;
  function updateValue(value) {
    $$invalidate(2, isLink = isMdLink(value));
    if (isLink) {
      try {
        $$invalidate(0, mdLink = parseMdLink(value));
      } catch (e) {
        console.warn(e);
      }
    } else {
      $$invalidate(1, str = value);
    }
  }
  function suggest(event) {
    if (!(event.target instanceof HTMLAnchorElement)) {
      showSuggest();
    }
  }
  function linkcomponent_mdLink_binding(value) {
    mdLink = value;
    $$invalidate(0, mdLink);
  }
  $$self.$$set = ($$props2) => {
    if ("showSuggest" in $$props2)
      $$invalidate(4, showSuggest = $$props2.showSuggest);
  };
  return [
    mdLink,
    str,
    isLink,
    suggest,
    showSuggest,
    updateValue,
    linkcomponent_mdLink_binding
  ];
}
var Suggest = class extends SvelteComponent {
  constructor(options) {
    super();
    init(this, options, instance5, create_fragment5, safe_not_equal, { showSuggest: 4, updateValue: 5 }, add_css4);
  }
  get updateValue() {
    return this.$$.ctx[5];
  }
};
var Suggest_default = Suggest;

// src/inputFields/Suggest/SuggestInputField.ts
var import_obsidian_dataview = __toESM(require_lib());

// src/inputFields/Suggest/SuggestInputModal.ts
var import_obsidian14 = require("obsidian");
var SuggestInputModal = class extends import_obsidian14.FuzzySuggestModal {
  constructor(app, options, onSelect) {
    super(app);
    this.options = options;
    this.onSelect = onSelect;
  }
  getItemText(item) {
    return item.displayValue;
  }
  getItems() {
    return this.options;
  }
  onChooseItem(item, evt) {
    this.onSelect(item);
  }
};

// src/inputFields/Suggest/SuggestInputField.ts
var SuggestInputField = class extends AbstractInputField {
  constructor(inputFieldMarkdownRenderChild, onValueChange) {
    super(inputFieldMarkdownRenderChild, onValueChange);
    this.value = "";
    this.options = [];
  }
  getValue() {
    return "";
  }
  setValue(value) {
    var _a;
    this.value = value;
    (_a = this.component) == null ? void 0 : _a.updateValue(value);
  }
  isEqualValue(value) {
    return this.value == value;
  }
  getDefaultValue() {
    return "";
  }
  getHtmlElement() {
    if (!this.container) {
      throw new MetaBindInternalError("");
    }
    return this.container;
  }
  getOptions() {
    return __async(this, null, function* () {
      this.options = [];
      const suggestOptionsArguments = this.inputFieldMarkdownRenderChild.getArguments("suggestOption" /* SUGGEST_OPTION */);
      const suggestOptionsQueryArguments = this.inputFieldMarkdownRenderChild.getArguments("suggestOptionQuery" /* SUGGEST_OPTION_QUERY */);
      for (const suggestOptionsArgument of suggestOptionsArguments) {
        this.options.push({ value: suggestOptionsArgument.value, displayValue: suggestOptionsArgument.value });
      }
      if (suggestOptionsQueryArguments.length > 0) {
        const dv = (0, import_obsidian_dataview.getAPI)(this.inputFieldMarkdownRenderChild.plugin.app);
        if (!dv) {
          throw new MetaBindArgumentError(`dataview needs to be installed and enabled to use suggest option queries`);
        }
        for (const suggestOptionsQueryArgument of suggestOptionsQueryArguments) {
          const result = yield dv.pages(suggestOptionsQueryArgument.value, this.inputFieldMarkdownRenderChild.filePath);
          result.forEach((file) => {
            try {
              const tFile = file.file;
              this.options.push({
                value: `[[${tFile.path}|${tFile.name}]]`,
                displayValue: `file: ${tFile.name}`
              });
            } catch (e) {
              console.warn("meta-bind | error while computing suggest options", e);
            }
          });
        }
      }
    });
  }
  showSuggest() {
    return __async(this, null, function* () {
      yield this.getOptions();
      new SuggestInputModal(this.inputFieldMarkdownRenderChild.plugin.app, this.options, (item) => {
        this.setValue(item.value);
        this.onValueChange(item.value);
      }).open();
    });
  }
  render(container) {
    console.debug(`meta-bind | render suggestInputField ${this.inputFieldMarkdownRenderChild.uid}`);
    this.container = container;
    this.value = this.inputFieldMarkdownRenderChild.getInitialValue();
    this.component = new Suggest_default({
      target: container,
      props: {
        value: this.value,
        showSuggest: () => this.showSuggest()
      }
    });
    this.component.updateValue(this.value);
  }
};

// src/inputFields/InputFieldFactory.ts
var _InputFieldFactory = class {
  static createInputField(inputFieldType, args) {
    if (inputFieldType === "toggle" /* TOGGLE */) {
      _InputFieldFactory.checkInputFieldMarkdownRenderChildTypeAllowed(inputFieldType, args.type);
      return new ToggleInputField(args.inputFieldMarkdownRenderChild, args.onValueChanged);
    } else if (inputFieldType === "slider" /* SLIDER */) {
      _InputFieldFactory.checkInputFieldMarkdownRenderChildTypeAllowed(inputFieldType, args.type);
      return new SliderInputField(args.inputFieldMarkdownRenderChild, args.onValueChanged);
    } else if (inputFieldType === "text" /* TEXT */) {
      _InputFieldFactory.checkInputFieldMarkdownRenderChildTypeAllowed(inputFieldType, args.type);
      return new TextInputField(args.inputFieldMarkdownRenderChild, args.onValueChanged);
    } else if (inputFieldType === "text_area" /* TEXT_AREA */) {
      _InputFieldFactory.checkInputFieldMarkdownRenderChildTypeAllowed(inputFieldType, args.type);
      return new TextAreaInputField(args.inputFieldMarkdownRenderChild, args.onValueChanged);
    } else if (inputFieldType === "select" /* SELECT */) {
      _InputFieldFactory.checkInputFieldMarkdownRenderChildTypeAllowed(inputFieldType, args.type);
      return new SelectInputField(args.inputFieldMarkdownRenderChild, args.onValueChanged);
    } else if (inputFieldType === "multi_select" /* MULTI_SELECT */) {
      _InputFieldFactory.checkInputFieldMarkdownRenderChildTypeAllowed(inputFieldType, args.type);
      return new MultiSelectInputField(args.inputFieldMarkdownRenderChild, args.onValueChanged);
    } else if (inputFieldType === "date" /* DATE */) {
      _InputFieldFactory.checkInputFieldMarkdownRenderChildTypeAllowed(inputFieldType, args.type);
      return new DateInputField(args.inputFieldMarkdownRenderChild, args.onValueChanged);
    } else if (inputFieldType === "time" /* TIME */) {
      _InputFieldFactory.checkInputFieldMarkdownRenderChildTypeAllowed(inputFieldType, args.type);
      return new TimeInputField(args.inputFieldMarkdownRenderChild, args.onValueChanged);
    } else if (inputFieldType === "date_picker" /* DATE_PICKER */) {
      _InputFieldFactory.checkInputFieldMarkdownRenderChildTypeAllowed(inputFieldType, args.type);
      return new DatePickerInputField(args.inputFieldMarkdownRenderChild, args.onValueChanged);
    } else if (inputFieldType === "number" /* NUMBER */) {
      _InputFieldFactory.checkInputFieldMarkdownRenderChildTypeAllowed(inputFieldType, args.type);
      return new NumberInputField(args.inputFieldMarkdownRenderChild, args.onValueChanged);
    } else if (inputFieldType === "suggester" /* SUGGESTER */) {
      _InputFieldFactory.checkInputFieldMarkdownRenderChildTypeAllowed(inputFieldType, args.type);
      return new SuggestInputField(args.inputFieldMarkdownRenderChild, args.onValueChanged);
    }
    return void 0;
  }
  static checkInputFieldMarkdownRenderChildTypeAllowed(inputFieldType, type) {
    const allowCodeBlock = _InputFieldFactory.allowCodeBlockMap[inputFieldType];
    if (type === 1 /* CODE_BLOCK */ && !allowCodeBlock.codeBlock) {
      throw new MetaBindParsingError(`'${inputFieldType}' is not allowed as code block`);
    }
    if (type === 0 /* INLINE_CODE_BLOCK */ && !allowCodeBlock.inlineCodeBlock) {
      throw new MetaBindParsingError(`'${inputFieldType}' is not allowed as inline code block`);
    }
  }
};
var InputFieldFactory = _InputFieldFactory;
InputFieldFactory.allowCodeBlockMap = {
  ["toggle" /* TOGGLE */]: {
    codeBlock: ToggleInputField.allowCodeBlock,
    inlineCodeBlock: ToggleInputField.allowInlineCodeBlock
  },
  ["slider" /* SLIDER */]: {
    codeBlock: SliderInputField.allowCodeBlock,
    inlineCodeBlock: SliderInputField.allowInlineCodeBlock
  },
  ["text" /* TEXT */]: {
    codeBlock: TextInputField.allowCodeBlock,
    inlineCodeBlock: TextInputField.allowInlineCodeBlock
  },
  ["text_area" /* TEXT_AREA */]: {
    codeBlock: TextAreaInputField.allowCodeBlock,
    inlineCodeBlock: TextAreaInputField.allowInlineCodeBlock
  },
  ["select" /* SELECT */]: {
    codeBlock: SelectInputField.allowCodeBlock,
    inlineCodeBlock: SelectInputField.allowInlineCodeBlock
  },
  ["multi_select" /* MULTI_SELECT */]: {
    codeBlock: MultiSelectInputField.allowCodeBlock,
    inlineCodeBlock: MultiSelectInputField.allowInlineCodeBlock
  },
  ["date" /* DATE */]: {
    codeBlock: DateInputField.allowCodeBlock,
    inlineCodeBlock: DateInputField.allowInlineCodeBlock
  },
  ["time" /* TIME */]: {
    codeBlock: TimeInputField.allowCodeBlock,
    inlineCodeBlock: TimeInputField.allowInlineCodeBlock
  },
  ["date_picker" /* DATE_PICKER */]: {
    codeBlock: DatePickerInputField.allowCodeBlock,
    inlineCodeBlock: DatePickerInputField.allowInlineCodeBlock
  },
  ["number" /* NUMBER */]: {
    codeBlock: NumberInputField.allowCodeBlock,
    inlineCodeBlock: NumberInputField.allowInlineCodeBlock
  },
  ["suggester" /* SUGGESTER */]: {
    codeBlock: SuggestInputField.allowCodeBlock,
    inlineCodeBlock: SuggestInputField.allowInlineCodeBlock
  }
};

// src/InputFieldMarkdownRenderChild.ts
var import_API = __toESM(require_API());
var import_Utils21 = __toESM(require_Utils());
var InputFieldMarkdownRenderChild2 = class extends import_obsidian15.MarkdownRenderChild {
  constructor(containerEl, type, fullDeclaration, plugin, filePath, uid) {
    super(containerEl);
    this.error = "";
    this.filePath = filePath;
    this.uid = uid;
    this.plugin = plugin;
    this.type = type;
    this.fullDeclaration = fullDeclaration;
    this.metadataValueUpdateQueue = [];
    this.inputFieldValueUpdateQueue = [];
    this.intervalCounter = 0;
    try {
      this.inputFieldDeclaration = InputFieldDeclarationParser.parse(fullDeclaration);
      if (this.inputFieldDeclaration.isBound) {
        this.parseBindTarget();
        this.metaData = (0, import_API.getFrontmatterOfTFile)(this.bindTargetFile, this.plugin);
      }
      this.inputField = InputFieldFactory.createInputField(this.inputFieldDeclaration.inputFieldType, {
        type,
        inputFieldMarkdownRenderChild: this,
        onValueChanged: this.pushToMetadataValueUpdateQueue.bind(this)
      });
      this.limitInterval = window.setInterval(() => this.applyValueUpdateQueues(), this.plugin.settings.syncInterval);
    } catch (e) {
      this.error = e.message;
      console.warn(e);
    }
  }
  parseBindTarget() {
    if (!this.inputFieldDeclaration) {
      throw new MetaBindInternalError("inputFieldDeclaration is undefined, can not parse bind target");
    }
    const bindTargetParts = this.inputFieldDeclaration.bindTarget.split("#");
    let bindTargetFileName;
    let bindTargetMetadataFieldName;
    if (bindTargetParts.length === 1) {
      bindTargetFileName = this.filePath;
      bindTargetMetadataFieldName = this.inputFieldDeclaration.bindTarget;
    } else if (bindTargetParts.length === 2) {
      bindTargetFileName = bindTargetParts[0];
      bindTargetMetadataFieldName = bindTargetParts[1];
    } else {
      throw new MetaBindBindTargetError("bind target may only contain one '#' to specify the metadata field");
    }
    try {
      (0, import_Utils21.validatePath)(bindTargetMetadataFieldName);
    } catch (e) {
      if (e instanceof Error) {
        throw new MetaBindBindTargetError(`bind target parsing error: ${e == null ? void 0 : e.message}`);
      }
    }
    this.bindTargetMetadataField = bindTargetMetadataFieldName;
    const files = this.plugin.getFilesByName(bindTargetFileName);
    if (files.length === 0) {
      throw new MetaBindBindTargetError("bind target file not found");
    } else if (files.length === 1) {
      this.bindTargetFile = files[0];
    } else {
      throw new MetaBindBindTargetError("bind target resolves to multiple files, please also specify the file path");
    }
  }
  applyValueUpdateQueues() {
    return __async(this, null, function* () {
      if (this.metadataValueUpdateQueue.length !== 0) {
        console.debug(`meta-bind | applying to metadataUpdateQueue to field ${this.uid}`);
        yield this.applyMetadataValueUpdateQueue();
        this.cleanUpUpdateQueues();
        return;
      }
      if (this.inputFieldValueUpdateQueue.length !== 0) {
        console.debug(`meta-bind | applying to inputFieldValueUpdateQueue to field ${this.uid}`);
        yield this.applyInputFieldValueUpdateQueue();
        this.cleanUpUpdateQueues();
        return;
      }
    });
  }
  applyMetadataValueUpdateQueue() {
    return __async(this, null, function* () {
      if (!this.inputFieldDeclaration) {
        throw new MetaBindInternalError("inputFieldDeclaration is undefined, can not update metadata");
      }
      if (!this.inputFieldDeclaration.isBound) {
        return;
      }
      if (!this.bindTargetMetadataField || !this.bindTargetFile) {
        throw new MetaBindInternalError("bindTargetMetadataField or bindTargetFile is undefined, can not update metadata");
      }
      if (this.metadataValueUpdateQueue.length > 0) {
        yield (0, import_API.updateOrInsertFieldInTFile)(this.bindTargetMetadataField, this.metadataValueUpdateQueue.at(-1), this.bindTargetFile, this.plugin);
      } else {
        throw new MetaBindInternalError(`cannot apply metadataValueUpdateQueue to inputField ${this.uid}, metadataValueUpdateQueue is empty`);
      }
    });
  }
  applyInputFieldValueUpdateQueue() {
    return __async(this, null, function* () {
      if (!this.inputFieldDeclaration) {
        throw new MetaBindInternalError("inputFieldDeclaration is undefined, can not update inputField");
      }
      if (!this.inputField) {
        throw new MetaBindInternalError("inputField is undefined, can not update inputField");
      }
      if (this.inputFieldValueUpdateQueue.length > 0) {
        let value = this.inputFieldValueUpdateQueue.at(-1);
        if (value == null) {
          value = this.inputField.getDefaultValue();
        }
        this.inputField.setValue(value);
      } else {
        throw new MetaBindInternalError(`cannot apply inputFieldValueUpdateQueue to inputField ${this.uid}, inputFieldValueUpdateQueue is empty`);
      }
    });
  }
  cleanUpUpdateQueues() {
    this.metadataValueUpdateQueue = [];
    this.inputFieldValueUpdateQueue = [];
  }
  pushToMetadataValueUpdateQueue(value) {
    var _a;
    if ((_a = this.inputFieldDeclaration) == null ? void 0 : _a.isBound) {
      console.debug(`meta-bind | pushed value ${value} (typeof ${typeof value}) to metadataUpdateQueue on field ${this.uid}`);
      this.metadataValueUpdateQueue.push(value);
    }
  }
  pushToInputFieldValueUpdateQueue(value) {
    var _a;
    if (!((_a = this.inputField) == null ? void 0 : _a.isEqualValue(value))) {
      console.debug(`meta-bind | pushed value ${value} (typeof ${typeof value}) to inputFieldValueUpdateQueue on field ${this.uid}`);
      this.inputFieldValueUpdateQueue.push(value);
    }
  }
  getInitialValue() {
    var _a, _b;
    if (((_a = this.inputFieldDeclaration) == null ? void 0 : _a.isBound) && this.bindTargetMetadataField) {
      const value = (0, import_Utils21.traverseObject)(this.bindTargetMetadataField, this.metaData);
      console.debug(`meta-bind | setting initial value to ${value} (typeof ${typeof value}) for input field ${this.uid}`);
      return value != null ? value : (_b = this.inputField) == null ? void 0 : _b.getDefaultValue();
    }
  }
  getArguments(name) {
    if (!this.inputFieldDeclaration) {
      throw new MetaBindInternalError("inputFieldDeclaration is undefined, can not retrieve arguments");
    }
    return this.inputFieldDeclaration.argumentContainer.arguments.filter((x) => x.identifier === name);
  }
  getArgument(name) {
    return this.getArguments(name).at(0);
  }
  onload() {
    return __async(this, null, function* () {
      console.debug("meta-bind | load inputFieldMarkdownRenderChild", this);
      this.metaData = yield this.metaData;
      const container = this.containerEl.createDiv();
      container.addClass("meta-bind-plugin-input-wrapper");
      this.containerEl.addClass("meta-bind-plugin-input");
      if (this.error) {
        this.containerEl.empty();
        this.containerEl.createEl("span", { text: this.fullDeclaration, cls: "meta-bind-code" });
        container.innerText = ` -> ERROR: ${this.error}`;
        container.addClass("meta-bind-plugin-error");
        this.containerEl.appendChild(container);
        return;
      }
      if (!this.inputField) {
        this.containerEl.empty();
        this.containerEl.createEl("span", { text: this.fullDeclaration, cls: "meta-bind-code" });
        container.innerText = ` -> ERROR: ${new MetaBindInternalError("input field is undefined and error is empty").message}`;
        container.addClass("meta-bind-plugin-error");
        this.containerEl.appendChild(container);
        return;
      }
      this.plugin.registerInputFieldMarkdownRenderChild(this);
      this.inputField.render(container);
      const classArguments = this.getArguments("class" /* CLASS */);
      if (classArguments) {
        this.inputField.getHtmlElement().addClasses(classArguments.map((x) => x.value).flat());
      }
      this.containerEl.empty();
      this.containerEl.appendChild(container);
    });
  }
  onunload() {
    console.debug("meta-bind | unload inputFieldMarkdownRenderChild", this);
    this.plugin.unregisterInputFieldMarkdownRenderChild(this);
    super.onunload();
    window.clearInterval(this.limitInterval);
  }
};

// src/main.ts
var import_Utils23 = __toESM(require_Utils());
var MetaBindPlugin = class extends import_obsidian16.Plugin {
  onload() {
    return __async(this, null, function* () {
      yield this.loadSettings();
      DateParser.dateFormat = this.settings.preferredDateFormat;
      InputFieldDeclarationParser.parseTemplates(this.settings.inputTemplates);
      this.activeMarkdownInputFields = [];
      this.markDownInputFieldIndex = 0;
      this.registerMarkdownPostProcessor((element2, context) => {
        const codeBlocks = element2.querySelectorAll("code");
        for (let index = 0; index < codeBlocks.length; index++) {
          const codeBlock = codeBlocks.item(index);
          const text2 = codeBlock.innerText;
          const isInputField = text2.startsWith("INPUT[") && text2.endsWith("]");
          if (isInputField) {
            context.addChild(
              new InputFieldMarkdownRenderChild2(
                codeBlock,
                0 /* INLINE_CODE_BLOCK */,
                text2,
                this,
                context.sourcePath,
                this.markDownInputFieldIndex
              )
            );
            this.markDownInputFieldIndex += 1;
          }
        }
      }, 100);
      this.registerMarkdownCodeBlockProcessor("meta-bind", (source, el, ctx) => {
        const codeBlock = el;
        const text2 = source.replace(/\n/g, "");
        const isInputField = text2.startsWith("INPUT[") && text2.endsWith("]");
        if (isInputField) {
          ctx.addChild(new InputFieldMarkdownRenderChild2(codeBlock, 1 /* CODE_BLOCK */, text2, this, ctx.sourcePath, this.markDownInputFieldIndex));
          this.markDownInputFieldIndex += 1;
        }
      });
      this.registerEvent(
        this.app.metadataCache.on("changed", (file, data, cache) => __async(this, null, function* () {
          yield this.updateMarkdownInputFieldsOnMetadataCacheChange(file, cache);
        }))
      );
      this.addSettingTab(new MetaBindSettingTab(this.app, this));
    });
  }
  onunload() {
    for (const activeMarkdownInputField of this.activeMarkdownInputFields) {
      activeMarkdownInputField.unload();
    }
  }
  registerInputFieldMarkdownRenderChild(inputFieldMarkdownRenderChild) {
    console.debug(`meta-bind | registered input field ${inputFieldMarkdownRenderChild.uid}`);
    this.activeMarkdownInputFields.push(inputFieldMarkdownRenderChild);
  }
  unregisterInputFieldMarkdownRenderChild(inputFieldMarkdownRenderChild) {
    console.debug(`meta-bind | unregistered input field ${inputFieldMarkdownRenderChild.uid}`);
    this.activeMarkdownInputFields = this.activeMarkdownInputFields.filter((x) => x.uid !== inputFieldMarkdownRenderChild.uid);
  }
  updateMarkdownInputFieldsOnMetadataCacheChange(file, cache) {
    var _a;
    const metadata = cache.frontmatter;
    if (!metadata) {
      console.warn(new MetaBindInternalError(`Can not update metadata for input fields, received metadata is ${metadata}`));
      return;
    }
    for (const activeMarkdownInputField of this.activeMarkdownInputFields) {
      if (!((_a = activeMarkdownInputField.inputFieldDeclaration) == null ? void 0 : _a.isBound) || !activeMarkdownInputField.bindTargetFile || !activeMarkdownInputField.bindTargetMetadataField) {
        continue;
      }
      if (activeMarkdownInputField.bindTargetFile.path === file.path) {
        activeMarkdownInputField.pushToInputFieldValueUpdateQueue((0, import_Utils23.traverseObject)(activeMarkdownInputField.bindTargetMetadataField, metadata));
      }
    }
  }
  getFilesByName(name) {
    console.log(getFileName(removeFileEnding(name)));
    const fileNameIsPath = isPath(name);
    const processedFileName = fileNameIsPath ? removeFileEnding(name) : getFileName(removeFileEnding(name));
    const allFiles = this.app.vault.getMarkdownFiles();
    const files = [];
    for (const file of allFiles) {
      if (fileNameIsPath) {
        if (removeFileEnding(file.path) === processedFileName) {
          files.push(file);
        }
      } else {
        if (getFileName(removeFileEnding(file.name)) === processedFileName) {
          files.push(file);
        }
      }
    }
    return files;
  }
  loadSettings() {
    return __async(this, null, function* () {
      this.settings = Object.assign({}, DEFAULT_SETTINGS, yield this.loadData());
    });
  }
  saveSettings() {
    return __async(this, null, function* () {
      DateParser.dateFormat = this.settings.preferredDateFormat;
      InputFieldDeclarationParser.parseTemplates(this.settings.inputTemplates);
      yield this.saveData(this.settings);
    });
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29ic2lkaWFuLWRhdGF2aWV3L25vZGVfbW9kdWxlcy9sdXhvbi9idWlsZC9janMtYnJvd3Nlci9sdXhvbi5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb2JzaWRpYW4tZGF0YXZpZXcvc3JjL3NldHRpbmdzLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vYnNpZGlhbi1kYXRhdmlldy9zcmMvYXBpL3Jlc3VsdC50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb2JzaWRpYW4tZGF0YXZpZXcvbm9kZV9tb2R1bGVzL3BhcnNpbW1vbi9idWlsZC9wYXJzaW1tb24udW1kLm1pbi5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb2JzaWRpYW4tZGF0YXZpZXcvbm9kZV9tb2R1bGVzL2Vtb2ppLXJlZ2V4L2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vYnNpZGlhbi1kYXRhdmlldy9zcmMvdXRpbC9ub3JtYWxpemUudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29ic2lkaWFuLWRhdGF2aWV3L3NyYy9kYXRhLW1vZGVsL3ZhbHVlLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vYnNpZGlhbi1kYXRhdmlldy9zcmMvZXhwcmVzc2lvbi9maWVsZC50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb2JzaWRpYW4tZGF0YXZpZXcvc3JjL2RhdGEtaW5kZXgvc291cmNlLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vYnNpZGlhbi1kYXRhdmlldy9zcmMvZXhwcmVzc2lvbi9wYXJzZS50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb2JzaWRpYW4tZGF0YXZpZXcvc3JjL3F1ZXJ5L3F1ZXJ5LnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vYnNpZGlhbi1kYXRhdmlldy9zcmMvcXVlcnkvcGFyc2UudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29ic2lkaWFuLWRhdGF2aWV3L3NyYy9pbmRleC50cyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG9wZC1saWJzL29wZC1tZXRhZGF0YS1saWIvbGliL1V0aWxzLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9Ab3BkLWxpYnMvb3BkLW1ldGFkYXRhLWxpYi9saWIvT2JzVXRpbHMuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BvcGQtbGlicy9vcGQtbWV0YWRhdGEtbGliL2xpYi9JbnRlcm5hbC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG9wZC1saWJzL29wZC1tZXRhZGF0YS1saWIvbGliL0FQSS5qcyIsICIuLi8uLi8uLi8uLi9zcmMvbWFpbi50cyIsICIuLi8uLi8uLi8uLi9zcmMvc2V0dGluZ3MvU2V0dGluZ3MudHMiLCAiLi4vLi4vLi4vLi4vc3JjL0lucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkLnRzIiwgIi4uLy4uLy4uLy4uL3NyYy9pbnB1dEZpZWxkcy9BYnN0cmFjdElucHV0RmllbGQudHMiLCAiLi4vLi4vLi4vLi4vc3JjL2lucHV0RmllbGRzL1RvZ2dsZUlucHV0RmllbGQudHMiLCAiLi4vLi4vLi4vLi4vc3JjL3V0aWxzL1V0aWxzLnRzIiwgIi4uLy4uLy4uLy4uL3NyYy9pbnB1dEZpZWxkcy9UZXh0SW5wdXRGaWVsZC50cyIsICIuLi8uLi8uLi8uLi9zcmMvaW5wdXRGaWVsZHMvU2xpZGVySW5wdXRGaWVsZC50cyIsICIuLi8uLi8uLi8uLi9zcmMvdXRpbHMvUGFyc2VyVXRpbHMudHMiLCAiLi4vLi4vLi4vLi4vc3JjL2lucHV0RmllbGRBcmd1bWVudHMvQWJzdHJhY3RJbnB1dEZpZWxkQXJndW1lbnQudHMiLCAiLi4vLi4vLi4vLi4vc3JjL2lucHV0RmllbGRBcmd1bWVudHMvQ2xhc3NJbnB1dEZpZWxkQXJndW1lbnQudHMiLCAiLi4vLi4vLi4vLi4vc3JjL2lucHV0RmllbGRBcmd1bWVudHMvQWRkTGFiZWxzSW5wdXRGaWVsZEFyZ3VtZW50LnRzIiwgIi4uLy4uLy4uLy4uL3NyYy9pbnB1dEZpZWxkQXJndW1lbnRzL01pblZhbHVlSW5wdXRGaWVsZEFyZ3VtZW50LnRzIiwgIi4uLy4uLy4uLy4uL3NyYy9pbnB1dEZpZWxkQXJndW1lbnRzL01heFZhbHVlSW5wdXRGaWVsZEFyZ3VtZW50LnRzIiwgIi4uLy4uLy4uLy4uL3NyYy9pbnB1dEZpZWxkQXJndW1lbnRzL09wdGlvbklucHV0RmllbGRBcmd1bWVudC50cyIsICIuLi8uLi8uLi8uLi9zcmMvaW5wdXRGaWVsZEFyZ3VtZW50cy9UaXRsZUlucHV0RmllbGRBcmd1bWVudC50cyIsICIuLi8uLi8uLi8uLi9zcmMvaW5wdXRGaWVsZEFyZ3VtZW50cy9BbGlnblJpZ2h0SW5wdXRGaWVsZEFyZ3VtZW50LnRzIiwgIi4uLy4uLy4uLy4uL3NyYy9pbnB1dEZpZWxkQXJndW1lbnRzL1N1Z2dlc3RPcHRpb25JbnB1dEZpZWxkQXJndW1lbnQudHMiLCAiLi4vLi4vLi4vLi4vc3JjL2lucHV0RmllbGRBcmd1bWVudHMvU3VnZ2VzdE9wdGlvblF1ZXJ5SW5wdXRGaWVsZEFyZ3VtZW50LnRzIiwgIi4uLy4uLy4uLy4uL3NyYy9pbnB1dEZpZWxkQXJndW1lbnRzL0lucHV0RmllbGRBcmd1bWVudEZhY3RvcnkudHMiLCAiLi4vLi4vLi4vLi4vc3JjL2lucHV0RmllbGRBcmd1bWVudHMvSW5wdXRGaWVsZEFyZ3VtZW50Q29udGFpbmVyLnRzIiwgIi4uLy4uLy4uLy4uL3NyYy9wYXJzZXJzL0lucHV0RmllbGREZWNsYXJhdGlvblBhcnNlci50cyIsICIuLi8uLi8uLi8uLi9zcmMvaW5wdXRGaWVsZHMvVGV4dEFyZWFJbnB1dEZpZWxkLnRzIiwgIi4uLy4uLy4uLy4uL3NyYy9pbnB1dEZpZWxkcy9TZWxlY3RJbnB1dEZpZWxkRWxlbWVudC50cyIsICIuLi8uLi8uLi8uLi9zcmMvaW5wdXRGaWVsZHMvU2VsZWN0SW5wdXRGaWVsZC50cyIsICIuLi8uLi8uLi8uLi9zcmMvaW5wdXRGaWVsZHMvTXVsdGlTZWxlY3RJbnB1dEZpZWxkLnRzIiwgIi4uLy4uLy4uLy4uL3NyYy9pbnB1dEZpZWxkcy9EYXRlSW5wdXRGaWVsZC50cyIsICIuLi8uLi8uLi8uLi9zcmMvcGFyc2Vycy9EYXRlUGFyc2VyLnRzIiwgIi4uLy4uLy4uLy4uL3NyYy9pbnB1dEZpZWxkcy9UaW1lSW5wdXRGaWVsZC50cyIsICIuLi8uLi8uLi8uLi9zcmMvcGFyc2Vycy9UaW1lUGFyc2VyLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdmVsdGUvaW50ZXJuYWwvaW5kZXgubWpzIiwgIi4uLy4uLy4uLy4uL3NyYy9pbnB1dEZpZWxkcy9EYXRlUGlja2VyL0RhdGVQaWNrZXJJbnB1dFN2ZWx0ZUhlbHBlcnMudHMiLCAiLi4vLi4vLi4vLi4vc3JjL2lucHV0RmllbGRzL0RhdGVQaWNrZXIvQ2FsZW5kZXIuc3ZlbHRlIiwgIi4uLy4uLy4uLy4uL3NyYy9pbnB1dEZpZWxkcy9EYXRlUGlja2VyL0ljb24uc3ZlbHRlIiwgIi4uLy4uLy4uLy4uL3NyYy9pbnB1dEZpZWxkcy9EYXRlUGlja2VyL0RhdGVQaWNrZXIuc3ZlbHRlIiwgIi4uLy4uLy4uLy4uL3NyYy9pbnB1dEZpZWxkcy9EYXRlUGlja2VyL0RhdGVQaWNrZXJJbnB1dEZpZWxkLnRzIiwgIi4uLy4uLy4uLy4uL3NyYy9pbnB1dEZpZWxkcy9OdW1iZXJJbnB1dEZpZWxkLnRzIiwgIi4uLy4uLy4uLy4uL3NyYy9wYXJzZXJzL01hcmtkb3duTGlua1BhcnNlci50cyIsICIuLi8uLi8uLi8uLi9zcmMvdXRpbHMvTGlua0NvbXBvbmVudC5zdmVsdGUiLCAiLi4vLi4vLi4vLi4vc3JjL2lucHV0RmllbGRzL1N1Z2dlc3QvU3VnZ2VzdC5zdmVsdGUiLCAiLi4vLi4vLi4vLi4vc3JjL2lucHV0RmllbGRzL1N1Z2dlc3QvU3VnZ2VzdElucHV0RmllbGQudHMiLCAiLi4vLi4vLi4vLi4vc3JjL2lucHV0RmllbGRzL1N1Z2dlc3QvU3VnZ2VzdElucHV0TW9kYWwudHMiLCAiLi4vLi4vLi4vLi4vc3JjL2lucHV0RmllbGRzL0lucHV0RmllbGRGYWN0b3J5LnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gIHJldHVybiBDb25zdHJ1Y3Rvcjtcbn1cblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcblxuICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7XG4gIHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzO1xuXG4gIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7XG59XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7XG4gIF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7XG4gICAgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTtcbiAgfTtcbiAgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTtcbn1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7XG4gICAgby5fX3Byb3RvX18gPSBwO1xuICAgIHJldHVybiBvO1xuICB9O1xuXG4gIHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7XG59XG5cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTtcbiAgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTtcbiAgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTtcblxuICB0cnkge1xuICAgIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfY29uc3RydWN0KFBhcmVudCwgYXJncywgQ2xhc3MpIHtcbiAgaWYgKF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSkge1xuICAgIF9jb25zdHJ1Y3QgPSBSZWZsZWN0LmNvbnN0cnVjdDtcbiAgfSBlbHNlIHtcbiAgICBfY29uc3RydWN0ID0gZnVuY3Rpb24gX2NvbnN0cnVjdChQYXJlbnQsIGFyZ3MsIENsYXNzKSB7XG4gICAgICB2YXIgYSA9IFtudWxsXTtcbiAgICAgIGEucHVzaC5hcHBseShhLCBhcmdzKTtcbiAgICAgIHZhciBDb25zdHJ1Y3RvciA9IEZ1bmN0aW9uLmJpbmQuYXBwbHkoUGFyZW50LCBhKTtcbiAgICAgIHZhciBpbnN0YW5jZSA9IG5ldyBDb25zdHJ1Y3RvcigpO1xuICAgICAgaWYgKENsYXNzKSBfc2V0UHJvdG90eXBlT2YoaW5zdGFuY2UsIENsYXNzLnByb3RvdHlwZSk7XG4gICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBfY29uc3RydWN0LmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59XG5cbmZ1bmN0aW9uIF9pc05hdGl2ZUZ1bmN0aW9uKGZuKSB7XG4gIHJldHVybiBGdW5jdGlvbi50b1N0cmluZy5jYWxsKGZuKS5pbmRleE9mKFwiW25hdGl2ZSBjb2RlXVwiKSAhPT0gLTE7XG59XG5cbmZ1bmN0aW9uIF93cmFwTmF0aXZlU3VwZXIoQ2xhc3MpIHtcbiAgdmFyIF9jYWNoZSA9IHR5cGVvZiBNYXAgPT09IFwiZnVuY3Rpb25cIiA/IG5ldyBNYXAoKSA6IHVuZGVmaW5lZDtcblxuICBfd3JhcE5hdGl2ZVN1cGVyID0gZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcihDbGFzcykge1xuICAgIGlmIChDbGFzcyA9PT0gbnVsbCB8fCAhX2lzTmF0aXZlRnVuY3Rpb24oQ2xhc3MpKSByZXR1cm4gQ2xhc3M7XG5cbiAgICBpZiAodHlwZW9mIENsYXNzICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIF9jYWNoZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgaWYgKF9jYWNoZS5oYXMoQ2xhc3MpKSByZXR1cm4gX2NhY2hlLmdldChDbGFzcyk7XG5cbiAgICAgIF9jYWNoZS5zZXQoQ2xhc3MsIFdyYXBwZXIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIFdyYXBwZXIoKSB7XG4gICAgICByZXR1cm4gX2NvbnN0cnVjdChDbGFzcywgYXJndW1lbnRzLCBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3IpO1xuICAgIH1cblxuICAgIFdyYXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShDbGFzcy5wcm90b3R5cGUsIHtcbiAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgIHZhbHVlOiBXcmFwcGVyLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBfc2V0UHJvdG90eXBlT2YoV3JhcHBlciwgQ2xhc3MpO1xuICB9O1xuXG4gIHJldHVybiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKTtcbn1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkge1xuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcbiAgdmFyIHRhcmdldCA9IHt9O1xuICB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG4gIHZhciBrZXksIGk7XG5cbiAgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBrZXkgPSBzb3VyY2VLZXlzW2ldO1xuICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7XG4gICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHtcbiAgaWYgKCFvKSByZXR1cm47XG4gIGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG4gIHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTtcbiAgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTtcbiAgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7XG4gIGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbn1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHtcbiAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSBhcnIyW2ldID0gYXJyW2ldO1xuXG4gIHJldHVybiBhcnIyO1xufVxuXG5mdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlckxvb3NlKG8sIGFsbG93QXJyYXlMaWtlKSB7XG4gIHZhciBpdCA9IHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdIHx8IG9bXCJAQGl0ZXJhdG9yXCJdO1xuICBpZiAoaXQpIHJldHVybiAoaXQgPSBpdC5jYWxsKG8pKS5uZXh0LmJpbmQoaXQpO1xuXG4gIGlmIChBcnJheS5pc0FycmF5KG8pIHx8IChpdCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvKSkgfHwgYWxsb3dBcnJheUxpa2UgJiYgbyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHtcbiAgICBpZiAoaXQpIG8gPSBpdDtcbiAgICB2YXIgaSA9IDA7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChpID49IG8ubGVuZ3RoKSByZXR1cm4ge1xuICAgICAgICBkb25lOiB0cnVlXG4gICAgICB9O1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZG9uZTogZmFsc2UsXG4gICAgICAgIHZhbHVlOiBvW2krK11cbiAgICAgIH07XG4gICAgfTtcbiAgfVxuXG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbn1cblxuLy8gdGhlc2UgYXJlbid0IHJlYWxseSBwcml2YXRlLCBidXQgbm9yIGFyZSB0aGV5IHJlYWxseSB1c2VmdWwgdG8gZG9jdW1lbnRcblxuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgTHV4b25FcnJvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0Vycm9yKSB7XG4gIF9pbmhlcml0c0xvb3NlKEx1eG9uRXJyb3IsIF9FcnJvcik7XG5cbiAgZnVuY3Rpb24gTHV4b25FcnJvcigpIHtcbiAgICByZXR1cm4gX0Vycm9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgfVxuXG4gIHJldHVybiBMdXhvbkVycm9yO1xufSggLyojX19QVVJFX18qL193cmFwTmF0aXZlU3VwZXIoRXJyb3IpKTtcbi8qKlxuICogQHByaXZhdGVcbiAqL1xuXG5cbnZhciBJbnZhbGlkRGF0ZVRpbWVFcnJvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0x1eG9uRXJyb3IpIHtcbiAgX2luaGVyaXRzTG9vc2UoSW52YWxpZERhdGVUaW1lRXJyb3IsIF9MdXhvbkVycm9yKTtcblxuICBmdW5jdGlvbiBJbnZhbGlkRGF0ZVRpbWVFcnJvcihyZWFzb24pIHtcbiAgICByZXR1cm4gX0x1eG9uRXJyb3IuY2FsbCh0aGlzLCBcIkludmFsaWQgRGF0ZVRpbWU6IFwiICsgcmVhc29uLnRvTWVzc2FnZSgpKSB8fCB0aGlzO1xuICB9XG5cbiAgcmV0dXJuIEludmFsaWREYXRlVGltZUVycm9yO1xufShMdXhvbkVycm9yKTtcbi8qKlxuICogQHByaXZhdGVcbiAqL1xuXG52YXIgSW52YWxpZEludGVydmFsRXJyb3IgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9MdXhvbkVycm9yMikge1xuICBfaW5oZXJpdHNMb29zZShJbnZhbGlkSW50ZXJ2YWxFcnJvciwgX0x1eG9uRXJyb3IyKTtcblxuICBmdW5jdGlvbiBJbnZhbGlkSW50ZXJ2YWxFcnJvcihyZWFzb24pIHtcbiAgICByZXR1cm4gX0x1eG9uRXJyb3IyLmNhbGwodGhpcywgXCJJbnZhbGlkIEludGVydmFsOiBcIiArIHJlYXNvbi50b01lc3NhZ2UoKSkgfHwgdGhpcztcbiAgfVxuXG4gIHJldHVybiBJbnZhbGlkSW50ZXJ2YWxFcnJvcjtcbn0oTHV4b25FcnJvcik7XG4vKipcbiAqIEBwcml2YXRlXG4gKi9cblxudmFyIEludmFsaWREdXJhdGlvbkVycm9yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfTHV4b25FcnJvcjMpIHtcbiAgX2luaGVyaXRzTG9vc2UoSW52YWxpZER1cmF0aW9uRXJyb3IsIF9MdXhvbkVycm9yMyk7XG5cbiAgZnVuY3Rpb24gSW52YWxpZER1cmF0aW9uRXJyb3IocmVhc29uKSB7XG4gICAgcmV0dXJuIF9MdXhvbkVycm9yMy5jYWxsKHRoaXMsIFwiSW52YWxpZCBEdXJhdGlvbjogXCIgKyByZWFzb24udG9NZXNzYWdlKCkpIHx8IHRoaXM7XG4gIH1cblxuICByZXR1cm4gSW52YWxpZER1cmF0aW9uRXJyb3I7XG59KEx1eG9uRXJyb3IpO1xuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5cbnZhciBDb25mbGljdGluZ1NwZWNpZmljYXRpb25FcnJvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0x1eG9uRXJyb3I0KSB7XG4gIF9pbmhlcml0c0xvb3NlKENvbmZsaWN0aW5nU3BlY2lmaWNhdGlvbkVycm9yLCBfTHV4b25FcnJvcjQpO1xuXG4gIGZ1bmN0aW9uIENvbmZsaWN0aW5nU3BlY2lmaWNhdGlvbkVycm9yKCkge1xuICAgIHJldHVybiBfTHV4b25FcnJvcjQuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICB9XG5cbiAgcmV0dXJuIENvbmZsaWN0aW5nU3BlY2lmaWNhdGlvbkVycm9yO1xufShMdXhvbkVycm9yKTtcbi8qKlxuICogQHByaXZhdGVcbiAqL1xuXG52YXIgSW52YWxpZFVuaXRFcnJvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0x1eG9uRXJyb3I1KSB7XG4gIF9pbmhlcml0c0xvb3NlKEludmFsaWRVbml0RXJyb3IsIF9MdXhvbkVycm9yNSk7XG5cbiAgZnVuY3Rpb24gSW52YWxpZFVuaXRFcnJvcih1bml0KSB7XG4gICAgcmV0dXJuIF9MdXhvbkVycm9yNS5jYWxsKHRoaXMsIFwiSW52YWxpZCB1bml0IFwiICsgdW5pdCkgfHwgdGhpcztcbiAgfVxuXG4gIHJldHVybiBJbnZhbGlkVW5pdEVycm9yO1xufShMdXhvbkVycm9yKTtcbi8qKlxuICogQHByaXZhdGVcbiAqL1xuXG52YXIgSW52YWxpZEFyZ3VtZW50RXJyb3IgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9MdXhvbkVycm9yNikge1xuICBfaW5oZXJpdHNMb29zZShJbnZhbGlkQXJndW1lbnRFcnJvciwgX0x1eG9uRXJyb3I2KTtcblxuICBmdW5jdGlvbiBJbnZhbGlkQXJndW1lbnRFcnJvcigpIHtcbiAgICByZXR1cm4gX0x1eG9uRXJyb3I2LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgfVxuXG4gIHJldHVybiBJbnZhbGlkQXJndW1lbnRFcnJvcjtcbn0oTHV4b25FcnJvcik7XG4vKipcbiAqIEBwcml2YXRlXG4gKi9cblxudmFyIFpvbmVJc0Fic3RyYWN0RXJyb3IgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9MdXhvbkVycm9yNykge1xuICBfaW5oZXJpdHNMb29zZShab25lSXNBYnN0cmFjdEVycm9yLCBfTHV4b25FcnJvcjcpO1xuXG4gIGZ1bmN0aW9uIFpvbmVJc0Fic3RyYWN0RXJyb3IoKSB7XG4gICAgcmV0dXJuIF9MdXhvbkVycm9yNy5jYWxsKHRoaXMsIFwiWm9uZSBpcyBhbiBhYnN0cmFjdCBjbGFzc1wiKSB8fCB0aGlzO1xuICB9XG5cbiAgcmV0dXJuIFpvbmVJc0Fic3RyYWN0RXJyb3I7XG59KEx1eG9uRXJyb3IpO1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBuID0gXCJudW1lcmljXCIsXG4gICAgcyA9IFwic2hvcnRcIixcbiAgICBsID0gXCJsb25nXCI7XG52YXIgREFURV9TSE9SVCA9IHtcbiAgeWVhcjogbixcbiAgbW9udGg6IG4sXG4gIGRheTogblxufTtcbnZhciBEQVRFX01FRCA9IHtcbiAgeWVhcjogbixcbiAgbW9udGg6IHMsXG4gIGRheTogblxufTtcbnZhciBEQVRFX01FRF9XSVRIX1dFRUtEQVkgPSB7XG4gIHllYXI6IG4sXG4gIG1vbnRoOiBzLFxuICBkYXk6IG4sXG4gIHdlZWtkYXk6IHNcbn07XG52YXIgREFURV9GVUxMID0ge1xuICB5ZWFyOiBuLFxuICBtb250aDogbCxcbiAgZGF5OiBuXG59O1xudmFyIERBVEVfSFVHRSA9IHtcbiAgeWVhcjogbixcbiAgbW9udGg6IGwsXG4gIGRheTogbixcbiAgd2Vla2RheTogbFxufTtcbnZhciBUSU1FX1NJTVBMRSA9IHtcbiAgaG91cjogbixcbiAgbWludXRlOiBuXG59O1xudmFyIFRJTUVfV0lUSF9TRUNPTkRTID0ge1xuICBob3VyOiBuLFxuICBtaW51dGU6IG4sXG4gIHNlY29uZDogblxufTtcbnZhciBUSU1FX1dJVEhfU0hPUlRfT0ZGU0VUID0ge1xuICBob3VyOiBuLFxuICBtaW51dGU6IG4sXG4gIHNlY29uZDogbixcbiAgdGltZVpvbmVOYW1lOiBzXG59O1xudmFyIFRJTUVfV0lUSF9MT05HX09GRlNFVCA9IHtcbiAgaG91cjogbixcbiAgbWludXRlOiBuLFxuICBzZWNvbmQ6IG4sXG4gIHRpbWVab25lTmFtZTogbFxufTtcbnZhciBUSU1FXzI0X1NJTVBMRSA9IHtcbiAgaG91cjogbixcbiAgbWludXRlOiBuLFxuICBob3VyQ3ljbGU6IFwiaDIzXCJcbn07XG52YXIgVElNRV8yNF9XSVRIX1NFQ09ORFMgPSB7XG4gIGhvdXI6IG4sXG4gIG1pbnV0ZTogbixcbiAgc2Vjb25kOiBuLFxuICBob3VyQ3ljbGU6IFwiaDIzXCJcbn07XG52YXIgVElNRV8yNF9XSVRIX1NIT1JUX09GRlNFVCA9IHtcbiAgaG91cjogbixcbiAgbWludXRlOiBuLFxuICBzZWNvbmQ6IG4sXG4gIGhvdXJDeWNsZTogXCJoMjNcIixcbiAgdGltZVpvbmVOYW1lOiBzXG59O1xudmFyIFRJTUVfMjRfV0lUSF9MT05HX09GRlNFVCA9IHtcbiAgaG91cjogbixcbiAgbWludXRlOiBuLFxuICBzZWNvbmQ6IG4sXG4gIGhvdXJDeWNsZTogXCJoMjNcIixcbiAgdGltZVpvbmVOYW1lOiBsXG59O1xudmFyIERBVEVUSU1FX1NIT1JUID0ge1xuICB5ZWFyOiBuLFxuICBtb250aDogbixcbiAgZGF5OiBuLFxuICBob3VyOiBuLFxuICBtaW51dGU6IG5cbn07XG52YXIgREFURVRJTUVfU0hPUlRfV0lUSF9TRUNPTkRTID0ge1xuICB5ZWFyOiBuLFxuICBtb250aDogbixcbiAgZGF5OiBuLFxuICBob3VyOiBuLFxuICBtaW51dGU6IG4sXG4gIHNlY29uZDogblxufTtcbnZhciBEQVRFVElNRV9NRUQgPSB7XG4gIHllYXI6IG4sXG4gIG1vbnRoOiBzLFxuICBkYXk6IG4sXG4gIGhvdXI6IG4sXG4gIG1pbnV0ZTogblxufTtcbnZhciBEQVRFVElNRV9NRURfV0lUSF9TRUNPTkRTID0ge1xuICB5ZWFyOiBuLFxuICBtb250aDogcyxcbiAgZGF5OiBuLFxuICBob3VyOiBuLFxuICBtaW51dGU6IG4sXG4gIHNlY29uZDogblxufTtcbnZhciBEQVRFVElNRV9NRURfV0lUSF9XRUVLREFZID0ge1xuICB5ZWFyOiBuLFxuICBtb250aDogcyxcbiAgZGF5OiBuLFxuICB3ZWVrZGF5OiBzLFxuICBob3VyOiBuLFxuICBtaW51dGU6IG5cbn07XG52YXIgREFURVRJTUVfRlVMTCA9IHtcbiAgeWVhcjogbixcbiAgbW9udGg6IGwsXG4gIGRheTogbixcbiAgaG91cjogbixcbiAgbWludXRlOiBuLFxuICB0aW1lWm9uZU5hbWU6IHNcbn07XG52YXIgREFURVRJTUVfRlVMTF9XSVRIX1NFQ09ORFMgPSB7XG4gIHllYXI6IG4sXG4gIG1vbnRoOiBsLFxuICBkYXk6IG4sXG4gIGhvdXI6IG4sXG4gIG1pbnV0ZTogbixcbiAgc2Vjb25kOiBuLFxuICB0aW1lWm9uZU5hbWU6IHNcbn07XG52YXIgREFURVRJTUVfSFVHRSA9IHtcbiAgeWVhcjogbixcbiAgbW9udGg6IGwsXG4gIGRheTogbixcbiAgd2Vla2RheTogbCxcbiAgaG91cjogbixcbiAgbWludXRlOiBuLFxuICB0aW1lWm9uZU5hbWU6IGxcbn07XG52YXIgREFURVRJTUVfSFVHRV9XSVRIX1NFQ09ORFMgPSB7XG4gIHllYXI6IG4sXG4gIG1vbnRoOiBsLFxuICBkYXk6IG4sXG4gIHdlZWtkYXk6IGwsXG4gIGhvdXI6IG4sXG4gIG1pbnV0ZTogbixcbiAgc2Vjb25kOiBuLFxuICB0aW1lWm9uZU5hbWU6IGxcbn07XG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuLy8gVFlQRVNcblxuZnVuY3Rpb24gaXNVbmRlZmluZWQobykge1xuICByZXR1cm4gdHlwZW9mIG8gPT09IFwidW5kZWZpbmVkXCI7XG59XG5mdW5jdGlvbiBpc051bWJlcihvKSB7XG4gIHJldHVybiB0eXBlb2YgbyA9PT0gXCJudW1iZXJcIjtcbn1cbmZ1bmN0aW9uIGlzSW50ZWdlcihvKSB7XG4gIHJldHVybiB0eXBlb2YgbyA9PT0gXCJudW1iZXJcIiAmJiBvICUgMSA9PT0gMDtcbn1cbmZ1bmN0aW9uIGlzU3RyaW5nKG8pIHtcbiAgcmV0dXJuIHR5cGVvZiBvID09PSBcInN0cmluZ1wiO1xufVxuZnVuY3Rpb24gaXNEYXRlKG8pIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKSA9PT0gXCJbb2JqZWN0IERhdGVdXCI7XG59IC8vIENBUEFCSUxJVElFU1xuXG5mdW5jdGlvbiBoYXNSZWxhdGl2ZSgpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gdHlwZW9mIEludGwgIT09IFwidW5kZWZpbmVkXCIgJiYgISFJbnRsLlJlbGF0aXZlVGltZUZvcm1hdDtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufSAvLyBPQkpFQ1RTIEFORCBBUlJBWVNcblxuZnVuY3Rpb24gbWF5YmVBcnJheSh0aGluZykge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheSh0aGluZykgPyB0aGluZyA6IFt0aGluZ107XG59XG5mdW5jdGlvbiBiZXN0QnkoYXJyLCBieSwgY29tcGFyZSkge1xuICBpZiAoYXJyLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICByZXR1cm4gYXJyLnJlZHVjZShmdW5jdGlvbiAoYmVzdCwgbmV4dCkge1xuICAgIHZhciBwYWlyID0gW2J5KG5leHQpLCBuZXh0XTtcblxuICAgIGlmICghYmVzdCkge1xuICAgICAgcmV0dXJuIHBhaXI7XG4gICAgfSBlbHNlIGlmIChjb21wYXJlKGJlc3RbMF0sIHBhaXJbMF0pID09PSBiZXN0WzBdKSB7XG4gICAgICByZXR1cm4gYmVzdDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHBhaXI7XG4gICAgfVxuICB9LCBudWxsKVsxXTtcbn1cbmZ1bmN0aW9uIHBpY2sob2JqLCBrZXlzKSB7XG4gIHJldHVybiBrZXlzLnJlZHVjZShmdW5jdGlvbiAoYSwgaykge1xuICAgIGFba10gPSBvYmpba107XG4gICAgcmV0dXJuIGE7XG4gIH0sIHt9KTtcbn1cbmZ1bmN0aW9uIGhhc093blByb3BlcnR5KG9iaiwgcHJvcCkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7XG59IC8vIE5VTUJFUlMgQU5EIFNUUklOR1NcblxuZnVuY3Rpb24gaW50ZWdlckJldHdlZW4odGhpbmcsIGJvdHRvbSwgdG9wKSB7XG4gIHJldHVybiBpc0ludGVnZXIodGhpbmcpICYmIHRoaW5nID49IGJvdHRvbSAmJiB0aGluZyA8PSB0b3A7XG59IC8vIHggJSBuIGJ1dCB0YWtlcyB0aGUgc2lnbiBvZiBuIGluc3RlYWQgb2YgeFxuXG5mdW5jdGlvbiBmbG9vck1vZCh4LCBuKSB7XG4gIHJldHVybiB4IC0gbiAqIE1hdGguZmxvb3IoeCAvIG4pO1xufVxuZnVuY3Rpb24gcGFkU3RhcnQoaW5wdXQsIG4pIHtcbiAgaWYgKG4gPT09IHZvaWQgMCkge1xuICAgIG4gPSAyO1xuICB9XG5cbiAgdmFyIGlzTmVnID0gaW5wdXQgPCAwO1xuICB2YXIgcGFkZGVkO1xuXG4gIGlmIChpc05lZykge1xuICAgIHBhZGRlZCA9IFwiLVwiICsgKFwiXCIgKyAtaW5wdXQpLnBhZFN0YXJ0KG4sIFwiMFwiKTtcbiAgfSBlbHNlIHtcbiAgICBwYWRkZWQgPSAoXCJcIiArIGlucHV0KS5wYWRTdGFydChuLCBcIjBcIik7XG4gIH1cblxuICByZXR1cm4gcGFkZGVkO1xufVxuZnVuY3Rpb24gcGFyc2VJbnRlZ2VyKHN0cmluZykge1xuICBpZiAoaXNVbmRlZmluZWQoc3RyaW5nKSB8fCBzdHJpbmcgPT09IG51bGwgfHwgc3RyaW5nID09PSBcIlwiKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gcGFyc2VJbnQoc3RyaW5nLCAxMCk7XG4gIH1cbn1cbmZ1bmN0aW9uIHBhcnNlRmxvYXRpbmcoc3RyaW5nKSB7XG4gIGlmIChpc1VuZGVmaW5lZChzdHJpbmcpIHx8IHN0cmluZyA9PT0gbnVsbCB8fCBzdHJpbmcgPT09IFwiXCIpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBwYXJzZUZsb2F0KHN0cmluZyk7XG4gIH1cbn1cbmZ1bmN0aW9uIHBhcnNlTWlsbGlzKGZyYWN0aW9uKSB7XG4gIC8vIFJldHVybiB1bmRlZmluZWQgKGluc3RlYWQgb2YgMCkgaW4gdGhlc2UgY2FzZXMsIHdoZXJlIGZyYWN0aW9uIGlzIG5vdCBzZXRcbiAgaWYgKGlzVW5kZWZpbmVkKGZyYWN0aW9uKSB8fCBmcmFjdGlvbiA9PT0gbnVsbCB8fCBmcmFjdGlvbiA9PT0gXCJcIikge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGYgPSBwYXJzZUZsb2F0KFwiMC5cIiArIGZyYWN0aW9uKSAqIDEwMDA7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IoZik7XG4gIH1cbn1cbmZ1bmN0aW9uIHJvdW5kVG8obnVtYmVyLCBkaWdpdHMsIHRvd2FyZFplcm8pIHtcbiAgaWYgKHRvd2FyZFplcm8gPT09IHZvaWQgMCkge1xuICAgIHRvd2FyZFplcm8gPSBmYWxzZTtcbiAgfVxuXG4gIHZhciBmYWN0b3IgPSBNYXRoLnBvdygxMCwgZGlnaXRzKSxcbiAgICAgIHJvdW5kZXIgPSB0b3dhcmRaZXJvID8gTWF0aC50cnVuYyA6IE1hdGgucm91bmQ7XG4gIHJldHVybiByb3VuZGVyKG51bWJlciAqIGZhY3RvcikgLyBmYWN0b3I7XG59IC8vIERBVEUgQkFTSUNTXG5cbmZ1bmN0aW9uIGlzTGVhcFllYXIoeWVhcikge1xuICByZXR1cm4geWVhciAlIDQgPT09IDAgJiYgKHllYXIgJSAxMDAgIT09IDAgfHwgeWVhciAlIDQwMCA9PT0gMCk7XG59XG5mdW5jdGlvbiBkYXlzSW5ZZWFyKHllYXIpIHtcbiAgcmV0dXJuIGlzTGVhcFllYXIoeWVhcikgPyAzNjYgOiAzNjU7XG59XG5mdW5jdGlvbiBkYXlzSW5Nb250aCh5ZWFyLCBtb250aCkge1xuICB2YXIgbW9kTW9udGggPSBmbG9vck1vZChtb250aCAtIDEsIDEyKSArIDEsXG4gICAgICBtb2RZZWFyID0geWVhciArIChtb250aCAtIG1vZE1vbnRoKSAvIDEyO1xuXG4gIGlmIChtb2RNb250aCA9PT0gMikge1xuICAgIHJldHVybiBpc0xlYXBZZWFyKG1vZFllYXIpID8gMjkgOiAyODtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gWzMxLCBudWxsLCAzMSwgMzAsIDMxLCAzMCwgMzEsIDMxLCAzMCwgMzEsIDMwLCAzMV1bbW9kTW9udGggLSAxXTtcbiAgfVxufSAvLyBjb3ZlcnQgYSBjYWxlbmRhciBvYmplY3QgdG8gYSBsb2NhbCB0aW1lc3RhbXAgKGVwb2NoLCBidXQgd2l0aCB0aGUgb2Zmc2V0IGJha2VkIGluKVxuXG5mdW5jdGlvbiBvYmpUb0xvY2FsVFMob2JqKSB7XG4gIHZhciBkID0gRGF0ZS5VVEMob2JqLnllYXIsIG9iai5tb250aCAtIDEsIG9iai5kYXksIG9iai5ob3VyLCBvYmoubWludXRlLCBvYmouc2Vjb25kLCBvYmoubWlsbGlzZWNvbmQpOyAvLyBmb3IgbGVnYWN5IHJlYXNvbnMsIHllYXJzIGJldHdlZW4gMCBhbmQgOTkgYXJlIGludGVycHJldGVkIGFzIDE5WFg7IHJldmVydCB0aGF0XG5cbiAgaWYgKG9iai55ZWFyIDwgMTAwICYmIG9iai55ZWFyID49IDApIHtcbiAgICBkID0gbmV3IERhdGUoZCk7XG4gICAgZC5zZXRVVENGdWxsWWVhcihkLmdldFVUQ0Z1bGxZZWFyKCkgLSAxOTAwKTtcbiAgfVxuXG4gIHJldHVybiArZDtcbn1cbmZ1bmN0aW9uIHdlZWtzSW5XZWVrWWVhcih3ZWVrWWVhcikge1xuICB2YXIgcDEgPSAod2Vla1llYXIgKyBNYXRoLmZsb29yKHdlZWtZZWFyIC8gNCkgLSBNYXRoLmZsb29yKHdlZWtZZWFyIC8gMTAwKSArIE1hdGguZmxvb3Iod2Vla1llYXIgLyA0MDApKSAlIDcsXG4gICAgICBsYXN0ID0gd2Vla1llYXIgLSAxLFxuICAgICAgcDIgPSAobGFzdCArIE1hdGguZmxvb3IobGFzdCAvIDQpIC0gTWF0aC5mbG9vcihsYXN0IC8gMTAwKSArIE1hdGguZmxvb3IobGFzdCAvIDQwMCkpICUgNztcbiAgcmV0dXJuIHAxID09PSA0IHx8IHAyID09PSAzID8gNTMgOiA1Mjtcbn1cbmZ1bmN0aW9uIHVudHJ1bmNhdGVZZWFyKHllYXIpIHtcbiAgaWYgKHllYXIgPiA5OSkge1xuICAgIHJldHVybiB5ZWFyO1xuICB9IGVsc2UgcmV0dXJuIHllYXIgPiA2MCA/IDE5MDAgKyB5ZWFyIDogMjAwMCArIHllYXI7XG59IC8vIFBBUlNJTkdcblxuZnVuY3Rpb24gcGFyc2Vab25lSW5mbyh0cywgb2Zmc2V0Rm9ybWF0LCBsb2NhbGUsIHRpbWVab25lKSB7XG4gIGlmICh0aW1lWm9uZSA9PT0gdm9pZCAwKSB7XG4gICAgdGltZVpvbmUgPSBudWxsO1xuICB9XG5cbiAgdmFyIGRhdGUgPSBuZXcgRGF0ZSh0cyksXG4gICAgICBpbnRsT3B0cyA9IHtcbiAgICBob3VyQ3ljbGU6IFwiaDIzXCIsXG4gICAgeWVhcjogXCJudW1lcmljXCIsXG4gICAgbW9udGg6IFwiMi1kaWdpdFwiLFxuICAgIGRheTogXCIyLWRpZ2l0XCIsXG4gICAgaG91cjogXCIyLWRpZ2l0XCIsXG4gICAgbWludXRlOiBcIjItZGlnaXRcIlxuICB9O1xuXG4gIGlmICh0aW1lWm9uZSkge1xuICAgIGludGxPcHRzLnRpbWVab25lID0gdGltZVpvbmU7XG4gIH1cblxuICB2YXIgbW9kaWZpZWQgPSBfZXh0ZW5kcyh7XG4gICAgdGltZVpvbmVOYW1lOiBvZmZzZXRGb3JtYXRcbiAgfSwgaW50bE9wdHMpO1xuXG4gIHZhciBwYXJzZWQgPSBuZXcgSW50bC5EYXRlVGltZUZvcm1hdChsb2NhbGUsIG1vZGlmaWVkKS5mb3JtYXRUb1BhcnRzKGRhdGUpLmZpbmQoZnVuY3Rpb24gKG0pIHtcbiAgICByZXR1cm4gbS50eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwidGltZXpvbmVuYW1lXCI7XG4gIH0pO1xuICByZXR1cm4gcGFyc2VkID8gcGFyc2VkLnZhbHVlIDogbnVsbDtcbn0gLy8gc2lnbmVkT2Zmc2V0KCctNScsICczMCcpIC0+IC0zMzBcblxuZnVuY3Rpb24gc2lnbmVkT2Zmc2V0KG9mZkhvdXJTdHIsIG9mZk1pbnV0ZVN0cikge1xuICB2YXIgb2ZmSG91ciA9IHBhcnNlSW50KG9mZkhvdXJTdHIsIDEwKTsgLy8gZG9uJ3QgfHwgdGhpcyBiZWNhdXNlIHdlIHdhbnQgdG8gcHJlc2VydmUgLTBcblxuICBpZiAoTnVtYmVyLmlzTmFOKG9mZkhvdXIpKSB7XG4gICAgb2ZmSG91ciA9IDA7XG4gIH1cblxuICB2YXIgb2ZmTWluID0gcGFyc2VJbnQob2ZmTWludXRlU3RyLCAxMCkgfHwgMCxcbiAgICAgIG9mZk1pblNpZ25lZCA9IG9mZkhvdXIgPCAwIHx8IE9iamVjdC5pcyhvZmZIb3VyLCAtMCkgPyAtb2ZmTWluIDogb2ZmTWluO1xuICByZXR1cm4gb2ZmSG91ciAqIDYwICsgb2ZmTWluU2lnbmVkO1xufSAvLyBDT0VSQ0lPTlxuXG5mdW5jdGlvbiBhc051bWJlcih2YWx1ZSkge1xuICB2YXIgbnVtZXJpY1ZhbHVlID0gTnVtYmVyKHZhbHVlKTtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJib29sZWFuXCIgfHwgdmFsdWUgPT09IFwiXCIgfHwgTnVtYmVyLmlzTmFOKG51bWVyaWNWYWx1ZSkpIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcIkludmFsaWQgdW5pdCB2YWx1ZSBcIiArIHZhbHVlKTtcbiAgcmV0dXJuIG51bWVyaWNWYWx1ZTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZU9iamVjdChvYmosIG5vcm1hbGl6ZXIpIHtcbiAgdmFyIG5vcm1hbGl6ZWQgPSB7fTtcblxuICBmb3IgKHZhciB1IGluIG9iaikge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eShvYmosIHUpKSB7XG4gICAgICB2YXIgdiA9IG9ialt1XTtcbiAgICAgIGlmICh2ID09PSB1bmRlZmluZWQgfHwgdiA9PT0gbnVsbCkgY29udGludWU7XG4gICAgICBub3JtYWxpemVkW25vcm1hbGl6ZXIodSldID0gYXNOdW1iZXIodik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5vcm1hbGl6ZWQ7XG59XG5mdW5jdGlvbiBmb3JtYXRPZmZzZXQob2Zmc2V0LCBmb3JtYXQpIHtcbiAgdmFyIGhvdXJzID0gTWF0aC50cnVuYyhNYXRoLmFicyhvZmZzZXQgLyA2MCkpLFxuICAgICAgbWludXRlcyA9IE1hdGgudHJ1bmMoTWF0aC5hYnMob2Zmc2V0ICUgNjApKSxcbiAgICAgIHNpZ24gPSBvZmZzZXQgPj0gMCA/IFwiK1wiIDogXCItXCI7XG5cbiAgc3dpdGNoIChmb3JtYXQpIHtcbiAgICBjYXNlIFwic2hvcnRcIjpcbiAgICAgIHJldHVybiBcIlwiICsgc2lnbiArIHBhZFN0YXJ0KGhvdXJzLCAyKSArIFwiOlwiICsgcGFkU3RhcnQobWludXRlcywgMik7XG5cbiAgICBjYXNlIFwibmFycm93XCI6XG4gICAgICByZXR1cm4gXCJcIiArIHNpZ24gKyBob3VycyArIChtaW51dGVzID4gMCA/IFwiOlwiICsgbWludXRlcyA6IFwiXCIpO1xuXG4gICAgY2FzZSBcInRlY2hpZVwiOlxuICAgICAgcmV0dXJuIFwiXCIgKyBzaWduICsgcGFkU3RhcnQoaG91cnMsIDIpICsgcGFkU3RhcnQobWludXRlcywgMik7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJWYWx1ZSBmb3JtYXQgXCIgKyBmb3JtYXQgKyBcIiBpcyBvdXQgb2YgcmFuZ2UgZm9yIHByb3BlcnR5IGZvcm1hdFwiKTtcbiAgfVxufVxuZnVuY3Rpb24gdGltZU9iamVjdChvYmopIHtcbiAgcmV0dXJuIHBpY2sob2JqLCBbXCJob3VyXCIsIFwibWludXRlXCIsIFwic2Vjb25kXCIsIFwibWlsbGlzZWNvbmRcIl0pO1xufVxudmFyIGlhbmFSZWdleCA9IC9bQS1aYS16XystXXsxLDI1Nn0oPzo6P1xcL1tBLVphLXowLTlfKy1dezEsMjU2fSg/OlxcL1tBLVphLXowLTlfKy1dezEsMjU2fSk/KT8vO1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cblxuXG52YXIgbW9udGhzTG9uZyA9IFtcIkphbnVhcnlcIiwgXCJGZWJydWFyeVwiLCBcIk1hcmNoXCIsIFwiQXByaWxcIiwgXCJNYXlcIiwgXCJKdW5lXCIsIFwiSnVseVwiLCBcIkF1Z3VzdFwiLCBcIlNlcHRlbWJlclwiLCBcIk9jdG9iZXJcIiwgXCJOb3ZlbWJlclwiLCBcIkRlY2VtYmVyXCJdO1xudmFyIG1vbnRoc1Nob3J0ID0gW1wiSmFuXCIsIFwiRmViXCIsIFwiTWFyXCIsIFwiQXByXCIsIFwiTWF5XCIsIFwiSnVuXCIsIFwiSnVsXCIsIFwiQXVnXCIsIFwiU2VwXCIsIFwiT2N0XCIsIFwiTm92XCIsIFwiRGVjXCJdO1xudmFyIG1vbnRoc05hcnJvdyA9IFtcIkpcIiwgXCJGXCIsIFwiTVwiLCBcIkFcIiwgXCJNXCIsIFwiSlwiLCBcIkpcIiwgXCJBXCIsIFwiU1wiLCBcIk9cIiwgXCJOXCIsIFwiRFwiXTtcbmZ1bmN0aW9uIG1vbnRocyhsZW5ndGgpIHtcbiAgc3dpdGNoIChsZW5ndGgpIHtcbiAgICBjYXNlIFwibmFycm93XCI6XG4gICAgICByZXR1cm4gW10uY29uY2F0KG1vbnRoc05hcnJvdyk7XG5cbiAgICBjYXNlIFwic2hvcnRcIjpcbiAgICAgIHJldHVybiBbXS5jb25jYXQobW9udGhzU2hvcnQpO1xuXG4gICAgY2FzZSBcImxvbmdcIjpcbiAgICAgIHJldHVybiBbXS5jb25jYXQobW9udGhzTG9uZyk7XG5cbiAgICBjYXNlIFwibnVtZXJpY1wiOlxuICAgICAgcmV0dXJuIFtcIjFcIiwgXCIyXCIsIFwiM1wiLCBcIjRcIiwgXCI1XCIsIFwiNlwiLCBcIjdcIiwgXCI4XCIsIFwiOVwiLCBcIjEwXCIsIFwiMTFcIiwgXCIxMlwiXTtcblxuICAgIGNhc2UgXCIyLWRpZ2l0XCI6XG4gICAgICByZXR1cm4gW1wiMDFcIiwgXCIwMlwiLCBcIjAzXCIsIFwiMDRcIiwgXCIwNVwiLCBcIjA2XCIsIFwiMDdcIiwgXCIwOFwiLCBcIjA5XCIsIFwiMTBcIiwgXCIxMVwiLCBcIjEyXCJdO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBudWxsO1xuICB9XG59XG52YXIgd2Vla2RheXNMb25nID0gW1wiTW9uZGF5XCIsIFwiVHVlc2RheVwiLCBcIldlZG5lc2RheVwiLCBcIlRodXJzZGF5XCIsIFwiRnJpZGF5XCIsIFwiU2F0dXJkYXlcIiwgXCJTdW5kYXlcIl07XG52YXIgd2Vla2RheXNTaG9ydCA9IFtcIk1vblwiLCBcIlR1ZVwiLCBcIldlZFwiLCBcIlRodVwiLCBcIkZyaVwiLCBcIlNhdFwiLCBcIlN1blwiXTtcbnZhciB3ZWVrZGF5c05hcnJvdyA9IFtcIk1cIiwgXCJUXCIsIFwiV1wiLCBcIlRcIiwgXCJGXCIsIFwiU1wiLCBcIlNcIl07XG5mdW5jdGlvbiB3ZWVrZGF5cyhsZW5ndGgpIHtcbiAgc3dpdGNoIChsZW5ndGgpIHtcbiAgICBjYXNlIFwibmFycm93XCI6XG4gICAgICByZXR1cm4gW10uY29uY2F0KHdlZWtkYXlzTmFycm93KTtcblxuICAgIGNhc2UgXCJzaG9ydFwiOlxuICAgICAgcmV0dXJuIFtdLmNvbmNhdCh3ZWVrZGF5c1Nob3J0KTtcblxuICAgIGNhc2UgXCJsb25nXCI6XG4gICAgICByZXR1cm4gW10uY29uY2F0KHdlZWtkYXlzTG9uZyk7XG5cbiAgICBjYXNlIFwibnVtZXJpY1wiOlxuICAgICAgcmV0dXJuIFtcIjFcIiwgXCIyXCIsIFwiM1wiLCBcIjRcIiwgXCI1XCIsIFwiNlwiLCBcIjdcIl07XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cbnZhciBtZXJpZGllbXMgPSBbXCJBTVwiLCBcIlBNXCJdO1xudmFyIGVyYXNMb25nID0gW1wiQmVmb3JlIENocmlzdFwiLCBcIkFubm8gRG9taW5pXCJdO1xudmFyIGVyYXNTaG9ydCA9IFtcIkJDXCIsIFwiQURcIl07XG52YXIgZXJhc05hcnJvdyA9IFtcIkJcIiwgXCJBXCJdO1xuZnVuY3Rpb24gZXJhcyhsZW5ndGgpIHtcbiAgc3dpdGNoIChsZW5ndGgpIHtcbiAgICBjYXNlIFwibmFycm93XCI6XG4gICAgICByZXR1cm4gW10uY29uY2F0KGVyYXNOYXJyb3cpO1xuXG4gICAgY2FzZSBcInNob3J0XCI6XG4gICAgICByZXR1cm4gW10uY29uY2F0KGVyYXNTaG9ydCk7XG5cbiAgICBjYXNlIFwibG9uZ1wiOlxuICAgICAgcmV0dXJuIFtdLmNvbmNhdChlcmFzTG9uZyk7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cbmZ1bmN0aW9uIG1lcmlkaWVtRm9yRGF0ZVRpbWUoZHQpIHtcbiAgcmV0dXJuIG1lcmlkaWVtc1tkdC5ob3VyIDwgMTIgPyAwIDogMV07XG59XG5mdW5jdGlvbiB3ZWVrZGF5Rm9yRGF0ZVRpbWUoZHQsIGxlbmd0aCkge1xuICByZXR1cm4gd2Vla2RheXMobGVuZ3RoKVtkdC53ZWVrZGF5IC0gMV07XG59XG5mdW5jdGlvbiBtb250aEZvckRhdGVUaW1lKGR0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIG1vbnRocyhsZW5ndGgpW2R0Lm1vbnRoIC0gMV07XG59XG5mdW5jdGlvbiBlcmFGb3JEYXRlVGltZShkdCwgbGVuZ3RoKSB7XG4gIHJldHVybiBlcmFzKGxlbmd0aClbZHQueWVhciA8IDAgPyAwIDogMV07XG59XG5mdW5jdGlvbiBmb3JtYXRSZWxhdGl2ZVRpbWUodW5pdCwgY291bnQsIG51bWVyaWMsIG5hcnJvdykge1xuICBpZiAobnVtZXJpYyA9PT0gdm9pZCAwKSB7XG4gICAgbnVtZXJpYyA9IFwiYWx3YXlzXCI7XG4gIH1cblxuICBpZiAobmFycm93ID09PSB2b2lkIDApIHtcbiAgICBuYXJyb3cgPSBmYWxzZTtcbiAgfVxuXG4gIHZhciB1bml0cyA9IHtcbiAgICB5ZWFyczogW1wieWVhclwiLCBcInlyLlwiXSxcbiAgICBxdWFydGVyczogW1wicXVhcnRlclwiLCBcInF0ci5cIl0sXG4gICAgbW9udGhzOiBbXCJtb250aFwiLCBcIm1vLlwiXSxcbiAgICB3ZWVrczogW1wid2Vla1wiLCBcIndrLlwiXSxcbiAgICBkYXlzOiBbXCJkYXlcIiwgXCJkYXlcIiwgXCJkYXlzXCJdLFxuICAgIGhvdXJzOiBbXCJob3VyXCIsIFwiaHIuXCJdLFxuICAgIG1pbnV0ZXM6IFtcIm1pbnV0ZVwiLCBcIm1pbi5cIl0sXG4gICAgc2Vjb25kczogW1wic2Vjb25kXCIsIFwic2VjLlwiXVxuICB9O1xuICB2YXIgbGFzdGFibGUgPSBbXCJob3Vyc1wiLCBcIm1pbnV0ZXNcIiwgXCJzZWNvbmRzXCJdLmluZGV4T2YodW5pdCkgPT09IC0xO1xuXG4gIGlmIChudW1lcmljID09PSBcImF1dG9cIiAmJiBsYXN0YWJsZSkge1xuICAgIHZhciBpc0RheSA9IHVuaXQgPT09IFwiZGF5c1wiO1xuXG4gICAgc3dpdGNoIChjb3VudCkge1xuICAgICAgY2FzZSAxOlxuICAgICAgICByZXR1cm4gaXNEYXkgPyBcInRvbW9ycm93XCIgOiBcIm5leHQgXCIgKyB1bml0c1t1bml0XVswXTtcblxuICAgICAgY2FzZSAtMTpcbiAgICAgICAgcmV0dXJuIGlzRGF5ID8gXCJ5ZXN0ZXJkYXlcIiA6IFwibGFzdCBcIiArIHVuaXRzW3VuaXRdWzBdO1xuXG4gICAgICBjYXNlIDA6XG4gICAgICAgIHJldHVybiBpc0RheSA/IFwidG9kYXlcIiA6IFwidGhpcyBcIiArIHVuaXRzW3VuaXRdWzBdO1xuXG4gICAgfVxuICB9XG5cbiAgdmFyIGlzSW5QYXN0ID0gT2JqZWN0LmlzKGNvdW50LCAtMCkgfHwgY291bnQgPCAwLFxuICAgICAgZm10VmFsdWUgPSBNYXRoLmFicyhjb3VudCksXG4gICAgICBzaW5ndWxhciA9IGZtdFZhbHVlID09PSAxLFxuICAgICAgbGlsVW5pdHMgPSB1bml0c1t1bml0XSxcbiAgICAgIGZtdFVuaXQgPSBuYXJyb3cgPyBzaW5ndWxhciA/IGxpbFVuaXRzWzFdIDogbGlsVW5pdHNbMl0gfHwgbGlsVW5pdHNbMV0gOiBzaW5ndWxhciA/IHVuaXRzW3VuaXRdWzBdIDogdW5pdDtcbiAgcmV0dXJuIGlzSW5QYXN0ID8gZm10VmFsdWUgKyBcIiBcIiArIGZtdFVuaXQgKyBcIiBhZ29cIiA6IFwiaW4gXCIgKyBmbXRWYWx1ZSArIFwiIFwiICsgZm10VW5pdDtcbn1cblxuZnVuY3Rpb24gc3RyaW5naWZ5VG9rZW5zKHNwbGl0cywgdG9rZW5Ub1N0cmluZykge1xuICB2YXIgcyA9IFwiXCI7XG5cbiAgZm9yICh2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXJMb29zZShzcGxpdHMpLCBfc3RlcDsgIShfc3RlcCA9IF9pdGVyYXRvcigpKS5kb25lOykge1xuICAgIHZhciB0b2tlbiA9IF9zdGVwLnZhbHVlO1xuXG4gICAgaWYgKHRva2VuLmxpdGVyYWwpIHtcbiAgICAgIHMgKz0gdG9rZW4udmFsO1xuICAgIH0gZWxzZSB7XG4gICAgICBzICs9IHRva2VuVG9TdHJpbmcodG9rZW4udmFsKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcztcbn1cblxudmFyIF9tYWNyb1Rva2VuVG9Gb3JtYXRPcHRzID0ge1xuICBEOiBEQVRFX1NIT1JULFxuICBERDogREFURV9NRUQsXG4gIERERDogREFURV9GVUxMLFxuICBEREREOiBEQVRFX0hVR0UsXG4gIHQ6IFRJTUVfU0lNUExFLFxuICB0dDogVElNRV9XSVRIX1NFQ09ORFMsXG4gIHR0dDogVElNRV9XSVRIX1NIT1JUX09GRlNFVCxcbiAgdHR0dDogVElNRV9XSVRIX0xPTkdfT0ZGU0VULFxuICBUOiBUSU1FXzI0X1NJTVBMRSxcbiAgVFQ6IFRJTUVfMjRfV0lUSF9TRUNPTkRTLFxuICBUVFQ6IFRJTUVfMjRfV0lUSF9TSE9SVF9PRkZTRVQsXG4gIFRUVFQ6IFRJTUVfMjRfV0lUSF9MT05HX09GRlNFVCxcbiAgZjogREFURVRJTUVfU0hPUlQsXG4gIGZmOiBEQVRFVElNRV9NRUQsXG4gIGZmZjogREFURVRJTUVfRlVMTCxcbiAgZmZmZjogREFURVRJTUVfSFVHRSxcbiAgRjogREFURVRJTUVfU0hPUlRfV0lUSF9TRUNPTkRTLFxuICBGRjogREFURVRJTUVfTUVEX1dJVEhfU0VDT05EUyxcbiAgRkZGOiBEQVRFVElNRV9GVUxMX1dJVEhfU0VDT05EUyxcbiAgRkZGRjogREFURVRJTUVfSFVHRV9XSVRIX1NFQ09ORFNcbn07XG4vKipcbiAqIEBwcml2YXRlXG4gKi9cblxudmFyIEZvcm1hdHRlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIEZvcm1hdHRlci5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUobG9jYWxlLCBvcHRzKSB7XG4gICAgaWYgKG9wdHMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgRm9ybWF0dGVyKGxvY2FsZSwgb3B0cyk7XG4gIH07XG5cbiAgRm9ybWF0dGVyLnBhcnNlRm9ybWF0ID0gZnVuY3Rpb24gcGFyc2VGb3JtYXQoZm10KSB7XG4gICAgdmFyIGN1cnJlbnQgPSBudWxsLFxuICAgICAgICBjdXJyZW50RnVsbCA9IFwiXCIsXG4gICAgICAgIGJyYWNrZXRlZCA9IGZhbHNlO1xuICAgIHZhciBzcGxpdHMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm10Lmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgYyA9IGZtdC5jaGFyQXQoaSk7XG5cbiAgICAgIGlmIChjID09PSBcIidcIikge1xuICAgICAgICBpZiAoY3VycmVudEZ1bGwubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHNwbGl0cy5wdXNoKHtcbiAgICAgICAgICAgIGxpdGVyYWw6IGJyYWNrZXRlZCxcbiAgICAgICAgICAgIHZhbDogY3VycmVudEZ1bGxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGN1cnJlbnQgPSBudWxsO1xuICAgICAgICBjdXJyZW50RnVsbCA9IFwiXCI7XG4gICAgICAgIGJyYWNrZXRlZCA9ICFicmFja2V0ZWQ7XG4gICAgICB9IGVsc2UgaWYgKGJyYWNrZXRlZCkge1xuICAgICAgICBjdXJyZW50RnVsbCArPSBjO1xuICAgICAgfSBlbHNlIGlmIChjID09PSBjdXJyZW50KSB7XG4gICAgICAgIGN1cnJlbnRGdWxsICs9IGM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoY3VycmVudEZ1bGwubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHNwbGl0cy5wdXNoKHtcbiAgICAgICAgICAgIGxpdGVyYWw6IGZhbHNlLFxuICAgICAgICAgICAgdmFsOiBjdXJyZW50RnVsbFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgY3VycmVudEZ1bGwgPSBjO1xuICAgICAgICBjdXJyZW50ID0gYztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY3VycmVudEZ1bGwubGVuZ3RoID4gMCkge1xuICAgICAgc3BsaXRzLnB1c2goe1xuICAgICAgICBsaXRlcmFsOiBicmFja2V0ZWQsXG4gICAgICAgIHZhbDogY3VycmVudEZ1bGxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBzcGxpdHM7XG4gIH07XG5cbiAgRm9ybWF0dGVyLm1hY3JvVG9rZW5Ub0Zvcm1hdE9wdHMgPSBmdW5jdGlvbiBtYWNyb1Rva2VuVG9Gb3JtYXRPcHRzKHRva2VuKSB7XG4gICAgcmV0dXJuIF9tYWNyb1Rva2VuVG9Gb3JtYXRPcHRzW3Rva2VuXTtcbiAgfTtcblxuICBmdW5jdGlvbiBGb3JtYXR0ZXIobG9jYWxlLCBmb3JtYXRPcHRzKSB7XG4gICAgdGhpcy5vcHRzID0gZm9ybWF0T3B0cztcbiAgICB0aGlzLmxvYyA9IGxvY2FsZTtcbiAgICB0aGlzLnN5c3RlbUxvYyA9IG51bGw7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gRm9ybWF0dGVyLnByb3RvdHlwZTtcblxuICBfcHJvdG8uZm9ybWF0V2l0aFN5c3RlbURlZmF1bHQgPSBmdW5jdGlvbiBmb3JtYXRXaXRoU3lzdGVtRGVmYXVsdChkdCwgb3B0cykge1xuICAgIGlmICh0aGlzLnN5c3RlbUxvYyA9PT0gbnVsbCkge1xuICAgICAgdGhpcy5zeXN0ZW1Mb2MgPSB0aGlzLmxvYy5yZWRlZmF1bHRUb1N5c3RlbSgpO1xuICAgIH1cblxuICAgIHZhciBkZiA9IHRoaXMuc3lzdGVtTG9jLmR0Rm9ybWF0dGVyKGR0LCBfZXh0ZW5kcyh7fSwgdGhpcy5vcHRzLCBvcHRzKSk7XG4gICAgcmV0dXJuIGRmLmZvcm1hdCgpO1xuICB9O1xuXG4gIF9wcm90by5mb3JtYXREYXRlVGltZSA9IGZ1bmN0aW9uIGZvcm1hdERhdGVUaW1lKGR0LCBvcHRzKSB7XG4gICAgaWYgKG9wdHMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cblxuICAgIHZhciBkZiA9IHRoaXMubG9jLmR0Rm9ybWF0dGVyKGR0LCBfZXh0ZW5kcyh7fSwgdGhpcy5vcHRzLCBvcHRzKSk7XG4gICAgcmV0dXJuIGRmLmZvcm1hdCgpO1xuICB9O1xuXG4gIF9wcm90by5mb3JtYXREYXRlVGltZVBhcnRzID0gZnVuY3Rpb24gZm9ybWF0RGF0ZVRpbWVQYXJ0cyhkdCwgb3B0cykge1xuICAgIGlmIChvcHRzID09PSB2b2lkIDApIHtcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG5cbiAgICB2YXIgZGYgPSB0aGlzLmxvYy5kdEZvcm1hdHRlcihkdCwgX2V4dGVuZHMoe30sIHRoaXMub3B0cywgb3B0cykpO1xuICAgIHJldHVybiBkZi5mb3JtYXRUb1BhcnRzKCk7XG4gIH07XG5cbiAgX3Byb3RvLnJlc29sdmVkT3B0aW9ucyA9IGZ1bmN0aW9uIHJlc29sdmVkT3B0aW9ucyhkdCwgb3B0cykge1xuICAgIGlmIChvcHRzID09PSB2b2lkIDApIHtcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG5cbiAgICB2YXIgZGYgPSB0aGlzLmxvYy5kdEZvcm1hdHRlcihkdCwgX2V4dGVuZHMoe30sIHRoaXMub3B0cywgb3B0cykpO1xuICAgIHJldHVybiBkZi5yZXNvbHZlZE9wdGlvbnMoKTtcbiAgfTtcblxuICBfcHJvdG8ubnVtID0gZnVuY3Rpb24gbnVtKG4sIHApIHtcbiAgICBpZiAocCA9PT0gdm9pZCAwKSB7XG4gICAgICBwID0gMDtcbiAgICB9XG5cbiAgICAvLyB3ZSBnZXQgc29tZSBwZXJmIG91dCBvZiBkb2luZyB0aGlzIGhlcmUsIGFubm95aW5nbHlcbiAgICBpZiAodGhpcy5vcHRzLmZvcmNlU2ltcGxlKSB7XG4gICAgICByZXR1cm4gcGFkU3RhcnQobiwgcCk7XG4gICAgfVxuXG4gICAgdmFyIG9wdHMgPSBfZXh0ZW5kcyh7fSwgdGhpcy5vcHRzKTtcblxuICAgIGlmIChwID4gMCkge1xuICAgICAgb3B0cy5wYWRUbyA9IHA7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMubG9jLm51bWJlckZvcm1hdHRlcihvcHRzKS5mb3JtYXQobik7XG4gIH07XG5cbiAgX3Byb3RvLmZvcm1hdERhdGVUaW1lRnJvbVN0cmluZyA9IGZ1bmN0aW9uIGZvcm1hdERhdGVUaW1lRnJvbVN0cmluZyhkdCwgZm10KSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBrbm93bkVuZ2xpc2ggPSB0aGlzLmxvYy5saXN0aW5nTW9kZSgpID09PSBcImVuXCIsXG4gICAgICAgIHVzZURhdGVUaW1lRm9ybWF0dGVyID0gdGhpcy5sb2Mub3V0cHV0Q2FsZW5kYXIgJiYgdGhpcy5sb2Mub3V0cHV0Q2FsZW5kYXIgIT09IFwiZ3JlZ29yeVwiLFxuICAgICAgICBzdHJpbmcgPSBmdW5jdGlvbiBzdHJpbmcob3B0cywgZXh0cmFjdCkge1xuICAgICAgcmV0dXJuIF90aGlzLmxvYy5leHRyYWN0KGR0LCBvcHRzLCBleHRyYWN0KTtcbiAgICB9LFxuICAgICAgICBmb3JtYXRPZmZzZXQgPSBmdW5jdGlvbiBmb3JtYXRPZmZzZXQob3B0cykge1xuICAgICAgaWYgKGR0LmlzT2Zmc2V0Rml4ZWQgJiYgZHQub2Zmc2V0ID09PSAwICYmIG9wdHMuYWxsb3daKSB7XG4gICAgICAgIHJldHVybiBcIlpcIjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGR0LmlzVmFsaWQgPyBkdC56b25lLmZvcm1hdE9mZnNldChkdC50cywgb3B0cy5mb3JtYXQpIDogXCJcIjtcbiAgICB9LFxuICAgICAgICBtZXJpZGllbSA9IGZ1bmN0aW9uIG1lcmlkaWVtKCkge1xuICAgICAgcmV0dXJuIGtub3duRW5nbGlzaCA/IG1lcmlkaWVtRm9yRGF0ZVRpbWUoZHQpIDogc3RyaW5nKHtcbiAgICAgICAgaG91cjogXCJudW1lcmljXCIsXG4gICAgICAgIGhvdXJDeWNsZTogXCJoMTJcIlxuICAgICAgfSwgXCJkYXlwZXJpb2RcIik7XG4gICAgfSxcbiAgICAgICAgbW9udGggPSBmdW5jdGlvbiBtb250aChsZW5ndGgsIHN0YW5kYWxvbmUpIHtcbiAgICAgIHJldHVybiBrbm93bkVuZ2xpc2ggPyBtb250aEZvckRhdGVUaW1lKGR0LCBsZW5ndGgpIDogc3RyaW5nKHN0YW5kYWxvbmUgPyB7XG4gICAgICAgIG1vbnRoOiBsZW5ndGhcbiAgICAgIH0gOiB7XG4gICAgICAgIG1vbnRoOiBsZW5ndGgsXG4gICAgICAgIGRheTogXCJudW1lcmljXCJcbiAgICAgIH0sIFwibW9udGhcIik7XG4gICAgfSxcbiAgICAgICAgd2Vla2RheSA9IGZ1bmN0aW9uIHdlZWtkYXkobGVuZ3RoLCBzdGFuZGFsb25lKSB7XG4gICAgICByZXR1cm4ga25vd25FbmdsaXNoID8gd2Vla2RheUZvckRhdGVUaW1lKGR0LCBsZW5ndGgpIDogc3RyaW5nKHN0YW5kYWxvbmUgPyB7XG4gICAgICAgIHdlZWtkYXk6IGxlbmd0aFxuICAgICAgfSA6IHtcbiAgICAgICAgd2Vla2RheTogbGVuZ3RoLFxuICAgICAgICBtb250aDogXCJsb25nXCIsXG4gICAgICAgIGRheTogXCJudW1lcmljXCJcbiAgICAgIH0sIFwid2Vla2RheVwiKTtcbiAgICB9LFxuICAgICAgICBtYXliZU1hY3JvID0gZnVuY3Rpb24gbWF5YmVNYWNybyh0b2tlbikge1xuICAgICAgdmFyIGZvcm1hdE9wdHMgPSBGb3JtYXR0ZXIubWFjcm9Ub2tlblRvRm9ybWF0T3B0cyh0b2tlbik7XG5cbiAgICAgIGlmIChmb3JtYXRPcHRzKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5mb3JtYXRXaXRoU3lzdGVtRGVmYXVsdChkdCwgZm9ybWF0T3B0cyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgICB9XG4gICAgfSxcbiAgICAgICAgZXJhID0gZnVuY3Rpb24gZXJhKGxlbmd0aCkge1xuICAgICAgcmV0dXJuIGtub3duRW5nbGlzaCA/IGVyYUZvckRhdGVUaW1lKGR0LCBsZW5ndGgpIDogc3RyaW5nKHtcbiAgICAgICAgZXJhOiBsZW5ndGhcbiAgICAgIH0sIFwiZXJhXCIpO1xuICAgIH0sXG4gICAgICAgIHRva2VuVG9TdHJpbmcgPSBmdW5jdGlvbiB0b2tlblRvU3RyaW5nKHRva2VuKSB7XG4gICAgICAvLyBXaGVyZSBwb3NzaWJsZTogaHR0cDovL2NsZHIudW5pY29kZS5vcmcvdHJhbnNsYXRpb24vZGF0ZS10aW1lLTEvZGF0ZS10aW1lI1RPQy1TdGFuZGFsb25lLXZzLi1Gb3JtYXQtU3R5bGVzXG4gICAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICAgIC8vIG1zXG4gICAgICAgIGNhc2UgXCJTXCI6XG4gICAgICAgICAgcmV0dXJuIF90aGlzLm51bShkdC5taWxsaXNlY29uZCk7XG5cbiAgICAgICAgY2FzZSBcInVcIjogLy8gZmFsbHMgdGhyb3VnaFxuXG4gICAgICAgIGNhc2UgXCJTU1NcIjpcbiAgICAgICAgICByZXR1cm4gX3RoaXMubnVtKGR0Lm1pbGxpc2Vjb25kLCAzKTtcbiAgICAgICAgLy8gc2Vjb25kc1xuXG4gICAgICAgIGNhc2UgXCJzXCI6XG4gICAgICAgICAgcmV0dXJuIF90aGlzLm51bShkdC5zZWNvbmQpO1xuXG4gICAgICAgIGNhc2UgXCJzc1wiOlxuICAgICAgICAgIHJldHVybiBfdGhpcy5udW0oZHQuc2Vjb25kLCAyKTtcbiAgICAgICAgLy8gZnJhY3Rpb25hbCBzZWNvbmRzXG5cbiAgICAgICAgY2FzZSBcInV1XCI6XG4gICAgICAgICAgcmV0dXJuIF90aGlzLm51bShNYXRoLmZsb29yKGR0Lm1pbGxpc2Vjb25kIC8gMTApLCAyKTtcblxuICAgICAgICBjYXNlIFwidXV1XCI6XG4gICAgICAgICAgcmV0dXJuIF90aGlzLm51bShNYXRoLmZsb29yKGR0Lm1pbGxpc2Vjb25kIC8gMTAwKSk7XG4gICAgICAgIC8vIG1pbnV0ZXNcblxuICAgICAgICBjYXNlIFwibVwiOlxuICAgICAgICAgIHJldHVybiBfdGhpcy5udW0oZHQubWludXRlKTtcblxuICAgICAgICBjYXNlIFwibW1cIjpcbiAgICAgICAgICByZXR1cm4gX3RoaXMubnVtKGR0Lm1pbnV0ZSwgMik7XG4gICAgICAgIC8vIGhvdXJzXG5cbiAgICAgICAgY2FzZSBcImhcIjpcbiAgICAgICAgICByZXR1cm4gX3RoaXMubnVtKGR0LmhvdXIgJSAxMiA9PT0gMCA/IDEyIDogZHQuaG91ciAlIDEyKTtcblxuICAgICAgICBjYXNlIFwiaGhcIjpcbiAgICAgICAgICByZXR1cm4gX3RoaXMubnVtKGR0LmhvdXIgJSAxMiA9PT0gMCA/IDEyIDogZHQuaG91ciAlIDEyLCAyKTtcblxuICAgICAgICBjYXNlIFwiSFwiOlxuICAgICAgICAgIHJldHVybiBfdGhpcy5udW0oZHQuaG91cik7XG5cbiAgICAgICAgY2FzZSBcIkhIXCI6XG4gICAgICAgICAgcmV0dXJuIF90aGlzLm51bShkdC5ob3VyLCAyKTtcbiAgICAgICAgLy8gb2Zmc2V0XG5cbiAgICAgICAgY2FzZSBcIlpcIjpcbiAgICAgICAgICAvLyBsaWtlICs2XG4gICAgICAgICAgcmV0dXJuIGZvcm1hdE9mZnNldCh7XG4gICAgICAgICAgICBmb3JtYXQ6IFwibmFycm93XCIsXG4gICAgICAgICAgICBhbGxvd1o6IF90aGlzLm9wdHMuYWxsb3daXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgY2FzZSBcIlpaXCI6XG4gICAgICAgICAgLy8gbGlrZSArMDY6MDBcbiAgICAgICAgICByZXR1cm4gZm9ybWF0T2Zmc2V0KHtcbiAgICAgICAgICAgIGZvcm1hdDogXCJzaG9ydFwiLFxuICAgICAgICAgICAgYWxsb3daOiBfdGhpcy5vcHRzLmFsbG93WlxuICAgICAgICAgIH0pO1xuXG4gICAgICAgIGNhc2UgXCJaWlpcIjpcbiAgICAgICAgICAvLyBsaWtlICswNjAwXG4gICAgICAgICAgcmV0dXJuIGZvcm1hdE9mZnNldCh7XG4gICAgICAgICAgICBmb3JtYXQ6IFwidGVjaGllXCIsXG4gICAgICAgICAgICBhbGxvd1o6IF90aGlzLm9wdHMuYWxsb3daXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgY2FzZSBcIlpaWlpcIjpcbiAgICAgICAgICAvLyBsaWtlIEVTVFxuICAgICAgICAgIHJldHVybiBkdC56b25lLm9mZnNldE5hbWUoZHQudHMsIHtcbiAgICAgICAgICAgIGZvcm1hdDogXCJzaG9ydFwiLFxuICAgICAgICAgICAgbG9jYWxlOiBfdGhpcy5sb2MubG9jYWxlXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgY2FzZSBcIlpaWlpaXCI6XG4gICAgICAgICAgLy8gbGlrZSBFYXN0ZXJuIFN0YW5kYXJkIFRpbWVcbiAgICAgICAgICByZXR1cm4gZHQuem9uZS5vZmZzZXROYW1lKGR0LnRzLCB7XG4gICAgICAgICAgICBmb3JtYXQ6IFwibG9uZ1wiLFxuICAgICAgICAgICAgbG9jYWxlOiBfdGhpcy5sb2MubG9jYWxlXG4gICAgICAgICAgfSk7XG4gICAgICAgIC8vIHpvbmVcblxuICAgICAgICBjYXNlIFwielwiOlxuICAgICAgICAgIC8vIGxpa2UgQW1lcmljYS9OZXdfWW9ya1xuICAgICAgICAgIHJldHVybiBkdC56b25lTmFtZTtcbiAgICAgICAgLy8gbWVyaWRpZW1zXG5cbiAgICAgICAgY2FzZSBcImFcIjpcbiAgICAgICAgICByZXR1cm4gbWVyaWRpZW0oKTtcbiAgICAgICAgLy8gZGF0ZXNcblxuICAgICAgICBjYXNlIFwiZFwiOlxuICAgICAgICAgIHJldHVybiB1c2VEYXRlVGltZUZvcm1hdHRlciA/IHN0cmluZyh7XG4gICAgICAgICAgICBkYXk6IFwibnVtZXJpY1wiXG4gICAgICAgICAgfSwgXCJkYXlcIikgOiBfdGhpcy5udW0oZHQuZGF5KTtcblxuICAgICAgICBjYXNlIFwiZGRcIjpcbiAgICAgICAgICByZXR1cm4gdXNlRGF0ZVRpbWVGb3JtYXR0ZXIgPyBzdHJpbmcoe1xuICAgICAgICAgICAgZGF5OiBcIjItZGlnaXRcIlxuICAgICAgICAgIH0sIFwiZGF5XCIpIDogX3RoaXMubnVtKGR0LmRheSwgMik7XG4gICAgICAgIC8vIHdlZWtkYXlzIC0gc3RhbmRhbG9uZVxuXG4gICAgICAgIGNhc2UgXCJjXCI6XG4gICAgICAgICAgLy8gbGlrZSAxXG4gICAgICAgICAgcmV0dXJuIF90aGlzLm51bShkdC53ZWVrZGF5KTtcblxuICAgICAgICBjYXNlIFwiY2NjXCI6XG4gICAgICAgICAgLy8gbGlrZSAnVHVlcydcbiAgICAgICAgICByZXR1cm4gd2Vla2RheShcInNob3J0XCIsIHRydWUpO1xuXG4gICAgICAgIGNhc2UgXCJjY2NjXCI6XG4gICAgICAgICAgLy8gbGlrZSAnVHVlc2RheSdcbiAgICAgICAgICByZXR1cm4gd2Vla2RheShcImxvbmdcIiwgdHJ1ZSk7XG5cbiAgICAgICAgY2FzZSBcImNjY2NjXCI6XG4gICAgICAgICAgLy8gbGlrZSAnVCdcbiAgICAgICAgICByZXR1cm4gd2Vla2RheShcIm5hcnJvd1wiLCB0cnVlKTtcbiAgICAgICAgLy8gd2Vla2RheXMgLSBmb3JtYXRcblxuICAgICAgICBjYXNlIFwiRVwiOlxuICAgICAgICAgIC8vIGxpa2UgMVxuICAgICAgICAgIHJldHVybiBfdGhpcy5udW0oZHQud2Vla2RheSk7XG5cbiAgICAgICAgY2FzZSBcIkVFRVwiOlxuICAgICAgICAgIC8vIGxpa2UgJ1R1ZXMnXG4gICAgICAgICAgcmV0dXJuIHdlZWtkYXkoXCJzaG9ydFwiLCBmYWxzZSk7XG5cbiAgICAgICAgY2FzZSBcIkVFRUVcIjpcbiAgICAgICAgICAvLyBsaWtlICdUdWVzZGF5J1xuICAgICAgICAgIHJldHVybiB3ZWVrZGF5KFwibG9uZ1wiLCBmYWxzZSk7XG5cbiAgICAgICAgY2FzZSBcIkVFRUVFXCI6XG4gICAgICAgICAgLy8gbGlrZSAnVCdcbiAgICAgICAgICByZXR1cm4gd2Vla2RheShcIm5hcnJvd1wiLCBmYWxzZSk7XG4gICAgICAgIC8vIG1vbnRocyAtIHN0YW5kYWxvbmVcblxuICAgICAgICBjYXNlIFwiTFwiOlxuICAgICAgICAgIC8vIGxpa2UgMVxuICAgICAgICAgIHJldHVybiB1c2VEYXRlVGltZUZvcm1hdHRlciA/IHN0cmluZyh7XG4gICAgICAgICAgICBtb250aDogXCJudW1lcmljXCIsXG4gICAgICAgICAgICBkYXk6IFwibnVtZXJpY1wiXG4gICAgICAgICAgfSwgXCJtb250aFwiKSA6IF90aGlzLm51bShkdC5tb250aCk7XG5cbiAgICAgICAgY2FzZSBcIkxMXCI6XG4gICAgICAgICAgLy8gbGlrZSAwMSwgZG9lc24ndCBzZWVtIHRvIHdvcmtcbiAgICAgICAgICByZXR1cm4gdXNlRGF0ZVRpbWVGb3JtYXR0ZXIgPyBzdHJpbmcoe1xuICAgICAgICAgICAgbW9udGg6IFwiMi1kaWdpdFwiLFxuICAgICAgICAgICAgZGF5OiBcIm51bWVyaWNcIlxuICAgICAgICAgIH0sIFwibW9udGhcIikgOiBfdGhpcy5udW0oZHQubW9udGgsIDIpO1xuXG4gICAgICAgIGNhc2UgXCJMTExcIjpcbiAgICAgICAgICAvLyBsaWtlIEphblxuICAgICAgICAgIHJldHVybiBtb250aChcInNob3J0XCIsIHRydWUpO1xuXG4gICAgICAgIGNhc2UgXCJMTExMXCI6XG4gICAgICAgICAgLy8gbGlrZSBKYW51YXJ5XG4gICAgICAgICAgcmV0dXJuIG1vbnRoKFwibG9uZ1wiLCB0cnVlKTtcblxuICAgICAgICBjYXNlIFwiTExMTExcIjpcbiAgICAgICAgICAvLyBsaWtlIEpcbiAgICAgICAgICByZXR1cm4gbW9udGgoXCJuYXJyb3dcIiwgdHJ1ZSk7XG4gICAgICAgIC8vIG1vbnRocyAtIGZvcm1hdFxuXG4gICAgICAgIGNhc2UgXCJNXCI6XG4gICAgICAgICAgLy8gbGlrZSAxXG4gICAgICAgICAgcmV0dXJuIHVzZURhdGVUaW1lRm9ybWF0dGVyID8gc3RyaW5nKHtcbiAgICAgICAgICAgIG1vbnRoOiBcIm51bWVyaWNcIlxuICAgICAgICAgIH0sIFwibW9udGhcIikgOiBfdGhpcy5udW0oZHQubW9udGgpO1xuXG4gICAgICAgIGNhc2UgXCJNTVwiOlxuICAgICAgICAgIC8vIGxpa2UgMDFcbiAgICAgICAgICByZXR1cm4gdXNlRGF0ZVRpbWVGb3JtYXR0ZXIgPyBzdHJpbmcoe1xuICAgICAgICAgICAgbW9udGg6IFwiMi1kaWdpdFwiXG4gICAgICAgICAgfSwgXCJtb250aFwiKSA6IF90aGlzLm51bShkdC5tb250aCwgMik7XG5cbiAgICAgICAgY2FzZSBcIk1NTVwiOlxuICAgICAgICAgIC8vIGxpa2UgSmFuXG4gICAgICAgICAgcmV0dXJuIG1vbnRoKFwic2hvcnRcIiwgZmFsc2UpO1xuXG4gICAgICAgIGNhc2UgXCJNTU1NXCI6XG4gICAgICAgICAgLy8gbGlrZSBKYW51YXJ5XG4gICAgICAgICAgcmV0dXJuIG1vbnRoKFwibG9uZ1wiLCBmYWxzZSk7XG5cbiAgICAgICAgY2FzZSBcIk1NTU1NXCI6XG4gICAgICAgICAgLy8gbGlrZSBKXG4gICAgICAgICAgcmV0dXJuIG1vbnRoKFwibmFycm93XCIsIGZhbHNlKTtcbiAgICAgICAgLy8geWVhcnNcblxuICAgICAgICBjYXNlIFwieVwiOlxuICAgICAgICAgIC8vIGxpa2UgMjAxNFxuICAgICAgICAgIHJldHVybiB1c2VEYXRlVGltZUZvcm1hdHRlciA/IHN0cmluZyh7XG4gICAgICAgICAgICB5ZWFyOiBcIm51bWVyaWNcIlxuICAgICAgICAgIH0sIFwieWVhclwiKSA6IF90aGlzLm51bShkdC55ZWFyKTtcblxuICAgICAgICBjYXNlIFwieXlcIjpcbiAgICAgICAgICAvLyBsaWtlIDE0XG4gICAgICAgICAgcmV0dXJuIHVzZURhdGVUaW1lRm9ybWF0dGVyID8gc3RyaW5nKHtcbiAgICAgICAgICAgIHllYXI6IFwiMi1kaWdpdFwiXG4gICAgICAgICAgfSwgXCJ5ZWFyXCIpIDogX3RoaXMubnVtKGR0LnllYXIudG9TdHJpbmcoKS5zbGljZSgtMiksIDIpO1xuXG4gICAgICAgIGNhc2UgXCJ5eXl5XCI6XG4gICAgICAgICAgLy8gbGlrZSAwMDEyXG4gICAgICAgICAgcmV0dXJuIHVzZURhdGVUaW1lRm9ybWF0dGVyID8gc3RyaW5nKHtcbiAgICAgICAgICAgIHllYXI6IFwibnVtZXJpY1wiXG4gICAgICAgICAgfSwgXCJ5ZWFyXCIpIDogX3RoaXMubnVtKGR0LnllYXIsIDQpO1xuXG4gICAgICAgIGNhc2UgXCJ5eXl5eXlcIjpcbiAgICAgICAgICAvLyBsaWtlIDAwMDAxMlxuICAgICAgICAgIHJldHVybiB1c2VEYXRlVGltZUZvcm1hdHRlciA/IHN0cmluZyh7XG4gICAgICAgICAgICB5ZWFyOiBcIm51bWVyaWNcIlxuICAgICAgICAgIH0sIFwieWVhclwiKSA6IF90aGlzLm51bShkdC55ZWFyLCA2KTtcbiAgICAgICAgLy8gZXJhc1xuXG4gICAgICAgIGNhc2UgXCJHXCI6XG4gICAgICAgICAgLy8gbGlrZSBBRFxuICAgICAgICAgIHJldHVybiBlcmEoXCJzaG9ydFwiKTtcblxuICAgICAgICBjYXNlIFwiR0dcIjpcbiAgICAgICAgICAvLyBsaWtlIEFubm8gRG9taW5pXG4gICAgICAgICAgcmV0dXJuIGVyYShcImxvbmdcIik7XG5cbiAgICAgICAgY2FzZSBcIkdHR0dHXCI6XG4gICAgICAgICAgcmV0dXJuIGVyYShcIm5hcnJvd1wiKTtcblxuICAgICAgICBjYXNlIFwia2tcIjpcbiAgICAgICAgICByZXR1cm4gX3RoaXMubnVtKGR0LndlZWtZZWFyLnRvU3RyaW5nKCkuc2xpY2UoLTIpLCAyKTtcblxuICAgICAgICBjYXNlIFwia2tra1wiOlxuICAgICAgICAgIHJldHVybiBfdGhpcy5udW0oZHQud2Vla1llYXIsIDQpO1xuXG4gICAgICAgIGNhc2UgXCJXXCI6XG4gICAgICAgICAgcmV0dXJuIF90aGlzLm51bShkdC53ZWVrTnVtYmVyKTtcblxuICAgICAgICBjYXNlIFwiV1dcIjpcbiAgICAgICAgICByZXR1cm4gX3RoaXMubnVtKGR0LndlZWtOdW1iZXIsIDIpO1xuXG4gICAgICAgIGNhc2UgXCJvXCI6XG4gICAgICAgICAgcmV0dXJuIF90aGlzLm51bShkdC5vcmRpbmFsKTtcblxuICAgICAgICBjYXNlIFwib29vXCI6XG4gICAgICAgICAgcmV0dXJuIF90aGlzLm51bShkdC5vcmRpbmFsLCAzKTtcblxuICAgICAgICBjYXNlIFwicVwiOlxuICAgICAgICAgIC8vIGxpa2UgMVxuICAgICAgICAgIHJldHVybiBfdGhpcy5udW0oZHQucXVhcnRlcik7XG5cbiAgICAgICAgY2FzZSBcInFxXCI6XG4gICAgICAgICAgLy8gbGlrZSAwMVxuICAgICAgICAgIHJldHVybiBfdGhpcy5udW0oZHQucXVhcnRlciwgMik7XG5cbiAgICAgICAgY2FzZSBcIlhcIjpcbiAgICAgICAgICByZXR1cm4gX3RoaXMubnVtKE1hdGguZmxvb3IoZHQudHMgLyAxMDAwKSk7XG5cbiAgICAgICAgY2FzZSBcInhcIjpcbiAgICAgICAgICByZXR1cm4gX3RoaXMubnVtKGR0LnRzKTtcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBtYXliZU1hY3JvKHRva2VuKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIHN0cmluZ2lmeVRva2VucyhGb3JtYXR0ZXIucGFyc2VGb3JtYXQoZm10KSwgdG9rZW5Ub1N0cmluZyk7XG4gIH07XG5cbiAgX3Byb3RvLmZvcm1hdER1cmF0aW9uRnJvbVN0cmluZyA9IGZ1bmN0aW9uIGZvcm1hdER1cmF0aW9uRnJvbVN0cmluZyhkdXIsIGZtdCkge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgdmFyIHRva2VuVG9GaWVsZCA9IGZ1bmN0aW9uIHRva2VuVG9GaWVsZCh0b2tlbikge1xuICAgICAgc3dpdGNoICh0b2tlblswXSkge1xuICAgICAgICBjYXNlIFwiU1wiOlxuICAgICAgICAgIHJldHVybiBcIm1pbGxpc2Vjb25kXCI7XG5cbiAgICAgICAgY2FzZSBcInNcIjpcbiAgICAgICAgICByZXR1cm4gXCJzZWNvbmRcIjtcblxuICAgICAgICBjYXNlIFwibVwiOlxuICAgICAgICAgIHJldHVybiBcIm1pbnV0ZVwiO1xuXG4gICAgICAgIGNhc2UgXCJoXCI6XG4gICAgICAgICAgcmV0dXJuIFwiaG91clwiO1xuXG4gICAgICAgIGNhc2UgXCJkXCI6XG4gICAgICAgICAgcmV0dXJuIFwiZGF5XCI7XG5cbiAgICAgICAgY2FzZSBcIndcIjpcbiAgICAgICAgICByZXR1cm4gXCJ3ZWVrXCI7XG5cbiAgICAgICAgY2FzZSBcIk1cIjpcbiAgICAgICAgICByZXR1cm4gXCJtb250aFwiO1xuXG4gICAgICAgIGNhc2UgXCJ5XCI6XG4gICAgICAgICAgcmV0dXJuIFwieWVhclwiO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSxcbiAgICAgICAgdG9rZW5Ub1N0cmluZyA9IGZ1bmN0aW9uIHRva2VuVG9TdHJpbmcobGlsZHVyKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKHRva2VuKSB7XG4gICAgICAgIHZhciBtYXBwZWQgPSB0b2tlblRvRmllbGQodG9rZW4pO1xuXG4gICAgICAgIGlmIChtYXBwZWQpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMyLm51bShsaWxkdXIuZ2V0KG1hcHBlZCksIHRva2VuLmxlbmd0aCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0sXG4gICAgICAgIHRva2VucyA9IEZvcm1hdHRlci5wYXJzZUZvcm1hdChmbXQpLFxuICAgICAgICByZWFsVG9rZW5zID0gdG9rZW5zLnJlZHVjZShmdW5jdGlvbiAoZm91bmQsIF9yZWYpIHtcbiAgICAgIHZhciBsaXRlcmFsID0gX3JlZi5saXRlcmFsLFxuICAgICAgICAgIHZhbCA9IF9yZWYudmFsO1xuICAgICAgcmV0dXJuIGxpdGVyYWwgPyBmb3VuZCA6IGZvdW5kLmNvbmNhdCh2YWwpO1xuICAgIH0sIFtdKSxcbiAgICAgICAgY29sbGFwc2VkID0gZHVyLnNoaWZ0VG8uYXBwbHkoZHVyLCByZWFsVG9rZW5zLm1hcCh0b2tlblRvRmllbGQpLmZpbHRlcihmdW5jdGlvbiAodCkge1xuICAgICAgcmV0dXJuIHQ7XG4gICAgfSkpO1xuXG4gICAgcmV0dXJuIHN0cmluZ2lmeVRva2Vucyh0b2tlbnMsIHRva2VuVG9TdHJpbmcoY29sbGFwc2VkKSk7XG4gIH07XG5cbiAgcmV0dXJuIEZvcm1hdHRlcjtcbn0oKTtcblxudmFyIEludmFsaWQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBJbnZhbGlkKHJlYXNvbiwgZXhwbGFuYXRpb24pIHtcbiAgICB0aGlzLnJlYXNvbiA9IHJlYXNvbjtcbiAgICB0aGlzLmV4cGxhbmF0aW9uID0gZXhwbGFuYXRpb247XG4gIH1cblxuICB2YXIgX3Byb3RvID0gSW52YWxpZC5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLnRvTWVzc2FnZSA9IGZ1bmN0aW9uIHRvTWVzc2FnZSgpIHtcbiAgICBpZiAodGhpcy5leHBsYW5hdGlvbikge1xuICAgICAgcmV0dXJuIHRoaXMucmVhc29uICsgXCI6IFwiICsgdGhpcy5leHBsYW5hdGlvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMucmVhc29uO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gSW52YWxpZDtcbn0oKTtcblxuLyoqXG4gKiBAaW50ZXJmYWNlXG4gKi9cblxudmFyIFpvbmUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBab25lKCkge31cblxuICB2YXIgX3Byb3RvID0gWm9uZS5wcm90b3R5cGU7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIG9mZnNldCdzIGNvbW1vbiBuYW1lIChzdWNoIGFzIEVTVCkgYXQgdGhlIHNwZWNpZmllZCB0aW1lc3RhbXBcbiAgICogQGFic3RyYWN0XG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0cyAtIEVwb2NoIG1pbGxpc2Vjb25kcyBmb3Igd2hpY2ggdG8gZ2V0IHRoZSBuYW1lXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gT3B0aW9ucyB0byBhZmZlY3QgdGhlIGZvcm1hdFxuICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0cy5mb3JtYXQgLSBXaGF0IHN0eWxlIG9mIG9mZnNldCB0byByZXR1cm4uIEFjY2VwdHMgJ2xvbmcnIG9yICdzaG9ydCcuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRzLmxvY2FsZSAtIFdoYXQgbG9jYWxlIHRvIHJldHVybiB0aGUgb2Zmc2V0IG5hbWUgaW4uXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG4gIF9wcm90by5vZmZzZXROYW1lID0gZnVuY3Rpb24gb2Zmc2V0TmFtZSh0cywgb3B0cykge1xuICAgIHRocm93IG5ldyBab25lSXNBYnN0cmFjdEVycm9yKCk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIG9mZnNldCdzIHZhbHVlIGFzIGEgc3RyaW5nXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcGFyYW0ge251bWJlcn0gdHMgLSBFcG9jaCBtaWxsaXNlY29uZHMgZm9yIHdoaWNoIHRvIGdldCB0aGUgb2Zmc2V0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmb3JtYXQgLSBXaGF0IHN0eWxlIG9mIG9mZnNldCB0byByZXR1cm4uXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBBY2NlcHRzICduYXJyb3cnLCAnc2hvcnQnLCBvciAndGVjaGllJy4gUmV0dXJuaW5nICcrNicsICcrMDY6MDAnLCBvciAnKzA2MDAnIHJlc3BlY3RpdmVseVxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmZvcm1hdE9mZnNldCA9IGZ1bmN0aW9uIGZvcm1hdE9mZnNldCh0cywgZm9ybWF0KSB7XG4gICAgdGhyb3cgbmV3IFpvbmVJc0Fic3RyYWN0RXJyb3IoKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIHRoZSBvZmZzZXQgaW4gbWludXRlcyBmb3IgdGhpcyB6b25lIGF0IHRoZSBzcGVjaWZpZWQgdGltZXN0YW1wLlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHBhcmFtIHtudW1iZXJ9IHRzIC0gRXBvY2ggbWlsbGlzZWNvbmRzIGZvciB3aGljaCB0byBjb21wdXRlIHRoZSBvZmZzZXRcbiAgICogQHJldHVybiB7bnVtYmVyfVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5vZmZzZXQgPSBmdW5jdGlvbiBvZmZzZXQodHMpIHtcbiAgICB0aHJvdyBuZXcgWm9uZUlzQWJzdHJhY3RFcnJvcigpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gd2hldGhlciB0aGlzIFpvbmUgaXMgZXF1YWwgdG8gYW5vdGhlciB6b25lXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcGFyYW0ge1pvbmV9IG90aGVyWm9uZSAtIHRoZSB6b25lIHRvIGNvbXBhcmVcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIDtcblxuICBfcHJvdG8uZXF1YWxzID0gZnVuY3Rpb24gZXF1YWxzKG90aGVyWm9uZSkge1xuICAgIHRocm93IG5ldyBab25lSXNBYnN0cmFjdEVycm9yKCk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiB3aGV0aGVyIHRoaXMgWm9uZSBpcyB2YWxpZC5cbiAgICogQGFic3RyYWN0XG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKi9cbiAgO1xuXG4gIF9jcmVhdGVDbGFzcyhab25lLCBbe1xuICAgIGtleTogXCJ0eXBlXCIsXG4gICAgZ2V0OlxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHpvbmVcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHRocm93IG5ldyBab25lSXNBYnN0cmFjdEVycm9yKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoaXMgem9uZS5cbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibmFtZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgdGhyb3cgbmV3IFpvbmVJc0Fic3RyYWN0RXJyb3IoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaWFuYU5hbWVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm5hbWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgd2hldGhlciB0aGUgb2Zmc2V0IGlzIGtub3duIHRvIGJlIGZpeGVkIGZvciB0aGUgd2hvbGUgeWVhci5cbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImlzVW5pdmVyc2FsXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB0aHJvdyBuZXcgWm9uZUlzQWJzdHJhY3RFcnJvcigpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpc1ZhbGlkXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB0aHJvdyBuZXcgWm9uZUlzQWJzdHJhY3RFcnJvcigpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBab25lO1xufSgpO1xuXG52YXIgc2luZ2xldG9uJDEgPSBudWxsO1xuLyoqXG4gKiBSZXByZXNlbnRzIHRoZSBsb2NhbCB6b25lIGZvciB0aGlzIEphdmFTY3JpcHQgZW52aXJvbm1lbnQuXG4gKiBAaW1wbGVtZW50cyB7Wm9uZX1cbiAqL1xuXG52YXIgU3lzdGVtWm9uZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1pvbmUpIHtcbiAgX2luaGVyaXRzTG9vc2UoU3lzdGVtWm9uZSwgX1pvbmUpO1xuXG4gIGZ1bmN0aW9uIFN5c3RlbVpvbmUoKSB7XG4gICAgcmV0dXJuIF9ab25lLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBTeXN0ZW1ab25lLnByb3RvdHlwZTtcblxuICAvKiogQG92ZXJyaWRlICoqL1xuICBfcHJvdG8ub2Zmc2V0TmFtZSA9IGZ1bmN0aW9uIG9mZnNldE5hbWUodHMsIF9yZWYpIHtcbiAgICB2YXIgZm9ybWF0ID0gX3JlZi5mb3JtYXQsXG4gICAgICAgIGxvY2FsZSA9IF9yZWYubG9jYWxlO1xuICAgIHJldHVybiBwYXJzZVpvbmVJbmZvKHRzLCBmb3JtYXQsIGxvY2FsZSk7XG4gIH1cbiAgLyoqIEBvdmVycmlkZSAqKi9cbiAgO1xuXG4gIF9wcm90by5mb3JtYXRPZmZzZXQgPSBmdW5jdGlvbiBmb3JtYXRPZmZzZXQkMSh0cywgZm9ybWF0KSB7XG4gICAgcmV0dXJuIGZvcm1hdE9mZnNldCh0aGlzLm9mZnNldCh0cyksIGZvcm1hdCk7XG4gIH1cbiAgLyoqIEBvdmVycmlkZSAqKi9cbiAgO1xuXG4gIF9wcm90by5vZmZzZXQgPSBmdW5jdGlvbiBvZmZzZXQodHMpIHtcbiAgICByZXR1cm4gLW5ldyBEYXRlKHRzKS5nZXRUaW1lem9uZU9mZnNldCgpO1xuICB9XG4gIC8qKiBAb3ZlcnJpZGUgKiovXG4gIDtcblxuICBfcHJvdG8uZXF1YWxzID0gZnVuY3Rpb24gZXF1YWxzKG90aGVyWm9uZSkge1xuICAgIHJldHVybiBvdGhlclpvbmUudHlwZSA9PT0gXCJzeXN0ZW1cIjtcbiAgfVxuICAvKiogQG92ZXJyaWRlICoqL1xuICA7XG5cbiAgX2NyZWF0ZUNsYXNzKFN5c3RlbVpvbmUsIFt7XG4gICAga2V5OiBcInR5cGVcIixcbiAgICBnZXQ6XG4gICAgLyoqIEBvdmVycmlkZSAqKi9cbiAgICBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gXCJzeXN0ZW1cIjtcbiAgICB9XG4gICAgLyoqIEBvdmVycmlkZSAqKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm5hbWVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBuZXcgSW50bC5EYXRlVGltZUZvcm1hdCgpLnJlc29sdmVkT3B0aW9ucygpLnRpbWVab25lO1xuICAgIH1cbiAgICAvKiogQG92ZXJyaWRlICoqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiaXNVbml2ZXJzYWxcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaXNWYWxpZFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6IFwiaW5zdGFuY2VcIixcbiAgICBnZXQ6XG4gICAgLyoqXG4gICAgICogR2V0IGEgc2luZ2xldG9uIGluc3RhbmNlIG9mIHRoZSBsb2NhbCB6b25lXG4gICAgICogQHJldHVybiB7U3lzdGVtWm9uZX1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICBpZiAoc2luZ2xldG9uJDEgPT09IG51bGwpIHtcbiAgICAgICAgc2luZ2xldG9uJDEgPSBuZXcgU3lzdGVtWm9uZSgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2luZ2xldG9uJDE7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFN5c3RlbVpvbmU7XG59KFpvbmUpO1xuXG52YXIgZHRmQ2FjaGUgPSB7fTtcblxuZnVuY3Rpb24gbWFrZURURih6b25lKSB7XG4gIGlmICghZHRmQ2FjaGVbem9uZV0pIHtcbiAgICBkdGZDYWNoZVt6b25lXSA9IG5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KFwiZW4tVVNcIiwge1xuICAgICAgaG91cjEyOiBmYWxzZSxcbiAgICAgIHRpbWVab25lOiB6b25lLFxuICAgICAgeWVhcjogXCJudW1lcmljXCIsXG4gICAgICBtb250aDogXCIyLWRpZ2l0XCIsXG4gICAgICBkYXk6IFwiMi1kaWdpdFwiLFxuICAgICAgaG91cjogXCIyLWRpZ2l0XCIsXG4gICAgICBtaW51dGU6IFwiMi1kaWdpdFwiLFxuICAgICAgc2Vjb25kOiBcIjItZGlnaXRcIixcbiAgICAgIGVyYTogXCJzaG9ydFwiXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gZHRmQ2FjaGVbem9uZV07XG59XG5cbnZhciB0eXBlVG9Qb3MgPSB7XG4gIHllYXI6IDAsXG4gIG1vbnRoOiAxLFxuICBkYXk6IDIsXG4gIGVyYTogMyxcbiAgaG91cjogNCxcbiAgbWludXRlOiA1LFxuICBzZWNvbmQ6IDZcbn07XG5cbmZ1bmN0aW9uIGhhY2t5T2Zmc2V0KGR0ZiwgZGF0ZSkge1xuICB2YXIgZm9ybWF0dGVkID0gZHRmLmZvcm1hdChkYXRlKS5yZXBsYWNlKC9cXHUyMDBFL2csIFwiXCIpLFxuICAgICAgcGFyc2VkID0gLyhcXGQrKVxcLyhcXGQrKVxcLyhcXGQrKSAoQUR8QkMpLD8gKFxcZCspOihcXGQrKTooXFxkKykvLmV4ZWMoZm9ybWF0dGVkKSxcbiAgICAgIGZNb250aCA9IHBhcnNlZFsxXSxcbiAgICAgIGZEYXkgPSBwYXJzZWRbMl0sXG4gICAgICBmWWVhciA9IHBhcnNlZFszXSxcbiAgICAgIGZhZE9yQmMgPSBwYXJzZWRbNF0sXG4gICAgICBmSG91ciA9IHBhcnNlZFs1XSxcbiAgICAgIGZNaW51dGUgPSBwYXJzZWRbNl0sXG4gICAgICBmU2Vjb25kID0gcGFyc2VkWzddO1xuICByZXR1cm4gW2ZZZWFyLCBmTW9udGgsIGZEYXksIGZhZE9yQmMsIGZIb3VyLCBmTWludXRlLCBmU2Vjb25kXTtcbn1cblxuZnVuY3Rpb24gcGFydHNPZmZzZXQoZHRmLCBkYXRlKSB7XG4gIHZhciBmb3JtYXR0ZWQgPSBkdGYuZm9ybWF0VG9QYXJ0cyhkYXRlKTtcbiAgdmFyIGZpbGxlZCA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZm9ybWF0dGVkLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIF9mb3JtYXR0ZWQkaSA9IGZvcm1hdHRlZFtpXSxcbiAgICAgICAgdHlwZSA9IF9mb3JtYXR0ZWQkaS50eXBlLFxuICAgICAgICB2YWx1ZSA9IF9mb3JtYXR0ZWQkaS52YWx1ZTtcbiAgICB2YXIgcG9zID0gdHlwZVRvUG9zW3R5cGVdO1xuXG4gICAgaWYgKHR5cGUgPT09IFwiZXJhXCIpIHtcbiAgICAgIGZpbGxlZFtwb3NdID0gdmFsdWU7XG4gICAgfSBlbHNlIGlmICghaXNVbmRlZmluZWQocG9zKSkge1xuICAgICAgZmlsbGVkW3Bvc10gPSBwYXJzZUludCh2YWx1ZSwgMTApO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmaWxsZWQ7XG59XG5cbnZhciBpYW5hWm9uZUNhY2hlID0ge307XG4vKipcbiAqIEEgem9uZSBpZGVudGlmaWVkIGJ5IGFuIElBTkEgaWRlbnRpZmllciwgbGlrZSBBbWVyaWNhL05ld19Zb3JrXG4gKiBAaW1wbGVtZW50cyB7Wm9uZX1cbiAqL1xuXG52YXIgSUFOQVpvbmUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9ab25lKSB7XG4gIF9pbmhlcml0c0xvb3NlKElBTkFab25lLCBfWm9uZSk7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gWm9uZSBuYW1lXG4gICAqIEByZXR1cm4ge0lBTkFab25lfVxuICAgKi9cbiAgSUFOQVpvbmUuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKG5hbWUpIHtcbiAgICBpZiAoIWlhbmFab25lQ2FjaGVbbmFtZV0pIHtcbiAgICAgIGlhbmFab25lQ2FjaGVbbmFtZV0gPSBuZXcgSUFOQVpvbmUobmFtZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGlhbmFab25lQ2FjaGVbbmFtZV07XG4gIH1cbiAgLyoqXG4gICAqIFJlc2V0IGxvY2FsIGNhY2hlcy4gU2hvdWxkIG9ubHkgYmUgbmVjZXNzYXJ5IGluIHRlc3Rpbmcgc2NlbmFyaW9zLlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgO1xuXG4gIElBTkFab25lLnJlc2V0Q2FjaGUgPSBmdW5jdGlvbiByZXNldENhY2hlKCkge1xuICAgIGlhbmFab25lQ2FjaGUgPSB7fTtcbiAgICBkdGZDYWNoZSA9IHt9O1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhlIHByb3ZpZGVkIHN0cmluZyBpcyBhIHZhbGlkIHNwZWNpZmllci4gVGhpcyBvbmx5IGNoZWNrcyB0aGUgc3RyaW5nJ3MgZm9ybWF0LCBub3QgdGhhdCB0aGUgc3BlY2lmaWVyIGlkZW50aWZpZXMgYSBrbm93biB6b25lOyBzZWUgaXNWYWxpZFpvbmUgZm9yIHRoYXQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzIC0gVGhlIHN0cmluZyB0byBjaGVjayB2YWxpZGl0eSBvblxuICAgKiBAZXhhbXBsZSBJQU5BWm9uZS5pc1ZhbGlkU3BlY2lmaWVyKFwiQW1lcmljYS9OZXdfWW9ya1wiKSAvLz0+IHRydWVcbiAgICogQGV4YW1wbGUgSUFOQVpvbmUuaXNWYWxpZFNwZWNpZmllcihcIlNwb3J0fn5ibG9ycFwiKSAvLz0+IGZhbHNlXG4gICAqIEBkZXByZWNhdGVkIFRoaXMgbWV0aG9kIHJldHVybnMgZmFsc2UgZm9yIHNvbWUgdmFsaWQgSUFOQSBuYW1lcy4gVXNlIGlzVmFsaWRab25lIGluc3RlYWQuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICA7XG5cbiAgSUFOQVpvbmUuaXNWYWxpZFNwZWNpZmllciA9IGZ1bmN0aW9uIGlzVmFsaWRTcGVjaWZpZXIocykge1xuICAgIHJldHVybiB0aGlzLmlzVmFsaWRab25lKHMpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhlIHByb3ZpZGVkIHN0cmluZyBpZGVudGlmaWVzIGEgcmVhbCB6b25lXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB6b25lIC0gVGhlIHN0cmluZyB0byBjaGVja1xuICAgKiBAZXhhbXBsZSBJQU5BWm9uZS5pc1ZhbGlkWm9uZShcIkFtZXJpY2EvTmV3X1lvcmtcIikgLy89PiB0cnVlXG4gICAqIEBleGFtcGxlIElBTkFab25lLmlzVmFsaWRab25lKFwiRmFudGFzaWEvQ2FzdGxlXCIpIC8vPT4gZmFsc2VcbiAgICogQGV4YW1wbGUgSUFOQVpvbmUuaXNWYWxpZFpvbmUoXCJTcG9ydH5+YmxvcnBcIikgLy89PiBmYWxzZVxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgO1xuXG4gIElBTkFab25lLmlzVmFsaWRab25lID0gZnVuY3Rpb24gaXNWYWxpZFpvbmUoem9uZSkge1xuICAgIGlmICghem9uZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBuZXcgSW50bC5EYXRlVGltZUZvcm1hdChcImVuLVVTXCIsIHtcbiAgICAgICAgdGltZVpvbmU6IHpvbmVcbiAgICAgIH0pLmZvcm1hdCgpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiBJQU5BWm9uZShuYW1lKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX3RoaXMgPSBfWm9uZS5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgLyoqIEBwcml2YXRlICoqL1xuXG4gICAgX3RoaXMuem9uZU5hbWUgPSBuYW1lO1xuICAgIC8qKiBAcHJpdmF0ZSAqKi9cblxuICAgIF90aGlzLnZhbGlkID0gSUFOQVpvbmUuaXNWYWxpZFpvbmUobmFtZSk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIC8qKiBAb3ZlcnJpZGUgKiovXG5cblxuICB2YXIgX3Byb3RvID0gSUFOQVpvbmUucHJvdG90eXBlO1xuXG4gIC8qKiBAb3ZlcnJpZGUgKiovXG4gIF9wcm90by5vZmZzZXROYW1lID0gZnVuY3Rpb24gb2Zmc2V0TmFtZSh0cywgX3JlZikge1xuICAgIHZhciBmb3JtYXQgPSBfcmVmLmZvcm1hdCxcbiAgICAgICAgbG9jYWxlID0gX3JlZi5sb2NhbGU7XG4gICAgcmV0dXJuIHBhcnNlWm9uZUluZm8odHMsIGZvcm1hdCwgbG9jYWxlLCB0aGlzLm5hbWUpO1xuICB9XG4gIC8qKiBAb3ZlcnJpZGUgKiovXG4gIDtcblxuICBfcHJvdG8uZm9ybWF0T2Zmc2V0ID0gZnVuY3Rpb24gZm9ybWF0T2Zmc2V0JDEodHMsIGZvcm1hdCkge1xuICAgIHJldHVybiBmb3JtYXRPZmZzZXQodGhpcy5vZmZzZXQodHMpLCBmb3JtYXQpO1xuICB9XG4gIC8qKiBAb3ZlcnJpZGUgKiovXG4gIDtcblxuICBfcHJvdG8ub2Zmc2V0ID0gZnVuY3Rpb24gb2Zmc2V0KHRzKSB7XG4gICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSh0cyk7XG4gICAgaWYgKGlzTmFOKGRhdGUpKSByZXR1cm4gTmFOO1xuICAgIHZhciBkdGYgPSBtYWtlRFRGKHRoaXMubmFtZSk7XG5cbiAgICB2YXIgX3JlZjIgPSBkdGYuZm9ybWF0VG9QYXJ0cyA/IHBhcnRzT2Zmc2V0KGR0ZiwgZGF0ZSkgOiBoYWNreU9mZnNldChkdGYsIGRhdGUpLFxuICAgICAgICB5ZWFyID0gX3JlZjJbMF0sXG4gICAgICAgIG1vbnRoID0gX3JlZjJbMV0sXG4gICAgICAgIGRheSA9IF9yZWYyWzJdLFxuICAgICAgICBhZE9yQmMgPSBfcmVmMlszXSxcbiAgICAgICAgaG91ciA9IF9yZWYyWzRdLFxuICAgICAgICBtaW51dGUgPSBfcmVmMls1XSxcbiAgICAgICAgc2Vjb25kID0gX3JlZjJbNl07XG5cbiAgICBpZiAoYWRPckJjID09PSBcIkJDXCIpIHtcbiAgICAgIHllYXIgPSAtTWF0aC5hYnMoeWVhcikgKyAxO1xuICAgIH0gLy8gYmVjYXVzZSB3ZSdyZSB1c2luZyBob3VyMTIgYW5kIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTEwMjU1NjQmY2FuPTImcT0lMjIyNCUzQTAwJTIyJTIwZGF0ZXRpbWVmb3JtYXRcblxuXG4gICAgdmFyIGFkanVzdGVkSG91ciA9IGhvdXIgPT09IDI0ID8gMCA6IGhvdXI7XG4gICAgdmFyIGFzVVRDID0gb2JqVG9Mb2NhbFRTKHtcbiAgICAgIHllYXI6IHllYXIsXG4gICAgICBtb250aDogbW9udGgsXG4gICAgICBkYXk6IGRheSxcbiAgICAgIGhvdXI6IGFkanVzdGVkSG91cixcbiAgICAgIG1pbnV0ZTogbWludXRlLFxuICAgICAgc2Vjb25kOiBzZWNvbmQsXG4gICAgICBtaWxsaXNlY29uZDogMFxuICAgIH0pO1xuICAgIHZhciBhc1RTID0gK2RhdGU7XG4gICAgdmFyIG92ZXIgPSBhc1RTICUgMTAwMDtcbiAgICBhc1RTIC09IG92ZXIgPj0gMCA/IG92ZXIgOiAxMDAwICsgb3ZlcjtcbiAgICByZXR1cm4gKGFzVVRDIC0gYXNUUykgLyAoNjAgKiAxMDAwKTtcbiAgfVxuICAvKiogQG92ZXJyaWRlICoqL1xuICA7XG5cbiAgX3Byb3RvLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyhvdGhlclpvbmUpIHtcbiAgICByZXR1cm4gb3RoZXJab25lLnR5cGUgPT09IFwiaWFuYVwiICYmIG90aGVyWm9uZS5uYW1lID09PSB0aGlzLm5hbWU7XG4gIH1cbiAgLyoqIEBvdmVycmlkZSAqKi9cbiAgO1xuXG4gIF9jcmVhdGVDbGFzcyhJQU5BWm9uZSwgW3tcbiAgICBrZXk6IFwidHlwZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIFwiaWFuYVwiO1xuICAgIH1cbiAgICAvKiogQG92ZXJyaWRlICoqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibmFtZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuem9uZU5hbWU7XG4gICAgfVxuICAgIC8qKiBAb3ZlcnJpZGUgKiovXG5cbiAgfSwge1xuICAgIGtleTogXCJpc1VuaXZlcnNhbFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpc1ZhbGlkXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy52YWxpZDtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gSUFOQVpvbmU7XG59KFpvbmUpO1xuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbi8qKlxuICogQSB6b25lIHdpdGggYSBmaXhlZCBvZmZzZXQgKG1lYW5pbmcgbm8gRFNUKVxuICogQGltcGxlbWVudHMge1pvbmV9XG4gKi9cblxudmFyIEZpeGVkT2Zmc2V0Wm9uZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1pvbmUpIHtcbiAgX2luaGVyaXRzTG9vc2UoRml4ZWRPZmZzZXRab25lLCBfWm9uZSk7XG5cbiAgLyoqXG4gICAqIEdldCBhbiBpbnN0YW5jZSB3aXRoIGEgc3BlY2lmaWVkIG9mZnNldFxuICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gVGhlIG9mZnNldCBpbiBtaW51dGVzXG4gICAqIEByZXR1cm4ge0ZpeGVkT2Zmc2V0Wm9uZX1cbiAgICovXG4gIEZpeGVkT2Zmc2V0Wm9uZS5pbnN0YW5jZSA9IGZ1bmN0aW9uIGluc3RhbmNlKG9mZnNldCkge1xuICAgIHJldHVybiBvZmZzZXQgPT09IDAgPyBGaXhlZE9mZnNldFpvbmUudXRjSW5zdGFuY2UgOiBuZXcgRml4ZWRPZmZzZXRab25lKG9mZnNldCk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBhbiBpbnN0YW5jZSBvZiBGaXhlZE9mZnNldFpvbmUgZnJvbSBhIFVUQyBvZmZzZXQgc3RyaW5nLCBsaWtlIFwiVVRDKzZcIlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcyAtIFRoZSBvZmZzZXQgc3RyaW5nIHRvIHBhcnNlXG4gICAqIEBleGFtcGxlIEZpeGVkT2Zmc2V0Wm9uZS5wYXJzZVNwZWNpZmllcihcIlVUQys2XCIpXG4gICAqIEBleGFtcGxlIEZpeGVkT2Zmc2V0Wm9uZS5wYXJzZVNwZWNpZmllcihcIlVUQyswNlwiKVxuICAgKiBAZXhhbXBsZSBGaXhlZE9mZnNldFpvbmUucGFyc2VTcGVjaWZpZXIoXCJVVEMtNjowMFwiKVxuICAgKiBAcmV0dXJuIHtGaXhlZE9mZnNldFpvbmV9XG4gICAqL1xuICA7XG5cbiAgRml4ZWRPZmZzZXRab25lLnBhcnNlU3BlY2lmaWVyID0gZnVuY3Rpb24gcGFyc2VTcGVjaWZpZXIocykge1xuICAgIGlmIChzKSB7XG4gICAgICB2YXIgciA9IHMubWF0Y2goL151dGMoPzooWystXVxcZHsxLDJ9KSg/OjooXFxkezJ9KSk/KT8kL2kpO1xuXG4gICAgICBpZiAocikge1xuICAgICAgICByZXR1cm4gbmV3IEZpeGVkT2Zmc2V0Wm9uZShzaWduZWRPZmZzZXQoclsxXSwgclsyXSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIGZ1bmN0aW9uIEZpeGVkT2Zmc2V0Wm9uZShvZmZzZXQpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfdGhpcyA9IF9ab25lLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAvKiogQHByaXZhdGUgKiovXG5cbiAgICBfdGhpcy5maXhlZCA9IG9mZnNldDtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgLyoqIEBvdmVycmlkZSAqKi9cblxuXG4gIHZhciBfcHJvdG8gPSBGaXhlZE9mZnNldFpvbmUucHJvdG90eXBlO1xuXG4gIC8qKiBAb3ZlcnJpZGUgKiovXG4gIF9wcm90by5vZmZzZXROYW1lID0gZnVuY3Rpb24gb2Zmc2V0TmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5uYW1lO1xuICB9XG4gIC8qKiBAb3ZlcnJpZGUgKiovXG4gIDtcblxuICBfcHJvdG8uZm9ybWF0T2Zmc2V0ID0gZnVuY3Rpb24gZm9ybWF0T2Zmc2V0JDEodHMsIGZvcm1hdCkge1xuICAgIHJldHVybiBmb3JtYXRPZmZzZXQodGhpcy5maXhlZCwgZm9ybWF0KTtcbiAgfVxuICAvKiogQG92ZXJyaWRlICoqL1xuICA7XG5cbiAgLyoqIEBvdmVycmlkZSAqKi9cbiAgX3Byb3RvLm9mZnNldCA9IGZ1bmN0aW9uIG9mZnNldCgpIHtcbiAgICByZXR1cm4gdGhpcy5maXhlZDtcbiAgfVxuICAvKiogQG92ZXJyaWRlICoqL1xuICA7XG5cbiAgX3Byb3RvLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyhvdGhlclpvbmUpIHtcbiAgICByZXR1cm4gb3RoZXJab25lLnR5cGUgPT09IFwiZml4ZWRcIiAmJiBvdGhlclpvbmUuZml4ZWQgPT09IHRoaXMuZml4ZWQ7XG4gIH1cbiAgLyoqIEBvdmVycmlkZSAqKi9cbiAgO1xuXG4gIF9jcmVhdGVDbGFzcyhGaXhlZE9mZnNldFpvbmUsIFt7XG4gICAga2V5OiBcInR5cGVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBcImZpeGVkXCI7XG4gICAgfVxuICAgIC8qKiBAb3ZlcnJpZGUgKiovXG5cbiAgfSwge1xuICAgIGtleTogXCJuYW1lXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5maXhlZCA9PT0gMCA/IFwiVVRDXCIgOiBcIlVUQ1wiICsgZm9ybWF0T2Zmc2V0KHRoaXMuZml4ZWQsIFwibmFycm93XCIpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpYW5hTmFtZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgaWYgKHRoaXMuZml4ZWQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIFwiRXRjL1VUQ1wiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFwiRXRjL0dNVFwiICsgZm9ybWF0T2Zmc2V0KC10aGlzLmZpeGVkLCBcIm5hcnJvd1wiKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaXNVbml2ZXJzYWxcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpc1ZhbGlkXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogXCJ1dGNJbnN0YW5jZVwiLFxuICAgIGdldDpcbiAgICAvKipcbiAgICAgKiBHZXQgYSBzaW5nbGV0b24gaW5zdGFuY2Ugb2YgVVRDXG4gICAgICogQHJldHVybiB7Rml4ZWRPZmZzZXRab25lfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIGlmIChzaW5nbGV0b24gPT09IG51bGwpIHtcbiAgICAgICAgc2luZ2xldG9uID0gbmV3IEZpeGVkT2Zmc2V0Wm9uZSgwKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNpbmdsZXRvbjtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gRml4ZWRPZmZzZXRab25lO1xufShab25lKTtcblxuLyoqXG4gKiBBIHpvbmUgdGhhdCBmYWlsZWQgdG8gcGFyc2UuIFlvdSBzaG91bGQgbmV2ZXIgbmVlZCB0byBpbnN0YW50aWF0ZSB0aGlzLlxuICogQGltcGxlbWVudHMge1pvbmV9XG4gKi9cblxudmFyIEludmFsaWRab25lID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfWm9uZSkge1xuICBfaW5oZXJpdHNMb29zZShJbnZhbGlkWm9uZSwgX1pvbmUpO1xuXG4gIGZ1bmN0aW9uIEludmFsaWRab25lKHpvbmVOYW1lKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX3RoaXMgPSBfWm9uZS5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgLyoqICBAcHJpdmF0ZSAqL1xuXG4gICAgX3RoaXMuem9uZU5hbWUgPSB6b25lTmFtZTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgLyoqIEBvdmVycmlkZSAqKi9cblxuXG4gIHZhciBfcHJvdG8gPSBJbnZhbGlkWm9uZS5wcm90b3R5cGU7XG5cbiAgLyoqIEBvdmVycmlkZSAqKi9cbiAgX3Byb3RvLm9mZnNldE5hbWUgPSBmdW5jdGlvbiBvZmZzZXROYW1lKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIC8qKiBAb3ZlcnJpZGUgKiovXG4gIDtcblxuICBfcHJvdG8uZm9ybWF0T2Zmc2V0ID0gZnVuY3Rpb24gZm9ybWF0T2Zmc2V0KCkge1xuICAgIHJldHVybiBcIlwiO1xuICB9XG4gIC8qKiBAb3ZlcnJpZGUgKiovXG4gIDtcblxuICBfcHJvdG8ub2Zmc2V0ID0gZnVuY3Rpb24gb2Zmc2V0KCkge1xuICAgIHJldHVybiBOYU47XG4gIH1cbiAgLyoqIEBvdmVycmlkZSAqKi9cbiAgO1xuXG4gIF9wcm90by5lcXVhbHMgPSBmdW5jdGlvbiBlcXVhbHMoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8qKiBAb3ZlcnJpZGUgKiovXG4gIDtcblxuICBfY3JlYXRlQ2xhc3MoSW52YWxpZFpvbmUsIFt7XG4gICAga2V5OiBcInR5cGVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBcImludmFsaWRcIjtcbiAgICB9XG4gICAgLyoqIEBvdmVycmlkZSAqKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm5hbWVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnpvbmVOYW1lO1xuICAgIH1cbiAgICAvKiogQG92ZXJyaWRlICoqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiaXNVbml2ZXJzYWxcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaXNWYWxpZFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBJbnZhbGlkWm9uZTtcbn0oWm9uZSk7XG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplWm9uZShpbnB1dCwgZGVmYXVsdFpvbmUpIHtcblxuICBpZiAoaXNVbmRlZmluZWQoaW5wdXQpIHx8IGlucHV0ID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRab25lO1xuICB9IGVsc2UgaWYgKGlucHV0IGluc3RhbmNlb2YgWm9uZSkge1xuICAgIHJldHVybiBpbnB1dDtcbiAgfSBlbHNlIGlmIChpc1N0cmluZyhpbnB1dCkpIHtcbiAgICB2YXIgbG93ZXJlZCA9IGlucHV0LnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKGxvd2VyZWQgPT09IFwibG9jYWxcIiB8fCBsb3dlcmVkID09PSBcInN5c3RlbVwiKSByZXR1cm4gZGVmYXVsdFpvbmU7ZWxzZSBpZiAobG93ZXJlZCA9PT0gXCJ1dGNcIiB8fCBsb3dlcmVkID09PSBcImdtdFwiKSByZXR1cm4gRml4ZWRPZmZzZXRab25lLnV0Y0luc3RhbmNlO2Vsc2UgcmV0dXJuIEZpeGVkT2Zmc2V0Wm9uZS5wYXJzZVNwZWNpZmllcihsb3dlcmVkKSB8fCBJQU5BWm9uZS5jcmVhdGUoaW5wdXQpO1xuICB9IGVsc2UgaWYgKGlzTnVtYmVyKGlucHV0KSkge1xuICAgIHJldHVybiBGaXhlZE9mZnNldFpvbmUuaW5zdGFuY2UoaW5wdXQpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBpbnB1dCA9PT0gXCJvYmplY3RcIiAmJiBpbnB1dC5vZmZzZXQgJiYgdHlwZW9mIGlucHV0Lm9mZnNldCA9PT0gXCJudW1iZXJcIikge1xuICAgIC8vIFRoaXMgaXMgZHVtYiwgYnV0IHRoZSBpbnN0YW5jZW9mIGNoZWNrIGFib3ZlIGRvZXNuJ3Qgc2VlbSB0byByZWFsbHkgd29ya1xuICAgIC8vIHNvIHdlJ3JlIGR1Y2sgY2hlY2tpbmcgaXRcbiAgICByZXR1cm4gaW5wdXQ7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5ldyBJbnZhbGlkWm9uZShpbnB1dCk7XG4gIH1cbn1cblxudmFyIG5vdyA9IGZ1bmN0aW9uIG5vdygpIHtcbiAgcmV0dXJuIERhdGUubm93KCk7XG59LFxuICAgIGRlZmF1bHRab25lID0gXCJzeXN0ZW1cIixcbiAgICBkZWZhdWx0TG9jYWxlID0gbnVsbCxcbiAgICBkZWZhdWx0TnVtYmVyaW5nU3lzdGVtID0gbnVsbCxcbiAgICBkZWZhdWx0T3V0cHV0Q2FsZW5kYXIgPSBudWxsLFxuICAgIHRocm93T25JbnZhbGlkO1xuLyoqXG4gKiBTZXR0aW5ncyBjb250YWlucyBzdGF0aWMgZ2V0dGVycyBhbmQgc2V0dGVycyB0aGF0IGNvbnRyb2wgTHV4b24ncyBvdmVyYWxsIGJlaGF2aW9yLiBMdXhvbiBpcyBhIHNpbXBsZSBsaWJyYXJ5IHdpdGggZmV3IG9wdGlvbnMsIGJ1dCB0aGUgb25lcyBpdCBkb2VzIGhhdmUgbGl2ZSBoZXJlLlxuICovXG5cblxudmFyIFNldHRpbmdzID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gU2V0dGluZ3MoKSB7fVxuXG4gIC8qKlxuICAgKiBSZXNldCBMdXhvbidzIGdsb2JhbCBjYWNoZXMuIFNob3VsZCBvbmx5IGJlIG5lY2Vzc2FyeSBpbiB0ZXN0aW5nIHNjZW5hcmlvcy5cbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIFNldHRpbmdzLnJlc2V0Q2FjaGVzID0gZnVuY3Rpb24gcmVzZXRDYWNoZXMoKSB7XG4gICAgTG9jYWxlLnJlc2V0Q2FjaGUoKTtcbiAgICBJQU5BWm9uZS5yZXNldENhY2hlKCk7XG4gIH07XG5cbiAgX2NyZWF0ZUNsYXNzKFNldHRpbmdzLCBudWxsLCBbe1xuICAgIGtleTogXCJub3dcIixcbiAgICBnZXQ6XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjYWxsYmFjayBmb3IgcmV0dXJuaW5nIHRoZSBjdXJyZW50IHRpbWVzdGFtcC5cbiAgICAgKiBAdHlwZSB7ZnVuY3Rpb259XG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIG5vdztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBjYWxsYmFjayBmb3IgcmV0dXJuaW5nIHRoZSBjdXJyZW50IHRpbWVzdGFtcC5cbiAgICAgKiBUaGUgZnVuY3Rpb24gc2hvdWxkIHJldHVybiBhIG51bWJlciwgd2hpY2ggd2lsbCBiZSBpbnRlcnByZXRlZCBhcyBhbiBFcG9jaCBtaWxsaXNlY29uZCBjb3VudFxuICAgICAqIEB0eXBlIHtmdW5jdGlvbn1cbiAgICAgKiBAZXhhbXBsZSBTZXR0aW5ncy5ub3cgPSAoKSA9PiBEYXRlLm5vdygpICsgMzAwMCAvLyBwcmV0ZW5kIGl0IGlzIDMgc2Vjb25kcyBpbiB0aGUgZnV0dXJlXG4gICAgICogQGV4YW1wbGUgU2V0dGluZ3Mubm93ID0gKCkgPT4gMCAvLyBhbHdheXMgcHJldGVuZCBpdCdzIEphbiAxLCAxOTcwIGF0IG1pZG5pZ2h0IGluIFVUQyB0aW1lXG4gICAgICovXG4gICAgLFxuICAgIHNldDogZnVuY3Rpb24gc2V0KG4pIHtcbiAgICAgIG5vdyA9IG47XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgZGVmYXVsdCB0aW1lIHpvbmUgdG8gY3JlYXRlIERhdGVUaW1lcyBpbi4gRG9lcyBub3QgYWZmZWN0IGV4aXN0aW5nIGluc3RhbmNlcy5cbiAgICAgKiBVc2UgdGhlIHZhbHVlIFwic3lzdGVtXCIgdG8gcmVzZXQgdGhpcyB2YWx1ZSB0byB0aGUgc3lzdGVtJ3MgdGltZSB6b25lLlxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJkZWZhdWx0Wm9uZVwiLFxuICAgIGdldDpcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGRlZmF1bHQgdGltZSB6b25lIG9iamVjdCBjdXJyZW50bHkgdXNlZCB0byBjcmVhdGUgRGF0ZVRpbWVzLiBEb2VzIG5vdCBhZmZlY3QgZXhpc3RpbmcgaW5zdGFuY2VzLlxuICAgICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRoZSBzeXN0ZW0ncyB0aW1lIHpvbmUgKHRoZSBvbmUgc2V0IG9uIHRoZSBtYWNoaW5lIHRoYXQgcnVucyB0aGlzIGNvZGUpLlxuICAgICAqIEB0eXBlIHtab25lfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBub3JtYWxpemVab25lKGRlZmF1bHRab25lLCBTeXN0ZW1ab25lLmluc3RhbmNlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBkZWZhdWx0IGxvY2FsZSB0byBjcmVhdGUgRGF0ZVRpbWVzIHdpdGguIERvZXMgbm90IGFmZmVjdCBleGlzdGluZyBpbnN0YW5jZXMuXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICAsXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQoem9uZSkge1xuICAgICAgZGVmYXVsdFpvbmUgPSB6b25lO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJkZWZhdWx0TG9jYWxlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gZGVmYXVsdExvY2FsZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBkZWZhdWx0IGxvY2FsZSB0byBjcmVhdGUgRGF0ZVRpbWVzIHdpdGguIERvZXMgbm90IGFmZmVjdCBleGlzdGluZyBpbnN0YW5jZXMuXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICAsXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQobG9jYWxlKSB7XG4gICAgICBkZWZhdWx0TG9jYWxlID0gbG9jYWxlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGRlZmF1bHQgbnVtYmVyaW5nIHN5c3RlbSB0byBjcmVhdGUgRGF0ZVRpbWVzIHdpdGguIERvZXMgbm90IGFmZmVjdCBleGlzdGluZyBpbnN0YW5jZXMuXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImRlZmF1bHROdW1iZXJpbmdTeXN0ZW1cIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBkZWZhdWx0TnVtYmVyaW5nU3lzdGVtO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGRlZmF1bHQgbnVtYmVyaW5nIHN5c3RlbSB0byBjcmVhdGUgRGF0ZVRpbWVzIHdpdGguIERvZXMgbm90IGFmZmVjdCBleGlzdGluZyBpbnN0YW5jZXMuXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICAsXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQobnVtYmVyaW5nU3lzdGVtKSB7XG4gICAgICBkZWZhdWx0TnVtYmVyaW5nU3lzdGVtID0gbnVtYmVyaW5nU3lzdGVtO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGRlZmF1bHQgb3V0cHV0IGNhbGVuZGFyIHRvIGNyZWF0ZSBEYXRlVGltZXMgd2l0aC4gRG9lcyBub3QgYWZmZWN0IGV4aXN0aW5nIGluc3RhbmNlcy5cbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZGVmYXVsdE91dHB1dENhbGVuZGFyXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gZGVmYXVsdE91dHB1dENhbGVuZGFyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGRlZmF1bHQgb3V0cHV0IGNhbGVuZGFyIHRvIGNyZWF0ZSBEYXRlVGltZXMgd2l0aC4gRG9lcyBub3QgYWZmZWN0IGV4aXN0aW5nIGluc3RhbmNlcy5cbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgICxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChvdXRwdXRDYWxlbmRhcikge1xuICAgICAgZGVmYXVsdE91dHB1dENhbGVuZGFyID0gb3V0cHV0Q2FsZW5kYXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB3aGV0aGVyIEx1eG9uIHdpbGwgdGhyb3cgd2hlbiBpdCBlbmNvdW50ZXJzIGludmFsaWQgRGF0ZVRpbWVzLCBEdXJhdGlvbnMsIG9yIEludGVydmFsc1xuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidGhyb3dPbkludmFsaWRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aHJvd09uSW52YWxpZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHdoZXRoZXIgTHV4b24gd2lsbCB0aHJvdyB3aGVuIGl0IGVuY291bnRlcnMgaW52YWxpZCBEYXRlVGltZXMsIER1cmF0aW9ucywgb3IgSW50ZXJ2YWxzXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgLFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHQpIHtcbiAgICAgIHRocm93T25JbnZhbGlkID0gdDtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU2V0dGluZ3M7XG59KCk7XG5cbnZhciBfZXhjbHVkZWQgPSBbXCJiYXNlXCJdLFxuICAgIF9leGNsdWRlZDIgPSBbXCJwYWRUb1wiLCBcImZsb29yXCJdO1xuXG52YXIgaW50bExGQ2FjaGUgPSB7fTtcblxuZnVuY3Rpb24gZ2V0Q2FjaGVkTEYobG9jU3RyaW5nLCBvcHRzKSB7XG4gIGlmIChvcHRzID09PSB2b2lkIDApIHtcbiAgICBvcHRzID0ge307XG4gIH1cblxuICB2YXIga2V5ID0gSlNPTi5zdHJpbmdpZnkoW2xvY1N0cmluZywgb3B0c10pO1xuICB2YXIgZHRmID0gaW50bExGQ2FjaGVba2V5XTtcblxuICBpZiAoIWR0Zikge1xuICAgIGR0ZiA9IG5ldyBJbnRsLkxpc3RGb3JtYXQobG9jU3RyaW5nLCBvcHRzKTtcbiAgICBpbnRsTEZDYWNoZVtrZXldID0gZHRmO1xuICB9XG5cbiAgcmV0dXJuIGR0Zjtcbn1cblxudmFyIGludGxEVENhY2hlID0ge307XG5cbmZ1bmN0aW9uIGdldENhY2hlZERURihsb2NTdHJpbmcsIG9wdHMpIHtcbiAgaWYgKG9wdHMgPT09IHZvaWQgMCkge1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuXG4gIHZhciBrZXkgPSBKU09OLnN0cmluZ2lmeShbbG9jU3RyaW5nLCBvcHRzXSk7XG4gIHZhciBkdGYgPSBpbnRsRFRDYWNoZVtrZXldO1xuXG4gIGlmICghZHRmKSB7XG4gICAgZHRmID0gbmV3IEludGwuRGF0ZVRpbWVGb3JtYXQobG9jU3RyaW5nLCBvcHRzKTtcbiAgICBpbnRsRFRDYWNoZVtrZXldID0gZHRmO1xuICB9XG5cbiAgcmV0dXJuIGR0Zjtcbn1cblxudmFyIGludGxOdW1DYWNoZSA9IHt9O1xuXG5mdW5jdGlvbiBnZXRDYWNoZWRJTkYobG9jU3RyaW5nLCBvcHRzKSB7XG4gIGlmIChvcHRzID09PSB2b2lkIDApIHtcbiAgICBvcHRzID0ge307XG4gIH1cblxuICB2YXIga2V5ID0gSlNPTi5zdHJpbmdpZnkoW2xvY1N0cmluZywgb3B0c10pO1xuICB2YXIgaW5mID0gaW50bE51bUNhY2hlW2tleV07XG5cbiAgaWYgKCFpbmYpIHtcbiAgICBpbmYgPSBuZXcgSW50bC5OdW1iZXJGb3JtYXQobG9jU3RyaW5nLCBvcHRzKTtcbiAgICBpbnRsTnVtQ2FjaGVba2V5XSA9IGluZjtcbiAgfVxuXG4gIHJldHVybiBpbmY7XG59XG5cbnZhciBpbnRsUmVsQ2FjaGUgPSB7fTtcblxuZnVuY3Rpb24gZ2V0Q2FjaGVkUlRGKGxvY1N0cmluZywgb3B0cykge1xuICBpZiAob3B0cyA9PT0gdm9pZCAwKSB7XG4gICAgb3B0cyA9IHt9O1xuICB9XG5cbiAgdmFyIF9vcHRzID0gb3B0cztcbiAgICAgIF9vcHRzLmJhc2U7XG4gICAgICB2YXIgY2FjaGVLZXlPcHRzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX29wdHMsIF9leGNsdWRlZCk7IC8vIGV4Y2x1ZGUgYGJhc2VgIGZyb20gdGhlIG9wdGlvbnNcblxuXG4gIHZhciBrZXkgPSBKU09OLnN0cmluZ2lmeShbbG9jU3RyaW5nLCBjYWNoZUtleU9wdHNdKTtcbiAgdmFyIGluZiA9IGludGxSZWxDYWNoZVtrZXldO1xuXG4gIGlmICghaW5mKSB7XG4gICAgaW5mID0gbmV3IEludGwuUmVsYXRpdmVUaW1lRm9ybWF0KGxvY1N0cmluZywgb3B0cyk7XG4gICAgaW50bFJlbENhY2hlW2tleV0gPSBpbmY7XG4gIH1cblxuICByZXR1cm4gaW5mO1xufVxuXG52YXIgc3lzTG9jYWxlQ2FjaGUgPSBudWxsO1xuXG5mdW5jdGlvbiBzeXN0ZW1Mb2NhbGUoKSB7XG4gIGlmIChzeXNMb2NhbGVDYWNoZSkge1xuICAgIHJldHVybiBzeXNMb2NhbGVDYWNoZTtcbiAgfSBlbHNlIHtcbiAgICBzeXNMb2NhbGVDYWNoZSA9IG5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KCkucmVzb2x2ZWRPcHRpb25zKCkubG9jYWxlO1xuICAgIHJldHVybiBzeXNMb2NhbGVDYWNoZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwYXJzZUxvY2FsZVN0cmluZyhsb2NhbGVTdHIpIHtcbiAgLy8gSSByZWFsbHkgd2FudCB0byBhdm9pZCB3cml0aW5nIGEgQkNQIDQ3IHBhcnNlclxuICAvLyBzZWUsIGUuZy4gaHR0cHM6Ly9naXRodWIuY29tL3dvb29ybS9iY3AtNDdcbiAgLy8gSW5zdGVhZCwgd2UnbGwgZG8gdGhpczpcbiAgLy8gYSkgaWYgdGhlIHN0cmluZyBoYXMgbm8gLXUgZXh0ZW5zaW9ucywganVzdCBsZWF2ZSBpdCBhbG9uZVxuICAvLyBiKSBpZiBpdCBkb2VzLCB1c2UgSW50bCB0byByZXNvbHZlIGV2ZXJ5dGhpbmdcbiAgLy8gYykgaWYgSW50bCBmYWlscywgdHJ5IGFnYWluIHdpdGhvdXQgdGhlIC11XG4gIHZhciB1SW5kZXggPSBsb2NhbGVTdHIuaW5kZXhPZihcIi11LVwiKTtcblxuICBpZiAodUluZGV4ID09PSAtMSkge1xuICAgIHJldHVybiBbbG9jYWxlU3RyXTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgb3B0aW9ucztcbiAgICB2YXIgc21hbGxlciA9IGxvY2FsZVN0ci5zdWJzdHJpbmcoMCwgdUluZGV4KTtcblxuICAgIHRyeSB7XG4gICAgICBvcHRpb25zID0gZ2V0Q2FjaGVkRFRGKGxvY2FsZVN0cikucmVzb2x2ZWRPcHRpb25zKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgb3B0aW9ucyA9IGdldENhY2hlZERURihzbWFsbGVyKS5yZXNvbHZlZE9wdGlvbnMoKTtcbiAgICB9XG5cbiAgICB2YXIgX29wdGlvbnMgPSBvcHRpb25zLFxuICAgICAgICBudW1iZXJpbmdTeXN0ZW0gPSBfb3B0aW9ucy5udW1iZXJpbmdTeXN0ZW0sXG4gICAgICAgIGNhbGVuZGFyID0gX29wdGlvbnMuY2FsZW5kYXI7IC8vIHJldHVybiB0aGUgc21hbGxlciBvbmUgc28gdGhhdCB3ZSBjYW4gYXBwZW5kIHRoZSBjYWxlbmRhciBhbmQgbnVtYmVyaW5nIG92ZXJyaWRlcyB0byBpdFxuXG4gICAgcmV0dXJuIFtzbWFsbGVyLCBudW1iZXJpbmdTeXN0ZW0sIGNhbGVuZGFyXTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbnRsQ29uZmlnU3RyaW5nKGxvY2FsZVN0ciwgbnVtYmVyaW5nU3lzdGVtLCBvdXRwdXRDYWxlbmRhcikge1xuICBpZiAob3V0cHV0Q2FsZW5kYXIgfHwgbnVtYmVyaW5nU3lzdGVtKSB7XG4gICAgbG9jYWxlU3RyICs9IFwiLXVcIjtcblxuICAgIGlmIChvdXRwdXRDYWxlbmRhcikge1xuICAgICAgbG9jYWxlU3RyICs9IFwiLWNhLVwiICsgb3V0cHV0Q2FsZW5kYXI7XG4gICAgfVxuXG4gICAgaWYgKG51bWJlcmluZ1N5c3RlbSkge1xuICAgICAgbG9jYWxlU3RyICs9IFwiLW51LVwiICsgbnVtYmVyaW5nU3lzdGVtO1xuICAgIH1cblxuICAgIHJldHVybiBsb2NhbGVTdHI7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGxvY2FsZVN0cjtcbiAgfVxufVxuXG5mdW5jdGlvbiBtYXBNb250aHMoZikge1xuICB2YXIgbXMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMTsgaSA8PSAxMjsgaSsrKSB7XG4gICAgdmFyIGR0ID0gRGF0ZVRpbWUudXRjKDIwMTYsIGksIDEpO1xuICAgIG1zLnB1c2goZihkdCkpO1xuICB9XG5cbiAgcmV0dXJuIG1zO1xufVxuXG5mdW5jdGlvbiBtYXBXZWVrZGF5cyhmKSB7XG4gIHZhciBtcyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAxOyBpIDw9IDc7IGkrKykge1xuICAgIHZhciBkdCA9IERhdGVUaW1lLnV0YygyMDE2LCAxMSwgMTMgKyBpKTtcbiAgICBtcy5wdXNoKGYoZHQpKTtcbiAgfVxuXG4gIHJldHVybiBtcztcbn1cblxuZnVuY3Rpb24gbGlzdFN0dWZmKGxvYywgbGVuZ3RoLCBkZWZhdWx0T0ssIGVuZ2xpc2hGbiwgaW50bEZuKSB7XG4gIHZhciBtb2RlID0gbG9jLmxpc3RpbmdNb2RlKGRlZmF1bHRPSyk7XG5cbiAgaWYgKG1vZGUgPT09IFwiZXJyb3JcIikge1xuICAgIHJldHVybiBudWxsO1xuICB9IGVsc2UgaWYgKG1vZGUgPT09IFwiZW5cIikge1xuICAgIHJldHVybiBlbmdsaXNoRm4obGVuZ3RoKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gaW50bEZuKGxlbmd0aCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3VwcG9ydHNGYXN0TnVtYmVycyhsb2MpIHtcbiAgaWYgKGxvYy5udW1iZXJpbmdTeXN0ZW0gJiYgbG9jLm51bWJlcmluZ1N5c3RlbSAhPT0gXCJsYXRuXCIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGxvYy5udW1iZXJpbmdTeXN0ZW0gPT09IFwibGF0blwiIHx8ICFsb2MubG9jYWxlIHx8IGxvYy5sb2NhbGUuc3RhcnRzV2l0aChcImVuXCIpIHx8IG5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KGxvYy5pbnRsKS5yZXNvbHZlZE9wdGlvbnMoKS5udW1iZXJpbmdTeXN0ZW0gPT09IFwibGF0blwiO1xuICB9XG59XG4vKipcbiAqIEBwcml2YXRlXG4gKi9cblxuXG52YXIgUG9seU51bWJlckZvcm1hdHRlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFBvbHlOdW1iZXJGb3JtYXR0ZXIoaW50bCwgZm9yY2VTaW1wbGUsIG9wdHMpIHtcbiAgICB0aGlzLnBhZFRvID0gb3B0cy5wYWRUbyB8fCAwO1xuICAgIHRoaXMuZmxvb3IgPSBvcHRzLmZsb29yIHx8IGZhbHNlO1xuXG4gICAgb3B0cy5wYWRUbztcbiAgICAgICAgb3B0cy5mbG9vcjtcbiAgICAgICAgdmFyIG90aGVyT3B0cyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKG9wdHMsIF9leGNsdWRlZDIpO1xuXG4gICAgaWYgKCFmb3JjZVNpbXBsZSB8fCBPYmplY3Qua2V5cyhvdGhlck9wdHMpLmxlbmd0aCA+IDApIHtcbiAgICAgIHZhciBpbnRsT3B0cyA9IF9leHRlbmRzKHtcbiAgICAgICAgdXNlR3JvdXBpbmc6IGZhbHNlXG4gICAgICB9LCBvcHRzKTtcblxuICAgICAgaWYgKG9wdHMucGFkVG8gPiAwKSBpbnRsT3B0cy5taW5pbXVtSW50ZWdlckRpZ2l0cyA9IG9wdHMucGFkVG87XG4gICAgICB0aGlzLmluZiA9IGdldENhY2hlZElORihpbnRsLCBpbnRsT3B0cyk7XG4gICAgfVxuICB9XG5cbiAgdmFyIF9wcm90byA9IFBvbHlOdW1iZXJGb3JtYXR0ZXIucHJvdG90eXBlO1xuXG4gIF9wcm90by5mb3JtYXQgPSBmdW5jdGlvbiBmb3JtYXQoaSkge1xuICAgIGlmICh0aGlzLmluZikge1xuICAgICAgdmFyIGZpeGVkID0gdGhpcy5mbG9vciA/IE1hdGguZmxvb3IoaSkgOiBpO1xuICAgICAgcmV0dXJuIHRoaXMuaW5mLmZvcm1hdChmaXhlZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHRvIG1hdGNoIHRoZSBicm93c2VyJ3MgbnVtYmVyZm9ybWF0dGVyIGRlZmF1bHRzXG4gICAgICB2YXIgX2ZpeGVkID0gdGhpcy5mbG9vciA/IE1hdGguZmxvb3IoaSkgOiByb3VuZFRvKGksIDMpO1xuXG4gICAgICByZXR1cm4gcGFkU3RhcnQoX2ZpeGVkLCB0aGlzLnBhZFRvKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIFBvbHlOdW1iZXJGb3JtYXR0ZXI7XG59KCk7XG4vKipcbiAqIEBwcml2YXRlXG4gKi9cblxuXG52YXIgUG9seURhdGVGb3JtYXR0ZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBQb2x5RGF0ZUZvcm1hdHRlcihkdCwgaW50bCwgb3B0cykge1xuICAgIHRoaXMub3B0cyA9IG9wdHM7XG4gICAgdmFyIHo7XG5cbiAgICBpZiAoZHQuem9uZS5pc1VuaXZlcnNhbCkge1xuICAgICAgLy8gVVRDLTggb3IgRXRjL1VUQy04IGFyZSBub3QgcGFydCBvZiB0emRhdGEsIG9ubHkgRXRjL0dNVCs4IGFuZCB0aGUgbGlrZS5cbiAgICAgIC8vIFRoYXQgaXMgd2h5IGZpeGVkLW9mZnNldCBUWiBpcyBzZXQgdG8gdGhhdCB1bmxlc3MgaXQgaXM6XG4gICAgICAvLyAxLiBSZXByZXNlbnRpbmcgb2Zmc2V0IDAgd2hlbiBVVEMgaXMgdXNlZCB0byBtYWludGFpbiBwcmV2aW91cyBiZWhhdmlvciBhbmQgZG9lcyBub3QgYmVjb21lIEdNVC5cbiAgICAgIC8vIDIuIFVuc3VwcG9ydGVkIGJ5IHRoZSBicm93c2VyOlxuICAgICAgLy8gICAgLSBzb21lIGRvIG5vdCBzdXBwb3J0IEV0Yy9cbiAgICAgIC8vICAgIC0gPCBFdGMvR01ULTE0LCA+IEV0Yy9HTVQrMTIsIGFuZCAzMC1taW51dGUgb3IgNDUtbWludXRlIG9mZnNldHMgYXJlIG5vdCBwYXJ0IG9mIHR6ZGF0YVxuICAgICAgdmFyIGdtdE9mZnNldCA9IC0xICogKGR0Lm9mZnNldCAvIDYwKTtcbiAgICAgIHZhciBvZmZzZXRaID0gZ210T2Zmc2V0ID49IDAgPyBcIkV0Yy9HTVQrXCIgKyBnbXRPZmZzZXQgOiBcIkV0Yy9HTVRcIiArIGdtdE9mZnNldDtcblxuICAgICAgaWYgKGR0Lm9mZnNldCAhPT0gMCAmJiBJQU5BWm9uZS5jcmVhdGUob2Zmc2V0WikudmFsaWQpIHtcbiAgICAgICAgeiA9IG9mZnNldFo7XG4gICAgICAgIHRoaXMuZHQgPSBkdDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE5vdCBhbGwgZml4ZWQtb2Zmc2V0IHpvbmVzIGxpa2UgRXRjLys0OjMwIGFyZSBwcmVzZW50IGluIHR6ZGF0YS5cbiAgICAgICAgLy8gU28gd2UgaGF2ZSB0byBtYWtlIGRvLiBUd28gY2FzZXM6XG4gICAgICAgIC8vIDEuIFRoZSBmb3JtYXQgb3B0aW9ucyB0ZWxsIHVzIHRvIHNob3cgdGhlIHpvbmUuIFdlIGNhbid0IGRvIHRoYXQsIHNvIHRoZSBiZXN0XG4gICAgICAgIC8vIHdlIGNhbiBkbyBpcyBmb3JtYXQgdGhlIGRhdGUgaW4gVVRDLlxuICAgICAgICAvLyAyLiBUaGUgZm9ybWF0IG9wdGlvbnMgZG9uJ3QgdGVsbCB1cyB0byBzaG93IHRoZSB6b25lLiBUaGVuIHdlIGNhbiBhZGp1c3QgdGhlbVxuICAgICAgICAvLyB0aGUgdGltZSBhbmQgdGVsbCB0aGUgZm9ybWF0dGVyIHRvIHNob3cgaXQgdG8gdXMgaW4gVVRDLCBzbyB0aGF0IHRoZSB0aW1lIGlzIHJpZ2h0XG4gICAgICAgIC8vIGFuZCB0aGUgYmFkIHpvbmUgZG9lc24ndCBzaG93IHVwLlxuICAgICAgICB6ID0gXCJVVENcIjtcblxuICAgICAgICBpZiAob3B0cy50aW1lWm9uZU5hbWUpIHtcbiAgICAgICAgICB0aGlzLmR0ID0gZHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5kdCA9IGR0Lm9mZnNldCA9PT0gMCA/IGR0IDogRGF0ZVRpbWUuZnJvbU1pbGxpcyhkdC50cyArIGR0Lm9mZnNldCAqIDYwICogMTAwMCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGR0LnpvbmUudHlwZSA9PT0gXCJzeXN0ZW1cIikge1xuICAgICAgdGhpcy5kdCA9IGR0O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmR0ID0gZHQ7XG4gICAgICB6ID0gZHQuem9uZS5uYW1lO1xuICAgIH1cblxuICAgIHZhciBpbnRsT3B0cyA9IF9leHRlbmRzKHt9LCB0aGlzLm9wdHMpO1xuXG4gICAgaWYgKHopIHtcbiAgICAgIGludGxPcHRzLnRpbWVab25lID0gejtcbiAgICB9XG5cbiAgICB0aGlzLmR0ZiA9IGdldENhY2hlZERURihpbnRsLCBpbnRsT3B0cyk7XG4gIH1cblxuICB2YXIgX3Byb3RvMiA9IFBvbHlEYXRlRm9ybWF0dGVyLnByb3RvdHlwZTtcblxuICBfcHJvdG8yLmZvcm1hdCA9IGZ1bmN0aW9uIGZvcm1hdCgpIHtcbiAgICByZXR1cm4gdGhpcy5kdGYuZm9ybWF0KHRoaXMuZHQudG9KU0RhdGUoKSk7XG4gIH07XG5cbiAgX3Byb3RvMi5mb3JtYXRUb1BhcnRzID0gZnVuY3Rpb24gZm9ybWF0VG9QYXJ0cygpIHtcbiAgICByZXR1cm4gdGhpcy5kdGYuZm9ybWF0VG9QYXJ0cyh0aGlzLmR0LnRvSlNEYXRlKCkpO1xuICB9O1xuXG4gIF9wcm90bzIucmVzb2x2ZWRPcHRpb25zID0gZnVuY3Rpb24gcmVzb2x2ZWRPcHRpb25zKCkge1xuICAgIHJldHVybiB0aGlzLmR0Zi5yZXNvbHZlZE9wdGlvbnMoKTtcbiAgfTtcblxuICByZXR1cm4gUG9seURhdGVGb3JtYXR0ZXI7XG59KCk7XG4vKipcbiAqIEBwcml2YXRlXG4gKi9cblxuXG52YXIgUG9seVJlbEZvcm1hdHRlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFBvbHlSZWxGb3JtYXR0ZXIoaW50bCwgaXNFbmdsaXNoLCBvcHRzKSB7XG4gICAgdGhpcy5vcHRzID0gX2V4dGVuZHMoe1xuICAgICAgc3R5bGU6IFwibG9uZ1wiXG4gICAgfSwgb3B0cyk7XG5cbiAgICBpZiAoIWlzRW5nbGlzaCAmJiBoYXNSZWxhdGl2ZSgpKSB7XG4gICAgICB0aGlzLnJ0ZiA9IGdldENhY2hlZFJURihpbnRsLCBvcHRzKTtcbiAgICB9XG4gIH1cblxuICB2YXIgX3Byb3RvMyA9IFBvbHlSZWxGb3JtYXR0ZXIucHJvdG90eXBlO1xuXG4gIF9wcm90bzMuZm9ybWF0ID0gZnVuY3Rpb24gZm9ybWF0KGNvdW50LCB1bml0KSB7XG4gICAgaWYgKHRoaXMucnRmKSB7XG4gICAgICByZXR1cm4gdGhpcy5ydGYuZm9ybWF0KGNvdW50LCB1bml0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZvcm1hdFJlbGF0aXZlVGltZSh1bml0LCBjb3VudCwgdGhpcy5vcHRzLm51bWVyaWMsIHRoaXMub3B0cy5zdHlsZSAhPT0gXCJsb25nXCIpO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8zLmZvcm1hdFRvUGFydHMgPSBmdW5jdGlvbiBmb3JtYXRUb1BhcnRzKGNvdW50LCB1bml0KSB7XG4gICAgaWYgKHRoaXMucnRmKSB7XG4gICAgICByZXR1cm4gdGhpcy5ydGYuZm9ybWF0VG9QYXJ0cyhjb3VudCwgdW5pdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIFBvbHlSZWxGb3JtYXR0ZXI7XG59KCk7XG4vKipcbiAqIEBwcml2YXRlXG4gKi9cblxuXG52YXIgTG9jYWxlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgTG9jYWxlLmZyb21PcHRzID0gZnVuY3Rpb24gZnJvbU9wdHMob3B0cykge1xuICAgIHJldHVybiBMb2NhbGUuY3JlYXRlKG9wdHMubG9jYWxlLCBvcHRzLm51bWJlcmluZ1N5c3RlbSwgb3B0cy5vdXRwdXRDYWxlbmRhciwgb3B0cy5kZWZhdWx0VG9FTik7XG4gIH07XG5cbiAgTG9jYWxlLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShsb2NhbGUsIG51bWJlcmluZ1N5c3RlbSwgb3V0cHV0Q2FsZW5kYXIsIGRlZmF1bHRUb0VOKSB7XG4gICAgaWYgKGRlZmF1bHRUb0VOID09PSB2b2lkIDApIHtcbiAgICAgIGRlZmF1bHRUb0VOID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIHNwZWNpZmllZExvY2FsZSA9IGxvY2FsZSB8fCBTZXR0aW5ncy5kZWZhdWx0TG9jYWxlOyAvLyB0aGUgc3lzdGVtIGxvY2FsZSBpcyB1c2VmdWwgZm9yIGh1bWFuIHJlYWRhYmxlIHN0cmluZ3MgYnV0IGFubm95aW5nIGZvciBwYXJzaW5nL2Zvcm1hdHRpbmcga25vd24gZm9ybWF0c1xuXG4gICAgdmFyIGxvY2FsZVIgPSBzcGVjaWZpZWRMb2NhbGUgfHwgKGRlZmF1bHRUb0VOID8gXCJlbi1VU1wiIDogc3lzdGVtTG9jYWxlKCkpO1xuICAgIHZhciBudW1iZXJpbmdTeXN0ZW1SID0gbnVtYmVyaW5nU3lzdGVtIHx8IFNldHRpbmdzLmRlZmF1bHROdW1iZXJpbmdTeXN0ZW07XG4gICAgdmFyIG91dHB1dENhbGVuZGFyUiA9IG91dHB1dENhbGVuZGFyIHx8IFNldHRpbmdzLmRlZmF1bHRPdXRwdXRDYWxlbmRhcjtcbiAgICByZXR1cm4gbmV3IExvY2FsZShsb2NhbGVSLCBudW1iZXJpbmdTeXN0ZW1SLCBvdXRwdXRDYWxlbmRhclIsIHNwZWNpZmllZExvY2FsZSk7XG4gIH07XG5cbiAgTG9jYWxlLnJlc2V0Q2FjaGUgPSBmdW5jdGlvbiByZXNldENhY2hlKCkge1xuICAgIHN5c0xvY2FsZUNhY2hlID0gbnVsbDtcbiAgICBpbnRsRFRDYWNoZSA9IHt9O1xuICAgIGludGxOdW1DYWNoZSA9IHt9O1xuICAgIGludGxSZWxDYWNoZSA9IHt9O1xuICB9O1xuXG4gIExvY2FsZS5mcm9tT2JqZWN0ID0gZnVuY3Rpb24gZnJvbU9iamVjdChfdGVtcCkge1xuICAgIHZhciBfcmVmID0gX3RlbXAgPT09IHZvaWQgMCA/IHt9IDogX3RlbXAsXG4gICAgICAgIGxvY2FsZSA9IF9yZWYubG9jYWxlLFxuICAgICAgICBudW1iZXJpbmdTeXN0ZW0gPSBfcmVmLm51bWJlcmluZ1N5c3RlbSxcbiAgICAgICAgb3V0cHV0Q2FsZW5kYXIgPSBfcmVmLm91dHB1dENhbGVuZGFyO1xuXG4gICAgcmV0dXJuIExvY2FsZS5jcmVhdGUobG9jYWxlLCBudW1iZXJpbmdTeXN0ZW0sIG91dHB1dENhbGVuZGFyKTtcbiAgfTtcblxuICBmdW5jdGlvbiBMb2NhbGUobG9jYWxlLCBudW1iZXJpbmcsIG91dHB1dENhbGVuZGFyLCBzcGVjaWZpZWRMb2NhbGUpIHtcbiAgICB2YXIgX3BhcnNlTG9jYWxlU3RyaW5nID0gcGFyc2VMb2NhbGVTdHJpbmcobG9jYWxlKSxcbiAgICAgICAgcGFyc2VkTG9jYWxlID0gX3BhcnNlTG9jYWxlU3RyaW5nWzBdLFxuICAgICAgICBwYXJzZWROdW1iZXJpbmdTeXN0ZW0gPSBfcGFyc2VMb2NhbGVTdHJpbmdbMV0sXG4gICAgICAgIHBhcnNlZE91dHB1dENhbGVuZGFyID0gX3BhcnNlTG9jYWxlU3RyaW5nWzJdO1xuXG4gICAgdGhpcy5sb2NhbGUgPSBwYXJzZWRMb2NhbGU7XG4gICAgdGhpcy5udW1iZXJpbmdTeXN0ZW0gPSBudW1iZXJpbmcgfHwgcGFyc2VkTnVtYmVyaW5nU3lzdGVtIHx8IG51bGw7XG4gICAgdGhpcy5vdXRwdXRDYWxlbmRhciA9IG91dHB1dENhbGVuZGFyIHx8IHBhcnNlZE91dHB1dENhbGVuZGFyIHx8IG51bGw7XG4gICAgdGhpcy5pbnRsID0gaW50bENvbmZpZ1N0cmluZyh0aGlzLmxvY2FsZSwgdGhpcy5udW1iZXJpbmdTeXN0ZW0sIHRoaXMub3V0cHV0Q2FsZW5kYXIpO1xuICAgIHRoaXMud2Vla2RheXNDYWNoZSA9IHtcbiAgICAgIGZvcm1hdDoge30sXG4gICAgICBzdGFuZGFsb25lOiB7fVxuICAgIH07XG4gICAgdGhpcy5tb250aHNDYWNoZSA9IHtcbiAgICAgIGZvcm1hdDoge30sXG4gICAgICBzdGFuZGFsb25lOiB7fVxuICAgIH07XG4gICAgdGhpcy5tZXJpZGllbUNhY2hlID0gbnVsbDtcbiAgICB0aGlzLmVyYUNhY2hlID0ge307XG4gICAgdGhpcy5zcGVjaWZpZWRMb2NhbGUgPSBzcGVjaWZpZWRMb2NhbGU7XG4gICAgdGhpcy5mYXN0TnVtYmVyc0NhY2hlZCA9IG51bGw7XG4gIH1cblxuICB2YXIgX3Byb3RvNCA9IExvY2FsZS5wcm90b3R5cGU7XG5cbiAgX3Byb3RvNC5saXN0aW5nTW9kZSA9IGZ1bmN0aW9uIGxpc3RpbmdNb2RlKCkge1xuICAgIHZhciBpc0FjdHVhbGx5RW4gPSB0aGlzLmlzRW5nbGlzaCgpO1xuICAgIHZhciBoYXNOb1dlaXJkbmVzcyA9ICh0aGlzLm51bWJlcmluZ1N5c3RlbSA9PT0gbnVsbCB8fCB0aGlzLm51bWJlcmluZ1N5c3RlbSA9PT0gXCJsYXRuXCIpICYmICh0aGlzLm91dHB1dENhbGVuZGFyID09PSBudWxsIHx8IHRoaXMub3V0cHV0Q2FsZW5kYXIgPT09IFwiZ3JlZ29yeVwiKTtcbiAgICByZXR1cm4gaXNBY3R1YWxseUVuICYmIGhhc05vV2VpcmRuZXNzID8gXCJlblwiIDogXCJpbnRsXCI7XG4gIH07XG5cbiAgX3Byb3RvNC5jbG9uZSA9IGZ1bmN0aW9uIGNsb25lKGFsdHMpIHtcbiAgICBpZiAoIWFsdHMgfHwgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYWx0cykubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIExvY2FsZS5jcmVhdGUoYWx0cy5sb2NhbGUgfHwgdGhpcy5zcGVjaWZpZWRMb2NhbGUsIGFsdHMubnVtYmVyaW5nU3lzdGVtIHx8IHRoaXMubnVtYmVyaW5nU3lzdGVtLCBhbHRzLm91dHB1dENhbGVuZGFyIHx8IHRoaXMub3V0cHV0Q2FsZW5kYXIsIGFsdHMuZGVmYXVsdFRvRU4gfHwgZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG80LnJlZGVmYXVsdFRvRU4gPSBmdW5jdGlvbiByZWRlZmF1bHRUb0VOKGFsdHMpIHtcbiAgICBpZiAoYWx0cyA9PT0gdm9pZCAwKSB7XG4gICAgICBhbHRzID0ge307XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuY2xvbmUoX2V4dGVuZHMoe30sIGFsdHMsIHtcbiAgICAgIGRlZmF1bHRUb0VOOiB0cnVlXG4gICAgfSkpO1xuICB9O1xuXG4gIF9wcm90bzQucmVkZWZhdWx0VG9TeXN0ZW0gPSBmdW5jdGlvbiByZWRlZmF1bHRUb1N5c3RlbShhbHRzKSB7XG4gICAgaWYgKGFsdHMgPT09IHZvaWQgMCkge1xuICAgICAgYWx0cyA9IHt9O1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmNsb25lKF9leHRlbmRzKHt9LCBhbHRzLCB7XG4gICAgICBkZWZhdWx0VG9FTjogZmFsc2VcbiAgICB9KSk7XG4gIH07XG5cbiAgX3Byb3RvNC5tb250aHMgPSBmdW5jdGlvbiBtb250aHMkMShsZW5ndGgsIGZvcm1hdCwgZGVmYXVsdE9LKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGlmIChmb3JtYXQgPT09IHZvaWQgMCkge1xuICAgICAgZm9ybWF0ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKGRlZmF1bHRPSyA9PT0gdm9pZCAwKSB7XG4gICAgICBkZWZhdWx0T0sgPSB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBsaXN0U3R1ZmYodGhpcywgbGVuZ3RoLCBkZWZhdWx0T0ssIG1vbnRocywgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGludGwgPSBmb3JtYXQgPyB7XG4gICAgICAgIG1vbnRoOiBsZW5ndGgsXG4gICAgICAgIGRheTogXCJudW1lcmljXCJcbiAgICAgIH0gOiB7XG4gICAgICAgIG1vbnRoOiBsZW5ndGhcbiAgICAgIH0sXG4gICAgICAgICAgZm9ybWF0U3RyID0gZm9ybWF0ID8gXCJmb3JtYXRcIiA6IFwic3RhbmRhbG9uZVwiO1xuXG4gICAgICBpZiAoIV90aGlzLm1vbnRoc0NhY2hlW2Zvcm1hdFN0cl1bbGVuZ3RoXSkge1xuICAgICAgICBfdGhpcy5tb250aHNDYWNoZVtmb3JtYXRTdHJdW2xlbmd0aF0gPSBtYXBNb250aHMoZnVuY3Rpb24gKGR0KSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLmV4dHJhY3QoZHQsIGludGwsIFwibW9udGhcIik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3RoaXMubW9udGhzQ2FjaGVbZm9ybWF0U3RyXVtsZW5ndGhdO1xuICAgIH0pO1xuICB9O1xuXG4gIF9wcm90bzQud2Vla2RheXMgPSBmdW5jdGlvbiB3ZWVrZGF5cyQxKGxlbmd0aCwgZm9ybWF0LCBkZWZhdWx0T0spIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIGlmIChmb3JtYXQgPT09IHZvaWQgMCkge1xuICAgICAgZm9ybWF0ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKGRlZmF1bHRPSyA9PT0gdm9pZCAwKSB7XG4gICAgICBkZWZhdWx0T0sgPSB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBsaXN0U3R1ZmYodGhpcywgbGVuZ3RoLCBkZWZhdWx0T0ssIHdlZWtkYXlzLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgaW50bCA9IGZvcm1hdCA/IHtcbiAgICAgICAgd2Vla2RheTogbGVuZ3RoLFxuICAgICAgICB5ZWFyOiBcIm51bWVyaWNcIixcbiAgICAgICAgbW9udGg6IFwibG9uZ1wiLFxuICAgICAgICBkYXk6IFwibnVtZXJpY1wiXG4gICAgICB9IDoge1xuICAgICAgICB3ZWVrZGF5OiBsZW5ndGhcbiAgICAgIH0sXG4gICAgICAgICAgZm9ybWF0U3RyID0gZm9ybWF0ID8gXCJmb3JtYXRcIiA6IFwic3RhbmRhbG9uZVwiO1xuXG4gICAgICBpZiAoIV90aGlzMi53ZWVrZGF5c0NhY2hlW2Zvcm1hdFN0cl1bbGVuZ3RoXSkge1xuICAgICAgICBfdGhpczIud2Vla2RheXNDYWNoZVtmb3JtYXRTdHJdW2xlbmd0aF0gPSBtYXBXZWVrZGF5cyhmdW5jdGlvbiAoZHQpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMyLmV4dHJhY3QoZHQsIGludGwsIFwid2Vla2RheVwiKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfdGhpczIud2Vla2RheXNDYWNoZVtmb3JtYXRTdHJdW2xlbmd0aF07XG4gICAgfSk7XG4gIH07XG5cbiAgX3Byb3RvNC5tZXJpZGllbXMgPSBmdW5jdGlvbiBtZXJpZGllbXMkMShkZWZhdWx0T0spIHtcbiAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgIGlmIChkZWZhdWx0T0sgPT09IHZvaWQgMCkge1xuICAgICAgZGVmYXVsdE9LID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gbGlzdFN0dWZmKHRoaXMsIHVuZGVmaW5lZCwgZGVmYXVsdE9LLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbWVyaWRpZW1zO1xuICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIEluIHRoZW9yeSB0aGVyZSBjb3VsZCBiZSBhcmliaXRyYXJ5IGRheSBwZXJpb2RzLiBXZSdyZSBnb25uYSBhc3N1bWUgdGhlcmUgYXJlIGV4YWN0bHkgdHdvXG4gICAgICAvLyBmb3IgQU0gYW5kIFBNLiBUaGlzIGlzIHByb2JhYmx5IHdyb25nLCBidXQgaXQncyBtYWtlcyBwYXJzaW5nIHdheSBlYXNpZXIuXG4gICAgICBpZiAoIV90aGlzMy5tZXJpZGllbUNhY2hlKSB7XG4gICAgICAgIHZhciBpbnRsID0ge1xuICAgICAgICAgIGhvdXI6IFwibnVtZXJpY1wiLFxuICAgICAgICAgIGhvdXJDeWNsZTogXCJoMTJcIlxuICAgICAgICB9O1xuICAgICAgICBfdGhpczMubWVyaWRpZW1DYWNoZSA9IFtEYXRlVGltZS51dGMoMjAxNiwgMTEsIDEzLCA5KSwgRGF0ZVRpbWUudXRjKDIwMTYsIDExLCAxMywgMTkpXS5tYXAoZnVuY3Rpb24gKGR0KSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMy5leHRyYWN0KGR0LCBpbnRsLCBcImRheXBlcmlvZFwiKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfdGhpczMubWVyaWRpZW1DYWNoZTtcbiAgICB9KTtcbiAgfTtcblxuICBfcHJvdG80LmVyYXMgPSBmdW5jdGlvbiBlcmFzJDEobGVuZ3RoLCBkZWZhdWx0T0spIHtcbiAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgIGlmIChkZWZhdWx0T0sgPT09IHZvaWQgMCkge1xuICAgICAgZGVmYXVsdE9LID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gbGlzdFN0dWZmKHRoaXMsIGxlbmd0aCwgZGVmYXVsdE9LLCBlcmFzLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgaW50bCA9IHtcbiAgICAgICAgZXJhOiBsZW5ndGhcbiAgICAgIH07IC8vIFRoaXMgaXMgcHJvYmxlbWF0aWMuIERpZmZlcmVudCBjYWxlbmRhcnMgYXJlIGdvaW5nIHRvIGRlZmluZSBlcmFzIHRvdGFsbHkgZGlmZmVyZW50bHkuIFdoYXQgSSBuZWVkIGlzIHRoZSBtaW5pbXVtIHNldCBvZiBkYXRlc1xuICAgICAgLy8gdG8gZGVmaW5pdGVseSBlbnVtZXJhdGUgdGhlbS5cblxuICAgICAgaWYgKCFfdGhpczQuZXJhQ2FjaGVbbGVuZ3RoXSkge1xuICAgICAgICBfdGhpczQuZXJhQ2FjaGVbbGVuZ3RoXSA9IFtEYXRlVGltZS51dGMoLTQwLCAxLCAxKSwgRGF0ZVRpbWUudXRjKDIwMTcsIDEsIDEpXS5tYXAoZnVuY3Rpb24gKGR0KSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzNC5leHRyYWN0KGR0LCBpbnRsLCBcImVyYVwiKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfdGhpczQuZXJhQ2FjaGVbbGVuZ3RoXTtcbiAgICB9KTtcbiAgfTtcblxuICBfcHJvdG80LmV4dHJhY3QgPSBmdW5jdGlvbiBleHRyYWN0KGR0LCBpbnRsT3B0cywgZmllbGQpIHtcbiAgICB2YXIgZGYgPSB0aGlzLmR0Rm9ybWF0dGVyKGR0LCBpbnRsT3B0cyksXG4gICAgICAgIHJlc3VsdHMgPSBkZi5mb3JtYXRUb1BhcnRzKCksXG4gICAgICAgIG1hdGNoaW5nID0gcmVzdWx0cy5maW5kKGZ1bmN0aW9uIChtKSB7XG4gICAgICByZXR1cm4gbS50eXBlLnRvTG93ZXJDYXNlKCkgPT09IGZpZWxkO1xuICAgIH0pO1xuICAgIHJldHVybiBtYXRjaGluZyA/IG1hdGNoaW5nLnZhbHVlIDogbnVsbDtcbiAgfTtcblxuICBfcHJvdG80Lm51bWJlckZvcm1hdHRlciA9IGZ1bmN0aW9uIG51bWJlckZvcm1hdHRlcihvcHRzKSB7XG4gICAgaWYgKG9wdHMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cblxuICAgIC8vIHRoaXMgZm9yY2VzaW1wbGUgb3B0aW9uIGlzIG5ldmVyIHVzZWQgKHRoZSBvbmx5IGNhbGxlciBzaG9ydC1jaXJjdWl0cyBvbiBpdCwgYnV0IGl0IHNlZW1zIHNhZmVyIHRvIGxlYXZlKVxuICAgIC8vIChpbiBjb250cmFzdCwgdGhlIHJlc3Qgb2YgdGhlIGNvbmRpdGlvbiBpcyB1c2VkIGhlYXZpbHkpXG4gICAgcmV0dXJuIG5ldyBQb2x5TnVtYmVyRm9ybWF0dGVyKHRoaXMuaW50bCwgb3B0cy5mb3JjZVNpbXBsZSB8fCB0aGlzLmZhc3ROdW1iZXJzLCBvcHRzKTtcbiAgfTtcblxuICBfcHJvdG80LmR0Rm9ybWF0dGVyID0gZnVuY3Rpb24gZHRGb3JtYXR0ZXIoZHQsIGludGxPcHRzKSB7XG4gICAgaWYgKGludGxPcHRzID09PSB2b2lkIDApIHtcbiAgICAgIGludGxPcHRzID0ge307XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBQb2x5RGF0ZUZvcm1hdHRlcihkdCwgdGhpcy5pbnRsLCBpbnRsT3B0cyk7XG4gIH07XG5cbiAgX3Byb3RvNC5yZWxGb3JtYXR0ZXIgPSBmdW5jdGlvbiByZWxGb3JtYXR0ZXIob3B0cykge1xuICAgIGlmIChvcHRzID09PSB2b2lkIDApIHtcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFBvbHlSZWxGb3JtYXR0ZXIodGhpcy5pbnRsLCB0aGlzLmlzRW5nbGlzaCgpLCBvcHRzKTtcbiAgfTtcblxuICBfcHJvdG80Lmxpc3RGb3JtYXR0ZXIgPSBmdW5jdGlvbiBsaXN0Rm9ybWF0dGVyKG9wdHMpIHtcbiAgICBpZiAob3B0cyA9PT0gdm9pZCAwKSB7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuXG4gICAgcmV0dXJuIGdldENhY2hlZExGKHRoaXMuaW50bCwgb3B0cyk7XG4gIH07XG5cbiAgX3Byb3RvNC5pc0VuZ2xpc2ggPSBmdW5jdGlvbiBpc0VuZ2xpc2goKSB7XG4gICAgcmV0dXJuIHRoaXMubG9jYWxlID09PSBcImVuXCIgfHwgdGhpcy5sb2NhbGUudG9Mb3dlckNhc2UoKSA9PT0gXCJlbi11c1wiIHx8IG5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KHRoaXMuaW50bCkucmVzb2x2ZWRPcHRpb25zKCkubG9jYWxlLnN0YXJ0c1dpdGgoXCJlbi11c1wiKTtcbiAgfTtcblxuICBfcHJvdG80LmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyhvdGhlcikge1xuICAgIHJldHVybiB0aGlzLmxvY2FsZSA9PT0gb3RoZXIubG9jYWxlICYmIHRoaXMubnVtYmVyaW5nU3lzdGVtID09PSBvdGhlci5udW1iZXJpbmdTeXN0ZW0gJiYgdGhpcy5vdXRwdXRDYWxlbmRhciA9PT0gb3RoZXIub3V0cHV0Q2FsZW5kYXI7XG4gIH07XG5cbiAgX2NyZWF0ZUNsYXNzKExvY2FsZSwgW3tcbiAgICBrZXk6IFwiZmFzdE51bWJlcnNcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIGlmICh0aGlzLmZhc3ROdW1iZXJzQ2FjaGVkID09IG51bGwpIHtcbiAgICAgICAgdGhpcy5mYXN0TnVtYmVyc0NhY2hlZCA9IHN1cHBvcnRzRmFzdE51bWJlcnModGhpcyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmZhc3ROdW1iZXJzQ2FjaGVkO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBMb2NhbGU7XG59KCk7XG5cbi8qXG4gKiBUaGlzIGZpbGUgaGFuZGxlcyBwYXJzaW5nIGZvciB3ZWxsLXNwZWNpZmllZCBmb3JtYXRzLiBIZXJlJ3MgaG93IGl0IHdvcmtzOlxuICogVHdvIHRoaW5ncyBnbyBpbnRvIHBhcnNpbmc6IGEgcmVnZXggdG8gbWF0Y2ggd2l0aCBhbmQgYW4gZXh0cmFjdG9yIHRvIHRha2UgYXBhcnQgdGhlIGdyb3VwcyBpbiB0aGUgbWF0Y2guXG4gKiBBbiBleHRyYWN0b3IgaXMganVzdCBhIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSByZWdleCBtYXRjaCBhcnJheSBhbmQgcmV0dXJucyBhIHsgeWVhcjogLi4uLCBtb250aDogLi4uIH0gb2JqZWN0XG4gKiBwYXJzZSgpIGRvZXMgdGhlIHdvcmsgb2YgZXhlY3V0aW5nIHRoZSByZWdleCBhbmQgYXBwbHlpbmcgdGhlIGV4dHJhY3Rvci4gSXQgdGFrZXMgbXVsdGlwbGUgcmVnZXgvZXh0cmFjdG9yIHBhaXJzIHRvIHRyeSBpbiBzZXF1ZW5jZS5cbiAqIEV4dHJhY3RvcnMgY2FuIHRha2UgYSBcImN1cnNvclwiIHJlcHJlc2VudGluZyB0aGUgb2Zmc2V0IGluIHRoZSBtYXRjaCB0byBsb29rIGF0LiBUaGlzIG1ha2VzIGl0IGVhc3kgdG8gY29tYmluZSBleHRyYWN0b3JzLlxuICogY29tYmluZUV4dHJhY3RvcnMoKSBkb2VzIHRoZSB3b3JrIG9mIGNvbWJpbmluZyB0aGVtLCBrZWVwaW5nIHRyYWNrIG9mIHRoZSBjdXJzb3IgdGhyb3VnaCBtdWx0aXBsZSBleHRyYWN0aW9ucy5cbiAqIFNvbWUgZXh0cmFjdGlvbnMgYXJlIHN1cGVyIGR1bWIgYW5kIHNpbXBsZVBhcnNlIGFuZCBmcm9tU3RyaW5ncyBoZWxwIERSWSB0aGVtLlxuICovXG5cbmZ1bmN0aW9uIGNvbWJpbmVSZWdleGVzKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgcmVnZXhlcyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICByZWdleGVzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgdmFyIGZ1bGwgPSByZWdleGVzLnJlZHVjZShmdW5jdGlvbiAoZiwgcikge1xuICAgIHJldHVybiBmICsgci5zb3VyY2U7XG4gIH0sIFwiXCIpO1xuICByZXR1cm4gUmVnRXhwKFwiXlwiICsgZnVsbCArIFwiJFwiKTtcbn1cblxuZnVuY3Rpb24gY29tYmluZUV4dHJhY3RvcnMoKSB7XG4gIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgZXh0cmFjdG9ycyA9IG5ldyBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgIGV4dHJhY3RvcnNbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAobSkge1xuICAgIHJldHVybiBleHRyYWN0b3JzLnJlZHVjZShmdW5jdGlvbiAoX3JlZiwgZXgpIHtcbiAgICAgIHZhciBtZXJnZWRWYWxzID0gX3JlZlswXSxcbiAgICAgICAgICBtZXJnZWRab25lID0gX3JlZlsxXSxcbiAgICAgICAgICBjdXJzb3IgPSBfcmVmWzJdO1xuXG4gICAgICB2YXIgX2V4ID0gZXgobSwgY3Vyc29yKSxcbiAgICAgICAgICB2YWwgPSBfZXhbMF0sXG4gICAgICAgICAgem9uZSA9IF9leFsxXSxcbiAgICAgICAgICBuZXh0ID0gX2V4WzJdO1xuXG4gICAgICByZXR1cm4gW19leHRlbmRzKHt9LCBtZXJnZWRWYWxzLCB2YWwpLCB6b25lIHx8IG1lcmdlZFpvbmUsIG5leHRdO1xuICAgIH0sIFt7fSwgbnVsbCwgMV0pLnNsaWNlKDAsIDIpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBwYXJzZShzKSB7XG4gIGlmIChzID09IG51bGwpIHtcbiAgICByZXR1cm4gW251bGwsIG51bGxdO1xuICB9XG5cbiAgZm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCBwYXR0ZXJucyA9IG5ldyBBcnJheShfbGVuMyA+IDEgPyBfbGVuMyAtIDEgOiAwKSwgX2tleTMgPSAxOyBfa2V5MyA8IF9sZW4zOyBfa2V5MysrKSB7XG4gICAgcGF0dGVybnNbX2tleTMgLSAxXSA9IGFyZ3VtZW50c1tfa2V5M107XG4gIH1cblxuICBmb3IgKHZhciBfaSA9IDAsIF9wYXR0ZXJucyA9IHBhdHRlcm5zOyBfaSA8IF9wYXR0ZXJucy5sZW5ndGg7IF9pKyspIHtcbiAgICB2YXIgX3BhdHRlcm5zJF9pID0gX3BhdHRlcm5zW19pXSxcbiAgICAgICAgcmVnZXggPSBfcGF0dGVybnMkX2lbMF0sXG4gICAgICAgIGV4dHJhY3RvciA9IF9wYXR0ZXJucyRfaVsxXTtcbiAgICB2YXIgbSA9IHJlZ2V4LmV4ZWMocyk7XG5cbiAgICBpZiAobSkge1xuICAgICAgcmV0dXJuIGV4dHJhY3RvcihtKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gW251bGwsIG51bGxdO1xufVxuXG5mdW5jdGlvbiBzaW1wbGVQYXJzZSgpIHtcbiAgZm9yICh2YXIgX2xlbjQgPSBhcmd1bWVudHMubGVuZ3RoLCBrZXlzID0gbmV3IEFycmF5KF9sZW40KSwgX2tleTQgPSAwOyBfa2V5NCA8IF9sZW40OyBfa2V5NCsrKSB7XG4gICAga2V5c1tfa2V5NF0gPSBhcmd1bWVudHNbX2tleTRdO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChtYXRjaCwgY3Vyc29yKSB7XG4gICAgdmFyIHJldCA9IHt9O1xuICAgIHZhciBpO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHJldFtrZXlzW2ldXSA9IHBhcnNlSW50ZWdlcihtYXRjaFtjdXJzb3IgKyBpXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFtyZXQsIG51bGwsIGN1cnNvciArIGldO1xuICB9O1xufSAvLyBJU08gYW5kIFNRTCBwYXJzaW5nXG5cblxudmFyIG9mZnNldFJlZ2V4ID0gLyg/OihaKXwoWystXVxcZFxcZCkoPzo6PyhcXGRcXGQpKT8pLztcbnZhciBpc29FeHRlbmRlZFpvbmUgPSBcIig/OlwiICsgb2Zmc2V0UmVnZXguc291cmNlICsgXCI/KD86XFxcXFsoXCIgKyBpYW5hUmVnZXguc291cmNlICsgXCIpXFxcXF0pPyk/XCI7XG52YXIgaXNvVGltZUJhc2VSZWdleCA9IC8oXFxkXFxkKSg/Ojo/KFxcZFxcZCkoPzo6PyhcXGRcXGQpKD86Wy4sXShcXGR7MSwzMH0pKT8pPyk/LztcbnZhciBpc29UaW1lUmVnZXggPSBSZWdFeHAoXCJcIiArIGlzb1RpbWVCYXNlUmVnZXguc291cmNlICsgaXNvRXh0ZW5kZWRab25lKTtcbnZhciBpc29UaW1lRXh0ZW5zaW9uUmVnZXggPSBSZWdFeHAoXCIoPzpUXCIgKyBpc29UaW1lUmVnZXguc291cmNlICsgXCIpP1wiKTtcbnZhciBpc29ZbWRSZWdleCA9IC8oWystXVxcZHs2fXxcXGR7NH0pKD86LT8oXFxkXFxkKSg/Oi0/KFxcZFxcZCkpPyk/LztcbnZhciBpc29XZWVrUmVnZXggPSAvKFxcZHs0fSktP1coXFxkXFxkKSg/Oi0/KFxcZCkpPy87XG52YXIgaXNvT3JkaW5hbFJlZ2V4ID0gLyhcXGR7NH0pLT8oXFxkezN9KS87XG52YXIgZXh0cmFjdElTT1dlZWtEYXRhID0gc2ltcGxlUGFyc2UoXCJ3ZWVrWWVhclwiLCBcIndlZWtOdW1iZXJcIiwgXCJ3ZWVrRGF5XCIpO1xudmFyIGV4dHJhY3RJU09PcmRpbmFsRGF0YSA9IHNpbXBsZVBhcnNlKFwieWVhclwiLCBcIm9yZGluYWxcIik7XG52YXIgc3FsWW1kUmVnZXggPSAvKFxcZHs0fSktKFxcZFxcZCktKFxcZFxcZCkvOyAvLyBkdW1iZWQtZG93biB2ZXJzaW9uIG9mIHRoZSBJU08gb25lXG5cbnZhciBzcWxUaW1lUmVnZXggPSBSZWdFeHAoaXNvVGltZUJhc2VSZWdleC5zb3VyY2UgKyBcIiA/KD86XCIgKyBvZmZzZXRSZWdleC5zb3VyY2UgKyBcInwoXCIgKyBpYW5hUmVnZXguc291cmNlICsgXCIpKT9cIik7XG52YXIgc3FsVGltZUV4dGVuc2lvblJlZ2V4ID0gUmVnRXhwKFwiKD86IFwiICsgc3FsVGltZVJlZ2V4LnNvdXJjZSArIFwiKT9cIik7XG5cbmZ1bmN0aW9uIGludChtYXRjaCwgcG9zLCBmYWxsYmFjaykge1xuICB2YXIgbSA9IG1hdGNoW3Bvc107XG4gIHJldHVybiBpc1VuZGVmaW5lZChtKSA/IGZhbGxiYWNrIDogcGFyc2VJbnRlZ2VyKG0pO1xufVxuXG5mdW5jdGlvbiBleHRyYWN0SVNPWW1kKG1hdGNoLCBjdXJzb3IpIHtcbiAgdmFyIGl0ZW0gPSB7XG4gICAgeWVhcjogaW50KG1hdGNoLCBjdXJzb3IpLFxuICAgIG1vbnRoOiBpbnQobWF0Y2gsIGN1cnNvciArIDEsIDEpLFxuICAgIGRheTogaW50KG1hdGNoLCBjdXJzb3IgKyAyLCAxKVxuICB9O1xuICByZXR1cm4gW2l0ZW0sIG51bGwsIGN1cnNvciArIDNdO1xufVxuXG5mdW5jdGlvbiBleHRyYWN0SVNPVGltZShtYXRjaCwgY3Vyc29yKSB7XG4gIHZhciBpdGVtID0ge1xuICAgIGhvdXJzOiBpbnQobWF0Y2gsIGN1cnNvciwgMCksXG4gICAgbWludXRlczogaW50KG1hdGNoLCBjdXJzb3IgKyAxLCAwKSxcbiAgICBzZWNvbmRzOiBpbnQobWF0Y2gsIGN1cnNvciArIDIsIDApLFxuICAgIG1pbGxpc2Vjb25kczogcGFyc2VNaWxsaXMobWF0Y2hbY3Vyc29yICsgM10pXG4gIH07XG4gIHJldHVybiBbaXRlbSwgbnVsbCwgY3Vyc29yICsgNF07XG59XG5cbmZ1bmN0aW9uIGV4dHJhY3RJU09PZmZzZXQobWF0Y2gsIGN1cnNvcikge1xuICB2YXIgbG9jYWwgPSAhbWF0Y2hbY3Vyc29yXSAmJiAhbWF0Y2hbY3Vyc29yICsgMV0sXG4gICAgICBmdWxsT2Zmc2V0ID0gc2lnbmVkT2Zmc2V0KG1hdGNoW2N1cnNvciArIDFdLCBtYXRjaFtjdXJzb3IgKyAyXSksXG4gICAgICB6b25lID0gbG9jYWwgPyBudWxsIDogRml4ZWRPZmZzZXRab25lLmluc3RhbmNlKGZ1bGxPZmZzZXQpO1xuICByZXR1cm4gW3t9LCB6b25lLCBjdXJzb3IgKyAzXTtcbn1cblxuZnVuY3Rpb24gZXh0cmFjdElBTkFab25lKG1hdGNoLCBjdXJzb3IpIHtcbiAgdmFyIHpvbmUgPSBtYXRjaFtjdXJzb3JdID8gSUFOQVpvbmUuY3JlYXRlKG1hdGNoW2N1cnNvcl0pIDogbnVsbDtcbiAgcmV0dXJuIFt7fSwgem9uZSwgY3Vyc29yICsgMV07XG59IC8vIElTTyB0aW1lIHBhcnNpbmdcblxuXG52YXIgaXNvVGltZU9ubHkgPSBSZWdFeHAoXCJeVD9cIiArIGlzb1RpbWVCYXNlUmVnZXguc291cmNlICsgXCIkXCIpOyAvLyBJU08gZHVyYXRpb24gcGFyc2luZ1xuXG52YXIgaXNvRHVyYXRpb24gPSAvXi0/UCg/Oig/OigtP1xcZHsxLDl9KD86XFwuXFxkezEsOX0pPylZKT8oPzooLT9cXGR7MSw5fSg/OlxcLlxcZHsxLDl9KT8pTSk/KD86KC0/XFxkezEsOX0oPzpcXC5cXGR7MSw5fSk/KVcpPyg/OigtP1xcZHsxLDl9KD86XFwuXFxkezEsOX0pPylEKT8oPzpUKD86KC0/XFxkezEsOX0oPzpcXC5cXGR7MSw5fSk/KUgpPyg/OigtP1xcZHsxLDl9KD86XFwuXFxkezEsOX0pPylNKT8oPzooLT9cXGR7MSwyMH0pKD86Wy4sXSgtP1xcZHsxLDl9KSk/Uyk/KT8pJC87XG5cbmZ1bmN0aW9uIGV4dHJhY3RJU09EdXJhdGlvbihtYXRjaCkge1xuICB2YXIgcyA9IG1hdGNoWzBdLFxuICAgICAgeWVhclN0ciA9IG1hdGNoWzFdLFxuICAgICAgbW9udGhTdHIgPSBtYXRjaFsyXSxcbiAgICAgIHdlZWtTdHIgPSBtYXRjaFszXSxcbiAgICAgIGRheVN0ciA9IG1hdGNoWzRdLFxuICAgICAgaG91clN0ciA9IG1hdGNoWzVdLFxuICAgICAgbWludXRlU3RyID0gbWF0Y2hbNl0sXG4gICAgICBzZWNvbmRTdHIgPSBtYXRjaFs3XSxcbiAgICAgIG1pbGxpc2Vjb25kc1N0ciA9IG1hdGNoWzhdO1xuICB2YXIgaGFzTmVnYXRpdmVQcmVmaXggPSBzWzBdID09PSBcIi1cIjtcbiAgdmFyIG5lZ2F0aXZlU2Vjb25kcyA9IHNlY29uZFN0ciAmJiBzZWNvbmRTdHJbMF0gPT09IFwiLVwiO1xuXG4gIHZhciBtYXliZU5lZ2F0ZSA9IGZ1bmN0aW9uIG1heWJlTmVnYXRlKG51bSwgZm9yY2UpIHtcbiAgICBpZiAoZm9yY2UgPT09IHZvaWQgMCkge1xuICAgICAgZm9yY2UgPSBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVtICE9PSB1bmRlZmluZWQgJiYgKGZvcmNlIHx8IG51bSAmJiBoYXNOZWdhdGl2ZVByZWZpeCkgPyAtbnVtIDogbnVtO1xuICB9O1xuXG4gIHJldHVybiBbe1xuICAgIHllYXJzOiBtYXliZU5lZ2F0ZShwYXJzZUZsb2F0aW5nKHllYXJTdHIpKSxcbiAgICBtb250aHM6IG1heWJlTmVnYXRlKHBhcnNlRmxvYXRpbmcobW9udGhTdHIpKSxcbiAgICB3ZWVrczogbWF5YmVOZWdhdGUocGFyc2VGbG9hdGluZyh3ZWVrU3RyKSksXG4gICAgZGF5czogbWF5YmVOZWdhdGUocGFyc2VGbG9hdGluZyhkYXlTdHIpKSxcbiAgICBob3VyczogbWF5YmVOZWdhdGUocGFyc2VGbG9hdGluZyhob3VyU3RyKSksXG4gICAgbWludXRlczogbWF5YmVOZWdhdGUocGFyc2VGbG9hdGluZyhtaW51dGVTdHIpKSxcbiAgICBzZWNvbmRzOiBtYXliZU5lZ2F0ZShwYXJzZUZsb2F0aW5nKHNlY29uZFN0ciksIHNlY29uZFN0ciA9PT0gXCItMFwiKSxcbiAgICBtaWxsaXNlY29uZHM6IG1heWJlTmVnYXRlKHBhcnNlTWlsbGlzKG1pbGxpc2Vjb25kc1N0ciksIG5lZ2F0aXZlU2Vjb25kcylcbiAgfV07XG59IC8vIFRoZXNlIGFyZSBhIGxpdHRsZSBicmFpbmRlYWQuIEVEVCAqc2hvdWxkKiB0ZWxsIHVzIHRoYXQgd2UncmUgaW4sIHNheSwgQW1lcmljYS9OZXdfWW9ya1xuLy8gYW5kIG5vdCBqdXN0IHRoYXQgd2UncmUgaW4gLTI0MCAqcmlnaHQgbm93Ki4gQnV0IHNpbmNlIEkgZG9uJ3QgdGhpbmsgdGhlc2UgYXJlIHVzZWQgdGhhdCBvZnRlblxuLy8gSSdtIGp1c3QgZ29pbmcgdG8gaWdub3JlIHRoYXRcblxuXG52YXIgb2JzT2Zmc2V0cyA9IHtcbiAgR01UOiAwLFxuICBFRFQ6IC00ICogNjAsXG4gIEVTVDogLTUgKiA2MCxcbiAgQ0RUOiAtNSAqIDYwLFxuICBDU1Q6IC02ICogNjAsXG4gIE1EVDogLTYgKiA2MCxcbiAgTVNUOiAtNyAqIDYwLFxuICBQRFQ6IC03ICogNjAsXG4gIFBTVDogLTggKiA2MFxufTtcblxuZnVuY3Rpb24gZnJvbVN0cmluZ3Mod2Vla2RheVN0ciwgeWVhclN0ciwgbW9udGhTdHIsIGRheVN0ciwgaG91clN0ciwgbWludXRlU3RyLCBzZWNvbmRTdHIpIHtcbiAgdmFyIHJlc3VsdCA9IHtcbiAgICB5ZWFyOiB5ZWFyU3RyLmxlbmd0aCA9PT0gMiA/IHVudHJ1bmNhdGVZZWFyKHBhcnNlSW50ZWdlcih5ZWFyU3RyKSkgOiBwYXJzZUludGVnZXIoeWVhclN0ciksXG4gICAgbW9udGg6IG1vbnRoc1Nob3J0LmluZGV4T2YobW9udGhTdHIpICsgMSxcbiAgICBkYXk6IHBhcnNlSW50ZWdlcihkYXlTdHIpLFxuICAgIGhvdXI6IHBhcnNlSW50ZWdlcihob3VyU3RyKSxcbiAgICBtaW51dGU6IHBhcnNlSW50ZWdlcihtaW51dGVTdHIpXG4gIH07XG4gIGlmIChzZWNvbmRTdHIpIHJlc3VsdC5zZWNvbmQgPSBwYXJzZUludGVnZXIoc2Vjb25kU3RyKTtcblxuICBpZiAod2Vla2RheVN0cikge1xuICAgIHJlc3VsdC53ZWVrZGF5ID0gd2Vla2RheVN0ci5sZW5ndGggPiAzID8gd2Vla2RheXNMb25nLmluZGV4T2Yod2Vla2RheVN0cikgKyAxIDogd2Vla2RheXNTaG9ydC5pbmRleE9mKHdlZWtkYXlTdHIpICsgMTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59IC8vIFJGQyAyODIyLzUzMjJcblxuXG52YXIgcmZjMjgyMiA9IC9eKD86KE1vbnxUdWV8V2VkfFRodXxGcml8U2F0fFN1biksXFxzKT8oXFxkezEsMn0pXFxzKEphbnxGZWJ8TWFyfEFwcnxNYXl8SnVufEp1bHxBdWd8U2VwfE9jdHxOb3Z8RGVjKVxccyhcXGR7Miw0fSlcXHMoXFxkXFxkKTooXFxkXFxkKSg/OjooXFxkXFxkKSk/XFxzKD86KFVUfEdNVHxbRUNNUF1bU0RdVCl8KFtael0pfCg/OihbKy1dXFxkXFxkKShcXGRcXGQpKSkkLztcblxuZnVuY3Rpb24gZXh0cmFjdFJGQzI4MjIobWF0Y2gpIHtcbiAgdmFyIHdlZWtkYXlTdHIgPSBtYXRjaFsxXSxcbiAgICAgIGRheVN0ciA9IG1hdGNoWzJdLFxuICAgICAgbW9udGhTdHIgPSBtYXRjaFszXSxcbiAgICAgIHllYXJTdHIgPSBtYXRjaFs0XSxcbiAgICAgIGhvdXJTdHIgPSBtYXRjaFs1XSxcbiAgICAgIG1pbnV0ZVN0ciA9IG1hdGNoWzZdLFxuICAgICAgc2Vjb25kU3RyID0gbWF0Y2hbN10sXG4gICAgICBvYnNPZmZzZXQgPSBtYXRjaFs4XSxcbiAgICAgIG1pbE9mZnNldCA9IG1hdGNoWzldLFxuICAgICAgb2ZmSG91clN0ciA9IG1hdGNoWzEwXSxcbiAgICAgIG9mZk1pbnV0ZVN0ciA9IG1hdGNoWzExXSxcbiAgICAgIHJlc3VsdCA9IGZyb21TdHJpbmdzKHdlZWtkYXlTdHIsIHllYXJTdHIsIG1vbnRoU3RyLCBkYXlTdHIsIGhvdXJTdHIsIG1pbnV0ZVN0ciwgc2Vjb25kU3RyKTtcbiAgdmFyIG9mZnNldDtcblxuICBpZiAob2JzT2Zmc2V0KSB7XG4gICAgb2Zmc2V0ID0gb2JzT2Zmc2V0c1tvYnNPZmZzZXRdO1xuICB9IGVsc2UgaWYgKG1pbE9mZnNldCkge1xuICAgIG9mZnNldCA9IDA7XG4gIH0gZWxzZSB7XG4gICAgb2Zmc2V0ID0gc2lnbmVkT2Zmc2V0KG9mZkhvdXJTdHIsIG9mZk1pbnV0ZVN0cik7XG4gIH1cblxuICByZXR1cm4gW3Jlc3VsdCwgbmV3IEZpeGVkT2Zmc2V0Wm9uZShvZmZzZXQpXTtcbn1cblxuZnVuY3Rpb24gcHJlcHJvY2Vzc1JGQzI4MjIocykge1xuICAvLyBSZW1vdmUgY29tbWVudHMgYW5kIGZvbGRpbmcgd2hpdGVzcGFjZSBhbmQgcmVwbGFjZSBtdWx0aXBsZS1zcGFjZXMgd2l0aCBhIHNpbmdsZSBzcGFjZVxuICByZXR1cm4gcy5yZXBsYWNlKC9cXChbXildKlxcKXxbXFxuXFx0XS9nLCBcIiBcIikucmVwbGFjZSgvKFxcc1xccyspL2csIFwiIFwiKS50cmltKCk7XG59IC8vIGh0dHAgZGF0ZVxuXG5cbnZhciByZmMxMTIzID0gL14oTW9ufFR1ZXxXZWR8VGh1fEZyaXxTYXR8U3VuKSwgKFxcZFxcZCkgKEphbnxGZWJ8TWFyfEFwcnxNYXl8SnVufEp1bHxBdWd8U2VwfE9jdHxOb3Z8RGVjKSAoXFxkezR9KSAoXFxkXFxkKTooXFxkXFxkKTooXFxkXFxkKSBHTVQkLyxcbiAgICByZmM4NTAgPSAvXihNb25kYXl8VHVlc2RheXxXZWRzZGF5fFRodXJzZGF5fEZyaWRheXxTYXR1cmRheXxTdW5kYXkpLCAoXFxkXFxkKS0oSmFufEZlYnxNYXJ8QXByfE1heXxKdW58SnVsfEF1Z3xTZXB8T2N0fE5vdnxEZWMpLShcXGRcXGQpIChcXGRcXGQpOihcXGRcXGQpOihcXGRcXGQpIEdNVCQvLFxuICAgIGFzY2lpID0gL14oTW9ufFR1ZXxXZWR8VGh1fEZyaXxTYXR8U3VuKSAoSmFufEZlYnxNYXJ8QXByfE1heXxKdW58SnVsfEF1Z3xTZXB8T2N0fE5vdnxEZWMpICggXFxkfFxcZFxcZCkgKFxcZFxcZCk6KFxcZFxcZCk6KFxcZFxcZCkgKFxcZHs0fSkkLztcblxuZnVuY3Rpb24gZXh0cmFjdFJGQzExMjNPcjg1MChtYXRjaCkge1xuICB2YXIgd2Vla2RheVN0ciA9IG1hdGNoWzFdLFxuICAgICAgZGF5U3RyID0gbWF0Y2hbMl0sXG4gICAgICBtb250aFN0ciA9IG1hdGNoWzNdLFxuICAgICAgeWVhclN0ciA9IG1hdGNoWzRdLFxuICAgICAgaG91clN0ciA9IG1hdGNoWzVdLFxuICAgICAgbWludXRlU3RyID0gbWF0Y2hbNl0sXG4gICAgICBzZWNvbmRTdHIgPSBtYXRjaFs3XSxcbiAgICAgIHJlc3VsdCA9IGZyb21TdHJpbmdzKHdlZWtkYXlTdHIsIHllYXJTdHIsIG1vbnRoU3RyLCBkYXlTdHIsIGhvdXJTdHIsIG1pbnV0ZVN0ciwgc2Vjb25kU3RyKTtcbiAgcmV0dXJuIFtyZXN1bHQsIEZpeGVkT2Zmc2V0Wm9uZS51dGNJbnN0YW5jZV07XG59XG5cbmZ1bmN0aW9uIGV4dHJhY3RBU0NJSShtYXRjaCkge1xuICB2YXIgd2Vla2RheVN0ciA9IG1hdGNoWzFdLFxuICAgICAgbW9udGhTdHIgPSBtYXRjaFsyXSxcbiAgICAgIGRheVN0ciA9IG1hdGNoWzNdLFxuICAgICAgaG91clN0ciA9IG1hdGNoWzRdLFxuICAgICAgbWludXRlU3RyID0gbWF0Y2hbNV0sXG4gICAgICBzZWNvbmRTdHIgPSBtYXRjaFs2XSxcbiAgICAgIHllYXJTdHIgPSBtYXRjaFs3XSxcbiAgICAgIHJlc3VsdCA9IGZyb21TdHJpbmdzKHdlZWtkYXlTdHIsIHllYXJTdHIsIG1vbnRoU3RyLCBkYXlTdHIsIGhvdXJTdHIsIG1pbnV0ZVN0ciwgc2Vjb25kU3RyKTtcbiAgcmV0dXJuIFtyZXN1bHQsIEZpeGVkT2Zmc2V0Wm9uZS51dGNJbnN0YW5jZV07XG59XG5cbnZhciBpc29ZbWRXaXRoVGltZUV4dGVuc2lvblJlZ2V4ID0gY29tYmluZVJlZ2V4ZXMoaXNvWW1kUmVnZXgsIGlzb1RpbWVFeHRlbnNpb25SZWdleCk7XG52YXIgaXNvV2Vla1dpdGhUaW1lRXh0ZW5zaW9uUmVnZXggPSBjb21iaW5lUmVnZXhlcyhpc29XZWVrUmVnZXgsIGlzb1RpbWVFeHRlbnNpb25SZWdleCk7XG52YXIgaXNvT3JkaW5hbFdpdGhUaW1lRXh0ZW5zaW9uUmVnZXggPSBjb21iaW5lUmVnZXhlcyhpc29PcmRpbmFsUmVnZXgsIGlzb1RpbWVFeHRlbnNpb25SZWdleCk7XG52YXIgaXNvVGltZUNvbWJpbmVkUmVnZXggPSBjb21iaW5lUmVnZXhlcyhpc29UaW1lUmVnZXgpO1xudmFyIGV4dHJhY3RJU09ZbWRUaW1lQW5kT2Zmc2V0ID0gY29tYmluZUV4dHJhY3RvcnMoZXh0cmFjdElTT1ltZCwgZXh0cmFjdElTT1RpbWUsIGV4dHJhY3RJU09PZmZzZXQsIGV4dHJhY3RJQU5BWm9uZSk7XG52YXIgZXh0cmFjdElTT1dlZWtUaW1lQW5kT2Zmc2V0ID0gY29tYmluZUV4dHJhY3RvcnMoZXh0cmFjdElTT1dlZWtEYXRhLCBleHRyYWN0SVNPVGltZSwgZXh0cmFjdElTT09mZnNldCwgZXh0cmFjdElBTkFab25lKTtcbnZhciBleHRyYWN0SVNPT3JkaW5hbERhdGVBbmRUaW1lID0gY29tYmluZUV4dHJhY3RvcnMoZXh0cmFjdElTT09yZGluYWxEYXRhLCBleHRyYWN0SVNPVGltZSwgZXh0cmFjdElTT09mZnNldCwgZXh0cmFjdElBTkFab25lKTtcbnZhciBleHRyYWN0SVNPVGltZUFuZE9mZnNldCA9IGNvbWJpbmVFeHRyYWN0b3JzKGV4dHJhY3RJU09UaW1lLCBleHRyYWN0SVNPT2Zmc2V0LCBleHRyYWN0SUFOQVpvbmUpO1xuLypcbiAqIEBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gcGFyc2VJU09EYXRlKHMpIHtcbiAgcmV0dXJuIHBhcnNlKHMsIFtpc29ZbWRXaXRoVGltZUV4dGVuc2lvblJlZ2V4LCBleHRyYWN0SVNPWW1kVGltZUFuZE9mZnNldF0sIFtpc29XZWVrV2l0aFRpbWVFeHRlbnNpb25SZWdleCwgZXh0cmFjdElTT1dlZWtUaW1lQW5kT2Zmc2V0XSwgW2lzb09yZGluYWxXaXRoVGltZUV4dGVuc2lvblJlZ2V4LCBleHRyYWN0SVNPT3JkaW5hbERhdGVBbmRUaW1lXSwgW2lzb1RpbWVDb21iaW5lZFJlZ2V4LCBleHRyYWN0SVNPVGltZUFuZE9mZnNldF0pO1xufVxuZnVuY3Rpb24gcGFyc2VSRkMyODIyRGF0ZShzKSB7XG4gIHJldHVybiBwYXJzZShwcmVwcm9jZXNzUkZDMjgyMihzKSwgW3JmYzI4MjIsIGV4dHJhY3RSRkMyODIyXSk7XG59XG5mdW5jdGlvbiBwYXJzZUhUVFBEYXRlKHMpIHtcbiAgcmV0dXJuIHBhcnNlKHMsIFtyZmMxMTIzLCBleHRyYWN0UkZDMTEyM09yODUwXSwgW3JmYzg1MCwgZXh0cmFjdFJGQzExMjNPcjg1MF0sIFthc2NpaSwgZXh0cmFjdEFTQ0lJXSk7XG59XG5mdW5jdGlvbiBwYXJzZUlTT0R1cmF0aW9uKHMpIHtcbiAgcmV0dXJuIHBhcnNlKHMsIFtpc29EdXJhdGlvbiwgZXh0cmFjdElTT0R1cmF0aW9uXSk7XG59XG52YXIgZXh0cmFjdElTT1RpbWVPbmx5ID0gY29tYmluZUV4dHJhY3RvcnMoZXh0cmFjdElTT1RpbWUpO1xuZnVuY3Rpb24gcGFyc2VJU09UaW1lT25seShzKSB7XG4gIHJldHVybiBwYXJzZShzLCBbaXNvVGltZU9ubHksIGV4dHJhY3RJU09UaW1lT25seV0pO1xufVxudmFyIHNxbFltZFdpdGhUaW1lRXh0ZW5zaW9uUmVnZXggPSBjb21iaW5lUmVnZXhlcyhzcWxZbWRSZWdleCwgc3FsVGltZUV4dGVuc2lvblJlZ2V4KTtcbnZhciBzcWxUaW1lQ29tYmluZWRSZWdleCA9IGNvbWJpbmVSZWdleGVzKHNxbFRpbWVSZWdleCk7XG52YXIgZXh0cmFjdElTT1RpbWVPZmZzZXRBbmRJQU5BWm9uZSA9IGNvbWJpbmVFeHRyYWN0b3JzKGV4dHJhY3RJU09UaW1lLCBleHRyYWN0SVNPT2Zmc2V0LCBleHRyYWN0SUFOQVpvbmUpO1xuZnVuY3Rpb24gcGFyc2VTUUwocykge1xuICByZXR1cm4gcGFyc2UocywgW3NxbFltZFdpdGhUaW1lRXh0ZW5zaW9uUmVnZXgsIGV4dHJhY3RJU09ZbWRUaW1lQW5kT2Zmc2V0XSwgW3NxbFRpbWVDb21iaW5lZFJlZ2V4LCBleHRyYWN0SVNPVGltZU9mZnNldEFuZElBTkFab25lXSk7XG59XG5cbnZhciBJTlZBTElEJDIgPSBcIkludmFsaWQgRHVyYXRpb25cIjsgLy8gdW5pdCBjb252ZXJzaW9uIGNvbnN0YW50c1xuXG52YXIgbG93T3JkZXJNYXRyaXggPSB7XG4gIHdlZWtzOiB7XG4gICAgZGF5czogNyxcbiAgICBob3VyczogNyAqIDI0LFxuICAgIG1pbnV0ZXM6IDcgKiAyNCAqIDYwLFxuICAgIHNlY29uZHM6IDcgKiAyNCAqIDYwICogNjAsXG4gICAgbWlsbGlzZWNvbmRzOiA3ICogMjQgKiA2MCAqIDYwICogMTAwMFxuICB9LFxuICBkYXlzOiB7XG4gICAgaG91cnM6IDI0LFxuICAgIG1pbnV0ZXM6IDI0ICogNjAsXG4gICAgc2Vjb25kczogMjQgKiA2MCAqIDYwLFxuICAgIG1pbGxpc2Vjb25kczogMjQgKiA2MCAqIDYwICogMTAwMFxuICB9LFxuICBob3Vyczoge1xuICAgIG1pbnV0ZXM6IDYwLFxuICAgIHNlY29uZHM6IDYwICogNjAsXG4gICAgbWlsbGlzZWNvbmRzOiA2MCAqIDYwICogMTAwMFxuICB9LFxuICBtaW51dGVzOiB7XG4gICAgc2Vjb25kczogNjAsXG4gICAgbWlsbGlzZWNvbmRzOiA2MCAqIDEwMDBcbiAgfSxcbiAgc2Vjb25kczoge1xuICAgIG1pbGxpc2Vjb25kczogMTAwMFxuICB9XG59LFxuICAgIGNhc3VhbE1hdHJpeCA9IF9leHRlbmRzKHtcbiAgeWVhcnM6IHtcbiAgICBxdWFydGVyczogNCxcbiAgICBtb250aHM6IDEyLFxuICAgIHdlZWtzOiA1MixcbiAgICBkYXlzOiAzNjUsXG4gICAgaG91cnM6IDM2NSAqIDI0LFxuICAgIG1pbnV0ZXM6IDM2NSAqIDI0ICogNjAsXG4gICAgc2Vjb25kczogMzY1ICogMjQgKiA2MCAqIDYwLFxuICAgIG1pbGxpc2Vjb25kczogMzY1ICogMjQgKiA2MCAqIDYwICogMTAwMFxuICB9LFxuICBxdWFydGVyczoge1xuICAgIG1vbnRoczogMyxcbiAgICB3ZWVrczogMTMsXG4gICAgZGF5czogOTEsXG4gICAgaG91cnM6IDkxICogMjQsXG4gICAgbWludXRlczogOTEgKiAyNCAqIDYwLFxuICAgIHNlY29uZHM6IDkxICogMjQgKiA2MCAqIDYwLFxuICAgIG1pbGxpc2Vjb25kczogOTEgKiAyNCAqIDYwICogNjAgKiAxMDAwXG4gIH0sXG4gIG1vbnRoczoge1xuICAgIHdlZWtzOiA0LFxuICAgIGRheXM6IDMwLFxuICAgIGhvdXJzOiAzMCAqIDI0LFxuICAgIG1pbnV0ZXM6IDMwICogMjQgKiA2MCxcbiAgICBzZWNvbmRzOiAzMCAqIDI0ICogNjAgKiA2MCxcbiAgICBtaWxsaXNlY29uZHM6IDMwICogMjQgKiA2MCAqIDYwICogMTAwMFxuICB9XG59LCBsb3dPcmRlck1hdHJpeCksXG4gICAgZGF5c0luWWVhckFjY3VyYXRlID0gMTQ2MDk3LjAgLyA0MDAsXG4gICAgZGF5c0luTW9udGhBY2N1cmF0ZSA9IDE0NjA5Ny4wIC8gNDgwMCxcbiAgICBhY2N1cmF0ZU1hdHJpeCA9IF9leHRlbmRzKHtcbiAgeWVhcnM6IHtcbiAgICBxdWFydGVyczogNCxcbiAgICBtb250aHM6IDEyLFxuICAgIHdlZWtzOiBkYXlzSW5ZZWFyQWNjdXJhdGUgLyA3LFxuICAgIGRheXM6IGRheXNJblllYXJBY2N1cmF0ZSxcbiAgICBob3VyczogZGF5c0luWWVhckFjY3VyYXRlICogMjQsXG4gICAgbWludXRlczogZGF5c0luWWVhckFjY3VyYXRlICogMjQgKiA2MCxcbiAgICBzZWNvbmRzOiBkYXlzSW5ZZWFyQWNjdXJhdGUgKiAyNCAqIDYwICogNjAsXG4gICAgbWlsbGlzZWNvbmRzOiBkYXlzSW5ZZWFyQWNjdXJhdGUgKiAyNCAqIDYwICogNjAgKiAxMDAwXG4gIH0sXG4gIHF1YXJ0ZXJzOiB7XG4gICAgbW9udGhzOiAzLFxuICAgIHdlZWtzOiBkYXlzSW5ZZWFyQWNjdXJhdGUgLyAyOCxcbiAgICBkYXlzOiBkYXlzSW5ZZWFyQWNjdXJhdGUgLyA0LFxuICAgIGhvdXJzOiBkYXlzSW5ZZWFyQWNjdXJhdGUgKiAyNCAvIDQsXG4gICAgbWludXRlczogZGF5c0luWWVhckFjY3VyYXRlICogMjQgKiA2MCAvIDQsXG4gICAgc2Vjb25kczogZGF5c0luWWVhckFjY3VyYXRlICogMjQgKiA2MCAqIDYwIC8gNCxcbiAgICBtaWxsaXNlY29uZHM6IGRheXNJblllYXJBY2N1cmF0ZSAqIDI0ICogNjAgKiA2MCAqIDEwMDAgLyA0XG4gIH0sXG4gIG1vbnRoczoge1xuICAgIHdlZWtzOiBkYXlzSW5Nb250aEFjY3VyYXRlIC8gNyxcbiAgICBkYXlzOiBkYXlzSW5Nb250aEFjY3VyYXRlLFxuICAgIGhvdXJzOiBkYXlzSW5Nb250aEFjY3VyYXRlICogMjQsXG4gICAgbWludXRlczogZGF5c0luTW9udGhBY2N1cmF0ZSAqIDI0ICogNjAsXG4gICAgc2Vjb25kczogZGF5c0luTW9udGhBY2N1cmF0ZSAqIDI0ICogNjAgKiA2MCxcbiAgICBtaWxsaXNlY29uZHM6IGRheXNJbk1vbnRoQWNjdXJhdGUgKiAyNCAqIDYwICogNjAgKiAxMDAwXG4gIH1cbn0sIGxvd09yZGVyTWF0cml4KTsgLy8gdW5pdHMgb3JkZXJlZCBieSBzaXplXG5cbnZhciBvcmRlcmVkVW5pdHMkMSA9IFtcInllYXJzXCIsIFwicXVhcnRlcnNcIiwgXCJtb250aHNcIiwgXCJ3ZWVrc1wiLCBcImRheXNcIiwgXCJob3Vyc1wiLCBcIm1pbnV0ZXNcIiwgXCJzZWNvbmRzXCIsIFwibWlsbGlzZWNvbmRzXCJdO1xudmFyIHJldmVyc2VVbml0cyA9IG9yZGVyZWRVbml0cyQxLnNsaWNlKDApLnJldmVyc2UoKTsgLy8gY2xvbmUgcmVhbGx5IG1lYW5zIFwiY3JlYXRlIGFub3RoZXIgaW5zdGFuY2UganVzdCBsaWtlIHRoaXMgb25lLCBidXQgd2l0aCB0aGVzZSBjaGFuZ2VzXCJcblxuZnVuY3Rpb24gY2xvbmUkMShkdXIsIGFsdHMsIGNsZWFyKSB7XG4gIGlmIChjbGVhciA9PT0gdm9pZCAwKSB7XG4gICAgY2xlYXIgPSBmYWxzZTtcbiAgfVxuXG4gIC8vIGRlZXAgbWVyZ2UgZm9yIHZhbHNcbiAgdmFyIGNvbmYgPSB7XG4gICAgdmFsdWVzOiBjbGVhciA/IGFsdHMudmFsdWVzIDogX2V4dGVuZHMoe30sIGR1ci52YWx1ZXMsIGFsdHMudmFsdWVzIHx8IHt9KSxcbiAgICBsb2M6IGR1ci5sb2MuY2xvbmUoYWx0cy5sb2MpLFxuICAgIGNvbnZlcnNpb25BY2N1cmFjeTogYWx0cy5jb252ZXJzaW9uQWNjdXJhY3kgfHwgZHVyLmNvbnZlcnNpb25BY2N1cmFjeVxuICB9O1xuICByZXR1cm4gbmV3IER1cmF0aW9uKGNvbmYpO1xufVxuXG5mdW5jdGlvbiBhbnRpVHJ1bmMobikge1xuICByZXR1cm4gbiA8IDAgPyBNYXRoLmZsb29yKG4pIDogTWF0aC5jZWlsKG4pO1xufSAvLyBOQjogbXV0YXRlcyBwYXJhbWV0ZXJzXG5cblxuZnVuY3Rpb24gY29udmVydChtYXRyaXgsIGZyb21NYXAsIGZyb21Vbml0LCB0b01hcCwgdG9Vbml0KSB7XG4gIHZhciBjb252ID0gbWF0cml4W3RvVW5pdF1bZnJvbVVuaXRdLFxuICAgICAgcmF3ID0gZnJvbU1hcFtmcm9tVW5pdF0gLyBjb252LFxuICAgICAgc2FtZVNpZ24gPSBNYXRoLnNpZ24ocmF3KSA9PT0gTWF0aC5zaWduKHRvTWFwW3RvVW5pdF0pLFxuICAgICAgLy8gb2ssIHNvIHRoaXMgaXMgd2lsZCwgYnV0IHNlZSB0aGUgbWF0cml4IGluIHRoZSB0ZXN0c1xuICBhZGRlZCA9ICFzYW1lU2lnbiAmJiB0b01hcFt0b1VuaXRdICE9PSAwICYmIE1hdGguYWJzKHJhdykgPD0gMSA/IGFudGlUcnVuYyhyYXcpIDogTWF0aC50cnVuYyhyYXcpO1xuICB0b01hcFt0b1VuaXRdICs9IGFkZGVkO1xuICBmcm9tTWFwW2Zyb21Vbml0XSAtPSBhZGRlZCAqIGNvbnY7XG59IC8vIE5COiBtdXRhdGVzIHBhcmFtZXRlcnNcblxuXG5mdW5jdGlvbiBub3JtYWxpemVWYWx1ZXMobWF0cml4LCB2YWxzKSB7XG4gIHJldmVyc2VVbml0cy5yZWR1Y2UoZnVuY3Rpb24gKHByZXZpb3VzLCBjdXJyZW50KSB7XG4gICAgaWYgKCFpc1VuZGVmaW5lZCh2YWxzW2N1cnJlbnRdKSkge1xuICAgICAgaWYgKHByZXZpb3VzKSB7XG4gICAgICAgIGNvbnZlcnQobWF0cml4LCB2YWxzLCBwcmV2aW91cywgdmFscywgY3VycmVudCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjdXJyZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcHJldmlvdXM7XG4gICAgfVxuICB9LCBudWxsKTtcbn1cbi8qKlxuICogQSBEdXJhdGlvbiBvYmplY3QgcmVwcmVzZW50cyBhIHBlcmlvZCBvZiB0aW1lLCBsaWtlIFwiMiBtb250aHNcIiBvciBcIjEgZGF5LCAxIGhvdXJcIi4gQ29uY2VwdHVhbGx5LCBpdCdzIGp1c3QgYSBtYXAgb2YgdW5pdHMgdG8gdGhlaXIgcXVhbnRpdGllcywgYWNjb21wYW5pZWQgYnkgc29tZSBhZGRpdGlvbmFsIGNvbmZpZ3VyYXRpb24gYW5kIG1ldGhvZHMgZm9yIGNyZWF0aW5nLCBwYXJzaW5nLCBpbnRlcnJvZ2F0aW5nLCB0cmFuc2Zvcm1pbmcsIGFuZCBmb3JtYXR0aW5nIHRoZW0uIFRoZXkgY2FuIGJlIHVzZWQgb24gdGhlaXIgb3duIG9yIGluIGNvbmp1bmN0aW9uIHdpdGggb3RoZXIgTHV4b24gdHlwZXM7IGZvciBleGFtcGxlLCB5b3UgY2FuIHVzZSB7QGxpbmsgRGF0ZVRpbWUjcGx1c30gdG8gYWRkIGEgRHVyYXRpb24gb2JqZWN0IHRvIGEgRGF0ZVRpbWUsIHByb2R1Y2luZyBhbm90aGVyIERhdGVUaW1lLlxuICpcbiAqIEhlcmUgaXMgYSBicmllZiBvdmVydmlldyBvZiBjb21tb25seSB1c2VkIG1ldGhvZHMgYW5kIGdldHRlcnMgaW4gRHVyYXRpb246XG4gKlxuICogKiAqKkNyZWF0aW9uKiogVG8gY3JlYXRlIGEgRHVyYXRpb24sIHVzZSB7QGxpbmsgRHVyYXRpb24jZnJvbU1pbGxpc30sIHtAbGluayBEdXJhdGlvbiNmcm9tT2JqZWN0fSwgb3Ige0BsaW5rIER1cmF0aW9uI2Zyb21JU099LlxuICogKiAqKlVuaXQgdmFsdWVzKiogU2VlIHRoZSB7QGxpbmsgRHVyYXRpb24jeWVhcnN9LCB7QGxpbmsgRHVyYXRpb24ubW9udGhzfSwge0BsaW5rIER1cmF0aW9uI3dlZWtzfSwge0BsaW5rIER1cmF0aW9uI2RheXN9LCB7QGxpbmsgRHVyYXRpb24jaG91cnN9LCB7QGxpbmsgRHVyYXRpb24jbWludXRlc30sIHtAbGluayBEdXJhdGlvbiNzZWNvbmRzfSwge0BsaW5rIER1cmF0aW9uI21pbGxpc2Vjb25kc30gYWNjZXNzb3JzLlxuICogKiAqKkNvbmZpZ3VyYXRpb24qKiBTZWUgIHtAbGluayBEdXJhdGlvbiNsb2NhbGV9IGFuZCB7QGxpbmsgRHVyYXRpb24jbnVtYmVyaW5nU3lzdGVtfSBhY2Nlc3NvcnMuXG4gKiAqICoqVHJhbnNmb3JtYXRpb24qKiBUbyBjcmVhdGUgbmV3IER1cmF0aW9ucyBvdXQgb2Ygb2xkIG9uZXMgdXNlIHtAbGluayBEdXJhdGlvbiNwbHVzfSwge0BsaW5rIER1cmF0aW9uI21pbnVzfSwge0BsaW5rIER1cmF0aW9uI25vcm1hbGl6ZX0sIHtAbGluayBEdXJhdGlvbiNzZXR9LCB7QGxpbmsgRHVyYXRpb24jcmVjb25maWd1cmV9LCB7QGxpbmsgRHVyYXRpb24jc2hpZnRUb30sIGFuZCB7QGxpbmsgRHVyYXRpb24jbmVnYXRlfS5cbiAqICogKipPdXRwdXQqKiBUbyBjb252ZXJ0IHRoZSBEdXJhdGlvbiBpbnRvIG90aGVyIHJlcHJlc2VudGF0aW9ucywgc2VlIHtAbGluayBEdXJhdGlvbiNhc30sIHtAbGluayBEdXJhdGlvbiN0b0lTT30sIHtAbGluayBEdXJhdGlvbiN0b0Zvcm1hdH0sIGFuZCB7QGxpbmsgRHVyYXRpb24jdG9KU09OfVxuICpcbiAqIFRoZXJlJ3MgYXJlIG1vcmUgbWV0aG9kcyBkb2N1bWVudGVkIGJlbG93LiBJbiBhZGRpdGlvbiwgZm9yIG1vcmUgaW5mb3JtYXRpb24gb24gc3VidGxlciB0b3BpY3MgbGlrZSBpbnRlcm5hdGlvbmFsaXphdGlvbiBhbmQgdmFsaWRpdHksIHNlZSB0aGUgZXh0ZXJuYWwgZG9jdW1lbnRhdGlvbi5cbiAqL1xuXG5cbnZhciBEdXJhdGlvbiA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZnVuY3Rpb24gRHVyYXRpb24oY29uZmlnKSB7XG4gICAgdmFyIGFjY3VyYXRlID0gY29uZmlnLmNvbnZlcnNpb25BY2N1cmFjeSA9PT0gXCJsb25ndGVybVwiIHx8IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIEBhY2Nlc3MgcHJpdmF0ZVxuICAgICAqL1xuXG4gICAgdGhpcy52YWx1ZXMgPSBjb25maWcudmFsdWVzO1xuICAgIC8qKlxuICAgICAqIEBhY2Nlc3MgcHJpdmF0ZVxuICAgICAqL1xuXG4gICAgdGhpcy5sb2MgPSBjb25maWcubG9jIHx8IExvY2FsZS5jcmVhdGUoKTtcbiAgICAvKipcbiAgICAgKiBAYWNjZXNzIHByaXZhdGVcbiAgICAgKi9cblxuICAgIHRoaXMuY29udmVyc2lvbkFjY3VyYWN5ID0gYWNjdXJhdGUgPyBcImxvbmd0ZXJtXCIgOiBcImNhc3VhbFwiO1xuICAgIC8qKlxuICAgICAqIEBhY2Nlc3MgcHJpdmF0ZVxuICAgICAqL1xuXG4gICAgdGhpcy5pbnZhbGlkID0gY29uZmlnLmludmFsaWQgfHwgbnVsbDtcbiAgICAvKipcbiAgICAgKiBAYWNjZXNzIHByaXZhdGVcbiAgICAgKi9cblxuICAgIHRoaXMubWF0cml4ID0gYWNjdXJhdGUgPyBhY2N1cmF0ZU1hdHJpeCA6IGNhc3VhbE1hdHJpeDtcbiAgICAvKipcbiAgICAgKiBAYWNjZXNzIHByaXZhdGVcbiAgICAgKi9cblxuICAgIHRoaXMuaXNMdXhvbkR1cmF0aW9uID0gdHJ1ZTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIER1cmF0aW9uIGZyb20gYSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzLlxuICAgKiBAcGFyYW0ge251bWJlcn0gY291bnQgb2YgbWlsbGlzZWNvbmRzXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gb3B0aW9ucyBmb3IgcGFyc2luZ1xuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMubG9jYWxlPSdlbi1VUyddIC0gdGhlIGxvY2FsZSB0byB1c2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdHMubnVtYmVyaW5nU3lzdGVtIC0gdGhlIG51bWJlcmluZyBzeXN0ZW0gdG8gdXNlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5jb252ZXJzaW9uQWNjdXJhY3k9J2Nhc3VhbCddIC0gdGhlIGNvbnZlcnNpb24gc3lzdGVtIHRvIHVzZVxuICAgKiBAcmV0dXJuIHtEdXJhdGlvbn1cbiAgICovXG5cblxuICBEdXJhdGlvbi5mcm9tTWlsbGlzID0gZnVuY3Rpb24gZnJvbU1pbGxpcyhjb3VudCwgb3B0cykge1xuICAgIHJldHVybiBEdXJhdGlvbi5mcm9tT2JqZWN0KHtcbiAgICAgIG1pbGxpc2Vjb25kczogY291bnRcbiAgICB9LCBvcHRzKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGEgRHVyYXRpb24gZnJvbSBhIEphdmFTY3JpcHQgb2JqZWN0IHdpdGgga2V5cyBsaWtlICd5ZWFycycgYW5kICdob3VycycuXG4gICAqIElmIHRoaXMgb2JqZWN0IGlzIGVtcHR5IHRoZW4gYSB6ZXJvIG1pbGxpc2Vjb25kcyBkdXJhdGlvbiBpcyByZXR1cm5lZC5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9iaiAtIHRoZSBvYmplY3QgdG8gY3JlYXRlIHRoZSBEYXRlVGltZSBmcm9tXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvYmoueWVhcnNcbiAgICogQHBhcmFtIHtudW1iZXJ9IG9iai5xdWFydGVyc1xuICAgKiBAcGFyYW0ge251bWJlcn0gb2JqLm1vbnRoc1xuICAgKiBAcGFyYW0ge251bWJlcn0gb2JqLndlZWtzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvYmouZGF5c1xuICAgKiBAcGFyYW0ge251bWJlcn0gb2JqLmhvdXJzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvYmoubWludXRlc1xuICAgKiBAcGFyYW0ge251bWJlcn0gb2JqLnNlY29uZHNcbiAgICogQHBhcmFtIHtudW1iZXJ9IG9iai5taWxsaXNlY29uZHNcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRzPVtdXSAtIG9wdGlvbnMgZm9yIGNyZWF0aW5nIHRoaXMgRHVyYXRpb25cbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLmxvY2FsZT0nZW4tVVMnXSAtIHRoZSBsb2NhbGUgdG8gdXNlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRzLm51bWJlcmluZ1N5c3RlbSAtIHRoZSBudW1iZXJpbmcgc3lzdGVtIHRvIHVzZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMuY29udmVyc2lvbkFjY3VyYWN5PSdjYXN1YWwnXSAtIHRoZSBjb252ZXJzaW9uIHN5c3RlbSB0byB1c2VcbiAgICogQHJldHVybiB7RHVyYXRpb259XG4gICAqL1xuICA7XG5cbiAgRHVyYXRpb24uZnJvbU9iamVjdCA9IGZ1bmN0aW9uIGZyb21PYmplY3Qob2JqLCBvcHRzKSB7XG4gICAgaWYgKG9wdHMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cblxuICAgIGlmIChvYmogPT0gbnVsbCB8fCB0eXBlb2Ygb2JqICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoXCJEdXJhdGlvbi5mcm9tT2JqZWN0OiBhcmd1bWVudCBleHBlY3RlZCB0byBiZSBhbiBvYmplY3QsIGdvdCBcIiArIChvYmogPT09IG51bGwgPyBcIm51bGxcIiA6IHR5cGVvZiBvYmopKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IER1cmF0aW9uKHtcbiAgICAgIHZhbHVlczogbm9ybWFsaXplT2JqZWN0KG9iaiwgRHVyYXRpb24ubm9ybWFsaXplVW5pdCksXG4gICAgICBsb2M6IExvY2FsZS5mcm9tT2JqZWN0KG9wdHMpLFxuICAgICAgY29udmVyc2lvbkFjY3VyYWN5OiBvcHRzLmNvbnZlcnNpb25BY2N1cmFjeVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBEdXJhdGlvbiBmcm9tIER1cmF0aW9uTGlrZS5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3QgfCBudW1iZXIgfCBEdXJhdGlvbn0gZHVyYXRpb25MaWtlXG4gICAqIE9uZSBvZjpcbiAgICogLSBvYmplY3Qgd2l0aCBrZXlzIGxpa2UgJ3llYXJzJyBhbmQgJ2hvdXJzJy5cbiAgICogLSBudW1iZXIgcmVwcmVzZW50aW5nIG1pbGxpc2Vjb25kc1xuICAgKiAtIER1cmF0aW9uIGluc3RhbmNlXG4gICAqIEByZXR1cm4ge0R1cmF0aW9ufVxuICAgKi9cbiAgO1xuXG4gIER1cmF0aW9uLmZyb21EdXJhdGlvbkxpa2UgPSBmdW5jdGlvbiBmcm9tRHVyYXRpb25MaWtlKGR1cmF0aW9uTGlrZSkge1xuICAgIGlmIChpc051bWJlcihkdXJhdGlvbkxpa2UpKSB7XG4gICAgICByZXR1cm4gRHVyYXRpb24uZnJvbU1pbGxpcyhkdXJhdGlvbkxpa2UpO1xuICAgIH0gZWxzZSBpZiAoRHVyYXRpb24uaXNEdXJhdGlvbihkdXJhdGlvbkxpa2UpKSB7XG4gICAgICByZXR1cm4gZHVyYXRpb25MaWtlO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGR1cmF0aW9uTGlrZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgcmV0dXJuIER1cmF0aW9uLmZyb21PYmplY3QoZHVyYXRpb25MaWtlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFwiVW5rbm93biBkdXJhdGlvbiBhcmd1bWVudCBcIiArIGR1cmF0aW9uTGlrZSArIFwiIG9mIHR5cGUgXCIgKyB0eXBlb2YgZHVyYXRpb25MaWtlKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhIER1cmF0aW9uIGZyb20gYW4gSVNPIDg2MDEgZHVyYXRpb24gc3RyaW5nLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIHRleHQgdG8gcGFyc2VcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdHMgLSBvcHRpb25zIGZvciBwYXJzaW5nXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5sb2NhbGU9J2VuLVVTJ10gLSB0aGUgbG9jYWxlIHRvIHVzZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0cy5udW1iZXJpbmdTeXN0ZW0gLSB0aGUgbnVtYmVyaW5nIHN5c3RlbSB0byB1c2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLmNvbnZlcnNpb25BY2N1cmFjeT0nY2FzdWFsJ10gLSB0aGUgY29udmVyc2lvbiBzeXN0ZW0gdG8gdXNlXG4gICAqIEBzZWUgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSVNPXzg2MDEjRHVyYXRpb25zXG4gICAqIEBleGFtcGxlIER1cmF0aW9uLmZyb21JU08oJ1AzWTZNMVc0RFQxMkgzME01UycpLnRvT2JqZWN0KCkgLy89PiB7IHllYXJzOiAzLCBtb250aHM6IDYsIHdlZWtzOiAxLCBkYXlzOiA0LCBob3VyczogMTIsIG1pbnV0ZXM6IDMwLCBzZWNvbmRzOiA1IH1cbiAgICogQGV4YW1wbGUgRHVyYXRpb24uZnJvbUlTTygnUFQyM0gnKS50b09iamVjdCgpIC8vPT4geyBob3VyczogMjMgfVxuICAgKiBAZXhhbXBsZSBEdXJhdGlvbi5mcm9tSVNPKCdQNVkzTScpLnRvT2JqZWN0KCkgLy89PiB7IHllYXJzOiA1LCBtb250aHM6IDMgfVxuICAgKiBAcmV0dXJuIHtEdXJhdGlvbn1cbiAgICovXG4gIDtcblxuICBEdXJhdGlvbi5mcm9tSVNPID0gZnVuY3Rpb24gZnJvbUlTTyh0ZXh0LCBvcHRzKSB7XG4gICAgdmFyIF9wYXJzZUlTT0R1cmF0aW9uID0gcGFyc2VJU09EdXJhdGlvbih0ZXh0KSxcbiAgICAgICAgcGFyc2VkID0gX3BhcnNlSVNPRHVyYXRpb25bMF07XG5cbiAgICBpZiAocGFyc2VkKSB7XG4gICAgICByZXR1cm4gRHVyYXRpb24uZnJvbU9iamVjdChwYXJzZWQsIG9wdHMpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gRHVyYXRpb24uaW52YWxpZChcInVucGFyc2FibGVcIiwgXCJ0aGUgaW5wdXQgXFxcIlwiICsgdGV4dCArIFwiXFxcIiBjYW4ndCBiZSBwYXJzZWQgYXMgSVNPIDg2MDFcIik7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBEdXJhdGlvbiBmcm9tIGFuIElTTyA4NjAxIHRpbWUgc3RyaW5nLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIHRleHQgdG8gcGFyc2VcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdHMgLSBvcHRpb25zIGZvciBwYXJzaW5nXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5sb2NhbGU9J2VuLVVTJ10gLSB0aGUgbG9jYWxlIHRvIHVzZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0cy5udW1iZXJpbmdTeXN0ZW0gLSB0aGUgbnVtYmVyaW5nIHN5c3RlbSB0byB1c2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLmNvbnZlcnNpb25BY2N1cmFjeT0nY2FzdWFsJ10gLSB0aGUgY29udmVyc2lvbiBzeXN0ZW0gdG8gdXNlXG4gICAqIEBzZWUgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSVNPXzg2MDEjVGltZXNcbiAgICogQGV4YW1wbGUgRHVyYXRpb24uZnJvbUlTT1RpbWUoJzExOjIyOjMzLjQ0NCcpLnRvT2JqZWN0KCkgLy89PiB7IGhvdXJzOiAxMSwgbWludXRlczogMjIsIHNlY29uZHM6IDMzLCBtaWxsaXNlY29uZHM6IDQ0NCB9XG4gICAqIEBleGFtcGxlIER1cmF0aW9uLmZyb21JU09UaW1lKCcxMTowMCcpLnRvT2JqZWN0KCkgLy89PiB7IGhvdXJzOiAxMSwgbWludXRlczogMCwgc2Vjb25kczogMCB9XG4gICAqIEBleGFtcGxlIER1cmF0aW9uLmZyb21JU09UaW1lKCdUMTE6MDAnKS50b09iamVjdCgpIC8vPT4geyBob3VyczogMTEsIG1pbnV0ZXM6IDAsIHNlY29uZHM6IDAgfVxuICAgKiBAZXhhbXBsZSBEdXJhdGlvbi5mcm9tSVNPVGltZSgnMTEwMCcpLnRvT2JqZWN0KCkgLy89PiB7IGhvdXJzOiAxMSwgbWludXRlczogMCwgc2Vjb25kczogMCB9XG4gICAqIEBleGFtcGxlIER1cmF0aW9uLmZyb21JU09UaW1lKCdUMTEwMCcpLnRvT2JqZWN0KCkgLy89PiB7IGhvdXJzOiAxMSwgbWludXRlczogMCwgc2Vjb25kczogMCB9XG4gICAqIEByZXR1cm4ge0R1cmF0aW9ufVxuICAgKi9cbiAgO1xuXG4gIER1cmF0aW9uLmZyb21JU09UaW1lID0gZnVuY3Rpb24gZnJvbUlTT1RpbWUodGV4dCwgb3B0cykge1xuICAgIHZhciBfcGFyc2VJU09UaW1lT25seSA9IHBhcnNlSVNPVGltZU9ubHkodGV4dCksXG4gICAgICAgIHBhcnNlZCA9IF9wYXJzZUlTT1RpbWVPbmx5WzBdO1xuXG4gICAgaWYgKHBhcnNlZCkge1xuICAgICAgcmV0dXJuIER1cmF0aW9uLmZyb21PYmplY3QocGFyc2VkLCBvcHRzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIER1cmF0aW9uLmludmFsaWQoXCJ1bnBhcnNhYmxlXCIsIFwidGhlIGlucHV0IFxcXCJcIiArIHRleHQgKyBcIlxcXCIgY2FuJ3QgYmUgcGFyc2VkIGFzIElTTyA4NjAxXCIpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGFuIGludmFsaWQgRHVyYXRpb24uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSByZWFzb24gLSBzaW1wbGUgc3RyaW5nIG9mIHdoeSB0aGlzIGRhdGV0aW1lIGlzIGludmFsaWQuIFNob3VsZCBub3QgY29udGFpbiBwYXJhbWV0ZXJzIG9yIGFueXRoaW5nIGVsc2UgZGF0YS1kZXBlbmRlbnRcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtleHBsYW5hdGlvbj1udWxsXSAtIGxvbmdlciBleHBsYW5hdGlvbiwgbWF5IGluY2x1ZGUgcGFyYW1ldGVycyBhbmQgb3RoZXIgdXNlZnVsIGRlYnVnZ2luZyBpbmZvcm1hdGlvblxuICAgKiBAcmV0dXJuIHtEdXJhdGlvbn1cbiAgICovXG4gIDtcblxuICBEdXJhdGlvbi5pbnZhbGlkID0gZnVuY3Rpb24gaW52YWxpZChyZWFzb24sIGV4cGxhbmF0aW9uKSB7XG4gICAgaWYgKGV4cGxhbmF0aW9uID09PSB2b2lkIDApIHtcbiAgICAgIGV4cGxhbmF0aW9uID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoIXJlYXNvbikge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFwibmVlZCB0byBzcGVjaWZ5IGEgcmVhc29uIHRoZSBEdXJhdGlvbiBpcyBpbnZhbGlkXCIpO1xuICAgIH1cblxuICAgIHZhciBpbnZhbGlkID0gcmVhc29uIGluc3RhbmNlb2YgSW52YWxpZCA/IHJlYXNvbiA6IG5ldyBJbnZhbGlkKHJlYXNvbiwgZXhwbGFuYXRpb24pO1xuXG4gICAgaWYgKFNldHRpbmdzLnRocm93T25JbnZhbGlkKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZER1cmF0aW9uRXJyb3IoaW52YWxpZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBuZXcgRHVyYXRpb24oe1xuICAgICAgICBpbnZhbGlkOiBpbnZhbGlkXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgRHVyYXRpb24ubm9ybWFsaXplVW5pdCA9IGZ1bmN0aW9uIG5vcm1hbGl6ZVVuaXQodW5pdCkge1xuICAgIHZhciBub3JtYWxpemVkID0ge1xuICAgICAgeWVhcjogXCJ5ZWFyc1wiLFxuICAgICAgeWVhcnM6IFwieWVhcnNcIixcbiAgICAgIHF1YXJ0ZXI6IFwicXVhcnRlcnNcIixcbiAgICAgIHF1YXJ0ZXJzOiBcInF1YXJ0ZXJzXCIsXG4gICAgICBtb250aDogXCJtb250aHNcIixcbiAgICAgIG1vbnRoczogXCJtb250aHNcIixcbiAgICAgIHdlZWs6IFwid2Vla3NcIixcbiAgICAgIHdlZWtzOiBcIndlZWtzXCIsXG4gICAgICBkYXk6IFwiZGF5c1wiLFxuICAgICAgZGF5czogXCJkYXlzXCIsXG4gICAgICBob3VyOiBcImhvdXJzXCIsXG4gICAgICBob3VyczogXCJob3Vyc1wiLFxuICAgICAgbWludXRlOiBcIm1pbnV0ZXNcIixcbiAgICAgIG1pbnV0ZXM6IFwibWludXRlc1wiLFxuICAgICAgc2Vjb25kOiBcInNlY29uZHNcIixcbiAgICAgIHNlY29uZHM6IFwic2Vjb25kc1wiLFxuICAgICAgbWlsbGlzZWNvbmQ6IFwibWlsbGlzZWNvbmRzXCIsXG4gICAgICBtaWxsaXNlY29uZHM6IFwibWlsbGlzZWNvbmRzXCJcbiAgICB9W3VuaXQgPyB1bml0LnRvTG93ZXJDYXNlKCkgOiB1bml0XTtcbiAgICBpZiAoIW5vcm1hbGl6ZWQpIHRocm93IG5ldyBJbnZhbGlkVW5pdEVycm9yKHVuaXQpO1xuICAgIHJldHVybiBub3JtYWxpemVkO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBpZiBhbiBvYmplY3QgaXMgYSBEdXJhdGlvbi4gV29ya3MgYWNyb3NzIGNvbnRleHQgYm91bmRhcmllc1xuICAgKiBAcGFyYW0ge29iamVjdH0gb1xuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgO1xuXG4gIER1cmF0aW9uLmlzRHVyYXRpb24gPSBmdW5jdGlvbiBpc0R1cmF0aW9uKG8pIHtcbiAgICByZXR1cm4gbyAmJiBvLmlzTHV4b25EdXJhdGlvbiB8fCBmYWxzZTtcbiAgfVxuICAvKipcbiAgICogR2V0ICB0aGUgbG9jYWxlIG9mIGEgRHVyYXRpb24sIHN1Y2ggJ2VuLUdCJ1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKi9cbiAgO1xuXG4gIHZhciBfcHJvdG8gPSBEdXJhdGlvbi5wcm90b3R5cGU7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBEdXJhdGlvbiBmb3JtYXR0ZWQgYWNjb3JkaW5nIHRvIHRoZSBzcGVjaWZpZWQgZm9ybWF0IHN0cmluZy4gWW91IG1heSB1c2UgdGhlc2UgdG9rZW5zOlxuICAgKiAqIGBTYCBmb3IgbWlsbGlzZWNvbmRzXG4gICAqICogYHNgIGZvciBzZWNvbmRzXG4gICAqICogYG1gIGZvciBtaW51dGVzXG4gICAqICogYGhgIGZvciBob3Vyc1xuICAgKiAqIGBkYCBmb3IgZGF5c1xuICAgKiAqIGB3YCBmb3Igd2Vla3NcbiAgICogKiBgTWAgZm9yIG1vbnRoc1xuICAgKiAqIGB5YCBmb3IgeWVhcnNcbiAgICogTm90ZXM6XG4gICAqICogQWRkIHBhZGRpbmcgYnkgcmVwZWF0aW5nIHRoZSB0b2tlbiwgZS5nLiBcInl5XCIgcGFkcyB0aGUgeWVhcnMgdG8gdHdvIGRpZ2l0cywgXCJoaGhoXCIgcGFkcyB0aGUgaG91cnMgb3V0IHRvIGZvdXIgZGlnaXRzXG4gICAqICogVGhlIGR1cmF0aW9uIHdpbGwgYmUgY29udmVydGVkIHRvIHRoZSBzZXQgb2YgdW5pdHMgaW4gdGhlIGZvcm1hdCBzdHJpbmcgdXNpbmcge0BsaW5rIER1cmF0aW9uI3NoaWZ0VG99IGFuZCB0aGUgRHVyYXRpb25zJ3MgY29udmVyc2lvbiBhY2N1cmFjeSBzZXR0aW5nLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZm10IC0gdGhlIGZvcm1hdCBzdHJpbmdcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdHMgLSBvcHRpb25zXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMuZmxvb3I9dHJ1ZV0gLSBmbG9vciBudW1lcmljYWwgdmFsdWVzXG4gICAqIEBleGFtcGxlIER1cmF0aW9uLmZyb21PYmplY3QoeyB5ZWFyczogMSwgZGF5czogNiwgc2Vjb25kczogMiB9KS50b0Zvcm1hdChcInkgZCBzXCIpIC8vPT4gXCIxIDYgMlwiXG4gICAqIEBleGFtcGxlIER1cmF0aW9uLmZyb21PYmplY3QoeyB5ZWFyczogMSwgZGF5czogNiwgc2Vjb25kczogMiB9KS50b0Zvcm1hdChcInl5IGRkIHNzc1wiKSAvLz0+IFwiMDEgMDYgMDAyXCJcbiAgICogQGV4YW1wbGUgRHVyYXRpb24uZnJvbU9iamVjdCh7IHllYXJzOiAxLCBkYXlzOiA2LCBzZWNvbmRzOiAyIH0pLnRvRm9ybWF0KFwiTSBTXCIpIC8vPT4gXCIxMiA1MTg0MDIwMDBcIlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuICBfcHJvdG8udG9Gb3JtYXQgPSBmdW5jdGlvbiB0b0Zvcm1hdChmbXQsIG9wdHMpIHtcbiAgICBpZiAob3B0cyA9PT0gdm9pZCAwKSB7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuXG4gICAgLy8gcmV2ZXJzZS1jb21wYXQgc2luY2UgMS4yOyB3ZSBhbHdheXMgcm91bmQgZG93biBub3csIG5ldmVyIHVwLCBhbmQgd2UgZG8gaXQgYnkgZGVmYXVsdFxuICAgIHZhciBmbXRPcHRzID0gX2V4dGVuZHMoe30sIG9wdHMsIHtcbiAgICAgIGZsb29yOiBvcHRzLnJvdW5kICE9PSBmYWxzZSAmJiBvcHRzLmZsb29yICE9PSBmYWxzZVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXMuaXNWYWxpZCA/IEZvcm1hdHRlci5jcmVhdGUodGhpcy5sb2MsIGZtdE9wdHMpLmZvcm1hdER1cmF0aW9uRnJvbVN0cmluZyh0aGlzLCBmbXQpIDogSU5WQUxJRCQyO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgRHVyYXRpb24gd2l0aCBhbGwgdW5pdHMgaW5jbHVkZWQuXG4gICAqIFRvIG1vZGlmeSBpdHMgYmVoYXZpb3IgdXNlIHRoZSBgbGlzdFN0eWxlYCBhbmQgYW55IEludGwuTnVtYmVyRm9ybWF0IG9wdGlvbiwgdGhvdWdoIGB1bml0RGlzcGxheWAgaXMgZXNwZWNpYWxseSByZWxldmFudC5cbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9JbnRsL051bWJlckZvcm1hdFxuICAgKiBAcGFyYW0gb3B0cyAtIE9uIG9wdGlvbiBvYmplY3QgdG8gb3ZlcnJpZGUgdGhlIGZvcm1hdHRpbmcuIEFjY2VwdHMgdGhlIHNhbWUga2V5cyBhcyB0aGUgb3B0aW9ucyBwYXJhbWV0ZXIgb2YgdGhlIG5hdGl2ZSBgSW50Lk51bWJlckZvcm1hdGAgY29uc3RydWN0b3IsIGFzIHdlbGwgYXMgYGxpc3RTdHlsZWAuXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYGpzXG4gICAqIHZhciBkdXIgPSBEdXJhdGlvbi5mcm9tT2JqZWN0KHsgZGF5czogMSwgaG91cnM6IDUsIG1pbnV0ZXM6IDYgfSlcbiAgICogZHVyLnRvSHVtYW4oKSAvLz0+ICcxIGRheSwgNSBob3VycywgNiBtaW51dGVzJ1xuICAgKiBkdXIudG9IdW1hbih7IGxpc3RTdHlsZTogXCJsb25nXCIgfSkgLy89PiAnMSBkYXksIDUgaG91cnMsIGFuZCA2IG1pbnV0ZXMnXG4gICAqIGR1ci50b0h1bWFuKHsgdW5pdERpc3BsYXk6IFwic2hvcnRcIiB9KSAvLz0+ICcxIGRheSwgNSBociwgNiBtaW4nXG4gICAqIGBgYFxuICAgKi9cbiAgO1xuXG4gIF9wcm90by50b0h1bWFuID0gZnVuY3Rpb24gdG9IdW1hbihvcHRzKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGlmIChvcHRzID09PSB2b2lkIDApIHtcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG5cbiAgICB2YXIgbCA9IG9yZGVyZWRVbml0cyQxLm1hcChmdW5jdGlvbiAodW5pdCkge1xuICAgICAgdmFyIHZhbCA9IF90aGlzLnZhbHVlc1t1bml0XTtcblxuICAgICAgaWYgKGlzVW5kZWZpbmVkKHZhbCkpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfdGhpcy5sb2MubnVtYmVyRm9ybWF0dGVyKF9leHRlbmRzKHtcbiAgICAgICAgc3R5bGU6IFwidW5pdFwiLFxuICAgICAgICB1bml0RGlzcGxheTogXCJsb25nXCJcbiAgICAgIH0sIG9wdHMsIHtcbiAgICAgICAgdW5pdDogdW5pdC5zbGljZSgwLCAtMSlcbiAgICAgIH0pKS5mb3JtYXQodmFsKTtcbiAgICB9KS5maWx0ZXIoZnVuY3Rpb24gKG4pIHtcbiAgICAgIHJldHVybiBuO1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLmxvYy5saXN0Rm9ybWF0dGVyKF9leHRlbmRzKHtcbiAgICAgIHR5cGU6IFwiY29uanVuY3Rpb25cIixcbiAgICAgIHN0eWxlOiBvcHRzLmxpc3RTdHlsZSB8fCBcIm5hcnJvd1wiXG4gICAgfSwgb3B0cykpLmZvcm1hdChsKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhIEphdmFTY3JpcHQgb2JqZWN0IHdpdGggdGhpcyBEdXJhdGlvbidzIHZhbHVlcy5cbiAgICogQGV4YW1wbGUgRHVyYXRpb24uZnJvbU9iamVjdCh7IHllYXJzOiAxLCBkYXlzOiA2LCBzZWNvbmRzOiAyIH0pLnRvT2JqZWN0KCkgLy89PiB7IHllYXJzOiAxLCBkYXlzOiA2LCBzZWNvbmRzOiAyIH1cbiAgICogQHJldHVybiB7T2JqZWN0fVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by50b09iamVjdCA9IGZ1bmN0aW9uIHRvT2JqZWN0KCkge1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKSByZXR1cm4ge307XG4gICAgcmV0dXJuIF9leHRlbmRzKHt9LCB0aGlzLnZhbHVlcyk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgYW4gSVNPIDg2MDEtY29tcGxpYW50IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIER1cmF0aW9uLlxuICAgKiBAc2VlIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0lTT184NjAxI0R1cmF0aW9uc1xuICAgKiBAZXhhbXBsZSBEdXJhdGlvbi5mcm9tT2JqZWN0KHsgeWVhcnM6IDMsIHNlY29uZHM6IDQ1IH0pLnRvSVNPKCkgLy89PiAnUDNZVDQ1UydcbiAgICogQGV4YW1wbGUgRHVyYXRpb24uZnJvbU9iamVjdCh7IG1vbnRoczogNCwgc2Vjb25kczogNDUgfSkudG9JU08oKSAvLz0+ICdQNE1UNDVTJ1xuICAgKiBAZXhhbXBsZSBEdXJhdGlvbi5mcm9tT2JqZWN0KHsgbW9udGhzOiA1IH0pLnRvSVNPKCkgLy89PiAnUDVNJ1xuICAgKiBAZXhhbXBsZSBEdXJhdGlvbi5mcm9tT2JqZWN0KHsgbWludXRlczogNSB9KS50b0lTTygpIC8vPT4gJ1BUNU0nXG4gICAqIEBleGFtcGxlIER1cmF0aW9uLmZyb21PYmplY3QoeyBtaWxsaXNlY29uZHM6IDYgfSkudG9JU08oKSAvLz0+ICdQVDAuMDA2UydcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by50b0lTTyA9IGZ1bmN0aW9uIHRvSVNPKCkge1xuICAgIC8vIHdlIGNvdWxkIHVzZSB0aGUgZm9ybWF0dGVyLCBidXQgdGhpcyBpcyBhbiBlYXNpZXIgd2F5IHRvIGdldCB0aGUgbWluaW11bSBzdHJpbmdcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCkgcmV0dXJuIG51bGw7XG4gICAgdmFyIHMgPSBcIlBcIjtcbiAgICBpZiAodGhpcy55ZWFycyAhPT0gMCkgcyArPSB0aGlzLnllYXJzICsgXCJZXCI7XG4gICAgaWYgKHRoaXMubW9udGhzICE9PSAwIHx8IHRoaXMucXVhcnRlcnMgIT09IDApIHMgKz0gdGhpcy5tb250aHMgKyB0aGlzLnF1YXJ0ZXJzICogMyArIFwiTVwiO1xuICAgIGlmICh0aGlzLndlZWtzICE9PSAwKSBzICs9IHRoaXMud2Vla3MgKyBcIldcIjtcbiAgICBpZiAodGhpcy5kYXlzICE9PSAwKSBzICs9IHRoaXMuZGF5cyArIFwiRFwiO1xuICAgIGlmICh0aGlzLmhvdXJzICE9PSAwIHx8IHRoaXMubWludXRlcyAhPT0gMCB8fCB0aGlzLnNlY29uZHMgIT09IDAgfHwgdGhpcy5taWxsaXNlY29uZHMgIT09IDApIHMgKz0gXCJUXCI7XG4gICAgaWYgKHRoaXMuaG91cnMgIT09IDApIHMgKz0gdGhpcy5ob3VycyArIFwiSFwiO1xuICAgIGlmICh0aGlzLm1pbnV0ZXMgIT09IDApIHMgKz0gdGhpcy5taW51dGVzICsgXCJNXCI7XG4gICAgaWYgKHRoaXMuc2Vjb25kcyAhPT0gMCB8fCB0aGlzLm1pbGxpc2Vjb25kcyAhPT0gMCkgLy8gdGhpcyB3aWxsIGhhbmRsZSBcImZsb2F0aW5nIHBvaW50IG1hZG5lc3NcIiBieSByZW1vdmluZyBleHRyYSBkZWNpbWFsIHBsYWNlc1xuICAgICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNTg4MDA0L2lzLWZsb2F0aW5nLXBvaW50LW1hdGgtYnJva2VuXG4gICAgICBzICs9IHJvdW5kVG8odGhpcy5zZWNvbmRzICsgdGhpcy5taWxsaXNlY29uZHMgLyAxMDAwLCAzKSArIFwiU1wiO1xuICAgIGlmIChzID09PSBcIlBcIikgcyArPSBcIlQwU1wiO1xuICAgIHJldHVybiBzO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIElTTyA4NjAxLWNvbXBsaWFudCBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBEdXJhdGlvbiwgZm9ybWF0dGVkIGFzIGEgdGltZSBvZiBkYXkuXG4gICAqIE5vdGUgdGhhdCB0aGlzIHdpbGwgcmV0dXJuIG51bGwgaWYgdGhlIGR1cmF0aW9uIGlzIGludmFsaWQsIG5lZ2F0aXZlLCBvciBlcXVhbCB0byBvciBncmVhdGVyIHRoYW4gMjQgaG91cnMuXG4gICAqIEBzZWUgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSVNPXzg2MDEjVGltZXNcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdHMgLSBvcHRpb25zXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMuc3VwcHJlc3NNaWxsaXNlY29uZHM9ZmFsc2VdIC0gZXhjbHVkZSBtaWxsaXNlY29uZHMgZnJvbSB0aGUgZm9ybWF0IGlmIHRoZXkncmUgMFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLnN1cHByZXNzU2Vjb25kcz1mYWxzZV0gLSBleGNsdWRlIHNlY29uZHMgZnJvbSB0aGUgZm9ybWF0IGlmIHRoZXkncmUgMFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLmluY2x1ZGVQcmVmaXg9ZmFsc2VdIC0gaW5jbHVkZSB0aGUgYFRgIHByZWZpeFxuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMuZm9ybWF0PSdleHRlbmRlZCddIC0gY2hvb3NlIGJldHdlZW4gdGhlIGJhc2ljIGFuZCBleHRlbmRlZCBmb3JtYXRcbiAgICogQGV4YW1wbGUgRHVyYXRpb24uZnJvbU9iamVjdCh7IGhvdXJzOiAxMSB9KS50b0lTT1RpbWUoKSAvLz0+ICcxMTowMDowMC4wMDAnXG4gICAqIEBleGFtcGxlIER1cmF0aW9uLmZyb21PYmplY3QoeyBob3VyczogMTEgfSkudG9JU09UaW1lKHsgc3VwcHJlc3NNaWxsaXNlY29uZHM6IHRydWUgfSkgLy89PiAnMTE6MDA6MDAnXG4gICAqIEBleGFtcGxlIER1cmF0aW9uLmZyb21PYmplY3QoeyBob3VyczogMTEgfSkudG9JU09UaW1lKHsgc3VwcHJlc3NTZWNvbmRzOiB0cnVlIH0pIC8vPT4gJzExOjAwJ1xuICAgKiBAZXhhbXBsZSBEdXJhdGlvbi5mcm9tT2JqZWN0KHsgaG91cnM6IDExIH0pLnRvSVNPVGltZSh7IGluY2x1ZGVQcmVmaXg6IHRydWUgfSkgLy89PiAnVDExOjAwOjAwLjAwMCdcbiAgICogQGV4YW1wbGUgRHVyYXRpb24uZnJvbU9iamVjdCh7IGhvdXJzOiAxMSB9KS50b0lTT1RpbWUoeyBmb3JtYXQ6ICdiYXNpYycgfSkgLy89PiAnMTEwMDAwLjAwMCdcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by50b0lTT1RpbWUgPSBmdW5jdGlvbiB0b0lTT1RpbWUob3B0cykge1xuICAgIGlmIChvcHRzID09PSB2b2lkIDApIHtcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuaXNWYWxpZCkgcmV0dXJuIG51bGw7XG4gICAgdmFyIG1pbGxpcyA9IHRoaXMudG9NaWxsaXMoKTtcbiAgICBpZiAobWlsbGlzIDwgMCB8fCBtaWxsaXMgPj0gODY0MDAwMDApIHJldHVybiBudWxsO1xuICAgIG9wdHMgPSBfZXh0ZW5kcyh7XG4gICAgICBzdXBwcmVzc01pbGxpc2Vjb25kczogZmFsc2UsXG4gICAgICBzdXBwcmVzc1NlY29uZHM6IGZhbHNlLFxuICAgICAgaW5jbHVkZVByZWZpeDogZmFsc2UsXG4gICAgICBmb3JtYXQ6IFwiZXh0ZW5kZWRcIlxuICAgIH0sIG9wdHMpO1xuICAgIHZhciB2YWx1ZSA9IHRoaXMuc2hpZnRUbyhcImhvdXJzXCIsIFwibWludXRlc1wiLCBcInNlY29uZHNcIiwgXCJtaWxsaXNlY29uZHNcIik7XG4gICAgdmFyIGZtdCA9IG9wdHMuZm9ybWF0ID09PSBcImJhc2ljXCIgPyBcImhobW1cIiA6IFwiaGg6bW1cIjtcblxuICAgIGlmICghb3B0cy5zdXBwcmVzc1NlY29uZHMgfHwgdmFsdWUuc2Vjb25kcyAhPT0gMCB8fCB2YWx1ZS5taWxsaXNlY29uZHMgIT09IDApIHtcbiAgICAgIGZtdCArPSBvcHRzLmZvcm1hdCA9PT0gXCJiYXNpY1wiID8gXCJzc1wiIDogXCI6c3NcIjtcblxuICAgICAgaWYgKCFvcHRzLnN1cHByZXNzTWlsbGlzZWNvbmRzIHx8IHZhbHVlLm1pbGxpc2Vjb25kcyAhPT0gMCkge1xuICAgICAgICBmbXQgKz0gXCIuU1NTXCI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHN0ciA9IHZhbHVlLnRvRm9ybWF0KGZtdCk7XG5cbiAgICBpZiAob3B0cy5pbmNsdWRlUHJlZml4KSB7XG4gICAgICBzdHIgPSBcIlRcIiArIHN0cjtcbiAgICB9XG5cbiAgICByZXR1cm4gc3RyO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIElTTyA4NjAxIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgRHVyYXRpb24gYXBwcm9wcmlhdGUgZm9yIHVzZSBpbiBKU09OLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICByZXR1cm4gdGhpcy50b0lTTygpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIElTTyA4NjAxIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgRHVyYXRpb24gYXBwcm9wcmlhdGUgZm9yIHVzZSBpbiBkZWJ1Z2dpbmcuXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG4gIDtcblxuICBfcHJvdG8udG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy50b0lTTygpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIG1pbGxpc2Vjb25kcyB2YWx1ZSBvZiB0aGlzIER1cmF0aW9uLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnRvTWlsbGlzID0gZnVuY3Rpb24gdG9NaWxsaXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuYXMoXCJtaWxsaXNlY29uZHNcIik7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgYW4gbWlsbGlzZWNvbmRzIHZhbHVlIG9mIHRoaXMgRHVyYXRpb24uIEFsaWFzIG9mIHtAbGluayB0b01pbGxpc31cbiAgICogQHJldHVybiB7bnVtYmVyfVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by52YWx1ZU9mID0gZnVuY3Rpb24gdmFsdWVPZigpIHtcbiAgICByZXR1cm4gdGhpcy50b01pbGxpcygpO1xuICB9XG4gIC8qKlxuICAgKiBNYWtlIHRoaXMgRHVyYXRpb24gbG9uZ2VyIGJ5IHRoZSBzcGVjaWZpZWQgYW1vdW50LiBSZXR1cm4gYSBuZXdseS1jb25zdHJ1Y3RlZCBEdXJhdGlvbi5cbiAgICogQHBhcmFtIHtEdXJhdGlvbnxPYmplY3R8bnVtYmVyfSBkdXJhdGlvbiAtIFRoZSBhbW91bnQgdG8gYWRkLiBFaXRoZXIgYSBMdXhvbiBEdXJhdGlvbiwgYSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzLCB0aGUgb2JqZWN0IGFyZ3VtZW50IHRvIER1cmF0aW9uLmZyb21PYmplY3QoKVxuICAgKiBAcmV0dXJuIHtEdXJhdGlvbn1cbiAgICovXG4gIDtcblxuICBfcHJvdG8ucGx1cyA9IGZ1bmN0aW9uIHBsdXMoZHVyYXRpb24pIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCkgcmV0dXJuIHRoaXM7XG4gICAgdmFyIGR1ciA9IER1cmF0aW9uLmZyb21EdXJhdGlvbkxpa2UoZHVyYXRpb24pLFxuICAgICAgICByZXN1bHQgPSB7fTtcblxuICAgIGZvciAodmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyTG9vc2Uob3JkZXJlZFVuaXRzJDEpLCBfc3RlcDsgIShfc3RlcCA9IF9pdGVyYXRvcigpKS5kb25lOykge1xuICAgICAgdmFyIGsgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgaWYgKGhhc093blByb3BlcnR5KGR1ci52YWx1ZXMsIGspIHx8IGhhc093blByb3BlcnR5KHRoaXMudmFsdWVzLCBrKSkge1xuICAgICAgICByZXN1bHRba10gPSBkdXIuZ2V0KGspICsgdGhpcy5nZXQoayk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGNsb25lJDEodGhpcywge1xuICAgICAgdmFsdWVzOiByZXN1bHRcbiAgICB9LCB0cnVlKTtcbiAgfVxuICAvKipcbiAgICogTWFrZSB0aGlzIER1cmF0aW9uIHNob3J0ZXIgYnkgdGhlIHNwZWNpZmllZCBhbW91bnQuIFJldHVybiBhIG5ld2x5LWNvbnN0cnVjdGVkIER1cmF0aW9uLlxuICAgKiBAcGFyYW0ge0R1cmF0aW9ufE9iamVjdHxudW1iZXJ9IGR1cmF0aW9uIC0gVGhlIGFtb3VudCB0byBzdWJ0cmFjdC4gRWl0aGVyIGEgTHV4b24gRHVyYXRpb24sIGEgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcywgdGhlIG9iamVjdCBhcmd1bWVudCB0byBEdXJhdGlvbi5mcm9tT2JqZWN0KClcbiAgICogQHJldHVybiB7RHVyYXRpb259XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLm1pbnVzID0gZnVuY3Rpb24gbWludXMoZHVyYXRpb24pIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCkgcmV0dXJuIHRoaXM7XG4gICAgdmFyIGR1ciA9IER1cmF0aW9uLmZyb21EdXJhdGlvbkxpa2UoZHVyYXRpb24pO1xuICAgIHJldHVybiB0aGlzLnBsdXMoZHVyLm5lZ2F0ZSgpKTtcbiAgfVxuICAvKipcbiAgICogU2NhbGUgdGhpcyBEdXJhdGlvbiBieSB0aGUgc3BlY2lmaWVkIGFtb3VudC4gUmV0dXJuIGEgbmV3bHktY29uc3RydWN0ZWQgRHVyYXRpb24uXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IHRvIGVhY2ggdW5pdC4gQXJpdHkgaXMgMSBvciAyOiB0aGUgdmFsdWUgb2YgdGhlIHVuaXQgYW5kLCBvcHRpb25hbGx5LCB0aGUgdW5pdCBuYW1lLiBNdXN0IHJldHVybiBhIG51bWJlci5cbiAgICogQGV4YW1wbGUgRHVyYXRpb24uZnJvbU9iamVjdCh7IGhvdXJzOiAxLCBtaW51dGVzOiAzMCB9KS5tYXBVbml0cyh4ID0+IHggKiAyKSAvLz0+IHsgaG91cnM6IDIsIG1pbnV0ZXM6IDYwIH1cbiAgICogQGV4YW1wbGUgRHVyYXRpb24uZnJvbU9iamVjdCh7IGhvdXJzOiAxLCBtaW51dGVzOiAzMCB9KS5tYXBVbml0cygoeCwgdSkgPT4gdSA9PT0gXCJob3VyXCIgPyB4ICogMiA6IHgpIC8vPT4geyBob3VyczogMiwgbWludXRlczogMzAgfVxuICAgKiBAcmV0dXJuIHtEdXJhdGlvbn1cbiAgICovXG4gIDtcblxuICBfcHJvdG8ubWFwVW5pdHMgPSBmdW5jdGlvbiBtYXBVbml0cyhmbikge1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKSByZXR1cm4gdGhpcztcbiAgICB2YXIgcmVzdWx0ID0ge307XG5cbiAgICBmb3IgKHZhciBfaSA9IDAsIF9PYmplY3Qka2V5cyA9IE9iamVjdC5rZXlzKHRoaXMudmFsdWVzKTsgX2kgPCBfT2JqZWN0JGtleXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgayA9IF9PYmplY3Qka2V5c1tfaV07XG4gICAgICByZXN1bHRba10gPSBhc051bWJlcihmbih0aGlzLnZhbHVlc1trXSwgaykpO1xuICAgIH1cblxuICAgIHJldHVybiBjbG9uZSQxKHRoaXMsIHtcbiAgICAgIHZhbHVlczogcmVzdWx0XG4gICAgfSwgdHJ1ZSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCB0aGUgdmFsdWUgb2YgdW5pdC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHVuaXQgLSBhIHVuaXQgc3VjaCBhcyAnbWludXRlJyBvciAnZGF5J1xuICAgKiBAZXhhbXBsZSBEdXJhdGlvbi5mcm9tT2JqZWN0KHt5ZWFyczogMiwgZGF5czogM30pLmdldCgneWVhcnMnKSAvLz0+IDJcbiAgICogQGV4YW1wbGUgRHVyYXRpb24uZnJvbU9iamVjdCh7eWVhcnM6IDIsIGRheXM6IDN9KS5nZXQoJ21vbnRocycpIC8vPT4gMFxuICAgKiBAZXhhbXBsZSBEdXJhdGlvbi5mcm9tT2JqZWN0KHt5ZWFyczogMiwgZGF5czogM30pLmdldCgnZGF5cycpIC8vPT4gM1xuICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmdldCA9IGZ1bmN0aW9uIGdldCh1bml0KSB7XG4gICAgcmV0dXJuIHRoaXNbRHVyYXRpb24ubm9ybWFsaXplVW5pdCh1bml0KV07XG4gIH1cbiAgLyoqXG4gICAqIFwiU2V0XCIgdGhlIHZhbHVlcyBvZiBzcGVjaWZpZWQgdW5pdHMuIFJldHVybiBhIG5ld2x5LWNvbnN0cnVjdGVkIER1cmF0aW9uLlxuICAgKiBAcGFyYW0ge09iamVjdH0gdmFsdWVzIC0gYSBtYXBwaW5nIG9mIHVuaXRzIHRvIG51bWJlcnNcbiAgICogQGV4YW1wbGUgZHVyLnNldCh7IHllYXJzOiAyMDE3IH0pXG4gICAqIEBleGFtcGxlIGR1ci5zZXQoeyBob3VyczogOCwgbWludXRlczogMzAgfSlcbiAgICogQHJldHVybiB7RHVyYXRpb259XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnNldCA9IGZ1bmN0aW9uIHNldCh2YWx1ZXMpIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCkgcmV0dXJuIHRoaXM7XG5cbiAgICB2YXIgbWl4ZWQgPSBfZXh0ZW5kcyh7fSwgdGhpcy52YWx1ZXMsIG5vcm1hbGl6ZU9iamVjdCh2YWx1ZXMsIER1cmF0aW9uLm5vcm1hbGl6ZVVuaXQpKTtcblxuICAgIHJldHVybiBjbG9uZSQxKHRoaXMsIHtcbiAgICAgIHZhbHVlczogbWl4ZWRcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogXCJTZXRcIiB0aGUgbG9jYWxlIGFuZC9vciBudW1iZXJpbmdTeXN0ZW0uICBSZXR1cm5zIGEgbmV3bHktY29uc3RydWN0ZWQgRHVyYXRpb24uXG4gICAqIEBleGFtcGxlIGR1ci5yZWNvbmZpZ3VyZSh7IGxvY2FsZTogJ2VuLUdCJyB9KVxuICAgKiBAcmV0dXJuIHtEdXJhdGlvbn1cbiAgICovXG4gIDtcblxuICBfcHJvdG8ucmVjb25maWd1cmUgPSBmdW5jdGlvbiByZWNvbmZpZ3VyZShfdGVtcCkge1xuICAgIHZhciBfcmVmID0gX3RlbXAgPT09IHZvaWQgMCA/IHt9IDogX3RlbXAsXG4gICAgICAgIGxvY2FsZSA9IF9yZWYubG9jYWxlLFxuICAgICAgICBudW1iZXJpbmdTeXN0ZW0gPSBfcmVmLm51bWJlcmluZ1N5c3RlbSxcbiAgICAgICAgY29udmVyc2lvbkFjY3VyYWN5ID0gX3JlZi5jb252ZXJzaW9uQWNjdXJhY3k7XG5cbiAgICB2YXIgbG9jID0gdGhpcy5sb2MuY2xvbmUoe1xuICAgICAgbG9jYWxlOiBsb2NhbGUsXG4gICAgICBudW1iZXJpbmdTeXN0ZW06IG51bWJlcmluZ1N5c3RlbVxuICAgIH0pLFxuICAgICAgICBvcHRzID0ge1xuICAgICAgbG9jOiBsb2NcbiAgICB9O1xuXG4gICAgaWYgKGNvbnZlcnNpb25BY2N1cmFjeSkge1xuICAgICAgb3B0cy5jb252ZXJzaW9uQWNjdXJhY3kgPSBjb252ZXJzaW9uQWNjdXJhY3k7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNsb25lJDEodGhpcywgb3B0cyk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgbGVuZ3RoIG9mIHRoZSBkdXJhdGlvbiBpbiB0aGUgc3BlY2lmaWVkIHVuaXQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1bml0IC0gYSB1bml0IHN1Y2ggYXMgJ21pbnV0ZXMnIG9yICdkYXlzJ1xuICAgKiBAZXhhbXBsZSBEdXJhdGlvbi5mcm9tT2JqZWN0KHt5ZWFyczogMX0pLmFzKCdkYXlzJykgLy89PiAzNjVcbiAgICogQGV4YW1wbGUgRHVyYXRpb24uZnJvbU9iamVjdCh7eWVhcnM6IDF9KS5hcygnbW9udGhzJykgLy89PiAxMlxuICAgKiBAZXhhbXBsZSBEdXJhdGlvbi5mcm9tT2JqZWN0KHtob3VyczogNjB9KS5hcygnZGF5cycpIC8vPT4gMi41XG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICovXG4gIDtcblxuICBfcHJvdG8uYXMgPSBmdW5jdGlvbiBhcyh1bml0KSB7XG4gICAgcmV0dXJuIHRoaXMuaXNWYWxpZCA/IHRoaXMuc2hpZnRUbyh1bml0KS5nZXQodW5pdCkgOiBOYU47XG4gIH1cbiAgLyoqXG4gICAqIFJlZHVjZSB0aGlzIER1cmF0aW9uIHRvIGl0cyBjYW5vbmljYWwgcmVwcmVzZW50YXRpb24gaW4gaXRzIGN1cnJlbnQgdW5pdHMuXG4gICAqIEBleGFtcGxlIER1cmF0aW9uLmZyb21PYmplY3QoeyB5ZWFyczogMiwgZGF5czogNTAwMCB9KS5ub3JtYWxpemUoKS50b09iamVjdCgpIC8vPT4geyB5ZWFyczogMTUsIGRheXM6IDI1NSB9XG4gICAqIEBleGFtcGxlIER1cmF0aW9uLmZyb21PYmplY3QoeyBob3VyczogMTIsIG1pbnV0ZXM6IC00NSB9KS5ub3JtYWxpemUoKS50b09iamVjdCgpIC8vPT4geyBob3VyczogMTEsIG1pbnV0ZXM6IDE1IH1cbiAgICogQHJldHVybiB7RHVyYXRpb259XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLm5vcm1hbGl6ZSA9IGZ1bmN0aW9uIG5vcm1hbGl6ZSgpIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCkgcmV0dXJuIHRoaXM7XG4gICAgdmFyIHZhbHMgPSB0aGlzLnRvT2JqZWN0KCk7XG4gICAgbm9ybWFsaXplVmFsdWVzKHRoaXMubWF0cml4LCB2YWxzKTtcbiAgICByZXR1cm4gY2xvbmUkMSh0aGlzLCB7XG4gICAgICB2YWx1ZXM6IHZhbHNcbiAgICB9LCB0cnVlKTtcbiAgfVxuICAvKipcbiAgICogQ29udmVydCB0aGlzIER1cmF0aW9uIGludG8gaXRzIHJlcHJlc2VudGF0aW9uIGluIGEgZGlmZmVyZW50IHNldCBvZiB1bml0cy5cbiAgICogQGV4YW1wbGUgRHVyYXRpb24uZnJvbU9iamVjdCh7IGhvdXJzOiAxLCBzZWNvbmRzOiAzMCB9KS5zaGlmdFRvKCdtaW51dGVzJywgJ21pbGxpc2Vjb25kcycpLnRvT2JqZWN0KCkgLy89PiB7IG1pbnV0ZXM6IDYwLCBtaWxsaXNlY29uZHM6IDMwMDAwIH1cbiAgICogQHJldHVybiB7RHVyYXRpb259XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnNoaWZ0VG8gPSBmdW5jdGlvbiBzaGlmdFRvKCkge1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCB1bml0cyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIHVuaXRzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5pc1ZhbGlkKSByZXR1cm4gdGhpcztcblxuICAgIGlmICh1bml0cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHVuaXRzID0gdW5pdHMubWFwKGZ1bmN0aW9uICh1KSB7XG4gICAgICByZXR1cm4gRHVyYXRpb24ubm9ybWFsaXplVW5pdCh1KTtcbiAgICB9KTtcbiAgICB2YXIgYnVpbHQgPSB7fSxcbiAgICAgICAgYWNjdW11bGF0ZWQgPSB7fSxcbiAgICAgICAgdmFscyA9IHRoaXMudG9PYmplY3QoKTtcbiAgICB2YXIgbGFzdFVuaXQ7XG5cbiAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXJMb29zZShvcmRlcmVkVW5pdHMkMSksIF9zdGVwMjsgIShfc3RlcDIgPSBfaXRlcmF0b3IyKCkpLmRvbmU7KSB7XG4gICAgICB2YXIgayA9IF9zdGVwMi52YWx1ZTtcblxuICAgICAgaWYgKHVuaXRzLmluZGV4T2YoaykgPj0gMCkge1xuICAgICAgICBsYXN0VW5pdCA9IGs7XG4gICAgICAgIHZhciBvd24gPSAwOyAvLyBhbnl0aGluZyB3ZSBoYXZlbid0IGJvaWxlZCBkb3duIHlldCBzaG91bGQgZ2V0IGJvaWxlZCB0byB0aGlzIHVuaXRcblxuICAgICAgICBmb3IgKHZhciBhayBpbiBhY2N1bXVsYXRlZCkge1xuICAgICAgICAgIG93biArPSB0aGlzLm1hdHJpeFtha11ba10gKiBhY2N1bXVsYXRlZFtha107XG4gICAgICAgICAgYWNjdW11bGF0ZWRbYWtdID0gMDtcbiAgICAgICAgfSAvLyBwbHVzIGFueXRoaW5nIHRoYXQncyBhbHJlYWR5IGluIHRoaXMgdW5pdFxuXG5cbiAgICAgICAgaWYgKGlzTnVtYmVyKHZhbHNba10pKSB7XG4gICAgICAgICAgb3duICs9IHZhbHNba107XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaSA9IE1hdGgudHJ1bmMob3duKTtcbiAgICAgICAgYnVpbHRba10gPSBpO1xuICAgICAgICBhY2N1bXVsYXRlZFtrXSA9IChvd24gKiAxMDAwIC0gaSAqIDEwMDApIC8gMTAwMDsgLy8gcGx1cyBhbnl0aGluZyBmdXJ0aGVyIGRvd24gdGhlIGNoYWluIHRoYXQgc2hvdWxkIGJlIHJvbGxlZCB1cCBpbiB0byB0aGlzXG5cbiAgICAgICAgZm9yICh2YXIgZG93biBpbiB2YWxzKSB7XG4gICAgICAgICAgaWYgKG9yZGVyZWRVbml0cyQxLmluZGV4T2YoZG93bikgPiBvcmRlcmVkVW5pdHMkMS5pbmRleE9mKGspKSB7XG4gICAgICAgICAgICBjb252ZXJ0KHRoaXMubWF0cml4LCB2YWxzLCBkb3duLCBidWlsdCwgayk7XG4gICAgICAgICAgfVxuICAgICAgICB9IC8vIG90aGVyd2lzZSwga2VlcCBpdCBpbiB0aGUgd2luZ3MgdG8gYm9pbCBpdCBsYXRlclxuXG4gICAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKHZhbHNba10pKSB7XG4gICAgICAgIGFjY3VtdWxhdGVkW2tdID0gdmFsc1trXTtcbiAgICAgIH1cbiAgICB9IC8vIGFueXRoaW5nIGxlZnRvdmVyIGJlY29tZXMgdGhlIGRlY2ltYWwgZm9yIHRoZSBsYXN0IHVuaXRcbiAgICAvLyBsYXN0VW5pdCBtdXN0IGJlIGRlZmluZWQgc2luY2UgdW5pdHMgaXMgbm90IGVtcHR5XG5cblxuICAgIGZvciAodmFyIGtleSBpbiBhY2N1bXVsYXRlZCkge1xuICAgICAgaWYgKGFjY3VtdWxhdGVkW2tleV0gIT09IDApIHtcbiAgICAgICAgYnVpbHRbbGFzdFVuaXRdICs9IGtleSA9PT0gbGFzdFVuaXQgPyBhY2N1bXVsYXRlZFtrZXldIDogYWNjdW11bGF0ZWRba2V5XSAvIHRoaXMubWF0cml4W2xhc3RVbml0XVtrZXldO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjbG9uZSQxKHRoaXMsIHtcbiAgICAgIHZhbHVlczogYnVpbHRcbiAgICB9LCB0cnVlKS5ub3JtYWxpemUoKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIHRoZSBuZWdhdGl2ZSBvZiB0aGlzIER1cmF0aW9uLlxuICAgKiBAZXhhbXBsZSBEdXJhdGlvbi5mcm9tT2JqZWN0KHsgaG91cnM6IDEsIHNlY29uZHM6IDMwIH0pLm5lZ2F0ZSgpLnRvT2JqZWN0KCkgLy89PiB7IGhvdXJzOiAtMSwgc2Vjb25kczogLTMwIH1cbiAgICogQHJldHVybiB7RHVyYXRpb259XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLm5lZ2F0ZSA9IGZ1bmN0aW9uIG5lZ2F0ZSgpIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCkgcmV0dXJuIHRoaXM7XG4gICAgdmFyIG5lZ2F0ZWQgPSB7fTtcblxuICAgIGZvciAodmFyIF9pMiA9IDAsIF9PYmplY3Qka2V5czIgPSBPYmplY3Qua2V5cyh0aGlzLnZhbHVlcyk7IF9pMiA8IF9PYmplY3Qka2V5czIubGVuZ3RoOyBfaTIrKykge1xuICAgICAgdmFyIGsgPSBfT2JqZWN0JGtleXMyW19pMl07XG4gICAgICBuZWdhdGVkW2tdID0gdGhpcy52YWx1ZXNba10gPT09IDAgPyAwIDogLXRoaXMudmFsdWVzW2tdO1xuICAgIH1cblxuICAgIHJldHVybiBjbG9uZSQxKHRoaXMsIHtcbiAgICAgIHZhbHVlczogbmVnYXRlZFxuICAgIH0sIHRydWUpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgdGhlIHllYXJzLlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKi9cbiAgO1xuXG4gIC8qKlxuICAgKiBFcXVhbGl0eSBjaGVja1xuICAgKiBUd28gRHVyYXRpb25zIGFyZSBlcXVhbCBpZmYgdGhleSBoYXZlIHRoZSBzYW1lIHVuaXRzIGFuZCB0aGUgc2FtZSB2YWx1ZXMgZm9yIGVhY2ggdW5pdC5cbiAgICogQHBhcmFtIHtEdXJhdGlvbn0gb3RoZXJcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIF9wcm90by5lcXVhbHMgPSBmdW5jdGlvbiBlcXVhbHMob3RoZXIpIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCB8fCAhb3RoZXIuaXNWYWxpZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5sb2MuZXF1YWxzKG90aGVyLmxvYykpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBlcSh2MSwgdjIpIHtcbiAgICAgIC8vIENvbnNpZGVyIDAgYW5kIHVuZGVmaW5lZCBhcyBlcXVhbFxuICAgICAgaWYgKHYxID09PSB1bmRlZmluZWQgfHwgdjEgPT09IDApIHJldHVybiB2MiA9PT0gdW5kZWZpbmVkIHx8IHYyID09PSAwO1xuICAgICAgcmV0dXJuIHYxID09PSB2MjtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBfaXRlcmF0b3IzID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXJMb29zZShvcmRlcmVkVW5pdHMkMSksIF9zdGVwMzsgIShfc3RlcDMgPSBfaXRlcmF0b3IzKCkpLmRvbmU7KSB7XG4gICAgICB2YXIgdSA9IF9zdGVwMy52YWx1ZTtcblxuICAgICAgaWYgKCFlcSh0aGlzLnZhbHVlc1t1XSwgb3RoZXIudmFsdWVzW3VdKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG5cbiAgX2NyZWF0ZUNsYXNzKER1cmF0aW9uLCBbe1xuICAgIGtleTogXCJsb2NhbGVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmlzVmFsaWQgPyB0aGlzLmxvYy5sb2NhbGUgOiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG51bWJlcmluZyBzeXN0ZW0gb2YgYSBEdXJhdGlvbiwgc3VjaCAnYmVuZycuIFRoZSBudW1iZXJpbmcgc3lzdGVtIGlzIHVzZWQgd2hlbiBmb3JtYXR0aW5nIHRoZSBEdXJhdGlvblxuICAgICAqXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm51bWJlcmluZ1N5c3RlbVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCA/IHRoaXMubG9jLm51bWJlcmluZ1N5c3RlbSA6IG51bGw7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInllYXJzXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gdGhpcy52YWx1ZXMueWVhcnMgfHwgMCA6IE5hTjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBxdWFydGVycy5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicXVhcnRlcnNcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmlzVmFsaWQgPyB0aGlzLnZhbHVlcy5xdWFydGVycyB8fCAwIDogTmFOO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG1vbnRocy5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibW9udGhzXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gdGhpcy52YWx1ZXMubW9udGhzIHx8IDAgOiBOYU47XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgd2Vla3NcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwid2Vla3NcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmlzVmFsaWQgPyB0aGlzLnZhbHVlcy53ZWVrcyB8fCAwIDogTmFOO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGRheXMuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImRheXNcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmlzVmFsaWQgPyB0aGlzLnZhbHVlcy5kYXlzIHx8IDAgOiBOYU47XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgaG91cnMuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImhvdXJzXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gdGhpcy52YWx1ZXMuaG91cnMgfHwgMCA6IE5hTjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBtaW51dGVzLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJtaW51dGVzXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gdGhpcy52YWx1ZXMubWludXRlcyB8fCAwIDogTmFOO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHNlY29uZHMuXG4gICAgICogQHJldHVybiB7bnVtYmVyfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic2Vjb25kc1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCA/IHRoaXMudmFsdWVzLnNlY29uZHMgfHwgMCA6IE5hTjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBtaWxsaXNlY29uZHMuXG4gICAgICogQHJldHVybiB7bnVtYmVyfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibWlsbGlzZWNvbmRzXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gdGhpcy52YWx1ZXMubWlsbGlzZWNvbmRzIHx8IDAgOiBOYU47XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgd2hldGhlciB0aGUgRHVyYXRpb24gaXMgaW52YWxpZC4gSW52YWxpZCBkdXJhdGlvbnMgYXJlIHJldHVybmVkIGJ5IGRpZmYgb3BlcmF0aW9uc1xuICAgICAqIG9uIGludmFsaWQgRGF0ZVRpbWVzIG9yIEludGVydmFscy5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiaXNWYWxpZFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuaW52YWxpZCA9PT0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBlcnJvciBjb2RlIGlmIHRoaXMgRHVyYXRpb24gYmVjYW1lIGludmFsaWQsIG9yIG51bGwgaWYgdGhlIER1cmF0aW9uIGlzIHZhbGlkXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiaW52YWxpZFJlYXNvblwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuaW52YWxpZCA/IHRoaXMuaW52YWxpZC5yZWFzb24gOiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGV4cGxhbmF0aW9uIG9mIHdoeSB0aGlzIER1cmF0aW9uIGJlY2FtZSBpbnZhbGlkLCBvciBudWxsIGlmIHRoZSBEdXJhdGlvbiBpcyB2YWxpZFxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJpbnZhbGlkRXhwbGFuYXRpb25cIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmludmFsaWQgPyB0aGlzLmludmFsaWQuZXhwbGFuYXRpb24gOiBudWxsO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBEdXJhdGlvbjtcbn0oKTtcblxudmFyIElOVkFMSUQkMSA9IFwiSW52YWxpZCBJbnRlcnZhbFwiOyAvLyBjaGVja3MgaWYgdGhlIHN0YXJ0IGlzIGVxdWFsIHRvIG9yIGJlZm9yZSB0aGUgZW5kXG5cbmZ1bmN0aW9uIHZhbGlkYXRlU3RhcnRFbmQoc3RhcnQsIGVuZCkge1xuICBpZiAoIXN0YXJ0IHx8ICFzdGFydC5pc1ZhbGlkKSB7XG4gICAgcmV0dXJuIEludGVydmFsLmludmFsaWQoXCJtaXNzaW5nIG9yIGludmFsaWQgc3RhcnRcIik7XG4gIH0gZWxzZSBpZiAoIWVuZCB8fCAhZW5kLmlzVmFsaWQpIHtcbiAgICByZXR1cm4gSW50ZXJ2YWwuaW52YWxpZChcIm1pc3Npbmcgb3IgaW52YWxpZCBlbmRcIik7XG4gIH0gZWxzZSBpZiAoZW5kIDwgc3RhcnQpIHtcbiAgICByZXR1cm4gSW50ZXJ2YWwuaW52YWxpZChcImVuZCBiZWZvcmUgc3RhcnRcIiwgXCJUaGUgZW5kIG9mIGFuIGludGVydmFsIG11c3QgYmUgYWZ0ZXIgaXRzIHN0YXJ0LCBidXQgeW91IGhhZCBzdGFydD1cIiArIHN0YXJ0LnRvSVNPKCkgKyBcIiBhbmQgZW5kPVwiICsgZW5kLnRvSVNPKCkpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG4vKipcbiAqIEFuIEludGVydmFsIG9iamVjdCByZXByZXNlbnRzIGEgaGFsZi1vcGVuIGludGVydmFsIG9mIHRpbWUsIHdoZXJlIGVhY2ggZW5kcG9pbnQgaXMgYSB7QGxpbmsgRGF0ZVRpbWV9LiBDb25jZXB0dWFsbHksIGl0J3MgYSBjb250YWluZXIgZm9yIHRob3NlIHR3byBlbmRwb2ludHMsIGFjY29tcGFuaWVkIGJ5IG1ldGhvZHMgZm9yIGNyZWF0aW5nLCBwYXJzaW5nLCBpbnRlcnJvZ2F0aW5nLCBjb21wYXJpbmcsIHRyYW5zZm9ybWluZywgYW5kIGZvcm1hdHRpbmcgdGhlbS5cbiAqXG4gKiBIZXJlIGlzIGEgYnJpZWYgb3ZlcnZpZXcgb2YgdGhlIG1vc3QgY29tbW9ubHkgdXNlZCBtZXRob2RzIGFuZCBnZXR0ZXJzIGluIEludGVydmFsOlxuICpcbiAqICogKipDcmVhdGlvbioqIFRvIGNyZWF0ZSBhbiBJbnRlcnZhbCwgdXNlIHtAbGluayBJbnRlcnZhbCNmcm9tRGF0ZVRpbWVzfSwge0BsaW5rIEludGVydmFsI2FmdGVyfSwge0BsaW5rIEludGVydmFsI2JlZm9yZX0sIG9yIHtAbGluayBJbnRlcnZhbCNmcm9tSVNPfS5cbiAqICogKipBY2Nlc3NvcnMqKiBVc2Uge0BsaW5rIEludGVydmFsI3N0YXJ0fSBhbmQge0BsaW5rIEludGVydmFsI2VuZH0gdG8gZ2V0IHRoZSBzdGFydCBhbmQgZW5kLlxuICogKiAqKkludGVycm9nYXRpb24qKiBUbyBhbmFseXplIHRoZSBJbnRlcnZhbCwgdXNlIHtAbGluayBJbnRlcnZhbCNjb3VudH0sIHtAbGluayBJbnRlcnZhbCNsZW5ndGh9LCB7QGxpbmsgSW50ZXJ2YWwjaGFzU2FtZX0sIHtAbGluayBJbnRlcnZhbCNjb250YWluc30sIHtAbGluayBJbnRlcnZhbCNpc0FmdGVyfSwgb3Ige0BsaW5rIEludGVydmFsI2lzQmVmb3JlfS5cbiAqICogKipUcmFuc2Zvcm1hdGlvbioqIFRvIGNyZWF0ZSBvdGhlciBJbnRlcnZhbHMgb3V0IG9mIHRoaXMgb25lLCB1c2Uge0BsaW5rIEludGVydmFsI3NldH0sIHtAbGluayBJbnRlcnZhbCNzcGxpdEF0fSwge0BsaW5rIEludGVydmFsI3NwbGl0Qnl9LCB7QGxpbmsgSW50ZXJ2YWwjZGl2aWRlRXF1YWxseX0sIHtAbGluayBJbnRlcnZhbCNtZXJnZX0sIHtAbGluayBJbnRlcnZhbCN4b3J9LCB7QGxpbmsgSW50ZXJ2YWwjdW5pb259LCB7QGxpbmsgSW50ZXJ2YWwjaW50ZXJzZWN0aW9ufSwgb3Ige0BsaW5rIEludGVydmFsI2RpZmZlcmVuY2V9LlxuICogKiAqKkNvbXBhcmlzb24qKiBUbyBjb21wYXJlIHRoaXMgSW50ZXJ2YWwgdG8gYW5vdGhlciBvbmUsIHVzZSB7QGxpbmsgSW50ZXJ2YWwjZXF1YWxzfSwge0BsaW5rIEludGVydmFsI292ZXJsYXBzfSwge0BsaW5rIEludGVydmFsI2FidXRzU3RhcnR9LCB7QGxpbmsgSW50ZXJ2YWwjYWJ1dHNFbmR9LCB7QGxpbmsgSW50ZXJ2YWwjZW5ndWxmc31cbiAqICogKipPdXRwdXQqKiBUbyBjb252ZXJ0IHRoZSBJbnRlcnZhbCBpbnRvIG90aGVyIHJlcHJlc2VudGF0aW9ucywgc2VlIHtAbGluayBJbnRlcnZhbCN0b1N0cmluZ30sIHtAbGluayBJbnRlcnZhbCN0b0lTT30sIHtAbGluayBJbnRlcnZhbCN0b0lTT0RhdGV9LCB7QGxpbmsgSW50ZXJ2YWwjdG9JU09UaW1lfSwge0BsaW5rIEludGVydmFsI3RvRm9ybWF0fSwgYW5kIHtAbGluayBJbnRlcnZhbCN0b0R1cmF0aW9ufS5cbiAqL1xuXG5cbnZhciBJbnRlcnZhbCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZnVuY3Rpb24gSW50ZXJ2YWwoY29uZmlnKSB7XG4gICAgLyoqXG4gICAgICogQGFjY2VzcyBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5zID0gY29uZmlnLnN0YXJ0O1xuICAgIC8qKlxuICAgICAqIEBhY2Nlc3MgcHJpdmF0ZVxuICAgICAqL1xuXG4gICAgdGhpcy5lID0gY29uZmlnLmVuZDtcbiAgICAvKipcbiAgICAgKiBAYWNjZXNzIHByaXZhdGVcbiAgICAgKi9cblxuICAgIHRoaXMuaW52YWxpZCA9IGNvbmZpZy5pbnZhbGlkIHx8IG51bGw7XG4gICAgLyoqXG4gICAgICogQGFjY2VzcyBwcml2YXRlXG4gICAgICovXG5cbiAgICB0aGlzLmlzTHV4b25JbnRlcnZhbCA9IHRydWU7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhbiBpbnZhbGlkIEludGVydmFsLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcmVhc29uIC0gc2ltcGxlIHN0cmluZyBvZiB3aHkgdGhpcyBJbnRlcnZhbCBpcyBpbnZhbGlkLiBTaG91bGQgbm90IGNvbnRhaW4gcGFyYW1ldGVycyBvciBhbnl0aGluZyBlbHNlIGRhdGEtZGVwZW5kZW50XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbZXhwbGFuYXRpb249bnVsbF0gLSBsb25nZXIgZXhwbGFuYXRpb24sIG1heSBpbmNsdWRlIHBhcmFtZXRlcnMgYW5kIG90aGVyIHVzZWZ1bCBkZWJ1Z2dpbmcgaW5mb3JtYXRpb25cbiAgICogQHJldHVybiB7SW50ZXJ2YWx9XG4gICAqL1xuXG5cbiAgSW50ZXJ2YWwuaW52YWxpZCA9IGZ1bmN0aW9uIGludmFsaWQocmVhc29uLCBleHBsYW5hdGlvbikge1xuICAgIGlmIChleHBsYW5hdGlvbiA9PT0gdm9pZCAwKSB7XG4gICAgICBleHBsYW5hdGlvbiA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKCFyZWFzb24pIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcIm5lZWQgdG8gc3BlY2lmeSBhIHJlYXNvbiB0aGUgSW50ZXJ2YWwgaXMgaW52YWxpZFwiKTtcbiAgICB9XG5cbiAgICB2YXIgaW52YWxpZCA9IHJlYXNvbiBpbnN0YW5jZW9mIEludmFsaWQgPyByZWFzb24gOiBuZXcgSW52YWxpZChyZWFzb24sIGV4cGxhbmF0aW9uKTtcblxuICAgIGlmIChTZXR0aW5ncy50aHJvd09uSW52YWxpZCkge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRJbnRlcnZhbEVycm9yKGludmFsaWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IEludGVydmFsKHtcbiAgICAgICAgaW52YWxpZDogaW52YWxpZFxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYW4gSW50ZXJ2YWwgZnJvbSBhIHN0YXJ0IERhdGVUaW1lIGFuZCBhbiBlbmQgRGF0ZVRpbWUuIEluY2x1c2l2ZSBvZiB0aGUgc3RhcnQgYnV0IG5vdCB0aGUgZW5kLlxuICAgKiBAcGFyYW0ge0RhdGVUaW1lfERhdGV8T2JqZWN0fSBzdGFydFxuICAgKiBAcGFyYW0ge0RhdGVUaW1lfERhdGV8T2JqZWN0fSBlbmRcbiAgICogQHJldHVybiB7SW50ZXJ2YWx9XG4gICAqL1xuICA7XG5cbiAgSW50ZXJ2YWwuZnJvbURhdGVUaW1lcyA9IGZ1bmN0aW9uIGZyb21EYXRlVGltZXMoc3RhcnQsIGVuZCkge1xuICAgIHZhciBidWlsdFN0YXJ0ID0gZnJpZW5kbHlEYXRlVGltZShzdGFydCksXG4gICAgICAgIGJ1aWx0RW5kID0gZnJpZW5kbHlEYXRlVGltZShlbmQpO1xuICAgIHZhciB2YWxpZGF0ZUVycm9yID0gdmFsaWRhdGVTdGFydEVuZChidWlsdFN0YXJ0LCBidWlsdEVuZCk7XG5cbiAgICBpZiAodmFsaWRhdGVFcnJvciA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gbmV3IEludGVydmFsKHtcbiAgICAgICAgc3RhcnQ6IGJ1aWx0U3RhcnQsXG4gICAgICAgIGVuZDogYnVpbHRFbmRcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdmFsaWRhdGVFcnJvcjtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhbiBJbnRlcnZhbCBmcm9tIGEgc3RhcnQgRGF0ZVRpbWUgYW5kIGEgRHVyYXRpb24gdG8gZXh0ZW5kIHRvLlxuICAgKiBAcGFyYW0ge0RhdGVUaW1lfERhdGV8T2JqZWN0fSBzdGFydFxuICAgKiBAcGFyYW0ge0R1cmF0aW9ufE9iamVjdHxudW1iZXJ9IGR1cmF0aW9uIC0gdGhlIGxlbmd0aCBvZiB0aGUgSW50ZXJ2YWwuXG4gICAqIEByZXR1cm4ge0ludGVydmFsfVxuICAgKi9cbiAgO1xuXG4gIEludGVydmFsLmFmdGVyID0gZnVuY3Rpb24gYWZ0ZXIoc3RhcnQsIGR1cmF0aW9uKSB7XG4gICAgdmFyIGR1ciA9IER1cmF0aW9uLmZyb21EdXJhdGlvbkxpa2UoZHVyYXRpb24pLFxuICAgICAgICBkdCA9IGZyaWVuZGx5RGF0ZVRpbWUoc3RhcnQpO1xuICAgIHJldHVybiBJbnRlcnZhbC5mcm9tRGF0ZVRpbWVzKGR0LCBkdC5wbHVzKGR1cikpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYW4gSW50ZXJ2YWwgZnJvbSBhbiBlbmQgRGF0ZVRpbWUgYW5kIGEgRHVyYXRpb24gdG8gZXh0ZW5kIGJhY2t3YXJkcyB0by5cbiAgICogQHBhcmFtIHtEYXRlVGltZXxEYXRlfE9iamVjdH0gZW5kXG4gICAqIEBwYXJhbSB7RHVyYXRpb258T2JqZWN0fG51bWJlcn0gZHVyYXRpb24gLSB0aGUgbGVuZ3RoIG9mIHRoZSBJbnRlcnZhbC5cbiAgICogQHJldHVybiB7SW50ZXJ2YWx9XG4gICAqL1xuICA7XG5cbiAgSW50ZXJ2YWwuYmVmb3JlID0gZnVuY3Rpb24gYmVmb3JlKGVuZCwgZHVyYXRpb24pIHtcbiAgICB2YXIgZHVyID0gRHVyYXRpb24uZnJvbUR1cmF0aW9uTGlrZShkdXJhdGlvbiksXG4gICAgICAgIGR0ID0gZnJpZW5kbHlEYXRlVGltZShlbmQpO1xuICAgIHJldHVybiBJbnRlcnZhbC5mcm9tRGF0ZVRpbWVzKGR0Lm1pbnVzKGR1ciksIGR0KTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGFuIEludGVydmFsIGZyb20gYW4gSVNPIDg2MDEgc3RyaW5nLlxuICAgKiBBY2NlcHRzIGA8c3RhcnQ+LzxlbmQ+YCwgYDxzdGFydD4vPGR1cmF0aW9uPmAsIGFuZCBgPGR1cmF0aW9uPi88ZW5kPmAgZm9ybWF0cy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSB0aGUgSVNPIHN0cmluZyB0byBwYXJzZVxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdHNdIC0gb3B0aW9ucyB0byBwYXNzIHtAbGluayBEYXRlVGltZSNmcm9tSVNPfSBhbmQgb3B0aW9uYWxseSB7QGxpbmsgRHVyYXRpb24jZnJvbUlTT31cbiAgICogQHNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JU09fODYwMSNUaW1lX2ludGVydmFsc1xuICAgKiBAcmV0dXJuIHtJbnRlcnZhbH1cbiAgICovXG4gIDtcblxuICBJbnRlcnZhbC5mcm9tSVNPID0gZnVuY3Rpb24gZnJvbUlTTyh0ZXh0LCBvcHRzKSB7XG4gICAgdmFyIF9zcGxpdCA9ICh0ZXh0IHx8IFwiXCIpLnNwbGl0KFwiL1wiLCAyKSxcbiAgICAgICAgcyA9IF9zcGxpdFswXSxcbiAgICAgICAgZSA9IF9zcGxpdFsxXTtcblxuICAgIGlmIChzICYmIGUpIHtcbiAgICAgIHZhciBzdGFydCwgc3RhcnRJc1ZhbGlkO1xuXG4gICAgICB0cnkge1xuICAgICAgICBzdGFydCA9IERhdGVUaW1lLmZyb21JU08ocywgb3B0cyk7XG4gICAgICAgIHN0YXJ0SXNWYWxpZCA9IHN0YXJ0LmlzVmFsaWQ7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHN0YXJ0SXNWYWxpZCA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICB2YXIgZW5kLCBlbmRJc1ZhbGlkO1xuXG4gICAgICB0cnkge1xuICAgICAgICBlbmQgPSBEYXRlVGltZS5mcm9tSVNPKGUsIG9wdHMpO1xuICAgICAgICBlbmRJc1ZhbGlkID0gZW5kLmlzVmFsaWQ7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGVuZElzVmFsaWQgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN0YXJ0SXNWYWxpZCAmJiBlbmRJc1ZhbGlkKSB7XG4gICAgICAgIHJldHVybiBJbnRlcnZhbC5mcm9tRGF0ZVRpbWVzKHN0YXJ0LCBlbmQpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3RhcnRJc1ZhbGlkKSB7XG4gICAgICAgIHZhciBkdXIgPSBEdXJhdGlvbi5mcm9tSVNPKGUsIG9wdHMpO1xuXG4gICAgICAgIGlmIChkdXIuaXNWYWxpZCkge1xuICAgICAgICAgIHJldHVybiBJbnRlcnZhbC5hZnRlcihzdGFydCwgZHVyKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChlbmRJc1ZhbGlkKSB7XG4gICAgICAgIHZhciBfZHVyID0gRHVyYXRpb24uZnJvbUlTTyhzLCBvcHRzKTtcblxuICAgICAgICBpZiAoX2R1ci5pc1ZhbGlkKSB7XG4gICAgICAgICAgcmV0dXJuIEludGVydmFsLmJlZm9yZShlbmQsIF9kdXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIEludGVydmFsLmludmFsaWQoXCJ1bnBhcnNhYmxlXCIsIFwidGhlIGlucHV0IFxcXCJcIiArIHRleHQgKyBcIlxcXCIgY2FuJ3QgYmUgcGFyc2VkIGFzIElTTyA4NjAxXCIpO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBpZiBhbiBvYmplY3QgaXMgYW4gSW50ZXJ2YWwuIFdvcmtzIGFjcm9zcyBjb250ZXh0IGJvdW5kYXJpZXNcbiAgICogQHBhcmFtIHtvYmplY3R9IG9cbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIDtcblxuICBJbnRlcnZhbC5pc0ludGVydmFsID0gZnVuY3Rpb24gaXNJbnRlcnZhbChvKSB7XG4gICAgcmV0dXJuIG8gJiYgby5pc0x1eG9uSW50ZXJ2YWwgfHwgZmFsc2U7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHN0YXJ0IG9mIHRoZSBJbnRlcnZhbFxuICAgKiBAdHlwZSB7RGF0ZVRpbWV9XG4gICAqL1xuICA7XG5cbiAgdmFyIF9wcm90byA9IEludGVydmFsLnByb3RvdHlwZTtcblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgbGVuZ3RoIG9mIHRoZSBJbnRlcnZhbCBpbiB0aGUgc3BlY2lmaWVkIHVuaXQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1bml0IC0gdGhlIHVuaXQgKHN1Y2ggYXMgJ2hvdXJzJyBvciAnZGF5cycpIHRvIHJldHVybiB0aGUgbGVuZ3RoIGluLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAqL1xuICBfcHJvdG8ubGVuZ3RoID0gZnVuY3Rpb24gbGVuZ3RoKHVuaXQpIHtcbiAgICBpZiAodW5pdCA9PT0gdm9pZCAwKSB7XG4gICAgICB1bml0ID0gXCJtaWxsaXNlY29uZHNcIjtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gdGhpcy50b0R1cmF0aW9uLmFwcGx5KHRoaXMsIFt1bml0XSkuZ2V0KHVuaXQpIDogTmFOO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBjb3VudCBvZiBtaW51dGVzLCBob3VycywgZGF5cywgbW9udGhzLCBvciB5ZWFycyBpbmNsdWRlZCBpbiB0aGUgSW50ZXJ2YWwsIGV2ZW4gaW4gcGFydC5cbiAgICogVW5saWtlIHtAbGluayBJbnRlcnZhbCNsZW5ndGh9IHRoaXMgY291bnRzIHNlY3Rpb25zIG9mIHRoZSBjYWxlbmRhciwgbm90IHBlcmlvZHMgb2YgdGltZSwgZS5nLiBzcGVjaWZ5aW5nICdkYXknXG4gICAqIGFza3MgJ3doYXQgZGF0ZXMgYXJlIGluY2x1ZGVkIGluIHRoaXMgaW50ZXJ2YWw/Jywgbm90ICdob3cgbWFueSBkYXlzIGxvbmcgaXMgdGhpcyBpbnRlcnZhbD8nXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbdW5pdD0nbWlsbGlzZWNvbmRzJ10gLSB0aGUgdW5pdCBvZiB0aW1lIHRvIGNvdW50LlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmNvdW50ID0gZnVuY3Rpb24gY291bnQodW5pdCkge1xuICAgIGlmICh1bml0ID09PSB2b2lkIDApIHtcbiAgICAgIHVuaXQgPSBcIm1pbGxpc2Vjb25kc1wiO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5pc1ZhbGlkKSByZXR1cm4gTmFOO1xuICAgIHZhciBzdGFydCA9IHRoaXMuc3RhcnQuc3RhcnRPZih1bml0KSxcbiAgICAgICAgZW5kID0gdGhpcy5lbmQuc3RhcnRPZih1bml0KTtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihlbmQuZGlmZihzdGFydCwgdW5pdCkuZ2V0KHVuaXQpKSArIDE7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgd2hldGhlciB0aGlzIEludGVydmFsJ3Mgc3RhcnQgYW5kIGVuZCBhcmUgYm90aCBpbiB0aGUgc2FtZSB1bml0IG9mIHRpbWVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHVuaXQgLSB0aGUgdW5pdCBvZiB0aW1lIHRvIGNoZWNrIHNhbWVuZXNzIG9uXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmhhc1NhbWUgPSBmdW5jdGlvbiBoYXNTYW1lKHVuaXQpIHtcbiAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gdGhpcy5pc0VtcHR5KCkgfHwgdGhpcy5lLm1pbnVzKDEpLmhhc1NhbWUodGhpcy5zLCB1bml0KSA6IGZhbHNlO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gd2hldGhlciB0aGlzIEludGVydmFsIGhhcyB0aGUgc2FtZSBzdGFydCBhbmQgZW5kIERhdGVUaW1lcy5cbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIDtcblxuICBfcHJvdG8uaXNFbXB0eSA9IGZ1bmN0aW9uIGlzRW1wdHkoKSB7XG4gICAgcmV0dXJuIHRoaXMucy52YWx1ZU9mKCkgPT09IHRoaXMuZS52YWx1ZU9mKCk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiB3aGV0aGVyIHRoaXMgSW50ZXJ2YWwncyBzdGFydCBpcyBhZnRlciB0aGUgc3BlY2lmaWVkIERhdGVUaW1lLlxuICAgKiBAcGFyYW0ge0RhdGVUaW1lfSBkYXRlVGltZVxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5pc0FmdGVyID0gZnVuY3Rpb24gaXNBZnRlcihkYXRlVGltZSkge1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKSByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHRoaXMucyA+IGRhdGVUaW1lO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gd2hldGhlciB0aGlzIEludGVydmFsJ3MgZW5kIGlzIGJlZm9yZSB0aGUgc3BlY2lmaWVkIERhdGVUaW1lLlxuICAgKiBAcGFyYW0ge0RhdGVUaW1lfSBkYXRlVGltZVxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5pc0JlZm9yZSA9IGZ1bmN0aW9uIGlzQmVmb3JlKGRhdGVUaW1lKSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQpIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdGhpcy5lIDw9IGRhdGVUaW1lO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gd2hldGhlciB0aGlzIEludGVydmFsIGNvbnRhaW5zIHRoZSBzcGVjaWZpZWQgRGF0ZVRpbWUuXG4gICAqIEBwYXJhbSB7RGF0ZVRpbWV9IGRhdGVUaW1lXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmNvbnRhaW5zID0gZnVuY3Rpb24gY29udGFpbnMoZGF0ZVRpbWUpIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCkgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0aGlzLnMgPD0gZGF0ZVRpbWUgJiYgdGhpcy5lID4gZGF0ZVRpbWU7XG4gIH1cbiAgLyoqXG4gICAqIFwiU2V0c1wiIHRoZSBzdGFydCBhbmQvb3IgZW5kIGRhdGVzLiBSZXR1cm5zIGEgbmV3bHktY29uc3RydWN0ZWQgSW50ZXJ2YWwuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZXMgLSB0aGUgdmFsdWVzIHRvIHNldFxuICAgKiBAcGFyYW0ge0RhdGVUaW1lfSB2YWx1ZXMuc3RhcnQgLSB0aGUgc3RhcnRpbmcgRGF0ZVRpbWVcbiAgICogQHBhcmFtIHtEYXRlVGltZX0gdmFsdWVzLmVuZCAtIHRoZSBlbmRpbmcgRGF0ZVRpbWVcbiAgICogQHJldHVybiB7SW50ZXJ2YWx9XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnNldCA9IGZ1bmN0aW9uIHNldChfdGVtcCkge1xuICAgIHZhciBfcmVmID0gX3RlbXAgPT09IHZvaWQgMCA/IHt9IDogX3RlbXAsXG4gICAgICAgIHN0YXJ0ID0gX3JlZi5zdGFydCxcbiAgICAgICAgZW5kID0gX3JlZi5lbmQ7XG5cbiAgICBpZiAoIXRoaXMuaXNWYWxpZCkgcmV0dXJuIHRoaXM7XG4gICAgcmV0dXJuIEludGVydmFsLmZyb21EYXRlVGltZXMoc3RhcnQgfHwgdGhpcy5zLCBlbmQgfHwgdGhpcy5lKTtcbiAgfVxuICAvKipcbiAgICogU3BsaXQgdGhpcyBJbnRlcnZhbCBhdCBlYWNoIG9mIHRoZSBzcGVjaWZpZWQgRGF0ZVRpbWVzXG4gICAqIEBwYXJhbSB7Li4uRGF0ZVRpbWV9IGRhdGVUaW1lcyAtIHRoZSB1bml0IG9mIHRpbWUgdG8gY291bnQuXG4gICAqIEByZXR1cm4ge0FycmF5fVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5zcGxpdEF0ID0gZnVuY3Rpb24gc3BsaXRBdCgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgaWYgKCF0aGlzLmlzVmFsaWQpIHJldHVybiBbXTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBkYXRlVGltZXMgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBkYXRlVGltZXNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgdmFyIHNvcnRlZCA9IGRhdGVUaW1lcy5tYXAoZnJpZW5kbHlEYXRlVGltZSkuZmlsdGVyKGZ1bmN0aW9uIChkKSB7XG4gICAgICByZXR1cm4gX3RoaXMuY29udGFpbnMoZCk7XG4gICAgfSkuc29ydCgpLFxuICAgICAgICByZXN1bHRzID0gW107XG4gICAgdmFyIHMgPSB0aGlzLnMsXG4gICAgICAgIGkgPSAwO1xuXG4gICAgd2hpbGUgKHMgPCB0aGlzLmUpIHtcbiAgICAgIHZhciBhZGRlZCA9IHNvcnRlZFtpXSB8fCB0aGlzLmUsXG4gICAgICAgICAgbmV4dCA9ICthZGRlZCA+ICt0aGlzLmUgPyB0aGlzLmUgOiBhZGRlZDtcbiAgICAgIHJlc3VsdHMucHVzaChJbnRlcnZhbC5mcm9tRGF0ZVRpbWVzKHMsIG5leHQpKTtcbiAgICAgIHMgPSBuZXh0O1xuICAgICAgaSArPSAxO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHRzO1xuICB9XG4gIC8qKlxuICAgKiBTcGxpdCB0aGlzIEludGVydmFsIGludG8gc21hbGxlciBJbnRlcnZhbHMsIGVhY2ggb2YgdGhlIHNwZWNpZmllZCBsZW5ndGguXG4gICAqIExlZnQgb3ZlciB0aW1lIGlzIGdyb3VwZWQgaW50byBhIHNtYWxsZXIgaW50ZXJ2YWxcbiAgICogQHBhcmFtIHtEdXJhdGlvbnxPYmplY3R8bnVtYmVyfSBkdXJhdGlvbiAtIFRoZSBsZW5ndGggb2YgZWFjaCByZXN1bHRpbmcgaW50ZXJ2YWwuXG4gICAqIEByZXR1cm4ge0FycmF5fVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5zcGxpdEJ5ID0gZnVuY3Rpb24gc3BsaXRCeShkdXJhdGlvbikge1xuICAgIHZhciBkdXIgPSBEdXJhdGlvbi5mcm9tRHVyYXRpb25MaWtlKGR1cmF0aW9uKTtcblxuICAgIGlmICghdGhpcy5pc1ZhbGlkIHx8ICFkdXIuaXNWYWxpZCB8fCBkdXIuYXMoXCJtaWxsaXNlY29uZHNcIikgPT09IDApIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICB2YXIgcyA9IHRoaXMucyxcbiAgICAgICAgaWR4ID0gMSxcbiAgICAgICAgbmV4dDtcbiAgICB2YXIgcmVzdWx0cyA9IFtdO1xuXG4gICAgd2hpbGUgKHMgPCB0aGlzLmUpIHtcbiAgICAgIHZhciBhZGRlZCA9IHRoaXMuc3RhcnQucGx1cyhkdXIubWFwVW5pdHMoZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgcmV0dXJuIHggKiBpZHg7XG4gICAgICB9KSk7XG4gICAgICBuZXh0ID0gK2FkZGVkID4gK3RoaXMuZSA/IHRoaXMuZSA6IGFkZGVkO1xuICAgICAgcmVzdWx0cy5wdXNoKEludGVydmFsLmZyb21EYXRlVGltZXMocywgbmV4dCkpO1xuICAgICAgcyA9IG5leHQ7XG4gICAgICBpZHggKz0gMTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfVxuICAvKipcbiAgICogU3BsaXQgdGhpcyBJbnRlcnZhbCBpbnRvIHRoZSBzcGVjaWZpZWQgbnVtYmVyIG9mIHNtYWxsZXIgaW50ZXJ2YWxzLlxuICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyT2ZQYXJ0cyAtIFRoZSBudW1iZXIgb2YgSW50ZXJ2YWxzIHRvIGRpdmlkZSB0aGUgSW50ZXJ2YWwgaW50by5cbiAgICogQHJldHVybiB7QXJyYXl9XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmRpdmlkZUVxdWFsbHkgPSBmdW5jdGlvbiBkaXZpZGVFcXVhbGx5KG51bWJlck9mUGFydHMpIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCkgcmV0dXJuIFtdO1xuICAgIHJldHVybiB0aGlzLnNwbGl0QnkodGhpcy5sZW5ndGgoKSAvIG51bWJlck9mUGFydHMpLnNsaWNlKDAsIG51bWJlck9mUGFydHMpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gd2hldGhlciB0aGlzIEludGVydmFsIG92ZXJsYXBzIHdpdGggdGhlIHNwZWNpZmllZCBJbnRlcnZhbFxuICAgKiBAcGFyYW0ge0ludGVydmFsfSBvdGhlclxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5vdmVybGFwcyA9IGZ1bmN0aW9uIG92ZXJsYXBzKG90aGVyKSB7XG4gICAgcmV0dXJuIHRoaXMuZSA+IG90aGVyLnMgJiYgdGhpcy5zIDwgb3RoZXIuZTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIHdoZXRoZXIgdGhpcyBJbnRlcnZhbCdzIGVuZCBpcyBhZGphY2VudCB0byB0aGUgc3BlY2lmaWVkIEludGVydmFsJ3Mgc3RhcnQuXG4gICAqIEBwYXJhbSB7SW50ZXJ2YWx9IG90aGVyXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmFidXRzU3RhcnQgPSBmdW5jdGlvbiBhYnV0c1N0YXJ0KG90aGVyKSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQpIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gK3RoaXMuZSA9PT0gK290aGVyLnM7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiB3aGV0aGVyIHRoaXMgSW50ZXJ2YWwncyBzdGFydCBpcyBhZGphY2VudCB0byB0aGUgc3BlY2lmaWVkIEludGVydmFsJ3MgZW5kLlxuICAgKiBAcGFyYW0ge0ludGVydmFsfSBvdGhlclxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5hYnV0c0VuZCA9IGZ1bmN0aW9uIGFidXRzRW5kKG90aGVyKSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQpIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gK290aGVyLmUgPT09ICt0aGlzLnM7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiB3aGV0aGVyIHRoaXMgSW50ZXJ2YWwgZW5ndWxmcyB0aGUgc3RhcnQgYW5kIGVuZCBvZiB0aGUgc3BlY2lmaWVkIEludGVydmFsLlxuICAgKiBAcGFyYW0ge0ludGVydmFsfSBvdGhlclxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5lbmd1bGZzID0gZnVuY3Rpb24gZW5ndWxmcyhvdGhlcikge1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKSByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHRoaXMucyA8PSBvdGhlci5zICYmIHRoaXMuZSA+PSBvdGhlci5lO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gd2hldGhlciB0aGlzIEludGVydmFsIGhhcyB0aGUgc2FtZSBzdGFydCBhbmQgZW5kIGFzIHRoZSBzcGVjaWZpZWQgSW50ZXJ2YWwuXG4gICAqIEBwYXJhbSB7SW50ZXJ2YWx9IG90aGVyXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyhvdGhlcikge1xuICAgIGlmICghdGhpcy5pc1ZhbGlkIHx8ICFvdGhlci5pc1ZhbGlkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMucy5lcXVhbHMob3RoZXIucykgJiYgdGhpcy5lLmVxdWFscyhvdGhlci5lKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIGFuIEludGVydmFsIHJlcHJlc2VudGluZyB0aGUgaW50ZXJzZWN0aW9uIG9mIHRoaXMgSW50ZXJ2YWwgYW5kIHRoZSBzcGVjaWZpZWQgSW50ZXJ2YWwuXG4gICAqIFNwZWNpZmljYWxseSwgdGhlIHJlc3VsdGluZyBJbnRlcnZhbCBoYXMgdGhlIG1heGltdW0gc3RhcnQgdGltZSBhbmQgdGhlIG1pbmltdW0gZW5kIHRpbWUgb2YgdGhlIHR3byBJbnRlcnZhbHMuXG4gICAqIFJldHVybnMgbnVsbCBpZiB0aGUgaW50ZXJzZWN0aW9uIGlzIGVtcHR5LCBtZWFuaW5nLCB0aGUgaW50ZXJ2YWxzIGRvbid0IGludGVyc2VjdC5cbiAgICogQHBhcmFtIHtJbnRlcnZhbH0gb3RoZXJcbiAgICogQHJldHVybiB7SW50ZXJ2YWx9XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmludGVyc2VjdGlvbiA9IGZ1bmN0aW9uIGludGVyc2VjdGlvbihvdGhlcikge1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKSByZXR1cm4gdGhpcztcbiAgICB2YXIgcyA9IHRoaXMucyA+IG90aGVyLnMgPyB0aGlzLnMgOiBvdGhlci5zLFxuICAgICAgICBlID0gdGhpcy5lIDwgb3RoZXIuZSA/IHRoaXMuZSA6IG90aGVyLmU7XG5cbiAgICBpZiAocyA+PSBlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIEludGVydmFsLmZyb21EYXRlVGltZXMocywgZSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gYW4gSW50ZXJ2YWwgcmVwcmVzZW50aW5nIHRoZSB1bmlvbiBvZiB0aGlzIEludGVydmFsIGFuZCB0aGUgc3BlY2lmaWVkIEludGVydmFsLlxuICAgKiBTcGVjaWZpY2FsbHksIHRoZSByZXN1bHRpbmcgSW50ZXJ2YWwgaGFzIHRoZSBtaW5pbXVtIHN0YXJ0IHRpbWUgYW5kIHRoZSBtYXhpbXVtIGVuZCB0aW1lIG9mIHRoZSB0d28gSW50ZXJ2YWxzLlxuICAgKiBAcGFyYW0ge0ludGVydmFsfSBvdGhlclxuICAgKiBAcmV0dXJuIHtJbnRlcnZhbH1cbiAgICovXG4gIDtcblxuICBfcHJvdG8udW5pb24gPSBmdW5jdGlvbiB1bmlvbihvdGhlcikge1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKSByZXR1cm4gdGhpcztcbiAgICB2YXIgcyA9IHRoaXMucyA8IG90aGVyLnMgPyB0aGlzLnMgOiBvdGhlci5zLFxuICAgICAgICBlID0gdGhpcy5lID4gb3RoZXIuZSA/IHRoaXMuZSA6IG90aGVyLmU7XG4gICAgcmV0dXJuIEludGVydmFsLmZyb21EYXRlVGltZXMocywgZSk7XG4gIH1cbiAgLyoqXG4gICAqIE1lcmdlIGFuIGFycmF5IG9mIEludGVydmFscyBpbnRvIGEgZXF1aXZhbGVudCBtaW5pbWFsIHNldCBvZiBJbnRlcnZhbHMuXG4gICAqIENvbWJpbmVzIG92ZXJsYXBwaW5nIGFuZCBhZGphY2VudCBJbnRlcnZhbHMuXG4gICAqIEBwYXJhbSB7QXJyYXl9IGludGVydmFsc1xuICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICovXG4gIDtcblxuICBJbnRlcnZhbC5tZXJnZSA9IGZ1bmN0aW9uIG1lcmdlKGludGVydmFscykge1xuICAgIHZhciBfaW50ZXJ2YWxzJHNvcnQkcmVkdWMgPSBpbnRlcnZhbHMuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgcmV0dXJuIGEucyAtIGIucztcbiAgICB9KS5yZWR1Y2UoZnVuY3Rpb24gKF9yZWYyLCBpdGVtKSB7XG4gICAgICB2YXIgc29mYXIgPSBfcmVmMlswXSxcbiAgICAgICAgICBjdXJyZW50ID0gX3JlZjJbMV07XG5cbiAgICAgIGlmICghY3VycmVudCkge1xuICAgICAgICByZXR1cm4gW3NvZmFyLCBpdGVtXTtcbiAgICAgIH0gZWxzZSBpZiAoY3VycmVudC5vdmVybGFwcyhpdGVtKSB8fCBjdXJyZW50LmFidXRzU3RhcnQoaXRlbSkpIHtcbiAgICAgICAgcmV0dXJuIFtzb2ZhciwgY3VycmVudC51bmlvbihpdGVtKV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gW3NvZmFyLmNvbmNhdChbY3VycmVudF0pLCBpdGVtXTtcbiAgICAgIH1cbiAgICB9LCBbW10sIG51bGxdKSxcbiAgICAgICAgZm91bmQgPSBfaW50ZXJ2YWxzJHNvcnQkcmVkdWNbMF0sXG4gICAgICAgIGZpbmFsID0gX2ludGVydmFscyRzb3J0JHJlZHVjWzFdO1xuXG4gICAgaWYgKGZpbmFsKSB7XG4gICAgICBmb3VuZC5wdXNoKGZpbmFsKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZm91bmQ7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBhbiBhcnJheSBvZiBJbnRlcnZhbHMgcmVwcmVzZW50aW5nIHRoZSBzcGFucyBvZiB0aW1lIHRoYXQgb25seSBhcHBlYXIgaW4gb25lIG9mIHRoZSBzcGVjaWZpZWQgSW50ZXJ2YWxzLlxuICAgKiBAcGFyYW0ge0FycmF5fSBpbnRlcnZhbHNcbiAgICogQHJldHVybiB7QXJyYXl9XG4gICAqL1xuICA7XG5cbiAgSW50ZXJ2YWwueG9yID0gZnVuY3Rpb24geG9yKGludGVydmFscykge1xuICAgIHZhciBfQXJyYXkkcHJvdG90eXBlO1xuXG4gICAgdmFyIHN0YXJ0ID0gbnVsbCxcbiAgICAgICAgY3VycmVudENvdW50ID0gMDtcblxuICAgIHZhciByZXN1bHRzID0gW10sXG4gICAgICAgIGVuZHMgPSBpbnRlcnZhbHMubWFwKGZ1bmN0aW9uIChpKSB7XG4gICAgICByZXR1cm4gW3tcbiAgICAgICAgdGltZTogaS5zLFxuICAgICAgICB0eXBlOiBcInNcIlxuICAgICAgfSwge1xuICAgICAgICB0aW1lOiBpLmUsXG4gICAgICAgIHR5cGU6IFwiZVwiXG4gICAgICB9XTtcbiAgICB9KSxcbiAgICAgICAgZmxhdHRlbmVkID0gKF9BcnJheSRwcm90b3R5cGUgPSBBcnJheS5wcm90b3R5cGUpLmNvbmNhdC5hcHBseShfQXJyYXkkcHJvdG90eXBlLCBlbmRzKSxcbiAgICAgICAgYXJyID0gZmxhdHRlbmVkLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHJldHVybiBhLnRpbWUgLSBiLnRpbWU7XG4gICAgfSk7XG5cbiAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlckxvb3NlKGFyciksIF9zdGVwOyAhKF9zdGVwID0gX2l0ZXJhdG9yKCkpLmRvbmU7KSB7XG4gICAgICB2YXIgaSA9IF9zdGVwLnZhbHVlO1xuICAgICAgY3VycmVudENvdW50ICs9IGkudHlwZSA9PT0gXCJzXCIgPyAxIDogLTE7XG5cbiAgICAgIGlmIChjdXJyZW50Q291bnQgPT09IDEpIHtcbiAgICAgICAgc3RhcnQgPSBpLnRpbWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoc3RhcnQgJiYgK3N0YXJ0ICE9PSAraS50aW1lKSB7XG4gICAgICAgICAgcmVzdWx0cy5wdXNoKEludGVydmFsLmZyb21EYXRlVGltZXMoc3RhcnQsIGkudGltZSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhcnQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBJbnRlcnZhbC5tZXJnZShyZXN1bHRzKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIGFuIEludGVydmFsIHJlcHJlc2VudGluZyB0aGUgc3BhbiBvZiB0aW1lIGluIHRoaXMgSW50ZXJ2YWwgdGhhdCBkb2Vzbid0IG92ZXJsYXAgd2l0aCBhbnkgb2YgdGhlIHNwZWNpZmllZCBJbnRlcnZhbHMuXG4gICAqIEBwYXJhbSB7Li4uSW50ZXJ2YWx9IGludGVydmFsc1xuICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICovXG4gIDtcblxuICBfcHJvdG8uZGlmZmVyZW5jZSA9IGZ1bmN0aW9uIGRpZmZlcmVuY2UoKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGludGVydmFscyA9IG5ldyBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgaW50ZXJ2YWxzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgfVxuXG4gICAgcmV0dXJuIEludGVydmFsLnhvcihbdGhpc10uY29uY2F0KGludGVydmFscykpLm1hcChmdW5jdGlvbiAoaSkge1xuICAgICAgcmV0dXJuIF90aGlzMi5pbnRlcnNlY3Rpb24oaSk7XG4gICAgfSkuZmlsdGVyKGZ1bmN0aW9uIChpKSB7XG4gICAgICByZXR1cm4gaSAmJiAhaS5pc0VtcHR5KCk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBJbnRlcnZhbCBhcHByb3ByaWF0ZSBmb3IgZGVidWdnaW5nLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQpIHJldHVybiBJTlZBTElEJDE7XG4gICAgcmV0dXJuIFwiW1wiICsgdGhpcy5zLnRvSVNPKCkgKyBcIiBcXHUyMDEzIFwiICsgdGhpcy5lLnRvSVNPKCkgKyBcIilcIjtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhbiBJU08gODYwMS1jb21wbGlhbnQgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgSW50ZXJ2YWwuXG4gICAqIEBzZWUgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSVNPXzg2MDEjVGltZV9pbnRlcnZhbHNcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdHMgLSBUaGUgc2FtZSBvcHRpb25zIGFzIHtAbGluayBEYXRlVGltZSN0b0lTT31cbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by50b0lTTyA9IGZ1bmN0aW9uIHRvSVNPKG9wdHMpIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCkgcmV0dXJuIElOVkFMSUQkMTtcbiAgICByZXR1cm4gdGhpcy5zLnRvSVNPKG9wdHMpICsgXCIvXCIgKyB0aGlzLmUudG9JU08ob3B0cyk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgYW4gSVNPIDg2MDEtY29tcGxpYW50IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBkYXRlIG9mIHRoaXMgSW50ZXJ2YWwuXG4gICAqIFRoZSB0aW1lIGNvbXBvbmVudHMgYXJlIGlnbm9yZWQuXG4gICAqIEBzZWUgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSVNPXzg2MDEjVGltZV9pbnRlcnZhbHNcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by50b0lTT0RhdGUgPSBmdW5jdGlvbiB0b0lTT0RhdGUoKSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQpIHJldHVybiBJTlZBTElEJDE7XG4gICAgcmV0dXJuIHRoaXMucy50b0lTT0RhdGUoKSArIFwiL1wiICsgdGhpcy5lLnRvSVNPRGF0ZSgpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIElTTyA4NjAxLWNvbXBsaWFudCBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGltZSBvZiB0aGlzIEludGVydmFsLlxuICAgKiBUaGUgZGF0ZSBjb21wb25lbnRzIGFyZSBpZ25vcmVkLlxuICAgKiBAc2VlIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0lTT184NjAxI1RpbWVfaW50ZXJ2YWxzXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gVGhlIHNhbWUgb3B0aW9ucyBhcyB7QGxpbmsgRGF0ZVRpbWUjdG9JU099XG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG4gIDtcblxuICBfcHJvdG8udG9JU09UaW1lID0gZnVuY3Rpb24gdG9JU09UaW1lKG9wdHMpIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCkgcmV0dXJuIElOVkFMSUQkMTtcbiAgICByZXR1cm4gdGhpcy5zLnRvSVNPVGltZShvcHRzKSArIFwiL1wiICsgdGhpcy5lLnRvSVNPVGltZShvcHRzKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIEludGVydmFsIGZvcm1hdHRlZCBhY2NvcmRpbmcgdG8gdGhlIHNwZWNpZmllZCBmb3JtYXQgc3RyaW5nLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGF0ZUZvcm1hdCAtIHRoZSBmb3JtYXQgc3RyaW5nLiBUaGlzIHN0cmluZyBmb3JtYXRzIHRoZSBzdGFydCBhbmQgZW5kIHRpbWUuIFNlZSB7QGxpbmsgRGF0ZVRpbWUjdG9Gb3JtYXR9IGZvciBkZXRhaWxzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0cyAtIG9wdGlvbnNcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLnNlcGFyYXRvciA9ICAnIFx1MjAxMyAnXSAtIGEgc2VwYXJhdG9yIHRvIHBsYWNlIGJldHdlZW4gdGhlIHN0YXJ0IGFuZCBlbmQgcmVwcmVzZW50YXRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG4gIDtcblxuICBfcHJvdG8udG9Gb3JtYXQgPSBmdW5jdGlvbiB0b0Zvcm1hdChkYXRlRm9ybWF0LCBfdGVtcDIpIHtcbiAgICB2YXIgX3JlZjMgPSBfdGVtcDIgPT09IHZvaWQgMCA/IHt9IDogX3RlbXAyLFxuICAgICAgICBfcmVmMyRzZXBhcmF0b3IgPSBfcmVmMy5zZXBhcmF0b3IsXG4gICAgICAgIHNlcGFyYXRvciA9IF9yZWYzJHNlcGFyYXRvciA9PT0gdm9pZCAwID8gXCIgXHUyMDEzIFwiIDogX3JlZjMkc2VwYXJhdG9yO1xuXG4gICAgaWYgKCF0aGlzLmlzVmFsaWQpIHJldHVybiBJTlZBTElEJDE7XG4gICAgcmV0dXJuIFwiXCIgKyB0aGlzLnMudG9Gb3JtYXQoZGF0ZUZvcm1hdCkgKyBzZXBhcmF0b3IgKyB0aGlzLmUudG9Gb3JtYXQoZGF0ZUZvcm1hdCk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBhIER1cmF0aW9uIHJlcHJlc2VudGluZyB0aGUgdGltZSBzcGFubmVkIGJ5IHRoaXMgaW50ZXJ2YWwuXG4gICAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfSBbdW5pdD1bJ21pbGxpc2Vjb25kcyddXSAtIHRoZSB1bml0IG9yIHVuaXRzIChzdWNoIGFzICdob3Vycycgb3IgJ2RheXMnKSB0byBpbmNsdWRlIGluIHRoZSBkdXJhdGlvbi5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdHMgLSBvcHRpb25zIHRoYXQgYWZmZWN0IHRoZSBjcmVhdGlvbiBvZiB0aGUgRHVyYXRpb25cbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLmNvbnZlcnNpb25BY2N1cmFjeT0nY2FzdWFsJ10gLSB0aGUgY29udmVyc2lvbiBzeXN0ZW0gdG8gdXNlXG4gICAqIEBleGFtcGxlIEludGVydmFsLmZyb21EYXRlVGltZXMoZHQxLCBkdDIpLnRvRHVyYXRpb24oKS50b09iamVjdCgpIC8vPT4geyBtaWxsaXNlY29uZHM6IDg4NDg5MjU3IH1cbiAgICogQGV4YW1wbGUgSW50ZXJ2YWwuZnJvbURhdGVUaW1lcyhkdDEsIGR0MikudG9EdXJhdGlvbignZGF5cycpLnRvT2JqZWN0KCkgLy89PiB7IGRheXM6IDEuMDI0MTgxMjE1Mjc3Nzc3OCB9XG4gICAqIEBleGFtcGxlIEludGVydmFsLmZyb21EYXRlVGltZXMoZHQxLCBkdDIpLnRvRHVyYXRpb24oWydob3VycycsICdtaW51dGVzJ10pLnRvT2JqZWN0KCkgLy89PiB7IGhvdXJzOiAyNCwgbWludXRlczogMzQuODIwOTUgfVxuICAgKiBAZXhhbXBsZSBJbnRlcnZhbC5mcm9tRGF0ZVRpbWVzKGR0MSwgZHQyKS50b0R1cmF0aW9uKFsnaG91cnMnLCAnbWludXRlcycsICdzZWNvbmRzJ10pLnRvT2JqZWN0KCkgLy89PiB7IGhvdXJzOiAyNCwgbWludXRlczogMzQsIHNlY29uZHM6IDQ5LjI1NyB9XG4gICAqIEBleGFtcGxlIEludGVydmFsLmZyb21EYXRlVGltZXMoZHQxLCBkdDIpLnRvRHVyYXRpb24oJ3NlY29uZHMnKS50b09iamVjdCgpIC8vPT4geyBzZWNvbmRzOiA4ODQ4OS4yNTcgfVxuICAgKiBAcmV0dXJuIHtEdXJhdGlvbn1cbiAgICovXG4gIDtcblxuICBfcHJvdG8udG9EdXJhdGlvbiA9IGZ1bmN0aW9uIHRvRHVyYXRpb24odW5pdCwgb3B0cykge1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKSB7XG4gICAgICByZXR1cm4gRHVyYXRpb24uaW52YWxpZCh0aGlzLmludmFsaWRSZWFzb24pO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmUuZGlmZih0aGlzLnMsIHVuaXQsIG9wdHMpO1xuICB9XG4gIC8qKlxuICAgKiBSdW4gbWFwRm4gb24gdGhlIGludGVydmFsIHN0YXJ0IGFuZCBlbmQsIHJldHVybmluZyBhIG5ldyBJbnRlcnZhbCBmcm9tIHRoZSByZXN1bHRpbmcgRGF0ZVRpbWVzXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IG1hcEZuXG4gICAqIEByZXR1cm4ge0ludGVydmFsfVxuICAgKiBAZXhhbXBsZSBJbnRlcnZhbC5mcm9tRGF0ZVRpbWVzKGR0MSwgZHQyKS5tYXBFbmRwb2ludHMoZW5kcG9pbnQgPT4gZW5kcG9pbnQudG9VVEMoKSlcbiAgICogQGV4YW1wbGUgSW50ZXJ2YWwuZnJvbURhdGVUaW1lcyhkdDEsIGR0MikubWFwRW5kcG9pbnRzKGVuZHBvaW50ID0+IGVuZHBvaW50LnBsdXMoeyBob3VyczogMiB9KSlcbiAgICovXG4gIDtcblxuICBfcHJvdG8ubWFwRW5kcG9pbnRzID0gZnVuY3Rpb24gbWFwRW5kcG9pbnRzKG1hcEZuKSB7XG4gICAgcmV0dXJuIEludGVydmFsLmZyb21EYXRlVGltZXMobWFwRm4odGhpcy5zKSwgbWFwRm4odGhpcy5lKSk7XG4gIH07XG5cbiAgX2NyZWF0ZUNsYXNzKEludGVydmFsLCBbe1xuICAgIGtleTogXCJzdGFydFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCA/IHRoaXMucyA6IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGVuZCBvZiB0aGUgSW50ZXJ2YWxcbiAgICAgKiBAdHlwZSB7RGF0ZVRpbWV9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJlbmRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmlzVmFsaWQgPyB0aGlzLmUgOiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhpcyBJbnRlcnZhbCdzIGVuZCBpcyBhdCBsZWFzdCBpdHMgc3RhcnQsIG1lYW5pbmcgdGhhdCB0aGUgSW50ZXJ2YWwgaXNuJ3QgJ2JhY2t3YXJkcycuXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJpc1ZhbGlkXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbnZhbGlkUmVhc29uID09PSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGVycm9yIGNvZGUgaWYgdGhpcyBJbnRlcnZhbCBpcyBpbnZhbGlkLCBvciBudWxsIGlmIHRoZSBJbnRlcnZhbCBpcyB2YWxpZFxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJpbnZhbGlkUmVhc29uXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbnZhbGlkID8gdGhpcy5pbnZhbGlkLnJlYXNvbiA6IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gZXhwbGFuYXRpb24gb2Ygd2h5IHRoaXMgSW50ZXJ2YWwgYmVjYW1lIGludmFsaWQsIG9yIG51bGwgaWYgdGhlIEludGVydmFsIGlzIHZhbGlkXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImludmFsaWRFeHBsYW5hdGlvblwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuaW52YWxpZCA/IHRoaXMuaW52YWxpZC5leHBsYW5hdGlvbiA6IG51bGw7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEludGVydmFsO1xufSgpO1xuXG4vKipcbiAqIFRoZSBJbmZvIGNsYXNzIGNvbnRhaW5zIHN0YXRpYyBtZXRob2RzIGZvciByZXRyaWV2aW5nIGdlbmVyYWwgdGltZSBhbmQgZGF0ZSByZWxhdGVkIGRhdGEuIEZvciBleGFtcGxlLCBpdCBoYXMgbWV0aG9kcyBmb3IgZmluZGluZyBvdXQgaWYgYSB0aW1lIHpvbmUgaGFzIGEgRFNULCBmb3IgbGlzdGluZyB0aGUgbW9udGhzIGluIGFueSBzdXBwb3J0ZWQgbG9jYWxlLCBhbmQgZm9yIGRpc2NvdmVyaW5nIHdoaWNoIG9mIEx1eG9uIGZlYXR1cmVzIGFyZSBhdmFpbGFibGUgaW4gdGhlIGN1cnJlbnQgZW52aXJvbm1lbnQuXG4gKi9cblxudmFyIEluZm8gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBJbmZvKCkge31cblxuICAvKipcbiAgICogUmV0dXJuIHdoZXRoZXIgdGhlIHNwZWNpZmllZCB6b25lIGNvbnRhaW5zIGEgRFNULlxuICAgKiBAcGFyYW0ge3N0cmluZ3xab25lfSBbem9uZT0nbG9jYWwnXSAtIFpvbmUgdG8gY2hlY2suIERlZmF1bHRzIHRvIHRoZSBlbnZpcm9ubWVudCdzIGxvY2FsIHpvbmUuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBJbmZvLmhhc0RTVCA9IGZ1bmN0aW9uIGhhc0RTVCh6b25lKSB7XG4gICAgaWYgKHpvbmUgPT09IHZvaWQgMCkge1xuICAgICAgem9uZSA9IFNldHRpbmdzLmRlZmF1bHRab25lO1xuICAgIH1cblxuICAgIHZhciBwcm90byA9IERhdGVUaW1lLm5vdygpLnNldFpvbmUoem9uZSkuc2V0KHtcbiAgICAgIG1vbnRoOiAxMlxuICAgIH0pO1xuICAgIHJldHVybiAhem9uZS5pc1VuaXZlcnNhbCAmJiBwcm90by5vZmZzZXQgIT09IHByb3RvLnNldCh7XG4gICAgICBtb250aDogNlxuICAgIH0pLm9mZnNldDtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIHdoZXRoZXIgdGhlIHNwZWNpZmllZCB6b25lIGlzIGEgdmFsaWQgSUFOQSBzcGVjaWZpZXIuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB6b25lIC0gWm9uZSB0byBjaGVja1xuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgO1xuXG4gIEluZm8uaXNWYWxpZElBTkFab25lID0gZnVuY3Rpb24gaXNWYWxpZElBTkFab25lKHpvbmUpIHtcbiAgICByZXR1cm4gSUFOQVpvbmUuaXNWYWxpZFpvbmUoem9uZSk7XG4gIH1cbiAgLyoqXG4gICAqIENvbnZlcnRzIHRoZSBpbnB1dCBpbnRvIGEge0BsaW5rIFpvbmV9IGluc3RhbmNlLlxuICAgKlxuICAgKiAqIElmIGBpbnB1dGAgaXMgYWxyZWFkeSBhIFpvbmUgaW5zdGFuY2UsIGl0IGlzIHJldHVybmVkIHVuY2hhbmdlZC5cbiAgICogKiBJZiBgaW5wdXRgIGlzIGEgc3RyaW5nIGNvbnRhaW5pbmcgYSB2YWxpZCB0aW1lIHpvbmUgbmFtZSwgYSBab25lIGluc3RhbmNlXG4gICAqICAgd2l0aCB0aGF0IG5hbWUgaXMgcmV0dXJuZWQuXG4gICAqICogSWYgYGlucHV0YCBpcyBhIHN0cmluZyB0aGF0IGRvZXNuJ3QgcmVmZXIgdG8gYSBrbm93biB0aW1lIHpvbmUsIGEgWm9uZVxuICAgKiAgIGluc3RhbmNlIHdpdGgge0BsaW5rIFpvbmUjaXNWYWxpZH0gPT0gZmFsc2UgaXMgcmV0dXJuZWQuXG4gICAqICogSWYgYGlucHV0IGlzIGEgbnVtYmVyLCBhIFpvbmUgaW5zdGFuY2Ugd2l0aCB0aGUgc3BlY2lmaWVkIGZpeGVkIG9mZnNldFxuICAgKiAgIGluIG1pbnV0ZXMgaXMgcmV0dXJuZWQuXG4gICAqICogSWYgYGlucHV0YCBpcyBgbnVsbGAgb3IgYHVuZGVmaW5lZGAsIHRoZSBkZWZhdWx0IHpvbmUgaXMgcmV0dXJuZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfFpvbmV8bnVtYmVyfSBbaW5wdXRdIC0gdGhlIHZhbHVlIHRvIGJlIGNvbnZlcnRlZFxuICAgKiBAcmV0dXJuIHtab25lfVxuICAgKi9cbiAgO1xuXG4gIEluZm8ubm9ybWFsaXplWm9uZSA9IGZ1bmN0aW9uIG5vcm1hbGl6ZVpvbmUkMShpbnB1dCkge1xuICAgIHJldHVybiBub3JtYWxpemVab25lKGlucHV0LCBTZXR0aW5ncy5kZWZhdWx0Wm9uZSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBhbiBhcnJheSBvZiBzdGFuZGFsb25lIG1vbnRoIG5hbWVzLlxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0RhdGVUaW1lRm9ybWF0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbbGVuZ3RoPSdsb25nJ10gLSB0aGUgbGVuZ3RoIG9mIHRoZSBtb250aCByZXByZXNlbnRhdGlvbiwgc3VjaCBhcyBcIm51bWVyaWNcIiwgXCIyLWRpZ2l0XCIsIFwibmFycm93XCIsIFwic2hvcnRcIiwgXCJsb25nXCJcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdHMgLSBvcHRpb25zXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5sb2NhbGVdIC0gdGhlIGxvY2FsZSBjb2RlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5udW1iZXJpbmdTeXN0ZW09bnVsbF0gLSB0aGUgbnVtYmVyaW5nIHN5c3RlbVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMubG9jT2JqPW51bGxdIC0gYW4gZXhpc3RpbmcgbG9jYWxlIG9iamVjdCB0byB1c2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLm91dHB1dENhbGVuZGFyPSdncmVnb3J5J10gLSB0aGUgY2FsZW5kYXJcbiAgICogQGV4YW1wbGUgSW5mby5tb250aHMoKVswXSAvLz0+ICdKYW51YXJ5J1xuICAgKiBAZXhhbXBsZSBJbmZvLm1vbnRocygnc2hvcnQnKVswXSAvLz0+ICdKYW4nXG4gICAqIEBleGFtcGxlIEluZm8ubW9udGhzKCdudW1lcmljJylbMF0gLy89PiAnMSdcbiAgICogQGV4YW1wbGUgSW5mby5tb250aHMoJ3Nob3J0JywgeyBsb2NhbGU6ICdmci1DQScgfSApWzBdIC8vPT4gJ2phbnYuJ1xuICAgKiBAZXhhbXBsZSBJbmZvLm1vbnRocygnbnVtZXJpYycsIHsgbG9jYWxlOiAnYXInIH0pWzBdIC8vPT4gJ1x1MDY2MSdcbiAgICogQGV4YW1wbGUgSW5mby5tb250aHMoJ2xvbmcnLCB7IG91dHB1dENhbGVuZGFyOiAnaXNsYW1pYycgfSlbMF0gLy89PiAnUmFiaVx1MDJCQiBJJ1xuICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICovXG4gIDtcblxuICBJbmZvLm1vbnRocyA9IGZ1bmN0aW9uIG1vbnRocyhsZW5ndGgsIF90ZW1wKSB7XG4gICAgaWYgKGxlbmd0aCA9PT0gdm9pZCAwKSB7XG4gICAgICBsZW5ndGggPSBcImxvbmdcIjtcbiAgICB9XG5cbiAgICB2YXIgX3JlZiA9IF90ZW1wID09PSB2b2lkIDAgPyB7fSA6IF90ZW1wLFxuICAgICAgICBfcmVmJGxvY2FsZSA9IF9yZWYubG9jYWxlLFxuICAgICAgICBsb2NhbGUgPSBfcmVmJGxvY2FsZSA9PT0gdm9pZCAwID8gbnVsbCA6IF9yZWYkbG9jYWxlLFxuICAgICAgICBfcmVmJG51bWJlcmluZ1N5c3RlbSA9IF9yZWYubnVtYmVyaW5nU3lzdGVtLFxuICAgICAgICBudW1iZXJpbmdTeXN0ZW0gPSBfcmVmJG51bWJlcmluZ1N5c3RlbSA9PT0gdm9pZCAwID8gbnVsbCA6IF9yZWYkbnVtYmVyaW5nU3lzdGVtLFxuICAgICAgICBfcmVmJGxvY09iaiA9IF9yZWYubG9jT2JqLFxuICAgICAgICBsb2NPYmogPSBfcmVmJGxvY09iaiA9PT0gdm9pZCAwID8gbnVsbCA6IF9yZWYkbG9jT2JqLFxuICAgICAgICBfcmVmJG91dHB1dENhbGVuZGFyID0gX3JlZi5vdXRwdXRDYWxlbmRhcixcbiAgICAgICAgb3V0cHV0Q2FsZW5kYXIgPSBfcmVmJG91dHB1dENhbGVuZGFyID09PSB2b2lkIDAgPyBcImdyZWdvcnlcIiA6IF9yZWYkb3V0cHV0Q2FsZW5kYXI7XG5cbiAgICByZXR1cm4gKGxvY09iaiB8fCBMb2NhbGUuY3JlYXRlKGxvY2FsZSwgbnVtYmVyaW5nU3lzdGVtLCBvdXRwdXRDYWxlbmRhcikpLm1vbnRocyhsZW5ndGgpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gYW4gYXJyYXkgb2YgZm9ybWF0IG1vbnRoIG5hbWVzLlxuICAgKiBGb3JtYXQgbW9udGhzIGRpZmZlciBmcm9tIHN0YW5kYWxvbmUgbW9udGhzIGluIHRoYXQgdGhleSdyZSBtZWFudCB0byBhcHBlYXIgbmV4dCB0byB0aGUgZGF5IG9mIHRoZSBtb250aC4gSW4gc29tZSBsYW5ndWFnZXMsIHRoYXRcbiAgICogY2hhbmdlcyB0aGUgc3RyaW5nLlxuICAgKiBTZWUge0BsaW5rIEluZm8jbW9udGhzfVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2xlbmd0aD0nbG9uZyddIC0gdGhlIGxlbmd0aCBvZiB0aGUgbW9udGggcmVwcmVzZW50YXRpb24sIHN1Y2ggYXMgXCJudW1lcmljXCIsIFwiMi1kaWdpdFwiLCBcIm5hcnJvd1wiLCBcInNob3J0XCIsIFwibG9uZ1wiXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gb3B0aW9uc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMubG9jYWxlXSAtIHRoZSBsb2NhbGUgY29kZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMubnVtYmVyaW5nU3lzdGVtPW51bGxdIC0gdGhlIG51bWJlcmluZyBzeXN0ZW1cbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLmxvY09iaj1udWxsXSAtIGFuIGV4aXN0aW5nIGxvY2FsZSBvYmplY3QgdG8gdXNlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5vdXRwdXRDYWxlbmRhcj0nZ3JlZ29yeSddIC0gdGhlIGNhbGVuZGFyXG4gICAqIEByZXR1cm4ge0FycmF5fVxuICAgKi9cbiAgO1xuXG4gIEluZm8ubW9udGhzRm9ybWF0ID0gZnVuY3Rpb24gbW9udGhzRm9ybWF0KGxlbmd0aCwgX3RlbXAyKSB7XG4gICAgaWYgKGxlbmd0aCA9PT0gdm9pZCAwKSB7XG4gICAgICBsZW5ndGggPSBcImxvbmdcIjtcbiAgICB9XG5cbiAgICB2YXIgX3JlZjIgPSBfdGVtcDIgPT09IHZvaWQgMCA/IHt9IDogX3RlbXAyLFxuICAgICAgICBfcmVmMiRsb2NhbGUgPSBfcmVmMi5sb2NhbGUsXG4gICAgICAgIGxvY2FsZSA9IF9yZWYyJGxvY2FsZSA9PT0gdm9pZCAwID8gbnVsbCA6IF9yZWYyJGxvY2FsZSxcbiAgICAgICAgX3JlZjIkbnVtYmVyaW5nU3lzdGVtID0gX3JlZjIubnVtYmVyaW5nU3lzdGVtLFxuICAgICAgICBudW1iZXJpbmdTeXN0ZW0gPSBfcmVmMiRudW1iZXJpbmdTeXN0ZW0gPT09IHZvaWQgMCA/IG51bGwgOiBfcmVmMiRudW1iZXJpbmdTeXN0ZW0sXG4gICAgICAgIF9yZWYyJGxvY09iaiA9IF9yZWYyLmxvY09iaixcbiAgICAgICAgbG9jT2JqID0gX3JlZjIkbG9jT2JqID09PSB2b2lkIDAgPyBudWxsIDogX3JlZjIkbG9jT2JqLFxuICAgICAgICBfcmVmMiRvdXRwdXRDYWxlbmRhciA9IF9yZWYyLm91dHB1dENhbGVuZGFyLFxuICAgICAgICBvdXRwdXRDYWxlbmRhciA9IF9yZWYyJG91dHB1dENhbGVuZGFyID09PSB2b2lkIDAgPyBcImdyZWdvcnlcIiA6IF9yZWYyJG91dHB1dENhbGVuZGFyO1xuXG4gICAgcmV0dXJuIChsb2NPYmogfHwgTG9jYWxlLmNyZWF0ZShsb2NhbGUsIG51bWJlcmluZ1N5c3RlbSwgb3V0cHV0Q2FsZW5kYXIpKS5tb250aHMobGVuZ3RoLCB0cnVlKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIGFuIGFycmF5IG9mIHN0YW5kYWxvbmUgd2VlayBuYW1lcy5cbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9EYXRlVGltZUZvcm1hdFxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2xlbmd0aD0nbG9uZyddIC0gdGhlIGxlbmd0aCBvZiB0aGUgd2Vla2RheSByZXByZXNlbnRhdGlvbiwgc3VjaCBhcyBcIm5hcnJvd1wiLCBcInNob3J0XCIsIFwibG9uZ1wiLlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0cyAtIG9wdGlvbnNcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLmxvY2FsZV0gLSB0aGUgbG9jYWxlIGNvZGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLm51bWJlcmluZ1N5c3RlbT1udWxsXSAtIHRoZSBudW1iZXJpbmcgc3lzdGVtXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5sb2NPYmo9bnVsbF0gLSBhbiBleGlzdGluZyBsb2NhbGUgb2JqZWN0IHRvIHVzZVxuICAgKiBAZXhhbXBsZSBJbmZvLndlZWtkYXlzKClbMF0gLy89PiAnTW9uZGF5J1xuICAgKiBAZXhhbXBsZSBJbmZvLndlZWtkYXlzKCdzaG9ydCcpWzBdIC8vPT4gJ01vbidcbiAgICogQGV4YW1wbGUgSW5mby53ZWVrZGF5cygnc2hvcnQnLCB7IGxvY2FsZTogJ2ZyLUNBJyB9KVswXSAvLz0+ICdsdW4uJ1xuICAgKiBAZXhhbXBsZSBJbmZvLndlZWtkYXlzKCdzaG9ydCcsIHsgbG9jYWxlOiAnYXInIH0pWzBdIC8vPT4gJ1x1MDYyN1x1MDY0NFx1MDYyN1x1MDYyQlx1MDY0Nlx1MDY0QVx1MDY0NidcbiAgICogQHJldHVybiB7QXJyYXl9XG4gICAqL1xuICA7XG5cbiAgSW5mby53ZWVrZGF5cyA9IGZ1bmN0aW9uIHdlZWtkYXlzKGxlbmd0aCwgX3RlbXAzKSB7XG4gICAgaWYgKGxlbmd0aCA9PT0gdm9pZCAwKSB7XG4gICAgICBsZW5ndGggPSBcImxvbmdcIjtcbiAgICB9XG5cbiAgICB2YXIgX3JlZjMgPSBfdGVtcDMgPT09IHZvaWQgMCA/IHt9IDogX3RlbXAzLFxuICAgICAgICBfcmVmMyRsb2NhbGUgPSBfcmVmMy5sb2NhbGUsXG4gICAgICAgIGxvY2FsZSA9IF9yZWYzJGxvY2FsZSA9PT0gdm9pZCAwID8gbnVsbCA6IF9yZWYzJGxvY2FsZSxcbiAgICAgICAgX3JlZjMkbnVtYmVyaW5nU3lzdGVtID0gX3JlZjMubnVtYmVyaW5nU3lzdGVtLFxuICAgICAgICBudW1iZXJpbmdTeXN0ZW0gPSBfcmVmMyRudW1iZXJpbmdTeXN0ZW0gPT09IHZvaWQgMCA/IG51bGwgOiBfcmVmMyRudW1iZXJpbmdTeXN0ZW0sXG4gICAgICAgIF9yZWYzJGxvY09iaiA9IF9yZWYzLmxvY09iaixcbiAgICAgICAgbG9jT2JqID0gX3JlZjMkbG9jT2JqID09PSB2b2lkIDAgPyBudWxsIDogX3JlZjMkbG9jT2JqO1xuXG4gICAgcmV0dXJuIChsb2NPYmogfHwgTG9jYWxlLmNyZWF0ZShsb2NhbGUsIG51bWJlcmluZ1N5c3RlbSwgbnVsbCkpLndlZWtkYXlzKGxlbmd0aCk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBhbiBhcnJheSBvZiBmb3JtYXQgd2VlayBuYW1lcy5cbiAgICogRm9ybWF0IHdlZWtkYXlzIGRpZmZlciBmcm9tIHN0YW5kYWxvbmUgd2Vla2RheXMgaW4gdGhhdCB0aGV5J3JlIG1lYW50IHRvIGFwcGVhciBuZXh0IHRvIG1vcmUgZGF0ZSBpbmZvcm1hdGlvbi4gSW4gc29tZSBsYW5ndWFnZXMsIHRoYXRcbiAgICogY2hhbmdlcyB0aGUgc3RyaW5nLlxuICAgKiBTZWUge0BsaW5rIEluZm8jd2Vla2RheXN9XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbbGVuZ3RoPSdsb25nJ10gLSB0aGUgbGVuZ3RoIG9mIHRoZSBtb250aCByZXByZXNlbnRhdGlvbiwgc3VjaCBhcyBcIm5hcnJvd1wiLCBcInNob3J0XCIsIFwibG9uZ1wiLlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0cyAtIG9wdGlvbnNcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLmxvY2FsZT1udWxsXSAtIHRoZSBsb2NhbGUgY29kZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMubnVtYmVyaW5nU3lzdGVtPW51bGxdIC0gdGhlIG51bWJlcmluZyBzeXN0ZW1cbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLmxvY09iaj1udWxsXSAtIGFuIGV4aXN0aW5nIGxvY2FsZSBvYmplY3QgdG8gdXNlXG4gICAqIEByZXR1cm4ge0FycmF5fVxuICAgKi9cbiAgO1xuXG4gIEluZm8ud2Vla2RheXNGb3JtYXQgPSBmdW5jdGlvbiB3ZWVrZGF5c0Zvcm1hdChsZW5ndGgsIF90ZW1wNCkge1xuICAgIGlmIChsZW5ndGggPT09IHZvaWQgMCkge1xuICAgICAgbGVuZ3RoID0gXCJsb25nXCI7XG4gICAgfVxuXG4gICAgdmFyIF9yZWY0ID0gX3RlbXA0ID09PSB2b2lkIDAgPyB7fSA6IF90ZW1wNCxcbiAgICAgICAgX3JlZjQkbG9jYWxlID0gX3JlZjQubG9jYWxlLFxuICAgICAgICBsb2NhbGUgPSBfcmVmNCRsb2NhbGUgPT09IHZvaWQgMCA/IG51bGwgOiBfcmVmNCRsb2NhbGUsXG4gICAgICAgIF9yZWY0JG51bWJlcmluZ1N5c3RlbSA9IF9yZWY0Lm51bWJlcmluZ1N5c3RlbSxcbiAgICAgICAgbnVtYmVyaW5nU3lzdGVtID0gX3JlZjQkbnVtYmVyaW5nU3lzdGVtID09PSB2b2lkIDAgPyBudWxsIDogX3JlZjQkbnVtYmVyaW5nU3lzdGVtLFxuICAgICAgICBfcmVmNCRsb2NPYmogPSBfcmVmNC5sb2NPYmosXG4gICAgICAgIGxvY09iaiA9IF9yZWY0JGxvY09iaiA9PT0gdm9pZCAwID8gbnVsbCA6IF9yZWY0JGxvY09iajtcblxuICAgIHJldHVybiAobG9jT2JqIHx8IExvY2FsZS5jcmVhdGUobG9jYWxlLCBudW1iZXJpbmdTeXN0ZW0sIG51bGwpKS53ZWVrZGF5cyhsZW5ndGgsIHRydWUpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gYW4gYXJyYXkgb2YgbWVyaWRpZW1zLlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0cyAtIG9wdGlvbnNcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLmxvY2FsZV0gLSB0aGUgbG9jYWxlIGNvZGVcbiAgICogQGV4YW1wbGUgSW5mby5tZXJpZGllbXMoKSAvLz0+IFsgJ0FNJywgJ1BNJyBdXG4gICAqIEBleGFtcGxlIEluZm8ubWVyaWRpZW1zKHsgbG9jYWxlOiAnbXknIH0pIC8vPT4gWyAnXHUxMDE0XHUxMDM2XHUxMDE0XHUxMDAwXHUxMDNBJywgJ1x1MTAwQVx1MTAxNFx1MTAzMScgXVxuICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICovXG4gIDtcblxuICBJbmZvLm1lcmlkaWVtcyA9IGZ1bmN0aW9uIG1lcmlkaWVtcyhfdGVtcDUpIHtcbiAgICB2YXIgX3JlZjUgPSBfdGVtcDUgPT09IHZvaWQgMCA/IHt9IDogX3RlbXA1LFxuICAgICAgICBfcmVmNSRsb2NhbGUgPSBfcmVmNS5sb2NhbGUsXG4gICAgICAgIGxvY2FsZSA9IF9yZWY1JGxvY2FsZSA9PT0gdm9pZCAwID8gbnVsbCA6IF9yZWY1JGxvY2FsZTtcblxuICAgIHJldHVybiBMb2NhbGUuY3JlYXRlKGxvY2FsZSkubWVyaWRpZW1zKCk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBhbiBhcnJheSBvZiBlcmFzLCBzdWNoIGFzIFsnQkMnLCAnQUQnXS4gVGhlIGxvY2FsZSBjYW4gYmUgc3BlY2lmaWVkLCBidXQgdGhlIGNhbGVuZGFyIHN5c3RlbSBpcyBhbHdheXMgR3JlZ29yaWFuLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2xlbmd0aD0nc2hvcnQnXSAtIHRoZSBsZW5ndGggb2YgdGhlIGVyYSByZXByZXNlbnRhdGlvbiwgc3VjaCBhcyBcInNob3J0XCIgb3IgXCJsb25nXCIuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gb3B0aW9uc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMubG9jYWxlXSAtIHRoZSBsb2NhbGUgY29kZVxuICAgKiBAZXhhbXBsZSBJbmZvLmVyYXMoKSAvLz0+IFsgJ0JDJywgJ0FEJyBdXG4gICAqIEBleGFtcGxlIEluZm8uZXJhcygnbG9uZycpIC8vPT4gWyAnQmVmb3JlIENocmlzdCcsICdBbm5vIERvbWluaScgXVxuICAgKiBAZXhhbXBsZSBJbmZvLmVyYXMoJ2xvbmcnLCB7IGxvY2FsZTogJ2ZyJyB9KSAvLz0+IFsgJ2F2YW50IEpcdTAwRTlzdXMtQ2hyaXN0JywgJ2Fwclx1MDBFOHMgSlx1MDBFOXN1cy1DaHJpc3QnIF1cbiAgICogQHJldHVybiB7QXJyYXl9XG4gICAqL1xuICA7XG5cbiAgSW5mby5lcmFzID0gZnVuY3Rpb24gZXJhcyhsZW5ndGgsIF90ZW1wNikge1xuICAgIGlmIChsZW5ndGggPT09IHZvaWQgMCkge1xuICAgICAgbGVuZ3RoID0gXCJzaG9ydFwiO1xuICAgIH1cblxuICAgIHZhciBfcmVmNiA9IF90ZW1wNiA9PT0gdm9pZCAwID8ge30gOiBfdGVtcDYsXG4gICAgICAgIF9yZWY2JGxvY2FsZSA9IF9yZWY2LmxvY2FsZSxcbiAgICAgICAgbG9jYWxlID0gX3JlZjYkbG9jYWxlID09PSB2b2lkIDAgPyBudWxsIDogX3JlZjYkbG9jYWxlO1xuXG4gICAgcmV0dXJuIExvY2FsZS5jcmVhdGUobG9jYWxlLCBudWxsLCBcImdyZWdvcnlcIikuZXJhcyhsZW5ndGgpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIHNldCBvZiBhdmFpbGFibGUgZmVhdHVyZXMgaW4gdGhpcyBlbnZpcm9ubWVudC5cbiAgICogU29tZSBmZWF0dXJlcyBvZiBMdXhvbiBhcmUgbm90IGF2YWlsYWJsZSBpbiBhbGwgZW52aXJvbm1lbnRzLiBGb3IgZXhhbXBsZSwgb24gb2xkZXIgYnJvd3NlcnMsIHJlbGF0aXZlIHRpbWUgZm9ybWF0dGluZyBzdXBwb3J0IGlzIG5vdCBhdmFpbGFibGUuIFVzZSB0aGlzIGZ1bmN0aW9uIHRvIGZpZ3VyZSBvdXQgaWYgdGhhdCdzIHRoZSBjYXNlLlxuICAgKiBLZXlzOlxuICAgKiAqIGByZWxhdGl2ZWA6IHdoZXRoZXIgdGhpcyBlbnZpcm9ubWVudCBzdXBwb3J0cyByZWxhdGl2ZSB0aW1lIGZvcm1hdHRpbmdcbiAgICogQGV4YW1wbGUgSW5mby5mZWF0dXJlcygpIC8vPT4geyByZWxhdGl2ZTogZmFsc2UgfVxuICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAqL1xuICA7XG5cbiAgSW5mby5mZWF0dXJlcyA9IGZ1bmN0aW9uIGZlYXR1cmVzKCkge1xuICAgIHJldHVybiB7XG4gICAgICByZWxhdGl2ZTogaGFzUmVsYXRpdmUoKVxuICAgIH07XG4gIH07XG5cbiAgcmV0dXJuIEluZm87XG59KCk7XG5cbmZ1bmN0aW9uIGRheURpZmYoZWFybGllciwgbGF0ZXIpIHtcbiAgdmFyIHV0Y0RheVN0YXJ0ID0gZnVuY3Rpb24gdXRjRGF5U3RhcnQoZHQpIHtcbiAgICByZXR1cm4gZHQudG9VVEMoMCwge1xuICAgICAga2VlcExvY2FsVGltZTogdHJ1ZVxuICAgIH0pLnN0YXJ0T2YoXCJkYXlcIikudmFsdWVPZigpO1xuICB9LFxuICAgICAgbXMgPSB1dGNEYXlTdGFydChsYXRlcikgLSB1dGNEYXlTdGFydChlYXJsaWVyKTtcblxuICByZXR1cm4gTWF0aC5mbG9vcihEdXJhdGlvbi5mcm9tTWlsbGlzKG1zKS5hcyhcImRheXNcIikpO1xufVxuXG5mdW5jdGlvbiBoaWdoT3JkZXJEaWZmcyhjdXJzb3IsIGxhdGVyLCB1bml0cykge1xuICB2YXIgZGlmZmVycyA9IFtbXCJ5ZWFyc1wiLCBmdW5jdGlvbiAoYSwgYikge1xuICAgIHJldHVybiBiLnllYXIgLSBhLnllYXI7XG4gIH1dLCBbXCJxdWFydGVyc1wiLCBmdW5jdGlvbiAoYSwgYikge1xuICAgIHJldHVybiBiLnF1YXJ0ZXIgLSBhLnF1YXJ0ZXI7XG4gIH1dLCBbXCJtb250aHNcIiwgZnVuY3Rpb24gKGEsIGIpIHtcbiAgICByZXR1cm4gYi5tb250aCAtIGEubW9udGggKyAoYi55ZWFyIC0gYS55ZWFyKSAqIDEyO1xuICB9XSwgW1wid2Vla3NcIiwgZnVuY3Rpb24gKGEsIGIpIHtcbiAgICB2YXIgZGF5cyA9IGRheURpZmYoYSwgYik7XG4gICAgcmV0dXJuIChkYXlzIC0gZGF5cyAlIDcpIC8gNztcbiAgfV0sIFtcImRheXNcIiwgZGF5RGlmZl1dO1xuICB2YXIgcmVzdWx0cyA9IHt9O1xuICB2YXIgbG93ZXN0T3JkZXIsIGhpZ2hXYXRlcjtcblxuICBmb3IgKHZhciBfaSA9IDAsIF9kaWZmZXJzID0gZGlmZmVyczsgX2kgPCBfZGlmZmVycy5sZW5ndGg7IF9pKyspIHtcbiAgICB2YXIgX2RpZmZlcnMkX2kgPSBfZGlmZmVyc1tfaV0sXG4gICAgICAgIHVuaXQgPSBfZGlmZmVycyRfaVswXSxcbiAgICAgICAgZGlmZmVyID0gX2RpZmZlcnMkX2lbMV07XG5cbiAgICBpZiAodW5pdHMuaW5kZXhPZih1bml0KSA+PSAwKSB7XG4gICAgICB2YXIgX2N1cnNvciRwbHVzO1xuXG4gICAgICBsb3dlc3RPcmRlciA9IHVuaXQ7XG4gICAgICB2YXIgZGVsdGEgPSBkaWZmZXIoY3Vyc29yLCBsYXRlcik7XG4gICAgICBoaWdoV2F0ZXIgPSBjdXJzb3IucGx1cygoX2N1cnNvciRwbHVzID0ge30sIF9jdXJzb3IkcGx1c1t1bml0XSA9IGRlbHRhLCBfY3Vyc29yJHBsdXMpKTtcblxuICAgICAgaWYgKGhpZ2hXYXRlciA+IGxhdGVyKSB7XG4gICAgICAgIHZhciBfY3Vyc29yJHBsdXMyO1xuXG4gICAgICAgIGN1cnNvciA9IGN1cnNvci5wbHVzKChfY3Vyc29yJHBsdXMyID0ge30sIF9jdXJzb3IkcGx1czJbdW5pdF0gPSBkZWx0YSAtIDEsIF9jdXJzb3IkcGx1czIpKTtcbiAgICAgICAgZGVsdGEgLT0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN1cnNvciA9IGhpZ2hXYXRlcjtcbiAgICAgIH1cblxuICAgICAgcmVzdWx0c1t1bml0XSA9IGRlbHRhO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBbY3Vyc29yLCByZXN1bHRzLCBoaWdoV2F0ZXIsIGxvd2VzdE9yZGVyXTtcbn1cblxuZnVuY3Rpb24gX2RpZmYgKGVhcmxpZXIsIGxhdGVyLCB1bml0cywgb3B0cykge1xuICB2YXIgX2hpZ2hPcmRlckRpZmZzID0gaGlnaE9yZGVyRGlmZnMoZWFybGllciwgbGF0ZXIsIHVuaXRzKSxcbiAgICAgIGN1cnNvciA9IF9oaWdoT3JkZXJEaWZmc1swXSxcbiAgICAgIHJlc3VsdHMgPSBfaGlnaE9yZGVyRGlmZnNbMV0sXG4gICAgICBoaWdoV2F0ZXIgPSBfaGlnaE9yZGVyRGlmZnNbMl0sXG4gICAgICBsb3dlc3RPcmRlciA9IF9oaWdoT3JkZXJEaWZmc1szXTtcblxuICB2YXIgcmVtYWluaW5nTWlsbGlzID0gbGF0ZXIgLSBjdXJzb3I7XG4gIHZhciBsb3dlck9yZGVyVW5pdHMgPSB1bml0cy5maWx0ZXIoZnVuY3Rpb24gKHUpIHtcbiAgICByZXR1cm4gW1wiaG91cnNcIiwgXCJtaW51dGVzXCIsIFwic2Vjb25kc1wiLCBcIm1pbGxpc2Vjb25kc1wiXS5pbmRleE9mKHUpID49IDA7XG4gIH0pO1xuXG4gIGlmIChsb3dlck9yZGVyVW5pdHMubGVuZ3RoID09PSAwKSB7XG4gICAgaWYgKGhpZ2hXYXRlciA8IGxhdGVyKSB7XG4gICAgICB2YXIgX2N1cnNvciRwbHVzMztcblxuICAgICAgaGlnaFdhdGVyID0gY3Vyc29yLnBsdXMoKF9jdXJzb3IkcGx1czMgPSB7fSwgX2N1cnNvciRwbHVzM1tsb3dlc3RPcmRlcl0gPSAxLCBfY3Vyc29yJHBsdXMzKSk7XG4gICAgfVxuXG4gICAgaWYgKGhpZ2hXYXRlciAhPT0gY3Vyc29yKSB7XG4gICAgICByZXN1bHRzW2xvd2VzdE9yZGVyXSA9IChyZXN1bHRzW2xvd2VzdE9yZGVyXSB8fCAwKSArIHJlbWFpbmluZ01pbGxpcyAvIChoaWdoV2F0ZXIgLSBjdXJzb3IpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBkdXJhdGlvbiA9IER1cmF0aW9uLmZyb21PYmplY3QocmVzdWx0cywgb3B0cyk7XG5cbiAgaWYgKGxvd2VyT3JkZXJVbml0cy5sZW5ndGggPiAwKSB7XG4gICAgdmFyIF9EdXJhdGlvbiRmcm9tTWlsbGlzO1xuXG4gICAgcmV0dXJuIChfRHVyYXRpb24kZnJvbU1pbGxpcyA9IER1cmF0aW9uLmZyb21NaWxsaXMocmVtYWluaW5nTWlsbGlzLCBvcHRzKSkuc2hpZnRUby5hcHBseShfRHVyYXRpb24kZnJvbU1pbGxpcywgbG93ZXJPcmRlclVuaXRzKS5wbHVzKGR1cmF0aW9uKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZHVyYXRpb247XG4gIH1cbn1cblxudmFyIG51bWJlcmluZ1N5c3RlbXMgPSB7XG4gIGFyYWI6IFwiW1xcdTA2NjAtXFx1MDY2OV1cIixcbiAgYXJhYmV4dDogXCJbXFx1MDZGMC1cXHUwNkY5XVwiLFxuICBiYWxpOiBcIltcXHUxQjUwLVxcdTFCNTldXCIsXG4gIGJlbmc6IFwiW1xcdTA5RTYtXFx1MDlFRl1cIixcbiAgZGV2YTogXCJbXFx1MDk2Ni1cXHUwOTZGXVwiLFxuICBmdWxsd2lkZTogXCJbXFx1RkYxMC1cXHVGRjE5XVwiLFxuICBndWpyOiBcIltcXHUwQUU2LVxcdTBBRUZdXCIsXG4gIGhhbmlkZWM6IFwiW1x1MzAwN3xcdTRFMDB8XHU0RThDfFx1NEUwOXxcdTU2REJ8XHU0RTk0fFx1NTE2RHxcdTRFMDN8XHU1MTZCfFx1NEU1RF1cIixcbiAga2htcjogXCJbXFx1MTdFMC1cXHUxN0U5XVwiLFxuICBrbmRhOiBcIltcXHUwQ0U2LVxcdTBDRUZdXCIsXG4gIGxhb286IFwiW1xcdTBFRDAtXFx1MEVEOV1cIixcbiAgbGltYjogXCJbXFx1MTk0Ni1cXHUxOTRGXVwiLFxuICBtbHltOiBcIltcXHUwRDY2LVxcdTBENkZdXCIsXG4gIG1vbmc6IFwiW1xcdTE4MTAtXFx1MTgxOV1cIixcbiAgbXltcjogXCJbXFx1MTA0MC1cXHUxMDQ5XVwiLFxuICBvcnlhOiBcIltcXHUwQjY2LVxcdTBCNkZdXCIsXG4gIHRhbWxkZWM6IFwiW1xcdTBCRTYtXFx1MEJFRl1cIixcbiAgdGVsdTogXCJbXFx1MEM2Ni1cXHUwQzZGXVwiLFxuICB0aGFpOiBcIltcXHUwRTUwLVxcdTBFNTldXCIsXG4gIHRpYnQ6IFwiW1xcdTBGMjAtXFx1MEYyOV1cIixcbiAgbGF0bjogXCJcXFxcZFwiXG59O1xudmFyIG51bWJlcmluZ1N5c3RlbXNVVEYxNiA9IHtcbiAgYXJhYjogWzE2MzIsIDE2NDFdLFxuICBhcmFiZXh0OiBbMTc3NiwgMTc4NV0sXG4gIGJhbGk6IFs2OTkyLCA3MDAxXSxcbiAgYmVuZzogWzI1MzQsIDI1NDNdLFxuICBkZXZhOiBbMjQwNiwgMjQxNV0sXG4gIGZ1bGx3aWRlOiBbNjUyOTYsIDY1MzAzXSxcbiAgZ3VqcjogWzI3OTAsIDI3OTldLFxuICBraG1yOiBbNjExMiwgNjEyMV0sXG4gIGtuZGE6IFszMzAyLCAzMzExXSxcbiAgbGFvbzogWzM3OTIsIDM4MDFdLFxuICBsaW1iOiBbNjQ3MCwgNjQ3OV0sXG4gIG1seW06IFszNDMwLCAzNDM5XSxcbiAgbW9uZzogWzYxNjAsIDYxNjldLFxuICBteW1yOiBbNDE2MCwgNDE2OV0sXG4gIG9yeWE6IFsyOTE4LCAyOTI3XSxcbiAgdGFtbGRlYzogWzMwNDYsIDMwNTVdLFxuICB0ZWx1OiBbMzE3NCwgMzE4M10sXG4gIHRoYWk6IFszNjY0LCAzNjczXSxcbiAgdGlidDogWzM4NzIsIDM4ODFdXG59O1xudmFyIGhhbmlkZWNDaGFycyA9IG51bWJlcmluZ1N5c3RlbXMuaGFuaWRlYy5yZXBsYWNlKC9bXFxbfFxcXV0vZywgXCJcIikuc3BsaXQoXCJcIik7XG5mdW5jdGlvbiBwYXJzZURpZ2l0cyhzdHIpIHtcbiAgdmFyIHZhbHVlID0gcGFyc2VJbnQoc3RyLCAxMCk7XG5cbiAgaWYgKGlzTmFOKHZhbHVlKSkge1xuICAgIHZhbHVlID0gXCJcIjtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgY29kZSA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuXG4gICAgICBpZiAoc3RyW2ldLnNlYXJjaChudW1iZXJpbmdTeXN0ZW1zLmhhbmlkZWMpICE9PSAtMSkge1xuICAgICAgICB2YWx1ZSArPSBoYW5pZGVjQ2hhcnMuaW5kZXhPZihzdHJbaV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIG51bWJlcmluZ1N5c3RlbXNVVEYxNikge1xuICAgICAgICAgIHZhciBfbnVtYmVyaW5nU3lzdGVtc1VURiA9IG51bWJlcmluZ1N5c3RlbXNVVEYxNltrZXldLFxuICAgICAgICAgICAgICBtaW4gPSBfbnVtYmVyaW5nU3lzdGVtc1VURlswXSxcbiAgICAgICAgICAgICAgbWF4ID0gX251bWJlcmluZ1N5c3RlbXNVVEZbMV07XG5cbiAgICAgICAgICBpZiAoY29kZSA+PSBtaW4gJiYgY29kZSA8PSBtYXgpIHtcbiAgICAgICAgICAgIHZhbHVlICs9IGNvZGUgLSBtaW47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcnNlSW50KHZhbHVlLCAxMCk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG59XG5mdW5jdGlvbiBkaWdpdFJlZ2V4KF9yZWYsIGFwcGVuZCkge1xuICB2YXIgbnVtYmVyaW5nU3lzdGVtID0gX3JlZi5udW1iZXJpbmdTeXN0ZW07XG5cbiAgaWYgKGFwcGVuZCA9PT0gdm9pZCAwKSB7XG4gICAgYXBwZW5kID0gXCJcIjtcbiAgfVxuXG4gIHJldHVybiBuZXcgUmVnRXhwKFwiXCIgKyBudW1iZXJpbmdTeXN0ZW1zW251bWJlcmluZ1N5c3RlbSB8fCBcImxhdG5cIl0gKyBhcHBlbmQpO1xufVxuXG52YXIgTUlTU0lOR19GVFAgPSBcIm1pc3NpbmcgSW50bC5EYXRlVGltZUZvcm1hdC5mb3JtYXRUb1BhcnRzIHN1cHBvcnRcIjtcblxuZnVuY3Rpb24gaW50VW5pdChyZWdleCwgcG9zdCkge1xuICBpZiAocG9zdCA9PT0gdm9pZCAwKSB7XG4gICAgcG9zdCA9IGZ1bmN0aW9uIHBvc3QoaSkge1xuICAgICAgcmV0dXJuIGk7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcmVnZXg6IHJlZ2V4LFxuICAgIGRlc2VyOiBmdW5jdGlvbiBkZXNlcihfcmVmKSB7XG4gICAgICB2YXIgcyA9IF9yZWZbMF07XG4gICAgICByZXR1cm4gcG9zdChwYXJzZURpZ2l0cyhzKSk7XG4gICAgfVxuICB9O1xufVxuXG52YXIgTkJTUCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoMTYwKTtcbnZhciBzcGFjZU9yTkJTUCA9IFwiWyBcIiArIE5CU1AgKyBcIl1cIjtcbnZhciBzcGFjZU9yTkJTUFJlZ0V4cCA9IG5ldyBSZWdFeHAoc3BhY2VPck5CU1AsIFwiZ1wiKTtcblxuZnVuY3Rpb24gZml4TGlzdFJlZ2V4KHMpIHtcbiAgLy8gbWFrZSBkb3RzIG9wdGlvbmFsIGFuZCBhbHNvIG1ha2UgdGhlbSBsaXRlcmFsXG4gIC8vIG1ha2Ugc3BhY2UgYW5kIG5vbiBicmVha2FibGUgc3BhY2UgY2hhcmFjdGVycyBpbnRlcmNoYW5nZWFibGVcbiAgcmV0dXJuIHMucmVwbGFjZSgvXFwuL2csIFwiXFxcXC4/XCIpLnJlcGxhY2Uoc3BhY2VPck5CU1BSZWdFeHAsIHNwYWNlT3JOQlNQKTtcbn1cblxuZnVuY3Rpb24gc3RyaXBJbnNlbnNpdGl2aXRpZXMocykge1xuICByZXR1cm4gcy5yZXBsYWNlKC9cXC4vZywgXCJcIikgLy8gaWdub3JlIGRvdHMgdGhhdCB3ZXJlIG1hZGUgb3B0aW9uYWxcbiAgLnJlcGxhY2Uoc3BhY2VPck5CU1BSZWdFeHAsIFwiIFwiKSAvLyBpbnRlcmNoYW5nZSBzcGFjZSBhbmQgbmJzcFxuICAudG9Mb3dlckNhc2UoKTtcbn1cblxuZnVuY3Rpb24gb25lT2Yoc3RyaW5ncywgc3RhcnRJbmRleCkge1xuICBpZiAoc3RyaW5ncyA9PT0gbnVsbCkge1xuICAgIHJldHVybiBudWxsO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB7XG4gICAgICByZWdleDogUmVnRXhwKHN0cmluZ3MubWFwKGZpeExpc3RSZWdleCkuam9pbihcInxcIikpLFxuICAgICAgZGVzZXI6IGZ1bmN0aW9uIGRlc2VyKF9yZWYyKSB7XG4gICAgICAgIHZhciBzID0gX3JlZjJbMF07XG4gICAgICAgIHJldHVybiBzdHJpbmdzLmZpbmRJbmRleChmdW5jdGlvbiAoaSkge1xuICAgICAgICAgIHJldHVybiBzdHJpcEluc2Vuc2l0aXZpdGllcyhzKSA9PT0gc3RyaXBJbnNlbnNpdGl2aXRpZXMoaSk7XG4gICAgICAgIH0pICsgc3RhcnRJbmRleDtcbiAgICAgIH1cbiAgICB9O1xuICB9XG59XG5cbmZ1bmN0aW9uIG9mZnNldChyZWdleCwgZ3JvdXBzKSB7XG4gIHJldHVybiB7XG4gICAgcmVnZXg6IHJlZ2V4LFxuICAgIGRlc2VyOiBmdW5jdGlvbiBkZXNlcihfcmVmMykge1xuICAgICAgdmFyIGggPSBfcmVmM1sxXSxcbiAgICAgICAgICBtID0gX3JlZjNbMl07XG4gICAgICByZXR1cm4gc2lnbmVkT2Zmc2V0KGgsIG0pO1xuICAgIH0sXG4gICAgZ3JvdXBzOiBncm91cHNcbiAgfTtcbn1cblxuZnVuY3Rpb24gc2ltcGxlKHJlZ2V4KSB7XG4gIHJldHVybiB7XG4gICAgcmVnZXg6IHJlZ2V4LFxuICAgIGRlc2VyOiBmdW5jdGlvbiBkZXNlcihfcmVmNCkge1xuICAgICAgdmFyIHMgPSBfcmVmNFswXTtcbiAgICAgIHJldHVybiBzO1xuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gZXNjYXBlVG9rZW4odmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlLnJlcGxhY2UoL1tcXC1cXFtcXF17fSgpKis/LixcXFxcXFxeJHwjXFxzXS9nLCBcIlxcXFwkJlwiKTtcbn1cblxuZnVuY3Rpb24gdW5pdEZvclRva2VuKHRva2VuLCBsb2MpIHtcbiAgdmFyIG9uZSA9IGRpZ2l0UmVnZXgobG9jKSxcbiAgICAgIHR3byA9IGRpZ2l0UmVnZXgobG9jLCBcInsyfVwiKSxcbiAgICAgIHRocmVlID0gZGlnaXRSZWdleChsb2MsIFwiezN9XCIpLFxuICAgICAgZm91ciA9IGRpZ2l0UmVnZXgobG9jLCBcIns0fVwiKSxcbiAgICAgIHNpeCA9IGRpZ2l0UmVnZXgobG9jLCBcIns2fVwiKSxcbiAgICAgIG9uZU9yVHdvID0gZGlnaXRSZWdleChsb2MsIFwiezEsMn1cIiksXG4gICAgICBvbmVUb1RocmVlID0gZGlnaXRSZWdleChsb2MsIFwiezEsM31cIiksXG4gICAgICBvbmVUb1NpeCA9IGRpZ2l0UmVnZXgobG9jLCBcInsxLDZ9XCIpLFxuICAgICAgb25lVG9OaW5lID0gZGlnaXRSZWdleChsb2MsIFwiezEsOX1cIiksXG4gICAgICB0d29Ub0ZvdXIgPSBkaWdpdFJlZ2V4KGxvYywgXCJ7Miw0fVwiKSxcbiAgICAgIGZvdXJUb1NpeCA9IGRpZ2l0UmVnZXgobG9jLCBcIns0LDZ9XCIpLFxuICAgICAgbGl0ZXJhbCA9IGZ1bmN0aW9uIGxpdGVyYWwodCkge1xuICAgIHJldHVybiB7XG4gICAgICByZWdleDogUmVnRXhwKGVzY2FwZVRva2VuKHQudmFsKSksXG4gICAgICBkZXNlcjogZnVuY3Rpb24gZGVzZXIoX3JlZjUpIHtcbiAgICAgICAgdmFyIHMgPSBfcmVmNVswXTtcbiAgICAgICAgcmV0dXJuIHM7XG4gICAgICB9LFxuICAgICAgbGl0ZXJhbDogdHJ1ZVxuICAgIH07XG4gIH0sXG4gICAgICB1bml0YXRlID0gZnVuY3Rpb24gdW5pdGF0ZSh0KSB7XG4gICAgaWYgKHRva2VuLmxpdGVyYWwpIHtcbiAgICAgIHJldHVybiBsaXRlcmFsKHQpO1xuICAgIH1cblxuICAgIHN3aXRjaCAodC52YWwpIHtcbiAgICAgIC8vIGVyYVxuICAgICAgY2FzZSBcIkdcIjpcbiAgICAgICAgcmV0dXJuIG9uZU9mKGxvYy5lcmFzKFwic2hvcnRcIiwgZmFsc2UpLCAwKTtcblxuICAgICAgY2FzZSBcIkdHXCI6XG4gICAgICAgIHJldHVybiBvbmVPZihsb2MuZXJhcyhcImxvbmdcIiwgZmFsc2UpLCAwKTtcbiAgICAgIC8vIHllYXJzXG5cbiAgICAgIGNhc2UgXCJ5XCI6XG4gICAgICAgIHJldHVybiBpbnRVbml0KG9uZVRvU2l4KTtcblxuICAgICAgY2FzZSBcInl5XCI6XG4gICAgICAgIHJldHVybiBpbnRVbml0KHR3b1RvRm91ciwgdW50cnVuY2F0ZVllYXIpO1xuXG4gICAgICBjYXNlIFwieXl5eVwiOlxuICAgICAgICByZXR1cm4gaW50VW5pdChmb3VyKTtcblxuICAgICAgY2FzZSBcInl5eXl5XCI6XG4gICAgICAgIHJldHVybiBpbnRVbml0KGZvdXJUb1NpeCk7XG5cbiAgICAgIGNhc2UgXCJ5eXl5eXlcIjpcbiAgICAgICAgcmV0dXJuIGludFVuaXQoc2l4KTtcbiAgICAgIC8vIG1vbnRoc1xuXG4gICAgICBjYXNlIFwiTVwiOlxuICAgICAgICByZXR1cm4gaW50VW5pdChvbmVPclR3byk7XG5cbiAgICAgIGNhc2UgXCJNTVwiOlxuICAgICAgICByZXR1cm4gaW50VW5pdCh0d28pO1xuXG4gICAgICBjYXNlIFwiTU1NXCI6XG4gICAgICAgIHJldHVybiBvbmVPZihsb2MubW9udGhzKFwic2hvcnRcIiwgdHJ1ZSwgZmFsc2UpLCAxKTtcblxuICAgICAgY2FzZSBcIk1NTU1cIjpcbiAgICAgICAgcmV0dXJuIG9uZU9mKGxvYy5tb250aHMoXCJsb25nXCIsIHRydWUsIGZhbHNlKSwgMSk7XG5cbiAgICAgIGNhc2UgXCJMXCI6XG4gICAgICAgIHJldHVybiBpbnRVbml0KG9uZU9yVHdvKTtcblxuICAgICAgY2FzZSBcIkxMXCI6XG4gICAgICAgIHJldHVybiBpbnRVbml0KHR3byk7XG5cbiAgICAgIGNhc2UgXCJMTExcIjpcbiAgICAgICAgcmV0dXJuIG9uZU9mKGxvYy5tb250aHMoXCJzaG9ydFwiLCBmYWxzZSwgZmFsc2UpLCAxKTtcblxuICAgICAgY2FzZSBcIkxMTExcIjpcbiAgICAgICAgcmV0dXJuIG9uZU9mKGxvYy5tb250aHMoXCJsb25nXCIsIGZhbHNlLCBmYWxzZSksIDEpO1xuICAgICAgLy8gZGF0ZXNcblxuICAgICAgY2FzZSBcImRcIjpcbiAgICAgICAgcmV0dXJuIGludFVuaXQob25lT3JUd28pO1xuXG4gICAgICBjYXNlIFwiZGRcIjpcbiAgICAgICAgcmV0dXJuIGludFVuaXQodHdvKTtcbiAgICAgIC8vIG9yZGluYWxzXG5cbiAgICAgIGNhc2UgXCJvXCI6XG4gICAgICAgIHJldHVybiBpbnRVbml0KG9uZVRvVGhyZWUpO1xuXG4gICAgICBjYXNlIFwib29vXCI6XG4gICAgICAgIHJldHVybiBpbnRVbml0KHRocmVlKTtcbiAgICAgIC8vIHRpbWVcblxuICAgICAgY2FzZSBcIkhIXCI6XG4gICAgICAgIHJldHVybiBpbnRVbml0KHR3byk7XG5cbiAgICAgIGNhc2UgXCJIXCI6XG4gICAgICAgIHJldHVybiBpbnRVbml0KG9uZU9yVHdvKTtcblxuICAgICAgY2FzZSBcImhoXCI6XG4gICAgICAgIHJldHVybiBpbnRVbml0KHR3byk7XG5cbiAgICAgIGNhc2UgXCJoXCI6XG4gICAgICAgIHJldHVybiBpbnRVbml0KG9uZU9yVHdvKTtcblxuICAgICAgY2FzZSBcIm1tXCI6XG4gICAgICAgIHJldHVybiBpbnRVbml0KHR3byk7XG5cbiAgICAgIGNhc2UgXCJtXCI6XG4gICAgICAgIHJldHVybiBpbnRVbml0KG9uZU9yVHdvKTtcblxuICAgICAgY2FzZSBcInFcIjpcbiAgICAgICAgcmV0dXJuIGludFVuaXQob25lT3JUd28pO1xuXG4gICAgICBjYXNlIFwicXFcIjpcbiAgICAgICAgcmV0dXJuIGludFVuaXQodHdvKTtcblxuICAgICAgY2FzZSBcInNcIjpcbiAgICAgICAgcmV0dXJuIGludFVuaXQob25lT3JUd28pO1xuXG4gICAgICBjYXNlIFwic3NcIjpcbiAgICAgICAgcmV0dXJuIGludFVuaXQodHdvKTtcblxuICAgICAgY2FzZSBcIlNcIjpcbiAgICAgICAgcmV0dXJuIGludFVuaXQob25lVG9UaHJlZSk7XG5cbiAgICAgIGNhc2UgXCJTU1NcIjpcbiAgICAgICAgcmV0dXJuIGludFVuaXQodGhyZWUpO1xuXG4gICAgICBjYXNlIFwidVwiOlxuICAgICAgICByZXR1cm4gc2ltcGxlKG9uZVRvTmluZSk7XG5cbiAgICAgIGNhc2UgXCJ1dVwiOlxuICAgICAgICByZXR1cm4gc2ltcGxlKG9uZU9yVHdvKTtcblxuICAgICAgY2FzZSBcInV1dVwiOlxuICAgICAgICByZXR1cm4gaW50VW5pdChvbmUpO1xuICAgICAgLy8gbWVyaWRpZW1cblxuICAgICAgY2FzZSBcImFcIjpcbiAgICAgICAgcmV0dXJuIG9uZU9mKGxvYy5tZXJpZGllbXMoKSwgMCk7XG4gICAgICAvLyB3ZWVrWWVhciAoaylcblxuICAgICAgY2FzZSBcImtra2tcIjpcbiAgICAgICAgcmV0dXJuIGludFVuaXQoZm91cik7XG5cbiAgICAgIGNhc2UgXCJra1wiOlxuICAgICAgICByZXR1cm4gaW50VW5pdCh0d29Ub0ZvdXIsIHVudHJ1bmNhdGVZZWFyKTtcbiAgICAgIC8vIHdlZWtOdW1iZXIgKFcpXG5cbiAgICAgIGNhc2UgXCJXXCI6XG4gICAgICAgIHJldHVybiBpbnRVbml0KG9uZU9yVHdvKTtcblxuICAgICAgY2FzZSBcIldXXCI6XG4gICAgICAgIHJldHVybiBpbnRVbml0KHR3byk7XG4gICAgICAvLyB3ZWVrZGF5c1xuXG4gICAgICBjYXNlIFwiRVwiOlxuICAgICAgY2FzZSBcImNcIjpcbiAgICAgICAgcmV0dXJuIGludFVuaXQob25lKTtcblxuICAgICAgY2FzZSBcIkVFRVwiOlxuICAgICAgICByZXR1cm4gb25lT2YobG9jLndlZWtkYXlzKFwic2hvcnRcIiwgZmFsc2UsIGZhbHNlKSwgMSk7XG5cbiAgICAgIGNhc2UgXCJFRUVFXCI6XG4gICAgICAgIHJldHVybiBvbmVPZihsb2Mud2Vla2RheXMoXCJsb25nXCIsIGZhbHNlLCBmYWxzZSksIDEpO1xuXG4gICAgICBjYXNlIFwiY2NjXCI6XG4gICAgICAgIHJldHVybiBvbmVPZihsb2Mud2Vla2RheXMoXCJzaG9ydFwiLCB0cnVlLCBmYWxzZSksIDEpO1xuXG4gICAgICBjYXNlIFwiY2NjY1wiOlxuICAgICAgICByZXR1cm4gb25lT2YobG9jLndlZWtkYXlzKFwibG9uZ1wiLCB0cnVlLCBmYWxzZSksIDEpO1xuICAgICAgLy8gb2Zmc2V0L3pvbmVcblxuICAgICAgY2FzZSBcIlpcIjpcbiAgICAgIGNhc2UgXCJaWlwiOlxuICAgICAgICByZXR1cm4gb2Zmc2V0KG5ldyBSZWdFeHAoXCIoWystXVwiICsgb25lT3JUd28uc291cmNlICsgXCIpKD86OihcIiArIHR3by5zb3VyY2UgKyBcIikpP1wiKSwgMik7XG5cbiAgICAgIGNhc2UgXCJaWlpcIjpcbiAgICAgICAgcmV0dXJuIG9mZnNldChuZXcgUmVnRXhwKFwiKFsrLV1cIiArIG9uZU9yVHdvLnNvdXJjZSArIFwiKShcIiArIHR3by5zb3VyY2UgKyBcIik/XCIpLCAyKTtcbiAgICAgIC8vIHdlIGRvbid0IHN1cHBvcnQgWlpaWiAoUFNUKSBvciBaWlpaWiAoUGFjaWZpYyBTdGFuZGFyZCBUaW1lKSBpbiBwYXJzaW5nXG4gICAgICAvLyBiZWNhdXNlIHdlIGRvbid0IGhhdmUgYW55IHdheSB0byBmaWd1cmUgb3V0IHdoYXQgdGhleSBhcmVcblxuICAgICAgY2FzZSBcInpcIjpcbiAgICAgICAgcmV0dXJuIHNpbXBsZSgvW2Etel8rLS9dezEsMjU2fT8vaSk7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBsaXRlcmFsKHQpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgdW5pdCA9IHVuaXRhdGUodG9rZW4pIHx8IHtcbiAgICBpbnZhbGlkUmVhc29uOiBNSVNTSU5HX0ZUUFxuICB9O1xuICB1bml0LnRva2VuID0gdG9rZW47XG4gIHJldHVybiB1bml0O1xufVxuXG52YXIgcGFydFR5cGVTdHlsZVRvVG9rZW5WYWwgPSB7XG4gIHllYXI6IHtcbiAgICBcIjItZGlnaXRcIjogXCJ5eVwiLFxuICAgIG51bWVyaWM6IFwieXl5eXlcIlxuICB9LFxuICBtb250aDoge1xuICAgIG51bWVyaWM6IFwiTVwiLFxuICAgIFwiMi1kaWdpdFwiOiBcIk1NXCIsXG4gICAgc2hvcnQ6IFwiTU1NXCIsXG4gICAgbG9uZzogXCJNTU1NXCJcbiAgfSxcbiAgZGF5OiB7XG4gICAgbnVtZXJpYzogXCJkXCIsXG4gICAgXCIyLWRpZ2l0XCI6IFwiZGRcIlxuICB9LFxuICB3ZWVrZGF5OiB7XG4gICAgc2hvcnQ6IFwiRUVFXCIsXG4gICAgbG9uZzogXCJFRUVFXCJcbiAgfSxcbiAgZGF5cGVyaW9kOiBcImFcIixcbiAgZGF5UGVyaW9kOiBcImFcIixcbiAgaG91cjoge1xuICAgIG51bWVyaWM6IFwiaFwiLFxuICAgIFwiMi1kaWdpdFwiOiBcImhoXCJcbiAgfSxcbiAgbWludXRlOiB7XG4gICAgbnVtZXJpYzogXCJtXCIsXG4gICAgXCIyLWRpZ2l0XCI6IFwibW1cIlxuICB9LFxuICBzZWNvbmQ6IHtcbiAgICBudW1lcmljOiBcInNcIixcbiAgICBcIjItZGlnaXRcIjogXCJzc1wiXG4gIH1cbn07XG5cbmZ1bmN0aW9uIHRva2VuRm9yUGFydChwYXJ0LCBsb2NhbGUsIGZvcm1hdE9wdHMpIHtcbiAgdmFyIHR5cGUgPSBwYXJ0LnR5cGUsXG4gICAgICB2YWx1ZSA9IHBhcnQudmFsdWU7XG5cbiAgaWYgKHR5cGUgPT09IFwibGl0ZXJhbFwiKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxpdGVyYWw6IHRydWUsXG4gICAgICB2YWw6IHZhbHVlXG4gICAgfTtcbiAgfVxuXG4gIHZhciBzdHlsZSA9IGZvcm1hdE9wdHNbdHlwZV07XG4gIHZhciB2YWwgPSBwYXJ0VHlwZVN0eWxlVG9Ub2tlblZhbFt0eXBlXTtcblxuICBpZiAodHlwZW9mIHZhbCA9PT0gXCJvYmplY3RcIikge1xuICAgIHZhbCA9IHZhbFtzdHlsZV07XG4gIH1cblxuICBpZiAodmFsKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxpdGVyYWw6IGZhbHNlLFxuICAgICAgdmFsOiB2YWxcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gYnVpbGRSZWdleCh1bml0cykge1xuICB2YXIgcmUgPSB1bml0cy5tYXAoZnVuY3Rpb24gKHUpIHtcbiAgICByZXR1cm4gdS5yZWdleDtcbiAgfSkucmVkdWNlKGZ1bmN0aW9uIChmLCByKSB7XG4gICAgcmV0dXJuIGYgKyBcIihcIiArIHIuc291cmNlICsgXCIpXCI7XG4gIH0sIFwiXCIpO1xuICByZXR1cm4gW1wiXlwiICsgcmUgKyBcIiRcIiwgdW5pdHNdO1xufVxuXG5mdW5jdGlvbiBtYXRjaChpbnB1dCwgcmVnZXgsIGhhbmRsZXJzKSB7XG4gIHZhciBtYXRjaGVzID0gaW5wdXQubWF0Y2gocmVnZXgpO1xuXG4gIGlmIChtYXRjaGVzKSB7XG4gICAgdmFyIGFsbCA9IHt9O1xuICAgIHZhciBtYXRjaEluZGV4ID0gMTtcblxuICAgIGZvciAodmFyIGkgaW4gaGFuZGxlcnMpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShoYW5kbGVycywgaSkpIHtcbiAgICAgICAgdmFyIGggPSBoYW5kbGVyc1tpXSxcbiAgICAgICAgICAgIGdyb3VwcyA9IGguZ3JvdXBzID8gaC5ncm91cHMgKyAxIDogMTtcblxuICAgICAgICBpZiAoIWgubGl0ZXJhbCAmJiBoLnRva2VuKSB7XG4gICAgICAgICAgYWxsW2gudG9rZW4udmFsWzBdXSA9IGguZGVzZXIobWF0Y2hlcy5zbGljZShtYXRjaEluZGV4LCBtYXRjaEluZGV4ICsgZ3JvdXBzKSk7XG4gICAgICAgIH1cblxuICAgICAgICBtYXRjaEluZGV4ICs9IGdyb3VwcztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gW21hdGNoZXMsIGFsbF07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIFttYXRjaGVzLCB7fV07XG4gIH1cbn1cblxuZnVuY3Rpb24gZGF0ZVRpbWVGcm9tTWF0Y2hlcyhtYXRjaGVzKSB7XG4gIHZhciB0b0ZpZWxkID0gZnVuY3Rpb24gdG9GaWVsZCh0b2tlbikge1xuICAgIHN3aXRjaCAodG9rZW4pIHtcbiAgICAgIGNhc2UgXCJTXCI6XG4gICAgICAgIHJldHVybiBcIm1pbGxpc2Vjb25kXCI7XG5cbiAgICAgIGNhc2UgXCJzXCI6XG4gICAgICAgIHJldHVybiBcInNlY29uZFwiO1xuXG4gICAgICBjYXNlIFwibVwiOlxuICAgICAgICByZXR1cm4gXCJtaW51dGVcIjtcblxuICAgICAgY2FzZSBcImhcIjpcbiAgICAgIGNhc2UgXCJIXCI6XG4gICAgICAgIHJldHVybiBcImhvdXJcIjtcblxuICAgICAgY2FzZSBcImRcIjpcbiAgICAgICAgcmV0dXJuIFwiZGF5XCI7XG5cbiAgICAgIGNhc2UgXCJvXCI6XG4gICAgICAgIHJldHVybiBcIm9yZGluYWxcIjtcblxuICAgICAgY2FzZSBcIkxcIjpcbiAgICAgIGNhc2UgXCJNXCI6XG4gICAgICAgIHJldHVybiBcIm1vbnRoXCI7XG5cbiAgICAgIGNhc2UgXCJ5XCI6XG4gICAgICAgIHJldHVybiBcInllYXJcIjtcblxuICAgICAgY2FzZSBcIkVcIjpcbiAgICAgIGNhc2UgXCJjXCI6XG4gICAgICAgIHJldHVybiBcIndlZWtkYXlcIjtcblxuICAgICAgY2FzZSBcIldcIjpcbiAgICAgICAgcmV0dXJuIFwid2Vla051bWJlclwiO1xuXG4gICAgICBjYXNlIFwia1wiOlxuICAgICAgICByZXR1cm4gXCJ3ZWVrWWVhclwiO1xuXG4gICAgICBjYXNlIFwicVwiOlxuICAgICAgICByZXR1cm4gXCJxdWFydGVyXCI7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfTtcblxuICB2YXIgem9uZSA9IG51bGw7XG4gIHZhciBzcGVjaWZpY09mZnNldDtcblxuICBpZiAoIWlzVW5kZWZpbmVkKG1hdGNoZXMueikpIHtcbiAgICB6b25lID0gSUFOQVpvbmUuY3JlYXRlKG1hdGNoZXMueik7XG4gIH1cblxuICBpZiAoIWlzVW5kZWZpbmVkKG1hdGNoZXMuWikpIHtcbiAgICBpZiAoIXpvbmUpIHtcbiAgICAgIHpvbmUgPSBuZXcgRml4ZWRPZmZzZXRab25lKG1hdGNoZXMuWik7XG4gICAgfVxuXG4gICAgc3BlY2lmaWNPZmZzZXQgPSBtYXRjaGVzLlo7XG4gIH1cblxuICBpZiAoIWlzVW5kZWZpbmVkKG1hdGNoZXMucSkpIHtcbiAgICBtYXRjaGVzLk0gPSAobWF0Y2hlcy5xIC0gMSkgKiAzICsgMTtcbiAgfVxuXG4gIGlmICghaXNVbmRlZmluZWQobWF0Y2hlcy5oKSkge1xuICAgIGlmIChtYXRjaGVzLmggPCAxMiAmJiBtYXRjaGVzLmEgPT09IDEpIHtcbiAgICAgIG1hdGNoZXMuaCArPSAxMjtcbiAgICB9IGVsc2UgaWYgKG1hdGNoZXMuaCA9PT0gMTIgJiYgbWF0Y2hlcy5hID09PSAwKSB7XG4gICAgICBtYXRjaGVzLmggPSAwO1xuICAgIH1cbiAgfVxuXG4gIGlmIChtYXRjaGVzLkcgPT09IDAgJiYgbWF0Y2hlcy55KSB7XG4gICAgbWF0Y2hlcy55ID0gLW1hdGNoZXMueTtcbiAgfVxuXG4gIGlmICghaXNVbmRlZmluZWQobWF0Y2hlcy51KSkge1xuICAgIG1hdGNoZXMuUyA9IHBhcnNlTWlsbGlzKG1hdGNoZXMudSk7XG4gIH1cblxuICB2YXIgdmFscyA9IE9iamVjdC5rZXlzKG1hdGNoZXMpLnJlZHVjZShmdW5jdGlvbiAociwgaykge1xuICAgIHZhciBmID0gdG9GaWVsZChrKTtcblxuICAgIGlmIChmKSB7XG4gICAgICByW2ZdID0gbWF0Y2hlc1trXTtcbiAgICB9XG5cbiAgICByZXR1cm4gcjtcbiAgfSwge30pO1xuICByZXR1cm4gW3ZhbHMsIHpvbmUsIHNwZWNpZmljT2Zmc2V0XTtcbn1cblxudmFyIGR1bW15RGF0ZVRpbWVDYWNoZSA9IG51bGw7XG5cbmZ1bmN0aW9uIGdldER1bW15RGF0ZVRpbWUoKSB7XG4gIGlmICghZHVtbXlEYXRlVGltZUNhY2hlKSB7XG4gICAgZHVtbXlEYXRlVGltZUNhY2hlID0gRGF0ZVRpbWUuZnJvbU1pbGxpcygxNTU1NTU1NTU1NTU1KTtcbiAgfVxuXG4gIHJldHVybiBkdW1teURhdGVUaW1lQ2FjaGU7XG59XG5cbmZ1bmN0aW9uIG1heWJlRXhwYW5kTWFjcm9Ub2tlbih0b2tlbiwgbG9jYWxlKSB7XG4gIGlmICh0b2tlbi5saXRlcmFsKSB7XG4gICAgcmV0dXJuIHRva2VuO1xuICB9XG5cbiAgdmFyIGZvcm1hdE9wdHMgPSBGb3JtYXR0ZXIubWFjcm9Ub2tlblRvRm9ybWF0T3B0cyh0b2tlbi52YWwpO1xuXG4gIGlmICghZm9ybWF0T3B0cykge1xuICAgIHJldHVybiB0b2tlbjtcbiAgfVxuXG4gIHZhciBmb3JtYXR0ZXIgPSBGb3JtYXR0ZXIuY3JlYXRlKGxvY2FsZSwgZm9ybWF0T3B0cyk7XG4gIHZhciBwYXJ0cyA9IGZvcm1hdHRlci5mb3JtYXREYXRlVGltZVBhcnRzKGdldER1bW15RGF0ZVRpbWUoKSk7XG4gIHZhciB0b2tlbnMgPSBwYXJ0cy5tYXAoZnVuY3Rpb24gKHApIHtcbiAgICByZXR1cm4gdG9rZW5Gb3JQYXJ0KHAsIGxvY2FsZSwgZm9ybWF0T3B0cyk7XG4gIH0pO1xuXG4gIGlmICh0b2tlbnMuaW5jbHVkZXModW5kZWZpbmVkKSkge1xuICAgIHJldHVybiB0b2tlbjtcbiAgfVxuXG4gIHJldHVybiB0b2tlbnM7XG59XG5cbmZ1bmN0aW9uIGV4cGFuZE1hY3JvVG9rZW5zKHRva2VucywgbG9jYWxlKSB7XG4gIHZhciBfQXJyYXkkcHJvdG90eXBlO1xuXG4gIHJldHVybiAoX0FycmF5JHByb3RvdHlwZSA9IEFycmF5LnByb3RvdHlwZSkuY29uY2F0LmFwcGx5KF9BcnJheSRwcm90b3R5cGUsIHRva2Vucy5tYXAoZnVuY3Rpb24gKHQpIHtcbiAgICByZXR1cm4gbWF5YmVFeHBhbmRNYWNyb1Rva2VuKHQsIGxvY2FsZSk7XG4gIH0pKTtcbn1cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuXG5cbmZ1bmN0aW9uIGV4cGxhaW5Gcm9tVG9rZW5zKGxvY2FsZSwgaW5wdXQsIGZvcm1hdCkge1xuICB2YXIgdG9rZW5zID0gZXhwYW5kTWFjcm9Ub2tlbnMoRm9ybWF0dGVyLnBhcnNlRm9ybWF0KGZvcm1hdCksIGxvY2FsZSksXG4gICAgICB1bml0cyA9IHRva2Vucy5tYXAoZnVuY3Rpb24gKHQpIHtcbiAgICByZXR1cm4gdW5pdEZvclRva2VuKHQsIGxvY2FsZSk7XG4gIH0pLFxuICAgICAgZGlzcXVhbGlmeWluZ1VuaXQgPSB1bml0cy5maW5kKGZ1bmN0aW9uICh0KSB7XG4gICAgcmV0dXJuIHQuaW52YWxpZFJlYXNvbjtcbiAgfSk7XG5cbiAgaWYgKGRpc3F1YWxpZnlpbmdVbml0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlucHV0OiBpbnB1dCxcbiAgICAgIHRva2VuczogdG9rZW5zLFxuICAgICAgaW52YWxpZFJlYXNvbjogZGlzcXVhbGlmeWluZ1VuaXQuaW52YWxpZFJlYXNvblxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgdmFyIF9idWlsZFJlZ2V4ID0gYnVpbGRSZWdleCh1bml0cyksXG4gICAgICAgIHJlZ2V4U3RyaW5nID0gX2J1aWxkUmVnZXhbMF0sXG4gICAgICAgIGhhbmRsZXJzID0gX2J1aWxkUmVnZXhbMV0sXG4gICAgICAgIHJlZ2V4ID0gUmVnRXhwKHJlZ2V4U3RyaW5nLCBcImlcIiksXG4gICAgICAgIF9tYXRjaCA9IG1hdGNoKGlucHV0LCByZWdleCwgaGFuZGxlcnMpLFxuICAgICAgICByYXdNYXRjaGVzID0gX21hdGNoWzBdLFxuICAgICAgICBtYXRjaGVzID0gX21hdGNoWzFdLFxuICAgICAgICBfcmVmNiA9IG1hdGNoZXMgPyBkYXRlVGltZUZyb21NYXRjaGVzKG1hdGNoZXMpIDogW251bGwsIG51bGwsIHVuZGVmaW5lZF0sXG4gICAgICAgIHJlc3VsdCA9IF9yZWY2WzBdLFxuICAgICAgICB6b25lID0gX3JlZjZbMV0sXG4gICAgICAgIHNwZWNpZmljT2Zmc2V0ID0gX3JlZjZbMl07XG5cbiAgICBpZiAoaGFzT3duUHJvcGVydHkobWF0Y2hlcywgXCJhXCIpICYmIGhhc093blByb3BlcnR5KG1hdGNoZXMsIFwiSFwiKSkge1xuICAgICAgdGhyb3cgbmV3IENvbmZsaWN0aW5nU3BlY2lmaWNhdGlvbkVycm9yKFwiQ2FuJ3QgaW5jbHVkZSBtZXJpZGllbSB3aGVuIHNwZWNpZnlpbmcgMjQtaG91ciBmb3JtYXRcIik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGlucHV0OiBpbnB1dCxcbiAgICAgIHRva2VuczogdG9rZW5zLFxuICAgICAgcmVnZXg6IHJlZ2V4LFxuICAgICAgcmF3TWF0Y2hlczogcmF3TWF0Y2hlcyxcbiAgICAgIG1hdGNoZXM6IG1hdGNoZXMsXG4gICAgICByZXN1bHQ6IHJlc3VsdCxcbiAgICAgIHpvbmU6IHpvbmUsXG4gICAgICBzcGVjaWZpY09mZnNldDogc3BlY2lmaWNPZmZzZXRcbiAgICB9O1xuICB9XG59XG5mdW5jdGlvbiBwYXJzZUZyb21Ub2tlbnMobG9jYWxlLCBpbnB1dCwgZm9ybWF0KSB7XG4gIHZhciBfZXhwbGFpbkZyb21Ub2tlbnMgPSBleHBsYWluRnJvbVRva2Vucyhsb2NhbGUsIGlucHV0LCBmb3JtYXQpLFxuICAgICAgcmVzdWx0ID0gX2V4cGxhaW5Gcm9tVG9rZW5zLnJlc3VsdCxcbiAgICAgIHpvbmUgPSBfZXhwbGFpbkZyb21Ub2tlbnMuem9uZSxcbiAgICAgIHNwZWNpZmljT2Zmc2V0ID0gX2V4cGxhaW5Gcm9tVG9rZW5zLnNwZWNpZmljT2Zmc2V0LFxuICAgICAgaW52YWxpZFJlYXNvbiA9IF9leHBsYWluRnJvbVRva2Vucy5pbnZhbGlkUmVhc29uO1xuXG4gIHJldHVybiBbcmVzdWx0LCB6b25lLCBzcGVjaWZpY09mZnNldCwgaW52YWxpZFJlYXNvbl07XG59XG5cbnZhciBub25MZWFwTGFkZGVyID0gWzAsIDMxLCA1OSwgOTAsIDEyMCwgMTUxLCAxODEsIDIxMiwgMjQzLCAyNzMsIDMwNCwgMzM0XSxcbiAgICBsZWFwTGFkZGVyID0gWzAsIDMxLCA2MCwgOTEsIDEyMSwgMTUyLCAxODIsIDIxMywgMjQ0LCAyNzQsIDMwNSwgMzM1XTtcblxuZnVuY3Rpb24gdW5pdE91dE9mUmFuZ2UodW5pdCwgdmFsdWUpIHtcbiAgcmV0dXJuIG5ldyBJbnZhbGlkKFwidW5pdCBvdXQgb2YgcmFuZ2VcIiwgXCJ5b3Ugc3BlY2lmaWVkIFwiICsgdmFsdWUgKyBcIiAob2YgdHlwZSBcIiArIHR5cGVvZiB2YWx1ZSArIFwiKSBhcyBhIFwiICsgdW5pdCArIFwiLCB3aGljaCBpcyBpbnZhbGlkXCIpO1xufVxuXG5mdW5jdGlvbiBkYXlPZldlZWsoeWVhciwgbW9udGgsIGRheSkge1xuICB2YXIgZCA9IG5ldyBEYXRlKERhdGUuVVRDKHllYXIsIG1vbnRoIC0gMSwgZGF5KSk7XG5cbiAgaWYgKHllYXIgPCAxMDAgJiYgeWVhciA+PSAwKSB7XG4gICAgZC5zZXRVVENGdWxsWWVhcihkLmdldFVUQ0Z1bGxZZWFyKCkgLSAxOTAwKTtcbiAgfVxuXG4gIHZhciBqcyA9IGQuZ2V0VVRDRGF5KCk7XG4gIHJldHVybiBqcyA9PT0gMCA/IDcgOiBqcztcbn1cblxuZnVuY3Rpb24gY29tcHV0ZU9yZGluYWwoeWVhciwgbW9udGgsIGRheSkge1xuICByZXR1cm4gZGF5ICsgKGlzTGVhcFllYXIoeWVhcikgPyBsZWFwTGFkZGVyIDogbm9uTGVhcExhZGRlcilbbW9udGggLSAxXTtcbn1cblxuZnVuY3Rpb24gdW5jb21wdXRlT3JkaW5hbCh5ZWFyLCBvcmRpbmFsKSB7XG4gIHZhciB0YWJsZSA9IGlzTGVhcFllYXIoeWVhcikgPyBsZWFwTGFkZGVyIDogbm9uTGVhcExhZGRlcixcbiAgICAgIG1vbnRoMCA9IHRhYmxlLmZpbmRJbmRleChmdW5jdGlvbiAoaSkge1xuICAgIHJldHVybiBpIDwgb3JkaW5hbDtcbiAgfSksXG4gICAgICBkYXkgPSBvcmRpbmFsIC0gdGFibGVbbW9udGgwXTtcbiAgcmV0dXJuIHtcbiAgICBtb250aDogbW9udGgwICsgMSxcbiAgICBkYXk6IGRheVxuICB9O1xufVxuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5cblxuZnVuY3Rpb24gZ3JlZ29yaWFuVG9XZWVrKGdyZWdPYmopIHtcbiAgdmFyIHllYXIgPSBncmVnT2JqLnllYXIsXG4gICAgICBtb250aCA9IGdyZWdPYmoubW9udGgsXG4gICAgICBkYXkgPSBncmVnT2JqLmRheSxcbiAgICAgIG9yZGluYWwgPSBjb21wdXRlT3JkaW5hbCh5ZWFyLCBtb250aCwgZGF5KSxcbiAgICAgIHdlZWtkYXkgPSBkYXlPZldlZWsoeWVhciwgbW9udGgsIGRheSk7XG4gIHZhciB3ZWVrTnVtYmVyID0gTWF0aC5mbG9vcigob3JkaW5hbCAtIHdlZWtkYXkgKyAxMCkgLyA3KSxcbiAgICAgIHdlZWtZZWFyO1xuXG4gIGlmICh3ZWVrTnVtYmVyIDwgMSkge1xuICAgIHdlZWtZZWFyID0geWVhciAtIDE7XG4gICAgd2Vla051bWJlciA9IHdlZWtzSW5XZWVrWWVhcih3ZWVrWWVhcik7XG4gIH0gZWxzZSBpZiAod2Vla051bWJlciA+IHdlZWtzSW5XZWVrWWVhcih5ZWFyKSkge1xuICAgIHdlZWtZZWFyID0geWVhciArIDE7XG4gICAgd2Vla051bWJlciA9IDE7XG4gIH0gZWxzZSB7XG4gICAgd2Vla1llYXIgPSB5ZWFyO1xuICB9XG5cbiAgcmV0dXJuIF9leHRlbmRzKHtcbiAgICB3ZWVrWWVhcjogd2Vla1llYXIsXG4gICAgd2Vla051bWJlcjogd2Vla051bWJlcixcbiAgICB3ZWVrZGF5OiB3ZWVrZGF5XG4gIH0sIHRpbWVPYmplY3QoZ3JlZ09iaikpO1xufVxuZnVuY3Rpb24gd2Vla1RvR3JlZ29yaWFuKHdlZWtEYXRhKSB7XG4gIHZhciB3ZWVrWWVhciA9IHdlZWtEYXRhLndlZWtZZWFyLFxuICAgICAgd2Vla051bWJlciA9IHdlZWtEYXRhLndlZWtOdW1iZXIsXG4gICAgICB3ZWVrZGF5ID0gd2Vla0RhdGEud2Vla2RheSxcbiAgICAgIHdlZWtkYXlPZkphbjQgPSBkYXlPZldlZWsod2Vla1llYXIsIDEsIDQpLFxuICAgICAgeWVhckluRGF5cyA9IGRheXNJblllYXIod2Vla1llYXIpO1xuICB2YXIgb3JkaW5hbCA9IHdlZWtOdW1iZXIgKiA3ICsgd2Vla2RheSAtIHdlZWtkYXlPZkphbjQgLSAzLFxuICAgICAgeWVhcjtcblxuICBpZiAob3JkaW5hbCA8IDEpIHtcbiAgICB5ZWFyID0gd2Vla1llYXIgLSAxO1xuICAgIG9yZGluYWwgKz0gZGF5c0luWWVhcih5ZWFyKTtcbiAgfSBlbHNlIGlmIChvcmRpbmFsID4geWVhckluRGF5cykge1xuICAgIHllYXIgPSB3ZWVrWWVhciArIDE7XG4gICAgb3JkaW5hbCAtPSBkYXlzSW5ZZWFyKHdlZWtZZWFyKTtcbiAgfSBlbHNlIHtcbiAgICB5ZWFyID0gd2Vla1llYXI7XG4gIH1cblxuICB2YXIgX3VuY29tcHV0ZU9yZGluYWwgPSB1bmNvbXB1dGVPcmRpbmFsKHllYXIsIG9yZGluYWwpLFxuICAgICAgbW9udGggPSBfdW5jb21wdXRlT3JkaW5hbC5tb250aCxcbiAgICAgIGRheSA9IF91bmNvbXB1dGVPcmRpbmFsLmRheTtcblxuICByZXR1cm4gX2V4dGVuZHMoe1xuICAgIHllYXI6IHllYXIsXG4gICAgbW9udGg6IG1vbnRoLFxuICAgIGRheTogZGF5XG4gIH0sIHRpbWVPYmplY3Qod2Vla0RhdGEpKTtcbn1cbmZ1bmN0aW9uIGdyZWdvcmlhblRvT3JkaW5hbChncmVnRGF0YSkge1xuICB2YXIgeWVhciA9IGdyZWdEYXRhLnllYXIsXG4gICAgICBtb250aCA9IGdyZWdEYXRhLm1vbnRoLFxuICAgICAgZGF5ID0gZ3JlZ0RhdGEuZGF5O1xuICB2YXIgb3JkaW5hbCA9IGNvbXB1dGVPcmRpbmFsKHllYXIsIG1vbnRoLCBkYXkpO1xuICByZXR1cm4gX2V4dGVuZHMoe1xuICAgIHllYXI6IHllYXIsXG4gICAgb3JkaW5hbDogb3JkaW5hbFxuICB9LCB0aW1lT2JqZWN0KGdyZWdEYXRhKSk7XG59XG5mdW5jdGlvbiBvcmRpbmFsVG9HcmVnb3JpYW4ob3JkaW5hbERhdGEpIHtcbiAgdmFyIHllYXIgPSBvcmRpbmFsRGF0YS55ZWFyLFxuICAgICAgb3JkaW5hbCA9IG9yZGluYWxEYXRhLm9yZGluYWw7XG5cbiAgdmFyIF91bmNvbXB1dGVPcmRpbmFsMiA9IHVuY29tcHV0ZU9yZGluYWwoeWVhciwgb3JkaW5hbCksXG4gICAgICBtb250aCA9IF91bmNvbXB1dGVPcmRpbmFsMi5tb250aCxcbiAgICAgIGRheSA9IF91bmNvbXB1dGVPcmRpbmFsMi5kYXk7XG5cbiAgcmV0dXJuIF9leHRlbmRzKHtcbiAgICB5ZWFyOiB5ZWFyLFxuICAgIG1vbnRoOiBtb250aCxcbiAgICBkYXk6IGRheVxuICB9LCB0aW1lT2JqZWN0KG9yZGluYWxEYXRhKSk7XG59XG5mdW5jdGlvbiBoYXNJbnZhbGlkV2Vla0RhdGEob2JqKSB7XG4gIHZhciB2YWxpZFllYXIgPSBpc0ludGVnZXIob2JqLndlZWtZZWFyKSxcbiAgICAgIHZhbGlkV2VlayA9IGludGVnZXJCZXR3ZWVuKG9iai53ZWVrTnVtYmVyLCAxLCB3ZWVrc0luV2Vla1llYXIob2JqLndlZWtZZWFyKSksXG4gICAgICB2YWxpZFdlZWtkYXkgPSBpbnRlZ2VyQmV0d2VlbihvYmoud2Vla2RheSwgMSwgNyk7XG5cbiAgaWYgKCF2YWxpZFllYXIpIHtcbiAgICByZXR1cm4gdW5pdE91dE9mUmFuZ2UoXCJ3ZWVrWWVhclwiLCBvYmoud2Vla1llYXIpO1xuICB9IGVsc2UgaWYgKCF2YWxpZFdlZWspIHtcbiAgICByZXR1cm4gdW5pdE91dE9mUmFuZ2UoXCJ3ZWVrXCIsIG9iai53ZWVrKTtcbiAgfSBlbHNlIGlmICghdmFsaWRXZWVrZGF5KSB7XG4gICAgcmV0dXJuIHVuaXRPdXRPZlJhbmdlKFwid2Vla2RheVwiLCBvYmoud2Vla2RheSk7XG4gIH0gZWxzZSByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBoYXNJbnZhbGlkT3JkaW5hbERhdGEob2JqKSB7XG4gIHZhciB2YWxpZFllYXIgPSBpc0ludGVnZXIob2JqLnllYXIpLFxuICAgICAgdmFsaWRPcmRpbmFsID0gaW50ZWdlckJldHdlZW4ob2JqLm9yZGluYWwsIDEsIGRheXNJblllYXIob2JqLnllYXIpKTtcblxuICBpZiAoIXZhbGlkWWVhcikge1xuICAgIHJldHVybiB1bml0T3V0T2ZSYW5nZShcInllYXJcIiwgb2JqLnllYXIpO1xuICB9IGVsc2UgaWYgKCF2YWxpZE9yZGluYWwpIHtcbiAgICByZXR1cm4gdW5pdE91dE9mUmFuZ2UoXCJvcmRpbmFsXCIsIG9iai5vcmRpbmFsKTtcbiAgfSBlbHNlIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGhhc0ludmFsaWRHcmVnb3JpYW5EYXRhKG9iaikge1xuICB2YXIgdmFsaWRZZWFyID0gaXNJbnRlZ2VyKG9iai55ZWFyKSxcbiAgICAgIHZhbGlkTW9udGggPSBpbnRlZ2VyQmV0d2VlbihvYmoubW9udGgsIDEsIDEyKSxcbiAgICAgIHZhbGlkRGF5ID0gaW50ZWdlckJldHdlZW4ob2JqLmRheSwgMSwgZGF5c0luTW9udGgob2JqLnllYXIsIG9iai5tb250aCkpO1xuXG4gIGlmICghdmFsaWRZZWFyKSB7XG4gICAgcmV0dXJuIHVuaXRPdXRPZlJhbmdlKFwieWVhclwiLCBvYmoueWVhcik7XG4gIH0gZWxzZSBpZiAoIXZhbGlkTW9udGgpIHtcbiAgICByZXR1cm4gdW5pdE91dE9mUmFuZ2UoXCJtb250aFwiLCBvYmoubW9udGgpO1xuICB9IGVsc2UgaWYgKCF2YWxpZERheSkge1xuICAgIHJldHVybiB1bml0T3V0T2ZSYW5nZShcImRheVwiLCBvYmouZGF5KTtcbiAgfSBlbHNlIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGhhc0ludmFsaWRUaW1lRGF0YShvYmopIHtcbiAgdmFyIGhvdXIgPSBvYmouaG91cixcbiAgICAgIG1pbnV0ZSA9IG9iai5taW51dGUsXG4gICAgICBzZWNvbmQgPSBvYmouc2Vjb25kLFxuICAgICAgbWlsbGlzZWNvbmQgPSBvYmoubWlsbGlzZWNvbmQ7XG4gIHZhciB2YWxpZEhvdXIgPSBpbnRlZ2VyQmV0d2Vlbihob3VyLCAwLCAyMykgfHwgaG91ciA9PT0gMjQgJiYgbWludXRlID09PSAwICYmIHNlY29uZCA9PT0gMCAmJiBtaWxsaXNlY29uZCA9PT0gMCxcbiAgICAgIHZhbGlkTWludXRlID0gaW50ZWdlckJldHdlZW4obWludXRlLCAwLCA1OSksXG4gICAgICB2YWxpZFNlY29uZCA9IGludGVnZXJCZXR3ZWVuKHNlY29uZCwgMCwgNTkpLFxuICAgICAgdmFsaWRNaWxsaXNlY29uZCA9IGludGVnZXJCZXR3ZWVuKG1pbGxpc2Vjb25kLCAwLCA5OTkpO1xuXG4gIGlmICghdmFsaWRIb3VyKSB7XG4gICAgcmV0dXJuIHVuaXRPdXRPZlJhbmdlKFwiaG91clwiLCBob3VyKTtcbiAgfSBlbHNlIGlmICghdmFsaWRNaW51dGUpIHtcbiAgICByZXR1cm4gdW5pdE91dE9mUmFuZ2UoXCJtaW51dGVcIiwgbWludXRlKTtcbiAgfSBlbHNlIGlmICghdmFsaWRTZWNvbmQpIHtcbiAgICByZXR1cm4gdW5pdE91dE9mUmFuZ2UoXCJzZWNvbmRcIiwgc2Vjb25kKTtcbiAgfSBlbHNlIGlmICghdmFsaWRNaWxsaXNlY29uZCkge1xuICAgIHJldHVybiB1bml0T3V0T2ZSYW5nZShcIm1pbGxpc2Vjb25kXCIsIG1pbGxpc2Vjb25kKTtcbiAgfSBlbHNlIHJldHVybiBmYWxzZTtcbn1cblxudmFyIElOVkFMSUQgPSBcIkludmFsaWQgRGF0ZVRpbWVcIjtcbnZhciBNQVhfREFURSA9IDguNjRlMTU7XG5cbmZ1bmN0aW9uIHVuc3VwcG9ydGVkWm9uZSh6b25lKSB7XG4gIHJldHVybiBuZXcgSW52YWxpZChcInVuc3VwcG9ydGVkIHpvbmVcIiwgXCJ0aGUgem9uZSBcXFwiXCIgKyB6b25lLm5hbWUgKyBcIlxcXCIgaXMgbm90IHN1cHBvcnRlZFwiKTtcbn0gLy8gd2UgY2FjaGUgd2VlayBkYXRhIG9uIHRoZSBEVCBvYmplY3QgYW5kIHRoaXMgaW50ZXJtZWRpYXRlcyB0aGUgY2FjaGVcblxuXG5mdW5jdGlvbiBwb3NzaWJseUNhY2hlZFdlZWtEYXRhKGR0KSB7XG4gIGlmIChkdC53ZWVrRGF0YSA9PT0gbnVsbCkge1xuICAgIGR0LndlZWtEYXRhID0gZ3JlZ29yaWFuVG9XZWVrKGR0LmMpO1xuICB9XG5cbiAgcmV0dXJuIGR0LndlZWtEYXRhO1xufSAvLyBjbG9uZSByZWFsbHkgbWVhbnMsIFwibWFrZSBhIG5ldyBvYmplY3Qgd2l0aCB0aGVzZSBtb2RpZmljYXRpb25zXCIuIGFsbCBcInNldHRlcnNcIiByZWFsbHkgdXNlIHRoaXNcbi8vIHRvIGNyZWF0ZSBhIG5ldyBvYmplY3Qgd2hpbGUgb25seSBjaGFuZ2luZyBzb21lIG9mIHRoZSBwcm9wZXJ0aWVzXG5cblxuZnVuY3Rpb24gY2xvbmUoaW5zdCwgYWx0cykge1xuICB2YXIgY3VycmVudCA9IHtcbiAgICB0czogaW5zdC50cyxcbiAgICB6b25lOiBpbnN0LnpvbmUsXG4gICAgYzogaW5zdC5jLFxuICAgIG86IGluc3QubyxcbiAgICBsb2M6IGluc3QubG9jLFxuICAgIGludmFsaWQ6IGluc3QuaW52YWxpZFxuICB9O1xuICByZXR1cm4gbmV3IERhdGVUaW1lKF9leHRlbmRzKHt9LCBjdXJyZW50LCBhbHRzLCB7XG4gICAgb2xkOiBjdXJyZW50XG4gIH0pKTtcbn0gLy8gZmluZCB0aGUgcmlnaHQgb2Zmc2V0IGEgZ2l2ZW4gbG9jYWwgdGltZS4gVGhlIG8gaW5wdXQgaXMgb3VyIGd1ZXNzLCB3aGljaCBkZXRlcm1pbmVzIHdoaWNoXG4vLyBvZmZzZXQgd2UnbGwgcGljayBpbiBhbWJpZ3VvdXMgY2FzZXMgKGUuZy4gdGhlcmUgYXJlIHR3byAzIEFNcyBiL2MgRmFsbGJhY2sgRFNUKVxuXG5cbmZ1bmN0aW9uIGZpeE9mZnNldChsb2NhbFRTLCBvLCB0eikge1xuICAvLyBPdXIgVVRDIHRpbWUgaXMganVzdCBhIGd1ZXNzIGJlY2F1c2Ugb3VyIG9mZnNldCBpcyBqdXN0IGEgZ3Vlc3NcbiAgdmFyIHV0Y0d1ZXNzID0gbG9jYWxUUyAtIG8gKiA2MCAqIDEwMDA7IC8vIFRlc3Qgd2hldGhlciB0aGUgem9uZSBtYXRjaGVzIHRoZSBvZmZzZXQgZm9yIHRoaXMgdHNcblxuICB2YXIgbzIgPSB0ei5vZmZzZXQodXRjR3Vlc3MpOyAvLyBJZiBzbywgb2Zmc2V0IGRpZG4ndCBjaGFuZ2UgYW5kIHdlJ3JlIGRvbmVcblxuICBpZiAobyA9PT0gbzIpIHtcbiAgICByZXR1cm4gW3V0Y0d1ZXNzLCBvXTtcbiAgfSAvLyBJZiBub3QsIGNoYW5nZSB0aGUgdHMgYnkgdGhlIGRpZmZlcmVuY2UgaW4gdGhlIG9mZnNldFxuXG5cbiAgdXRjR3Vlc3MgLT0gKG8yIC0gbykgKiA2MCAqIDEwMDA7IC8vIElmIHRoYXQgZ2l2ZXMgdXMgdGhlIGxvY2FsIHRpbWUgd2Ugd2FudCwgd2UncmUgZG9uZVxuXG4gIHZhciBvMyA9IHR6Lm9mZnNldCh1dGNHdWVzcyk7XG5cbiAgaWYgKG8yID09PSBvMykge1xuICAgIHJldHVybiBbdXRjR3Vlc3MsIG8yXTtcbiAgfSAvLyBJZiBpdCdzIGRpZmZlcmVudCwgd2UncmUgaW4gYSBob2xlIHRpbWUuIFRoZSBvZmZzZXQgaGFzIGNoYW5nZWQsIGJ1dCB0aGUgd2UgZG9uJ3QgYWRqdXN0IHRoZSB0aW1lXG5cblxuICByZXR1cm4gW2xvY2FsVFMgLSBNYXRoLm1pbihvMiwgbzMpICogNjAgKiAxMDAwLCBNYXRoLm1heChvMiwgbzMpXTtcbn0gLy8gY29udmVydCBhbiBlcG9jaCB0aW1lc3RhbXAgaW50byBhIGNhbGVuZGFyIG9iamVjdCB3aXRoIHRoZSBnaXZlbiBvZmZzZXRcblxuXG5mdW5jdGlvbiB0c1RvT2JqKHRzLCBvZmZzZXQpIHtcbiAgdHMgKz0gb2Zmc2V0ICogNjAgKiAxMDAwO1xuICB2YXIgZCA9IG5ldyBEYXRlKHRzKTtcbiAgcmV0dXJuIHtcbiAgICB5ZWFyOiBkLmdldFVUQ0Z1bGxZZWFyKCksXG4gICAgbW9udGg6IGQuZ2V0VVRDTW9udGgoKSArIDEsXG4gICAgZGF5OiBkLmdldFVUQ0RhdGUoKSxcbiAgICBob3VyOiBkLmdldFVUQ0hvdXJzKCksXG4gICAgbWludXRlOiBkLmdldFVUQ01pbnV0ZXMoKSxcbiAgICBzZWNvbmQ6IGQuZ2V0VVRDU2Vjb25kcygpLFxuICAgIG1pbGxpc2Vjb25kOiBkLmdldFVUQ01pbGxpc2Vjb25kcygpXG4gIH07XG59IC8vIGNvbnZlcnQgYSBjYWxlbmRhciBvYmplY3QgdG8gYSBlcG9jaCB0aW1lc3RhbXBcblxuXG5mdW5jdGlvbiBvYmpUb1RTKG9iaiwgb2Zmc2V0LCB6b25lKSB7XG4gIHJldHVybiBmaXhPZmZzZXQob2JqVG9Mb2NhbFRTKG9iaiksIG9mZnNldCwgem9uZSk7XG59IC8vIGNyZWF0ZSBhIG5ldyBEVCBpbnN0YW5jZSBieSBhZGRpbmcgYSBkdXJhdGlvbiwgYWRqdXN0aW5nIGZvciBEU1RzXG5cblxuZnVuY3Rpb24gYWRqdXN0VGltZShpbnN0LCBkdXIpIHtcbiAgdmFyIG9QcmUgPSBpbnN0Lm8sXG4gICAgICB5ZWFyID0gaW5zdC5jLnllYXIgKyBNYXRoLnRydW5jKGR1ci55ZWFycyksXG4gICAgICBtb250aCA9IGluc3QuYy5tb250aCArIE1hdGgudHJ1bmMoZHVyLm1vbnRocykgKyBNYXRoLnRydW5jKGR1ci5xdWFydGVycykgKiAzLFxuICAgICAgYyA9IF9leHRlbmRzKHt9LCBpbnN0LmMsIHtcbiAgICB5ZWFyOiB5ZWFyLFxuICAgIG1vbnRoOiBtb250aCxcbiAgICBkYXk6IE1hdGgubWluKGluc3QuYy5kYXksIGRheXNJbk1vbnRoKHllYXIsIG1vbnRoKSkgKyBNYXRoLnRydW5jKGR1ci5kYXlzKSArIE1hdGgudHJ1bmMoZHVyLndlZWtzKSAqIDdcbiAgfSksXG4gICAgICBtaWxsaXNUb0FkZCA9IER1cmF0aW9uLmZyb21PYmplY3Qoe1xuICAgIHllYXJzOiBkdXIueWVhcnMgLSBNYXRoLnRydW5jKGR1ci55ZWFycyksXG4gICAgcXVhcnRlcnM6IGR1ci5xdWFydGVycyAtIE1hdGgudHJ1bmMoZHVyLnF1YXJ0ZXJzKSxcbiAgICBtb250aHM6IGR1ci5tb250aHMgLSBNYXRoLnRydW5jKGR1ci5tb250aHMpLFxuICAgIHdlZWtzOiBkdXIud2Vla3MgLSBNYXRoLnRydW5jKGR1ci53ZWVrcyksXG4gICAgZGF5czogZHVyLmRheXMgLSBNYXRoLnRydW5jKGR1ci5kYXlzKSxcbiAgICBob3VyczogZHVyLmhvdXJzLFxuICAgIG1pbnV0ZXM6IGR1ci5taW51dGVzLFxuICAgIHNlY29uZHM6IGR1ci5zZWNvbmRzLFxuICAgIG1pbGxpc2Vjb25kczogZHVyLm1pbGxpc2Vjb25kc1xuICB9KS5hcyhcIm1pbGxpc2Vjb25kc1wiKSxcbiAgICAgIGxvY2FsVFMgPSBvYmpUb0xvY2FsVFMoYyk7XG5cbiAgdmFyIF9maXhPZmZzZXQgPSBmaXhPZmZzZXQobG9jYWxUUywgb1ByZSwgaW5zdC56b25lKSxcbiAgICAgIHRzID0gX2ZpeE9mZnNldFswXSxcbiAgICAgIG8gPSBfZml4T2Zmc2V0WzFdO1xuXG4gIGlmIChtaWxsaXNUb0FkZCAhPT0gMCkge1xuICAgIHRzICs9IG1pbGxpc1RvQWRkOyAvLyB0aGF0IGNvdWxkIGhhdmUgY2hhbmdlZCB0aGUgb2Zmc2V0IGJ5IGdvaW5nIG92ZXIgYSBEU1QsIGJ1dCB3ZSB3YW50IHRvIGtlZXAgdGhlIHRzIHRoZSBzYW1lXG5cbiAgICBvID0gaW5zdC56b25lLm9mZnNldCh0cyk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHRzOiB0cyxcbiAgICBvOiBvXG4gIH07XG59IC8vIGhlbHBlciB1c2VmdWwgaW4gdHVybmluZyB0aGUgcmVzdWx0cyBvZiBwYXJzaW5nIGludG8gcmVhbCBkYXRlc1xuLy8gYnkgaGFuZGxpbmcgdGhlIHpvbmUgb3B0aW9uc1xuXG5cbmZ1bmN0aW9uIHBhcnNlRGF0YVRvRGF0ZVRpbWUocGFyc2VkLCBwYXJzZWRab25lLCBvcHRzLCBmb3JtYXQsIHRleHQsIHNwZWNpZmljT2Zmc2V0KSB7XG4gIHZhciBzZXRab25lID0gb3B0cy5zZXRab25lLFxuICAgICAgem9uZSA9IG9wdHMuem9uZTtcblxuICBpZiAocGFyc2VkICYmIE9iamVjdC5rZXlzKHBhcnNlZCkubGVuZ3RoICE9PSAwKSB7XG4gICAgdmFyIGludGVycHJldGF0aW9uWm9uZSA9IHBhcnNlZFpvbmUgfHwgem9uZSxcbiAgICAgICAgaW5zdCA9IERhdGVUaW1lLmZyb21PYmplY3QocGFyc2VkLCBfZXh0ZW5kcyh7fSwgb3B0cywge1xuICAgICAgem9uZTogaW50ZXJwcmV0YXRpb25ab25lLFxuICAgICAgc3BlY2lmaWNPZmZzZXQ6IHNwZWNpZmljT2Zmc2V0XG4gICAgfSkpO1xuICAgIHJldHVybiBzZXRab25lID8gaW5zdCA6IGluc3Quc2V0Wm9uZSh6b25lKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gRGF0ZVRpbWUuaW52YWxpZChuZXcgSW52YWxpZChcInVucGFyc2FibGVcIiwgXCJ0aGUgaW5wdXQgXFxcIlwiICsgdGV4dCArIFwiXFxcIiBjYW4ndCBiZSBwYXJzZWQgYXMgXCIgKyBmb3JtYXQpKTtcbiAgfVxufSAvLyBpZiB5b3Ugd2FudCB0byBvdXRwdXQgYSB0ZWNobmljYWwgZm9ybWF0IChlLmcuIFJGQyAyODIyKSwgdGhpcyBoZWxwZXJcbi8vIGhlbHBzIGhhbmRsZSB0aGUgZGV0YWlsc1xuXG5cbmZ1bmN0aW9uIHRvVGVjaEZvcm1hdChkdCwgZm9ybWF0LCBhbGxvd1opIHtcbiAgaWYgKGFsbG93WiA9PT0gdm9pZCAwKSB7XG4gICAgYWxsb3daID0gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBkdC5pc1ZhbGlkID8gRm9ybWF0dGVyLmNyZWF0ZShMb2NhbGUuY3JlYXRlKFwiZW4tVVNcIiksIHtcbiAgICBhbGxvd1o6IGFsbG93WixcbiAgICBmb3JjZVNpbXBsZTogdHJ1ZVxuICB9KS5mb3JtYXREYXRlVGltZUZyb21TdHJpbmcoZHQsIGZvcm1hdCkgOiBudWxsO1xufVxuXG5mdW5jdGlvbiBfdG9JU09EYXRlKG8sIGV4dGVuZGVkKSB7XG4gIHZhciBsb25nRm9ybWF0ID0gby5jLnllYXIgPiA5OTk5IHx8IG8uYy55ZWFyIDwgMDtcbiAgdmFyIGMgPSBcIlwiO1xuICBpZiAobG9uZ0Zvcm1hdCAmJiBvLmMueWVhciA+PSAwKSBjICs9IFwiK1wiO1xuICBjICs9IHBhZFN0YXJ0KG8uYy55ZWFyLCBsb25nRm9ybWF0ID8gNiA6IDQpO1xuXG4gIGlmIChleHRlbmRlZCkge1xuICAgIGMgKz0gXCItXCI7XG4gICAgYyArPSBwYWRTdGFydChvLmMubW9udGgpO1xuICAgIGMgKz0gXCItXCI7XG4gICAgYyArPSBwYWRTdGFydChvLmMuZGF5KTtcbiAgfSBlbHNlIHtcbiAgICBjICs9IHBhZFN0YXJ0KG8uYy5tb250aCk7XG4gICAgYyArPSBwYWRTdGFydChvLmMuZGF5KTtcbiAgfVxuXG4gIHJldHVybiBjO1xufVxuXG5mdW5jdGlvbiBfdG9JU09UaW1lKG8sIGV4dGVuZGVkLCBzdXBwcmVzc1NlY29uZHMsIHN1cHByZXNzTWlsbGlzZWNvbmRzLCBpbmNsdWRlT2Zmc2V0LCBleHRlbmRlZFpvbmUpIHtcbiAgdmFyIGMgPSBwYWRTdGFydChvLmMuaG91cik7XG5cbiAgaWYgKGV4dGVuZGVkKSB7XG4gICAgYyArPSBcIjpcIjtcbiAgICBjICs9IHBhZFN0YXJ0KG8uYy5taW51dGUpO1xuXG4gICAgaWYgKG8uYy5zZWNvbmQgIT09IDAgfHwgIXN1cHByZXNzU2Vjb25kcykge1xuICAgICAgYyArPSBcIjpcIjtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgYyArPSBwYWRTdGFydChvLmMubWludXRlKTtcbiAgfVxuXG4gIGlmIChvLmMuc2Vjb25kICE9PSAwIHx8ICFzdXBwcmVzc1NlY29uZHMpIHtcbiAgICBjICs9IHBhZFN0YXJ0KG8uYy5zZWNvbmQpO1xuXG4gICAgaWYgKG8uYy5taWxsaXNlY29uZCAhPT0gMCB8fCAhc3VwcHJlc3NNaWxsaXNlY29uZHMpIHtcbiAgICAgIGMgKz0gXCIuXCI7XG4gICAgICBjICs9IHBhZFN0YXJ0KG8uYy5taWxsaXNlY29uZCwgMyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKGluY2x1ZGVPZmZzZXQpIHtcbiAgICBpZiAoby5pc09mZnNldEZpeGVkICYmIG8ub2Zmc2V0ID09PSAwICYmICFleHRlbmRlZFpvbmUpIHtcbiAgICAgIGMgKz0gXCJaXCI7XG4gICAgfSBlbHNlIGlmIChvLm8gPCAwKSB7XG4gICAgICBjICs9IFwiLVwiO1xuICAgICAgYyArPSBwYWRTdGFydChNYXRoLnRydW5jKC1vLm8gLyA2MCkpO1xuICAgICAgYyArPSBcIjpcIjtcbiAgICAgIGMgKz0gcGFkU3RhcnQoTWF0aC50cnVuYygtby5vICUgNjApKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYyArPSBcIitcIjtcbiAgICAgIGMgKz0gcGFkU3RhcnQoTWF0aC50cnVuYyhvLm8gLyA2MCkpO1xuICAgICAgYyArPSBcIjpcIjtcbiAgICAgIGMgKz0gcGFkU3RhcnQoTWF0aC50cnVuYyhvLm8gJSA2MCkpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChleHRlbmRlZFpvbmUpIHtcbiAgICBjICs9IFwiW1wiICsgby56b25lLmlhbmFOYW1lICsgXCJdXCI7XG4gIH1cblxuICByZXR1cm4gYztcbn0gLy8gZGVmYXVsdHMgZm9yIHVuc3BlY2lmaWVkIHVuaXRzIGluIHRoZSBzdXBwb3J0ZWQgY2FsZW5kYXJzXG5cblxudmFyIGRlZmF1bHRVbml0VmFsdWVzID0ge1xuICBtb250aDogMSxcbiAgZGF5OiAxLFxuICBob3VyOiAwLFxuICBtaW51dGU6IDAsXG4gIHNlY29uZDogMCxcbiAgbWlsbGlzZWNvbmQ6IDBcbn0sXG4gICAgZGVmYXVsdFdlZWtVbml0VmFsdWVzID0ge1xuICB3ZWVrTnVtYmVyOiAxLFxuICB3ZWVrZGF5OiAxLFxuICBob3VyOiAwLFxuICBtaW51dGU6IDAsXG4gIHNlY29uZDogMCxcbiAgbWlsbGlzZWNvbmQ6IDBcbn0sXG4gICAgZGVmYXVsdE9yZGluYWxVbml0VmFsdWVzID0ge1xuICBvcmRpbmFsOiAxLFxuICBob3VyOiAwLFxuICBtaW51dGU6IDAsXG4gIHNlY29uZDogMCxcbiAgbWlsbGlzZWNvbmQ6IDBcbn07IC8vIFVuaXRzIGluIHRoZSBzdXBwb3J0ZWQgY2FsZW5kYXJzLCBzb3J0ZWQgYnkgYmlnbmVzc1xuXG52YXIgb3JkZXJlZFVuaXRzID0gW1wieWVhclwiLCBcIm1vbnRoXCIsIFwiZGF5XCIsIFwiaG91clwiLCBcIm1pbnV0ZVwiLCBcInNlY29uZFwiLCBcIm1pbGxpc2Vjb25kXCJdLFxuICAgIG9yZGVyZWRXZWVrVW5pdHMgPSBbXCJ3ZWVrWWVhclwiLCBcIndlZWtOdW1iZXJcIiwgXCJ3ZWVrZGF5XCIsIFwiaG91clwiLCBcIm1pbnV0ZVwiLCBcInNlY29uZFwiLCBcIm1pbGxpc2Vjb25kXCJdLFxuICAgIG9yZGVyZWRPcmRpbmFsVW5pdHMgPSBbXCJ5ZWFyXCIsIFwib3JkaW5hbFwiLCBcImhvdXJcIiwgXCJtaW51dGVcIiwgXCJzZWNvbmRcIiwgXCJtaWxsaXNlY29uZFwiXTsgLy8gc3RhbmRhcmRpemUgY2FzZSBhbmQgcGx1cmFsaXR5IGluIHVuaXRzXG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVVuaXQodW5pdCkge1xuICB2YXIgbm9ybWFsaXplZCA9IHtcbiAgICB5ZWFyOiBcInllYXJcIixcbiAgICB5ZWFyczogXCJ5ZWFyXCIsXG4gICAgbW9udGg6IFwibW9udGhcIixcbiAgICBtb250aHM6IFwibW9udGhcIixcbiAgICBkYXk6IFwiZGF5XCIsXG4gICAgZGF5czogXCJkYXlcIixcbiAgICBob3VyOiBcImhvdXJcIixcbiAgICBob3VyczogXCJob3VyXCIsXG4gICAgbWludXRlOiBcIm1pbnV0ZVwiLFxuICAgIG1pbnV0ZXM6IFwibWludXRlXCIsXG4gICAgcXVhcnRlcjogXCJxdWFydGVyXCIsXG4gICAgcXVhcnRlcnM6IFwicXVhcnRlclwiLFxuICAgIHNlY29uZDogXCJzZWNvbmRcIixcbiAgICBzZWNvbmRzOiBcInNlY29uZFwiLFxuICAgIG1pbGxpc2Vjb25kOiBcIm1pbGxpc2Vjb25kXCIsXG4gICAgbWlsbGlzZWNvbmRzOiBcIm1pbGxpc2Vjb25kXCIsXG4gICAgd2Vla2RheTogXCJ3ZWVrZGF5XCIsXG4gICAgd2Vla2RheXM6IFwid2Vla2RheVwiLFxuICAgIHdlZWtudW1iZXI6IFwid2Vla051bWJlclwiLFxuICAgIHdlZWtzbnVtYmVyOiBcIndlZWtOdW1iZXJcIixcbiAgICB3ZWVrbnVtYmVyczogXCJ3ZWVrTnVtYmVyXCIsXG4gICAgd2Vla3llYXI6IFwid2Vla1llYXJcIixcbiAgICB3ZWVreWVhcnM6IFwid2Vla1llYXJcIixcbiAgICBvcmRpbmFsOiBcIm9yZGluYWxcIlxuICB9W3VuaXQudG9Mb3dlckNhc2UoKV07XG4gIGlmICghbm9ybWFsaXplZCkgdGhyb3cgbmV3IEludmFsaWRVbml0RXJyb3IodW5pdCk7XG4gIHJldHVybiBub3JtYWxpemVkO1xufSAvLyB0aGlzIGlzIGEgZHVtYmVkIGRvd24gdmVyc2lvbiBvZiBmcm9tT2JqZWN0KCkgdGhhdCBydW5zIGFib3V0IDYwJSBmYXN0ZXJcbi8vIGJ1dCBkb2Vzbid0IGRvIGFueSB2YWxpZGF0aW9uLCBtYWtlcyBhIGJ1bmNoIG9mIGFzc3VtcHRpb25zIGFib3V0IHdoYXQgdW5pdHNcbi8vIGFyZSBwcmVzZW50LCBhbmQgc28gb24uXG5cblxuZnVuY3Rpb24gcXVpY2tEVChvYmosIG9wdHMpIHtcbiAgdmFyIHpvbmUgPSBub3JtYWxpemVab25lKG9wdHMuem9uZSwgU2V0dGluZ3MuZGVmYXVsdFpvbmUpLFxuICAgICAgbG9jID0gTG9jYWxlLmZyb21PYmplY3Qob3B0cyksXG4gICAgICB0c05vdyA9IFNldHRpbmdzLm5vdygpO1xuICB2YXIgdHMsIG87IC8vIGFzc3VtZSB3ZSBoYXZlIHRoZSBoaWdoZXItb3JkZXIgdW5pdHNcblxuICBpZiAoIWlzVW5kZWZpbmVkKG9iai55ZWFyKSkge1xuICAgIGZvciAodmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyTG9vc2Uob3JkZXJlZFVuaXRzKSwgX3N0ZXA7ICEoX3N0ZXAgPSBfaXRlcmF0b3IoKSkuZG9uZTspIHtcbiAgICAgIHZhciB1ID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgIGlmIChpc1VuZGVmaW5lZChvYmpbdV0pKSB7XG4gICAgICAgIG9ialt1XSA9IGRlZmF1bHRVbml0VmFsdWVzW3VdO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBpbnZhbGlkID0gaGFzSW52YWxpZEdyZWdvcmlhbkRhdGEob2JqKSB8fCBoYXNJbnZhbGlkVGltZURhdGEob2JqKTtcblxuICAgIGlmIChpbnZhbGlkKSB7XG4gICAgICByZXR1cm4gRGF0ZVRpbWUuaW52YWxpZChpbnZhbGlkKTtcbiAgICB9XG5cbiAgICB2YXIgb2Zmc2V0UHJvdmlzID0gem9uZS5vZmZzZXQodHNOb3cpO1xuXG4gICAgdmFyIF9vYmpUb1RTID0gb2JqVG9UUyhvYmosIG9mZnNldFByb3Zpcywgem9uZSk7XG5cbiAgICB0cyA9IF9vYmpUb1RTWzBdO1xuICAgIG8gPSBfb2JqVG9UU1sxXTtcbiAgfSBlbHNlIHtcbiAgICB0cyA9IHRzTm93O1xuICB9XG5cbiAgcmV0dXJuIG5ldyBEYXRlVGltZSh7XG4gICAgdHM6IHRzLFxuICAgIHpvbmU6IHpvbmUsXG4gICAgbG9jOiBsb2MsXG4gICAgbzogb1xuICB9KTtcbn1cblxuZnVuY3Rpb24gZGlmZlJlbGF0aXZlKHN0YXJ0LCBlbmQsIG9wdHMpIHtcbiAgdmFyIHJvdW5kID0gaXNVbmRlZmluZWQob3B0cy5yb3VuZCkgPyB0cnVlIDogb3B0cy5yb3VuZCxcbiAgICAgIGZvcm1hdCA9IGZ1bmN0aW9uIGZvcm1hdChjLCB1bml0KSB7XG4gICAgYyA9IHJvdW5kVG8oYywgcm91bmQgfHwgb3B0cy5jYWxlbmRhcnkgPyAwIDogMiwgdHJ1ZSk7XG4gICAgdmFyIGZvcm1hdHRlciA9IGVuZC5sb2MuY2xvbmUob3B0cykucmVsRm9ybWF0dGVyKG9wdHMpO1xuICAgIHJldHVybiBmb3JtYXR0ZXIuZm9ybWF0KGMsIHVuaXQpO1xuICB9LFxuICAgICAgZGlmZmVyID0gZnVuY3Rpb24gZGlmZmVyKHVuaXQpIHtcbiAgICBpZiAob3B0cy5jYWxlbmRhcnkpIHtcbiAgICAgIGlmICghZW5kLmhhc1NhbWUoc3RhcnQsIHVuaXQpKSB7XG4gICAgICAgIHJldHVybiBlbmQuc3RhcnRPZih1bml0KS5kaWZmKHN0YXJ0LnN0YXJ0T2YodW5pdCksIHVuaXQpLmdldCh1bml0KTtcbiAgICAgIH0gZWxzZSByZXR1cm4gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGVuZC5kaWZmKHN0YXJ0LCB1bml0KS5nZXQodW5pdCk7XG4gICAgfVxuICB9O1xuXG4gIGlmIChvcHRzLnVuaXQpIHtcbiAgICByZXR1cm4gZm9ybWF0KGRpZmZlcihvcHRzLnVuaXQpLCBvcHRzLnVuaXQpO1xuICB9XG5cbiAgZm9yICh2YXIgX2l0ZXJhdG9yMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyTG9vc2Uob3B0cy51bml0cyksIF9zdGVwMjsgIShfc3RlcDIgPSBfaXRlcmF0b3IyKCkpLmRvbmU7KSB7XG4gICAgdmFyIHVuaXQgPSBfc3RlcDIudmFsdWU7XG4gICAgdmFyIGNvdW50ID0gZGlmZmVyKHVuaXQpO1xuXG4gICAgaWYgKE1hdGguYWJzKGNvdW50KSA+PSAxKSB7XG4gICAgICByZXR1cm4gZm9ybWF0KGNvdW50LCB1bml0KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZm9ybWF0KHN0YXJ0ID4gZW5kID8gLTAgOiAwLCBvcHRzLnVuaXRzW29wdHMudW5pdHMubGVuZ3RoIC0gMV0pO1xufVxuXG5mdW5jdGlvbiBsYXN0T3B0cyhhcmdMaXN0KSB7XG4gIHZhciBvcHRzID0ge30sXG4gICAgICBhcmdzO1xuXG4gIGlmIChhcmdMaXN0Lmxlbmd0aCA+IDAgJiYgdHlwZW9mIGFyZ0xpc3RbYXJnTGlzdC5sZW5ndGggLSAxXSA9PT0gXCJvYmplY3RcIikge1xuICAgIG9wdHMgPSBhcmdMaXN0W2FyZ0xpc3QubGVuZ3RoIC0gMV07XG4gICAgYXJncyA9IEFycmF5LmZyb20oYXJnTGlzdCkuc2xpY2UoMCwgYXJnTGlzdC5sZW5ndGggLSAxKTtcbiAgfSBlbHNlIHtcbiAgICBhcmdzID0gQXJyYXkuZnJvbShhcmdMaXN0KTtcbiAgfVxuXG4gIHJldHVybiBbb3B0cywgYXJnc107XG59XG4vKipcbiAqIEEgRGF0ZVRpbWUgaXMgYW4gaW1tdXRhYmxlIGRhdGEgc3RydWN0dXJlIHJlcHJlc2VudGluZyBhIHNwZWNpZmljIGRhdGUgYW5kIHRpbWUgYW5kIGFjY29tcGFueWluZyBtZXRob2RzLiBJdCBjb250YWlucyBjbGFzcyBhbmQgaW5zdGFuY2UgbWV0aG9kcyBmb3IgY3JlYXRpbmcsIHBhcnNpbmcsIGludGVycm9nYXRpbmcsIHRyYW5zZm9ybWluZywgYW5kIGZvcm1hdHRpbmcgdGhlbS5cbiAqXG4gKiBBIERhdGVUaW1lIGNvbXByaXNlcyBvZjpcbiAqICogQSB0aW1lc3RhbXAuIEVhY2ggRGF0ZVRpbWUgaW5zdGFuY2UgcmVmZXJzIHRvIGEgc3BlY2lmaWMgbWlsbGlzZWNvbmQgb2YgdGhlIFVuaXggZXBvY2guXG4gKiAqIEEgdGltZSB6b25lLiBFYWNoIGluc3RhbmNlIGlzIGNvbnNpZGVyZWQgaW4gdGhlIGNvbnRleHQgb2YgYSBzcGVjaWZpYyB6b25lIChieSBkZWZhdWx0IHRoZSBsb2NhbCBzeXN0ZW0ncyB6b25lKS5cbiAqICogQ29uZmlndXJhdGlvbiBwcm9wZXJ0aWVzIHRoYXQgZWZmZWN0IGhvdyBvdXRwdXQgc3RyaW5ncyBhcmUgZm9ybWF0dGVkLCBzdWNoIGFzIGBsb2NhbGVgLCBgbnVtYmVyaW5nU3lzdGVtYCwgYW5kIGBvdXRwdXRDYWxlbmRhcmAuXG4gKlxuICogSGVyZSBpcyBhIGJyaWVmIG92ZXJ2aWV3IG9mIHRoZSBtb3N0IGNvbW1vbmx5IHVzZWQgZnVuY3Rpb25hbGl0eSBpdCBwcm92aWRlczpcbiAqXG4gKiAqICoqQ3JlYXRpb24qKjogVG8gY3JlYXRlIGEgRGF0ZVRpbWUgZnJvbSBpdHMgY29tcG9uZW50cywgdXNlIG9uZSBvZiBpdHMgZmFjdG9yeSBjbGFzcyBtZXRob2RzOiB7QGxpbmsgRGF0ZVRpbWUjbG9jYWx9LCB7QGxpbmsgRGF0ZVRpbWUjdXRjfSwgYW5kIChtb3N0IGZsZXhpYmx5KSB7QGxpbmsgRGF0ZVRpbWUjZnJvbU9iamVjdH0uIFRvIGNyZWF0ZSBvbmUgZnJvbSBhIHN0YW5kYXJkIHN0cmluZyBmb3JtYXQsIHVzZSB7QGxpbmsgRGF0ZVRpbWUjZnJvbUlTT30sIHtAbGluayBEYXRlVGltZSNmcm9tSFRUUH0sIGFuZCB7QGxpbmsgRGF0ZVRpbWUjZnJvbVJGQzI4MjJ9LiBUbyBjcmVhdGUgb25lIGZyb20gYSBjdXN0b20gc3RyaW5nIGZvcm1hdCwgdXNlIHtAbGluayBEYXRlVGltZSNmcm9tRm9ybWF0fS4gVG8gY3JlYXRlIG9uZSBmcm9tIGEgbmF0aXZlIEpTIGRhdGUsIHVzZSB7QGxpbmsgRGF0ZVRpbWUjZnJvbUpTRGF0ZX0uXG4gKiAqICoqR3JlZ29yaWFuIGNhbGVuZGFyIGFuZCB0aW1lKio6IFRvIGV4YW1pbmUgdGhlIEdyZWdvcmlhbiBwcm9wZXJ0aWVzIG9mIGEgRGF0ZVRpbWUgaW5kaXZpZHVhbGx5IChpLmUgYXMgb3Bwb3NlZCB0byBjb2xsZWN0aXZlbHkgdGhyb3VnaCB7QGxpbmsgRGF0ZVRpbWUjdG9PYmplY3R9KSwgdXNlIHRoZSB7QGxpbmsgRGF0ZVRpbWUjeWVhcn0sIHtAbGluayBEYXRlVGltZSNtb250aH0sXG4gKiB7QGxpbmsgRGF0ZVRpbWUjZGF5fSwge0BsaW5rIERhdGVUaW1lI2hvdXJ9LCB7QGxpbmsgRGF0ZVRpbWUjbWludXRlfSwge0BsaW5rIERhdGVUaW1lI3NlY29uZH0sIHtAbGluayBEYXRlVGltZSNtaWxsaXNlY29uZH0gYWNjZXNzb3JzLlxuICogKiAqKldlZWsgY2FsZW5kYXIqKjogRm9yIElTTyB3ZWVrIGNhbGVuZGFyIGF0dHJpYnV0ZXMsIHNlZSB0aGUge0BsaW5rIERhdGVUaW1lI3dlZWtZZWFyfSwge0BsaW5rIERhdGVUaW1lI3dlZWtOdW1iZXJ9LCBhbmQge0BsaW5rIERhdGVUaW1lI3dlZWtkYXl9IGFjY2Vzc29ycy5cbiAqICogKipDb25maWd1cmF0aW9uKiogU2VlIHRoZSB7QGxpbmsgRGF0ZVRpbWUjbG9jYWxlfSBhbmQge0BsaW5rIERhdGVUaW1lI251bWJlcmluZ1N5c3RlbX0gYWNjZXNzb3JzLlxuICogKiAqKlRyYW5zZm9ybWF0aW9uKio6IFRvIHRyYW5zZm9ybSB0aGUgRGF0ZVRpbWUgaW50byBvdGhlciBEYXRlVGltZXMsIHVzZSB7QGxpbmsgRGF0ZVRpbWUjc2V0fSwge0BsaW5rIERhdGVUaW1lI3JlY29uZmlndXJlfSwge0BsaW5rIERhdGVUaW1lI3NldFpvbmV9LCB7QGxpbmsgRGF0ZVRpbWUjc2V0TG9jYWxlfSwge0BsaW5rIERhdGVUaW1lLnBsdXN9LCB7QGxpbmsgRGF0ZVRpbWUjbWludXN9LCB7QGxpbmsgRGF0ZVRpbWUjZW5kT2Z9LCB7QGxpbmsgRGF0ZVRpbWUjc3RhcnRPZn0sIHtAbGluayBEYXRlVGltZSN0b1VUQ30sIGFuZCB7QGxpbmsgRGF0ZVRpbWUjdG9Mb2NhbH0uXG4gKiAqICoqT3V0cHV0Kio6IFRvIGNvbnZlcnQgdGhlIERhdGVUaW1lIHRvIG90aGVyIHJlcHJlc2VudGF0aW9ucywgdXNlIHRoZSB7QGxpbmsgRGF0ZVRpbWUjdG9SZWxhdGl2ZX0sIHtAbGluayBEYXRlVGltZSN0b1JlbGF0aXZlQ2FsZW5kYXJ9LCB7QGxpbmsgRGF0ZVRpbWUjdG9KU09OfSwge0BsaW5rIERhdGVUaW1lI3RvSVNPfSwge0BsaW5rIERhdGVUaW1lI3RvSFRUUH0sIHtAbGluayBEYXRlVGltZSN0b09iamVjdH0sIHtAbGluayBEYXRlVGltZSN0b1JGQzI4MjJ9LCB7QGxpbmsgRGF0ZVRpbWUjdG9TdHJpbmd9LCB7QGxpbmsgRGF0ZVRpbWUjdG9Mb2NhbGVTdHJpbmd9LCB7QGxpbmsgRGF0ZVRpbWUjdG9Gb3JtYXR9LCB7QGxpbmsgRGF0ZVRpbWUjdG9NaWxsaXN9IGFuZCB7QGxpbmsgRGF0ZVRpbWUjdG9KU0RhdGV9LlxuICpcbiAqIFRoZXJlJ3MgcGxlbnR5IG90aGVycyBkb2N1bWVudGVkIGJlbG93LiBJbiBhZGRpdGlvbiwgZm9yIG1vcmUgaW5mb3JtYXRpb24gb24gc3VidGxlciB0b3BpY3MgbGlrZSBpbnRlcm5hdGlvbmFsaXphdGlvbiwgdGltZSB6b25lcywgYWx0ZXJuYXRpdmUgY2FsZW5kYXJzLCB2YWxpZGl0eSwgYW5kIHNvIG9uLCBzZWUgdGhlIGV4dGVybmFsIGRvY3VtZW50YXRpb24uXG4gKi9cblxuXG52YXIgRGF0ZVRpbWUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQGFjY2VzcyBwcml2YXRlXG4gICAqL1xuICBmdW5jdGlvbiBEYXRlVGltZShjb25maWcpIHtcbiAgICB2YXIgem9uZSA9IGNvbmZpZy56b25lIHx8IFNldHRpbmdzLmRlZmF1bHRab25lO1xuICAgIHZhciBpbnZhbGlkID0gY29uZmlnLmludmFsaWQgfHwgKE51bWJlci5pc05hTihjb25maWcudHMpID8gbmV3IEludmFsaWQoXCJpbnZhbGlkIGlucHV0XCIpIDogbnVsbCkgfHwgKCF6b25lLmlzVmFsaWQgPyB1bnN1cHBvcnRlZFpvbmUoem9uZSkgOiBudWxsKTtcbiAgICAvKipcbiAgICAgKiBAYWNjZXNzIHByaXZhdGVcbiAgICAgKi9cblxuICAgIHRoaXMudHMgPSBpc1VuZGVmaW5lZChjb25maWcudHMpID8gU2V0dGluZ3Mubm93KCkgOiBjb25maWcudHM7XG4gICAgdmFyIGMgPSBudWxsLFxuICAgICAgICBvID0gbnVsbDtcblxuICAgIGlmICghaW52YWxpZCkge1xuICAgICAgdmFyIHVuY2hhbmdlZCA9IGNvbmZpZy5vbGQgJiYgY29uZmlnLm9sZC50cyA9PT0gdGhpcy50cyAmJiBjb25maWcub2xkLnpvbmUuZXF1YWxzKHpvbmUpO1xuXG4gICAgICBpZiAodW5jaGFuZ2VkKSB7XG4gICAgICAgIHZhciBfcmVmID0gW2NvbmZpZy5vbGQuYywgY29uZmlnLm9sZC5vXTtcbiAgICAgICAgYyA9IF9yZWZbMF07XG4gICAgICAgIG8gPSBfcmVmWzFdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIG90ID0gem9uZS5vZmZzZXQodGhpcy50cyk7XG4gICAgICAgIGMgPSB0c1RvT2JqKHRoaXMudHMsIG90KTtcbiAgICAgICAgaW52YWxpZCA9IE51bWJlci5pc05hTihjLnllYXIpID8gbmV3IEludmFsaWQoXCJpbnZhbGlkIGlucHV0XCIpIDogbnVsbDtcbiAgICAgICAgYyA9IGludmFsaWQgPyBudWxsIDogYztcbiAgICAgICAgbyA9IGludmFsaWQgPyBudWxsIDogb3Q7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBhY2Nlc3MgcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICB0aGlzLl96b25lID0gem9uZTtcbiAgICAvKipcbiAgICAgKiBAYWNjZXNzIHByaXZhdGVcbiAgICAgKi9cblxuICAgIHRoaXMubG9jID0gY29uZmlnLmxvYyB8fCBMb2NhbGUuY3JlYXRlKCk7XG4gICAgLyoqXG4gICAgICogQGFjY2VzcyBwcml2YXRlXG4gICAgICovXG5cbiAgICB0aGlzLmludmFsaWQgPSBpbnZhbGlkO1xuICAgIC8qKlxuICAgICAqIEBhY2Nlc3MgcHJpdmF0ZVxuICAgICAqL1xuXG4gICAgdGhpcy53ZWVrRGF0YSA9IG51bGw7XG4gICAgLyoqXG4gICAgICogQGFjY2VzcyBwcml2YXRlXG4gICAgICovXG5cbiAgICB0aGlzLmMgPSBjO1xuICAgIC8qKlxuICAgICAqIEBhY2Nlc3MgcHJpdmF0ZVxuICAgICAqL1xuXG4gICAgdGhpcy5vID0gbztcbiAgICAvKipcbiAgICAgKiBAYWNjZXNzIHByaXZhdGVcbiAgICAgKi9cblxuICAgIHRoaXMuaXNMdXhvbkRhdGVUaW1lID0gdHJ1ZTtcbiAgfSAvLyBDT05TVFJVQ1RcblxuICAvKipcbiAgICogQ3JlYXRlIGEgRGF0ZVRpbWUgZm9yIHRoZSBjdXJyZW50IGluc3RhbnQsIGluIHRoZSBzeXN0ZW0ncyB0aW1lIHpvbmUuXG4gICAqXG4gICAqIFVzZSBTZXR0aW5ncyB0byBvdmVycmlkZSB0aGVzZSBkZWZhdWx0IHZhbHVlcyBpZiBuZWVkZWQuXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLm5vdygpLnRvSVNPKCkgLy9+PiBub3cgaW4gdGhlIElTTyBmb3JtYXRcbiAgICogQHJldHVybiB7RGF0ZVRpbWV9XG4gICAqL1xuXG5cbiAgRGF0ZVRpbWUubm93ID0gZnVuY3Rpb24gbm93KCkge1xuICAgIHJldHVybiBuZXcgRGF0ZVRpbWUoe30pO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBsb2NhbCBEYXRlVGltZVxuICAgKiBAcGFyYW0ge251bWJlcn0gW3llYXJdIC0gVGhlIGNhbGVuZGFyIHllYXIuIElmIG9taXR0ZWQgKGFzIGluLCBjYWxsIGBsb2NhbCgpYCB3aXRoIG5vIGFyZ3VtZW50cyksIHRoZSBjdXJyZW50IHRpbWUgd2lsbCBiZSB1c2VkXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbbW9udGg9MV0gLSBUaGUgbW9udGgsIDEtaW5kZXhlZFxuICAgKiBAcGFyYW0ge251bWJlcn0gW2RheT0xXSAtIFRoZSBkYXkgb2YgdGhlIG1vbnRoLCAxLWluZGV4ZWRcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtob3VyPTBdIC0gVGhlIGhvdXIgb2YgdGhlIGRheSwgaW4gMjQtaG91ciB0aW1lXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbbWludXRlPTBdIC0gVGhlIG1pbnV0ZSBvZiB0aGUgaG91ciwgbWVhbmluZyBhIG51bWJlciBiZXR3ZWVuIDAgYW5kIDU5XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbc2Vjb25kPTBdIC0gVGhlIHNlY29uZCBvZiB0aGUgbWludXRlLCBtZWFuaW5nIGEgbnVtYmVyIGJldHdlZW4gMCBhbmQgNTlcbiAgICogQHBhcmFtIHtudW1iZXJ9IFttaWxsaXNlY29uZD0wXSAtIFRoZSBtaWxsaXNlY29uZCBvZiB0aGUgc2Vjb25kLCBtZWFuaW5nIGEgbnVtYmVyIGJldHdlZW4gMCBhbmQgOTk5XG4gICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9+PiBub3dcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoeyB6b25lOiBcIkFtZXJpY2EvTmV3X1lvcmtcIiB9KSAgICAgIC8vfj4gbm93LCBpbiBVUyBlYXN0IGNvYXN0IHRpbWVcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoMjAxNykgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL34+IDIwMTctMDEtMDFUMDA6MDA6MDBcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoMjAxNywgMykgICAgICAgICAgICAgICAgICAgICAgICAgICAvL34+IDIwMTctMDMtMDFUMDA6MDA6MDBcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoMjAxNywgMywgMTIsIHsgbG9jYWxlOiBcImZyXCIgfSkgICAgIC8vfj4gMjAxNy0wMy0xMlQwMDowMDowMCwgd2l0aCBhIEZyZW5jaCBsb2NhbGVcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoMjAxNywgMywgMTIsIDUpICAgICAgICAgICAgICAgICAgICAvL34+IDIwMTctMDMtMTJUMDU6MDA6MDBcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoMjAxNywgMywgMTIsIDUsIHsgem9uZTogXCJ1dGNcIiB9KSAgIC8vfj4gMjAxNy0wMy0xMlQwNTowMDowMCwgaW4gVVRDXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTcsIDMsIDEyLCA1LCA0NSkgICAgICAgICAgICAgICAgLy9+PiAyMDE3LTAzLTEyVDA1OjQ1OjAwXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTcsIDMsIDEyLCA1LCA0NSwgMTApICAgICAgICAgICAgLy9+PiAyMDE3LTAzLTEyVDA1OjQ1OjEwXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTcsIDMsIDEyLCA1LCA0NSwgMTAsIDc2NSkgICAgICAgLy9+PiAyMDE3LTAzLTEyVDA1OjQ1OjEwLjc2NVxuICAgKiBAcmV0dXJuIHtEYXRlVGltZX1cbiAgICovXG4gIDtcblxuICBEYXRlVGltZS5sb2NhbCA9IGZ1bmN0aW9uIGxvY2FsKCkge1xuICAgIHZhciBfbGFzdE9wdHMgPSBsYXN0T3B0cyhhcmd1bWVudHMpLFxuICAgICAgICBvcHRzID0gX2xhc3RPcHRzWzBdLFxuICAgICAgICBhcmdzID0gX2xhc3RPcHRzWzFdLFxuICAgICAgICB5ZWFyID0gYXJnc1swXSxcbiAgICAgICAgbW9udGggPSBhcmdzWzFdLFxuICAgICAgICBkYXkgPSBhcmdzWzJdLFxuICAgICAgICBob3VyID0gYXJnc1szXSxcbiAgICAgICAgbWludXRlID0gYXJnc1s0XSxcbiAgICAgICAgc2Vjb25kID0gYXJnc1s1XSxcbiAgICAgICAgbWlsbGlzZWNvbmQgPSBhcmdzWzZdO1xuXG4gICAgcmV0dXJuIHF1aWNrRFQoe1xuICAgICAgeWVhcjogeWVhcixcbiAgICAgIG1vbnRoOiBtb250aCxcbiAgICAgIGRheTogZGF5LFxuICAgICAgaG91cjogaG91cixcbiAgICAgIG1pbnV0ZTogbWludXRlLFxuICAgICAgc2Vjb25kOiBzZWNvbmQsXG4gICAgICBtaWxsaXNlY29uZDogbWlsbGlzZWNvbmRcbiAgICB9LCBvcHRzKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGEgRGF0ZVRpbWUgaW4gVVRDXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbeWVhcl0gLSBUaGUgY2FsZW5kYXIgeWVhci4gSWYgb21pdHRlZCAoYXMgaW4sIGNhbGwgYHV0YygpYCB3aXRoIG5vIGFyZ3VtZW50cyksIHRoZSBjdXJyZW50IHRpbWUgd2lsbCBiZSB1c2VkXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbbW9udGg9MV0gLSBUaGUgbW9udGgsIDEtaW5kZXhlZFxuICAgKiBAcGFyYW0ge251bWJlcn0gW2RheT0xXSAtIFRoZSBkYXkgb2YgdGhlIG1vbnRoXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbaG91cj0wXSAtIFRoZSBob3VyIG9mIHRoZSBkYXksIGluIDI0LWhvdXIgdGltZVxuICAgKiBAcGFyYW0ge251bWJlcn0gW21pbnV0ZT0wXSAtIFRoZSBtaW51dGUgb2YgdGhlIGhvdXIsIG1lYW5pbmcgYSBudW1iZXIgYmV0d2VlbiAwIGFuZCA1OVxuICAgKiBAcGFyYW0ge251bWJlcn0gW3NlY29uZD0wXSAtIFRoZSBzZWNvbmQgb2YgdGhlIG1pbnV0ZSwgbWVhbmluZyBhIG51bWJlciBiZXR3ZWVuIDAgYW5kIDU5XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbbWlsbGlzZWNvbmQ9MF0gLSBUaGUgbWlsbGlzZWNvbmQgb2YgdGhlIHNlY29uZCwgbWVhbmluZyBhIG51bWJlciBiZXR3ZWVuIDAgYW5kIDk5OVxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgdGhlIERhdGVUaW1lXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5sb2NhbGVdIC0gYSBsb2NhbGUgdG8gc2V0IG9uIHRoZSByZXN1bHRpbmcgRGF0ZVRpbWUgaW5zdGFuY2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLm91dHB1dENhbGVuZGFyXSAtIHRoZSBvdXRwdXQgY2FsZW5kYXIgdG8gc2V0IG9uIHRoZSByZXN1bHRpbmcgRGF0ZVRpbWUgaW5zdGFuY2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLm51bWJlcmluZ1N5c3RlbV0gLSB0aGUgbnVtYmVyaW5nIHN5c3RlbSB0byBzZXQgb24gdGhlIHJlc3VsdGluZyBEYXRlVGltZSBpbnN0YW5jZVxuICAgKiBAZXhhbXBsZSBEYXRlVGltZS51dGMoKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL34+IG5vd1xuICAgKiBAZXhhbXBsZSBEYXRlVGltZS51dGMoMjAxNykgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL34+IDIwMTctMDEtMDFUMDA6MDA6MDBaXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLnV0YygyMDE3LCAzKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vfj4gMjAxNy0wMy0wMVQwMDowMDowMFpcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUudXRjKDIwMTcsIDMsIDEyKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9+PiAyMDE3LTAzLTEyVDAwOjAwOjAwWlxuICAgKiBAZXhhbXBsZSBEYXRlVGltZS51dGMoMjAxNywgMywgMTIsIDUpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL34+IDIwMTctMDMtMTJUMDU6MDA6MDBaXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLnV0YygyMDE3LCAzLCAxMiwgNSwgNDUpICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vfj4gMjAxNy0wMy0xMlQwNTo0NTowMFpcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUudXRjKDIwMTcsIDMsIDEyLCA1LCA0NSwgeyBsb2NhbGU6IFwiZnJcIiB9KSAgICAgICAgICAvL34+IDIwMTctMDMtMTJUMDU6NDU6MDBaIHdpdGggYSBGcmVuY2ggbG9jYWxlXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLnV0YygyMDE3LCAzLCAxMiwgNSwgNDUsIDEwKSAgICAgICAgICAgICAgICAgICAgICAgIC8vfj4gMjAxNy0wMy0xMlQwNTo0NToxMFpcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUudXRjKDIwMTcsIDMsIDEyLCA1LCA0NSwgMTAsIDc2NSwgeyBsb2NhbGU6IFwiZnJcIiB9KSAvL34+IDIwMTctMDMtMTJUMDU6NDU6MTAuNzY1WiB3aXRoIGEgRnJlbmNoIGxvY2FsZVxuICAgKiBAcmV0dXJuIHtEYXRlVGltZX1cbiAgICovXG4gIDtcblxuICBEYXRlVGltZS51dGMgPSBmdW5jdGlvbiB1dGMoKSB7XG4gICAgdmFyIF9sYXN0T3B0czIgPSBsYXN0T3B0cyhhcmd1bWVudHMpLFxuICAgICAgICBvcHRzID0gX2xhc3RPcHRzMlswXSxcbiAgICAgICAgYXJncyA9IF9sYXN0T3B0czJbMV0sXG4gICAgICAgIHllYXIgPSBhcmdzWzBdLFxuICAgICAgICBtb250aCA9IGFyZ3NbMV0sXG4gICAgICAgIGRheSA9IGFyZ3NbMl0sXG4gICAgICAgIGhvdXIgPSBhcmdzWzNdLFxuICAgICAgICBtaW51dGUgPSBhcmdzWzRdLFxuICAgICAgICBzZWNvbmQgPSBhcmdzWzVdLFxuICAgICAgICBtaWxsaXNlY29uZCA9IGFyZ3NbNl07XG5cbiAgICBvcHRzLnpvbmUgPSBGaXhlZE9mZnNldFpvbmUudXRjSW5zdGFuY2U7XG4gICAgcmV0dXJuIHF1aWNrRFQoe1xuICAgICAgeWVhcjogeWVhcixcbiAgICAgIG1vbnRoOiBtb250aCxcbiAgICAgIGRheTogZGF5LFxuICAgICAgaG91cjogaG91cixcbiAgICAgIG1pbnV0ZTogbWludXRlLFxuICAgICAgc2Vjb25kOiBzZWNvbmQsXG4gICAgICBtaWxsaXNlY29uZDogbWlsbGlzZWNvbmRcbiAgICB9LCBvcHRzKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGEgRGF0ZVRpbWUgZnJvbSBhIEphdmFTY3JpcHQgRGF0ZSBvYmplY3QuIFVzZXMgdGhlIGRlZmF1bHQgem9uZS5cbiAgICogQHBhcmFtIHtEYXRlfSBkYXRlIC0gYSBKYXZhU2NyaXB0IERhdGUgb2JqZWN0XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gY29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB0aGUgRGF0ZVRpbWVcbiAgICogQHBhcmFtIHtzdHJpbmd8Wm9uZX0gW29wdGlvbnMuem9uZT0nbG9jYWwnXSAtIHRoZSB6b25lIHRvIHBsYWNlIHRoZSBEYXRlVGltZSBpbnRvXG4gICAqIEByZXR1cm4ge0RhdGVUaW1lfVxuICAgKi9cbiAgO1xuXG4gIERhdGVUaW1lLmZyb21KU0RhdGUgPSBmdW5jdGlvbiBmcm9tSlNEYXRlKGRhdGUsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgICBvcHRpb25zID0ge307XG4gICAgfVxuXG4gICAgdmFyIHRzID0gaXNEYXRlKGRhdGUpID8gZGF0ZS52YWx1ZU9mKCkgOiBOYU47XG5cbiAgICBpZiAoTnVtYmVyLmlzTmFOKHRzKSkge1xuICAgICAgcmV0dXJuIERhdGVUaW1lLmludmFsaWQoXCJpbnZhbGlkIGlucHV0XCIpO1xuICAgIH1cblxuICAgIHZhciB6b25lVG9Vc2UgPSBub3JtYWxpemVab25lKG9wdGlvbnMuem9uZSwgU2V0dGluZ3MuZGVmYXVsdFpvbmUpO1xuXG4gICAgaWYgKCF6b25lVG9Vc2UuaXNWYWxpZCkge1xuICAgICAgcmV0dXJuIERhdGVUaW1lLmludmFsaWQodW5zdXBwb3J0ZWRab25lKHpvbmVUb1VzZSkpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgRGF0ZVRpbWUoe1xuICAgICAgdHM6IHRzLFxuICAgICAgem9uZTogem9uZVRvVXNlLFxuICAgICAgbG9jOiBMb2NhbGUuZnJvbU9iamVjdChvcHRpb25zKVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBEYXRlVGltZSBmcm9tIGEgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBzaW5jZSB0aGUgZXBvY2ggKG1lYW5pbmcgc2luY2UgMSBKYW51YXJ5IDE5NzAgMDA6MDA6MDAgVVRDKS4gVXNlcyB0aGUgZGVmYXVsdCB6b25lLlxuICAgKiBAcGFyYW0ge251bWJlcn0gbWlsbGlzZWNvbmRzIC0gYSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHNpbmNlIDE5NzAgVVRDXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gY29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB0aGUgRGF0ZVRpbWVcbiAgICogQHBhcmFtIHtzdHJpbmd8Wm9uZX0gW29wdGlvbnMuem9uZT0nbG9jYWwnXSAtIHRoZSB6b25lIHRvIHBsYWNlIHRoZSBEYXRlVGltZSBpbnRvXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5sb2NhbGVdIC0gYSBsb2NhbGUgdG8gc2V0IG9uIHRoZSByZXN1bHRpbmcgRGF0ZVRpbWUgaW5zdGFuY2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMub3V0cHV0Q2FsZW5kYXIgLSB0aGUgb3V0cHV0IGNhbGVuZGFyIHRvIHNldCBvbiB0aGUgcmVzdWx0aW5nIERhdGVUaW1lIGluc3RhbmNlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLm51bWJlcmluZ1N5c3RlbSAtIHRoZSBudW1iZXJpbmcgc3lzdGVtIHRvIHNldCBvbiB0aGUgcmVzdWx0aW5nIERhdGVUaW1lIGluc3RhbmNlXG4gICAqIEByZXR1cm4ge0RhdGVUaW1lfVxuICAgKi9cbiAgO1xuXG4gIERhdGVUaW1lLmZyb21NaWxsaXMgPSBmdW5jdGlvbiBmcm9tTWlsbGlzKG1pbGxpc2Vjb25kcywgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAoIWlzTnVtYmVyKG1pbGxpc2Vjb25kcykpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcImZyb21NaWxsaXMgcmVxdWlyZXMgYSBudW1lcmljYWwgaW5wdXQsIGJ1dCByZWNlaXZlZCBhIFwiICsgdHlwZW9mIG1pbGxpc2Vjb25kcyArIFwiIHdpdGggdmFsdWUgXCIgKyBtaWxsaXNlY29uZHMpO1xuICAgIH0gZWxzZSBpZiAobWlsbGlzZWNvbmRzIDwgLU1BWF9EQVRFIHx8IG1pbGxpc2Vjb25kcyA+IE1BWF9EQVRFKSB7XG4gICAgICAvLyB0aGlzIGlzbid0IHBlcmZlY3QgYmVjYXVzZSBiZWNhdXNlIHdlIGNhbiBzdGlsbCBlbmQgdXAgb3V0IG9mIHJhbmdlIGJlY2F1c2Ugb2YgYWRkaXRpb25hbCBzaGlmdGluZywgYnV0IGl0J3MgYSBzdGFydFxuICAgICAgcmV0dXJuIERhdGVUaW1lLmludmFsaWQoXCJUaW1lc3RhbXAgb3V0IG9mIHJhbmdlXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IERhdGVUaW1lKHtcbiAgICAgICAgdHM6IG1pbGxpc2Vjb25kcyxcbiAgICAgICAgem9uZTogbm9ybWFsaXplWm9uZShvcHRpb25zLnpvbmUsIFNldHRpbmdzLmRlZmF1bHRab25lKSxcbiAgICAgICAgbG9jOiBMb2NhbGUuZnJvbU9iamVjdChvcHRpb25zKVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBEYXRlVGltZSBmcm9tIGEgbnVtYmVyIG9mIHNlY29uZHMgc2luY2UgdGhlIGVwb2NoIChtZWFuaW5nIHNpbmNlIDEgSmFudWFyeSAxOTcwIDAwOjAwOjAwIFVUQykuIFVzZXMgdGhlIGRlZmF1bHQgem9uZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHNlY29uZHMgLSBhIG51bWJlciBvZiBzZWNvbmRzIHNpbmNlIDE5NzAgVVRDXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gY29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB0aGUgRGF0ZVRpbWVcbiAgICogQHBhcmFtIHtzdHJpbmd8Wm9uZX0gW29wdGlvbnMuem9uZT0nbG9jYWwnXSAtIHRoZSB6b25lIHRvIHBsYWNlIHRoZSBEYXRlVGltZSBpbnRvXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5sb2NhbGVdIC0gYSBsb2NhbGUgdG8gc2V0IG9uIHRoZSByZXN1bHRpbmcgRGF0ZVRpbWUgaW5zdGFuY2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMub3V0cHV0Q2FsZW5kYXIgLSB0aGUgb3V0cHV0IGNhbGVuZGFyIHRvIHNldCBvbiB0aGUgcmVzdWx0aW5nIERhdGVUaW1lIGluc3RhbmNlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLm51bWJlcmluZ1N5c3RlbSAtIHRoZSBudW1iZXJpbmcgc3lzdGVtIHRvIHNldCBvbiB0aGUgcmVzdWx0aW5nIERhdGVUaW1lIGluc3RhbmNlXG4gICAqIEByZXR1cm4ge0RhdGVUaW1lfVxuICAgKi9cbiAgO1xuXG4gIERhdGVUaW1lLmZyb21TZWNvbmRzID0gZnVuY3Rpb24gZnJvbVNlY29uZHMoc2Vjb25kcywgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAoIWlzTnVtYmVyKHNlY29uZHMpKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoXCJmcm9tU2Vjb25kcyByZXF1aXJlcyBhIG51bWVyaWNhbCBpbnB1dFwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBEYXRlVGltZSh7XG4gICAgICAgIHRzOiBzZWNvbmRzICogMTAwMCxcbiAgICAgICAgem9uZTogbm9ybWFsaXplWm9uZShvcHRpb25zLnpvbmUsIFNldHRpbmdzLmRlZmF1bHRab25lKSxcbiAgICAgICAgbG9jOiBMb2NhbGUuZnJvbU9iamVjdChvcHRpb25zKVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBEYXRlVGltZSBmcm9tIGEgSmF2YVNjcmlwdCBvYmplY3Qgd2l0aCBrZXlzIGxpa2UgJ3llYXInIGFuZCAnaG91cicgd2l0aCByZWFzb25hYmxlIGRlZmF1bHRzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqIC0gdGhlIG9iamVjdCB0byBjcmVhdGUgdGhlIERhdGVUaW1lIGZyb21cbiAgICogQHBhcmFtIHtudW1iZXJ9IG9iai55ZWFyIC0gYSB5ZWFyLCBzdWNoIGFzIDE5ODdcbiAgICogQHBhcmFtIHtudW1iZXJ9IG9iai5tb250aCAtIGEgbW9udGgsIDEtMTJcbiAgICogQHBhcmFtIHtudW1iZXJ9IG9iai5kYXkgLSBhIGRheSBvZiB0aGUgbW9udGgsIDEtMzEsIGRlcGVuZGluZyBvbiB0aGUgbW9udGhcbiAgICogQHBhcmFtIHtudW1iZXJ9IG9iai5vcmRpbmFsIC0gZGF5IG9mIHRoZSB5ZWFyLCAxLTM2NSBvciAzNjZcbiAgICogQHBhcmFtIHtudW1iZXJ9IG9iai53ZWVrWWVhciAtIGFuIElTTyB3ZWVrIHllYXJcbiAgICogQHBhcmFtIHtudW1iZXJ9IG9iai53ZWVrTnVtYmVyIC0gYW4gSVNPIHdlZWsgbnVtYmVyLCBiZXR3ZWVuIDEgYW5kIDUyIG9yIDUzLCBkZXBlbmRpbmcgb24gdGhlIHllYXJcbiAgICogQHBhcmFtIHtudW1iZXJ9IG9iai53ZWVrZGF5IC0gYW4gSVNPIHdlZWtkYXksIDEtNywgd2hlcmUgMSBpcyBNb25kYXkgYW5kIDcgaXMgU3VuZGF5XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvYmouaG91ciAtIGhvdXIgb2YgdGhlIGRheSwgMC0yM1xuICAgKiBAcGFyYW0ge251bWJlcn0gb2JqLm1pbnV0ZSAtIG1pbnV0ZSBvZiB0aGUgaG91ciwgMC01OVxuICAgKiBAcGFyYW0ge251bWJlcn0gb2JqLnNlY29uZCAtIHNlY29uZCBvZiB0aGUgbWludXRlLCAwLTU5XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvYmoubWlsbGlzZWNvbmQgLSBtaWxsaXNlY29uZCBvZiB0aGUgc2Vjb25kLCAwLTk5OVxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0cyAtIG9wdGlvbnMgZm9yIGNyZWF0aW5nIHRoaXMgRGF0ZVRpbWVcbiAgICogQHBhcmFtIHtzdHJpbmd8Wm9uZX0gW29wdHMuem9uZT0nbG9jYWwnXSAtIGludGVycHJldCB0aGUgbnVtYmVycyBpbiB0aGUgY29udGV4dCBvZiBhIHBhcnRpY3VsYXIgem9uZS4gQ2FuIHRha2UgYW55IHZhbHVlIHRha2VuIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byBzZXRab25lKClcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLmxvY2FsZT0nc3lzdGVtJ3MgbG9jYWxlJ10gLSBhIGxvY2FsZSB0byBzZXQgb24gdGhlIHJlc3VsdGluZyBEYXRlVGltZSBpbnN0YW5jZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0cy5vdXRwdXRDYWxlbmRhciAtIHRoZSBvdXRwdXQgY2FsZW5kYXIgdG8gc2V0IG9uIHRoZSByZXN1bHRpbmcgRGF0ZVRpbWUgaW5zdGFuY2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdHMubnVtYmVyaW5nU3lzdGVtIC0gdGhlIG51bWJlcmluZyBzeXN0ZW0gdG8gc2V0IG9uIHRoZSByZXN1bHRpbmcgRGF0ZVRpbWUgaW5zdGFuY2VcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUuZnJvbU9iamVjdCh7IHllYXI6IDE5ODIsIG1vbnRoOiA1LCBkYXk6IDI1fSkudG9JU09EYXRlKCkgLy89PiAnMTk4Mi0wNS0yNSdcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUuZnJvbU9iamVjdCh7IHllYXI6IDE5ODIgfSkudG9JU09EYXRlKCkgLy89PiAnMTk4Mi0wMS0wMSdcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUuZnJvbU9iamVjdCh7IGhvdXI6IDEwLCBtaW51dGU6IDI2LCBzZWNvbmQ6IDYgfSkgLy9+PiB0b2RheSBhdCAxMDoyNjowNlxuICAgKiBAZXhhbXBsZSBEYXRlVGltZS5mcm9tT2JqZWN0KHsgaG91cjogMTAsIG1pbnV0ZTogMjYsIHNlY29uZDogNiB9LCB7IHpvbmU6ICd1dGMnIH0pLFxuICAgKiBAZXhhbXBsZSBEYXRlVGltZS5mcm9tT2JqZWN0KHsgaG91cjogMTAsIG1pbnV0ZTogMjYsIHNlY29uZDogNiB9LCB7IHpvbmU6ICdsb2NhbCcgfSlcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUuZnJvbU9iamVjdCh7IGhvdXI6IDEwLCBtaW51dGU6IDI2LCBzZWNvbmQ6IDYgfSwgeyB6b25lOiAnQW1lcmljYS9OZXdfWW9yaycgfSlcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUuZnJvbU9iamVjdCh7IHdlZWtZZWFyOiAyMDE2LCB3ZWVrTnVtYmVyOiAyLCB3ZWVrZGF5OiAzIH0pLnRvSVNPRGF0ZSgpIC8vPT4gJzIwMTYtMDEtMTMnXG4gICAqIEByZXR1cm4ge0RhdGVUaW1lfVxuICAgKi9cbiAgO1xuXG4gIERhdGVUaW1lLmZyb21PYmplY3QgPSBmdW5jdGlvbiBmcm9tT2JqZWN0KG9iaiwgb3B0cykge1xuICAgIGlmIChvcHRzID09PSB2b2lkIDApIHtcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG5cbiAgICBvYmogPSBvYmogfHwge307XG4gICAgdmFyIHpvbmVUb1VzZSA9IG5vcm1hbGl6ZVpvbmUob3B0cy56b25lLCBTZXR0aW5ncy5kZWZhdWx0Wm9uZSk7XG5cbiAgICBpZiAoIXpvbmVUb1VzZS5pc1ZhbGlkKSB7XG4gICAgICByZXR1cm4gRGF0ZVRpbWUuaW52YWxpZCh1bnN1cHBvcnRlZFpvbmUoem9uZVRvVXNlKSk7XG4gICAgfVxuXG4gICAgdmFyIHRzTm93ID0gU2V0dGluZ3Mubm93KCksXG4gICAgICAgIG9mZnNldFByb3ZpcyA9ICFpc1VuZGVmaW5lZChvcHRzLnNwZWNpZmljT2Zmc2V0KSA/IG9wdHMuc3BlY2lmaWNPZmZzZXQgOiB6b25lVG9Vc2Uub2Zmc2V0KHRzTm93KSxcbiAgICAgICAgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZU9iamVjdChvYmosIG5vcm1hbGl6ZVVuaXQpLFxuICAgICAgICBjb250YWluc09yZGluYWwgPSAhaXNVbmRlZmluZWQobm9ybWFsaXplZC5vcmRpbmFsKSxcbiAgICAgICAgY29udGFpbnNHcmVnb3JZZWFyID0gIWlzVW5kZWZpbmVkKG5vcm1hbGl6ZWQueWVhciksXG4gICAgICAgIGNvbnRhaW5zR3JlZ29yTUQgPSAhaXNVbmRlZmluZWQobm9ybWFsaXplZC5tb250aCkgfHwgIWlzVW5kZWZpbmVkKG5vcm1hbGl6ZWQuZGF5KSxcbiAgICAgICAgY29udGFpbnNHcmVnb3IgPSBjb250YWluc0dyZWdvclllYXIgfHwgY29udGFpbnNHcmVnb3JNRCxcbiAgICAgICAgZGVmaW5pdGVXZWVrRGVmID0gbm9ybWFsaXplZC53ZWVrWWVhciB8fCBub3JtYWxpemVkLndlZWtOdW1iZXIsXG4gICAgICAgIGxvYyA9IExvY2FsZS5mcm9tT2JqZWN0KG9wdHMpOyAvLyBjYXNlczpcbiAgICAvLyBqdXN0IGEgd2Vla2RheSAtPiB0aGlzIHdlZWsncyBpbnN0YW5jZSBvZiB0aGF0IHdlZWtkYXksIG5vIHdvcnJpZXNcbiAgICAvLyAoZ3JlZ29yaWFuIGRhdGEgb3Igb3JkaW5hbCkgKyAod2Vla1llYXIgb3Igd2Vla051bWJlcikgLT4gZXJyb3JcbiAgICAvLyAoZ3JlZ29yaWFuIG1vbnRoIG9yIGRheSkgKyBvcmRpbmFsIC0+IGVycm9yXG4gICAgLy8gb3RoZXJ3aXNlIGp1c3QgdXNlIHdlZWtzIG9yIG9yZGluYWxzIG9yIGdyZWdvcmlhbiwgZGVwZW5kaW5nIG9uIHdoYXQncyBzcGVjaWZpZWRcblxuICAgIGlmICgoY29udGFpbnNHcmVnb3IgfHwgY29udGFpbnNPcmRpbmFsKSAmJiBkZWZpbml0ZVdlZWtEZWYpIHtcbiAgICAgIHRocm93IG5ldyBDb25mbGljdGluZ1NwZWNpZmljYXRpb25FcnJvcihcIkNhbid0IG1peCB3ZWVrWWVhci93ZWVrTnVtYmVyIHVuaXRzIHdpdGggeWVhci9tb250aC9kYXkgb3Igb3JkaW5hbHNcIik7XG4gICAgfVxuXG4gICAgaWYgKGNvbnRhaW5zR3JlZ29yTUQgJiYgY29udGFpbnNPcmRpbmFsKSB7XG4gICAgICB0aHJvdyBuZXcgQ29uZmxpY3RpbmdTcGVjaWZpY2F0aW9uRXJyb3IoXCJDYW4ndCBtaXggb3JkaW5hbCBkYXRlcyB3aXRoIG1vbnRoL2RheVwiKTtcbiAgICB9XG5cbiAgICB2YXIgdXNlV2Vla0RhdGEgPSBkZWZpbml0ZVdlZWtEZWYgfHwgbm9ybWFsaXplZC53ZWVrZGF5ICYmICFjb250YWluc0dyZWdvcjsgLy8gY29uZmlndXJlIG91cnNlbHZlcyB0byBkZWFsIHdpdGggZ3JlZ29yaWFuIGRhdGVzIG9yIHdlZWsgc3R1ZmZcblxuICAgIHZhciB1bml0cyxcbiAgICAgICAgZGVmYXVsdFZhbHVlcyxcbiAgICAgICAgb2JqTm93ID0gdHNUb09iaih0c05vdywgb2Zmc2V0UHJvdmlzKTtcblxuICAgIGlmICh1c2VXZWVrRGF0YSkge1xuICAgICAgdW5pdHMgPSBvcmRlcmVkV2Vla1VuaXRzO1xuICAgICAgZGVmYXVsdFZhbHVlcyA9IGRlZmF1bHRXZWVrVW5pdFZhbHVlcztcbiAgICAgIG9iak5vdyA9IGdyZWdvcmlhblRvV2VlayhvYmpOb3cpO1xuICAgIH0gZWxzZSBpZiAoY29udGFpbnNPcmRpbmFsKSB7XG4gICAgICB1bml0cyA9IG9yZGVyZWRPcmRpbmFsVW5pdHM7XG4gICAgICBkZWZhdWx0VmFsdWVzID0gZGVmYXVsdE9yZGluYWxVbml0VmFsdWVzO1xuICAgICAgb2JqTm93ID0gZ3JlZ29yaWFuVG9PcmRpbmFsKG9iak5vdyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVuaXRzID0gb3JkZXJlZFVuaXRzO1xuICAgICAgZGVmYXVsdFZhbHVlcyA9IGRlZmF1bHRVbml0VmFsdWVzO1xuICAgIH0gLy8gc2V0IGRlZmF1bHQgdmFsdWVzIGZvciBtaXNzaW5nIHN0dWZmXG5cblxuICAgIHZhciBmb3VuZEZpcnN0ID0gZmFsc2U7XG5cbiAgICBmb3IgKHZhciBfaXRlcmF0b3IzID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXJMb29zZSh1bml0cyksIF9zdGVwMzsgIShfc3RlcDMgPSBfaXRlcmF0b3IzKCkpLmRvbmU7KSB7XG4gICAgICB2YXIgdSA9IF9zdGVwMy52YWx1ZTtcbiAgICAgIHZhciB2ID0gbm9ybWFsaXplZFt1XTtcblxuICAgICAgaWYgKCFpc1VuZGVmaW5lZCh2KSkge1xuICAgICAgICBmb3VuZEZpcnN0ID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAoZm91bmRGaXJzdCkge1xuICAgICAgICBub3JtYWxpemVkW3VdID0gZGVmYXVsdFZhbHVlc1t1XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vcm1hbGl6ZWRbdV0gPSBvYmpOb3dbdV07XG4gICAgICB9XG4gICAgfSAvLyBtYWtlIHN1cmUgdGhlIHZhbHVlcyB3ZSBoYXZlIGFyZSBpbiByYW5nZVxuXG5cbiAgICB2YXIgaGlnaGVyT3JkZXJJbnZhbGlkID0gdXNlV2Vla0RhdGEgPyBoYXNJbnZhbGlkV2Vla0RhdGEobm9ybWFsaXplZCkgOiBjb250YWluc09yZGluYWwgPyBoYXNJbnZhbGlkT3JkaW5hbERhdGEobm9ybWFsaXplZCkgOiBoYXNJbnZhbGlkR3JlZ29yaWFuRGF0YShub3JtYWxpemVkKSxcbiAgICAgICAgaW52YWxpZCA9IGhpZ2hlck9yZGVySW52YWxpZCB8fCBoYXNJbnZhbGlkVGltZURhdGEobm9ybWFsaXplZCk7XG5cbiAgICBpZiAoaW52YWxpZCkge1xuICAgICAgcmV0dXJuIERhdGVUaW1lLmludmFsaWQoaW52YWxpZCk7XG4gICAgfSAvLyBjb21wdXRlIHRoZSBhY3R1YWwgdGltZVxuXG5cbiAgICB2YXIgZ3JlZ29yaWFuID0gdXNlV2Vla0RhdGEgPyB3ZWVrVG9HcmVnb3JpYW4obm9ybWFsaXplZCkgOiBjb250YWluc09yZGluYWwgPyBvcmRpbmFsVG9HcmVnb3JpYW4obm9ybWFsaXplZCkgOiBub3JtYWxpemVkLFxuICAgICAgICBfb2JqVG9UUzIgPSBvYmpUb1RTKGdyZWdvcmlhbiwgb2Zmc2V0UHJvdmlzLCB6b25lVG9Vc2UpLFxuICAgICAgICB0c0ZpbmFsID0gX29ialRvVFMyWzBdLFxuICAgICAgICBvZmZzZXRGaW5hbCA9IF9vYmpUb1RTMlsxXSxcbiAgICAgICAgaW5zdCA9IG5ldyBEYXRlVGltZSh7XG4gICAgICB0czogdHNGaW5hbCxcbiAgICAgIHpvbmU6IHpvbmVUb1VzZSxcbiAgICAgIG86IG9mZnNldEZpbmFsLFxuICAgICAgbG9jOiBsb2NcbiAgICB9KTsgLy8gZ3JlZ29yaWFuIGRhdGEgKyB3ZWVrZGF5IHNlcnZlcyBvbmx5IHRvIHZhbGlkYXRlXG5cblxuICAgIGlmIChub3JtYWxpemVkLndlZWtkYXkgJiYgY29udGFpbnNHcmVnb3IgJiYgb2JqLndlZWtkYXkgIT09IGluc3Qud2Vla2RheSkge1xuICAgICAgcmV0dXJuIERhdGVUaW1lLmludmFsaWQoXCJtaXNtYXRjaGVkIHdlZWtkYXlcIiwgXCJ5b3UgY2FuJ3Qgc3BlY2lmeSBib3RoIGEgd2Vla2RheSBvZiBcIiArIG5vcm1hbGl6ZWQud2Vla2RheSArIFwiIGFuZCBhIGRhdGUgb2YgXCIgKyBpbnN0LnRvSVNPKCkpO1xuICAgIH1cblxuICAgIHJldHVybiBpbnN0O1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBEYXRlVGltZSBmcm9tIGFuIElTTyA4NjAxIHN0cmluZ1xuICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIHRoZSBJU08gc3RyaW5nXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gb3B0aW9ucyB0byBhZmZlY3QgdGhlIGNyZWF0aW9uXG4gICAqIEBwYXJhbSB7c3RyaW5nfFpvbmV9IFtvcHRzLnpvbmU9J2xvY2FsJ10gLSB1c2UgdGhpcyB6b25lIGlmIG5vIG9mZnNldCBpcyBzcGVjaWZpZWQgaW4gdGhlIGlucHV0IHN0cmluZyBpdHNlbGYuIFdpbGwgYWxzbyBjb252ZXJ0IHRoZSB0aW1lIHRvIHRoaXMgem9uZVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLnNldFpvbmU9ZmFsc2VdIC0gb3ZlcnJpZGUgdGhlIHpvbmUgd2l0aCBhIGZpeGVkLW9mZnNldCB6b25lIHNwZWNpZmllZCBpbiB0aGUgc3RyaW5nIGl0c2VsZiwgaWYgaXQgc3BlY2lmaWVzIG9uZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMubG9jYWxlPSdzeXN0ZW0ncyBsb2NhbGUnXSAtIGEgbG9jYWxlIHRvIHNldCBvbiB0aGUgcmVzdWx0aW5nIERhdGVUaW1lIGluc3RhbmNlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5vdXRwdXRDYWxlbmRhcl0gLSB0aGUgb3V0cHV0IGNhbGVuZGFyIHRvIHNldCBvbiB0aGUgcmVzdWx0aW5nIERhdGVUaW1lIGluc3RhbmNlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5udW1iZXJpbmdTeXN0ZW1dIC0gdGhlIG51bWJlcmluZyBzeXN0ZW0gdG8gc2V0IG9uIHRoZSByZXN1bHRpbmcgRGF0ZVRpbWUgaW5zdGFuY2VcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUuZnJvbUlTTygnMjAxNi0wNS0yNVQwOTowODozNC4xMjMnKVxuICAgKiBAZXhhbXBsZSBEYXRlVGltZS5mcm9tSVNPKCcyMDE2LTA1LTI1VDA5OjA4OjM0LjEyMyswNjowMCcpXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLmZyb21JU08oJzIwMTYtMDUtMjVUMDk6MDg6MzQuMTIzKzA2OjAwJywge3NldFpvbmU6IHRydWV9KVxuICAgKiBAZXhhbXBsZSBEYXRlVGltZS5mcm9tSVNPKCcyMDE2LTA1LTI1VDA5OjA4OjM0LjEyMycsIHt6b25lOiAndXRjJ30pXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLmZyb21JU08oJzIwMTYtVzA1LTQnKVxuICAgKiBAcmV0dXJuIHtEYXRlVGltZX1cbiAgICovXG4gIDtcblxuICBEYXRlVGltZS5mcm9tSVNPID0gZnVuY3Rpb24gZnJvbUlTTyh0ZXh0LCBvcHRzKSB7XG4gICAgaWYgKG9wdHMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cblxuICAgIHZhciBfcGFyc2VJU09EYXRlID0gcGFyc2VJU09EYXRlKHRleHQpLFxuICAgICAgICB2YWxzID0gX3BhcnNlSVNPRGF0ZVswXSxcbiAgICAgICAgcGFyc2VkWm9uZSA9IF9wYXJzZUlTT0RhdGVbMV07XG5cbiAgICByZXR1cm4gcGFyc2VEYXRhVG9EYXRlVGltZSh2YWxzLCBwYXJzZWRab25lLCBvcHRzLCBcIklTTyA4NjAxXCIsIHRleHQpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBEYXRlVGltZSBmcm9tIGFuIFJGQyAyODIyIHN0cmluZ1xuICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIHRoZSBSRkMgMjgyMiBzdHJpbmdcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdHMgLSBvcHRpb25zIHRvIGFmZmVjdCB0aGUgY3JlYXRpb25cbiAgICogQHBhcmFtIHtzdHJpbmd8Wm9uZX0gW29wdHMuem9uZT0nbG9jYWwnXSAtIGNvbnZlcnQgdGhlIHRpbWUgdG8gdGhpcyB6b25lLiBTaW5jZSB0aGUgb2Zmc2V0IGlzIGFsd2F5cyBzcGVjaWZpZWQgaW4gdGhlIHN0cmluZyBpdHNlbGYsIHRoaXMgaGFzIG5vIGVmZmVjdCBvbiB0aGUgaW50ZXJwcmV0YXRpb24gb2Ygc3RyaW5nLCBtZXJlbHkgdGhlIHpvbmUgdGhlIHJlc3VsdGluZyBEYXRlVGltZSBpcyBleHByZXNzZWQgaW4uXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMuc2V0Wm9uZT1mYWxzZV0gLSBvdmVycmlkZSB0aGUgem9uZSB3aXRoIGEgZml4ZWQtb2Zmc2V0IHpvbmUgc3BlY2lmaWVkIGluIHRoZSBzdHJpbmcgaXRzZWxmLCBpZiBpdCBzcGVjaWZpZXMgb25lXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5sb2NhbGU9J3N5c3RlbSdzIGxvY2FsZSddIC0gYSBsb2NhbGUgdG8gc2V0IG9uIHRoZSByZXN1bHRpbmcgRGF0ZVRpbWUgaW5zdGFuY2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdHMub3V0cHV0Q2FsZW5kYXIgLSB0aGUgb3V0cHV0IGNhbGVuZGFyIHRvIHNldCBvbiB0aGUgcmVzdWx0aW5nIERhdGVUaW1lIGluc3RhbmNlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRzLm51bWJlcmluZ1N5c3RlbSAtIHRoZSBudW1iZXJpbmcgc3lzdGVtIHRvIHNldCBvbiB0aGUgcmVzdWx0aW5nIERhdGVUaW1lIGluc3RhbmNlXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLmZyb21SRkMyODIyKCcyNSBOb3YgMjAxNiAxMzoyMzoxMiBHTVQnKVxuICAgKiBAZXhhbXBsZSBEYXRlVGltZS5mcm9tUkZDMjgyMignRnJpLCAyNSBOb3YgMjAxNiAxMzoyMzoxMiArMDYwMCcpXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLmZyb21SRkMyODIyKCcyNSBOb3YgMjAxNiAxMzoyMyBaJylcbiAgICogQHJldHVybiB7RGF0ZVRpbWV9XG4gICAqL1xuICA7XG5cbiAgRGF0ZVRpbWUuZnJvbVJGQzI4MjIgPSBmdW5jdGlvbiBmcm9tUkZDMjgyMih0ZXh0LCBvcHRzKSB7XG4gICAgaWYgKG9wdHMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cblxuICAgIHZhciBfcGFyc2VSRkMyODIyRGF0ZSA9IHBhcnNlUkZDMjgyMkRhdGUodGV4dCksXG4gICAgICAgIHZhbHMgPSBfcGFyc2VSRkMyODIyRGF0ZVswXSxcbiAgICAgICAgcGFyc2VkWm9uZSA9IF9wYXJzZVJGQzI4MjJEYXRlWzFdO1xuXG4gICAgcmV0dXJuIHBhcnNlRGF0YVRvRGF0ZVRpbWUodmFscywgcGFyc2VkWm9uZSwgb3B0cywgXCJSRkMgMjgyMlwiLCB0ZXh0KTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGEgRGF0ZVRpbWUgZnJvbSBhbiBIVFRQIGhlYWRlciBkYXRlXG4gICAqIEBzZWUgaHR0cHM6Ly93d3cudzMub3JnL1Byb3RvY29scy9yZmMyNjE2L3JmYzI2MTYtc2VjMy5odG1sI3NlYzMuMy4xXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gdGhlIEhUVFAgaGVhZGVyIGRhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdHMgLSBvcHRpb25zIHRvIGFmZmVjdCB0aGUgY3JlYXRpb25cbiAgICogQHBhcmFtIHtzdHJpbmd8Wm9uZX0gW29wdHMuem9uZT0nbG9jYWwnXSAtIGNvbnZlcnQgdGhlIHRpbWUgdG8gdGhpcyB6b25lLiBTaW5jZSBIVFRQIGRhdGVzIGFyZSBhbHdheXMgaW4gVVRDLCB0aGlzIGhhcyBubyBlZmZlY3Qgb24gdGhlIGludGVycHJldGF0aW9uIG9mIHN0cmluZywgbWVyZWx5IHRoZSB6b25lIHRoZSByZXN1bHRpbmcgRGF0ZVRpbWUgaXMgZXhwcmVzc2VkIGluLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLnNldFpvbmU9ZmFsc2VdIC0gb3ZlcnJpZGUgdGhlIHpvbmUgd2l0aCB0aGUgZml4ZWQtb2Zmc2V0IHpvbmUgc3BlY2lmaWVkIGluIHRoZSBzdHJpbmcuIEZvciBIVFRQIGRhdGVzLCB0aGlzIGlzIGFsd2F5cyBVVEMsIHNvIHRoaXMgb3B0aW9uIGlzIGVxdWl2YWxlbnQgdG8gc2V0dGluZyB0aGUgYHpvbmVgIG9wdGlvbiB0byAndXRjJywgYnV0IHRoaXMgb3B0aW9uIGlzIGluY2x1ZGVkIGZvciBjb25zaXN0ZW5jeSB3aXRoIHNpbWlsYXIgbWV0aG9kcy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLmxvY2FsZT0nc3lzdGVtJ3MgbG9jYWxlJ10gLSBhIGxvY2FsZSB0byBzZXQgb24gdGhlIHJlc3VsdGluZyBEYXRlVGltZSBpbnN0YW5jZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0cy5vdXRwdXRDYWxlbmRhciAtIHRoZSBvdXRwdXQgY2FsZW5kYXIgdG8gc2V0IG9uIHRoZSByZXN1bHRpbmcgRGF0ZVRpbWUgaW5zdGFuY2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdHMubnVtYmVyaW5nU3lzdGVtIC0gdGhlIG51bWJlcmluZyBzeXN0ZW0gdG8gc2V0IG9uIHRoZSByZXN1bHRpbmcgRGF0ZVRpbWUgaW5zdGFuY2VcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUuZnJvbUhUVFAoJ1N1biwgMDYgTm92IDE5OTQgMDg6NDk6MzcgR01UJylcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUuZnJvbUhUVFAoJ1N1bmRheSwgMDYtTm92LTk0IDA4OjQ5OjM3IEdNVCcpXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLmZyb21IVFRQKCdTdW4gTm92ICA2IDA4OjQ5OjM3IDE5OTQnKVxuICAgKiBAcmV0dXJuIHtEYXRlVGltZX1cbiAgICovXG4gIDtcblxuICBEYXRlVGltZS5mcm9tSFRUUCA9IGZ1bmN0aW9uIGZyb21IVFRQKHRleHQsIG9wdHMpIHtcbiAgICBpZiAob3B0cyA9PT0gdm9pZCAwKSB7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuXG4gICAgdmFyIF9wYXJzZUhUVFBEYXRlID0gcGFyc2VIVFRQRGF0ZSh0ZXh0KSxcbiAgICAgICAgdmFscyA9IF9wYXJzZUhUVFBEYXRlWzBdLFxuICAgICAgICBwYXJzZWRab25lID0gX3BhcnNlSFRUUERhdGVbMV07XG5cbiAgICByZXR1cm4gcGFyc2VEYXRhVG9EYXRlVGltZSh2YWxzLCBwYXJzZWRab25lLCBvcHRzLCBcIkhUVFBcIiwgb3B0cyk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhIERhdGVUaW1lIGZyb20gYW4gaW5wdXQgc3RyaW5nIGFuZCBmb3JtYXQgc3RyaW5nLlxuICAgKiBEZWZhdWx0cyB0byBlbi1VUyBpZiBubyBsb2NhbGUgaGFzIGJlZW4gc3BlY2lmaWVkLCByZWdhcmRsZXNzIG9mIHRoZSBzeXN0ZW0ncyBsb2NhbGUuIEZvciBhIHRhYmxlIG9mIHRva2VucyBhbmQgdGhlaXIgaW50ZXJwcmV0YXRpb25zLCBzZWUgW2hlcmVdKGh0dHBzOi8vbW9tZW50LmdpdGh1Yi5pby9sdXhvbi8jL3BhcnNpbmc/aWQ9dGFibGUtb2YtdG9rZW5zKS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSB0aGUgc3RyaW5nIHRvIHBhcnNlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmbXQgLSB0aGUgZm9ybWF0IHRoZSBzdHJpbmcgaXMgZXhwZWN0ZWQgdG8gYmUgaW4gKHNlZSB0aGUgbGluayBiZWxvdyBmb3IgdGhlIGZvcm1hdHMpXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gb3B0aW9ucyB0byBhZmZlY3QgdGhlIGNyZWF0aW9uXG4gICAqIEBwYXJhbSB7c3RyaW5nfFpvbmV9IFtvcHRzLnpvbmU9J2xvY2FsJ10gLSB1c2UgdGhpcyB6b25lIGlmIG5vIG9mZnNldCBpcyBzcGVjaWZpZWQgaW4gdGhlIGlucHV0IHN0cmluZyBpdHNlbGYuIFdpbGwgYWxzbyBjb252ZXJ0IHRoZSBEYXRlVGltZSB0byB0aGlzIHpvbmVcbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5zZXRab25lPWZhbHNlXSAtIG92ZXJyaWRlIHRoZSB6b25lIHdpdGggYSB6b25lIHNwZWNpZmllZCBpbiB0aGUgc3RyaW5nIGl0c2VsZiwgaWYgaXQgc3BlY2lmaWVzIG9uZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMubG9jYWxlPSdlbi1VUyddIC0gYSBsb2NhbGUgc3RyaW5nIHRvIHVzZSB3aGVuIHBhcnNpbmcuIFdpbGwgYWxzbyBzZXQgdGhlIERhdGVUaW1lIHRvIHRoaXMgbG9jYWxlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRzLm51bWJlcmluZ1N5c3RlbSAtIHRoZSBudW1iZXJpbmcgc3lzdGVtIHRvIHVzZSB3aGVuIHBhcnNpbmcuIFdpbGwgYWxzbyBzZXQgdGhlIHJlc3VsdGluZyBEYXRlVGltZSB0byB0aGlzIG51bWJlcmluZyBzeXN0ZW1cbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdHMub3V0cHV0Q2FsZW5kYXIgLSB0aGUgb3V0cHV0IGNhbGVuZGFyIHRvIHNldCBvbiB0aGUgcmVzdWx0aW5nIERhdGVUaW1lIGluc3RhbmNlXG4gICAqIEByZXR1cm4ge0RhdGVUaW1lfVxuICAgKi9cbiAgO1xuXG4gIERhdGVUaW1lLmZyb21Gb3JtYXQgPSBmdW5jdGlvbiBmcm9tRm9ybWF0KHRleHQsIGZtdCwgb3B0cykge1xuICAgIGlmIChvcHRzID09PSB2b2lkIDApIHtcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAoaXNVbmRlZmluZWQodGV4dCkgfHwgaXNVbmRlZmluZWQoZm10KSkge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFwiZnJvbUZvcm1hdCByZXF1aXJlcyBhbiBpbnB1dCBzdHJpbmcgYW5kIGEgZm9ybWF0XCIpO1xuICAgIH1cblxuICAgIHZhciBfb3B0cyA9IG9wdHMsXG4gICAgICAgIF9vcHRzJGxvY2FsZSA9IF9vcHRzLmxvY2FsZSxcbiAgICAgICAgbG9jYWxlID0gX29wdHMkbG9jYWxlID09PSB2b2lkIDAgPyBudWxsIDogX29wdHMkbG9jYWxlLFxuICAgICAgICBfb3B0cyRudW1iZXJpbmdTeXN0ZW0gPSBfb3B0cy5udW1iZXJpbmdTeXN0ZW0sXG4gICAgICAgIG51bWJlcmluZ1N5c3RlbSA9IF9vcHRzJG51bWJlcmluZ1N5c3RlbSA9PT0gdm9pZCAwID8gbnVsbCA6IF9vcHRzJG51bWJlcmluZ1N5c3RlbSxcbiAgICAgICAgbG9jYWxlVG9Vc2UgPSBMb2NhbGUuZnJvbU9wdHMoe1xuICAgICAgbG9jYWxlOiBsb2NhbGUsXG4gICAgICBudW1iZXJpbmdTeXN0ZW06IG51bWJlcmluZ1N5c3RlbSxcbiAgICAgIGRlZmF1bHRUb0VOOiB0cnVlXG4gICAgfSksXG4gICAgICAgIF9wYXJzZUZyb21Ub2tlbnMgPSBwYXJzZUZyb21Ub2tlbnMobG9jYWxlVG9Vc2UsIHRleHQsIGZtdCksXG4gICAgICAgIHZhbHMgPSBfcGFyc2VGcm9tVG9rZW5zWzBdLFxuICAgICAgICBwYXJzZWRab25lID0gX3BhcnNlRnJvbVRva2Vuc1sxXSxcbiAgICAgICAgc3BlY2lmaWNPZmZzZXQgPSBfcGFyc2VGcm9tVG9rZW5zWzJdLFxuICAgICAgICBpbnZhbGlkID0gX3BhcnNlRnJvbVRva2Vuc1szXTtcblxuICAgIGlmIChpbnZhbGlkKSB7XG4gICAgICByZXR1cm4gRGF0ZVRpbWUuaW52YWxpZChpbnZhbGlkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHBhcnNlRGF0YVRvRGF0ZVRpbWUodmFscywgcGFyc2VkWm9uZSwgb3B0cywgXCJmb3JtYXQgXCIgKyBmbXQsIHRleHQsIHNwZWNpZmljT2Zmc2V0KTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIHVzZSBmcm9tRm9ybWF0IGluc3RlYWRcbiAgICovXG4gIDtcblxuICBEYXRlVGltZS5mcm9tU3RyaW5nID0gZnVuY3Rpb24gZnJvbVN0cmluZyh0ZXh0LCBmbXQsIG9wdHMpIHtcbiAgICBpZiAob3B0cyA9PT0gdm9pZCAwKSB7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuXG4gICAgcmV0dXJuIERhdGVUaW1lLmZyb21Gb3JtYXQodGV4dCwgZm10LCBvcHRzKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGEgRGF0ZVRpbWUgZnJvbSBhIFNRTCBkYXRlLCB0aW1lLCBvciBkYXRldGltZVxuICAgKiBEZWZhdWx0cyB0byBlbi1VUyBpZiBubyBsb2NhbGUgaGFzIGJlZW4gc3BlY2lmaWVkLCByZWdhcmRsZXNzIG9mIHRoZSBzeXN0ZW0ncyBsb2NhbGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSB0aGUgc3RyaW5nIHRvIHBhcnNlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gb3B0aW9ucyB0byBhZmZlY3QgdGhlIGNyZWF0aW9uXG4gICAqIEBwYXJhbSB7c3RyaW5nfFpvbmV9IFtvcHRzLnpvbmU9J2xvY2FsJ10gLSB1c2UgdGhpcyB6b25lIGlmIG5vIG9mZnNldCBpcyBzcGVjaWZpZWQgaW4gdGhlIGlucHV0IHN0cmluZyBpdHNlbGYuIFdpbGwgYWxzbyBjb252ZXJ0IHRoZSBEYXRlVGltZSB0byB0aGlzIHpvbmVcbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5zZXRab25lPWZhbHNlXSAtIG92ZXJyaWRlIHRoZSB6b25lIHdpdGggYSB6b25lIHNwZWNpZmllZCBpbiB0aGUgc3RyaW5nIGl0c2VsZiwgaWYgaXQgc3BlY2lmaWVzIG9uZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMubG9jYWxlPSdlbi1VUyddIC0gYSBsb2NhbGUgc3RyaW5nIHRvIHVzZSB3aGVuIHBhcnNpbmcuIFdpbGwgYWxzbyBzZXQgdGhlIERhdGVUaW1lIHRvIHRoaXMgbG9jYWxlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRzLm51bWJlcmluZ1N5c3RlbSAtIHRoZSBudW1iZXJpbmcgc3lzdGVtIHRvIHVzZSB3aGVuIHBhcnNpbmcuIFdpbGwgYWxzbyBzZXQgdGhlIHJlc3VsdGluZyBEYXRlVGltZSB0byB0aGlzIG51bWJlcmluZyBzeXN0ZW1cbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdHMub3V0cHV0Q2FsZW5kYXIgLSB0aGUgb3V0cHV0IGNhbGVuZGFyIHRvIHNldCBvbiB0aGUgcmVzdWx0aW5nIERhdGVUaW1lIGluc3RhbmNlXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLmZyb21TUUwoJzIwMTctMDUtMTUnKVxuICAgKiBAZXhhbXBsZSBEYXRlVGltZS5mcm9tU1FMKCcyMDE3LTA1LTE1IDA5OjEyOjM0JylcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUuZnJvbVNRTCgnMjAxNy0wNS0xNSAwOToxMjozNC4zNDInKVxuICAgKiBAZXhhbXBsZSBEYXRlVGltZS5mcm9tU1FMKCcyMDE3LTA1LTE1IDA5OjEyOjM0LjM0MiswNjowMCcpXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLmZyb21TUUwoJzIwMTctMDUtMTUgMDk6MTI6MzQuMzQyIEFtZXJpY2EvTG9zX0FuZ2VsZXMnKVxuICAgKiBAZXhhbXBsZSBEYXRlVGltZS5mcm9tU1FMKCcyMDE3LTA1LTE1IDA5OjEyOjM0LjM0MiBBbWVyaWNhL0xvc19BbmdlbGVzJywgeyBzZXRab25lOiB0cnVlIH0pXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLmZyb21TUUwoJzIwMTctMDUtMTUgMDk6MTI6MzQuMzQyJywgeyB6b25lOiAnQW1lcmljYS9Mb3NfQW5nZWxlcycgfSlcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUuZnJvbVNRTCgnMDk6MTI6MzQuMzQyJylcbiAgICogQHJldHVybiB7RGF0ZVRpbWV9XG4gICAqL1xuICA7XG5cbiAgRGF0ZVRpbWUuZnJvbVNRTCA9IGZ1bmN0aW9uIGZyb21TUUwodGV4dCwgb3B0cykge1xuICAgIGlmIChvcHRzID09PSB2b2lkIDApIHtcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG5cbiAgICB2YXIgX3BhcnNlU1FMID0gcGFyc2VTUUwodGV4dCksXG4gICAgICAgIHZhbHMgPSBfcGFyc2VTUUxbMF0sXG4gICAgICAgIHBhcnNlZFpvbmUgPSBfcGFyc2VTUUxbMV07XG5cbiAgICByZXR1cm4gcGFyc2VEYXRhVG9EYXRlVGltZSh2YWxzLCBwYXJzZWRab25lLCBvcHRzLCBcIlNRTFwiLCB0ZXh0KTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGFuIGludmFsaWQgRGF0ZVRpbWUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSByZWFzb24gLSBzaW1wbGUgc3RyaW5nIG9mIHdoeSB0aGlzIERhdGVUaW1lIGlzIGludmFsaWQuIFNob3VsZCBub3QgY29udGFpbiBwYXJhbWV0ZXJzIG9yIGFueXRoaW5nIGVsc2UgZGF0YS1kZXBlbmRlbnRcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtleHBsYW5hdGlvbj1udWxsXSAtIGxvbmdlciBleHBsYW5hdGlvbiwgbWF5IGluY2x1ZGUgcGFyYW1ldGVycyBhbmQgb3RoZXIgdXNlZnVsIGRlYnVnZ2luZyBpbmZvcm1hdGlvblxuICAgKiBAcmV0dXJuIHtEYXRlVGltZX1cbiAgICovXG4gIDtcblxuICBEYXRlVGltZS5pbnZhbGlkID0gZnVuY3Rpb24gaW52YWxpZChyZWFzb24sIGV4cGxhbmF0aW9uKSB7XG4gICAgaWYgKGV4cGxhbmF0aW9uID09PSB2b2lkIDApIHtcbiAgICAgIGV4cGxhbmF0aW9uID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoIXJlYXNvbikge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFwibmVlZCB0byBzcGVjaWZ5IGEgcmVhc29uIHRoZSBEYXRlVGltZSBpcyBpbnZhbGlkXCIpO1xuICAgIH1cblxuICAgIHZhciBpbnZhbGlkID0gcmVhc29uIGluc3RhbmNlb2YgSW52YWxpZCA/IHJlYXNvbiA6IG5ldyBJbnZhbGlkKHJlYXNvbiwgZXhwbGFuYXRpb24pO1xuXG4gICAgaWYgKFNldHRpbmdzLnRocm93T25JbnZhbGlkKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZERhdGVUaW1lRXJyb3IoaW52YWxpZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBuZXcgRGF0ZVRpbWUoe1xuICAgICAgICBpbnZhbGlkOiBpbnZhbGlkXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGlmIGFuIG9iamVjdCBpcyBhbiBpbnN0YW5jZSBvZiBEYXRlVGltZS4gV29ya3MgYWNyb3NzIGNvbnRleHQgYm91bmRhcmllc1xuICAgKiBAcGFyYW0ge29iamVjdH0gb1xuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgO1xuXG4gIERhdGVUaW1lLmlzRGF0ZVRpbWUgPSBmdW5jdGlvbiBpc0RhdGVUaW1lKG8pIHtcbiAgICByZXR1cm4gbyAmJiBvLmlzTHV4b25EYXRlVGltZSB8fCBmYWxzZTtcbiAgfSAvLyBJTkZPXG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdmFsdWUgb2YgdW5pdC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHVuaXQgLSBhIHVuaXQgc3VjaCBhcyAnbWludXRlJyBvciAnZGF5J1xuICAgKiBAZXhhbXBsZSBEYXRlVGltZS5sb2NhbCgyMDE3LCA3LCA0KS5nZXQoJ21vbnRoJyk7IC8vPT4gN1xuICAgKiBAZXhhbXBsZSBEYXRlVGltZS5sb2NhbCgyMDE3LCA3LCA0KS5nZXQoJ2RheScpOyAvLz0+IDRcbiAgICogQHJldHVybiB7bnVtYmVyfVxuICAgKi9cbiAgO1xuXG4gIHZhciBfcHJvdG8gPSBEYXRlVGltZS5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmdldCA9IGZ1bmN0aW9uIGdldCh1bml0KSB7XG4gICAgcmV0dXJuIHRoaXNbdW5pdF07XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgd2hldGhlciB0aGUgRGF0ZVRpbWUgaXMgdmFsaWQuIEludmFsaWQgRGF0ZVRpbWVzIG9jY3VyIHdoZW46XG4gICAqICogVGhlIERhdGVUaW1lIHdhcyBjcmVhdGVkIGZyb20gaW52YWxpZCBjYWxlbmRhciBpbmZvcm1hdGlvbiwgc3VjaCBhcyB0aGUgMTN0aCBtb250aCBvciBGZWJydWFyeSAzMFxuICAgKiAqIFRoZSBEYXRlVGltZSB3YXMgY3JlYXRlZCBieSBhbiBvcGVyYXRpb24gb24gYW5vdGhlciBpbnZhbGlkIGRhdGVcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqL1xuICA7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHJlc29sdmVkIEludGwgb3B0aW9ucyBmb3IgdGhpcyBEYXRlVGltZS5cbiAgICogVGhpcyBpcyB1c2VmdWwgaW4gdW5kZXJzdGFuZGluZyB0aGUgYmVoYXZpb3Igb2YgZm9ybWF0dGluZyBtZXRob2RzXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gdGhlIHNhbWUgb3B0aW9ucyBhcyB0b0xvY2FsZVN0cmluZ1xuICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAqL1xuICBfcHJvdG8ucmVzb2x2ZWRMb2NhbGVPcHRpb25zID0gZnVuY3Rpb24gcmVzb2x2ZWRMb2NhbGVPcHRpb25zKG9wdHMpIHtcbiAgICBpZiAob3B0cyA9PT0gdm9pZCAwKSB7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuXG4gICAgdmFyIF9Gb3JtYXR0ZXIkY3JlYXRlJHJlcyA9IEZvcm1hdHRlci5jcmVhdGUodGhpcy5sb2MuY2xvbmUob3B0cyksIG9wdHMpLnJlc29sdmVkT3B0aW9ucyh0aGlzKSxcbiAgICAgICAgbG9jYWxlID0gX0Zvcm1hdHRlciRjcmVhdGUkcmVzLmxvY2FsZSxcbiAgICAgICAgbnVtYmVyaW5nU3lzdGVtID0gX0Zvcm1hdHRlciRjcmVhdGUkcmVzLm51bWJlcmluZ1N5c3RlbSxcbiAgICAgICAgY2FsZW5kYXIgPSBfRm9ybWF0dGVyJGNyZWF0ZSRyZXMuY2FsZW5kYXI7XG5cbiAgICByZXR1cm4ge1xuICAgICAgbG9jYWxlOiBsb2NhbGUsXG4gICAgICBudW1iZXJpbmdTeXN0ZW06IG51bWJlcmluZ1N5c3RlbSxcbiAgICAgIG91dHB1dENhbGVuZGFyOiBjYWxlbmRhclxuICAgIH07XG4gIH0gLy8gVFJBTlNGT1JNXG5cbiAgLyoqXG4gICAqIFwiU2V0XCIgdGhlIERhdGVUaW1lJ3Mgem9uZSB0byBVVEMuIFJldHVybnMgYSBuZXdseS1jb25zdHJ1Y3RlZCBEYXRlVGltZS5cbiAgICpcbiAgICogRXF1aXZhbGVudCB0byB7QGxpbmsgRGF0ZVRpbWUjc2V0Wm9uZX0oJ3V0YycpXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb2Zmc2V0PTBdIC0gb3B0aW9uYWxseSwgYW4gb2Zmc2V0IGZyb20gVVRDIGluIG1pbnV0ZXNcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRzPXt9XSAtIG9wdGlvbnMgdG8gcGFzcyB0byBgc2V0Wm9uZSgpYFxuICAgKiBAcmV0dXJuIHtEYXRlVGltZX1cbiAgICovXG4gIDtcblxuICBfcHJvdG8udG9VVEMgPSBmdW5jdGlvbiB0b1VUQyhvZmZzZXQsIG9wdHMpIHtcbiAgICBpZiAob2Zmc2V0ID09PSB2b2lkIDApIHtcbiAgICAgIG9mZnNldCA9IDA7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnNldFpvbmUoRml4ZWRPZmZzZXRab25lLmluc3RhbmNlKG9mZnNldCksIG9wdHMpO1xuICB9XG4gIC8qKlxuICAgKiBcIlNldFwiIHRoZSBEYXRlVGltZSdzIHpvbmUgdG8gdGhlIGhvc3QncyBsb2NhbCB6b25lLiBSZXR1cm5zIGEgbmV3bHktY29uc3RydWN0ZWQgRGF0ZVRpbWUuXG4gICAqXG4gICAqIEVxdWl2YWxlbnQgdG8gYHNldFpvbmUoJ2xvY2FsJylgXG4gICAqIEByZXR1cm4ge0RhdGVUaW1lfVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by50b0xvY2FsID0gZnVuY3Rpb24gdG9Mb2NhbCgpIHtcbiAgICByZXR1cm4gdGhpcy5zZXRab25lKFNldHRpbmdzLmRlZmF1bHRab25lKTtcbiAgfVxuICAvKipcbiAgICogXCJTZXRcIiB0aGUgRGF0ZVRpbWUncyB6b25lIHRvIHNwZWNpZmllZCB6b25lLiBSZXR1cm5zIGEgbmV3bHktY29uc3RydWN0ZWQgRGF0ZVRpbWUuXG4gICAqXG4gICAqIEJ5IGRlZmF1bHQsIHRoZSBzZXR0ZXIga2VlcHMgdGhlIHVuZGVybHlpbmcgdGltZSB0aGUgc2FtZSAoYXMgaW4sIHRoZSBzYW1lIHRpbWVzdGFtcCksIGJ1dCB0aGUgbmV3IGluc3RhbmNlIHdpbGwgcmVwb3J0IGRpZmZlcmVudCBsb2NhbCB0aW1lcyBhbmQgY29uc2lkZXIgRFNUcyB3aGVuIG1ha2luZyBjb21wdXRhdGlvbnMsIGFzIHdpdGgge0BsaW5rIERhdGVUaW1lI3BsdXN9LiBZb3UgbWF5IHdpc2ggdG8gdXNlIHtAbGluayBEYXRlVGltZSN0b0xvY2FsfSBhbmQge0BsaW5rIERhdGVUaW1lI3RvVVRDfSB3aGljaCBwcm92aWRlIHNpbXBsZSBjb252ZW5pZW5jZSB3cmFwcGVycyBmb3IgY29tbW9ubHkgdXNlZCB6b25lcy5cbiAgICogQHBhcmFtIHtzdHJpbmd8Wm9uZX0gW3pvbmU9J2xvY2FsJ10gLSBhIHpvbmUgaWRlbnRpZmllci4gQXMgYSBzdHJpbmcsIHRoYXQgY2FuIGJlIGFueSBJQU5BIHpvbmUgc3VwcG9ydGVkIGJ5IHRoZSBob3N0IGVudmlyb25tZW50LCBvciBhIGZpeGVkLW9mZnNldCBuYW1lIG9mIHRoZSBmb3JtICdVVEMrMycsIG9yIHRoZSBzdHJpbmdzICdsb2NhbCcgb3IgJ3V0YycuIFlvdSBtYXkgYWxzbyBzdXBwbHkgYW4gaW5zdGFuY2Ugb2YgYSB7QGxpbmsgRGF0ZVRpbWUjWm9uZX0gY2xhc3MuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gb3B0aW9uc1xuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLmtlZXBMb2NhbFRpbWU9ZmFsc2VdIC0gSWYgdHJ1ZSwgYWRqdXN0IHRoZSB1bmRlcmx5aW5nIHRpbWUgc28gdGhhdCB0aGUgbG9jYWwgdGltZSBzdGF5cyB0aGUgc2FtZSwgYnV0IGluIHRoZSB0YXJnZXQgem9uZS4gWW91IHNob3VsZCByYXJlbHkgbmVlZCB0aGlzLlxuICAgKiBAcmV0dXJuIHtEYXRlVGltZX1cbiAgICovXG4gIDtcblxuICBfcHJvdG8uc2V0Wm9uZSA9IGZ1bmN0aW9uIHNldFpvbmUoem9uZSwgX3RlbXApIHtcbiAgICB2YXIgX3JlZjIgPSBfdGVtcCA9PT0gdm9pZCAwID8ge30gOiBfdGVtcCxcbiAgICAgICAgX3JlZjIka2VlcExvY2FsVGltZSA9IF9yZWYyLmtlZXBMb2NhbFRpbWUsXG4gICAgICAgIGtlZXBMb2NhbFRpbWUgPSBfcmVmMiRrZWVwTG9jYWxUaW1lID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYyJGtlZXBMb2NhbFRpbWUsXG4gICAgICAgIF9yZWYyJGtlZXBDYWxlbmRhclRpbSA9IF9yZWYyLmtlZXBDYWxlbmRhclRpbWUsXG4gICAgICAgIGtlZXBDYWxlbmRhclRpbWUgPSBfcmVmMiRrZWVwQ2FsZW5kYXJUaW0gPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjIka2VlcENhbGVuZGFyVGltO1xuXG4gICAgem9uZSA9IG5vcm1hbGl6ZVpvbmUoem9uZSwgU2V0dGluZ3MuZGVmYXVsdFpvbmUpO1xuXG4gICAgaWYgKHpvbmUuZXF1YWxzKHRoaXMuem9uZSkpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gZWxzZSBpZiAoIXpvbmUuaXNWYWxpZCkge1xuICAgICAgcmV0dXJuIERhdGVUaW1lLmludmFsaWQodW5zdXBwb3J0ZWRab25lKHpvbmUpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIG5ld1RTID0gdGhpcy50cztcblxuICAgICAgaWYgKGtlZXBMb2NhbFRpbWUgfHwga2VlcENhbGVuZGFyVGltZSkge1xuICAgICAgICB2YXIgb2Zmc2V0R3Vlc3MgPSB6b25lLm9mZnNldCh0aGlzLnRzKTtcbiAgICAgICAgdmFyIGFzT2JqID0gdGhpcy50b09iamVjdCgpO1xuXG4gICAgICAgIHZhciBfb2JqVG9UUzMgPSBvYmpUb1RTKGFzT2JqLCBvZmZzZXRHdWVzcywgem9uZSk7XG5cbiAgICAgICAgbmV3VFMgPSBfb2JqVG9UUzNbMF07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjbG9uZSh0aGlzLCB7XG4gICAgICAgIHRzOiBuZXdUUyxcbiAgICAgICAgem9uZTogem9uZVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBcIlNldFwiIHRoZSBsb2NhbGUsIG51bWJlcmluZ1N5c3RlbSwgb3Igb3V0cHV0Q2FsZW5kYXIuIFJldHVybnMgYSBuZXdseS1jb25zdHJ1Y3RlZCBEYXRlVGltZS5cbiAgICogQHBhcmFtIHtPYmplY3R9IHByb3BlcnRpZXMgLSB0aGUgcHJvcGVydGllcyB0byBzZXRcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoMjAxNywgNSwgMjUpLnJlY29uZmlndXJlKHsgbG9jYWxlOiAnZW4tR0InIH0pXG4gICAqIEByZXR1cm4ge0RhdGVUaW1lfVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5yZWNvbmZpZ3VyZSA9IGZ1bmN0aW9uIHJlY29uZmlndXJlKF90ZW1wMikge1xuICAgIHZhciBfcmVmMyA9IF90ZW1wMiA9PT0gdm9pZCAwID8ge30gOiBfdGVtcDIsXG4gICAgICAgIGxvY2FsZSA9IF9yZWYzLmxvY2FsZSxcbiAgICAgICAgbnVtYmVyaW5nU3lzdGVtID0gX3JlZjMubnVtYmVyaW5nU3lzdGVtLFxuICAgICAgICBvdXRwdXRDYWxlbmRhciA9IF9yZWYzLm91dHB1dENhbGVuZGFyO1xuXG4gICAgdmFyIGxvYyA9IHRoaXMubG9jLmNsb25lKHtcbiAgICAgIGxvY2FsZTogbG9jYWxlLFxuICAgICAgbnVtYmVyaW5nU3lzdGVtOiBudW1iZXJpbmdTeXN0ZW0sXG4gICAgICBvdXRwdXRDYWxlbmRhcjogb3V0cHV0Q2FsZW5kYXJcbiAgICB9KTtcbiAgICByZXR1cm4gY2xvbmUodGhpcywge1xuICAgICAgbG9jOiBsb2NcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogXCJTZXRcIiB0aGUgbG9jYWxlLiBSZXR1cm5zIGEgbmV3bHktY29uc3RydWN0ZWQgRGF0ZVRpbWUuXG4gICAqIEp1c3QgYSBjb252ZW5pZW50IGFsaWFzIGZvciByZWNvbmZpZ3VyZSh7IGxvY2FsZSB9KVxuICAgKiBAZXhhbXBsZSBEYXRlVGltZS5sb2NhbCgyMDE3LCA1LCAyNSkuc2V0TG9jYWxlKCdlbi1HQicpXG4gICAqIEByZXR1cm4ge0RhdGVUaW1lfVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5zZXRMb2NhbGUgPSBmdW5jdGlvbiBzZXRMb2NhbGUobG9jYWxlKSB7XG4gICAgcmV0dXJuIHRoaXMucmVjb25maWd1cmUoe1xuICAgICAgbG9jYWxlOiBsb2NhbGVcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogXCJTZXRcIiB0aGUgdmFsdWVzIG9mIHNwZWNpZmllZCB1bml0cy4gUmV0dXJucyBhIG5ld2x5LWNvbnN0cnVjdGVkIERhdGVUaW1lLlxuICAgKiBZb3UgY2FuIG9ubHkgc2V0IHVuaXRzIHdpdGggdGhpcyBtZXRob2Q7IGZvciBcInNldHRpbmdcIiBtZXRhZGF0YSwgc2VlIHtAbGluayBEYXRlVGltZSNyZWNvbmZpZ3VyZX0gYW5kIHtAbGluayBEYXRlVGltZSNzZXRab25lfS5cbiAgICogQHBhcmFtIHtPYmplY3R9IHZhbHVlcyAtIGEgbWFwcGluZyBvZiB1bml0cyB0byBudW1iZXJzXG4gICAqIEBleGFtcGxlIGR0LnNldCh7IHllYXI6IDIwMTcgfSlcbiAgICogQGV4YW1wbGUgZHQuc2V0KHsgaG91cjogOCwgbWludXRlOiAzMCB9KVxuICAgKiBAZXhhbXBsZSBkdC5zZXQoeyB3ZWVrZGF5OiA1IH0pXG4gICAqIEBleGFtcGxlIGR0LnNldCh7IHllYXI6IDIwMDUsIG9yZGluYWw6IDIzNCB9KVxuICAgKiBAcmV0dXJuIHtEYXRlVGltZX1cbiAgICovXG4gIDtcblxuICBfcHJvdG8uc2V0ID0gZnVuY3Rpb24gc2V0KHZhbHVlcykge1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKSByZXR1cm4gdGhpcztcbiAgICB2YXIgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZU9iamVjdCh2YWx1ZXMsIG5vcm1hbGl6ZVVuaXQpLFxuICAgICAgICBzZXR0aW5nV2Vla1N0dWZmID0gIWlzVW5kZWZpbmVkKG5vcm1hbGl6ZWQud2Vla1llYXIpIHx8ICFpc1VuZGVmaW5lZChub3JtYWxpemVkLndlZWtOdW1iZXIpIHx8ICFpc1VuZGVmaW5lZChub3JtYWxpemVkLndlZWtkYXkpLFxuICAgICAgICBjb250YWluc09yZGluYWwgPSAhaXNVbmRlZmluZWQobm9ybWFsaXplZC5vcmRpbmFsKSxcbiAgICAgICAgY29udGFpbnNHcmVnb3JZZWFyID0gIWlzVW5kZWZpbmVkKG5vcm1hbGl6ZWQueWVhciksXG4gICAgICAgIGNvbnRhaW5zR3JlZ29yTUQgPSAhaXNVbmRlZmluZWQobm9ybWFsaXplZC5tb250aCkgfHwgIWlzVW5kZWZpbmVkKG5vcm1hbGl6ZWQuZGF5KSxcbiAgICAgICAgY29udGFpbnNHcmVnb3IgPSBjb250YWluc0dyZWdvclllYXIgfHwgY29udGFpbnNHcmVnb3JNRCxcbiAgICAgICAgZGVmaW5pdGVXZWVrRGVmID0gbm9ybWFsaXplZC53ZWVrWWVhciB8fCBub3JtYWxpemVkLndlZWtOdW1iZXI7XG5cbiAgICBpZiAoKGNvbnRhaW5zR3JlZ29yIHx8IGNvbnRhaW5zT3JkaW5hbCkgJiYgZGVmaW5pdGVXZWVrRGVmKSB7XG4gICAgICB0aHJvdyBuZXcgQ29uZmxpY3RpbmdTcGVjaWZpY2F0aW9uRXJyb3IoXCJDYW4ndCBtaXggd2Vla1llYXIvd2Vla051bWJlciB1bml0cyB3aXRoIHllYXIvbW9udGgvZGF5IG9yIG9yZGluYWxzXCIpO1xuICAgIH1cblxuICAgIGlmIChjb250YWluc0dyZWdvck1EICYmIGNvbnRhaW5zT3JkaW5hbCkge1xuICAgICAgdGhyb3cgbmV3IENvbmZsaWN0aW5nU3BlY2lmaWNhdGlvbkVycm9yKFwiQ2FuJ3QgbWl4IG9yZGluYWwgZGF0ZXMgd2l0aCBtb250aC9kYXlcIik7XG4gICAgfVxuXG4gICAgdmFyIG1peGVkO1xuXG4gICAgaWYgKHNldHRpbmdXZWVrU3R1ZmYpIHtcbiAgICAgIG1peGVkID0gd2Vla1RvR3JlZ29yaWFuKF9leHRlbmRzKHt9LCBncmVnb3JpYW5Ub1dlZWsodGhpcy5jKSwgbm9ybWFsaXplZCkpO1xuICAgIH0gZWxzZSBpZiAoIWlzVW5kZWZpbmVkKG5vcm1hbGl6ZWQub3JkaW5hbCkpIHtcbiAgICAgIG1peGVkID0gb3JkaW5hbFRvR3JlZ29yaWFuKF9leHRlbmRzKHt9LCBncmVnb3JpYW5Ub09yZGluYWwodGhpcy5jKSwgbm9ybWFsaXplZCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBtaXhlZCA9IF9leHRlbmRzKHt9LCB0aGlzLnRvT2JqZWN0KCksIG5vcm1hbGl6ZWQpOyAvLyBpZiB3ZSBkaWRuJ3Qgc2V0IHRoZSBkYXkgYnV0IHdlIGVuZGVkIHVwIG9uIGFuIG92ZXJmbG93IGRhdGUsXG4gICAgICAvLyB1c2UgdGhlIGxhc3QgZGF5IG9mIHRoZSByaWdodCBtb250aFxuXG4gICAgICBpZiAoaXNVbmRlZmluZWQobm9ybWFsaXplZC5kYXkpKSB7XG4gICAgICAgIG1peGVkLmRheSA9IE1hdGgubWluKGRheXNJbk1vbnRoKG1peGVkLnllYXIsIG1peGVkLm1vbnRoKSwgbWl4ZWQuZGF5KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgX29ialRvVFM0ID0gb2JqVG9UUyhtaXhlZCwgdGhpcy5vLCB0aGlzLnpvbmUpLFxuICAgICAgICB0cyA9IF9vYmpUb1RTNFswXSxcbiAgICAgICAgbyA9IF9vYmpUb1RTNFsxXTtcblxuICAgIHJldHVybiBjbG9uZSh0aGlzLCB7XG4gICAgICB0czogdHMsXG4gICAgICBvOiBvXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEFkZCBhIHBlcmlvZCBvZiB0aW1lIHRvIHRoaXMgRGF0ZVRpbWUgYW5kIHJldHVybiB0aGUgcmVzdWx0aW5nIERhdGVUaW1lXG4gICAqXG4gICAqIEFkZGluZyBob3VycywgbWludXRlcywgc2Vjb25kcywgb3IgbWlsbGlzZWNvbmRzIGluY3JlYXNlcyB0aGUgdGltZXN0YW1wIGJ5IHRoZSByaWdodCBudW1iZXIgb2YgbWlsbGlzZWNvbmRzLiBBZGRpbmcgZGF5cywgbW9udGhzLCBvciB5ZWFycyBzaGlmdHMgdGhlIGNhbGVuZGFyLCBhY2NvdW50aW5nIGZvciBEU1RzIGFuZCBsZWFwIHllYXJzIGFsb25nIHRoZSB3YXkuIFRodXMsIGBkdC5wbHVzKHsgaG91cnM6IDI0IH0pYCBtYXkgcmVzdWx0IGluIGEgZGlmZmVyZW50IHRpbWUgdGhhbiBgZHQucGx1cyh7IGRheXM6IDEgfSlgIGlmIHRoZXJlJ3MgYSBEU1Qgc2hpZnQgaW4gYmV0d2Vlbi5cbiAgICogQHBhcmFtIHtEdXJhdGlvbnxPYmplY3R8bnVtYmVyfSBkdXJhdGlvbiAtIFRoZSBhbW91bnQgdG8gYWRkLiBFaXRoZXIgYSBMdXhvbiBEdXJhdGlvbiwgYSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzLCB0aGUgb2JqZWN0IGFyZ3VtZW50IHRvIER1cmF0aW9uLmZyb21PYmplY3QoKVxuICAgKiBAZXhhbXBsZSBEYXRlVGltZS5ub3coKS5wbHVzKDEyMykgLy9+PiBpbiAxMjMgbWlsbGlzZWNvbmRzXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLm5vdygpLnBsdXMoeyBtaW51dGVzOiAxNSB9KSAvL34+IGluIDE1IG1pbnV0ZXNcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUubm93KCkucGx1cyh7IGRheXM6IDEgfSkgLy9+PiB0aGlzIHRpbWUgdG9tb3Jyb3dcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUubm93KCkucGx1cyh7IGRheXM6IC0xIH0pIC8vfj4gdGhpcyB0aW1lIHllc3RlcmRheVxuICAgKiBAZXhhbXBsZSBEYXRlVGltZS5ub3coKS5wbHVzKHsgaG91cnM6IDMsIG1pbnV0ZXM6IDEzIH0pIC8vfj4gaW4gMyBociwgMTMgbWluXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLm5vdygpLnBsdXMoRHVyYXRpb24uZnJvbU9iamVjdCh7IGhvdXJzOiAzLCBtaW51dGVzOiAxMyB9KSkgLy9+PiBpbiAzIGhyLCAxMyBtaW5cbiAgICogQHJldHVybiB7RGF0ZVRpbWV9XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnBsdXMgPSBmdW5jdGlvbiBwbHVzKGR1cmF0aW9uKSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQpIHJldHVybiB0aGlzO1xuICAgIHZhciBkdXIgPSBEdXJhdGlvbi5mcm9tRHVyYXRpb25MaWtlKGR1cmF0aW9uKTtcbiAgICByZXR1cm4gY2xvbmUodGhpcywgYWRqdXN0VGltZSh0aGlzLCBkdXIpKTtcbiAgfVxuICAvKipcbiAgICogU3VidHJhY3QgYSBwZXJpb2Qgb2YgdGltZSB0byB0aGlzIERhdGVUaW1lIGFuZCByZXR1cm4gdGhlIHJlc3VsdGluZyBEYXRlVGltZVxuICAgKiBTZWUge0BsaW5rIERhdGVUaW1lI3BsdXN9XG4gICAqIEBwYXJhbSB7RHVyYXRpb258T2JqZWN0fG51bWJlcn0gZHVyYXRpb24gLSBUaGUgYW1vdW50IHRvIHN1YnRyYWN0LiBFaXRoZXIgYSBMdXhvbiBEdXJhdGlvbiwgYSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzLCB0aGUgb2JqZWN0IGFyZ3VtZW50IHRvIER1cmF0aW9uLmZyb21PYmplY3QoKVxuICAgQHJldHVybiB7RGF0ZVRpbWV9XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLm1pbnVzID0gZnVuY3Rpb24gbWludXMoZHVyYXRpb24pIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCkgcmV0dXJuIHRoaXM7XG4gICAgdmFyIGR1ciA9IER1cmF0aW9uLmZyb21EdXJhdGlvbkxpa2UoZHVyYXRpb24pLm5lZ2F0ZSgpO1xuICAgIHJldHVybiBjbG9uZSh0aGlzLCBhZGp1c3RUaW1lKHRoaXMsIGR1cikpO1xuICB9XG4gIC8qKlxuICAgKiBcIlNldFwiIHRoaXMgRGF0ZVRpbWUgdG8gdGhlIGJlZ2lubmluZyBvZiBhIHVuaXQgb2YgdGltZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHVuaXQgLSBUaGUgdW5pdCB0byBnbyB0byB0aGUgYmVnaW5uaW5nIG9mLiBDYW4gYmUgJ3llYXInLCAncXVhcnRlcicsICdtb250aCcsICd3ZWVrJywgJ2RheScsICdob3VyJywgJ21pbnV0ZScsICdzZWNvbmQnLCBvciAnbWlsbGlzZWNvbmQnLlxuICAgKiBAZXhhbXBsZSBEYXRlVGltZS5sb2NhbCgyMDE0LCAzLCAzKS5zdGFydE9mKCdtb250aCcpLnRvSVNPRGF0ZSgpOyAvLz0+ICcyMDE0LTAzLTAxJ1xuICAgKiBAZXhhbXBsZSBEYXRlVGltZS5sb2NhbCgyMDE0LCAzLCAzKS5zdGFydE9mKCd5ZWFyJykudG9JU09EYXRlKCk7IC8vPT4gJzIwMTQtMDEtMDEnXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTQsIDMsIDMpLnN0YXJ0T2YoJ3dlZWsnKS50b0lTT0RhdGUoKTsgLy89PiAnMjAxNC0wMy0wMycsIHdlZWtzIGFsd2F5cyBzdGFydCBvbiBNb25kYXlzXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTQsIDMsIDMsIDUsIDMwKS5zdGFydE9mKCdkYXknKS50b0lTT1RpbWUoKTsgLy89PiAnMDA6MDAuMDAwLTA1OjAwJ1xuICAgKiBAZXhhbXBsZSBEYXRlVGltZS5sb2NhbCgyMDE0LCAzLCAzLCA1LCAzMCkuc3RhcnRPZignaG91cicpLnRvSVNPVGltZSgpOyAvLz0+ICcwNTowMDowMC4wMDAtMDU6MDAnXG4gICAqIEByZXR1cm4ge0RhdGVUaW1lfVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5zdGFydE9mID0gZnVuY3Rpb24gc3RhcnRPZih1bml0KSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQpIHJldHVybiB0aGlzO1xuICAgIHZhciBvID0ge30sXG4gICAgICAgIG5vcm1hbGl6ZWRVbml0ID0gRHVyYXRpb24ubm9ybWFsaXplVW5pdCh1bml0KTtcblxuICAgIHN3aXRjaCAobm9ybWFsaXplZFVuaXQpIHtcbiAgICAgIGNhc2UgXCJ5ZWFyc1wiOlxuICAgICAgICBvLm1vbnRoID0gMTtcbiAgICAgIC8vIGZhbGxzIHRocm91Z2hcblxuICAgICAgY2FzZSBcInF1YXJ0ZXJzXCI6XG4gICAgICBjYXNlIFwibW9udGhzXCI6XG4gICAgICAgIG8uZGF5ID0gMTtcbiAgICAgIC8vIGZhbGxzIHRocm91Z2hcblxuICAgICAgY2FzZSBcIndlZWtzXCI6XG4gICAgICBjYXNlIFwiZGF5c1wiOlxuICAgICAgICBvLmhvdXIgPSAwO1xuICAgICAgLy8gZmFsbHMgdGhyb3VnaFxuXG4gICAgICBjYXNlIFwiaG91cnNcIjpcbiAgICAgICAgby5taW51dGUgPSAwO1xuICAgICAgLy8gZmFsbHMgdGhyb3VnaFxuXG4gICAgICBjYXNlIFwibWludXRlc1wiOlxuICAgICAgICBvLnNlY29uZCA9IDA7XG4gICAgICAvLyBmYWxscyB0aHJvdWdoXG5cbiAgICAgIGNhc2UgXCJzZWNvbmRzXCI6XG4gICAgICAgIG8ubWlsbGlzZWNvbmQgPSAwO1xuICAgICAgICBicmVhaztcbiAgICAgIC8vIG5vIGRlZmF1bHQsIGludmFsaWQgdW5pdHMgdGhyb3cgaW4gbm9ybWFsaXplVW5pdCgpXG4gICAgfVxuXG4gICAgaWYgKG5vcm1hbGl6ZWRVbml0ID09PSBcIndlZWtzXCIpIHtcbiAgICAgIG8ud2Vla2RheSA9IDE7XG4gICAgfVxuXG4gICAgaWYgKG5vcm1hbGl6ZWRVbml0ID09PSBcInF1YXJ0ZXJzXCIpIHtcbiAgICAgIHZhciBxID0gTWF0aC5jZWlsKHRoaXMubW9udGggLyAzKTtcbiAgICAgIG8ubW9udGggPSAocSAtIDEpICogMyArIDE7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuc2V0KG8pO1xuICB9XG4gIC8qKlxuICAgKiBcIlNldFwiIHRoaXMgRGF0ZVRpbWUgdG8gdGhlIGVuZCAobWVhbmluZyB0aGUgbGFzdCBtaWxsaXNlY29uZCkgb2YgYSB1bml0IG9mIHRpbWVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHVuaXQgLSBUaGUgdW5pdCB0byBnbyB0byB0aGUgZW5kIG9mLiBDYW4gYmUgJ3llYXInLCAncXVhcnRlcicsICdtb250aCcsICd3ZWVrJywgJ2RheScsICdob3VyJywgJ21pbnV0ZScsICdzZWNvbmQnLCBvciAnbWlsbGlzZWNvbmQnLlxuICAgKiBAZXhhbXBsZSBEYXRlVGltZS5sb2NhbCgyMDE0LCAzLCAzKS5lbmRPZignbW9udGgnKS50b0lTTygpOyAvLz0+ICcyMDE0LTAzLTMxVDIzOjU5OjU5Ljk5OS0wNTowMCdcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoMjAxNCwgMywgMykuZW5kT2YoJ3llYXInKS50b0lTTygpOyAvLz0+ICcyMDE0LTEyLTMxVDIzOjU5OjU5Ljk5OS0wNTowMCdcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoMjAxNCwgMywgMykuZW5kT2YoJ3dlZWsnKS50b0lTTygpOyAvLyA9PiAnMjAxNC0wMy0wOVQyMzo1OTo1OS45OTktMDU6MDAnLCB3ZWVrcyBzdGFydCBvbiBNb25kYXlzXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTQsIDMsIDMsIDUsIDMwKS5lbmRPZignZGF5JykudG9JU08oKTsgLy89PiAnMjAxNC0wMy0wM1QyMzo1OTo1OS45OTktMDU6MDAnXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTQsIDMsIDMsIDUsIDMwKS5lbmRPZignaG91cicpLnRvSVNPKCk7IC8vPT4gJzIwMTQtMDMtMDNUMDU6NTk6NTkuOTk5LTA1OjAwJ1xuICAgKiBAcmV0dXJuIHtEYXRlVGltZX1cbiAgICovXG4gIDtcblxuICBfcHJvdG8uZW5kT2YgPSBmdW5jdGlvbiBlbmRPZih1bml0KSB7XG4gICAgdmFyIF90aGlzJHBsdXM7XG5cbiAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gdGhpcy5wbHVzKChfdGhpcyRwbHVzID0ge30sIF90aGlzJHBsdXNbdW5pdF0gPSAxLCBfdGhpcyRwbHVzKSkuc3RhcnRPZih1bml0KS5taW51cygxKSA6IHRoaXM7XG4gIH0gLy8gT1VUUFVUXG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBEYXRlVGltZSBmb3JtYXR0ZWQgYWNjb3JkaW5nIHRvIHRoZSBzcGVjaWZpZWQgZm9ybWF0IHN0cmluZy5cbiAgICogKipZb3UgbWF5IG5vdCB3YW50IHRoaXMuKiogU2VlIHtAbGluayBEYXRlVGltZSN0b0xvY2FsZVN0cmluZ30gZm9yIGEgbW9yZSBmbGV4aWJsZSBmb3JtYXR0aW5nIHRvb2wuIEZvciBhIHRhYmxlIG9mIHRva2VucyBhbmQgdGhlaXIgaW50ZXJwcmV0YXRpb25zLCBzZWUgW2hlcmVdKGh0dHBzOi8vbW9tZW50LmdpdGh1Yi5pby9sdXhvbi8jL2Zvcm1hdHRpbmc/aWQ9dGFibGUtb2YtdG9rZW5zKS5cbiAgICogRGVmYXVsdHMgdG8gZW4tVVMgaWYgbm8gbG9jYWxlIGhhcyBiZWVuIHNwZWNpZmllZCwgcmVnYXJkbGVzcyBvZiB0aGUgc3lzdGVtJ3MgbG9jYWxlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZm10IC0gdGhlIGZvcm1hdCBzdHJpbmdcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdHMgLSBvcHRzIHRvIG92ZXJyaWRlIHRoZSBjb25maWd1cmF0aW9uIG9wdGlvbnMgb24gdGhpcyBEYXRlVGltZVxuICAgKiBAZXhhbXBsZSBEYXRlVGltZS5ub3coKS50b0Zvcm1hdCgneXl5eSBMTEwgZGQnKSAvLz0+ICcyMDE3IEFwciAyMidcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUubm93KCkuc2V0TG9jYWxlKCdmcicpLnRvRm9ybWF0KCd5eXl5IExMTCBkZCcpIC8vPT4gJzIwMTcgYXZyLiAyMidcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUubm93KCkudG9Gb3JtYXQoJ3l5eXkgTExMIGRkJywgeyBsb2NhbGU6IFwiZnJcIiB9KSAvLz0+ICcyMDE3IGF2ci4gMjInXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLm5vdygpLnRvRm9ybWF0KFwiSEggJ2hvdXJzIGFuZCcgbW0gJ21pbnV0ZXMnXCIpIC8vPT4gJzIwIGhvdXJzIGFuZCA1NSBtaW51dGVzJ1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnRvRm9ybWF0ID0gZnVuY3Rpb24gdG9Gb3JtYXQoZm10LCBvcHRzKSB7XG4gICAgaWYgKG9wdHMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmlzVmFsaWQgPyBGb3JtYXR0ZXIuY3JlYXRlKHRoaXMubG9jLnJlZGVmYXVsdFRvRU4ob3B0cykpLmZvcm1hdERhdGVUaW1lRnJvbVN0cmluZyh0aGlzLCBmbXQpIDogSU5WQUxJRDtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhIGxvY2FsaXplZCBzdHJpbmcgcmVwcmVzZW50aW5nIHRoaXMgZGF0ZS4gQWNjZXB0cyB0aGUgc2FtZSBvcHRpb25zIGFzIHRoZSBJbnRsLkRhdGVUaW1lRm9ybWF0IGNvbnN0cnVjdG9yIGFuZCBhbnkgcHJlc2V0cyBkZWZpbmVkIGJ5IEx1eG9uLCBzdWNoIGFzIGBEYXRlVGltZS5EQVRFX0ZVTExgIG9yIGBEYXRlVGltZS5USU1FX1NJTVBMRWAuXG4gICAqIFRoZSBleGFjdCBiZWhhdmlvciBvZiB0aGlzIG1ldGhvZCBpcyBicm93c2VyLXNwZWNpZmljLCBidXQgaW4gZ2VuZXJhbCBpdCB3aWxsIHJldHVybiBhbiBhcHByb3ByaWF0ZSByZXByZXNlbnRhdGlvblxuICAgKiBvZiB0aGUgRGF0ZVRpbWUgaW4gdGhlIGFzc2lnbmVkIGxvY2FsZS5cbiAgICogRGVmYXVsdHMgdG8gdGhlIHN5c3RlbSdzIGxvY2FsZSBpZiBubyBsb2NhbGUgaGFzIGJlZW4gc3BlY2lmaWVkXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvRGF0ZVRpbWVGb3JtYXRcbiAgICogQHBhcmFtIGZvcm1hdE9wdHMge09iamVjdH0gLSBJbnRsLkRhdGVUaW1lRm9ybWF0IGNvbnN0cnVjdG9yIG9wdGlvbnMgYW5kIGNvbmZpZ3VyYXRpb24gb3B0aW9uc1xuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0cyAtIG9wdHMgdG8gb3ZlcnJpZGUgdGhlIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyBvbiB0aGlzIERhdGVUaW1lXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLm5vdygpLnRvTG9jYWxlU3RyaW5nKCk7IC8vPT4gNC8yMC8yMDE3XG4gICAqIEBleGFtcGxlIERhdGVUaW1lLm5vdygpLnNldExvY2FsZSgnZW4tZ2InKS50b0xvY2FsZVN0cmluZygpOyAvLz0+ICcyMC8wNC8yMDE3J1xuICAgKiBAZXhhbXBsZSBEYXRlVGltZS5ub3coKS50b0xvY2FsZVN0cmluZyh7IGxvY2FsZTogJ2VuLWdiJyB9KTsgLy89PiAnMjAvMDQvMjAxNydcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUubm93KCkudG9Mb2NhbGVTdHJpbmcoRGF0ZVRpbWUuREFURV9GVUxMKTsgLy89PiAnQXByaWwgMjAsIDIwMTcnXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLm5vdygpLnRvTG9jYWxlU3RyaW5nKERhdGVUaW1lLlRJTUVfU0lNUExFKTsgLy89PiAnMTE6MzIgQU0nXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLm5vdygpLnRvTG9jYWxlU3RyaW5nKERhdGVUaW1lLkRBVEVUSU1FX1NIT1JUKTsgLy89PiAnNC8yMC8yMDE3LCAxMTozMiBBTSdcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUubm93KCkudG9Mb2NhbGVTdHJpbmcoeyB3ZWVrZGF5OiAnbG9uZycsIG1vbnRoOiAnbG9uZycsIGRheTogJzItZGlnaXQnIH0pOyAvLz0+ICdUaHVyc2RheSwgQXByaWwgMjAnXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLm5vdygpLnRvTG9jYWxlU3RyaW5nKHsgd2Vla2RheTogJ3Nob3J0JywgbW9udGg6ICdzaG9ydCcsIGRheTogJzItZGlnaXQnLCBob3VyOiAnMi1kaWdpdCcsIG1pbnV0ZTogJzItZGlnaXQnIH0pOyAvLz0+ICdUaHUsIEFwciAyMCwgMTE6MjcgQU0nXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLm5vdygpLnRvTG9jYWxlU3RyaW5nKHsgaG91cjogJzItZGlnaXQnLCBtaW51dGU6ICcyLWRpZ2l0JywgaG91ckN5Y2xlOiAnaDIzJyB9KTsgLy89PiAnMTE6MzInXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG4gIDtcblxuICBfcHJvdG8udG9Mb2NhbGVTdHJpbmcgPSBmdW5jdGlvbiB0b0xvY2FsZVN0cmluZyhmb3JtYXRPcHRzLCBvcHRzKSB7XG4gICAgaWYgKGZvcm1hdE9wdHMgPT09IHZvaWQgMCkge1xuICAgICAgZm9ybWF0T3B0cyA9IERBVEVfU0hPUlQ7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmlzVmFsaWQgPyBGb3JtYXR0ZXIuY3JlYXRlKHRoaXMubG9jLmNsb25lKG9wdHMpLCBmb3JtYXRPcHRzKS5mb3JtYXREYXRlVGltZSh0aGlzKSA6IElOVkFMSUQ7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgYW4gYXJyYXkgb2YgZm9ybWF0IFwicGFydHNcIiwgbWVhbmluZyBpbmRpdmlkdWFsIHRva2VucyBhbG9uZyB3aXRoIG1ldGFkYXRhLiBUaGlzIGlzIGFsbG93cyBjYWxsZXJzIHRvIHBvc3QtcHJvY2VzcyBpbmRpdmlkdWFsIHNlY3Rpb25zIG9mIHRoZSBmb3JtYXR0ZWQgb3V0cHV0LlxuICAgKiBEZWZhdWx0cyB0byB0aGUgc3lzdGVtJ3MgbG9jYWxlIGlmIG5vIGxvY2FsZSBoYXMgYmVlbiBzcGVjaWZpZWRcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9EYXRlVGltZUZvcm1hdC9mb3JtYXRUb1BhcnRzXG4gICAqIEBwYXJhbSBvcHRzIHtPYmplY3R9IC0gSW50bC5EYXRlVGltZUZvcm1hdCBjb25zdHJ1Y3RvciBvcHRpb25zLCBzYW1lIGFzIGB0b0xvY2FsZVN0cmluZ2AuXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLm5vdygpLnRvTG9jYWxlUGFydHMoKTsgLy89PiBbXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLz0+ICAgeyB0eXBlOiAnZGF5JywgdmFsdWU6ICcyNScgfSxcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vPT4gICB7IHR5cGU6ICdsaXRlcmFsJywgdmFsdWU6ICcvJyB9LFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy89PiAgIHsgdHlwZTogJ21vbnRoJywgdmFsdWU6ICcwNScgfSxcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vPT4gICB7IHR5cGU6ICdsaXRlcmFsJywgdmFsdWU6ICcvJyB9LFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy89PiAgIHsgdHlwZTogJ3llYXInLCB2YWx1ZTogJzE5ODInIH1cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vPT4gXVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by50b0xvY2FsZVBhcnRzID0gZnVuY3Rpb24gdG9Mb2NhbGVQYXJ0cyhvcHRzKSB7XG4gICAgaWYgKG9wdHMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmlzVmFsaWQgPyBGb3JtYXR0ZXIuY3JlYXRlKHRoaXMubG9jLmNsb25lKG9wdHMpLCBvcHRzKS5mb3JtYXREYXRlVGltZVBhcnRzKHRoaXMpIDogW107XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgYW4gSVNPIDg2MDEtY29tcGxpYW50IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIERhdGVUaW1lXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gb3B0aW9uc1xuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLnN1cHByZXNzTWlsbGlzZWNvbmRzPWZhbHNlXSAtIGV4Y2x1ZGUgbWlsbGlzZWNvbmRzIGZyb20gdGhlIGZvcm1hdCBpZiB0aGV5J3JlIDBcbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5zdXBwcmVzc1NlY29uZHM9ZmFsc2VdIC0gZXhjbHVkZSBzZWNvbmRzIGZyb20gdGhlIGZvcm1hdCBpZiB0aGV5J3JlIDBcbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5pbmNsdWRlT2Zmc2V0PXRydWVdIC0gaW5jbHVkZSB0aGUgb2Zmc2V0LCBzdWNoIGFzICdaJyBvciAnLTA0OjAwJ1xuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLmV4dGVuZGVkWm9uZT10cnVlXSAtIGFkZCB0aGUgdGltZSB6b25lIGZvcm1hdCBleHRlbnNpb25cbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLmZvcm1hdD0nZXh0ZW5kZWQnXSAtIGNob29zZSBiZXR3ZWVuIHRoZSBiYXNpYyBhbmQgZXh0ZW5kZWQgZm9ybWF0XG4gICAqIEBleGFtcGxlIERhdGVUaW1lLnV0YygxOTgzLCA1LCAyNSkudG9JU08oKSAvLz0+ICcxOTgyLTA1LTI1VDAwOjAwOjAwLjAwMFonXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLm5vdygpLnRvSVNPKCkgLy89PiAnMjAxNy0wNC0yMlQyMDo0NzowNS4zMzUtMDQ6MDAnXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLm5vdygpLnRvSVNPKHsgaW5jbHVkZU9mZnNldDogZmFsc2UgfSkgLy89PiAnMjAxNy0wNC0yMlQyMDo0NzowNS4zMzUnXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLm5vdygpLnRvSVNPKHsgZm9ybWF0OiAnYmFzaWMnIH0pIC8vPT4gJzIwMTcwNDIyVDIwNDcwNS4zMzUtMDQwMCdcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by50b0lTTyA9IGZ1bmN0aW9uIHRvSVNPKF90ZW1wMykge1xuICAgIHZhciBfcmVmNCA9IF90ZW1wMyA9PT0gdm9pZCAwID8ge30gOiBfdGVtcDMsXG4gICAgICAgIF9yZWY0JGZvcm1hdCA9IF9yZWY0LmZvcm1hdCxcbiAgICAgICAgZm9ybWF0ID0gX3JlZjQkZm9ybWF0ID09PSB2b2lkIDAgPyBcImV4dGVuZGVkXCIgOiBfcmVmNCRmb3JtYXQsXG4gICAgICAgIF9yZWY0JHN1cHByZXNzU2Vjb25kcyA9IF9yZWY0LnN1cHByZXNzU2Vjb25kcyxcbiAgICAgICAgc3VwcHJlc3NTZWNvbmRzID0gX3JlZjQkc3VwcHJlc3NTZWNvbmRzID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWY0JHN1cHByZXNzU2Vjb25kcyxcbiAgICAgICAgX3JlZjQkc3VwcHJlc3NNaWxsaXNlID0gX3JlZjQuc3VwcHJlc3NNaWxsaXNlY29uZHMsXG4gICAgICAgIHN1cHByZXNzTWlsbGlzZWNvbmRzID0gX3JlZjQkc3VwcHJlc3NNaWxsaXNlID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWY0JHN1cHByZXNzTWlsbGlzZSxcbiAgICAgICAgX3JlZjQkaW5jbHVkZU9mZnNldCA9IF9yZWY0LmluY2x1ZGVPZmZzZXQsXG4gICAgICAgIGluY2x1ZGVPZmZzZXQgPSBfcmVmNCRpbmNsdWRlT2Zmc2V0ID09PSB2b2lkIDAgPyB0cnVlIDogX3JlZjQkaW5jbHVkZU9mZnNldCxcbiAgICAgICAgX3JlZjQkZXh0ZW5kZWRab25lID0gX3JlZjQuZXh0ZW5kZWRab25lLFxuICAgICAgICBleHRlbmRlZFpvbmUgPSBfcmVmNCRleHRlbmRlZFpvbmUgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjQkZXh0ZW5kZWRab25lO1xuXG4gICAgaWYgKCF0aGlzLmlzVmFsaWQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciBleHQgPSBmb3JtYXQgPT09IFwiZXh0ZW5kZWRcIjtcblxuICAgIHZhciBjID0gX3RvSVNPRGF0ZSh0aGlzLCBleHQpO1xuXG4gICAgYyArPSBcIlRcIjtcbiAgICBjICs9IF90b0lTT1RpbWUodGhpcywgZXh0LCBzdXBwcmVzc1NlY29uZHMsIHN1cHByZXNzTWlsbGlzZWNvbmRzLCBpbmNsdWRlT2Zmc2V0LCBleHRlbmRlZFpvbmUpO1xuICAgIHJldHVybiBjO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIElTTyA4NjAxLWNvbXBsaWFudCBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBEYXRlVGltZSdzIGRhdGUgY29tcG9uZW50XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gb3B0aW9uc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMuZm9ybWF0PSdleHRlbmRlZCddIC0gY2hvb3NlIGJldHdlZW4gdGhlIGJhc2ljIGFuZCBleHRlbmRlZCBmb3JtYXRcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUudXRjKDE5ODIsIDUsIDI1KS50b0lTT0RhdGUoKSAvLz0+ICcxOTgyLTA1LTI1J1xuICAgKiBAZXhhbXBsZSBEYXRlVGltZS51dGMoMTk4MiwgNSwgMjUpLnRvSVNPRGF0ZSh7IGZvcm1hdDogJ2Jhc2ljJyB9KSAvLz0+ICcxOTgyMDUyNSdcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by50b0lTT0RhdGUgPSBmdW5jdGlvbiB0b0lTT0RhdGUoX3RlbXA0KSB7XG4gICAgdmFyIF9yZWY1ID0gX3RlbXA0ID09PSB2b2lkIDAgPyB7fSA6IF90ZW1wNCxcbiAgICAgICAgX3JlZjUkZm9ybWF0ID0gX3JlZjUuZm9ybWF0LFxuICAgICAgICBmb3JtYXQgPSBfcmVmNSRmb3JtYXQgPT09IHZvaWQgMCA/IFwiZXh0ZW5kZWRcIiA6IF9yZWY1JGZvcm1hdDtcblxuICAgIGlmICghdGhpcy5pc1ZhbGlkKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gX3RvSVNPRGF0ZSh0aGlzLCBmb3JtYXQgPT09IFwiZXh0ZW5kZWRcIik7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgYW4gSVNPIDg2MDEtY29tcGxpYW50IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIERhdGVUaW1lJ3Mgd2VlayBkYXRlXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLnV0YygxOTgyLCA1LCAyNSkudG9JU09XZWVrRGF0ZSgpIC8vPT4gJzE5ODItVzIxLTInXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG4gIDtcblxuICBfcHJvdG8udG9JU09XZWVrRGF0ZSA9IGZ1bmN0aW9uIHRvSVNPV2Vla0RhdGUoKSB7XG4gICAgcmV0dXJuIHRvVGVjaEZvcm1hdCh0aGlzLCBcImtra2stJ1cnV1ctY1wiKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhbiBJU08gODYwMS1jb21wbGlhbnQgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgRGF0ZVRpbWUncyB0aW1lIGNvbXBvbmVudFxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0cyAtIG9wdGlvbnNcbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5zdXBwcmVzc01pbGxpc2Vjb25kcz1mYWxzZV0gLSBleGNsdWRlIG1pbGxpc2Vjb25kcyBmcm9tIHRoZSBmb3JtYXQgaWYgdGhleSdyZSAwXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMuc3VwcHJlc3NTZWNvbmRzPWZhbHNlXSAtIGV4Y2x1ZGUgc2Vjb25kcyBmcm9tIHRoZSBmb3JtYXQgaWYgdGhleSdyZSAwXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMuaW5jbHVkZU9mZnNldD10cnVlXSAtIGluY2x1ZGUgdGhlIG9mZnNldCwgc3VjaCBhcyAnWicgb3IgJy0wNDowMCdcbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5leHRlbmRlZFpvbmU9dHJ1ZV0gLSBhZGQgdGhlIHRpbWUgem9uZSBmb3JtYXQgZXh0ZW5zaW9uXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMuaW5jbHVkZVByZWZpeD1mYWxzZV0gLSBpbmNsdWRlIHRoZSBgVGAgcHJlZml4XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5mb3JtYXQ9J2V4dGVuZGVkJ10gLSBjaG9vc2UgYmV0d2VlbiB0aGUgYmFzaWMgYW5kIGV4dGVuZGVkIGZvcm1hdFxuICAgKiBAZXhhbXBsZSBEYXRlVGltZS51dGMoKS5zZXQoeyBob3VyOiA3LCBtaW51dGU6IDM0IH0pLnRvSVNPVGltZSgpIC8vPT4gJzA3OjM0OjE5LjM2MVonXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLnV0YygpLnNldCh7IGhvdXI6IDcsIG1pbnV0ZTogMzQsIHNlY29uZHM6IDAsIG1pbGxpc2Vjb25kczogMCB9KS50b0lTT1RpbWUoeyBzdXBwcmVzc1NlY29uZHM6IHRydWUgfSkgLy89PiAnMDc6MzRaJ1xuICAgKiBAZXhhbXBsZSBEYXRlVGltZS51dGMoKS5zZXQoeyBob3VyOiA3LCBtaW51dGU6IDM0IH0pLnRvSVNPVGltZSh7IGZvcm1hdDogJ2Jhc2ljJyB9KSAvLz0+ICcwNzM0MTkuMzYxWidcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUudXRjKCkuc2V0KHsgaG91cjogNywgbWludXRlOiAzNCB9KS50b0lTT1RpbWUoeyBpbmNsdWRlUHJlZml4OiB0cnVlIH0pIC8vPT4gJ1QwNzozNDoxOS4zNjFaJ1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnRvSVNPVGltZSA9IGZ1bmN0aW9uIHRvSVNPVGltZShfdGVtcDUpIHtcbiAgICB2YXIgX3JlZjYgPSBfdGVtcDUgPT09IHZvaWQgMCA/IHt9IDogX3RlbXA1LFxuICAgICAgICBfcmVmNiRzdXBwcmVzc01pbGxpc2UgPSBfcmVmNi5zdXBwcmVzc01pbGxpc2Vjb25kcyxcbiAgICAgICAgc3VwcHJlc3NNaWxsaXNlY29uZHMgPSBfcmVmNiRzdXBwcmVzc01pbGxpc2UgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjYkc3VwcHJlc3NNaWxsaXNlLFxuICAgICAgICBfcmVmNiRzdXBwcmVzc1NlY29uZHMgPSBfcmVmNi5zdXBwcmVzc1NlY29uZHMsXG4gICAgICAgIHN1cHByZXNzU2Vjb25kcyA9IF9yZWY2JHN1cHByZXNzU2Vjb25kcyA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmNiRzdXBwcmVzc1NlY29uZHMsXG4gICAgICAgIF9yZWY2JGluY2x1ZGVPZmZzZXQgPSBfcmVmNi5pbmNsdWRlT2Zmc2V0LFxuICAgICAgICBpbmNsdWRlT2Zmc2V0ID0gX3JlZjYkaW5jbHVkZU9mZnNldCA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9yZWY2JGluY2x1ZGVPZmZzZXQsXG4gICAgICAgIF9yZWY2JGluY2x1ZGVQcmVmaXggPSBfcmVmNi5pbmNsdWRlUHJlZml4LFxuICAgICAgICBpbmNsdWRlUHJlZml4ID0gX3JlZjYkaW5jbHVkZVByZWZpeCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmNiRpbmNsdWRlUHJlZml4LFxuICAgICAgICBfcmVmNiRleHRlbmRlZFpvbmUgPSBfcmVmNi5leHRlbmRlZFpvbmUsXG4gICAgICAgIGV4dGVuZGVkWm9uZSA9IF9yZWY2JGV4dGVuZGVkWm9uZSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmNiRleHRlbmRlZFpvbmUsXG4gICAgICAgIF9yZWY2JGZvcm1hdCA9IF9yZWY2LmZvcm1hdCxcbiAgICAgICAgZm9ybWF0ID0gX3JlZjYkZm9ybWF0ID09PSB2b2lkIDAgPyBcImV4dGVuZGVkXCIgOiBfcmVmNiRmb3JtYXQ7XG5cbiAgICBpZiAoIXRoaXMuaXNWYWxpZCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIGMgPSBpbmNsdWRlUHJlZml4ID8gXCJUXCIgOiBcIlwiO1xuICAgIHJldHVybiBjICsgX3RvSVNPVGltZSh0aGlzLCBmb3JtYXQgPT09IFwiZXh0ZW5kZWRcIiwgc3VwcHJlc3NTZWNvbmRzLCBzdXBwcmVzc01pbGxpc2Vjb25kcywgaW5jbHVkZU9mZnNldCwgZXh0ZW5kZWRab25lKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhbiBSRkMgMjgyMi1jb21wYXRpYmxlIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIERhdGVUaW1lXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLnV0YygyMDE0LCA3LCAxMykudG9SRkMyODIyKCkgLy89PiAnU3VuLCAxMyBKdWwgMjAxNCAwMDowMDowMCArMDAwMCdcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoMjAxNCwgNywgMTMpLnRvUkZDMjgyMigpIC8vPT4gJ1N1biwgMTMgSnVsIDIwMTQgMDA6MDA6MDAgLTA0MDAnXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG4gIDtcblxuICBfcHJvdG8udG9SRkMyODIyID0gZnVuY3Rpb24gdG9SRkMyODIyKCkge1xuICAgIHJldHVybiB0b1RlY2hGb3JtYXQodGhpcywgXCJFRUUsIGRkIExMTCB5eXl5IEhIOm1tOnNzIFpaWlwiLCBmYWxzZSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBEYXRlVGltZSBhcHByb3ByaWF0ZSBmb3IgdXNlIGluIEhUVFAgaGVhZGVycy4gVGhlIG91dHB1dCBpcyBhbHdheXMgZXhwcmVzc2VkIGluIEdNVC5cbiAgICogU3BlY2lmaWNhbGx5LCB0aGUgc3RyaW5nIGNvbmZvcm1zIHRvIFJGQyAxMTIzLlxuICAgKiBAc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9Qcm90b2NvbHMvcmZjMjYxNi9yZmMyNjE2LXNlYzMuaHRtbCNzZWMzLjMuMVxuICAgKiBAZXhhbXBsZSBEYXRlVGltZS51dGMoMjAxNCwgNywgMTMpLnRvSFRUUCgpIC8vPT4gJ1N1biwgMTMgSnVsIDIwMTQgMDA6MDA6MDAgR01UJ1xuICAgKiBAZXhhbXBsZSBEYXRlVGltZS51dGMoMjAxNCwgNywgMTMsIDE5KS50b0hUVFAoKSAvLz0+ICdTdW4sIDEzIEp1bCAyMDE0IDE5OjAwOjAwIEdNVCdcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by50b0hUVFAgPSBmdW5jdGlvbiB0b0hUVFAoKSB7XG4gICAgcmV0dXJuIHRvVGVjaEZvcm1hdCh0aGlzLnRvVVRDKCksIFwiRUVFLCBkZCBMTEwgeXl5eSBISDptbTpzcyAnR01UJ1wiKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIERhdGVUaW1lIGFwcHJvcHJpYXRlIGZvciB1c2UgaW4gU1FMIERhdGVcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUudXRjKDIwMTQsIDcsIDEzKS50b1NRTERhdGUoKSAvLz0+ICcyMDE0LTA3LTEzJ1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnRvU1FMRGF0ZSA9IGZ1bmN0aW9uIHRvU1FMRGF0ZSgpIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIF90b0lTT0RhdGUodGhpcywgdHJ1ZSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBEYXRlVGltZSBhcHByb3ByaWF0ZSBmb3IgdXNlIGluIFNRTCBUaW1lXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gb3B0aW9uc1xuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLmluY2x1ZGVab25lPWZhbHNlXSAtIGluY2x1ZGUgdGhlIHpvbmUsIHN1Y2ggYXMgJ0FtZXJpY2EvTmV3X1lvcmsnLiBPdmVycmlkZXMgaW5jbHVkZU9mZnNldC5cbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5pbmNsdWRlT2Zmc2V0PXRydWVdIC0gaW5jbHVkZSB0aGUgb2Zmc2V0LCBzdWNoIGFzICdaJyBvciAnLTA0OjAwJ1xuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLmluY2x1ZGVPZmZzZXRTcGFjZT10cnVlXSAtIGluY2x1ZGUgdGhlIHNwYWNlIGJldHdlZW4gdGhlIHRpbWUgYW5kIHRoZSBvZmZzZXQsIHN1Y2ggYXMgJzA1OjE1OjE2LjM0NSAtMDQ6MDAnXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLnV0YygpLnRvU1FMKCkgLy89PiAnMDU6MTU6MTYuMzQ1J1xuICAgKiBAZXhhbXBsZSBEYXRlVGltZS5ub3coKS50b1NRTCgpIC8vPT4gJzA1OjE1OjE2LjM0NSAtMDQ6MDAnXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLm5vdygpLnRvU1FMKHsgaW5jbHVkZU9mZnNldDogZmFsc2UgfSkgLy89PiAnMDU6MTU6MTYuMzQ1J1xuICAgKiBAZXhhbXBsZSBEYXRlVGltZS5ub3coKS50b1NRTCh7IGluY2x1ZGVab25lOiBmYWxzZSB9KSAvLz0+ICcwNToxNToxNi4zNDUgQW1lcmljYS9OZXdfWW9yaydcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by50b1NRTFRpbWUgPSBmdW5jdGlvbiB0b1NRTFRpbWUoX3RlbXA2KSB7XG4gICAgdmFyIF9yZWY3ID0gX3RlbXA2ID09PSB2b2lkIDAgPyB7fSA6IF90ZW1wNixcbiAgICAgICAgX3JlZjckaW5jbHVkZU9mZnNldCA9IF9yZWY3LmluY2x1ZGVPZmZzZXQsXG4gICAgICAgIGluY2x1ZGVPZmZzZXQgPSBfcmVmNyRpbmNsdWRlT2Zmc2V0ID09PSB2b2lkIDAgPyB0cnVlIDogX3JlZjckaW5jbHVkZU9mZnNldCxcbiAgICAgICAgX3JlZjckaW5jbHVkZVpvbmUgPSBfcmVmNy5pbmNsdWRlWm9uZSxcbiAgICAgICAgaW5jbHVkZVpvbmUgPSBfcmVmNyRpbmNsdWRlWm9uZSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmNyRpbmNsdWRlWm9uZSxcbiAgICAgICAgX3JlZjckaW5jbHVkZU9mZnNldFNwID0gX3JlZjcuaW5jbHVkZU9mZnNldFNwYWNlLFxuICAgICAgICBpbmNsdWRlT2Zmc2V0U3BhY2UgPSBfcmVmNyRpbmNsdWRlT2Zmc2V0U3AgPT09IHZvaWQgMCA/IHRydWUgOiBfcmVmNyRpbmNsdWRlT2Zmc2V0U3A7XG5cbiAgICB2YXIgZm10ID0gXCJISDptbTpzcy5TU1NcIjtcblxuICAgIGlmIChpbmNsdWRlWm9uZSB8fCBpbmNsdWRlT2Zmc2V0KSB7XG4gICAgICBpZiAoaW5jbHVkZU9mZnNldFNwYWNlKSB7XG4gICAgICAgIGZtdCArPSBcIiBcIjtcbiAgICAgIH1cblxuICAgICAgaWYgKGluY2x1ZGVab25lKSB7XG4gICAgICAgIGZtdCArPSBcInpcIjtcbiAgICAgIH0gZWxzZSBpZiAoaW5jbHVkZU9mZnNldCkge1xuICAgICAgICBmbXQgKz0gXCJaWlwiO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0b1RlY2hGb3JtYXQodGhpcywgZm10LCB0cnVlKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIERhdGVUaW1lIGFwcHJvcHJpYXRlIGZvciB1c2UgaW4gU1FMIERhdGVUaW1lXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gb3B0aW9uc1xuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLmluY2x1ZGVab25lPWZhbHNlXSAtIGluY2x1ZGUgdGhlIHpvbmUsIHN1Y2ggYXMgJ0FtZXJpY2EvTmV3X1lvcmsnLiBPdmVycmlkZXMgaW5jbHVkZU9mZnNldC5cbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5pbmNsdWRlT2Zmc2V0PXRydWVdIC0gaW5jbHVkZSB0aGUgb2Zmc2V0LCBzdWNoIGFzICdaJyBvciAnLTA0OjAwJ1xuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLmluY2x1ZGVPZmZzZXRTcGFjZT10cnVlXSAtIGluY2x1ZGUgdGhlIHNwYWNlIGJldHdlZW4gdGhlIHRpbWUgYW5kIHRoZSBvZmZzZXQsIHN1Y2ggYXMgJzA1OjE1OjE2LjM0NSAtMDQ6MDAnXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLnV0YygyMDE0LCA3LCAxMykudG9TUUwoKSAvLz0+ICcyMDE0LTA3LTEzIDAwOjAwOjAwLjAwMCBaJ1xuICAgKiBAZXhhbXBsZSBEYXRlVGltZS5sb2NhbCgyMDE0LCA3LCAxMykudG9TUUwoKSAvLz0+ICcyMDE0LTA3LTEzIDAwOjAwOjAwLjAwMCAtMDQ6MDAnXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTQsIDcsIDEzKS50b1NRTCh7IGluY2x1ZGVPZmZzZXQ6IGZhbHNlIH0pIC8vPT4gJzIwMTQtMDctMTMgMDA6MDA6MDAuMDAwJ1xuICAgKiBAZXhhbXBsZSBEYXRlVGltZS5sb2NhbCgyMDE0LCA3LCAxMykudG9TUUwoeyBpbmNsdWRlWm9uZTogdHJ1ZSB9KSAvLz0+ICcyMDE0LTA3LTEzIDAwOjAwOjAwLjAwMCBBbWVyaWNhL05ld19Zb3JrJ1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnRvU1FMID0gZnVuY3Rpb24gdG9TUUwob3B0cykge1xuICAgIGlmIChvcHRzID09PSB2b2lkIDApIHtcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuaXNWYWxpZCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMudG9TUUxEYXRlKCkgKyBcIiBcIiArIHRoaXMudG9TUUxUaW1lKG9wdHMpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgRGF0ZVRpbWUgYXBwcm9wcmlhdGUgZm9yIGRlYnVnZ2luZ1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNWYWxpZCA/IHRoaXMudG9JU08oKSA6IElOVkFMSUQ7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGVwb2NoIG1pbGxpc2Vjb25kcyBvZiB0aGlzIERhdGVUaW1lLiBBbGlhcyBvZiB7QGxpbmsgRGF0ZVRpbWUjdG9NaWxsaXN9XG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICovXG4gIDtcblxuICBfcHJvdG8udmFsdWVPZiA9IGZ1bmN0aW9uIHZhbHVlT2YoKSB7XG4gICAgcmV0dXJuIHRoaXMudG9NaWxsaXMoKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0aGUgZXBvY2ggbWlsbGlzZWNvbmRzIG9mIHRoaXMgRGF0ZVRpbWUuXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICovXG4gIDtcblxuICBfcHJvdG8udG9NaWxsaXMgPSBmdW5jdGlvbiB0b01pbGxpcygpIHtcbiAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gdGhpcy50cyA6IE5hTjtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0aGUgZXBvY2ggc2Vjb25kcyBvZiB0aGlzIERhdGVUaW1lLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnRvU2Vjb25kcyA9IGZ1bmN0aW9uIHRvU2Vjb25kcygpIHtcbiAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gdGhpcy50cyAvIDEwMDAgOiBOYU47XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGVwb2NoIHNlY29uZHMgKGFzIGEgd2hvbGUgbnVtYmVyKSBvZiB0aGlzIERhdGVUaW1lLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnRvVW5peEludGVnZXIgPSBmdW5jdGlvbiB0b1VuaXhJbnRlZ2VyKCkge1xuICAgIHJldHVybiB0aGlzLmlzVmFsaWQgPyBNYXRoLmZsb29yKHRoaXMudHMgLyAxMDAwKSA6IE5hTjtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhbiBJU08gODYwMSByZXByZXNlbnRhdGlvbiBvZiB0aGlzIERhdGVUaW1lIGFwcHJvcHJpYXRlIGZvciB1c2UgaW4gSlNPTi5cbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9JU08oKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhIEJTT04gc2VyaWFsaXphYmxlIGVxdWl2YWxlbnQgdG8gdGhpcyBEYXRlVGltZS5cbiAgICogQHJldHVybiB7RGF0ZX1cbiAgICovXG4gIDtcblxuICBfcHJvdG8udG9CU09OID0gZnVuY3Rpb24gdG9CU09OKCkge1xuICAgIHJldHVybiB0aGlzLnRvSlNEYXRlKCk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgYSBKYXZhU2NyaXB0IG9iamVjdCB3aXRoIHRoaXMgRGF0ZVRpbWUncyB5ZWFyLCBtb250aCwgZGF5LCBhbmQgc28gb24uXG4gICAqIEBwYXJhbSBvcHRzIC0gb3B0aW9ucyBmb3IgZ2VuZXJhdGluZyB0aGUgb2JqZWN0XG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMuaW5jbHVkZUNvbmZpZz1mYWxzZV0gLSBpbmNsdWRlIGNvbmZpZ3VyYXRpb24gYXR0cmlidXRlcyBpbiB0aGUgb3V0cHV0XG4gICAqIEBleGFtcGxlIERhdGVUaW1lLm5vdygpLnRvT2JqZWN0KCkgLy89PiB7IHllYXI6IDIwMTcsIG1vbnRoOiA0LCBkYXk6IDIyLCBob3VyOiAyMCwgbWludXRlOiA0OSwgc2Vjb25kOiA0MiwgbWlsbGlzZWNvbmQ6IDI2OCB9XG4gICAqIEByZXR1cm4ge09iamVjdH1cbiAgICovXG4gIDtcblxuICBfcHJvdG8udG9PYmplY3QgPSBmdW5jdGlvbiB0b09iamVjdChvcHRzKSB7XG4gICAgaWYgKG9wdHMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cblxuICAgIGlmICghdGhpcy5pc1ZhbGlkKSByZXR1cm4ge307XG5cbiAgICB2YXIgYmFzZSA9IF9leHRlbmRzKHt9LCB0aGlzLmMpO1xuXG4gICAgaWYgKG9wdHMuaW5jbHVkZUNvbmZpZykge1xuICAgICAgYmFzZS5vdXRwdXRDYWxlbmRhciA9IHRoaXMub3V0cHV0Q2FsZW5kYXI7XG4gICAgICBiYXNlLm51bWJlcmluZ1N5c3RlbSA9IHRoaXMubG9jLm51bWJlcmluZ1N5c3RlbTtcbiAgICAgIGJhc2UubG9jYWxlID0gdGhpcy5sb2MubG9jYWxlO1xuICAgIH1cblxuICAgIHJldHVybiBiYXNlO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgSmF2YVNjcmlwdCBEYXRlIGVxdWl2YWxlbnQgdG8gdGhpcyBEYXRlVGltZS5cbiAgICogQHJldHVybiB7RGF0ZX1cbiAgICovXG4gIDtcblxuICBfcHJvdG8udG9KU0RhdGUgPSBmdW5jdGlvbiB0b0pTRGF0ZSgpIHtcbiAgICByZXR1cm4gbmV3IERhdGUodGhpcy5pc1ZhbGlkID8gdGhpcy50cyA6IE5hTik7XG4gIH0gLy8gQ09NUEFSRVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiB0d28gRGF0ZVRpbWVzIGFzIGEgRHVyYXRpb24uXG4gICAqIEBwYXJhbSB7RGF0ZVRpbWV9IG90aGVyRGF0ZVRpbWUgLSB0aGUgRGF0ZVRpbWUgdG8gY29tcGFyZSB0aGlzIG9uZSB0b1xuICAgKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXX0gW3VuaXQ9WydtaWxsaXNlY29uZHMnXV0gLSB0aGUgdW5pdCBvciBhcnJheSBvZiB1bml0cyAoc3VjaCBhcyAnaG91cnMnIG9yICdkYXlzJykgdG8gaW5jbHVkZSBpbiB0aGUgZHVyYXRpb24uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gb3B0aW9ucyB0aGF0IGFmZmVjdCB0aGUgY3JlYXRpb24gb2YgdGhlIER1cmF0aW9uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5jb252ZXJzaW9uQWNjdXJhY3k9J2Nhc3VhbCddIC0gdGhlIGNvbnZlcnNpb24gc3lzdGVtIHRvIHVzZVxuICAgKiBAZXhhbXBsZVxuICAgKiB2YXIgaTEgPSBEYXRlVGltZS5mcm9tSVNPKCcxOTgyLTA1LTI1VDA5OjQ1JyksXG4gICAqICAgICBpMiA9IERhdGVUaW1lLmZyb21JU08oJzE5ODMtMTAtMTRUMTA6MzAnKTtcbiAgICogaTIuZGlmZihpMSkudG9PYmplY3QoKSAvLz0+IHsgbWlsbGlzZWNvbmRzOiA0MzgwNzUwMDAwMCB9XG4gICAqIGkyLmRpZmYoaTEsICdob3VycycpLnRvT2JqZWN0KCkgLy89PiB7IGhvdXJzOiAxMjE2OC43NSB9XG4gICAqIGkyLmRpZmYoaTEsIFsnbW9udGhzJywgJ2RheXMnXSkudG9PYmplY3QoKSAvLz0+IHsgbW9udGhzOiAxNiwgZGF5czogMTkuMDMxMjUgfVxuICAgKiBpMi5kaWZmKGkxLCBbJ21vbnRocycsICdkYXlzJywgJ2hvdXJzJ10pLnRvT2JqZWN0KCkgLy89PiB7IG1vbnRoczogMTYsIGRheXM6IDE5LCBob3VyczogMC43NSB9XG4gICAqIEByZXR1cm4ge0R1cmF0aW9ufVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5kaWZmID0gZnVuY3Rpb24gZGlmZihvdGhlckRhdGVUaW1lLCB1bml0LCBvcHRzKSB7XG4gICAgaWYgKHVuaXQgPT09IHZvaWQgMCkge1xuICAgICAgdW5pdCA9IFwibWlsbGlzZWNvbmRzXCI7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cblxuICAgIGlmICghdGhpcy5pc1ZhbGlkIHx8ICFvdGhlckRhdGVUaW1lLmlzVmFsaWQpIHtcbiAgICAgIHJldHVybiBEdXJhdGlvbi5pbnZhbGlkKFwiY3JlYXRlZCBieSBkaWZmaW5nIGFuIGludmFsaWQgRGF0ZVRpbWVcIik7XG4gICAgfVxuXG4gICAgdmFyIGR1ck9wdHMgPSBfZXh0ZW5kcyh7XG4gICAgICBsb2NhbGU6IHRoaXMubG9jYWxlLFxuICAgICAgbnVtYmVyaW5nU3lzdGVtOiB0aGlzLm51bWJlcmluZ1N5c3RlbVxuICAgIH0sIG9wdHMpO1xuXG4gICAgdmFyIHVuaXRzID0gbWF5YmVBcnJheSh1bml0KS5tYXAoRHVyYXRpb24ubm9ybWFsaXplVW5pdCksXG4gICAgICAgIG90aGVySXNMYXRlciA9IG90aGVyRGF0ZVRpbWUudmFsdWVPZigpID4gdGhpcy52YWx1ZU9mKCksXG4gICAgICAgIGVhcmxpZXIgPSBvdGhlcklzTGF0ZXIgPyB0aGlzIDogb3RoZXJEYXRlVGltZSxcbiAgICAgICAgbGF0ZXIgPSBvdGhlcklzTGF0ZXIgPyBvdGhlckRhdGVUaW1lIDogdGhpcyxcbiAgICAgICAgZGlmZmVkID0gX2RpZmYoZWFybGllciwgbGF0ZXIsIHVuaXRzLCBkdXJPcHRzKTtcblxuICAgIHJldHVybiBvdGhlcklzTGF0ZXIgPyBkaWZmZWQubmVnYXRlKCkgOiBkaWZmZWQ7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoaXMgRGF0ZVRpbWUgYW5kIHJpZ2h0IG5vdy5cbiAgICogU2VlIHtAbGluayBEYXRlVGltZSNkaWZmfVxuICAgKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXX0gW3VuaXQ9WydtaWxsaXNlY29uZHMnXV0gLSB0aGUgdW5pdCBvciB1bml0cyB1bml0cyAoc3VjaCBhcyAnaG91cnMnIG9yICdkYXlzJykgdG8gaW5jbHVkZSBpbiB0aGUgZHVyYXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdHMgLSBvcHRpb25zIHRoYXQgYWZmZWN0IHRoZSBjcmVhdGlvbiBvZiB0aGUgRHVyYXRpb25cbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLmNvbnZlcnNpb25BY2N1cmFjeT0nY2FzdWFsJ10gLSB0aGUgY29udmVyc2lvbiBzeXN0ZW0gdG8gdXNlXG4gICAqIEByZXR1cm4ge0R1cmF0aW9ufVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5kaWZmTm93ID0gZnVuY3Rpb24gZGlmZk5vdyh1bml0LCBvcHRzKSB7XG4gICAgaWYgKHVuaXQgPT09IHZvaWQgMCkge1xuICAgICAgdW5pdCA9IFwibWlsbGlzZWNvbmRzXCI7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmRpZmYoRGF0ZVRpbWUubm93KCksIHVuaXQsIG9wdHMpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gYW4gSW50ZXJ2YWwgc3Bhbm5pbmcgYmV0d2VlbiB0aGlzIERhdGVUaW1lIGFuZCBhbm90aGVyIERhdGVUaW1lXG4gICAqIEBwYXJhbSB7RGF0ZVRpbWV9IG90aGVyRGF0ZVRpbWUgLSB0aGUgb3RoZXIgZW5kIHBvaW50IG9mIHRoZSBJbnRlcnZhbFxuICAgKiBAcmV0dXJuIHtJbnRlcnZhbH1cbiAgICovXG4gIDtcblxuICBfcHJvdG8udW50aWwgPSBmdW5jdGlvbiB1bnRpbChvdGhlckRhdGVUaW1lKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNWYWxpZCA/IEludGVydmFsLmZyb21EYXRlVGltZXModGhpcywgb3RoZXJEYXRlVGltZSkgOiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gd2hldGhlciB0aGlzIERhdGVUaW1lIGlzIGluIHRoZSBzYW1lIHVuaXQgb2YgdGltZSBhcyBhbm90aGVyIERhdGVUaW1lLlxuICAgKiBIaWdoZXItb3JkZXIgdW5pdHMgbXVzdCBhbHNvIGJlIGlkZW50aWNhbCBmb3IgdGhpcyBmdW5jdGlvbiB0byByZXR1cm4gYHRydWVgLlxuICAgKiBOb3RlIHRoYXQgdGltZSB6b25lcyBhcmUgKippZ25vcmVkKiogaW4gdGhpcyBjb21wYXJpc29uLCB3aGljaCBjb21wYXJlcyB0aGUgKipsb2NhbCoqIGNhbGVuZGFyIHRpbWUuIFVzZSB7QGxpbmsgRGF0ZVRpbWUjc2V0Wm9uZX0gdG8gY29udmVydCBvbmUgb2YgdGhlIGRhdGVzIGlmIG5lZWRlZC5cbiAgICogQHBhcmFtIHtEYXRlVGltZX0gb3RoZXJEYXRlVGltZSAtIHRoZSBvdGhlciBEYXRlVGltZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdW5pdCAtIHRoZSB1bml0IG9mIHRpbWUgdG8gY2hlY2sgc2FtZW5lc3Mgb25cbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUubm93KCkuaGFzU2FtZShvdGhlckRULCAnZGF5Jyk7IC8vfj4gdHJ1ZSBpZiBvdGhlckRUIGlzIGluIHRoZSBzYW1lIGN1cnJlbnQgY2FsZW5kYXIgZGF5XG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmhhc1NhbWUgPSBmdW5jdGlvbiBoYXNTYW1lKG90aGVyRGF0ZVRpbWUsIHVuaXQpIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCkgcmV0dXJuIGZhbHNlO1xuICAgIHZhciBpbnB1dE1zID0gb3RoZXJEYXRlVGltZS52YWx1ZU9mKCk7XG4gICAgdmFyIGFkanVzdGVkVG9ab25lID0gdGhpcy5zZXRab25lKG90aGVyRGF0ZVRpbWUuem9uZSwge1xuICAgICAga2VlcExvY2FsVGltZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBhZGp1c3RlZFRvWm9uZS5zdGFydE9mKHVuaXQpIDw9IGlucHV0TXMgJiYgaW5wdXRNcyA8PSBhZGp1c3RlZFRvWm9uZS5lbmRPZih1bml0KTtcbiAgfVxuICAvKipcbiAgICogRXF1YWxpdHkgY2hlY2tcbiAgICogVHdvIERhdGVUaW1lcyBhcmUgZXF1YWwgaWZmIHRoZXkgcmVwcmVzZW50IHRoZSBzYW1lIG1pbGxpc2Vjb25kLCBoYXZlIHRoZSBzYW1lIHpvbmUgYW5kIGxvY2F0aW9uLCBhbmQgYXJlIGJvdGggdmFsaWQuXG4gICAqIFRvIGNvbXBhcmUganVzdCB0aGUgbWlsbGlzZWNvbmQgdmFsdWVzLCB1c2UgYCtkdDEgPT09ICtkdDJgLlxuICAgKiBAcGFyYW0ge0RhdGVUaW1lfSBvdGhlciAtIHRoZSBvdGhlciBEYXRlVGltZVxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5lcXVhbHMgPSBmdW5jdGlvbiBlcXVhbHMob3RoZXIpIHtcbiAgICByZXR1cm4gdGhpcy5pc1ZhbGlkICYmIG90aGVyLmlzVmFsaWQgJiYgdGhpcy52YWx1ZU9mKCkgPT09IG90aGVyLnZhbHVlT2YoKSAmJiB0aGlzLnpvbmUuZXF1YWxzKG90aGVyLnpvbmUpICYmIHRoaXMubG9jLmVxdWFscyhvdGhlci5sb2MpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgdGhpcyB0aW1lIHJlbGF0aXZlIHRvIG5vdywgc3VjaCBhcyBcImluIHR3byBkYXlzXCIuIENhbiBvbmx5IGludGVybmF0aW9uYWxpemUgaWYgeW91clxuICAgKiBwbGF0Zm9ybSBzdXBwb3J0cyBJbnRsLlJlbGF0aXZlVGltZUZvcm1hdC4gUm91bmRzIGRvd24gYnkgZGVmYXVsdC5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBvcHRpb25zIHRoYXQgYWZmZWN0IHRoZSBvdXRwdXRcbiAgICogQHBhcmFtIHtEYXRlVGltZX0gW29wdGlvbnMuYmFzZT1EYXRlVGltZS5ub3coKV0gLSB0aGUgRGF0ZVRpbWUgdG8gdXNlIGFzIHRoZSBiYXNpcyB0byB3aGljaCB0aGlzIHRpbWUgaXMgY29tcGFyZWQuIERlZmF1bHRzIHRvIG5vdy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnN0eWxlPVwibG9uZ1wiXSAtIHRoZSBzdHlsZSBvZiB1bml0cywgbXVzdCBiZSBcImxvbmdcIiwgXCJzaG9ydFwiLCBvciBcIm5hcnJvd1wiXG4gICAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfSBvcHRpb25zLnVuaXQgLSB1c2UgYSBzcGVjaWZpYyB1bml0IG9yIGFycmF5IG9mIHVuaXRzOyBpZiBvbWl0dGVkLCBvciBhbiBhcnJheSwgdGhlIG1ldGhvZCB3aWxsIHBpY2sgdGhlIGJlc3QgdW5pdC4gVXNlIGFuIGFycmF5IG9yIG9uZSBvZiBcInllYXJzXCIsIFwicXVhcnRlcnNcIiwgXCJtb250aHNcIiwgXCJ3ZWVrc1wiLCBcImRheXNcIiwgXCJob3Vyc1wiLCBcIm1pbnV0ZXNcIiwgb3IgXCJzZWNvbmRzXCJcbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5yb3VuZD10cnVlXSAtIHdoZXRoZXIgdG8gcm91bmQgdGhlIG51bWJlcnMgaW4gdGhlIG91dHB1dC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnBhZGRpbmc9MF0gLSBwYWRkaW5nIGluIG1pbGxpc2Vjb25kcy4gVGhpcyBhbGxvd3MgeW91IHRvIHJvdW5kIHVwIHRoZSByZXN1bHQgaWYgaXQgZml0cyBpbnNpZGUgdGhlIHRocmVzaG9sZC4gRG9uJ3QgdXNlIGluIGNvbWJpbmF0aW9uIHdpdGgge3JvdW5kOiBmYWxzZX0gYmVjYXVzZSB0aGUgZGVjaW1hbCBvdXRwdXQgd2lsbCBpbmNsdWRlIHRoZSBwYWRkaW5nLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5sb2NhbGUgLSBvdmVycmlkZSB0aGUgbG9jYWxlIG9mIHRoaXMgRGF0ZVRpbWVcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMubnVtYmVyaW5nU3lzdGVtIC0gb3ZlcnJpZGUgdGhlIG51bWJlcmluZ1N5c3RlbSBvZiB0aGlzIERhdGVUaW1lLiBUaGUgSW50bCBzeXN0ZW0gbWF5IGNob29zZSBub3QgdG8gaG9ub3IgdGhpc1xuICAgKiBAZXhhbXBsZSBEYXRlVGltZS5ub3coKS5wbHVzKHsgZGF5czogMSB9KS50b1JlbGF0aXZlKCkgLy89PiBcImluIDEgZGF5XCJcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUubm93KCkuc2V0TG9jYWxlKFwiZXNcIikudG9SZWxhdGl2ZSh7IGRheXM6IDEgfSkgLy89PiBcImRlbnRybyBkZSAxIGRcdTAwRURhXCJcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUubm93KCkucGx1cyh7IGRheXM6IDEgfSkudG9SZWxhdGl2ZSh7IGxvY2FsZTogXCJmclwiIH0pIC8vPT4gXCJkYW5zIDIzIGhldXJlc1wiXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLm5vdygpLm1pbnVzKHsgZGF5czogMiB9KS50b1JlbGF0aXZlKCkgLy89PiBcIjIgZGF5cyBhZ29cIlxuICAgKiBAZXhhbXBsZSBEYXRlVGltZS5ub3coKS5taW51cyh7IGRheXM6IDIgfSkudG9SZWxhdGl2ZSh7IHVuaXQ6IFwiaG91cnNcIiB9KSAvLz0+IFwiNDggaG91cnMgYWdvXCJcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUubm93KCkubWludXMoeyBob3VyczogMzYgfSkudG9SZWxhdGl2ZSh7IHJvdW5kOiBmYWxzZSB9KSAvLz0+IFwiMS41IGRheXMgYWdvXCJcbiAgICovXG4gIDtcblxuICBfcHJvdG8udG9SZWxhdGl2ZSA9IGZ1bmN0aW9uIHRvUmVsYXRpdmUob3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuaXNWYWxpZCkgcmV0dXJuIG51bGw7XG4gICAgdmFyIGJhc2UgPSBvcHRpb25zLmJhc2UgfHwgRGF0ZVRpbWUuZnJvbU9iamVjdCh7fSwge1xuICAgICAgem9uZTogdGhpcy56b25lXG4gICAgfSksXG4gICAgICAgIHBhZGRpbmcgPSBvcHRpb25zLnBhZGRpbmcgPyB0aGlzIDwgYmFzZSA/IC1vcHRpb25zLnBhZGRpbmcgOiBvcHRpb25zLnBhZGRpbmcgOiAwO1xuICAgIHZhciB1bml0cyA9IFtcInllYXJzXCIsIFwibW9udGhzXCIsIFwiZGF5c1wiLCBcImhvdXJzXCIsIFwibWludXRlc1wiLCBcInNlY29uZHNcIl07XG4gICAgdmFyIHVuaXQgPSBvcHRpb25zLnVuaXQ7XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheShvcHRpb25zLnVuaXQpKSB7XG4gICAgICB1bml0cyA9IG9wdGlvbnMudW5pdDtcbiAgICAgIHVuaXQgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRpZmZSZWxhdGl2ZShiYXNlLCB0aGlzLnBsdXMocGFkZGluZyksIF9leHRlbmRzKHt9LCBvcHRpb25zLCB7XG4gICAgICBudW1lcmljOiBcImFsd2F5c1wiLFxuICAgICAgdW5pdHM6IHVuaXRzLFxuICAgICAgdW5pdDogdW5pdFxuICAgIH0pKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIGRhdGUgcmVsYXRpdmUgdG8gdG9kYXksIHN1Y2ggYXMgXCJ5ZXN0ZXJkYXlcIiBvciBcIm5leHQgbW9udGhcIi5cbiAgICogT25seSBpbnRlcm5hdGlvbmFsaXplcyBvbiBwbGF0Zm9ybXMgdGhhdCBzdXBwb3J0cyBJbnRsLlJlbGF0aXZlVGltZUZvcm1hdC5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBvcHRpb25zIHRoYXQgYWZmZWN0IHRoZSBvdXRwdXRcbiAgICogQHBhcmFtIHtEYXRlVGltZX0gW29wdGlvbnMuYmFzZT1EYXRlVGltZS5ub3coKV0gLSB0aGUgRGF0ZVRpbWUgdG8gdXNlIGFzIHRoZSBiYXNpcyB0byB3aGljaCB0aGlzIHRpbWUgaXMgY29tcGFyZWQuIERlZmF1bHRzIHRvIG5vdy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMubG9jYWxlIC0gb3ZlcnJpZGUgdGhlIGxvY2FsZSBvZiB0aGlzIERhdGVUaW1lXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLnVuaXQgLSB1c2UgYSBzcGVjaWZpYyB1bml0OyBpZiBvbWl0dGVkLCB0aGUgbWV0aG9kIHdpbGwgcGljayB0aGUgdW5pdC4gVXNlIG9uZSBvZiBcInllYXJzXCIsIFwicXVhcnRlcnNcIiwgXCJtb250aHNcIiwgXCJ3ZWVrc1wiLCBvciBcImRheXNcIlxuICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5udW1iZXJpbmdTeXN0ZW0gLSBvdmVycmlkZSB0aGUgbnVtYmVyaW5nU3lzdGVtIG9mIHRoaXMgRGF0ZVRpbWUuIFRoZSBJbnRsIHN5c3RlbSBtYXkgY2hvb3NlIG5vdCB0byBob25vciB0aGlzXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLm5vdygpLnBsdXMoeyBkYXlzOiAxIH0pLnRvUmVsYXRpdmVDYWxlbmRhcigpIC8vPT4gXCJ0b21vcnJvd1wiXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLm5vdygpLnNldExvY2FsZShcImVzXCIpLnBsdXMoeyBkYXlzOiAxIH0pLnRvUmVsYXRpdmUoKSAvLz0+IFwiXCJtYVx1MDBGMWFuYVwiXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLm5vdygpLnBsdXMoeyBkYXlzOiAxIH0pLnRvUmVsYXRpdmVDYWxlbmRhcih7IGxvY2FsZTogXCJmclwiIH0pIC8vPT4gXCJkZW1haW5cIlxuICAgKiBAZXhhbXBsZSBEYXRlVGltZS5ub3coKS5taW51cyh7IGRheXM6IDIgfSkudG9SZWxhdGl2ZUNhbGVuZGFyKCkgLy89PiBcIjIgZGF5cyBhZ29cIlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by50b1JlbGF0aXZlQ2FsZW5kYXIgPSBmdW5jdGlvbiB0b1JlbGF0aXZlQ2FsZW5kYXIob3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuaXNWYWxpZCkgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIGRpZmZSZWxhdGl2ZShvcHRpb25zLmJhc2UgfHwgRGF0ZVRpbWUuZnJvbU9iamVjdCh7fSwge1xuICAgICAgem9uZTogdGhpcy56b25lXG4gICAgfSksIHRoaXMsIF9leHRlbmRzKHt9LCBvcHRpb25zLCB7XG4gICAgICBudW1lcmljOiBcImF1dG9cIixcbiAgICAgIHVuaXRzOiBbXCJ5ZWFyc1wiLCBcIm1vbnRoc1wiLCBcImRheXNcIl0sXG4gICAgICBjYWxlbmRhcnk6IHRydWVcbiAgICB9KSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgbWluIG9mIHNldmVyYWwgZGF0ZSB0aW1lc1xuICAgKiBAcGFyYW0gey4uLkRhdGVUaW1lfSBkYXRlVGltZXMgLSB0aGUgRGF0ZVRpbWVzIGZyb20gd2hpY2ggdG8gY2hvb3NlIHRoZSBtaW5pbXVtXG4gICAqIEByZXR1cm4ge0RhdGVUaW1lfSB0aGUgbWluIERhdGVUaW1lLCBvciB1bmRlZmluZWQgaWYgY2FsbGVkIHdpdGggbm8gYXJndW1lbnRcbiAgICovXG4gIDtcblxuICBEYXRlVGltZS5taW4gPSBmdW5jdGlvbiBtaW4oKSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGRhdGVUaW1lcyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGRhdGVUaW1lc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBpZiAoIWRhdGVUaW1lcy5ldmVyeShEYXRlVGltZS5pc0RhdGVUaW1lKSkge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFwibWluIHJlcXVpcmVzIGFsbCBhcmd1bWVudHMgYmUgRGF0ZVRpbWVzXCIpO1xuICAgIH1cblxuICAgIHJldHVybiBiZXN0QnkoZGF0ZVRpbWVzLCBmdW5jdGlvbiAoaSkge1xuICAgICAgcmV0dXJuIGkudmFsdWVPZigpO1xuICAgIH0sIE1hdGgubWluKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIHRoZSBtYXggb2Ygc2V2ZXJhbCBkYXRlIHRpbWVzXG4gICAqIEBwYXJhbSB7Li4uRGF0ZVRpbWV9IGRhdGVUaW1lcyAtIHRoZSBEYXRlVGltZXMgZnJvbSB3aGljaCB0byBjaG9vc2UgdGhlIG1heGltdW1cbiAgICogQHJldHVybiB7RGF0ZVRpbWV9IHRoZSBtYXggRGF0ZVRpbWUsIG9yIHVuZGVmaW5lZCBpZiBjYWxsZWQgd2l0aCBubyBhcmd1bWVudFxuICAgKi9cbiAgO1xuXG4gIERhdGVUaW1lLm1heCA9IGZ1bmN0aW9uIG1heCgpIHtcbiAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGRhdGVUaW1lcyA9IG5ldyBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgZGF0ZVRpbWVzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgfVxuXG4gICAgaWYgKCFkYXRlVGltZXMuZXZlcnkoRGF0ZVRpbWUuaXNEYXRlVGltZSkpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcIm1heCByZXF1aXJlcyBhbGwgYXJndW1lbnRzIGJlIERhdGVUaW1lc1wiKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYmVzdEJ5KGRhdGVUaW1lcywgZnVuY3Rpb24gKGkpIHtcbiAgICAgIHJldHVybiBpLnZhbHVlT2YoKTtcbiAgICB9LCBNYXRoLm1heCk7XG4gIH0gLy8gTUlTQ1xuXG4gIC8qKlxuICAgKiBFeHBsYWluIGhvdyBhIHN0cmluZyB3b3VsZCBiZSBwYXJzZWQgYnkgZnJvbUZvcm1hdCgpXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gdGhlIHN0cmluZyB0byBwYXJzZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gZm10IC0gdGhlIGZvcm1hdCB0aGUgc3RyaW5nIGlzIGV4cGVjdGVkIHRvIGJlIGluIChzZWUgZGVzY3JpcHRpb24pXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gb3B0aW9ucyB0YWtlbiBieSBmcm9tRm9ybWF0KClcbiAgICogQHJldHVybiB7T2JqZWN0fVxuICAgKi9cbiAgO1xuXG4gIERhdGVUaW1lLmZyb21Gb3JtYXRFeHBsYWluID0gZnVuY3Rpb24gZnJvbUZvcm1hdEV4cGxhaW4odGV4dCwgZm10LCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cblxuICAgIHZhciBfb3B0aW9ucyA9IG9wdGlvbnMsXG4gICAgICAgIF9vcHRpb25zJGxvY2FsZSA9IF9vcHRpb25zLmxvY2FsZSxcbiAgICAgICAgbG9jYWxlID0gX29wdGlvbnMkbG9jYWxlID09PSB2b2lkIDAgPyBudWxsIDogX29wdGlvbnMkbG9jYWxlLFxuICAgICAgICBfb3B0aW9ucyRudW1iZXJpbmdTeXMgPSBfb3B0aW9ucy5udW1iZXJpbmdTeXN0ZW0sXG4gICAgICAgIG51bWJlcmluZ1N5c3RlbSA9IF9vcHRpb25zJG51bWJlcmluZ1N5cyA9PT0gdm9pZCAwID8gbnVsbCA6IF9vcHRpb25zJG51bWJlcmluZ1N5cyxcbiAgICAgICAgbG9jYWxlVG9Vc2UgPSBMb2NhbGUuZnJvbU9wdHMoe1xuICAgICAgbG9jYWxlOiBsb2NhbGUsXG4gICAgICBudW1iZXJpbmdTeXN0ZW06IG51bWJlcmluZ1N5c3RlbSxcbiAgICAgIGRlZmF1bHRUb0VOOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIGV4cGxhaW5Gcm9tVG9rZW5zKGxvY2FsZVRvVXNlLCB0ZXh0LCBmbXQpO1xuICB9XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCB1c2UgZnJvbUZvcm1hdEV4cGxhaW4gaW5zdGVhZFxuICAgKi9cbiAgO1xuXG4gIERhdGVUaW1lLmZyb21TdHJpbmdFeHBsYWluID0gZnVuY3Rpb24gZnJvbVN0cmluZ0V4cGxhaW4odGV4dCwgZm10LCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cblxuICAgIHJldHVybiBEYXRlVGltZS5mcm9tRm9ybWF0RXhwbGFpbih0ZXh0LCBmbXQsIG9wdGlvbnMpO1xuICB9IC8vIEZPUk1BVCBQUkVTRVRTXG5cbiAgLyoqXG4gICAqIHtAbGluayBEYXRlVGltZSN0b0xvY2FsZVN0cmluZ30gZm9ybWF0IGxpa2UgMTAvMTQvMTk4M1xuICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgKi9cbiAgO1xuXG4gIF9jcmVhdGVDbGFzcyhEYXRlVGltZSwgW3tcbiAgICBrZXk6IFwiaXNWYWxpZFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuaW52YWxpZCA9PT0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBlcnJvciBjb2RlIGlmIHRoaXMgRGF0ZVRpbWUgaXMgaW52YWxpZCwgb3IgbnVsbCBpZiB0aGUgRGF0ZVRpbWUgaXMgdmFsaWRcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiaW52YWxpZFJlYXNvblwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuaW52YWxpZCA/IHRoaXMuaW52YWxpZC5yZWFzb24gOiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGV4cGxhbmF0aW9uIG9mIHdoeSB0aGlzIERhdGVUaW1lIGJlY2FtZSBpbnZhbGlkLCBvciBudWxsIGlmIHRoZSBEYXRlVGltZSBpcyB2YWxpZFxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJpbnZhbGlkRXhwbGFuYXRpb25cIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmludmFsaWQgPyB0aGlzLmludmFsaWQuZXhwbGFuYXRpb24gOiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGxvY2FsZSBvZiBhIERhdGVUaW1lLCBzdWNoICdlbi1HQicuIFRoZSBsb2NhbGUgaXMgdXNlZCB3aGVuIGZvcm1hdHRpbmcgdGhlIERhdGVUaW1lXG4gICAgICpcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibG9jYWxlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gdGhpcy5sb2MubG9jYWxlIDogbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBudW1iZXJpbmcgc3lzdGVtIG9mIGEgRGF0ZVRpbWUsIHN1Y2ggJ2JlbmcnLiBUaGUgbnVtYmVyaW5nIHN5c3RlbSBpcyB1c2VkIHdoZW4gZm9ybWF0dGluZyB0aGUgRGF0ZVRpbWVcbiAgICAgKlxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJudW1iZXJpbmdTeXN0ZW1cIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmlzVmFsaWQgPyB0aGlzLmxvYy5udW1iZXJpbmdTeXN0ZW0gOiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG91dHB1dCBjYWxlbmRhciBvZiBhIERhdGVUaW1lLCBzdWNoICdpc2xhbWljJy4gVGhlIG91dHB1dCBjYWxlbmRhciBpcyB1c2VkIHdoZW4gZm9ybWF0dGluZyB0aGUgRGF0ZVRpbWVcbiAgICAgKlxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJvdXRwdXRDYWxlbmRhclwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCA/IHRoaXMubG9jLm91dHB1dENhbGVuZGFyIDogbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB0aW1lIHpvbmUgYXNzb2NpYXRlZCB3aXRoIHRoaXMgRGF0ZVRpbWUuXG4gICAgICogQHR5cGUge1pvbmV9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ6b25lXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fem9uZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBuYW1lIG9mIHRoZSB0aW1lIHpvbmUuXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInpvbmVOYW1lXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gdGhpcy56b25lLm5hbWUgOiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHllYXJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5sb2NhbCgyMDE3LCA1LCAyNSkueWVhciAvLz0+IDIwMTdcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwieWVhclwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCA/IHRoaXMuYy55ZWFyIDogTmFOO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHF1YXJ0ZXJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5sb2NhbCgyMDE3LCA1LCAyNSkucXVhcnRlciAvLz0+IDJcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicXVhcnRlclwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCA/IE1hdGguY2VpbCh0aGlzLmMubW9udGggLyAzKSA6IE5hTjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBtb250aCAoMS0xMikuXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoMjAxNywgNSwgMjUpLm1vbnRoIC8vPT4gNVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJtb250aFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCA/IHRoaXMuYy5tb250aCA6IE5hTjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBkYXkgb2YgdGhlIG1vbnRoICgxLTMwaXNoKS5cbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5sb2NhbCgyMDE3LCA1LCAyNSkuZGF5IC8vPT4gMjVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZGF5XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gdGhpcy5jLmRheSA6IE5hTjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBob3VyIG9mIHRoZSBkYXkgKDAtMjMpLlxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTcsIDUsIDI1LCA5KS5ob3VyIC8vPT4gOVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJob3VyXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gdGhpcy5jLmhvdXIgOiBOYU47XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbWludXRlIG9mIHRoZSBob3VyICgwLTU5KS5cbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5sb2NhbCgyMDE3LCA1LCAyNSwgOSwgMzApLm1pbnV0ZSAvLz0+IDMwXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm1pbnV0ZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCA/IHRoaXMuYy5taW51dGUgOiBOYU47XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc2Vjb25kIG9mIHRoZSBtaW51dGUgKDAtNTkpLlxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTcsIDUsIDI1LCA5LCAzMCwgNTIpLnNlY29uZCAvLz0+IDUyXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInNlY29uZFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCA/IHRoaXMuYy5zZWNvbmQgOiBOYU47XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbWlsbGlzZWNvbmQgb2YgdGhlIHNlY29uZCAoMC05OTkpLlxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTcsIDUsIDI1LCA5LCAzMCwgNTIsIDY1NCkubWlsbGlzZWNvbmQgLy89PiA2NTRcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibWlsbGlzZWNvbmRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmlzVmFsaWQgPyB0aGlzLmMubWlsbGlzZWNvbmQgOiBOYU47XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgd2VlayB5ZWFyXG4gICAgICogQHNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JU09fd2Vla19kYXRlXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoMjAxNCwgMTIsIDMxKS53ZWVrWWVhciAvLz0+IDIwMTVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwid2Vla1llYXJcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmlzVmFsaWQgPyBwb3NzaWJseUNhY2hlZFdlZWtEYXRhKHRoaXMpLndlZWtZZWFyIDogTmFOO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHdlZWsgbnVtYmVyIG9mIHRoZSB3ZWVrIHllYXIgKDEtNTJpc2gpLlxuICAgICAqIEBzZWUgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSVNPX3dlZWtfZGF0ZVxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTcsIDUsIDI1KS53ZWVrTnVtYmVyIC8vPT4gMjFcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwid2Vla051bWJlclwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCA/IHBvc3NpYmx5Q2FjaGVkV2Vla0RhdGEodGhpcykud2Vla051bWJlciA6IE5hTjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBkYXkgb2YgdGhlIHdlZWsuXG4gICAgICogMSBpcyBNb25kYXkgYW5kIDcgaXMgU3VuZGF5XG4gICAgICogQHNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JU09fd2Vla19kYXRlXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoMjAxNCwgMTEsIDMxKS53ZWVrZGF5IC8vPT4gNFxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ3ZWVrZGF5XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gcG9zc2libHlDYWNoZWRXZWVrRGF0YSh0aGlzKS53ZWVrZGF5IDogTmFOO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG9yZGluYWwgKG1lYW5pbmcgdGhlIGRheSBvZiB0aGUgeWVhcilcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5sb2NhbCgyMDE3LCA1LCAyNSkub3JkaW5hbCAvLz0+IDE0NVxuICAgICAqIEB0eXBlIHtudW1iZXJ8RGF0ZVRpbWV9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJvcmRpbmFsXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gZ3JlZ29yaWFuVG9PcmRpbmFsKHRoaXMuYykub3JkaW5hbCA6IE5hTjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBodW1hbiByZWFkYWJsZSBzaG9ydCBtb250aCBuYW1lLCBzdWNoIGFzICdPY3QnLlxuICAgICAqIERlZmF1bHRzIHRvIHRoZSBzeXN0ZW0ncyBsb2NhbGUgaWYgbm8gbG9jYWxlIGhhcyBiZWVuIHNwZWNpZmllZFxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTcsIDEwLCAzMCkubW9udGhTaG9ydCAvLz0+IE9jdFxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJtb250aFNob3J0XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gSW5mby5tb250aHMoXCJzaG9ydFwiLCB7XG4gICAgICAgIGxvY09iajogdGhpcy5sb2NcbiAgICAgIH0pW3RoaXMubW9udGggLSAxXSA6IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgaHVtYW4gcmVhZGFibGUgbG9uZyBtb250aCBuYW1lLCBzdWNoIGFzICdPY3RvYmVyJy5cbiAgICAgKiBEZWZhdWx0cyB0byB0aGUgc3lzdGVtJ3MgbG9jYWxlIGlmIG5vIGxvY2FsZSBoYXMgYmVlbiBzcGVjaWZpZWRcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5sb2NhbCgyMDE3LCAxMCwgMzApLm1vbnRoTG9uZyAvLz0+IE9jdG9iZXJcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibW9udGhMb25nXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gSW5mby5tb250aHMoXCJsb25nXCIsIHtcbiAgICAgICAgbG9jT2JqOiB0aGlzLmxvY1xuICAgICAgfSlbdGhpcy5tb250aCAtIDFdIDogbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBodW1hbiByZWFkYWJsZSBzaG9ydCB3ZWVrZGF5LCBzdWNoIGFzICdNb24nLlxuICAgICAqIERlZmF1bHRzIHRvIHRoZSBzeXN0ZW0ncyBsb2NhbGUgaWYgbm8gbG9jYWxlIGhhcyBiZWVuIHNwZWNpZmllZFxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTcsIDEwLCAzMCkud2Vla2RheVNob3J0IC8vPT4gTW9uXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIndlZWtkYXlTaG9ydFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCA/IEluZm8ud2Vla2RheXMoXCJzaG9ydFwiLCB7XG4gICAgICAgIGxvY09iajogdGhpcy5sb2NcbiAgICAgIH0pW3RoaXMud2Vla2RheSAtIDFdIDogbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBodW1hbiByZWFkYWJsZSBsb25nIHdlZWtkYXksIHN1Y2ggYXMgJ01vbmRheScuXG4gICAgICogRGVmYXVsdHMgdG8gdGhlIHN5c3RlbSdzIGxvY2FsZSBpZiBubyBsb2NhbGUgaGFzIGJlZW4gc3BlY2lmaWVkXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoMjAxNywgMTAsIDMwKS53ZWVrZGF5TG9uZyAvLz0+IE1vbmRheVxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ3ZWVrZGF5TG9uZ1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCA/IEluZm8ud2Vla2RheXMoXCJsb25nXCIsIHtcbiAgICAgICAgbG9jT2JqOiB0aGlzLmxvY1xuICAgICAgfSlbdGhpcy53ZWVrZGF5IC0gMV0gOiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIFVUQyBvZmZzZXQgb2YgdGhpcyBEYXRlVGltZSBpbiBtaW51dGVzXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUubm93KCkub2Zmc2V0IC8vPT4gLTI0MFxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLnV0YygpLm9mZnNldCAvLz0+IDBcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwib2Zmc2V0XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gK3RoaXMubyA6IE5hTjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBzaG9ydCBodW1hbiBuYW1lIGZvciB0aGUgem9uZSdzIGN1cnJlbnQgb2Zmc2V0LCBmb3IgZXhhbXBsZSBcIkVTVFwiIG9yIFwiRURUXCIuXG4gICAgICogRGVmYXVsdHMgdG8gdGhlIHN5c3RlbSdzIGxvY2FsZSBpZiBubyBsb2NhbGUgaGFzIGJlZW4gc3BlY2lmaWVkXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm9mZnNldE5hbWVTaG9ydFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgaWYgKHRoaXMuaXNWYWxpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy56b25lLm9mZnNldE5hbWUodGhpcy50cywge1xuICAgICAgICAgIGZvcm1hdDogXCJzaG9ydFwiLFxuICAgICAgICAgIGxvY2FsZTogdGhpcy5sb2NhbGVcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBsb25nIGh1bWFuIG5hbWUgZm9yIHRoZSB6b25lJ3MgY3VycmVudCBvZmZzZXQsIGZvciBleGFtcGxlIFwiRWFzdGVybiBTdGFuZGFyZCBUaW1lXCIgb3IgXCJFYXN0ZXJuIERheWxpZ2h0IFRpbWVcIi5cbiAgICAgKiBEZWZhdWx0cyB0byB0aGUgc3lzdGVtJ3MgbG9jYWxlIGlmIG5vIGxvY2FsZSBoYXMgYmVlbiBzcGVjaWZpZWRcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwib2Zmc2V0TmFtZUxvbmdcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIGlmICh0aGlzLmlzVmFsaWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuem9uZS5vZmZzZXROYW1lKHRoaXMudHMsIHtcbiAgICAgICAgICBmb3JtYXQ6IFwibG9uZ1wiLFxuICAgICAgICAgIGxvY2FsZTogdGhpcy5sb2NhbGVcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHdoZXRoZXIgdGhpcyB6b25lJ3Mgb2Zmc2V0IGV2ZXIgY2hhbmdlcywgYXMgaW4gYSBEU1QuXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJpc09mZnNldEZpeGVkXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gdGhpcy56b25lLmlzVW5pdmVyc2FsIDogbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHdoZXRoZXIgdGhlIERhdGVUaW1lIGlzIGluIGEgRFNULlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiaXNJbkRTVFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgaWYgKHRoaXMuaXNPZmZzZXRGaXhlZCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5vZmZzZXQgPiB0aGlzLnNldCh7XG4gICAgICAgICAgbW9udGg6IDEsXG4gICAgICAgICAgZGF5OiAxXG4gICAgICAgIH0pLm9mZnNldCB8fCB0aGlzLm9mZnNldCA+IHRoaXMuc2V0KHtcbiAgICAgICAgICBtb250aDogNVxuICAgICAgICB9KS5vZmZzZXQ7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIERhdGVUaW1lIGlzIGluIGEgbGVhcCB5ZWFyLCBmYWxzZSBvdGhlcndpc2VcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5sb2NhbCgyMDE2KS5pc0luTGVhcFllYXIgLy89PiB0cnVlXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoMjAxMykuaXNJbkxlYXBZZWFyIC8vPT4gZmFsc2VcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImlzSW5MZWFwWWVhclwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIGlzTGVhcFllYXIodGhpcy55ZWFyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIGRheXMgaW4gdGhpcyBEYXRlVGltZSdzIG1vbnRoXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoMjAxNiwgMikuZGF5c0luTW9udGggLy89PiAyOVxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTYsIDMpLmRheXNJbk1vbnRoIC8vPT4gMzFcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZGF5c0luTW9udGhcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBkYXlzSW5Nb250aCh0aGlzLnllYXIsIHRoaXMubW9udGgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2YgZGF5cyBpbiB0aGlzIERhdGVUaW1lJ3MgeWVhclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTYpLmRheXNJblllYXIgLy89PiAzNjZcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5sb2NhbCgyMDEzKS5kYXlzSW5ZZWFyIC8vPT4gMzY1XG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImRheXNJblllYXJcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmlzVmFsaWQgPyBkYXlzSW5ZZWFyKHRoaXMueWVhcikgOiBOYU47XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG51bWJlciBvZiB3ZWVrcyBpbiB0aGlzIERhdGVUaW1lJ3MgeWVhclxuICAgICAqIEBzZWUgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSVNPX3dlZWtfZGF0ZVxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMDQpLndlZWtzSW5XZWVrWWVhciAvLz0+IDUzXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoMjAxMykud2Vla3NJbldlZWtZZWFyIC8vPT4gNTJcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwid2Vla3NJbldlZWtZZWFyXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gd2Vla3NJbldlZWtZZWFyKHRoaXMud2Vla1llYXIpIDogTmFOO1xuICAgIH1cbiAgfV0sIFt7XG4gICAga2V5OiBcIkRBVEVfU0hPUlRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBEQVRFX1NIT1JUO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiB7QGxpbmsgRGF0ZVRpbWUjdG9Mb2NhbGVTdHJpbmd9IGZvcm1hdCBsaWtlICdPY3QgMTQsIDE5ODMnXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIkRBVEVfTUVEXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gREFURV9NRUQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHtAbGluayBEYXRlVGltZSN0b0xvY2FsZVN0cmluZ30gZm9ybWF0IGxpa2UgJ0ZyaSwgT2N0IDE0LCAxOTgzJ1xuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJEQVRFX01FRF9XSVRIX1dFRUtEQVlcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBEQVRFX01FRF9XSVRIX1dFRUtEQVk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHtAbGluayBEYXRlVGltZSN0b0xvY2FsZVN0cmluZ30gZm9ybWF0IGxpa2UgJ09jdG9iZXIgMTQsIDE5ODMnXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIkRBVEVfRlVMTFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIERBVEVfRlVMTDtcbiAgICB9XG4gICAgLyoqXG4gICAgICoge0BsaW5rIERhdGVUaW1lI3RvTG9jYWxlU3RyaW5nfSBmb3JtYXQgbGlrZSAnVHVlc2RheSwgT2N0b2JlciAxNCwgMTk4MydcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiREFURV9IVUdFXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gREFURV9IVUdFO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiB7QGxpbmsgRGF0ZVRpbWUjdG9Mb2NhbGVTdHJpbmd9IGZvcm1hdCBsaWtlICcwOTozMCBBTScuIE9ubHkgMTItaG91ciBpZiB0aGUgbG9jYWxlIGlzLlxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJUSU1FX1NJTVBMRVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIFRJTUVfU0lNUExFO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiB7QGxpbmsgRGF0ZVRpbWUjdG9Mb2NhbGVTdHJpbmd9IGZvcm1hdCBsaWtlICcwOTozMDoyMyBBTScuIE9ubHkgMTItaG91ciBpZiB0aGUgbG9jYWxlIGlzLlxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJUSU1FX1dJVEhfU0VDT05EU1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIFRJTUVfV0lUSF9TRUNPTkRTO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiB7QGxpbmsgRGF0ZVRpbWUjdG9Mb2NhbGVTdHJpbmd9IGZvcm1hdCBsaWtlICcwOTozMDoyMyBBTSBFRFQnLiBPbmx5IDEyLWhvdXIgaWYgdGhlIGxvY2FsZSBpcy5cbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiVElNRV9XSVRIX1NIT1JUX09GRlNFVFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIFRJTUVfV0lUSF9TSE9SVF9PRkZTRVQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHtAbGluayBEYXRlVGltZSN0b0xvY2FsZVN0cmluZ30gZm9ybWF0IGxpa2UgJzA5OjMwOjIzIEFNIEVhc3Rlcm4gRGF5bGlnaHQgVGltZScuIE9ubHkgMTItaG91ciBpZiB0aGUgbG9jYWxlIGlzLlxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJUSU1FX1dJVEhfTE9OR19PRkZTRVRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBUSU1FX1dJVEhfTE9OR19PRkZTRVQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHtAbGluayBEYXRlVGltZSN0b0xvY2FsZVN0cmluZ30gZm9ybWF0IGxpa2UgJzA5OjMwJywgYWx3YXlzIDI0LWhvdXIuXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIlRJTUVfMjRfU0lNUExFXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gVElNRV8yNF9TSU1QTEU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHtAbGluayBEYXRlVGltZSN0b0xvY2FsZVN0cmluZ30gZm9ybWF0IGxpa2UgJzA5OjMwOjIzJywgYWx3YXlzIDI0LWhvdXIuXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIlRJTUVfMjRfV0lUSF9TRUNPTkRTXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gVElNRV8yNF9XSVRIX1NFQ09ORFM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHtAbGluayBEYXRlVGltZSN0b0xvY2FsZVN0cmluZ30gZm9ybWF0IGxpa2UgJzA5OjMwOjIzIEVEVCcsIGFsd2F5cyAyNC1ob3VyLlxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJUSU1FXzI0X1dJVEhfU0hPUlRfT0ZGU0VUXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gVElNRV8yNF9XSVRIX1NIT1JUX09GRlNFVDtcbiAgICB9XG4gICAgLyoqXG4gICAgICoge0BsaW5rIERhdGVUaW1lI3RvTG9jYWxlU3RyaW5nfSBmb3JtYXQgbGlrZSAnMDk6MzA6MjMgRWFzdGVybiBEYXlsaWdodCBUaW1lJywgYWx3YXlzIDI0LWhvdXIuXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIlRJTUVfMjRfV0lUSF9MT05HX09GRlNFVFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIFRJTUVfMjRfV0lUSF9MT05HX09GRlNFVDtcbiAgICB9XG4gICAgLyoqXG4gICAgICoge0BsaW5rIERhdGVUaW1lI3RvTG9jYWxlU3RyaW5nfSBmb3JtYXQgbGlrZSAnMTAvMTQvMTk4MywgOTozMCBBTScuIE9ubHkgMTItaG91ciBpZiB0aGUgbG9jYWxlIGlzLlxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJEQVRFVElNRV9TSE9SVFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIERBVEVUSU1FX1NIT1JUO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiB7QGxpbmsgRGF0ZVRpbWUjdG9Mb2NhbGVTdHJpbmd9IGZvcm1hdCBsaWtlICcxMC8xNC8xOTgzLCA5OjMwOjMzIEFNJy4gT25seSAxMi1ob3VyIGlmIHRoZSBsb2NhbGUgaXMuXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIkRBVEVUSU1FX1NIT1JUX1dJVEhfU0VDT05EU1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIERBVEVUSU1FX1NIT1JUX1dJVEhfU0VDT05EUztcbiAgICB9XG4gICAgLyoqXG4gICAgICoge0BsaW5rIERhdGVUaW1lI3RvTG9jYWxlU3RyaW5nfSBmb3JtYXQgbGlrZSAnT2N0IDE0LCAxOTgzLCA5OjMwIEFNJy4gT25seSAxMi1ob3VyIGlmIHRoZSBsb2NhbGUgaXMuXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIkRBVEVUSU1FX01FRFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIERBVEVUSU1FX01FRDtcbiAgICB9XG4gICAgLyoqXG4gICAgICoge0BsaW5rIERhdGVUaW1lI3RvTG9jYWxlU3RyaW5nfSBmb3JtYXQgbGlrZSAnT2N0IDE0LCAxOTgzLCA5OjMwOjMzIEFNJy4gT25seSAxMi1ob3VyIGlmIHRoZSBsb2NhbGUgaXMuXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIkRBVEVUSU1FX01FRF9XSVRIX1NFQ09ORFNcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBEQVRFVElNRV9NRURfV0lUSF9TRUNPTkRTO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiB7QGxpbmsgRGF0ZVRpbWUjdG9Mb2NhbGVTdHJpbmd9IGZvcm1hdCBsaWtlICdGcmksIDE0IE9jdCAxOTgzLCA5OjMwIEFNJy4gT25seSAxMi1ob3VyIGlmIHRoZSBsb2NhbGUgaXMuXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIkRBVEVUSU1FX01FRF9XSVRIX1dFRUtEQVlcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBEQVRFVElNRV9NRURfV0lUSF9XRUVLREFZO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiB7QGxpbmsgRGF0ZVRpbWUjdG9Mb2NhbGVTdHJpbmd9IGZvcm1hdCBsaWtlICdPY3RvYmVyIDE0LCAxOTgzLCA5OjMwIEFNIEVEVCcuIE9ubHkgMTItaG91ciBpZiB0aGUgbG9jYWxlIGlzLlxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJEQVRFVElNRV9GVUxMXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gREFURVRJTUVfRlVMTDtcbiAgICB9XG4gICAgLyoqXG4gICAgICoge0BsaW5rIERhdGVUaW1lI3RvTG9jYWxlU3RyaW5nfSBmb3JtYXQgbGlrZSAnT2N0b2JlciAxNCwgMTk4MywgOTozMDozMyBBTSBFRFQnLiBPbmx5IDEyLWhvdXIgaWYgdGhlIGxvY2FsZSBpcy5cbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiREFURVRJTUVfRlVMTF9XSVRIX1NFQ09ORFNcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBEQVRFVElNRV9GVUxMX1dJVEhfU0VDT05EUztcbiAgICB9XG4gICAgLyoqXG4gICAgICoge0BsaW5rIERhdGVUaW1lI3RvTG9jYWxlU3RyaW5nfSBmb3JtYXQgbGlrZSAnRnJpZGF5LCBPY3RvYmVyIDE0LCAxOTgzLCA5OjMwIEFNIEVhc3Rlcm4gRGF5bGlnaHQgVGltZScuIE9ubHkgMTItaG91ciBpZiB0aGUgbG9jYWxlIGlzLlxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJEQVRFVElNRV9IVUdFXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gREFURVRJTUVfSFVHRTtcbiAgICB9XG4gICAgLyoqXG4gICAgICoge0BsaW5rIERhdGVUaW1lI3RvTG9jYWxlU3RyaW5nfSBmb3JtYXQgbGlrZSAnRnJpZGF5LCBPY3RvYmVyIDE0LCAxOTgzLCA5OjMwOjMzIEFNIEVhc3Rlcm4gRGF5bGlnaHQgVGltZScuIE9ubHkgMTItaG91ciBpZiB0aGUgbG9jYWxlIGlzLlxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJEQVRFVElNRV9IVUdFX1dJVEhfU0VDT05EU1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIERBVEVUSU1FX0hVR0VfV0lUSF9TRUNPTkRTO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBEYXRlVGltZTtcbn0oKTtcbmZ1bmN0aW9uIGZyaWVuZGx5RGF0ZVRpbWUoZGF0ZVRpbWVpc2gpIHtcbiAgaWYgKERhdGVUaW1lLmlzRGF0ZVRpbWUoZGF0ZVRpbWVpc2gpKSB7XG4gICAgcmV0dXJuIGRhdGVUaW1laXNoO1xuICB9IGVsc2UgaWYgKGRhdGVUaW1laXNoICYmIGRhdGVUaW1laXNoLnZhbHVlT2YgJiYgaXNOdW1iZXIoZGF0ZVRpbWVpc2gudmFsdWVPZigpKSkge1xuICAgIHJldHVybiBEYXRlVGltZS5mcm9tSlNEYXRlKGRhdGVUaW1laXNoKTtcbiAgfSBlbHNlIGlmIChkYXRlVGltZWlzaCAmJiB0eXBlb2YgZGF0ZVRpbWVpc2ggPT09IFwib2JqZWN0XCIpIHtcbiAgICByZXR1cm4gRGF0ZVRpbWUuZnJvbU9iamVjdChkYXRlVGltZWlzaCk7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFwiVW5rbm93biBkYXRldGltZSBhcmd1bWVudDogXCIgKyBkYXRlVGltZWlzaCArIFwiLCBvZiB0eXBlIFwiICsgdHlwZW9mIGRhdGVUaW1laXNoKTtcbiAgfVxufVxuXG52YXIgVkVSU0lPTiA9IFwiMi40LjBcIjtcblxuZXhwb3J0cy5EYXRlVGltZSA9IERhdGVUaW1lO1xuZXhwb3J0cy5EdXJhdGlvbiA9IER1cmF0aW9uO1xuZXhwb3J0cy5GaXhlZE9mZnNldFpvbmUgPSBGaXhlZE9mZnNldFpvbmU7XG5leHBvcnRzLklBTkFab25lID0gSUFOQVpvbmU7XG5leHBvcnRzLkluZm8gPSBJbmZvO1xuZXhwb3J0cy5JbnRlcnZhbCA9IEludGVydmFsO1xuZXhwb3J0cy5JbnZhbGlkWm9uZSA9IEludmFsaWRab25lO1xuZXhwb3J0cy5TZXR0aW5ncyA9IFNldHRpbmdzO1xuZXhwb3J0cy5TeXN0ZW1ab25lID0gU3lzdGVtWm9uZTtcbmV4cG9ydHMuVkVSU0lPTiA9IFZFUlNJT047XG5leHBvcnRzLlpvbmUgPSBab25lO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bHV4b24uanMubWFwXG4iLCAiLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFF1ZXJ5IFNldHRpbmdzIC8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5leHBvcnQgaW50ZXJmYWNlIFF1ZXJ5U2V0dGluZ3Mge1xuICAgIC8qKiBXaGF0IHRvIHJlbmRlciAnbnVsbCcgYXMgaW4gdGFibGVzLiBEZWZhdWx0cyB0byAnLScuICovXG4gICAgcmVuZGVyTnVsbEFzOiBzdHJpbmc7XG4gICAgLyoqIElmIGVuYWJsZWQsIHRhc2tzIGluIERhdGF2aWV3IHZpZXdzIHdpbGwgYXV0b21hdGljYWxseSBoYXZlIHRoZWlyIGNvbXBsZXRpb24gZGF0ZSBhcHBlbmRlZCB3aGVuIHRoZXkgYXJlIGNoZWNrZWQuICovXG4gICAgdGFza0NvbXBsZXRpb25UcmFja2luZzogYm9vbGVhbjtcbiAgICAvKiogSWYgZW5hYmxlZCwgYXV0b21hdGljIGNvbXBsZXRpb25zIHdpbGwgdXNlIGVtb2ppIHNob3J0aGFuZCBcdTI3MDUgWVlZWS1NTS1ERCBpbnN0ZWFkIG9mIFtjb21wbGV0aW9uOjogZGF0ZV0uICovXG4gICAgdGFza0NvbXBsZXRpb25Vc2VFbW9qaVNob3J0aGFuZDogYm9vbGVhbjtcbiAgICAvKiogVGhlIG5hbWUgb2YgdGhlIGlubGluZSBmaWVsZCB0byBiZSBhZGRlZCBhcyBhIHRhc2sncyBjb21wbGV0aW9uIHdoZW4gY2hlY2tlZC4gT25seSB1c2VkIGlmIGNvbXBsZXRpb25UcmFja2luZyBpcyBlbmFibGVkIGFuZCBlbW9qaVNob3J0aGFuZCBpcyBub3QuICovXG4gICAgdGFza0NvbXBsZXRpb25UZXh0OiBzdHJpbmc7XG4gICAgLyoqIERhdGUgZm9ybWF0IG9mIHRoZSB0YXNrJ3MgY29tcGxldGlvbiB0aW1lc3RhbXAuIE9ubHkgdXNlZCBpZiBjb21wbGV0aW9uVHJhY2tpbmcgaXMgZW5hYmxlZCBhbmQgZW1vamlTaG9ydGhhbmQgaXMgbm90LiAqL1xuICAgIHRhc2tDb21wbGV0aW9uRGF0ZUZvcm1hdDogc3RyaW5nO1xuICAgIC8qKiBXaGV0aGVyIG9yIG5vdCBzdWJ0YXNrcyBzaG91bGQgYmUgcmVjdXJzaXZlbHkgY29tcGxldGVkIGluIGFkZGl0aW9uIHRvIHRoZWlyIHBhcmVudCB0YXNrLiAqL1xuICAgIHJlY3Vyc2l2ZVN1YlRhc2tDb21wbGV0aW9uOiBib29sZWFuO1xuICAgIC8qKiBJZiB0cnVlLCByZW5kZXIgYSBtb2RhbCB3aGljaCBzaG93cyBubyByZXN1bHRzIHdlcmUgcmV0dXJuZWQuICovXG4gICAgd2Fybk9uRW1wdHlSZXN1bHQ6IGJvb2xlYW47XG4gICAgLyoqIFdoZXRoZXIgb3Igbm90IGF1dG9tYXRpYyB2aWV3IHJlZnJlc2hpbmcgaXMgZW5hYmxlZC4gKi9cbiAgICByZWZyZXNoRW5hYmxlZDogYm9vbGVhbjtcbiAgICAvKiogVGhlIGludGVydmFsIHRoYXQgdmlld3MgYXJlIHJlZnJlc2hlZCwgYnkgZGVmYXVsdC4gKi9cbiAgICByZWZyZXNoSW50ZXJ2YWw6IG51bWJlcjtcbiAgICAvKiogVGhlIGRlZmF1bHQgZm9ybWF0IHRoYXQgZGF0ZXMgYXJlIHJlbmRlcmVkIGluICh1c2luZyBsdXhvbidzIG1vbWVudC1saWtlIGZvcm1hdHRpbmcpLiAqL1xuICAgIGRlZmF1bHREYXRlRm9ybWF0OiBzdHJpbmc7XG4gICAgLyoqIFRoZSBkZWZhdWx0IGZvcm1hdCB0aGF0IGRhdGUtdGltZXMgYXJlIHJlbmRlcmVkIGluICh1c2luZyBsdXhvbnMgbW9tZW50LWxpa2UgZm9ybWF0dGluZykuICovXG4gICAgZGVmYXVsdERhdGVUaW1lRm9ybWF0OiBzdHJpbmc7XG4gICAgLyoqIE1heGltdW0gZGVwdGggdGhhdCBvYmplY3RzIHdpbGwgYmUgZXhwYW5kZWQgd2hlbiBiZWluZyByZW5kZXJlZCByZWN1cnNpdmVseS4gKi9cbiAgICBtYXhSZWN1cnNpdmVSZW5kZXJEZXB0aDogbnVtYmVyO1xuICAgIC8qKiBUaGUgbmFtZSBvZiB0aGUgZGVmYXVsdCBJRCBmaWVsZCAoJ0ZpbGUnKS4gKi9cbiAgICB0YWJsZUlkQ29sdW1uTmFtZTogc3RyaW5nO1xuICAgIC8qKiBUaGUgbmFtZSBvZiBkZWZhdWx0IElEIGZpZWxkcyBvbiBncm91cGVkIGRhdGEgKCdHcm91cCcpLiAqL1xuICAgIHRhYmxlR3JvdXBDb2x1bW5OYW1lOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX1FVRVJZX1NFVFRJTkdTOiBRdWVyeVNldHRpbmdzID0ge1xuICAgIHJlbmRlck51bGxBczogXCJcXFxcLVwiLFxuICAgIHRhc2tDb21wbGV0aW9uVHJhY2tpbmc6IGZhbHNlLFxuICAgIHRhc2tDb21wbGV0aW9uVXNlRW1vamlTaG9ydGhhbmQ6IGZhbHNlLFxuICAgIHRhc2tDb21wbGV0aW9uVGV4dDogXCJjb21wbGV0aW9uXCIsXG4gICAgdGFza0NvbXBsZXRpb25EYXRlRm9ybWF0OiBcInl5eXktTU0tZGRcIixcbiAgICByZWN1cnNpdmVTdWJUYXNrQ29tcGxldGlvbjogZmFsc2UsXG4gICAgd2Fybk9uRW1wdHlSZXN1bHQ6IHRydWUsXG4gICAgcmVmcmVzaEVuYWJsZWQ6IHRydWUsXG4gICAgcmVmcmVzaEludGVydmFsOiAyNTAwLFxuICAgIGRlZmF1bHREYXRlRm9ybWF0OiBcIk1NTU0gZGQsIHl5eXlcIixcbiAgICBkZWZhdWx0RGF0ZVRpbWVGb3JtYXQ6IFwiaDptbSBhIC0gTU1NTSBkZCwgeXl5eVwiLFxuICAgIG1heFJlY3Vyc2l2ZVJlbmRlckRlcHRoOiA0LFxuXG4gICAgdGFibGVJZENvbHVtbk5hbWU6IFwiRmlsZVwiLFxuICAgIHRhYmxlR3JvdXBDb2x1bW5OYW1lOiBcIkdyb3VwXCIsXG59O1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIEV4cG9ydCBTZXR0aW5ncyAvL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmV4cG9ydCBpbnRlcmZhY2UgRXhwb3J0U2V0dGluZ3Mge1xuICAgIC8qKiBXaGV0aGVyIG9yIG5vdCBIVE1MIHNob3VsZCBiZSB1c2VkIGZvciBmb3JtYXR0aW5nIGluIGV4cG9ydHMuICovXG4gICAgYWxsb3dIdG1sOiBib29sZWFuO1xufVxuXG5leHBvcnQgY29uc3QgREVGQVVMVF9FWFBPUlRfU0VUVElOR1M6IEV4cG9ydFNldHRpbmdzID0ge1xuICAgIGFsbG93SHRtbDogdHJ1ZSxcbn07XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIEdlbmVyYWwgRGF0YXZpZXcgU2V0dGluZ3MgLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuZXhwb3J0IGludGVyZmFjZSBEYXRhdmlld1NldHRpbmdzIGV4dGVuZHMgUXVlcnlTZXR0aW5ncywgRXhwb3J0U2V0dGluZ3Mge1xuICAgIC8qKiBUaGUgcHJlZml4IGZvciBpbmxpbmUgcXVlcmllcyBieSBkZWZhdWx0LiAqL1xuICAgIGlubGluZVF1ZXJ5UHJlZml4OiBzdHJpbmc7XG4gICAgLyoqIFRoZSBwcmVmaXggZm9yIGlubGluZSBKUyBxdWVyaWVzIGJ5IGRlZmF1bHQuICovXG4gICAgaW5saW5lSnNRdWVyeVByZWZpeDogc3RyaW5nO1xuICAgIC8qKiBJZiB0cnVlLCBpbmxpbmUgcXVlcmllcyBhcmUgYWxzbyBldmFsdWF0ZWQgaW4gZnVsbCBjb2RlYmxvY2tzLiAqL1xuICAgIGlubGluZVF1ZXJpZXNJbkNvZGVibG9ja3M6IGJvb2xlYW47XG4gICAgLyoqIEVuYWJsZSBvciBkaXNhYmxlIGV4ZWN1dGluZyBEYXRhdmlld0pTIHF1ZXJpZXMuICovXG4gICAgZW5hYmxlRGF0YXZpZXdKczogYm9vbGVhbjtcbiAgICAvKiogRW5hYmxlIG9yIGRpc2FibGUgcmVndWxhciBpbmxpbmUgcXVlcmllcy4gKi9cbiAgICBlbmFibGVJbmxpbmVEYXRhdmlldzogYm9vbGVhbjtcbiAgICAvKiogRW5hYmxlIG9yIGRpc2FibGUgZXhlY3V0aW5nIGlubGluZSBEYXRhdmlld0pTIHF1ZXJpZXMuICovXG4gICAgZW5hYmxlSW5saW5lRGF0YXZpZXdKczogYm9vbGVhbjtcbiAgICAvKiogRW5hYmxlIG9yIGRpc2FibGUgcmVuZGVyaW5nIGlubGluZSBmaWVsZHMgcHJldHRpbHkuICovXG4gICAgcHJldHR5UmVuZGVySW5saW5lRmllbGRzOiBib29sZWFuO1xufVxuXG4vKiogRGVmYXVsdCBzZXR0aW5ncyBmb3IgZGF0YXZpZXcgb24gaW5zdGFsbC4gKi9cbmV4cG9ydCBjb25zdCBERUZBVUxUX1NFVFRJTkdTOiBEYXRhdmlld1NldHRpbmdzID0ge1xuICAgIC4uLkRFRkFVTFRfUVVFUllfU0VUVElOR1MsXG4gICAgLi4uREVGQVVMVF9FWFBPUlRfU0VUVElOR1MsXG4gICAgLi4ue1xuICAgICAgICBpbmxpbmVRdWVyeVByZWZpeDogXCI9XCIsXG4gICAgICAgIGlubGluZUpzUXVlcnlQcmVmaXg6IFwiJD1cIixcbiAgICAgICAgaW5saW5lUXVlcmllc0luQ29kZWJsb2NrczogdHJ1ZSxcbiAgICAgICAgZW5hYmxlSW5saW5lRGF0YXZpZXc6IHRydWUsXG4gICAgICAgIGVuYWJsZURhdGF2aWV3SnM6IGZhbHNlLFxuICAgICAgICBlbmFibGVJbmxpbmVEYXRhdmlld0pzOiBmYWxzZSxcbiAgICAgICAgcHJldHR5UmVuZGVySW5saW5lRmllbGRzOiB0cnVlLFxuICAgIH0sXG59O1xuIiwgIi8qKiBGdW5jdGlvbmFsIHJldHVybiB0eXBlIGZvciBlcnJvciBoYW5kbGluZy4gKi9cbmV4cG9ydCBjbGFzcyBTdWNjZXNzPFQsIEU+IHtcbiAgICBwdWJsaWMgc3VjY2Vzc2Z1bDogdHJ1ZTtcblxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihwdWJsaWMgdmFsdWU6IFQpIHtcbiAgICAgICAgdGhpcy5zdWNjZXNzZnVsID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbWFwPFU+KGY6IChhOiBUKSA9PiBVKTogUmVzdWx0PFUsIEU+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBTdWNjZXNzKGYodGhpcy52YWx1ZSkpO1xuICAgIH1cblxuICAgIHB1YmxpYyBmbGF0TWFwPFU+KGY6IChhOiBUKSA9PiBSZXN1bHQ8VSwgRT4pOiBSZXN1bHQ8VSwgRT4ge1xuICAgICAgICByZXR1cm4gZih0aGlzLnZhbHVlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbWFwRXJyPFU+KGY6IChlOiBFKSA9PiBVKTogUmVzdWx0PFQsIFU+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMgYXMgYW55IGFzIFJlc3VsdDxULCBVPjtcbiAgICB9XG5cbiAgICBwdWJsaWMgYmltYXA8VDIsIEUyPihzdWNjOiAoYTogVCkgPT4gVDIsIF9mYWlsOiAoYjogRSkgPT4gRTIpOiBSZXN1bHQ8VDIsIEUyPiB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcChzdWNjKSBhcyBhbnk7XG4gICAgfVxuXG4gICAgcHVibGljIG9yRWxzZShfdmFsdWU6IFQpOiBUIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIGNhc3Q8VT4oKTogUmVzdWx0PFUsIEU+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMgYXMgYW55O1xuICAgIH1cblxuICAgIHB1YmxpYyBvckVsc2VUaHJvdyhfbWVzc2FnZT86IChlOiBFKSA9PiBzdHJpbmcpOiBUIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgfVxufVxuXG4vKiogRnVuY3Rpb25hbCByZXR1cm4gdHlwZSBmb3IgZXJyb3IgaGFuZGxpbmcuICovXG5leHBvcnQgY2xhc3MgRmFpbHVyZTxULCBFPiB7XG4gICAgcHVibGljIHN1Y2Nlc3NmdWw6IGZhbHNlO1xuXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKHB1YmxpYyBlcnJvcjogRSkge1xuICAgICAgICB0aGlzLnN1Y2Nlc3NmdWwgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbWFwPFU+KF9mOiAoYTogVCkgPT4gVSk6IFJlc3VsdDxVLCBFPiB7XG4gICAgICAgIHJldHVybiB0aGlzIGFzIGFueSBhcyBGYWlsdXJlPFUsIEU+O1xuICAgIH1cblxuICAgIHB1YmxpYyBmbGF0TWFwPFU+KF9mOiAoYTogVCkgPT4gUmVzdWx0PFUsIEU+KTogUmVzdWx0PFUsIEU+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMgYXMgYW55IGFzIEZhaWx1cmU8VSwgRT47XG4gICAgfVxuXG4gICAgcHVibGljIG1hcEVycjxVPihmOiAoZTogRSkgPT4gVSk6IFJlc3VsdDxULCBVPiB7XG4gICAgICAgIHJldHVybiBuZXcgRmFpbHVyZShmKHRoaXMuZXJyb3IpKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYmltYXA8VDIsIEUyPihfc3VjYzogKGE6IFQpID0+IFQyLCBmYWlsOiAoYjogRSkgPT4gRTIpOiBSZXN1bHQ8VDIsIEUyPiB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcEVycihmYWlsKSBhcyBhbnk7XG4gICAgfVxuXG4gICAgcHVibGljIG9yRWxzZSh2YWx1ZTogVCk6IFQge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIGNhc3Q8VT4oKTogUmVzdWx0PFUsIEU+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMgYXMgYW55O1xuICAgIH1cblxuICAgIHB1YmxpYyBvckVsc2VUaHJvdyhtZXNzYWdlPzogKGU6IEUpID0+IHN0cmluZyk6IFQge1xuICAgICAgICBpZiAobWVzc2FnZSkgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UodGhpcy5lcnJvcikpO1xuICAgICAgICBlbHNlIHRocm93IG5ldyBFcnJvcihcIlwiICsgdGhpcy5lcnJvcik7XG4gICAgfVxufVxuXG5leHBvcnQgdHlwZSBSZXN1bHQ8VCwgRT4gPSBTdWNjZXNzPFQsIEU+IHwgRmFpbHVyZTxULCBFPjtcblxuLyoqIE1vbmFkaWMgJ1Jlc3VsdCcgdHlwZSB3aGljaCBlbmNhcHN1bGF0ZXMgd2hldGhlciBhIHByb2NlZHVyZSBzdWNjZWVkZWQgb3IgZmFpbGVkLCBhcyB3ZWxsIGFzIGl0J3MgcmV0dXJuIHZhbHVlLiAqL1xuZXhwb3J0IG5hbWVzcGFjZSBSZXN1bHQge1xuICAgIC8qKiBDb25zdHJ1Y3QgYSBuZXcgc3VjY2VzcyByZXN1bHQgd3JhcHBpbmcgdGhlIGdpdmVuIHZhbHVlLiAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBzdWNjZXNzPFQsIEU+KHZhbHVlOiBUKTogUmVzdWx0PFQsIEU+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBTdWNjZXNzKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKiogQ29uc3RydWN0IGEgbmV3IGZhaWx1cmUgdmFsdWUgd3JhcHBpbmcgdGhlIGdpdmVuIGVycm9yLiAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBmYWlsdXJlPFQsIEU+KGVycm9yOiBFKTogUmVzdWx0PFQsIEU+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBGYWlsdXJlKGVycm9yKTtcbiAgICB9XG5cbiAgICAvKiogSm9pbiB0d28gcmVzdWx0cyB3aXRoIGEgYmktZnVuY3Rpb24gYW5kIHJldHVybiBhIG5ldyByZXN1bHQuICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGZsYXRNYXAyPFQxLCBUMiwgTywgRT4oXG4gICAgICAgIGZpcnN0OiBSZXN1bHQ8VDEsIEU+LFxuICAgICAgICBzZWNvbmQ6IFJlc3VsdDxUMiwgRT4sXG4gICAgICAgIGY6IChhOiBUMSwgYjogVDIpID0+IFJlc3VsdDxPLCBFPlxuICAgICk6IFJlc3VsdDxPLCBFPiB7XG4gICAgICAgIGlmIChmaXJzdC5zdWNjZXNzZnVsKSB7XG4gICAgICAgICAgICBpZiAoc2Vjb25kLnN1Y2Nlc3NmdWwpIHJldHVybiBmKGZpcnN0LnZhbHVlLCBzZWNvbmQudmFsdWUpO1xuICAgICAgICAgICAgZWxzZSByZXR1cm4gZmFpbHVyZShzZWNvbmQuZXJyb3IpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhaWx1cmUoZmlyc3QuZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqIEpvaW4gdHdvIHJlc3VsdHMgd2l0aCBhIGJpLWZ1bmN0aW9uIGFuZCByZXR1cm4gYSBuZXcgcmVzdWx0LiAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBtYXAyPFQxLCBUMiwgTywgRT4oXG4gICAgICAgIGZpcnN0OiBSZXN1bHQ8VDEsIEU+LFxuICAgICAgICBzZWNvbmQ6IFJlc3VsdDxUMiwgRT4sXG4gICAgICAgIGY6IChhOiBUMSwgYjogVDIpID0+IE9cbiAgICApOiBSZXN1bHQ8TywgRT4ge1xuICAgICAgICByZXR1cm4gZmxhdE1hcDIoZmlyc3QsIHNlY29uZCwgKGEsIGIpID0+IHN1Y2Nlc3MoZihhLCBiKSkpO1xuICAgIH1cbn1cbiIsICIhZnVuY3Rpb24obix0KXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10KCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXSx0KTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLlBhcnNpbW1vbj10KCk6bi5QYXJzaW1tb249dCgpfShcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24obil7dmFyIHQ9e307ZnVuY3Rpb24gcihlKXtpZih0W2VdKXJldHVybiB0W2VdLmV4cG9ydHM7dmFyIHU9dFtlXT17aTplLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIG5bZV0uY2FsbCh1LmV4cG9ydHMsdSx1LmV4cG9ydHMsciksdS5sPSEwLHUuZXhwb3J0c31yZXR1cm4gci5tPW4sci5jPXQsci5kPWZ1bmN0aW9uKG4sdCxlKXtyLm8obix0KXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sdCx7Y29uZmlndXJhYmxlOiExLGVudW1lcmFibGU6ITAsZ2V0OmV9KX0sci5yPWZ1bmN0aW9uKG4pe09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxyLm49ZnVuY3Rpb24obil7dmFyIHQ9biYmbi5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIG4uZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gbn07cmV0dXJuIHIuZCh0LFwiYVwiLHQpLHR9LHIubz1mdW5jdGlvbihuLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobix0KX0sci5wPVwiXCIscihyLnM9MCl9KFtmdW5jdGlvbihuLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gZShuKXtpZighKHRoaXMgaW5zdGFuY2VvZiBlKSlyZXR1cm4gbmV3IGUobik7dGhpcy5fPW59dmFyIHU9ZS5wcm90b3R5cGU7ZnVuY3Rpb24gbyhuLHQpe2Zvcih2YXIgcj0wO3I8bjtyKyspdChyKX1mdW5jdGlvbiBpKG4sdCxyKXtyZXR1cm4gZnVuY3Rpb24obix0KXtvKHQubGVuZ3RoLGZ1bmN0aW9uKHIpe24odFtyXSxyLHQpfSl9KGZ1bmN0aW9uKHIsZSx1KXt0PW4odCxyLGUsdSl9LHIpLHR9ZnVuY3Rpb24gYShuLHQpe3JldHVybiBpKGZ1bmN0aW9uKHQscixlLHUpe3JldHVybiB0LmNvbmNhdChbbihyLGUsdSldKX0sW10sdCl9ZnVuY3Rpb24gZihuLHQpe3ZhciByPXt2OjAsYnVmOnR9O3JldHVybiBvKG4sZnVuY3Rpb24oKXt2YXIgbjtyPXt2OnIudjw8MXwobj1yLmJ1ZixuWzBdPj43KSxidWY6ZnVuY3Rpb24obil7dmFyIHQ9aShmdW5jdGlvbihuLHQscixlKXtyZXR1cm4gbi5jb25jYXQocj09PWUubGVuZ3RoLTE/QnVmZmVyLmZyb20oW3QsMF0pLnJlYWRVSW50MTZCRSgwKTplLnJlYWRVSW50MTZCRShyKSl9LFtdLG4pO3JldHVybiBCdWZmZXIuZnJvbShhKGZ1bmN0aW9uKG4pe3JldHVybihuPDwxJjY1NTM1KT4+OH0sdCkpfShyLmJ1Zil9fSkscn1mdW5jdGlvbiBjKCl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEJ1ZmZlcn1mdW5jdGlvbiBzKCl7aWYoIWMoKSl0aHJvdyBuZXcgRXJyb3IoXCJCdWZmZXIgZ2xvYmFsIGRvZXMgbm90IGV4aXN0OyBwbGVhc2UgdXNlIHdlYnBhY2sgaWYgeW91IG5lZWQgdG8gcGFyc2UgQnVmZmVycyBpbiB0aGUgYnJvd3Nlci5cIil9ZnVuY3Rpb24gbChuKXtzKCk7dmFyIHQ9aShmdW5jdGlvbihuLHQpe3JldHVybiBuK3R9LDAsbik7aWYodCU4IT0wKXRocm93IG5ldyBFcnJvcihcIlRoZSBiaXRzIFtcIituLmpvaW4oXCIsIFwiKStcIl0gYWRkIHVwIHRvIFwiK3QrXCIgd2hpY2ggaXMgbm90IGFuIGV2ZW4gbnVtYmVyIG9mIGJ5dGVzOyB0aGUgdG90YWwgc2hvdWxkIGJlIGRpdmlzaWJsZSBieSA4XCIpO3ZhciByLHU9dC84LG89KHI9ZnVuY3Rpb24obil7cmV0dXJuIG4+NDh9LGkoZnVuY3Rpb24obix0KXtyZXR1cm4gbnx8KHIodCk/dDpuKX0sbnVsbCxuKSk7aWYobyl0aHJvdyBuZXcgRXJyb3IobytcIiBiaXQgcmFuZ2UgcmVxdWVzdGVkIGV4Y2VlZHMgNDggYml0ICg2IGJ5dGUpIE51bWJlciBtYXguXCIpO3JldHVybiBuZXcgZShmdW5jdGlvbih0LHIpe3ZhciBlPXUrcjtyZXR1cm4gZT50Lmxlbmd0aD94KHIsdS50b1N0cmluZygpK1wiIGJ5dGVzXCIpOmIoZSxpKGZ1bmN0aW9uKG4sdCl7dmFyIHI9Zih0LG4uYnVmKTtyZXR1cm57Y29sbDpuLmNvbGwuY29uY2F0KHIudiksYnVmOnIuYnVmfX0se2NvbGw6W10sYnVmOnQuc2xpY2UocixlKX0sbikuY29sbCl9KX1mdW5jdGlvbiBoKG4sdCl7cmV0dXJuIG5ldyBlKGZ1bmN0aW9uKHIsZSl7cmV0dXJuIHMoKSxlK3Q+ci5sZW5ndGg/eChlLHQrXCIgYnl0ZXMgZm9yIFwiK24pOmIoZSt0LHIuc2xpY2UoZSxlK3QpKX0pfWZ1bmN0aW9uIHAobix0KXtpZihcIm51bWJlclwiIT10eXBlb2Yocj10KXx8TWF0aC5mbG9vcihyKSE9PXJ8fHQ8MHx8dD42KXRocm93IG5ldyBFcnJvcihuK1wiIHJlcXVpcmVzIGludGVnZXIgbGVuZ3RoIGluIHJhbmdlIFswLCA2XS5cIik7dmFyIHJ9ZnVuY3Rpb24gZChuKXtyZXR1cm4gcChcInVpbnRCRVwiLG4pLGgoXCJ1aW50QkUoXCIrbitcIilcIixuKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQucmVhZFVJbnRCRSgwLG4pfSl9ZnVuY3Rpb24gdihuKXtyZXR1cm4gcChcInVpbnRMRVwiLG4pLGgoXCJ1aW50TEUoXCIrbitcIilcIixuKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQucmVhZFVJbnRMRSgwLG4pfSl9ZnVuY3Rpb24gZyhuKXtyZXR1cm4gcChcImludEJFXCIsbiksaChcImludEJFKFwiK24rXCIpXCIsbikubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LnJlYWRJbnRCRSgwLG4pfSl9ZnVuY3Rpb24gbShuKXtyZXR1cm4gcChcImludExFXCIsbiksaChcImludExFKFwiK24rXCIpXCIsbikubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LnJlYWRJbnRMRSgwLG4pfSl9ZnVuY3Rpb24geShuKXtyZXR1cm4gbiBpbnN0YW5jZW9mIGV9ZnVuY3Rpb24gRShuKXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PT17fS50b1N0cmluZy5jYWxsKG4pfWZ1bmN0aW9uIHcobil7cmV0dXJuIGMoKSYmQnVmZmVyLmlzQnVmZmVyKG4pfWZ1bmN0aW9uIGIobix0KXtyZXR1cm57c3RhdHVzOiEwLGluZGV4Om4sdmFsdWU6dCxmdXJ0aGVzdDotMSxleHBlY3RlZDpbXX19ZnVuY3Rpb24geChuLHQpe3JldHVybiBFKHQpfHwodD1bdF0pLHtzdGF0dXM6ITEsaW5kZXg6LTEsdmFsdWU6bnVsbCxmdXJ0aGVzdDpuLGV4cGVjdGVkOnR9fWZ1bmN0aW9uIEIobix0KXtpZighdClyZXR1cm4gbjtpZihuLmZ1cnRoZXN0PnQuZnVydGhlc3QpcmV0dXJuIG47dmFyIHI9bi5mdXJ0aGVzdD09PXQuZnVydGhlc3Q/ZnVuY3Rpb24obix0KXtpZihmdW5jdGlvbigpe2lmKHZvaWQgMCE9PWUuX3N1cHBvcnRzU2V0KXJldHVybiBlLl9zdXBwb3J0c1NldDt2YXIgbj1cInVuZGVmaW5lZFwiIT10eXBlb2YgU2V0O3JldHVybiBlLl9zdXBwb3J0c1NldD1uLG59KCkmJkFycmF5LmZyb20pe2Zvcih2YXIgcj1uZXcgU2V0KG4pLHU9MDt1PHQubGVuZ3RoO3UrKylyLmFkZCh0W3VdKTt2YXIgbz1BcnJheS5mcm9tKHIpO3JldHVybiBvLnNvcnQoKSxvfWZvcih2YXIgaT17fSxhPTA7YTxuLmxlbmd0aDthKyspaVtuW2FdXT0hMDtmb3IodmFyIGY9MDtmPHQubGVuZ3RoO2YrKylpW3RbZl1dPSEwO3ZhciBjPVtdO2Zvcih2YXIgcyBpbiBpKSh7fSkuaGFzT3duUHJvcGVydHkuY2FsbChpLHMpJiZjLnB1c2gocyk7cmV0dXJuIGMuc29ydCgpLGN9KG4uZXhwZWN0ZWQsdC5leHBlY3RlZCk6dC5leHBlY3RlZDtyZXR1cm57c3RhdHVzOm4uc3RhdHVzLGluZGV4Om4uaW5kZXgsdmFsdWU6bi52YWx1ZSxmdXJ0aGVzdDp0LmZ1cnRoZXN0LGV4cGVjdGVkOnJ9fXZhciBqPXt9O2Z1bmN0aW9uIFMobix0KXtpZih3KG4pKXJldHVybntvZmZzZXQ6dCxsaW5lOi0xLGNvbHVtbjotMX07biBpbiBqfHwoaltuXT17fSk7Zm9yKHZhciByPWpbbl0sZT0wLHU9MCxvPTAsaT10O2k+PTA7KXtpZihpIGluIHIpe2U9cltpXS5saW5lLDA9PT1vJiYobz1yW2ldLmxpbmVTdGFydCk7YnJlYWt9KFwiXFxuXCI9PT1uLmNoYXJBdChpKXx8XCJcXHJcIj09PW4uY2hhckF0KGkpJiZcIlxcblwiIT09bi5jaGFyQXQoaSsxKSkmJih1KyssMD09PW8mJihvPWkrMSkpLGktLX12YXIgYT1lK3UsZj10LW87cmV0dXJuIHJbdF09e2xpbmU6YSxsaW5lU3RhcnQ6b30se29mZnNldDp0LGxpbmU6YSsxLGNvbHVtbjpmKzF9fWZ1bmN0aW9uIF8obil7aWYoIXkobikpdGhyb3cgbmV3IEVycm9yKFwibm90IGEgcGFyc2VyOiBcIituKX1mdW5jdGlvbiBMKG4sdCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIG4/bi5jaGFyQXQodCk6blt0XX1mdW5jdGlvbiBPKG4pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBuKXRocm93IG5ldyBFcnJvcihcIm5vdCBhIG51bWJlcjogXCIrbil9ZnVuY3Rpb24gayhuKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBuKXRocm93IG5ldyBFcnJvcihcIm5vdCBhIGZ1bmN0aW9uOiBcIituKX1mdW5jdGlvbiBQKG4pe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBuKXRocm93IG5ldyBFcnJvcihcIm5vdCBhIHN0cmluZzogXCIrbil9dmFyIHE9MixBPTMsST04LEY9NSpJLE09NCpJLHo9XCIgIFwiO2Z1bmN0aW9uIFIobix0KXtyZXR1cm4gbmV3IEFycmF5KHQrMSkuam9pbihuKX1mdW5jdGlvbiBVKG4sdCxyKXt2YXIgZT10LW4ubGVuZ3RoO3JldHVybiBlPD0wP246UihyLGUpK259ZnVuY3Rpb24gVyhuLHQscixlKXtyZXR1cm57ZnJvbTpuLXQ+MD9uLXQ6MCx0bzpuK3I+ZT9lOm4rcn19ZnVuY3Rpb24gRChuLHQpe3ZhciByLGUsdSxvLGYsYz10LmluZGV4LHM9Yy5vZmZzZXQsbD0xO2lmKHM9PT1uLmxlbmd0aClyZXR1cm5cIkdvdCB0aGUgZW5kIG9mIHRoZSBpbnB1dFwiO2lmKHcobikpe3ZhciBoPXMtcyVJLHA9cy1oLGQ9VyhoLEYsTStJLG4ubGVuZ3RoKSx2PWEoZnVuY3Rpb24obil7cmV0dXJuIGEoZnVuY3Rpb24obil7cmV0dXJuIFUobi50b1N0cmluZygxNiksMixcIjBcIil9LG4pfSxmdW5jdGlvbihuLHQpe3ZhciByPW4ubGVuZ3RoLGU9W10sdT0wO2lmKHI8PXQpcmV0dXJuW24uc2xpY2UoKV07Zm9yKHZhciBvPTA7bzxyO28rKyllW3VdfHxlLnB1c2goW10pLGVbdV0ucHVzaChuW29dKSwobysxKSV0PT0wJiZ1Kys7cmV0dXJuIGV9KG4uc2xpY2UoZC5mcm9tLGQudG8pLnRvSlNPTigpLmRhdGEsSSkpO289ZnVuY3Rpb24obil7cmV0dXJuIDA9PT1uLmZyb20mJjE9PT1uLnRvP3tmcm9tOm4uZnJvbSx0bzpuLnRvfTp7ZnJvbTpuLmZyb20vSSx0bzpNYXRoLmZsb29yKG4udG8vSSl9fShkKSxlPWgvSSxyPTMqcCxwPj00JiYocis9MSksbD0yLHU9YShmdW5jdGlvbihuKXtyZXR1cm4gbi5sZW5ndGg8PTQ/bi5qb2luKFwiIFwiKTpuLnNsaWNlKDAsNCkuam9pbihcIiBcIikrXCIgIFwiK24uc2xpY2UoNCkuam9pbihcIiBcIil9LHYpLChmPSg4KihvLnRvPjA/by50by0xOm8udG8pKS50b1N0cmluZygxNikubGVuZ3RoKTwyJiYoZj0yKX1lbHNle3ZhciBnPW4uc3BsaXQoL1xcclxcbnxbXFxuXFxyXFx1MjAyOFxcdTIwMjldLyk7cj1jLmNvbHVtbi0xLGU9Yy5saW5lLTEsbz1XKGUscSxBLGcubGVuZ3RoKSx1PWcuc2xpY2Uoby5mcm9tLG8udG8pLGY9by50by50b1N0cmluZygpLmxlbmd0aH12YXIgbT1lLW8uZnJvbTtyZXR1cm4gdyhuKSYmKGY9KDgqKG8udG8+MD9vLnRvLTE6by50bykpLnRvU3RyaW5nKDE2KS5sZW5ndGgpPDImJihmPTIpLGkoZnVuY3Rpb24odCxlLHUpe3ZhciBpLGE9dT09PW0sYz1hP1wiPiBcIjp6O3JldHVybiBpPXcobik/VSgoOCooby5mcm9tK3UpKS50b1N0cmluZygxNiksZixcIjBcIik6VSgoby5mcm9tK3UrMSkudG9TdHJpbmcoKSxmLFwiIFwiKSxbXS5jb25jYXQodCxbYytpK1wiIHwgXCIrZV0sYT9beitSKFwiIFwiLGYpK1wiIHwgXCIrVShcIlwiLHIsXCIgXCIpK1IoXCJeXCIsbCldOltdKX0sW10sdSkuam9pbihcIlxcblwiKX1mdW5jdGlvbiBOKG4sdCl7cmV0dXJuW1wiXFxuXCIsXCItLSBQQVJTSU5HIEZBSUxFRCBcIitSKFwiLVwiLDUwKSxcIlxcblxcblwiLEQobix0KSxcIlxcblxcblwiLChyPXQuZXhwZWN0ZWQsMT09PXIubGVuZ3RoP1wiRXhwZWN0ZWQ6XFxuXFxuXCIrclswXTpcIkV4cGVjdGVkIG9uZSBvZiB0aGUgZm9sbG93aW5nOiBcXG5cXG5cIityLmpvaW4oXCIsIFwiKSksXCJcXG5cIl0uam9pbihcIlwiKTt2YXIgcn1mdW5jdGlvbiBHKG4pe3JldHVybiB2b2lkIDAhPT1uLmZsYWdzP24uZmxhZ3M6W24uZ2xvYmFsP1wiZ1wiOlwiXCIsbi5pZ25vcmVDYXNlP1wiaVwiOlwiXCIsbi5tdWx0aWxpbmU/XCJtXCI6XCJcIixuLnVuaWNvZGU/XCJ1XCI6XCJcIixuLnN0aWNreT9cInlcIjpcIlwiXS5qb2luKFwiXCIpfWZ1bmN0aW9uIEMoKXtmb3IodmFyIG49W10uc2xpY2UuY2FsbChhcmd1bWVudHMpLHQ9bi5sZW5ndGgscj0wO3I8dDtyKz0xKV8obltyXSk7cmV0dXJuIGUoZnVuY3Rpb24ocixlKXtmb3IodmFyIHUsbz1uZXcgQXJyYXkodCksaT0wO2k8dDtpKz0xKXtpZighKHU9QihuW2ldLl8ocixlKSx1KSkuc3RhdHVzKXJldHVybiB1O29baV09dS52YWx1ZSxlPXUuaW5kZXh9cmV0dXJuIEIoYihlLG8pLHUpfSl9ZnVuY3Rpb24gSigpe3ZhciBuPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtpZigwPT09bi5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwic2VxTWFwIG5lZWRzIGF0IGxlYXN0IG9uZSBhcmd1bWVudFwiKTt2YXIgdD1uLnBvcCgpO3JldHVybiBrKHQpLEMuYXBwbHkobnVsbCxuKS5tYXAoZnVuY3Rpb24obil7cmV0dXJuIHQuYXBwbHkobnVsbCxuKX0pfWZ1bmN0aW9uIFQoKXt2YXIgbj1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cyksdD1uLmxlbmd0aDtpZigwPT09dClyZXR1cm4gWShcInplcm8gYWx0ZXJuYXRlc1wiKTtmb3IodmFyIHI9MDtyPHQ7cis9MSlfKG5bcl0pO3JldHVybiBlKGZ1bmN0aW9uKHQscil7Zm9yKHZhciBlLHU9MDt1PG4ubGVuZ3RoO3UrPTEpaWYoKGU9QihuW3VdLl8odCxyKSxlKSkuc3RhdHVzKXJldHVybiBlO3JldHVybiBlfSl9ZnVuY3Rpb24gVihuLHQpe3JldHVybiBIKG4sdCkub3IoWChbXSkpfWZ1bmN0aW9uIEgobix0KXtyZXR1cm4gXyhuKSxfKHQpLEoobix0LnRoZW4obikubWFueSgpLGZ1bmN0aW9uKG4sdCl7cmV0dXJuW25dLmNvbmNhdCh0KX0pfWZ1bmN0aW9uIEsobil7UChuKTt2YXIgdD1cIidcIituK1wiJ1wiO3JldHVybiBlKGZ1bmN0aW9uKHIsZSl7dmFyIHU9ZStuLmxlbmd0aCxvPXIuc2xpY2UoZSx1KTtyZXR1cm4gbz09PW4/Yih1LG8pOngoZSx0KX0pfWZ1bmN0aW9uIFEobix0KXshZnVuY3Rpb24obil7aWYoIShuIGluc3RhbmNlb2YgUmVnRXhwKSl0aHJvdyBuZXcgRXJyb3IoXCJub3QgYSByZWdleHA6IFwiK24pO2Zvcih2YXIgdD1HKG4pLHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIGU9dC5jaGFyQXQocik7aWYoXCJpXCIhPT1lJiZcIm1cIiE9PWUmJlwidVwiIT09ZSYmXCJzXCIhPT1lKXRocm93IG5ldyBFcnJvcigndW5zdXBwb3J0ZWQgcmVnZXhwIGZsYWcgXCInK2UrJ1wiOiAnK24pfX0obiksYXJndW1lbnRzLmxlbmd0aD49Mj9PKHQpOnQ9MDt2YXIgcj1mdW5jdGlvbihuKXtyZXR1cm4gUmVnRXhwKFwiXig/OlwiK24uc291cmNlK1wiKVwiLEcobikpfShuKSx1PVwiXCIrbjtyZXR1cm4gZShmdW5jdGlvbihuLGUpe3ZhciBvPXIuZXhlYyhuLnNsaWNlKGUpKTtpZihvKXtpZigwPD10JiZ0PD1vLmxlbmd0aCl7dmFyIGk9b1swXSxhPW9bdF07cmV0dXJuIGIoZStpLmxlbmd0aCxhKX1yZXR1cm4geChlLFwidmFsaWQgbWF0Y2ggZ3JvdXAgKDAgdG8gXCIrby5sZW5ndGgrXCIpIGluIFwiK3UpfXJldHVybiB4KGUsdSl9KX1mdW5jdGlvbiBYKG4pe3JldHVybiBlKGZ1bmN0aW9uKHQscil7cmV0dXJuIGIocixuKX0pfWZ1bmN0aW9uIFkobil7cmV0dXJuIGUoZnVuY3Rpb24odCxyKXtyZXR1cm4geChyLG4pfSl9ZnVuY3Rpb24gWihuKXtpZih5KG4pKXJldHVybiBlKGZ1bmN0aW9uKHQscil7dmFyIGU9bi5fKHQscik7cmV0dXJuIGUuaW5kZXg9cixlLnZhbHVlPVwiXCIsZX0pO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBuKXJldHVybiBaKEsobikpO2lmKG4gaW5zdGFuY2VvZiBSZWdFeHApcmV0dXJuIFooUShuKSk7dGhyb3cgbmV3IEVycm9yKFwibm90IGEgc3RyaW5nLCByZWdleHAsIG9yIHBhcnNlcjogXCIrbil9ZnVuY3Rpb24gJChuKXtyZXR1cm4gXyhuKSxlKGZ1bmN0aW9uKHQscil7dmFyIGU9bi5fKHQsciksdT10LnNsaWNlKHIsZS5pbmRleCk7cmV0dXJuIGUuc3RhdHVzP3gociwnbm90IFwiJyt1KydcIicpOmIocixudWxsKX0pfWZ1bmN0aW9uIG5uKG4pe3JldHVybiBrKG4pLGUoZnVuY3Rpb24odCxyKXt2YXIgZT1MKHQscik7cmV0dXJuIHI8dC5sZW5ndGgmJm4oZSk/YihyKzEsZSk6eChyLFwiYSBjaGFyYWN0ZXIvYnl0ZSBtYXRjaGluZyBcIituKX0pfWZ1bmN0aW9uIHRuKG4sdCl7YXJndW1lbnRzLmxlbmd0aDwyJiYodD1uLG49dm9pZCAwKTt2YXIgcj1lKGZ1bmN0aW9uKG4sZSl7cmV0dXJuIHIuXz10KCkuXyxyLl8obixlKX0pO3JldHVybiBuP3IuZGVzYyhuKTpyfWZ1bmN0aW9uIHJuKCl7cmV0dXJuIFkoXCJmYW50YXN5LWxhbmQvZW1wdHlcIil9dS5wYXJzZT1mdW5jdGlvbihuKXtpZihcInN0cmluZ1wiIT10eXBlb2YgbiYmIXcobikpdGhyb3cgbmV3IEVycm9yKFwiLnBhcnNlIG11c3QgYmUgY2FsbGVkIHdpdGggYSBzdHJpbmcgb3IgQnVmZmVyIGFzIGl0cyBhcmd1bWVudFwiKTt2YXIgdCxyPXRoaXMuc2tpcChhbikuXyhuLDApO3JldHVybiB0PXIuc3RhdHVzP3tzdGF0dXM6ITAsdmFsdWU6ci52YWx1ZX06e3N0YXR1czohMSxpbmRleDpTKG4sci5mdXJ0aGVzdCksZXhwZWN0ZWQ6ci5leHBlY3RlZH0sZGVsZXRlIGpbbl0sdH0sdS50cnlQYXJzZT1mdW5jdGlvbihuKXt2YXIgdD10aGlzLnBhcnNlKG4pO2lmKHQuc3RhdHVzKXJldHVybiB0LnZhbHVlO3ZhciByPU4obix0KSxlPW5ldyBFcnJvcihyKTt0aHJvdyBlLnR5cGU9XCJQYXJzaW1tb25FcnJvclwiLGUucmVzdWx0PXQsZX0sdS5hc3NlcnQ9ZnVuY3Rpb24obix0KXtyZXR1cm4gdGhpcy5jaGFpbihmdW5jdGlvbihyKXtyZXR1cm4gbihyKT9YKHIpOlkodCl9KX0sdS5vcj1mdW5jdGlvbihuKXtyZXR1cm4gVCh0aGlzLG4pfSx1LnRyaW09ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMud3JhcChuLG4pfSx1LndyYXA9ZnVuY3Rpb24obix0KXtyZXR1cm4gSihuLHRoaXMsdCxmdW5jdGlvbihuLHQpe3JldHVybiB0fSl9LHUudGhydT1mdW5jdGlvbihuKXtyZXR1cm4gbih0aGlzKX0sdS50aGVuPWZ1bmN0aW9uKG4pe3JldHVybiBfKG4pLEModGhpcyxuKS5tYXAoZnVuY3Rpb24obil7cmV0dXJuIG5bMV19KX0sdS5tYW55PWZ1bmN0aW9uKCl7dmFyIG49dGhpcztyZXR1cm4gZShmdW5jdGlvbih0LHIpe2Zvcih2YXIgZT1bXSx1PXZvaWQgMDs7KXtpZighKHU9QihuLl8odCxyKSx1KSkuc3RhdHVzKXJldHVybiBCKGIocixlKSx1KTtpZihyPT09dS5pbmRleCl0aHJvdyBuZXcgRXJyb3IoXCJpbmZpbml0ZSBsb29wIGRldGVjdGVkIGluIC5tYW55KCkgcGFyc2VyIC0tLSBjYWxsaW5nIC5tYW55KCkgb24gYSBwYXJzZXIgd2hpY2ggY2FuIGFjY2VwdCB6ZXJvIGNoYXJhY3RlcnMgaXMgdXN1YWxseSB0aGUgY2F1c2VcIik7cj11LmluZGV4LGUucHVzaCh1LnZhbHVlKX19KX0sdS50aWVXaXRoPWZ1bmN0aW9uKG4pe3JldHVybiBQKG4pLHRoaXMubWFwKGZ1bmN0aW9uKHQpe2lmKGZ1bmN0aW9uKG4pe2lmKCFFKG4pKXRocm93IG5ldyBFcnJvcihcIm5vdCBhbiBhcnJheTogXCIrbil9KHQpLHQubGVuZ3RoKXtQKHRbMF0pO2Zvcih2YXIgcj10WzBdLGU9MTtlPHQubGVuZ3RoO2UrKylQKHRbZV0pLHIrPW4rdFtlXTtyZXR1cm4gcn1yZXR1cm5cIlwifSl9LHUudGllPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGllV2l0aChcIlwiKX0sdS50aW1lcz1mdW5jdGlvbihuLHQpe3ZhciByPXRoaXM7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8MiYmKHQ9biksTyhuKSxPKHQpLGUoZnVuY3Rpb24oZSx1KXtmb3IodmFyIG89W10saT12b2lkIDAsYT12b2lkIDAsZj0wO2Y8bjtmKz0xKXtpZihhPUIoaT1yLl8oZSx1KSxhKSwhaS5zdGF0dXMpcmV0dXJuIGE7dT1pLmluZGV4LG8ucHVzaChpLnZhbHVlKX1mb3IoO2Y8dCYmKGE9QihpPXIuXyhlLHUpLGEpLGkuc3RhdHVzKTtmKz0xKXU9aS5pbmRleCxvLnB1c2goaS52YWx1ZSk7cmV0dXJuIEIoYih1LG8pLGEpfSl9LHUucmVzdWx0PWZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3JldHVybiBufSl9LHUuYXRNb3N0PWZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLnRpbWVzKDAsbil9LHUuYXRMZWFzdD1mdW5jdGlvbihuKXtyZXR1cm4gSih0aGlzLnRpbWVzKG4pLHRoaXMubWFueSgpLGZ1bmN0aW9uKG4sdCl7cmV0dXJuIG4uY29uY2F0KHQpfSl9LHUubWFwPWZ1bmN0aW9uKG4pe2sobik7dmFyIHQ9dGhpcztyZXR1cm4gZShmdW5jdGlvbihyLGUpe3ZhciB1PXQuXyhyLGUpO3JldHVybiB1LnN0YXR1cz9CKGIodS5pbmRleCxuKHUudmFsdWUpKSx1KTp1fSl9LHUuY29udHJhbWFwPWZ1bmN0aW9uKG4pe2sobik7dmFyIHQ9dGhpcztyZXR1cm4gZShmdW5jdGlvbihyLGUpe3ZhciB1PXQucGFyc2UobihyLnNsaWNlKGUpKSk7cmV0dXJuIHUuc3RhdHVzP2IoZStyLmxlbmd0aCx1LnZhbHVlKTp1fSl9LHUucHJvbWFwPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIGsobiksayh0KSx0aGlzLmNvbnRyYW1hcChuKS5tYXAodCl9LHUuc2tpcD1mdW5jdGlvbihuKXtyZXR1cm4gQyh0aGlzLG4pLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gblswXX0pfSx1Lm1hcms9ZnVuY3Rpb24oKXtyZXR1cm4gSihlbix0aGlzLGVuLGZ1bmN0aW9uKG4sdCxyKXtyZXR1cm57c3RhcnQ6bix2YWx1ZTp0LGVuZDpyfX0pfSx1Lm5vZGU9ZnVuY3Rpb24obil7cmV0dXJuIEooZW4sdGhpcyxlbixmdW5jdGlvbih0LHIsZSl7cmV0dXJue25hbWU6bix2YWx1ZTpyLHN0YXJ0OnQsZW5kOmV9fSl9LHUuc2VwQnk9ZnVuY3Rpb24obil7cmV0dXJuIFYodGhpcyxuKX0sdS5zZXBCeTE9ZnVuY3Rpb24obil7cmV0dXJuIEgodGhpcyxuKX0sdS5sb29rYWhlYWQ9ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuc2tpcChaKG4pKX0sdS5ub3RGb2xsb3dlZEJ5PWZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLnNraXAoJChuKSl9LHUuZGVzYz1mdW5jdGlvbihuKXtFKG4pfHwobj1bbl0pO3ZhciB0PXRoaXM7cmV0dXJuIGUoZnVuY3Rpb24ocixlKXt2YXIgdT10Ll8ocixlKTtyZXR1cm4gdS5zdGF0dXN8fCh1LmV4cGVjdGVkPW4pLHV9KX0sdS5mYWxsYmFjaz1mdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5vcihYKG4pKX0sdS5hcD1mdW5jdGlvbihuKXtyZXR1cm4gSihuLHRoaXMsZnVuY3Rpb24obix0KXtyZXR1cm4gbih0KX0pfSx1LmNoYWluPWZ1bmN0aW9uKG4pe3ZhciB0PXRoaXM7cmV0dXJuIGUoZnVuY3Rpb24ocixlKXt2YXIgdT10Ll8ocixlKTtyZXR1cm4gdS5zdGF0dXM/QihuKHUudmFsdWUpLl8ocix1LmluZGV4KSx1KTp1fSl9LHUuY29uY2F0PXUub3IsdS5lbXB0eT1ybix1Lm9mPVgsdVtcImZhbnRhc3ktbGFuZC9hcFwiXT11LmFwLHVbXCJmYW50YXN5LWxhbmQvY2hhaW5cIl09dS5jaGFpbix1W1wiZmFudGFzeS1sYW5kL2NvbmNhdFwiXT11LmNvbmNhdCx1W1wiZmFudGFzeS1sYW5kL2VtcHR5XCJdPXUuZW1wdHksdVtcImZhbnRhc3ktbGFuZC9vZlwiXT11Lm9mLHVbXCJmYW50YXN5LWxhbmQvbWFwXCJdPXUubWFwO3ZhciBlbj1lKGZ1bmN0aW9uKG4sdCl7cmV0dXJuIGIodCxTKG4sdCkpfSksdW49ZShmdW5jdGlvbihuLHQpe3JldHVybiB0Pj1uLmxlbmd0aD94KHQsXCJhbnkgY2hhcmFjdGVyL2J5dGVcIik6Yih0KzEsTChuLHQpKX0pLG9uPWUoZnVuY3Rpb24obix0KXtyZXR1cm4gYihuLmxlbmd0aCxuLnNsaWNlKHQpKX0pLGFuPWUoZnVuY3Rpb24obix0KXtyZXR1cm4gdDxuLmxlbmd0aD94KHQsXCJFT0ZcIik6Yih0LG51bGwpfSksZm49USgvWzAtOV0vKS5kZXNjKFwiYSBkaWdpdFwiKSxjbj1RKC9bMC05XSovKS5kZXNjKFwib3B0aW9uYWwgZGlnaXRzXCIpLHNuPVEoL1thLXpdL2kpLmRlc2MoXCJhIGxldHRlclwiKSxsbj1RKC9bYS16XSovaSkuZGVzYyhcIm9wdGlvbmFsIGxldHRlcnNcIiksaG49USgvXFxzKi8pLmRlc2MoXCJvcHRpb25hbCB3aGl0ZXNwYWNlXCIpLHBuPVEoL1xccysvKS5kZXNjKFwid2hpdGVzcGFjZVwiKSxkbj1LKFwiXFxyXCIpLHZuPUsoXCJcXG5cIiksZ249SyhcIlxcclxcblwiKSxtbj1UKGduLHZuLGRuKS5kZXNjKFwibmV3bGluZVwiKSx5bj1UKG1uLGFuKTtlLmFsbD1vbixlLmFsdD1ULGUuYW55PXVuLGUuY3I9ZG4sZS5jcmVhdGVMYW5ndWFnZT1mdW5jdGlvbihuKXt2YXIgdD17fTtmb3IodmFyIHIgaW4gbikoe30pLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmZnVuY3Rpb24ocil7dFtyXT10bihmdW5jdGlvbigpe3JldHVybiBuW3JdKHQpfSl9KHIpO3JldHVybiB0fSxlLmNybGY9Z24sZS5jdXN0b209ZnVuY3Rpb24obil7cmV0dXJuIGUobihiLHgpKX0sZS5kaWdpdD1mbixlLmRpZ2l0cz1jbixlLmVtcHR5PXJuLGUuZW5kPXluLGUuZW9mPWFuLGUuZmFpbD1ZLGUuZm9ybWF0RXJyb3I9TixlLmluZGV4PWVuLGUuaXNQYXJzZXI9eSxlLmxhenk9dG4sZS5sZXR0ZXI9c24sZS5sZXR0ZXJzPWxuLGUubGY9dm4sZS5sb29rYWhlYWQ9WixlLm1ha2VGYWlsdXJlPXgsZS5tYWtlU3VjY2Vzcz1iLGUubmV3bGluZT1tbixlLm5vbmVPZj1mdW5jdGlvbihuKXtyZXR1cm4gbm4oZnVuY3Rpb24odCl7cmV0dXJuIG4uaW5kZXhPZih0KTwwfSkuZGVzYyhcIm5vbmUgb2YgJ1wiK24rXCInXCIpfSxlLm5vdEZvbGxvd2VkQnk9JCxlLm9mPVgsZS5vbmVPZj1mdW5jdGlvbihuKXtmb3IodmFyIHQ9bi5zcGxpdChcIlwiKSxyPTA7cjx0Lmxlbmd0aDtyKyspdFtyXT1cIidcIit0W3JdK1wiJ1wiO3JldHVybiBubihmdW5jdGlvbih0KXtyZXR1cm4gbi5pbmRleE9mKHQpPj0wfSkuZGVzYyh0KX0sZS5vcHRXaGl0ZXNwYWNlPWhuLGUuUGFyc2VyPWUsZS5yYW5nZT1mdW5jdGlvbihuLHQpe3JldHVybiBubihmdW5jdGlvbihyKXtyZXR1cm4gbjw9ciYmcjw9dH0pLmRlc2MobitcIi1cIit0KX0sZS5yZWdleD1RLGUucmVnZXhwPVEsZS5zZXBCeT1WLGUuc2VwQnkxPUgsZS5zZXE9QyxlLnNlcU1hcD1KLGUuc2VxT2JqPWZ1bmN0aW9uKCl7Zm9yKHZhciBuLHQ9e30scj0wLHU9KG49YXJndW1lbnRzLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG4pKSxvPXUubGVuZ3RoLGk9MDtpPG87aSs9MSl7dmFyIGE9dVtpXTtpZigheShhKSl7aWYoRShhKSYmMj09PWEubGVuZ3RoJiZcInN0cmluZ1wiPT10eXBlb2YgYVswXSYmeShhWzFdKSl7dmFyIGY9YVswXTtpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxmKSl0aHJvdyBuZXcgRXJyb3IoXCJzZXFPYmo6IGR1cGxpY2F0ZSBrZXkgXCIrZik7dFtmXT0hMCxyKys7Y29udGludWV9dGhyb3cgbmV3IEVycm9yKFwic2VxT2JqIGFyZ3VtZW50cyBtdXN0IGJlIHBhcnNlcnMgb3IgW3N0cmluZywgcGFyc2VyXSBhcnJheSBwYWlycy5cIil9fWlmKDA9PT1yKXRocm93IG5ldyBFcnJvcihcInNlcU9iaiBleHBlY3RzIGF0IGxlYXN0IG9uZSBuYW1lZCBwYXJzZXIsIGZvdW5kIHplcm9cIik7cmV0dXJuIGUoZnVuY3Rpb24obix0KXtmb3IodmFyIHIsZT17fSxpPTA7aTxvO2krPTEpe3ZhciBhLGY7aWYoRSh1W2ldKT8oYT11W2ldWzBdLGY9dVtpXVsxXSk6KGE9bnVsbCxmPXVbaV0pLCEocj1CKGYuXyhuLHQpLHIpKS5zdGF0dXMpcmV0dXJuIHI7YSYmKGVbYV09ci52YWx1ZSksdD1yLmluZGV4fXJldHVybiBCKGIodCxlKSxyKX0pfSxlLnN0cmluZz1LLGUuc3VjY2VlZD1YLGUudGFrZVdoaWxlPWZ1bmN0aW9uKG4pe3JldHVybiBrKG4pLGUoZnVuY3Rpb24odCxyKXtmb3IodmFyIGU9cjtlPHQubGVuZ3RoJiZuKEwodCxlKSk7KWUrKztyZXR1cm4gYihlLHQuc2xpY2UocixlKSl9KX0sZS50ZXN0PW5uLGUud2hpdGVzcGFjZT1wbixlW1wiZmFudGFzeS1sYW5kL2VtcHR5XCJdPXJuLGVbXCJmYW50YXN5LWxhbmQvb2ZcIl09WCxlLkJpbmFyeT17Yml0U2VxOmwsYml0U2VxT2JqOmZ1bmN0aW9uKG4pe3MoKTt2YXIgdD17fSxyPTAsZT1hKGZ1bmN0aW9uKG4pe2lmKEUobikpe3ZhciBlPW47aWYoMiE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIltcIitlLmpvaW4oXCIsIFwiKStcIl0gc2hvdWxkIGJlIGxlbmd0aCAyLCBnb3QgbGVuZ3RoIFwiK2UubGVuZ3RoKTtpZihQKGVbMF0pLE8oZVsxXSksT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZVswXSkpdGhyb3cgbmV3IEVycm9yKFwiZHVwbGljYXRlIGtleSBpbiBiaXRTZXFPYmo6IFwiK2VbMF0pO3JldHVybiB0W2VbMF1dPSEwLHIrKyxlfXJldHVybiBPKG4pLFtudWxsLG5dfSxuKTtpZihyPDEpdGhyb3cgbmV3IEVycm9yKFwiYml0U2VxT2JqIGV4cGVjdHMgYXQgbGVhc3Qgb25lIG5hbWVkIHBhaXIsIGdvdCBbXCIrbi5qb2luKFwiLCBcIikrXCJdXCIpO3ZhciB1PWEoZnVuY3Rpb24obil7cmV0dXJuIG5bMF19LGUpO3JldHVybiBsKGEoZnVuY3Rpb24obil7cmV0dXJuIG5bMV19LGUpKS5tYXAoZnVuY3Rpb24obil7cmV0dXJuIGkoZnVuY3Rpb24obix0KXtyZXR1cm4gbnVsbCE9PXRbMF0mJihuW3RbMF1dPXRbMV0pLG59LHt9LGEoZnVuY3Rpb24odCxyKXtyZXR1cm5bdCxuW3JdXX0sdSkpfSl9LGJ5dGU6ZnVuY3Rpb24obil7aWYocygpLE8obiksbj4yNTUpdGhyb3cgbmV3IEVycm9yKFwiVmFsdWUgc3BlY2lmaWVkIHRvIGJ5dGUgY29uc3RydWN0b3IgKFwiK24rXCI9MHhcIituLnRvU3RyaW5nKDE2KStcIikgaXMgbGFyZ2VyIGluIHZhbHVlIHRoYW4gYSBzaW5nbGUgYnl0ZS5cIik7dmFyIHQ9KG4+MTU/XCIweFwiOlwiMHgwXCIpK24udG9TdHJpbmcoMTYpO3JldHVybiBlKGZ1bmN0aW9uKHIsZSl7dmFyIHU9TChyLGUpO3JldHVybiB1PT09bj9iKGUrMSx1KTp4KGUsdCl9KX0sYnVmZmVyOmZ1bmN0aW9uKG4pe3JldHVybiBoKFwiYnVmZmVyXCIsbikubWFwKGZ1bmN0aW9uKG4pe3JldHVybiBCdWZmZXIuZnJvbShuKX0pfSxlbmNvZGVkU3RyaW5nOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIGgoXCJzdHJpbmdcIix0KS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQudG9TdHJpbmcobil9KX0sdWludEJFOmQsdWludDhCRTpkKDEpLHVpbnQxNkJFOmQoMiksdWludDMyQkU6ZCg0KSx1aW50TEU6dix1aW50OExFOnYoMSksdWludDE2TEU6digyKSx1aW50MzJMRTp2KDQpLGludEJFOmcsaW50OEJFOmcoMSksaW50MTZCRTpnKDIpLGludDMyQkU6Zyg0KSxpbnRMRTptLGludDhMRTptKDEpLGludDE2TEU6bSgyKSxpbnQzMkxFOm0oNCksZmxvYXRCRTpoKFwiZmxvYXRCRVwiLDQpLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gbi5yZWFkRmxvYXRCRSgwKX0pLGZsb2F0TEU6aChcImZsb2F0TEVcIiw0KS5tYXAoZnVuY3Rpb24obil7cmV0dXJuIG4ucmVhZEZsb2F0TEUoMCl9KSxkb3VibGVCRTpoKFwiZG91YmxlQkVcIiw4KS5tYXAoZnVuY3Rpb24obil7cmV0dXJuIG4ucmVhZERvdWJsZUJFKDApfSksZG91YmxlTEU6aChcImRvdWJsZUxFXCIsOCkubWFwKGZ1bmN0aW9uKG4pe3JldHVybiBuLnJlYWREb3VibGVMRSgwKX0pfSxuLmV4cG9ydHM9ZX1dKX0pOyIsICJtb2R1bGUuZXhwb3J0cyA9ICgpID0+IHtcblx0Ly8gaHR0cHM6Ly9tdGhzLmJlL2Vtb2ppXG5cdHJldHVybiAvKD86WyMqMC05XVxcdUZFMEY/XFx1MjBFM3xbXFx4QTlcXHhBRVxcdTIwM0NcXHUyMDQ5XFx1MjEyMlxcdTIxMzlcXHUyMTk0LVxcdTIxOTlcXHUyMUE5XFx1MjFBQVxcdTIzMUFcXHUyMzFCXFx1MjMyOFxcdTIzQ0ZcXHUyM0VELVxcdTIzRUZcXHUyM0YxXFx1MjNGMlxcdTIzRjgtXFx1MjNGQVxcdTI0QzJcXHUyNUFBXFx1MjVBQlxcdTI1QjZcXHUyNUMwXFx1MjVGQlxcdTI1RkNcXHUyNUZFXFx1MjYwMC1cXHUyNjA0XFx1MjYwRVxcdTI2MTFcXHUyNjE0XFx1MjYxNVxcdTI2MThcXHUyNjIwXFx1MjYyMlxcdTI2MjNcXHUyNjI2XFx1MjYyQVxcdTI2MkVcXHUyNjJGXFx1MjYzOC1cXHUyNjNBXFx1MjY0MFxcdTI2NDJcXHUyNjQ4LVxcdTI2NTNcXHUyNjVGXFx1MjY2MFxcdTI2NjNcXHUyNjY1XFx1MjY2NlxcdTI2NjhcXHUyNjdCXFx1MjY3RVxcdTI2N0ZcXHUyNjkyXFx1MjY5NC1cXHUyNjk3XFx1MjY5OVxcdTI2OUJcXHUyNjlDXFx1MjZBMFxcdTI2QTdcXHUyNkFBXFx1MjZCMFxcdTI2QjFcXHUyNkJEXFx1MjZCRVxcdTI2QzRcXHUyNkM4XFx1MjZDRlxcdTI2RDFcXHUyNkQzXFx1MjZFOVxcdTI2RjAtXFx1MjZGNVxcdTI2RjdcXHUyNkY4XFx1MjZGQVxcdTI3MDJcXHUyNzA4XFx1MjcwOVxcdTI3MEZcXHUyNzEyXFx1MjcxNFxcdTI3MTZcXHUyNzFEXFx1MjcyMVxcdTI3MzNcXHUyNzM0XFx1Mjc0NFxcdTI3NDdcXHUyNzU3XFx1Mjc2M1xcdTI3QTFcXHUyOTM0XFx1MjkzNVxcdTJCMDUtXFx1MkIwN1xcdTJCMUJcXHUyQjFDXFx1MkI1NVxcdTMwMzBcXHUzMDNEXFx1MzI5N1xcdTMyOTldXFx1RkUwRj98W1xcdTI2MURcXHUyNzBDXFx1MjcwRF0oPzpcXHVGRTBGfFxcdUQ4M0NbXFx1REZGQi1cXHVERkZGXSk/fFtcXHUyNzBBXFx1MjcwQl0oPzpcXHVEODNDW1xcdURGRkItXFx1REZGRl0pP3xbXFx1MjNFOS1cXHUyM0VDXFx1MjNGMFxcdTIzRjNcXHUyNUZEXFx1MjY5M1xcdTI2QTFcXHUyNkFCXFx1MjZDNVxcdTI2Q0VcXHUyNkQ0XFx1MjZFQVxcdTI2RkRcXHUyNzA1XFx1MjcyOFxcdTI3NENcXHUyNzRFXFx1Mjc1My1cXHUyNzU1XFx1Mjc5NS1cXHUyNzk3XFx1MjdCMFxcdTI3QkZcXHUyQjUwXXxcXHUyNkY5KD86XFx1RkUwRnxcXHVEODNDW1xcdURGRkItXFx1REZGRl0pPyg/OlxcdTIwMERbXFx1MjY0MFxcdTI2NDJdXFx1RkUwRj8pP3xcXHUyNzY0XFx1RkUwRj8oPzpcXHUyMDBEKD86XFx1RDgzRFxcdUREMjV8XFx1RDgzRVxcdURFNzkpKT98XFx1RDgzQyg/OltcXHVEQzA0XFx1REQ3MFxcdURENzFcXHVERDdFXFx1REQ3RlxcdURFMDJcXHVERTM3XFx1REYyMVxcdURGMjQtXFx1REYyQ1xcdURGMzZcXHVERjdEXFx1REY5NlxcdURGOTdcXHVERjk5LVxcdURGOUJcXHVERjlFXFx1REY5RlxcdURGQ0RcXHVERkNFXFx1REZENC1cXHVERkRGXFx1REZGNVxcdURGRjddXFx1RkUwRj98W1xcdURGODVcXHVERkMyXFx1REZDN10oPzpcXHVEODNDW1xcdURGRkItXFx1REZGRl0pP3xbXFx1REZDM1xcdURGQzRcXHVERkNBXSg/OlxcdUQ4M0NbXFx1REZGQi1cXHVERkZGXSk/KD86XFx1MjAwRFtcXHUyNjQwXFx1MjY0Ml1cXHVGRTBGPyk/fFtcXHVERkNCXFx1REZDQ10oPzpcXHVGRTBGfFxcdUQ4M0NbXFx1REZGQi1cXHVERkZGXSk/KD86XFx1MjAwRFtcXHUyNjQwXFx1MjY0Ml1cXHVGRTBGPyk/fFtcXHVEQ0NGXFx1REQ4RVxcdUREOTEtXFx1REQ5QVxcdURFMDFcXHVERTFBXFx1REUyRlxcdURFMzItXFx1REUzNlxcdURFMzgtXFx1REUzQVxcdURFNTBcXHVERTUxXFx1REYwMC1cXHVERjIwXFx1REYyRC1cXHVERjM1XFx1REYzNy1cXHVERjdDXFx1REY3RS1cXHVERjg0XFx1REY4Ni1cXHVERjkzXFx1REZBMC1cXHVERkMxXFx1REZDNVxcdURGQzZcXHVERkM4XFx1REZDOVxcdURGQ0YtXFx1REZEM1xcdURGRTAtXFx1REZGMFxcdURGRjgtXFx1REZGRl18XFx1RERFNlxcdUQ4M0NbXFx1RERFOC1cXHVEREVDXFx1RERFRVxcdURERjFcXHVEREYyXFx1RERGNFxcdURERjYtXFx1RERGQVxcdURERkNcXHVEREZEXFx1RERGRl18XFx1RERFN1xcdUQ4M0NbXFx1RERFNlxcdURERTdcXHVEREU5LVxcdURERUZcXHVEREYxLVxcdURERjRcXHVEREY2LVxcdURERjlcXHVEREZCXFx1RERGQ1xcdURERkVcXHVEREZGXXxcXHVEREU4XFx1RDgzQ1tcXHVEREU2XFx1RERFOFxcdURERTlcXHVEREVCLVxcdURERUVcXHVEREYwLVxcdURERjVcXHVEREY3XFx1RERGQS1cXHVEREZGXXxcXHVEREU5XFx1RDgzQ1tcXHVEREVBXFx1RERFQ1xcdURERUZcXHVEREYwXFx1RERGMlxcdURERjRcXHVEREZGXXxcXHVEREVBXFx1RDgzQ1tcXHVEREU2XFx1RERFOFxcdURERUFcXHVEREVDXFx1RERFRFxcdURERjctXFx1RERGQV18XFx1RERFQlxcdUQ4M0NbXFx1RERFRS1cXHVEREYwXFx1RERGMlxcdURERjRcXHVEREY3XXxcXHVEREVDXFx1RDgzQ1tcXHVEREU2XFx1RERFN1xcdURERTktXFx1RERFRVxcdURERjEtXFx1RERGM1xcdURERjUtXFx1RERGQVxcdURERkNcXHVEREZFXXxcXHVEREVEXFx1RDgzQ1tcXHVEREYwXFx1RERGMlxcdURERjNcXHVEREY3XFx1RERGOVxcdURERkFdfFxcdURERUVcXHVEODNDW1xcdURERTgtXFx1RERFQVxcdURERjEtXFx1RERGNFxcdURERjYtXFx1RERGOV18XFx1RERFRlxcdUQ4M0NbXFx1RERFQVxcdURERjJcXHVEREY0XFx1RERGNV18XFx1RERGMFxcdUQ4M0NbXFx1RERFQVxcdURERUMtXFx1RERFRVxcdURERjJcXHVEREYzXFx1RERGNVxcdURERjdcXHVEREZDXFx1RERGRVxcdURERkZdfFxcdURERjFcXHVEODNDW1xcdURERTYtXFx1RERFOFxcdURERUVcXHVEREYwXFx1RERGNy1cXHVEREZCXFx1RERGRV18XFx1RERGMlxcdUQ4M0NbXFx1RERFNlxcdURERTgtXFx1RERFRFxcdURERjAtXFx1RERGRl18XFx1RERGM1xcdUQ4M0NbXFx1RERFNlxcdURERThcXHVEREVBLVxcdURERUNcXHVEREVFXFx1RERGMVxcdURERjRcXHVEREY1XFx1RERGN1xcdURERkFcXHVEREZGXXxcXHVEREY0XFx1RDgzQ1xcdURERjJ8XFx1RERGNVxcdUQ4M0NbXFx1RERFNlxcdURERUEtXFx1RERFRFxcdURERjAtXFx1RERGM1xcdURERjctXFx1RERGOVxcdURERkNcXHVEREZFXXxcXHVEREY2XFx1RDgzQ1xcdURERTZ8XFx1RERGN1xcdUQ4M0NbXFx1RERFQVxcdURERjRcXHVEREY4XFx1RERGQVxcdURERkNdfFxcdURERjhcXHVEODNDW1xcdURERTYtXFx1RERFQVxcdURERUMtXFx1RERGNFxcdURERjctXFx1RERGOVxcdURERkJcXHVEREZELVxcdURERkZdfFxcdURERjlcXHVEODNDW1xcdURERTZcXHVEREU4XFx1RERFOVxcdURERUItXFx1RERFRFxcdURERUYtXFx1RERGNFxcdURERjdcXHVEREY5XFx1RERGQlxcdURERkNcXHVEREZGXXxcXHVEREZBXFx1RDgzQ1tcXHVEREU2XFx1RERFQ1xcdURERjJcXHVEREYzXFx1RERGOFxcdURERkVcXHVEREZGXXxcXHVEREZCXFx1RDgzQ1tcXHVEREU2XFx1RERFOFxcdURERUFcXHVEREVDXFx1RERFRVxcdURERjNcXHVEREZBXXxcXHVEREZDXFx1RDgzQ1tcXHVEREVCXFx1RERGOF18XFx1RERGRFxcdUQ4M0NcXHVEREYwfFxcdURERkVcXHVEODNDW1xcdURERUFcXHVEREY5XXxcXHVEREZGXFx1RDgzQ1tcXHVEREU2XFx1RERGMlxcdURERkNdfFxcdURGRjNcXHVGRTBGPyg/OlxcdTIwMEQoPzpcXHUyNkE3XFx1RkUwRj98XFx1RDgzQ1xcdURGMDgpKT98XFx1REZGNCg/OlxcdTIwMERcXHUyNjIwXFx1RkUwRj98XFx1REI0MFxcdURDNjdcXHVEQjQwXFx1REM2MlxcdURCNDAoPzpcXHVEQzY1XFx1REI0MFxcdURDNkVcXHVEQjQwXFx1REM2N3xcXHVEQzczXFx1REI0MFxcdURDNjNcXHVEQjQwXFx1REM3NHxcXHVEQzc3XFx1REI0MFxcdURDNkNcXHVEQjQwXFx1REM3MylcXHVEQjQwXFx1REM3Rik/KXxcXHVEODNEKD86W1xcdURDM0ZcXHVEQ0ZEXFx1REQ0OVxcdURENEFcXHVERDZGXFx1REQ3MFxcdURENzNcXHVERDc2LVxcdURENzlcXHVERDg3XFx1REQ4QS1cXHVERDhEXFx1RERBNVxcdUREQThcXHVEREIxXFx1RERCMlxcdUREQkNcXHVEREMyLVxcdUREQzRcXHVEREQxLVxcdURERDNcXHVERERDLVxcdUREREVcXHVEREUxXFx1RERFM1xcdURERThcXHVEREVGXFx1RERGM1xcdURERkFcXHVERUNCXFx1REVDRC1cXHVERUNGXFx1REVFMC1cXHVERUU1XFx1REVFOVxcdURFRjBcXHVERUYzXVxcdUZFMEY/fFtcXHVEQzQyXFx1REM0M1xcdURDNDYtXFx1REM1MFxcdURDNjZcXHVEQzY3XFx1REM2Qi1cXHVEQzZEXFx1REM3MlxcdURDNzQtXFx1REM3NlxcdURDNzhcXHVEQzdDXFx1REM4M1xcdURDODVcXHVEQzhGXFx1REM5MVxcdURDQUFcXHVERDdBXFx1REQ5NVxcdUREOTZcXHVERTRDXFx1REU0RlxcdURFQzBcXHVERUNDXSg/OlxcdUQ4M0NbXFx1REZGQi1cXHVERkZGXSk/fFtcXHVEQzZFXFx1REM3MFxcdURDNzFcXHVEQzczXFx1REM3N1xcdURDODFcXHVEQzgyXFx1REM4NlxcdURDODdcXHVERTQ1LVxcdURFNDdcXHVERTRCXFx1REU0RFxcdURFNEVcXHVERUEzXFx1REVCNC1cXHVERUI2XSg/OlxcdUQ4M0NbXFx1REZGQi1cXHVERkZGXSk/KD86XFx1MjAwRFtcXHUyNjQwXFx1MjY0Ml1cXHVGRTBGPyk/fFtcXHVERDc0XFx1REQ5MF0oPzpcXHVGRTBGfFxcdUQ4M0NbXFx1REZGQi1cXHVERkZGXSk/fFtcXHVEQzAwLVxcdURDMDdcXHVEQzA5LVxcdURDMTRcXHVEQzE2LVxcdURDM0FcXHVEQzNDLVxcdURDM0VcXHVEQzQwXFx1REM0NFxcdURDNDVcXHVEQzUxLVxcdURDNjVcXHVEQzZBXFx1REM3OS1cXHVEQzdCXFx1REM3RC1cXHVEQzgwXFx1REM4NFxcdURDODgtXFx1REM4RVxcdURDOTBcXHVEQzkyLVxcdURDQTlcXHVEQ0FCLVxcdURDRkNcXHVEQ0ZGLVxcdUREM0RcXHVERDRCLVxcdURENEVcXHVERDUwLVxcdURENjdcXHVEREE0XFx1RERGQi1cXHVERTJEXFx1REUyRi1cXHVERTM0XFx1REUzNy1cXHVERTQ0XFx1REU0OC1cXHVERTRBXFx1REU4MC1cXHVERUEyXFx1REVBNC1cXHVERUIzXFx1REVCNy1cXHVERUJGXFx1REVDMS1cXHVERUM1XFx1REVEMC1cXHVERUQyXFx1REVENS1cXHVERUQ3XFx1REVERC1cXHVERURGXFx1REVFQlxcdURFRUNcXHVERUY0LVxcdURFRkNcXHVERkUwLVxcdURGRUJcXHVERkYwXXxcXHVEQzA4KD86XFx1MjAwRFxcdTJCMUIpP3xcXHVEQzE1KD86XFx1MjAwRFxcdUQ4M0VcXHVEREJBKT98XFx1REMzQig/OlxcdTIwMERcXHUyNzQ0XFx1RkUwRj8pP3xcXHVEQzQxXFx1RkUwRj8oPzpcXHUyMDBEXFx1RDgzRFxcdURERThcXHVGRTBGPyk/fFxcdURDNjgoPzpcXHUyMDBEKD86W1xcdTI2OTVcXHUyNjk2XFx1MjcwOF1cXHVGRTBGP3xcXHUyNzY0XFx1RkUwRj9cXHUyMDBEXFx1RDgzRCg/OlxcdURDOEJcXHUyMDBEXFx1RDgzRCk/XFx1REM2OHxcXHVEODNDW1xcdURGM0VcXHVERjczXFx1REY3Q1xcdURGOTNcXHVERkE0XFx1REZBOFxcdURGRUJcXHVERkVEXXxcXHVEODNEKD86W1xcdURDNjhcXHVEQzY5XVxcdTIwMERcXHVEODNEKD86XFx1REM2Nig/OlxcdTIwMERcXHVEODNEXFx1REM2Nik/fFxcdURDNjcoPzpcXHUyMDBEXFx1RDgzRFtcXHVEQzY2XFx1REM2N10pPyl8W1xcdURDQkJcXHVEQ0JDXFx1REQyN1xcdUREMkNcXHVERTgwXFx1REU5Ml18XFx1REM2Nig/OlxcdTIwMERcXHVEODNEXFx1REM2Nik/fFxcdURDNjcoPzpcXHUyMDBEXFx1RDgzRFtcXHVEQzY2XFx1REM2N10pPyl8XFx1RDgzRVtcXHVEREFGLVxcdUREQjNcXHVEREJDXFx1RERCRF0pfFxcdUQ4M0MoPzpcXHVERkZCKD86XFx1MjAwRCg/OltcXHUyNjk1XFx1MjY5NlxcdTI3MDhdXFx1RkUwRj98XFx1Mjc2NFxcdUZFMEY/XFx1MjAwRFxcdUQ4M0QoPzpcXHVEQzhCXFx1MjAwRFxcdUQ4M0QpP1xcdURDNjhcXHVEODNDW1xcdURGRkItXFx1REZGRl18XFx1RDgzQ1tcXHVERjNFXFx1REY3M1xcdURGN0NcXHVERjkzXFx1REZBNFxcdURGQThcXHVERkVCXFx1REZFRF18XFx1RDgzRFtcXHVEQ0JCXFx1RENCQ1xcdUREMjdcXHVERDJDXFx1REU4MFxcdURFOTJdfFxcdUQ4M0UoPzpbXFx1RERBRi1cXHVEREIzXFx1RERCQ1xcdUREQkRdfFxcdUREMURcXHUyMDBEXFx1RDgzRFxcdURDNjhcXHVEODNDW1xcdURGRkMtXFx1REZGRl0pKSk/fFxcdURGRkMoPzpcXHUyMDBEKD86W1xcdTI2OTVcXHUyNjk2XFx1MjcwOF1cXHVGRTBGP3xcXHUyNzY0XFx1RkUwRj9cXHUyMDBEXFx1RDgzRCg/OlxcdURDOEJcXHUyMDBEXFx1RDgzRCk/XFx1REM2OFxcdUQ4M0NbXFx1REZGQi1cXHVERkZGXXxcXHVEODNDW1xcdURGM0VcXHVERjczXFx1REY3Q1xcdURGOTNcXHVERkE0XFx1REZBOFxcdURGRUJcXHVERkVEXXxcXHVEODNEW1xcdURDQkJcXHVEQ0JDXFx1REQyN1xcdUREMkNcXHVERTgwXFx1REU5Ml18XFx1RDgzRSg/OltcXHVEREFGLVxcdUREQjNcXHVEREJDXFx1RERCRF18XFx1REQxRFxcdTIwMERcXHVEODNEXFx1REM2OFxcdUQ4M0NbXFx1REZGQlxcdURGRkQtXFx1REZGRl0pKSk/fFxcdURGRkQoPzpcXHUyMDBEKD86W1xcdTI2OTVcXHUyNjk2XFx1MjcwOF1cXHVGRTBGP3xcXHUyNzY0XFx1RkUwRj9cXHUyMDBEXFx1RDgzRCg/OlxcdURDOEJcXHUyMDBEXFx1RDgzRCk/XFx1REM2OFxcdUQ4M0NbXFx1REZGQi1cXHVERkZGXXxcXHVEODNDW1xcdURGM0VcXHVERjczXFx1REY3Q1xcdURGOTNcXHVERkE0XFx1REZBOFxcdURGRUJcXHVERkVEXXxcXHVEODNEW1xcdURDQkJcXHVEQ0JDXFx1REQyN1xcdUREMkNcXHVERTgwXFx1REU5Ml18XFx1RDgzRSg/OltcXHVEREFGLVxcdUREQjNcXHVEREJDXFx1RERCRF18XFx1REQxRFxcdTIwMERcXHVEODNEXFx1REM2OFxcdUQ4M0NbXFx1REZGQlxcdURGRkNcXHVERkZFXFx1REZGRl0pKSk/fFxcdURGRkUoPzpcXHUyMDBEKD86W1xcdTI2OTVcXHUyNjk2XFx1MjcwOF1cXHVGRTBGP3xcXHUyNzY0XFx1RkUwRj9cXHUyMDBEXFx1RDgzRCg/OlxcdURDOEJcXHUyMDBEXFx1RDgzRCk/XFx1REM2OFxcdUQ4M0NbXFx1REZGQi1cXHVERkZGXXxcXHVEODNDW1xcdURGM0VcXHVERjczXFx1REY3Q1xcdURGOTNcXHVERkE0XFx1REZBOFxcdURGRUJcXHVERkVEXXxcXHVEODNEW1xcdURDQkJcXHVEQ0JDXFx1REQyN1xcdUREMkNcXHVERTgwXFx1REU5Ml18XFx1RDgzRSg/OltcXHVEREFGLVxcdUREQjNcXHVEREJDXFx1RERCRF18XFx1REQxRFxcdTIwMERcXHVEODNEXFx1REM2OFxcdUQ4M0NbXFx1REZGQi1cXHVERkZEXFx1REZGRl0pKSk/fFxcdURGRkYoPzpcXHUyMDBEKD86W1xcdTI2OTVcXHUyNjk2XFx1MjcwOF1cXHVGRTBGP3xcXHUyNzY0XFx1RkUwRj9cXHUyMDBEXFx1RDgzRCg/OlxcdURDOEJcXHUyMDBEXFx1RDgzRCk/XFx1REM2OFxcdUQ4M0NbXFx1REZGQi1cXHVERkZGXXxcXHVEODNDW1xcdURGM0VcXHVERjczXFx1REY3Q1xcdURGOTNcXHVERkE0XFx1REZBOFxcdURGRUJcXHVERkVEXXxcXHVEODNEW1xcdURDQkJcXHVEQ0JDXFx1REQyN1xcdUREMkNcXHVERTgwXFx1REU5Ml18XFx1RDgzRSg/OltcXHVEREFGLVxcdUREQjNcXHVEREJDXFx1RERCRF18XFx1REQxRFxcdTIwMERcXHVEODNEXFx1REM2OFxcdUQ4M0NbXFx1REZGQi1cXHVERkZFXSkpKT8pKT98XFx1REM2OSg/OlxcdTIwMEQoPzpbXFx1MjY5NVxcdTI2OTZcXHUyNzA4XVxcdUZFMEY/fFxcdTI3NjRcXHVGRTBGP1xcdTIwMERcXHVEODNEKD86XFx1REM4QlxcdTIwMERcXHVEODNEKT9bXFx1REM2OFxcdURDNjldfFxcdUQ4M0NbXFx1REYzRVxcdURGNzNcXHVERjdDXFx1REY5M1xcdURGQTRcXHVERkE4XFx1REZFQlxcdURGRURdfFxcdUQ4M0QoPzpbXFx1RENCQlxcdURDQkNcXHVERDI3XFx1REQyQ1xcdURFODBcXHVERTkyXXxcXHVEQzY2KD86XFx1MjAwRFxcdUQ4M0RcXHVEQzY2KT98XFx1REM2Nyg/OlxcdTIwMERcXHVEODNEW1xcdURDNjZcXHVEQzY3XSk/fFxcdURDNjlcXHUyMDBEXFx1RDgzRCg/OlxcdURDNjYoPzpcXHUyMDBEXFx1RDgzRFxcdURDNjYpP3xcXHVEQzY3KD86XFx1MjAwRFxcdUQ4M0RbXFx1REM2NlxcdURDNjddKT8pKXxcXHVEODNFW1xcdUREQUYtXFx1RERCM1xcdUREQkNcXHVEREJEXSl8XFx1RDgzQyg/OlxcdURGRkIoPzpcXHUyMDBEKD86W1xcdTI2OTVcXHUyNjk2XFx1MjcwOF1cXHVGRTBGP3xcXHUyNzY0XFx1RkUwRj9cXHUyMDBEXFx1RDgzRCg/OltcXHVEQzY4XFx1REM2OV18XFx1REM4QlxcdTIwMERcXHVEODNEW1xcdURDNjhcXHVEQzY5XSlcXHVEODNDW1xcdURGRkItXFx1REZGRl18XFx1RDgzQ1tcXHVERjNFXFx1REY3M1xcdURGN0NcXHVERjkzXFx1REZBNFxcdURGQThcXHVERkVCXFx1REZFRF18XFx1RDgzRFtcXHVEQ0JCXFx1RENCQ1xcdUREMjdcXHVERDJDXFx1REU4MFxcdURFOTJdfFxcdUQ4M0UoPzpbXFx1RERBRi1cXHVEREIzXFx1RERCQ1xcdUREQkRdfFxcdUREMURcXHUyMDBEXFx1RDgzRFtcXHVEQzY4XFx1REM2OV1cXHVEODNDW1xcdURGRkMtXFx1REZGRl0pKSk/fFxcdURGRkMoPzpcXHUyMDBEKD86W1xcdTI2OTVcXHUyNjk2XFx1MjcwOF1cXHVGRTBGP3xcXHUyNzY0XFx1RkUwRj9cXHUyMDBEXFx1RDgzRCg/OltcXHVEQzY4XFx1REM2OV18XFx1REM4QlxcdTIwMERcXHVEODNEW1xcdURDNjhcXHVEQzY5XSlcXHVEODNDW1xcdURGRkItXFx1REZGRl18XFx1RDgzQ1tcXHVERjNFXFx1REY3M1xcdURGN0NcXHVERjkzXFx1REZBNFxcdURGQThcXHVERkVCXFx1REZFRF18XFx1RDgzRFtcXHVEQ0JCXFx1RENCQ1xcdUREMjdcXHVERDJDXFx1REU4MFxcdURFOTJdfFxcdUQ4M0UoPzpbXFx1RERBRi1cXHVEREIzXFx1RERCQ1xcdUREQkRdfFxcdUREMURcXHUyMDBEXFx1RDgzRFtcXHVEQzY4XFx1REM2OV1cXHVEODNDW1xcdURGRkJcXHVERkZELVxcdURGRkZdKSkpP3xcXHVERkZEKD86XFx1MjAwRCg/OltcXHUyNjk1XFx1MjY5NlxcdTI3MDhdXFx1RkUwRj98XFx1Mjc2NFxcdUZFMEY/XFx1MjAwRFxcdUQ4M0QoPzpbXFx1REM2OFxcdURDNjldfFxcdURDOEJcXHUyMDBEXFx1RDgzRFtcXHVEQzY4XFx1REM2OV0pXFx1RDgzQ1tcXHVERkZCLVxcdURGRkZdfFxcdUQ4M0NbXFx1REYzRVxcdURGNzNcXHVERjdDXFx1REY5M1xcdURGQTRcXHVERkE4XFx1REZFQlxcdURGRURdfFxcdUQ4M0RbXFx1RENCQlxcdURDQkNcXHVERDI3XFx1REQyQ1xcdURFODBcXHVERTkyXXxcXHVEODNFKD86W1xcdUREQUYtXFx1RERCM1xcdUREQkNcXHVEREJEXXxcXHVERDFEXFx1MjAwRFxcdUQ4M0RbXFx1REM2OFxcdURDNjldXFx1RDgzQ1tcXHVERkZCXFx1REZGQ1xcdURGRkVcXHVERkZGXSkpKT98XFx1REZGRSg/OlxcdTIwMEQoPzpbXFx1MjY5NVxcdTI2OTZcXHUyNzA4XVxcdUZFMEY/fFxcdTI3NjRcXHVGRTBGP1xcdTIwMERcXHVEODNEKD86W1xcdURDNjhcXHVEQzY5XXxcXHVEQzhCXFx1MjAwRFxcdUQ4M0RbXFx1REM2OFxcdURDNjldKVxcdUQ4M0NbXFx1REZGQi1cXHVERkZGXXxcXHVEODNDW1xcdURGM0VcXHVERjczXFx1REY3Q1xcdURGOTNcXHVERkE0XFx1REZBOFxcdURGRUJcXHVERkVEXXxcXHVEODNEW1xcdURDQkJcXHVEQ0JDXFx1REQyN1xcdUREMkNcXHVERTgwXFx1REU5Ml18XFx1RDgzRSg/OltcXHVEREFGLVxcdUREQjNcXHVEREJDXFx1RERCRF18XFx1REQxRFxcdTIwMERcXHVEODNEW1xcdURDNjhcXHVEQzY5XVxcdUQ4M0NbXFx1REZGQi1cXHVERkZEXFx1REZGRl0pKSk/fFxcdURGRkYoPzpcXHUyMDBEKD86W1xcdTI2OTVcXHUyNjk2XFx1MjcwOF1cXHVGRTBGP3xcXHUyNzY0XFx1RkUwRj9cXHUyMDBEXFx1RDgzRCg/OltcXHVEQzY4XFx1REM2OV18XFx1REM4QlxcdTIwMERcXHVEODNEW1xcdURDNjhcXHVEQzY5XSlcXHVEODNDW1xcdURGRkItXFx1REZGRl18XFx1RDgzQ1tcXHVERjNFXFx1REY3M1xcdURGN0NcXHVERjkzXFx1REZBNFxcdURGQThcXHVERkVCXFx1REZFRF18XFx1RDgzRFtcXHVEQ0JCXFx1RENCQ1xcdUREMjdcXHVERDJDXFx1REU4MFxcdURFOTJdfFxcdUQ4M0UoPzpbXFx1RERBRi1cXHVEREIzXFx1RERCQ1xcdUREQkRdfFxcdUREMURcXHUyMDBEXFx1RDgzRFtcXHVEQzY4XFx1REM2OV1cXHVEODNDW1xcdURGRkItXFx1REZGRV0pKSk/KSk/fFxcdURDNkYoPzpcXHUyMDBEW1xcdTI2NDBcXHUyNjQyXVxcdUZFMEY/KT98XFx1REQ3NSg/OlxcdUZFMEZ8XFx1RDgzQ1tcXHVERkZCLVxcdURGRkZdKT8oPzpcXHUyMDBEW1xcdTI2NDBcXHUyNjQyXVxcdUZFMEY/KT98XFx1REUyRSg/OlxcdTIwMERcXHVEODNEXFx1RENBOCk/fFxcdURFMzUoPzpcXHUyMDBEXFx1RDgzRFxcdURDQUIpP3xcXHVERTM2KD86XFx1MjAwRFxcdUQ4M0NcXHVERjJCXFx1RkUwRj8pPyl8XFx1RDgzRSg/OltcXHVERDBDXFx1REQwRlxcdUREMTgtXFx1REQxRlxcdUREMzAtXFx1REQzNFxcdUREMzZcXHVERDc3XFx1RERCNVxcdUREQjZcXHVEREJCXFx1REREMlxcdURERDNcXHVEREQ1XFx1REVDMy1cXHVERUM1XFx1REVGMFxcdURFRjItXFx1REVGNl0oPzpcXHVEODNDW1xcdURGRkItXFx1REZGRl0pP3xbXFx1REQyNlxcdUREMzVcXHVERDM3LVxcdUREMzlcXHVERDNEXFx1REQzRVxcdUREQjhcXHVEREI5XFx1RERDRC1cXHVERENGXFx1RERENFxcdURERDYtXFx1RERERF0oPzpcXHVEODNDW1xcdURGRkItXFx1REZGRl0pPyg/OlxcdTIwMERbXFx1MjY0MFxcdTI2NDJdXFx1RkUwRj8pP3xbXFx1RERERVxcdUREREZdKD86XFx1MjAwRFtcXHUyNjQwXFx1MjY0Ml1cXHVGRTBGPyk/fFtcXHVERDBEXFx1REQwRVxcdUREMTAtXFx1REQxN1xcdUREMjAtXFx1REQyNVxcdUREMjctXFx1REQyRlxcdUREM0FcXHVERDNGLVxcdURENDVcXHVERDQ3LVxcdURENzZcXHVERDc4LVxcdUREQjRcXHVEREI3XFx1RERCQVxcdUREQkMtXFx1RERDQ1xcdURERDBcXHVEREUwLVxcdURERkZcXHVERTcwLVxcdURFNzRcXHVERTc4LVxcdURFN0NcXHVERTgwLVxcdURFODZcXHVERTkwLVxcdURFQUNcXHVERUIwLVxcdURFQkFcXHVERUMwLVxcdURFQzJcXHVERUQwLVxcdURFRDlcXHVERUUwLVxcdURFRTddfFxcdUREM0MoPzpcXHUyMDBEW1xcdTI2NDBcXHUyNjQyXVxcdUZFMEY/fFxcdUQ4M0NbXFx1REZGQi1cXHVERkZGXSk/fFxcdURERDEoPzpcXHUyMDBEKD86W1xcdTI2OTVcXHUyNjk2XFx1MjcwOF1cXHVGRTBGP3xcXHVEODNDW1xcdURGM0VcXHVERjczXFx1REY3Q1xcdURGODRcXHVERjkzXFx1REZBNFxcdURGQThcXHVERkVCXFx1REZFRF18XFx1RDgzRFtcXHVEQ0JCXFx1RENCQ1xcdUREMjdcXHVERDJDXFx1REU4MFxcdURFOTJdfFxcdUQ4M0UoPzpbXFx1RERBRi1cXHVEREIzXFx1RERCQ1xcdUREQkRdfFxcdUREMURcXHUyMDBEXFx1RDgzRVxcdURERDEpKXxcXHVEODNDKD86XFx1REZGQig/OlxcdTIwMEQoPzpbXFx1MjY5NVxcdTI2OTZcXHUyNzA4XVxcdUZFMEY/fFxcdTI3NjRcXHVGRTBGP1xcdTIwMEQoPzpcXHVEODNEXFx1REM4QlxcdTIwMEQpP1xcdUQ4M0VcXHVEREQxXFx1RDgzQ1tcXHVERkZDLVxcdURGRkZdfFxcdUQ4M0NbXFx1REYzRVxcdURGNzNcXHVERjdDXFx1REY4NFxcdURGOTNcXHVERkE0XFx1REZBOFxcdURGRUJcXHVERkVEXXxcXHVEODNEW1xcdURDQkJcXHVEQ0JDXFx1REQyN1xcdUREMkNcXHVERTgwXFx1REU5Ml18XFx1RDgzRSg/OltcXHVEREFGLVxcdUREQjNcXHVEREJDXFx1RERCRF18XFx1REQxRFxcdTIwMERcXHVEODNFXFx1REREMVxcdUQ4M0NbXFx1REZGQi1cXHVERkZGXSkpKT98XFx1REZGQyg/OlxcdTIwMEQoPzpbXFx1MjY5NVxcdTI2OTZcXHUyNzA4XVxcdUZFMEY/fFxcdTI3NjRcXHVGRTBGP1xcdTIwMEQoPzpcXHVEODNEXFx1REM4QlxcdTIwMEQpP1xcdUQ4M0VcXHVEREQxXFx1RDgzQ1tcXHVERkZCXFx1REZGRC1cXHVERkZGXXxcXHVEODNDW1xcdURGM0VcXHVERjczXFx1REY3Q1xcdURGODRcXHVERjkzXFx1REZBNFxcdURGQThcXHVERkVCXFx1REZFRF18XFx1RDgzRFtcXHVEQ0JCXFx1RENCQ1xcdUREMjdcXHVERDJDXFx1REU4MFxcdURFOTJdfFxcdUQ4M0UoPzpbXFx1RERBRi1cXHVEREIzXFx1RERCQ1xcdUREQkRdfFxcdUREMURcXHUyMDBEXFx1RDgzRVxcdURERDFcXHVEODNDW1xcdURGRkItXFx1REZGRl0pKSk/fFxcdURGRkQoPzpcXHUyMDBEKD86W1xcdTI2OTVcXHUyNjk2XFx1MjcwOF1cXHVGRTBGP3xcXHUyNzY0XFx1RkUwRj9cXHUyMDBEKD86XFx1RDgzRFxcdURDOEJcXHUyMDBEKT9cXHVEODNFXFx1REREMVxcdUQ4M0NbXFx1REZGQlxcdURGRkNcXHVERkZFXFx1REZGRl18XFx1RDgzQ1tcXHVERjNFXFx1REY3M1xcdURGN0NcXHVERjg0XFx1REY5M1xcdURGQTRcXHVERkE4XFx1REZFQlxcdURGRURdfFxcdUQ4M0RbXFx1RENCQlxcdURDQkNcXHVERDI3XFx1REQyQ1xcdURFODBcXHVERTkyXXxcXHVEODNFKD86W1xcdUREQUYtXFx1RERCM1xcdUREQkNcXHVEREJEXXxcXHVERDFEXFx1MjAwRFxcdUQ4M0VcXHVEREQxXFx1RDgzQ1tcXHVERkZCLVxcdURGRkZdKSkpP3xcXHVERkZFKD86XFx1MjAwRCg/OltcXHUyNjk1XFx1MjY5NlxcdTI3MDhdXFx1RkUwRj98XFx1Mjc2NFxcdUZFMEY/XFx1MjAwRCg/OlxcdUQ4M0RcXHVEQzhCXFx1MjAwRCk/XFx1RDgzRVxcdURERDFcXHVEODNDW1xcdURGRkItXFx1REZGRFxcdURGRkZdfFxcdUQ4M0NbXFx1REYzRVxcdURGNzNcXHVERjdDXFx1REY4NFxcdURGOTNcXHVERkE0XFx1REZBOFxcdURGRUJcXHVERkVEXXxcXHVEODNEW1xcdURDQkJcXHVEQ0JDXFx1REQyN1xcdUREMkNcXHVERTgwXFx1REU5Ml18XFx1RDgzRSg/OltcXHVEREFGLVxcdUREQjNcXHVEREJDXFx1RERCRF18XFx1REQxRFxcdTIwMERcXHVEODNFXFx1REREMVxcdUQ4M0NbXFx1REZGQi1cXHVERkZGXSkpKT98XFx1REZGRig/OlxcdTIwMEQoPzpbXFx1MjY5NVxcdTI2OTZcXHUyNzA4XVxcdUZFMEY/fFxcdTI3NjRcXHVGRTBGP1xcdTIwMEQoPzpcXHVEODNEXFx1REM4QlxcdTIwMEQpP1xcdUQ4M0VcXHVEREQxXFx1RDgzQ1tcXHVERkZCLVxcdURGRkVdfFxcdUQ4M0NbXFx1REYzRVxcdURGNzNcXHVERjdDXFx1REY4NFxcdURGOTNcXHVERkE0XFx1REZBOFxcdURGRUJcXHVERkVEXXxcXHVEODNEW1xcdURDQkJcXHVEQ0JDXFx1REQyN1xcdUREMkNcXHVERTgwXFx1REU5Ml18XFx1RDgzRSg/OltcXHVEREFGLVxcdUREQjNcXHVEREJDXFx1RERCRF18XFx1REQxRFxcdTIwMERcXHVEODNFXFx1REREMVxcdUQ4M0NbXFx1REZGQi1cXHVERkZGXSkpKT8pKT98XFx1REVGMSg/OlxcdUQ4M0MoPzpcXHVERkZCKD86XFx1MjAwRFxcdUQ4M0VcXHVERUYyXFx1RDgzQ1tcXHVERkZDLVxcdURGRkZdKT98XFx1REZGQyg/OlxcdTIwMERcXHVEODNFXFx1REVGMlxcdUQ4M0NbXFx1REZGQlxcdURGRkQtXFx1REZGRl0pP3xcXHVERkZEKD86XFx1MjAwRFxcdUQ4M0VcXHVERUYyXFx1RDgzQ1tcXHVERkZCXFx1REZGQ1xcdURGRkVcXHVERkZGXSk/fFxcdURGRkUoPzpcXHUyMDBEXFx1RDgzRVxcdURFRjJcXHVEODNDW1xcdURGRkItXFx1REZGRFxcdURGRkZdKT98XFx1REZGRig/OlxcdTIwMERcXHVEODNFXFx1REVGMlxcdUQ4M0NbXFx1REZGQi1cXHVERkZFXSk/KSk/KSkvZztcbn07XG4iLCAiaW1wb3J0IHsgRGF0ZVRpbWUsIER1cmF0aW9uIH0gZnJvbSBcImx1eG9uXCI7XG5pbXBvcnQgeyBSZXN1bHQgfSBmcm9tIFwiYXBpL3Jlc3VsdFwiO1xuaW1wb3J0ICogYXMgUCBmcm9tIFwicGFyc2ltbW9uXCI7XG5pbXBvcnQgZW1vamlSZWdleCBmcm9tIFwiZW1vamktcmVnZXhcIjtcbmltcG9ydCB7IFF1ZXJ5U2V0dGluZ3MgfSBmcm9tIFwic2V0dGluZ3NcIjtcblxuLyoqIE5vcm1hbGl6ZSBhIGR1cmF0aW9uIHRvIGFsbCBvZiB0aGUgcHJvcGVyIHVuaXRzLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZUR1cmF0aW9uKGR1cjogRHVyYXRpb24pIHtcbiAgICBpZiAoZHVyID09PSB1bmRlZmluZWQgfHwgZHVyID09PSBudWxsKSByZXR1cm4gZHVyO1xuXG4gICAgcmV0dXJuIGR1ci5zaGlmdFRvKFwieWVhcnNcIiwgXCJtb250aHNcIiwgXCJ3ZWVrc1wiLCBcImRheXNcIiwgXCJob3Vyc1wiLCBcIm1pbnV0ZXNcIiwgXCJzZWNvbmRzXCIsIFwibWlsbGlzZWNvbmRzXCIpLm5vcm1hbGl6ZSgpO1xufVxuXG4vKiogU3RyaXAgdGhlIHRpbWUgY29tcG9uZW50cyBvZiBhIGRhdGUgdGltZSBvYmplY3QuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyaXBUaW1lKGR0OiBEYXRlVGltZSk6IERhdGVUaW1lIHtcbiAgICBpZiAoZHQgPT09IG51bGwgfHwgZHQgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGR0O1xuXG4gICAgcmV0dXJuIERhdGVUaW1lLmZyb21PYmplY3Qoe1xuICAgICAgICB5ZWFyOiBkdC55ZWFyLFxuICAgICAgICBtb250aDogZHQubW9udGgsXG4gICAgICAgIGRheTogZHQuZGF5LFxuICAgIH0pO1xufVxuXG4vKiogVHJ5IHRvIGV4dHJhY3QgYSBZWVlZTU1ERCBkYXRlIGZyb20gYSBzdHJpbmcuICovXG5leHBvcnQgZnVuY3Rpb24gZXh0cmFjdERhdGUoc3RyOiBzdHJpbmcpOiBEYXRlVGltZSB8IHVuZGVmaW5lZCB7XG4gICAgbGV0IGRhdGVNYXRjaCA9IC8oXFxkezR9KS0oXFxkezJ9KS0oXFxkezJ9KS8uZXhlYyhzdHIpO1xuICAgIGlmICghZGF0ZU1hdGNoKSBkYXRlTWF0Y2ggPSAvKFxcZHs0fSkoXFxkezJ9KShcXGR7Mn0pLy5leGVjKHN0cik7XG4gICAgaWYgKGRhdGVNYXRjaCkge1xuICAgICAgICBsZXQgeWVhciA9IE51bWJlci5wYXJzZUludChkYXRlTWF0Y2hbMV0pO1xuICAgICAgICBsZXQgbW9udGggPSBOdW1iZXIucGFyc2VJbnQoZGF0ZU1hdGNoWzJdKTtcbiAgICAgICAgbGV0IGRheSA9IE51bWJlci5wYXJzZUludChkYXRlTWF0Y2hbM10pO1xuICAgICAgICByZXR1cm4gRGF0ZVRpbWUuZnJvbU9iamVjdCh7IHllYXIsIG1vbnRoLCBkYXkgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuLyoqIEdldCB0aGUgZm9sZGVyIGNvbnRhaW5pbmcgdGhlIGdpdmVuIHBhdGggKGkuZS4sIGxpa2UgY29tcHV0aW5nICdwYXRoLy4uJykuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UGFyZW50Rm9sZGVyKHBhdGg6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHBhdGguc3BsaXQoXCIvXCIpLnNsaWNlKDAsIC0xKS5qb2luKFwiL1wiKTtcbn1cblxuLyoqIEdldCB0aGUgZmlsZSBuYW1lIGZvciB0aGUgZmlsZSByZWZlcmVuY2VkIGluIHRoZSBnaXZlbiBwYXRoLCBieSBzdHJpcHBpbmcgdGhlIHBhcmVudCBmb2xkZXJzLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEZpbGVOYW1lKHBhdGg6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHBhdGguaW5jbHVkZXMoXCIvXCIpID8gcGF0aC5zdWJzdHJpbmcocGF0aC5sYXN0SW5kZXhPZihcIi9cIikgKyAxKSA6IHBhdGg7XG59XG5cbi8qKiBHZXQgdGhlIFwidGl0bGVcIiBmb3IgYSBmaWxlLCBieSBzdHJpcHBpbmcgb3RoZXIgcGFydHMgb2YgdGhlIHBhdGggYXMgd2VsbCBhcyB0aGUgZXh0ZW5zaW9uLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEZpbGVUaXRsZShwYXRoOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGlmIChwYXRoLmluY2x1ZGVzKFwiL1wiKSkgcGF0aCA9IHBhdGguc3Vic3RyaW5nKHBhdGgubGFzdEluZGV4T2YoXCIvXCIpICsgMSk7XG4gICAgaWYgKHBhdGguZW5kc1dpdGgoXCIubWRcIikpIHBhdGggPSBwYXRoLnN1YnN0cmluZygwLCBwYXRoLmxlbmd0aCAtIDMpO1xuICAgIHJldHVybiBwYXRoO1xufVxuXG4vKiogR2V0IHRoZSBleHRlbnNpb24gb2YgYSBmaWxlIGZyb20gdGhlIGZpbGUgcGF0aC4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRFeHRlbnNpb24ocGF0aDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBpZiAoIXBhdGguaW5jbHVkZXMoXCIuXCIpKSByZXR1cm4gXCJcIjtcbiAgICByZXR1cm4gcGF0aC5zdWJzdHJpbmcocGF0aC5sYXN0SW5kZXhPZihcIi5cIikgKyAxKTtcbn1cblxuLyoqIFBhcnNlIGFsbCBzdWJ0YWdzIG91dCBvZiB0aGUgZ2l2ZW4gdGFnLiBJLmUuLCAjaGVsbG8vaS9hbSB3b3VsZCB5aWVsZCBbI2hlbGxvL2kvYW0sICNoZWxsby9pLCAjaGVsbG9dLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RTdWJ0YWdzKHRhZzogc3RyaW5nKTogc3RyaW5nW10ge1xuICAgIGxldCByZXN1bHQgPSBbdGFnXTtcbiAgICB3aGlsZSAodGFnLmluY2x1ZGVzKFwiL1wiKSkge1xuICAgICAgICB0YWcgPSB0YWcuc3Vic3RyaW5nKDAsIHRhZy5sYXN0SW5kZXhPZihcIi9cIikpO1xuICAgICAgICByZXN1bHQucHVzaCh0YWcpO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKiBUcnkgY2FsbGluZyB0aGUgZ2l2ZW4gZnVuY3Rpb247IG9uIGZhaWx1cmUsIHJldHVybiB0aGUgZXJyb3IgbWVzc2FnZS4gICovXG5leHBvcnQgZnVuY3Rpb24gdHJ5T3JQcm9wb2dhdGU8VD4oZnVuYzogKCkgPT4gUmVzdWx0PFQsIHN0cmluZz4pOiBSZXN1bHQ8VCwgc3RyaW5nPiB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGZ1bmMoKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4gUmVzdWx0LmZhaWx1cmUoXCJcIiArIGVycm9yICsgXCJcXG5cXG5cIiArIGVycm9yLnN0YWNrKTtcbiAgICB9XG59XG5cbi8qKiBUcnkgYXN5bmNocm9ub3VzbHkgY2FsbGluZyB0aGUgZ2l2ZW4gZnVuY3Rpb247IG9uIGZhaWx1cmUsIHJldHVybiB0aGUgZXJyb3IgbWVzc2FnZS4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhc3luY1RyeU9yUHJvcG9nYXRlPFQ+KGZ1bmM6ICgpID0+IFByb21pc2U8UmVzdWx0PFQsIHN0cmluZz4+KTogUHJvbWlzZTxSZXN1bHQ8VCwgc3RyaW5nPj4ge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBhd2FpdCBmdW5jKCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIFJlc3VsdC5mYWlsdXJlKFwiXCIgKyBlcnJvciArIFwiXFxuXFxuXCIgKyBlcnJvci5zdGFjayk7XG4gICAgfVxufVxuXG4vKipcbiAqIEVzY2FwZSByZWdleCBjaGFyYWN0ZXJzIGluIGEgc3RyaW5nLlxuICogU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvR3VpZGUvUmVndWxhcl9FeHByZXNzaW9ucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVzY2FwZVJlZ2V4KHN0cjogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKC9bLiorP14ke30oKXxbXFxdXFxcXF0vZywgXCJcXFxcJCZcIik7XG59XG5cbi8qKiBBIHBhcnNpbW1vbiBwYXJzZXIgd2hpY2ggY2Fub25pY2FsaXplcyB2YXJpYWJsZSBuYW1lcyB3aGlsZSBwcm9wZXJseSByZXNwZWN0aW5nIGVtb2ppLiAqL1xuY29uc3QgVkFSX05BTUVfQ0FOT05JQ0FMSVpFUjogUC5QYXJzZXI8c3RyaW5nPiA9IFAuYWx0KFxuICAgIFAucmVnZXgobmV3IFJlZ0V4cChlbW9qaVJlZ2V4KCksIFwiXCIpKSxcbiAgICBQLnJlZ2V4KC9bMC05XFxwe0xldHRlcn1fLV0rL3UpLm1hcChzdHIgPT4gc3RyLnRvTG9jYWxlTG93ZXJDYXNlKCkpLFxuICAgIFAud2hpdGVzcGFjZS5tYXAoXyA9PiBcIi1cIiksXG4gICAgUC5hbnkubWFwKF8gPT4gXCJcIilcbilcbiAgICAubWFueSgpXG4gICAgLm1hcChyZXN1bHQgPT4gcmVzdWx0LmpvaW4oXCJcIikpO1xuXG4vKiogQ29udmVydCBhbiBhcmJpdHJhcnkgdmFyaWFibGUgbmFtZSBpbnRvIHNvbWV0aGluZyBKUy9xdWVyeSBmcmllbmRseS4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYW5vbmljYWxpemVWYXJOYW1lKG5hbWU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFZBUl9OQU1FX0NBTk9OSUNBTElaRVIudHJ5UGFyc2UobmFtZSk7XG59XG5cbmNvbnN0IEhFQURFUl9DQU5PTklDQUxJWkVSOiBQLlBhcnNlcjxzdHJpbmc+ID0gUC5hbHQoXG4gICAgUC5yZWdleChuZXcgUmVnRXhwKGVtb2ppUmVnZXgoKSwgXCJcIikpLFxuICAgIFAucmVnZXgoL1swLTlcXHB7TGV0dGVyfV8tXSsvdSksXG4gICAgUC53aGl0ZXNwYWNlLm1hcChfID0+IFwiIFwiKSxcbiAgICBQLmFueS5tYXAoXyA9PiBcIiBcIilcbilcbiAgICAubWFueSgpXG4gICAgLm1hcChyZXN1bHQgPT4ge1xuICAgICAgICByZXR1cm4gcmVzdWx0LmpvaW4oXCJcIikuc3BsaXQoL1xccysvKS5qb2luKFwiIFwiKS50cmltKCk7XG4gICAgfSk7XG5cbi8qKlxuICogTm9ybWFsaXplcyB0aGUgdGV4dCBpbiBhIGhlYWRlciB0byBiZSBzb21ldGhpbmcgdGhhdCBpcyBhY3R1YWxseSBsaW5rYWJsZSB0by4gVGhpcyBtaW1pY3NcbiAqIGhvdyBPYnNpZGlhbiBkb2VzIGl0J3Mgbm9ybWFsaXphdGlvbiwgY29sbGFwc2luZyByZXBlYXRlZCBzcGFjZXMgYW5kIHN0cmlwcGluZyBvdXQgY29udHJvbCBjaGFyYWN0ZXJzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplSGVhZGVyRm9yTGluayhoZWFkZXI6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgcmV0dXJuIEhFQURFUl9DQU5PTklDQUxJWkVSLnRyeVBhcnNlKGhlYWRlcik7XG59XG5cbi8qKiBSZW5kZXIgYSBEYXRlVGltZSBpbiBhIG1pbmltYWwgZm9ybWF0IHRvIHNhdmUgc3BhY2UuICovXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyTWluaW1hbERhdGUodGltZTogRGF0ZVRpbWUsIHNldHRpbmdzOiBRdWVyeVNldHRpbmdzLCBsb2NhbGU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgLy8gSWYgdGhlcmUgaXMgbm8gcmVsZXZhbnQgdGltZSBzcGVjaWZpZWQsIGZhbGwgYmFjayB0byBqdXN0IHJlbmRlcmluZyB0aGUgZGF0ZS5cbiAgICBpZiAodGltZS5zZWNvbmQgPT0gMCAmJiB0aW1lLm1pbnV0ZSA9PSAwICYmIHRpbWUuaG91ciA9PSAwKSB7XG4gICAgICAgIHJldHVybiB0aW1lLnRvTG9jYWwoKS50b0Zvcm1hdChzZXR0aW5ncy5kZWZhdWx0RGF0ZUZvcm1hdCwgeyBsb2NhbGUgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRpbWUudG9Mb2NhbCgpLnRvRm9ybWF0KHNldHRpbmdzLmRlZmF1bHREYXRlVGltZUZvcm1hdCwgeyBsb2NhbGUgfSk7XG59XG5cbi8qKiBSZW5kZXIgYSBkdXJhdGlvbiBpbiBhIG1pbmltYWwgZm9ybWF0IHRvIHNhdmUgc3BhY2UuICovXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyTWluaW1hbER1cmF0aW9uKGR1cjogRHVyYXRpb24pOiBzdHJpbmcge1xuICAgIGR1ciA9IG5vcm1hbGl6ZUR1cmF0aW9uKGR1cik7XG5cbiAgICAvLyBUT0RPOiBMdXhvbiBkb2VzIG5vdCBoYXZlIG11bHRpLWxpbmd1YWwvbG9jYWxlLWF3YXJlIGR1cmF0aW9uIHJlbmRlcmluZy5cbiAgICBsZXQgcmVzdWx0ID0gXCJcIjtcbiAgICBpZiAoZHVyLnllYXJzKSByZXN1bHQgKz0gYCR7ZHVyLnllYXJzfSB5ZWFycywgYDtcbiAgICBpZiAoZHVyLm1vbnRocykgcmVzdWx0ICs9IGAke2R1ci5tb250aHN9IG1vbnRocywgYDtcbiAgICBpZiAoZHVyLndlZWtzKSByZXN1bHQgKz0gYCR7ZHVyLndlZWtzfSB3ZWVrcywgYDtcbiAgICBpZiAoZHVyLmRheXMpIHJlc3VsdCArPSBgJHtkdXIuZGF5c30gZGF5cywgYDtcbiAgICBpZiAoZHVyLmhvdXJzKSByZXN1bHQgKz0gYCR7ZHVyLmhvdXJzfSBob3VycywgYDtcbiAgICBpZiAoZHVyLm1pbnV0ZXMpIHJlc3VsdCArPSBgJHtkdXIubWludXRlc30gbWludXRlcywgYDtcbiAgICBpZiAoZHVyLnNlY29uZHMpIHJlc3VsdCArPSBgJHtNYXRoLnJvdW5kKGR1ci5zZWNvbmRzKX0gc2Vjb25kcywgYDtcbiAgICBpZiAoZHVyLm1pbGxpc2Vjb25kcykgcmVzdWx0ICs9IGAke01hdGgucm91bmQoZHVyLm1pbGxpc2Vjb25kcyl9IG1zLCBgO1xuXG4gICAgaWYgKHJlc3VsdC5lbmRzV2l0aChcIiwgXCIpKSByZXN1bHQgPSByZXN1bHQuc3Vic3RyaW5nKDAsIHJlc3VsdC5sZW5ndGggLSAyKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKiogRGV0ZXJtaW5lIGlmIHR3byBzZXRzIGFyZSBlcXVhbCBpbiBjb250ZW50cy4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRzRXF1YWw8VD4oZmlyc3Q6IFNldDxUPiwgc2Vjb25kOiBTZXQ8VD4pOiBib29sZWFuIHtcbiAgICBpZiAoZmlyc3Quc2l6ZSAhPSBzZWNvbmQuc2l6ZSkgcmV0dXJuIGZhbHNlO1xuICAgIGZvciAobGV0IGVsZW0gb2YgZmlyc3QpIGlmICghc2Vjb25kLmhhcyhlbGVtKSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgcmV0dXJuIHRydWU7XG59XG4iLCAiaW1wb3J0IHsgRGF0ZVRpbWUsIER1cmF0aW9uIH0gZnJvbSBcImx1eG9uXCI7XG5pbXBvcnQgeyBERUZBVUxUX1FVRVJZX1NFVFRJTkdTLCBRdWVyeVNldHRpbmdzIH0gZnJvbSBcInNldHRpbmdzXCI7XG5pbXBvcnQgeyBnZXRGaWxlVGl0bGUsIG5vcm1hbGl6ZUhlYWRlckZvckxpbmssIHJlbmRlck1pbmltYWxEdXJhdGlvbiB9IGZyb20gXCJ1dGlsL25vcm1hbGl6ZVwiO1xuXG4vKiogU2hvcnRoYW5kIGZvciBhIG1hcHBpbmcgZnJvbSBrZXlzIHRvIHZhbHVlcy4gKi9cbmV4cG9ydCB0eXBlIERhdGFPYmplY3QgPSB7IFtrZXk6IHN0cmluZ106IExpdGVyYWwgfTtcbi8qKiBUaGUgbGl0ZXJhbCB0eXBlcyBzdXBwb3J0ZWQgYnkgdGhlIHF1ZXJ5IGVuZ2luZS4gKi9cbmV4cG9ydCB0eXBlIExpdGVyYWxUeXBlID1cbiAgICB8IFwiYm9vbGVhblwiXG4gICAgfCBcIm51bWJlclwiXG4gICAgfCBcInN0cmluZ1wiXG4gICAgfCBcImRhdGVcIlxuICAgIHwgXCJkdXJhdGlvblwiXG4gICAgfCBcImxpbmtcIlxuICAgIHwgXCJhcnJheVwiXG4gICAgfCBcIm9iamVjdFwiXG4gICAgfCBcImZ1bmN0aW9uXCJcbiAgICB8IFwibnVsbFwiXG4gICAgfCBcImh0bWxcIlxuICAgIHwgXCJ3aWRnZXRcIjtcbi8qKiBUaGUgcmF3IHZhbHVlcyB0aGF0IGEgbGl0ZXJhbCBjYW4gdGFrZSBvbi4gKi9cbmV4cG9ydCB0eXBlIExpdGVyYWwgPVxuICAgIHwgYm9vbGVhblxuICAgIHwgbnVtYmVyXG4gICAgfCBzdHJpbmdcbiAgICB8IERhdGVUaW1lXG4gICAgfCBEdXJhdGlvblxuICAgIHwgTGlua1xuICAgIHwgQXJyYXk8TGl0ZXJhbD5cbiAgICB8IERhdGFPYmplY3RcbiAgICB8IEZ1bmN0aW9uXG4gICAgfCBudWxsXG4gICAgfCBIVE1MRWxlbWVudFxuICAgIHwgV2lkZ2V0O1xuXG4vKiogQSBncm91cGluZyBvbiBhIHR5cGUgd2hpY2ggc3VwcG9ydHMgcmVjdXJzaXZlbHktbmVzdGVkIGdyb3Vwcy4gKi9cbmV4cG9ydCB0eXBlIEdyb3VwRWxlbWVudDxUPiA9IHsga2V5OiBMaXRlcmFsOyByb3dzOiBHcm91cGluZzxUPiB9O1xuZXhwb3J0IHR5cGUgR3JvdXBpbmc8VD4gPSBUW10gfCBHcm91cEVsZW1lbnQ8VD5bXTtcblxuLyoqIE1hcHMgdGhlIHN0cmluZyB0eXBlIHRvIGl0J3MgZXh0ZXJuYWwsIEFQSS1mYWNpbmcgcmVwcmVzZW50YXRpb24uICovXG5leHBvcnQgdHlwZSBMaXRlcmFsUmVwcjxUIGV4dGVuZHMgTGl0ZXJhbFR5cGU+ID0gVCBleHRlbmRzIFwiYm9vbGVhblwiXG4gICAgPyBib29sZWFuXG4gICAgOiBUIGV4dGVuZHMgXCJudW1iZXJcIlxuICAgID8gbnVtYmVyXG4gICAgOiBUIGV4dGVuZHMgXCJzdHJpbmdcIlxuICAgID8gc3RyaW5nXG4gICAgOiBUIGV4dGVuZHMgXCJkdXJhdGlvblwiXG4gICAgPyBEdXJhdGlvblxuICAgIDogVCBleHRlbmRzIFwiZGF0ZVwiXG4gICAgPyBEYXRlVGltZVxuICAgIDogVCBleHRlbmRzIFwibnVsbFwiXG4gICAgPyBudWxsXG4gICAgOiBUIGV4dGVuZHMgXCJsaW5rXCJcbiAgICA/IExpbmtcbiAgICA6IFQgZXh0ZW5kcyBcImFycmF5XCJcbiAgICA/IEFycmF5PExpdGVyYWw+XG4gICAgOiBUIGV4dGVuZHMgXCJvYmplY3RcIlxuICAgID8gUmVjb3JkPHN0cmluZywgTGl0ZXJhbD5cbiAgICA6IFQgZXh0ZW5kcyBcImZ1bmN0aW9uXCJcbiAgICA/IEZ1bmN0aW9uXG4gICAgOiBUIGV4dGVuZHMgXCJodG1sXCJcbiAgICA/IEhUTUxFbGVtZW50XG4gICAgOiBUIGV4dGVuZHMgXCJ3aWRnZXRcIlxuICAgID8gV2lkZ2V0XG4gICAgOiBhbnk7XG5cbi8qKiBBIHdyYXBwZWQgbGl0ZXJhbCB2YWx1ZSB3aGljaCBjYW4gYmUgc3dpdGNoZWQgb24uICovXG5leHBvcnQgdHlwZSBXcmFwcGVkTGl0ZXJhbCA9XG4gICAgfCBMaXRlcmFsV3JhcHBlcjxcInN0cmluZ1wiPlxuICAgIHwgTGl0ZXJhbFdyYXBwZXI8XCJudW1iZXJcIj5cbiAgICB8IExpdGVyYWxXcmFwcGVyPFwiYm9vbGVhblwiPlxuICAgIHwgTGl0ZXJhbFdyYXBwZXI8XCJkYXRlXCI+XG4gICAgfCBMaXRlcmFsV3JhcHBlcjxcImR1cmF0aW9uXCI+XG4gICAgfCBMaXRlcmFsV3JhcHBlcjxcImxpbmtcIj5cbiAgICB8IExpdGVyYWxXcmFwcGVyPFwiYXJyYXlcIj5cbiAgICB8IExpdGVyYWxXcmFwcGVyPFwib2JqZWN0XCI+XG4gICAgfCBMaXRlcmFsV3JhcHBlcjxcImh0bWxcIj5cbiAgICB8IExpdGVyYWxXcmFwcGVyPFwid2lkZ2V0XCI+XG4gICAgfCBMaXRlcmFsV3JhcHBlcjxcImZ1bmN0aW9uXCI+XG4gICAgfCBMaXRlcmFsV3JhcHBlcjxcIm51bGxcIj47XG5cbmV4cG9ydCBpbnRlcmZhY2UgTGl0ZXJhbFdyYXBwZXI8VCBleHRlbmRzIExpdGVyYWxUeXBlPiB7XG4gICAgdHlwZTogVDtcbiAgICB2YWx1ZTogTGl0ZXJhbFJlcHI8VD47XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgVmFsdWVzIHtcbiAgICAvKiogQ29udmVydCBhbiBhcmJpdGFyeSB2YWx1ZSBpbnRvIGEgcmVhc29uYWJsZSwgTWFya2Rvd24tZnJpZW5kbHkgc3RyaW5nIGlmIHBvc3NpYmxlLiAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiB0b1N0cmluZyhcbiAgICAgICAgZmllbGQ6IGFueSxcbiAgICAgICAgc2V0dGluZzogUXVlcnlTZXR0aW5ncyA9IERFRkFVTFRfUVVFUllfU0VUVElOR1MsXG4gICAgICAgIHJlY3Vyc2l2ZTogYm9vbGVhbiA9IGZhbHNlXG4gICAgKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IHdyYXBwZWQgPSB3cmFwVmFsdWUoZmllbGQpO1xuICAgICAgICBpZiAoIXdyYXBwZWQpIHJldHVybiBzZXR0aW5nLnJlbmRlck51bGxBcztcblxuICAgICAgICBzd2l0Y2ggKHdyYXBwZWQudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBcIm51bGxcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0dGluZy5yZW5kZXJOdWxsQXM7XG4gICAgICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHdyYXBwZWQudmFsdWU7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIlwiICsgd3JhcHBlZC52YWx1ZTtcbiAgICAgICAgICAgIGNhc2UgXCJodG1sXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHdyYXBwZWQudmFsdWUub3V0ZXJIVE1MO1xuICAgICAgICAgICAgY2FzZSBcIndpZGdldFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiB3cmFwcGVkLnZhbHVlLm1hcmtkb3duKCk7XG4gICAgICAgICAgICBjYXNlIFwibGlua1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiB3cmFwcGVkLnZhbHVlLm1hcmtkb3duKCk7XG4gICAgICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCI8ZnVuY3Rpb24+XCI7XG4gICAgICAgICAgICBjYXNlIFwiYXJyYXlcIjpcbiAgICAgICAgICAgICAgICBsZXQgcmVzdWx0ID0gXCJcIjtcbiAgICAgICAgICAgICAgICBpZiAocmVjdXJzaXZlKSByZXN1bHQgKz0gXCJbXCI7XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IHdyYXBwZWQudmFsdWUubWFwKGYgPT4gdG9TdHJpbmcoZiwgc2V0dGluZywgdHJ1ZSkpLmpvaW4oXCIsIFwiKTtcbiAgICAgICAgICAgICAgICBpZiAocmVjdXJzaXZlKSByZXN1bHQgKz0gXCJdXCI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICBcInsgXCIgK1xuICAgICAgICAgICAgICAgICAgICBPYmplY3QuZW50cmllcyh3cmFwcGVkLnZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgLm1hcChlID0+IGVbMF0gKyBcIjogXCIgKyB0b1N0cmluZyhlWzFdLCBzZXR0aW5nLCB0cnVlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5qb2luKFwiLCBcIikgK1xuICAgICAgICAgICAgICAgICAgICBcIiB9XCJcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgY2FzZSBcImRhdGVcIjpcbiAgICAgICAgICAgICAgICBpZiAod3JhcHBlZC52YWx1ZS5zZWNvbmQgPT0gMCAmJiB3cmFwcGVkLnZhbHVlLmhvdXIgPT0gMCAmJiB3cmFwcGVkLnZhbHVlLm1pbnV0ZSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3cmFwcGVkLnZhbHVlLnRvRm9ybWF0KHNldHRpbmcuZGVmYXVsdERhdGVGb3JtYXQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB3cmFwcGVkLnZhbHVlLnRvRm9ybWF0KHNldHRpbmcuZGVmYXVsdERhdGVUaW1lRm9ybWF0KTtcbiAgICAgICAgICAgIGNhc2UgXCJkdXJhdGlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiByZW5kZXJNaW5pbWFsRHVyYXRpb24od3JhcHBlZC52YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKiogV3JhcCBhIGxpdGVyYWwgdmFsdWUgc28geW91IGNhbiBzd2l0Y2ggb24gaXQgZWFzaWx5LiAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiB3cmFwVmFsdWUodmFsOiBMaXRlcmFsKTogV3JhcHBlZExpdGVyYWwgfCB1bmRlZmluZWQge1xuICAgICAgICBpZiAoaXNOdWxsKHZhbCkpIHJldHVybiB7IHR5cGU6IFwibnVsbFwiLCB2YWx1ZTogdmFsIH07XG4gICAgICAgIGVsc2UgaWYgKGlzTnVtYmVyKHZhbCkpIHJldHVybiB7IHR5cGU6IFwibnVtYmVyXCIsIHZhbHVlOiB2YWwgfTtcbiAgICAgICAgZWxzZSBpZiAoaXNTdHJpbmcodmFsKSkgcmV0dXJuIHsgdHlwZTogXCJzdHJpbmdcIiwgdmFsdWU6IHZhbCB9O1xuICAgICAgICBlbHNlIGlmIChpc0Jvb2xlYW4odmFsKSkgcmV0dXJuIHsgdHlwZTogXCJib29sZWFuXCIsIHZhbHVlOiB2YWwgfTtcbiAgICAgICAgZWxzZSBpZiAoaXNEdXJhdGlvbih2YWwpKSByZXR1cm4geyB0eXBlOiBcImR1cmF0aW9uXCIsIHZhbHVlOiB2YWwgfTtcbiAgICAgICAgZWxzZSBpZiAoaXNEYXRlKHZhbCkpIHJldHVybiB7IHR5cGU6IFwiZGF0ZVwiLCB2YWx1ZTogdmFsIH07XG4gICAgICAgIGVsc2UgaWYgKGlzV2lkZ2V0KHZhbCkpIHJldHVybiB7IHR5cGU6IFwid2lkZ2V0XCIsIHZhbHVlOiB2YWwgfTtcbiAgICAgICAgZWxzZSBpZiAoaXNBcnJheSh2YWwpKSByZXR1cm4geyB0eXBlOiBcImFycmF5XCIsIHZhbHVlOiB2YWwgfTtcbiAgICAgICAgZWxzZSBpZiAoaXNMaW5rKHZhbCkpIHJldHVybiB7IHR5cGU6IFwibGlua1wiLCB2YWx1ZTogdmFsIH07XG4gICAgICAgIGVsc2UgaWYgKGlzRnVuY3Rpb24odmFsKSkgcmV0dXJuIHsgdHlwZTogXCJmdW5jdGlvblwiLCB2YWx1ZTogdmFsIH07XG4gICAgICAgIGVsc2UgaWYgKGlzSHRtbCh2YWwpKSByZXR1cm4geyB0eXBlOiBcImh0bWxcIiwgdmFsdWU6IHZhbCB9O1xuICAgICAgICBlbHNlIGlmIChpc09iamVjdCh2YWwpKSByZXR1cm4geyB0eXBlOiBcIm9iamVjdFwiLCB2YWx1ZTogdmFsIH07XG4gICAgICAgIGVsc2UgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKiogUmVjdXJzaXZlbHkgbWFwIGNvbXBsZXggb2JqZWN0cyBhdCB0aGUgbGVhdmVzLiAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBtYXBMZWF2ZXModmFsOiBMaXRlcmFsLCBmdW5jOiAodDogTGl0ZXJhbCkgPT4gTGl0ZXJhbCk6IExpdGVyYWwge1xuICAgICAgICBpZiAoaXNPYmplY3QodmFsKSkge1xuICAgICAgICAgICAgbGV0IHJlc3VsdDogRGF0YU9iamVjdCA9IHt9O1xuICAgICAgICAgICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHZhbCkpIHJlc3VsdFtrZXldID0gbWFwTGVhdmVzKHZhbHVlLCBmdW5jKTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheSh2YWwpKSB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0OiBMaXRlcmFsW10gPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IHZhbHVlIG9mIHZhbCkgcmVzdWx0LnB1c2gobWFwTGVhdmVzKHZhbHVlLCBmdW5jKSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmModmFsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKiBDb21wYXJlIHR3byBhcmJpdHJhcnkgSmF2YVNjcmlwdCB2YWx1ZXMuIFByb2R1Y2VzIGEgdG90YWwgb3JkZXJpbmcgb3ZlciBBTlkgcG9zc2libGUgZGF0YXZpZXcgdmFsdWUuICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGNvbXBhcmVWYWx1ZSh2YWwxOiBMaXRlcmFsLCB2YWwyOiBMaXRlcmFsLCBsaW5rTm9ybWFsaXplcj86IChsaW5rOiBzdHJpbmcpID0+IHN0cmluZyk6IG51bWJlciB7XG4gICAgICAgIC8vIEhhbmRsZSB1bmRlZmluZWQvbnVsbHMgZmlyc3QuXG4gICAgICAgIGlmICh2YWwxID09PSB1bmRlZmluZWQpIHZhbDEgPSBudWxsO1xuICAgICAgICBpZiAodmFsMiA9PT0gdW5kZWZpbmVkKSB2YWwyID0gbnVsbDtcbiAgICAgICAgaWYgKHZhbDEgPT09IG51bGwgJiYgdmFsMiA9PT0gbnVsbCkgcmV0dXJuIDA7XG4gICAgICAgIGVsc2UgaWYgKHZhbDEgPT09IG51bGwpIHJldHVybiAtMTtcbiAgICAgICAgZWxzZSBpZiAodmFsMiA9PT0gbnVsbCkgcmV0dXJuIDE7XG5cbiAgICAgICAgLy8gQSBub24tbnVsbCB2YWx1ZSBub3cgd2hpY2ggd2UgY2FuIHdyYXAgJiBjb21wYXJlIG9uLlxuICAgICAgICBsZXQgd3JhcDEgPSB3cmFwVmFsdWUodmFsMSk7XG4gICAgICAgIGxldCB3cmFwMiA9IHdyYXBWYWx1ZSh2YWwyKTtcblxuICAgICAgICBpZiAod3JhcDEgPT09IHVuZGVmaW5lZCAmJiB3cmFwMiA9PT0gdW5kZWZpbmVkKSByZXR1cm4gMDtcbiAgICAgICAgZWxzZSBpZiAod3JhcDEgPT09IHVuZGVmaW5lZCkgcmV0dXJuIC0xO1xuICAgICAgICBlbHNlIGlmICh3cmFwMiA9PT0gdW5kZWZpbmVkKSByZXR1cm4gMTtcblxuICAgICAgICAvLyBTaG9ydC1jaXJjdWl0IG9uIGRpZmZlcmVudCB0eXBlcyBvciBvbiByZWZlcmVuY2UgZXF1YWxpdHkuXG4gICAgICAgIGlmICh3cmFwMS50eXBlICE9IHdyYXAyLnR5cGUpIHJldHVybiB3cmFwMS50eXBlLmxvY2FsZUNvbXBhcmUod3JhcDIudHlwZSk7XG4gICAgICAgIGlmICh3cmFwMS52YWx1ZSA9PT0gd3JhcDIudmFsdWUpIHJldHVybiAwO1xuXG4gICAgICAgIHN3aXRjaCAod3JhcDEudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiB3cmFwMS52YWx1ZS5sb2NhbGVDb21wYXJlKHdyYXAyLnZhbHVlIGFzIHN0cmluZyk7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICAgICAgaWYgKHdyYXAxLnZhbHVlIDwgKHdyYXAyLnZhbHVlIGFzIG51bWJlcikpIHJldHVybiAtMTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh3cmFwMS52YWx1ZSA9PSAod3JhcDIudmFsdWUgYXMgbnVtYmVyKSkgcmV0dXJuIDA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICBjYXNlIFwibnVsbFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgICAgICBpZiAod3JhcDEudmFsdWUgPT0gd3JhcDIudmFsdWUpIHJldHVybiAwO1xuICAgICAgICAgICAgICAgIGVsc2UgcmV0dXJuIHdyYXAxLnZhbHVlID8gMSA6IC0xO1xuICAgICAgICAgICAgY2FzZSBcImxpbmtcIjpcbiAgICAgICAgICAgICAgICBsZXQgbGluazEgPSB3cmFwMS52YWx1ZTtcbiAgICAgICAgICAgICAgICBsZXQgbGluazIgPSB3cmFwMi52YWx1ZSBhcyBMaW5rO1xuICAgICAgICAgICAgICAgIGxldCBub3JtYWxpemUgPSBsaW5rTm9ybWFsaXplciA/PyAoKHg6IHN0cmluZykgPT4geCk7XG5cbiAgICAgICAgICAgICAgICAvLyBXZSBjYW4ndCBjb21wYXJlIGJ5IGZpbGUgbmFtZSBvciBkaXNwbGF5LCBzaW5jZSB0aGF0IHdvdWxkIGJyZWFrIGxpbmsgZXF1YWxpdHkuIENvbXBhcmUgYnkgcGF0aC5cbiAgICAgICAgICAgICAgICBsZXQgcGF0aENvbXBhcmUgPSBub3JtYWxpemUobGluazEucGF0aCkubG9jYWxlQ29tcGFyZShub3JtYWxpemUobGluazIucGF0aCkpO1xuICAgICAgICAgICAgICAgIGlmIChwYXRoQ29tcGFyZSAhPSAwKSByZXR1cm4gcGF0aENvbXBhcmU7XG5cbiAgICAgICAgICAgICAgICAvLyBUaGVuIGNvbXBhcmUgYnkgdHlwZS5cbiAgICAgICAgICAgICAgICBsZXQgdHlwZUNvbXBhcmUgPSBsaW5rMS50eXBlLmxvY2FsZUNvbXBhcmUobGluazIudHlwZSk7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVDb21wYXJlICE9IDApIHJldHVybiB0eXBlQ29tcGFyZTtcblxuICAgICAgICAgICAgICAgIC8vIFRoZW4gY29tcGFyZSBieSBzdWJwYXRoIGV4aXN0ZW5jZS5cbiAgICAgICAgICAgICAgICBpZiAobGluazEuc3VicGF0aCAmJiAhbGluazIuc3VicGF0aCkgcmV0dXJuIDE7XG4gICAgICAgICAgICAgICAgaWYgKCFsaW5rMS5zdWJwYXRoICYmIGxpbmsyLnN1YnBhdGgpIHJldHVybiAtMTtcbiAgICAgICAgICAgICAgICBpZiAoIWxpbmsxLnN1YnBhdGggJiYgIWxpbmsyLnN1YnBhdGgpIHJldHVybiAwO1xuXG4gICAgICAgICAgICAgICAgLy8gU2luY2UgYm90aCBoYXZlIGEgc3VicGF0aCwgY29tcGFyZSBieSBzdWJwYXRoLlxuICAgICAgICAgICAgICAgIHJldHVybiAobGluazEuc3VicGF0aCA/PyBcIlwiKS5sb2NhbGVDb21wYXJlKGxpbmsyLnN1YnBhdGggPz8gXCJcIik7XG4gICAgICAgICAgICBjYXNlIFwiZGF0ZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiB3cmFwMS52YWx1ZSA8ICh3cmFwMi52YWx1ZSBhcyBEYXRlVGltZSlcbiAgICAgICAgICAgICAgICAgICAgPyAtMVxuICAgICAgICAgICAgICAgICAgICA6IHdyYXAxLnZhbHVlLmVxdWFscyh3cmFwMi52YWx1ZSBhcyBEYXRlVGltZSlcbiAgICAgICAgICAgICAgICAgICAgPyAwXG4gICAgICAgICAgICAgICAgICAgIDogMTtcbiAgICAgICAgICAgIGNhc2UgXCJkdXJhdGlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiB3cmFwMS52YWx1ZSA8ICh3cmFwMi52YWx1ZSBhcyBEdXJhdGlvbilcbiAgICAgICAgICAgICAgICAgICAgPyAtMVxuICAgICAgICAgICAgICAgICAgICA6IHdyYXAxLnZhbHVlLmVxdWFscyh3cmFwMi52YWx1ZSBhcyBEdXJhdGlvbilcbiAgICAgICAgICAgICAgICAgICAgPyAwXG4gICAgICAgICAgICAgICAgICAgIDogMTtcbiAgICAgICAgICAgIGNhc2UgXCJhcnJheVwiOlxuICAgICAgICAgICAgICAgIGxldCBmMSA9IHdyYXAxLnZhbHVlO1xuICAgICAgICAgICAgICAgIGxldCBmMiA9IHdyYXAyLnZhbHVlIGFzIGFueVtdO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBNYXRoLm1pbihmMS5sZW5ndGgsIGYyLmxlbmd0aCk7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvbXAgPSBjb21wYXJlVmFsdWUoZjFbaW5kZXhdLCBmMltpbmRleF0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29tcCAhPSAwKSByZXR1cm4gY29tcDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGYxLmxlbmd0aCAtIGYyLmxlbmd0aDtcbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgICAgICAgICBsZXQgbzEgPSB3cmFwMS52YWx1ZTtcbiAgICAgICAgICAgICAgICBsZXQgbzIgPSB3cmFwMi52YWx1ZSBhcyBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuICAgICAgICAgICAgICAgIGxldCBrMSA9IEFycmF5LmZyb20oT2JqZWN0LmtleXMobzEpKTtcbiAgICAgICAgICAgICAgICBsZXQgazIgPSBBcnJheS5mcm9tKE9iamVjdC5rZXlzKG8yKSk7XG4gICAgICAgICAgICAgICAgazEuc29ydCgpO1xuICAgICAgICAgICAgICAgIGsyLnNvcnQoKTtcblxuICAgICAgICAgICAgICAgIGxldCBrZXlDb21wYXJlID0gY29tcGFyZVZhbHVlKGsxLCBrMik7XG4gICAgICAgICAgICAgICAgaWYgKGtleUNvbXBhcmUgIT0gMCkgcmV0dXJuIGtleUNvbXBhcmU7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBrZXkgb2YgazEpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvbXAgPSBjb21wYXJlVmFsdWUobzFba2V5XSwgbzJba2V5XSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb21wICE9IDApIHJldHVybiBjb21wO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgY2FzZSBcIndpZGdldFwiOlxuICAgICAgICAgICAgY2FzZSBcImh0bWxcIjpcbiAgICAgICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqIEZpbmQgdGhlIGNvcnJlc3BvbmRpbmcgRGF0YXZlaXcgdHlwZSBmb3IgYW4gYXJiaXRyYXJ5IHZhbHVlLiAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiB0eXBlT2YodmFsOiBhbnkpOiBMaXRlcmFsVHlwZSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB3cmFwVmFsdWUodmFsKT8udHlwZTtcbiAgICB9XG5cbiAgICAvKiogRGV0ZXJtaW5lIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBcInRydXRoeVwiIChpLmUuLCBpcyBub24tbnVsbCBhbmQgaGFzIGRhdGEgaW4gaXQpLiAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBpc1RydXRoeShmaWVsZDogTGl0ZXJhbCk6IGJvb2xlYW4ge1xuICAgICAgICBsZXQgd3JhcHBlZCA9IHdyYXBWYWx1ZShmaWVsZCk7XG4gICAgICAgIGlmICghd3JhcHBlZCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIHN3aXRjaCAod3JhcHBlZC50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHdyYXBwZWQudmFsdWUgIT0gMDtcbiAgICAgICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gd3JhcHBlZC52YWx1ZS5sZW5ndGggPiAwO1xuICAgICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gd3JhcHBlZC52YWx1ZTtcbiAgICAgICAgICAgIGNhc2UgXCJsaW5rXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuICEhd3JhcHBlZC52YWx1ZS5wYXRoO1xuICAgICAgICAgICAgY2FzZSBcImRhdGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gd3JhcHBlZC52YWx1ZS50b01pbGxpcygpICE9IDA7XG4gICAgICAgICAgICBjYXNlIFwiZHVyYXRpb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gd3JhcHBlZC52YWx1ZS5hcyhcInNlY29uZHNcIikgIT0gMDtcbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMod3JhcHBlZC52YWx1ZSkubGVuZ3RoID4gMDtcbiAgICAgICAgICAgIGNhc2UgXCJhcnJheVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiB3cmFwcGVkLnZhbHVlLmxlbmd0aCA+IDA7XG4gICAgICAgICAgICBjYXNlIFwibnVsbFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGNhc2UgXCJodG1sXCI6XG4gICAgICAgICAgICBjYXNlIFwid2lkZ2V0XCI6XG4gICAgICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKiBEZWVwIGNvcHkgYSBmaWVsZC4gKi9cbiAgICBleHBvcnQgZnVuY3Rpb24gZGVlcENvcHk8VCBleHRlbmRzIExpdGVyYWw+KGZpZWxkOiBUKTogVCB7XG4gICAgICAgIGlmIChmaWVsZCA9PT0gbnVsbCB8fCBmaWVsZCA9PT0gdW5kZWZpbmVkKSByZXR1cm4gZmllbGQ7XG5cbiAgICAgICAgaWYgKFZhbHVlcy5pc0FycmF5KGZpZWxkKSkge1xuICAgICAgICAgICAgcmV0dXJuIChbXSBhcyBMaXRlcmFsW10pLmNvbmNhdChmaWVsZC5tYXAodiA9PiBkZWVwQ29weSh2KSkpIGFzIFQ7XG4gICAgICAgIH0gZWxzZSBpZiAoVmFsdWVzLmlzT2JqZWN0KGZpZWxkKSkge1xuICAgICAgICAgICAgbGV0IHJlc3VsdDogUmVjb3JkPHN0cmluZywgTGl0ZXJhbD4gPSB7fTtcbiAgICAgICAgICAgIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhmaWVsZCkpIHJlc3VsdFtrZXldID0gZGVlcENvcHkodmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCBhcyBUO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZpZWxkO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGlzU3RyaW5nKHZhbDogYW55KTogdmFsIGlzIHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFsID09IFwic3RyaW5nXCI7XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGlzTnVtYmVyKHZhbDogYW55KTogdmFsIGlzIG51bWJlciB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFsID09IFwibnVtYmVyXCI7XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGlzRGF0ZSh2YWw6IGFueSk6IHZhbCBpcyBEYXRlVGltZSB7XG4gICAgICAgIHJldHVybiB2YWwgaW5zdGFuY2VvZiBEYXRlVGltZTtcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gaXNEdXJhdGlvbih2YWw6IGFueSk6IHZhbCBpcyBEdXJhdGlvbiB7XG4gICAgICAgIHJldHVybiB2YWwgaW5zdGFuY2VvZiBEdXJhdGlvbjtcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gaXNOdWxsKHZhbDogYW55KTogdmFsIGlzIG51bGwgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdmFsID09PSBudWxsIHx8IHZhbCA9PT0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiBpc0FycmF5KHZhbDogYW55KTogdmFsIGlzIGFueVtdIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsKTtcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gaXNCb29sZWFuKHZhbDogYW55KTogdmFsIGlzIGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gXCJib29sZWFuXCI7XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGlzTGluayh2YWw6IGFueSk6IHZhbCBpcyBMaW5rIHtcbiAgICAgICAgcmV0dXJuIHZhbCBpbnN0YW5jZW9mIExpbms7XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGlzV2lkZ2V0KHZhbDogYW55KTogdmFsIGlzIFdpZGdldCB7XG4gICAgICAgIHJldHVybiB2YWwgaW5zdGFuY2VvZiBXaWRnZXQ7XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGlzSHRtbCh2YWw6IGFueSk6IHZhbCBpcyBIVE1MRWxlbWVudCB7XG4gICAgICAgIGlmICh0eXBlb2YgSFRNTEVsZW1lbnQgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWwgaW5zdGFuY2VvZiBIVE1MRWxlbWVudDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKiBDaGVja3MgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIGFuIG9iamVjdCAoYW5kIG5vdCBhbnkgb3RoZXIgZGF0YXZpZXctcmVjb2duaXplZCBvYmplY3QtbGlrZSB0eXBlKS4gKi9cbiAgICBleHBvcnQgZnVuY3Rpb24gaXNPYmplY3QodmFsOiBhbnkpOiB2YWwgaXMgUmVjb3JkPHN0cmluZywgYW55PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICB0eXBlb2YgdmFsID09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgICAgICFpc0h0bWwodmFsKSAmJlxuICAgICAgICAgICAgIWlzV2lkZ2V0KHZhbCkgJiZcbiAgICAgICAgICAgICFpc0FycmF5KHZhbCkgJiZcbiAgICAgICAgICAgICFpc0R1cmF0aW9uKHZhbCkgJiZcbiAgICAgICAgICAgICFpc0RhdGUodmFsKSAmJlxuICAgICAgICAgICAgIWlzTGluayh2YWwpICYmXG4gICAgICAgICAgICB2YWwgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgIWlzTnVsbCh2YWwpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsOiBhbnkpOiB2YWwgaXMgRnVuY3Rpb24ge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHZhbCA9PSBcImZ1bmN0aW9uXCI7XG4gICAgfVxufVxuXG4vLy8vLy8vLy8vLy8vLy9cbi8vIEdyb3VwaW5ncyAvL1xuLy8vLy8vLy8vLy8vLy8vXG5cbmV4cG9ydCBuYW1lc3BhY2UgR3JvdXBpbmdzIHtcbiAgICAvKiogRGV0ZXJtaW5lcyBpZiB0aGUgZ2l2ZW4gZ3JvdXAgZW50cnkgaXMgYSBzdGFuZGFsb25lIHZhbHVlLCBvciBhIGdyb3VwaW5nIG9mIHN1Yi1lbnRyaWVzLiAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBpc0VsZW1lbnRHcm91cDxUPihlbnRyeTogVCB8IEdyb3VwRWxlbWVudDxUPik6IGVudHJ5IGlzIEdyb3VwRWxlbWVudDxUPiB7XG4gICAgICAgIHJldHVybiBWYWx1ZXMuaXNPYmplY3QoZW50cnkpICYmIE9iamVjdC5rZXlzKGVudHJ5KS5sZW5ndGggPT0gMiAmJiBcImtleVwiIGluIGVudHJ5ICYmIFwicm93c1wiIGluIGVudHJ5O1xuICAgIH1cblxuICAgIC8qKiBEZXRlcm1pbmVzIGlmIHRoZSBnaXZlbiBhcnJheSBpcyBhIGdyb3VwaW5nIGFycmF5LiAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBpc0dyb3VwaW5nPFQ+KGVudHJ5OiBHcm91cGluZzxUPik6IGVudHJ5IGlzIEdyb3VwRWxlbWVudDxUPltdIHtcbiAgICAgICAgZm9yIChsZXQgZWxlbWVudCBvZiBlbnRyeSkgaWYgKCFpc0VsZW1lbnRHcm91cChlbGVtZW50KSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKiBDb3VudCB0aGUgdG90YWwgbnVtYmVyIG9mIGVsZW1lbnRzIGluIGEgcmVjdXJzaXZlIGdyb3VwaW5nLiAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBjb3VudDxUPihlbGVtZW50czogR3JvdXBpbmc8VD4pOiBudW1iZXIge1xuICAgICAgICBpZiAoaXNHcm91cGluZyhlbGVtZW50cykpIHtcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSAwO1xuICAgICAgICAgICAgZm9yIChsZXQgc3ViZ3JvdXAgb2YgZWxlbWVudHMpIHJlc3VsdCArPSBjb3VudChzdWJncm91cC5yb3dzKTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudHMubGVuZ3RoO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vLy8vLy8vLy8vXG4vLyBMSU5LIC8vXG4vLy8vLy8vLy8vXG5cbi8qKiBUaGUgT2JzaWRpYW4gJ2xpbmsnLCB1c2VkIGZvciB1bmlxdWVseSBkZXNjcmliaW5nIGEgZmlsZSwgaGVhZGVyLCBvciBibG9jay4gKi9cbmV4cG9ydCBjbGFzcyBMaW5rIHtcbiAgICAvKiogVGhlIGZpbGUgcGF0aCB0aGlzIGxpbmsgcG9pbnRzIHRvLiAqL1xuICAgIHB1YmxpYyBwYXRoOiBzdHJpbmc7XG4gICAgLyoqIFRoZSBkaXNwbGF5IG5hbWUgYXNzb2NpYXRlZCB3aXRoIHRoZSBsaW5rLiAqL1xuICAgIHB1YmxpYyBkaXNwbGF5Pzogc3RyaW5nO1xuICAgIC8qKiBUaGUgYmxvY2sgSUQgb3IgaGVhZGVyIHRoaXMgbGluayBwb2ludHMgdG8gd2l0aGluIGEgZmlsZSwgaWYgcmVsZXZhbnQuICovXG4gICAgcHVibGljIHN1YnBhdGg/OiBzdHJpbmc7XG4gICAgLyoqIElzIHRoaXMgbGluayBhbiBlbWJlZGRlZCBsaW5rICghKT8gKi9cbiAgICBwdWJsaWMgZW1iZWQ6IGJvb2xlYW47XG4gICAgLyoqIFRoZSB0eXBlIG9mIHRoaXMgbGluaywgd2hpY2ggZGV0ZXJtaW5lcyB3aGF0ICdzdWJwYXRoJyByZWZlcnMgdG8sIGlmIGFueXRoaW5nLiAqL1xuICAgIHB1YmxpYyB0eXBlOiBcImZpbGVcIiB8IFwiaGVhZGVyXCIgfCBcImJsb2NrXCI7XG5cbiAgICAvKiogQ3JlYXRlIGEgbGluayB0byBhIHNwZWNpZmljIGZpbGUuICovXG4gICAgcHVibGljIHN0YXRpYyBmaWxlKHBhdGg6IHN0cmluZywgZW1iZWQ6IGJvb2xlYW4gPSBmYWxzZSwgZGlzcGxheT86IHN0cmluZykge1xuICAgICAgICByZXR1cm4gbmV3IExpbmsoe1xuICAgICAgICAgICAgcGF0aCxcbiAgICAgICAgICAgIGVtYmVkLFxuICAgICAgICAgICAgZGlzcGxheSxcbiAgICAgICAgICAgIHN1YnBhdGg6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHR5cGU6IFwiZmlsZVwiLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGluZmVyKGxpbmtwYXRoOiBzdHJpbmcsIGVtYmVkOiBib29sZWFuID0gZmFsc2UsIGRpc3BsYXk/OiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKGxpbmtwYXRoLmluY2x1ZGVzKFwiI15cIikpIHtcbiAgICAgICAgICAgIGxldCBzcGxpdCA9IGxpbmtwYXRoLnNwbGl0KFwiI15cIik7XG4gICAgICAgICAgICByZXR1cm4gTGluay5ibG9jayhzcGxpdFswXSwgc3BsaXRbMV0sIGVtYmVkLCBkaXNwbGF5KTtcbiAgICAgICAgfSBlbHNlIGlmIChsaW5rcGF0aC5pbmNsdWRlcyhcIiNcIikpIHtcbiAgICAgICAgICAgIGxldCBzcGxpdCA9IGxpbmtwYXRoLnNwbGl0KFwiI1wiKTtcbiAgICAgICAgICAgIHJldHVybiBMaW5rLmhlYWRlcihzcGxpdFswXSwgc3BsaXRbMV0sIGVtYmVkLCBkaXNwbGF5KTtcbiAgICAgICAgfSBlbHNlIHJldHVybiBMaW5rLmZpbGUobGlua3BhdGgsIGVtYmVkLCBkaXNwbGF5KTtcbiAgICB9XG5cbiAgICAvKiogQ3JlYXRlIGEgbGluayB0byBhIHNwZWNpZmljIGZpbGUgYW5kIGhlYWRlciBpbiB0aGF0IGZpbGUuICovXG4gICAgcHVibGljIHN0YXRpYyBoZWFkZXIocGF0aDogc3RyaW5nLCBoZWFkZXI6IHN0cmluZywgZW1iZWQ/OiBib29sZWFuLCBkaXNwbGF5Pzogc3RyaW5nKSB7XG4gICAgICAgIC8vIEhlYWRlcnMgbmVlZCB0byBiZSBub3JtYWxpemVkIHRvIGFscGhhLW51bWVyaWMgJiB3aXRoIGV4dHJhIHNwYWNpbmcgcmVtb3ZlZC5cbiAgICAgICAgcmV0dXJuIG5ldyBMaW5rKHtcbiAgICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgICBlbWJlZCxcbiAgICAgICAgICAgIGRpc3BsYXksXG4gICAgICAgICAgICBzdWJwYXRoOiBub3JtYWxpemVIZWFkZXJGb3JMaW5rKGhlYWRlciksXG4gICAgICAgICAgICB0eXBlOiBcImhlYWRlclwiLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKiogQ3JlYXRlIGEgbGluayB0byBhIHNwZWNpZmljIGZpbGUgYW5kIGJsb2NrIGluIHRoYXQgZmlsZS4gKi9cbiAgICBwdWJsaWMgc3RhdGljIGJsb2NrKHBhdGg6IHN0cmluZywgYmxvY2tJZDogc3RyaW5nLCBlbWJlZD86IGJvb2xlYW4sIGRpc3BsYXk/OiBzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMaW5rKHtcbiAgICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgICBlbWJlZCxcbiAgICAgICAgICAgIGRpc3BsYXksXG4gICAgICAgICAgICBzdWJwYXRoOiBibG9ja0lkLFxuICAgICAgICAgICAgdHlwZTogXCJibG9ja1wiLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGZyb21PYmplY3Qob2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCBhbnk+KSB7XG4gICAgICAgIHJldHVybiBuZXcgTGluayhvYmplY3QpO1xuICAgIH1cblxuICAgIHByaXZhdGUgY29uc3RydWN0b3IoZmllbGRzOiBQYXJ0aWFsPExpbms+KSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24odGhpcywgZmllbGRzKTtcbiAgICB9XG5cbiAgICAvKiogQ2hlY2tzIGZvciBsaW5rIGVxdWFsaXR5IChpLmUuLCB0aGF0IHRoZSBsaW5rcyBhcmUgcG9pbnRpbmcgdG8gdGhlIHNhbWUgZXhhY3QgbG9jYXRpb24pLiAqL1xuICAgIHB1YmxpYyBlcXVhbHMob3RoZXI6IExpbmspOiBib29sZWFuIHtcbiAgICAgICAgaWYgKG90aGVyID09IHVuZGVmaW5lZCB8fCBvdGhlciA9PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMucGF0aCA9PSBvdGhlci5wYXRoICYmIHRoaXMudHlwZSA9PSBvdGhlci50eXBlICYmIHRoaXMuc3VicGF0aCA9PSBvdGhlci5zdWJwYXRoO1xuICAgIH1cblxuICAgIC8qKiBDb252ZXJ0IHRoaXMgbGluayB0byBpdCdzIG1hcmtkb3duIHJlcHJlc2VudGF0aW9uLiAqL1xuICAgIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXJrZG93bigpO1xuICAgIH1cblxuICAgIC8qKiBDb252ZXJ0IHRoaXMgbGluayB0byBhIHJhdyBvYmplY3Qgd2hpY2ggaXMgc2VyaWFsaXphdGlvbi1mcmllbmRseS4gKi9cbiAgICBwdWJsaWMgdG9PYmplY3QoKTogUmVjb3JkPHN0cmluZywgYW55PiB7XG4gICAgICAgIHJldHVybiB7IHBhdGg6IHRoaXMucGF0aCwgdHlwZTogdGhpcy50eXBlLCBzdWJwYXRoOiB0aGlzLnN1YnBhdGgsIGRpc3BsYXk6IHRoaXMuZGlzcGxheSwgZW1iZWQ6IHRoaXMuZW1iZWQgfTtcbiAgICB9XG5cbiAgICAvKiogVXBkYXRlIHRoaXMgbGluayB3aXRoIGEgbmV3IHBhdGguICovXG4gICAgLy9AdHMtaWdub3JlOyBlcnJvciBhcHBlYXJlZCBhZnRlciB1cGRhdGluZyBPYnNpZGlhbiB0byAwLjE1LjQ7IGl0IGFsc28gdXBkYXRlZCBvdGhlciBwYWNrYWdlcyBidXQgZGlkbid0IHNheSB3aGljaFxuICAgIHB1YmxpYyB3aXRoUGF0aChwYXRoOiBzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMaW5rKE9iamVjdC5hc3NpZ24oe30sIHRoaXMsIHsgcGF0aCB9KSk7XG4gICAgfVxuXG4gICAgLyoqIFJldHVybiBhIG5ldyBsaW5rIHdoaWNoIHBvaW50cyB0byB0aGUgc2FtZSBsb2NhdGlvbiBidXQgd2l0aCBhIG5ldyBkaXNwbGF5IHZhbHVlLiAqL1xuICAgIHB1YmxpYyB3aXRoRGlzcGxheShkaXNwbGF5Pzogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBuZXcgTGluayhPYmplY3QuYXNzaWduKHt9LCB0aGlzLCB7IGRpc3BsYXkgfSkpO1xuICAgIH1cblxuICAgIC8qKiBDb252ZXJ0IGEgZmlsZSBsaW5rIGludG8gYSBsaW5rIHRvIGEgc3BlY2lmaWMgaGVhZGVyLiAqL1xuICAgIHB1YmxpYyB3aXRoSGVhZGVyKGhlYWRlcjogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBMaW5rLmhlYWRlcih0aGlzLnBhdGgsIGhlYWRlciwgdGhpcy5lbWJlZCwgdGhpcy5kaXNwbGF5KTtcbiAgICB9XG5cbiAgICAvKiogQ29udmVydCBhbnkgbGluayBpbnRvIGEgbGluayB0byBpdHMgZmlsZS4gKi9cbiAgICBwdWJsaWMgdG9GaWxlKCkge1xuICAgICAgICByZXR1cm4gTGluay5maWxlKHRoaXMucGF0aCwgdGhpcy5lbWJlZCwgdGhpcy5kaXNwbGF5KTtcbiAgICB9XG5cbiAgICAvKiogQ29udmVydCB0aGlzIGxpbmsgaW50byBhbiBlbWJlZGRlZCBsaW5rLiAqL1xuICAgIHB1YmxpYyB0b0VtYmVkKCk6IExpbmsge1xuICAgICAgICBpZiAodGhpcy5lbWJlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgbGluayA9IG5ldyBMaW5rKHRoaXMpO1xuICAgICAgICAgICAgbGluay5lbWJlZCA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gbGluaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKiBDb252ZXJ0IHRoaXMgbGluayBpbnRvIGEgbm9uLWVtYmVkZGVkIGxpbmsuICovXG4gICAgcHVibGljIGZyb21FbWJlZCgpOiBMaW5rIHtcbiAgICAgICAgaWYgKCF0aGlzLmVtYmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBsaW5rID0gbmV3IExpbmsodGhpcyk7XG4gICAgICAgICAgICBsaW5rLmVtYmVkID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gbGluaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKiBDb252ZXJ0IHRoaXMgbGluayB0byBtYXJrZG93biBzbyBpdCBjYW4gYmUgcmVuZGVyZWQuICovXG4gICAgcHVibGljIG1hcmtkb3duKCk6IHN0cmluZyB7XG4gICAgICAgIGxldCByZXN1bHQgPSAodGhpcy5lbWJlZCA/IFwiIVwiIDogXCJcIikgKyBcIltbXCIgKyB0aGlzLm9ic2lkaWFuTGluaygpO1xuXG4gICAgICAgIGlmICh0aGlzLmRpc3BsYXkpIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSBcInxcIiArIHRoaXMuZGlzcGxheTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSBcInxcIiArIGdldEZpbGVUaXRsZSh0aGlzLnBhdGgpO1xuICAgICAgICAgICAgaWYgKHRoaXMudHlwZSA9PSBcImhlYWRlclwiIHx8IHRoaXMudHlwZSA9PSBcImJsb2NrXCIpIHJlc3VsdCArPSBcIiA+IFwiICsgdGhpcy5zdWJwYXRoO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzdWx0ICs9IFwiXV1cIjtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKiogQ29udmVydCB0aGUgaW5uZXIgcGFydCBvZiB0aGUgbGluayB0byBzb21ldGhpbmcgdGhhdCBPYnNpZGlhbiBjYW4gb3BlbiAvIHVuZGVyc3RhbmQuICovXG4gICAgcHVibGljIG9ic2lkaWFuTGluaygpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBlc2NhcGVkID0gdGhpcy5wYXRoLnJlcGxhY2UoXCJ8XCIsIFwiXFxcXHxcIik7XG4gICAgICAgIGlmICh0aGlzLnR5cGUgPT0gXCJoZWFkZXJcIikgcmV0dXJuIGVzY2FwZWQgKyBcIiNcIiArIHRoaXMuc3VicGF0aD8ucmVwbGFjZShcInxcIiwgXCJcXFxcfFwiKTtcbiAgICAgICAgaWYgKHRoaXMudHlwZSA9PSBcImJsb2NrXCIpIHJldHVybiBlc2NhcGVkICsgXCIjXlwiICsgdGhpcy5zdWJwYXRoPy5yZXBsYWNlKFwifFwiLCBcIlxcXFx8XCIpO1xuICAgICAgICBlbHNlIHJldHVybiBlc2NhcGVkO1xuICAgIH1cblxuICAgIC8qKiBUaGUgc3RyaXBwZWQgbmFtZSBvZiB0aGUgZmlsZSB0aGlzIGxpbmsgcG9pbnRzIHRvLiAqL1xuICAgIHB1YmxpYyBmaWxlTmFtZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gZ2V0RmlsZVRpdGxlKHRoaXMucGF0aCkucmVwbGFjZShcIi5tZFwiLCBcIlwiKTtcbiAgICB9XG59XG5cbi8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXSURHRVQgQkFTRSAvL1xuLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBBIHRyaXZpYWwgYmFzZSBjbGFzcyB3aGljaCBqdXN0IGRlZmluZXMgdGhlICckd2lkZ2V0JyBpZGVudGlmaWVyIHR5cGUuIFN1YnR5cGVzIG9mXG4gKiB3aWRnZXQgYXJlIHJlc3BvbnNpYmxlIGZvciBhZGRpbmcgd2hhdGV2ZXIgbWV0YWRhdGEgaXMgcmVsZXZhbnQuIElmIHlvdSB3YW50IHlvdXIgd2lkZ2V0XG4gKiB0byBoYXZlIHJlbmRlcmluZyBmdW5jdGlvbmFsaXR5ICh3aGljaCB5b3UgcHJvYmFibHkgZG8pLCB5b3Ugc2hvdWxkIGV4dGVuZCBgUmVuZGVyV2lkZ2V0YC5cbiAqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFdpZGdldCB7XG4gICAgcHVibGljIGNvbnN0cnVjdG9yKHB1YmxpYyAkd2lkZ2V0OiBzdHJpbmcpIHt9XG5cbiAgICAvKipcbiAgICAgKiBBdHRlbXB0IHRvIHJlbmRlciB0aGlzIHdpZGdldCBpbiBtYXJrZG93biwgaWYgcG9zc2libGU7IGlmIG1hcmtkb3duIGlzIG5vdCBwb3NzaWJsZSxcbiAgICAgKiB0aGVuIHRoaXMgd2lsbCBhdHRlbXB0IHRvIHJlbmRlciBhcyBIVE1MLiBOb3RlIHRoYXQgbWFueSB3aWRnZXRzIGhhdmUgaW50ZXJhY3RpdmVcbiAgICAgKiBjb21wb25lbnRzIG9yIGRpZmZpY3VsdCBmdW5jdGlvbmFsIGNvbXBvbmVudHMgYW5kIHRoZSBgbWFya2Rvd25gIGZ1bmN0aW9uIGNhbiBzaW1wbHlcbiAgICAgKiByZXR1cm4gYSBwbGFjZWhvbGRlciBpbiB0aGlzIGNhc2UgKHN1Y2ggYXMgYDxmdW5jdGlvbj5gIG9yIGA8dGFzay1saXN0PmApLlxuICAgICAqL1xuICAgIHB1YmxpYyBhYnN0cmFjdCBtYXJrZG93bigpOiBzdHJpbmc7XG59XG5cbi8qKiBBIHRyaXZpYWwgd2lkZ2V0IHdoaWNoIHJlbmRlcnMgYSAoa2V5LCB2YWx1ZSkgcGFpciwgYW5kIGFsbG93cyBhY2Nlc3NpbmcgdGhlIGtleSBhbmQgdmFsdWUuICovXG5leHBvcnQgY2xhc3MgTGlzdFBhaXJXaWRnZXQgZXh0ZW5kcyBXaWRnZXQge1xuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihwdWJsaWMga2V5OiBMaXRlcmFsLCBwdWJsaWMgdmFsdWU6IExpdGVyYWwpIHtcbiAgICAgICAgc3VwZXIoXCJkYXRhdmlldzpsaXN0LXBhaXJcIik7XG4gICAgfVxuXG4gICAgcHVibGljIG92ZXJyaWRlIG1hcmtkb3duKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBgJHtWYWx1ZXMudG9TdHJpbmcodGhpcy5rZXkpfTogJHtWYWx1ZXMudG9TdHJpbmcodGhpcy52YWx1ZSl9YDtcbiAgICB9XG59XG5cbi8qKiBBIHNpbXBsZSB3aWRnZXQgd2hpY2ggcmVuZGVycyBhbiBleHRlcm5hbCBsaW5rLiAqL1xuZXhwb3J0IGNsYXNzIEV4dGVybmFsTGlua1dpZGdldCBleHRlbmRzIFdpZGdldCB7XG4gICAgcHVibGljIGNvbnN0cnVjdG9yKHB1YmxpYyB1cmw6IHN0cmluZywgcHVibGljIGRpc3BsYXk/OiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIoXCJkYXRhdmlldzpleHRlcm5hbC1saW5rXCIpO1xuICAgIH1cblxuICAgIHB1YmxpYyBvdmVycmlkZSBtYXJrZG93bigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gYFske3RoaXMuZGlzcGxheSA/PyB0aGlzLnVybH1dKCR7dGhpcy51cmx9KWA7XG4gICAgfVxufVxuXG5leHBvcnQgbmFtZXNwYWNlIFdpZGdldHMge1xuICAgIC8qKiBDcmVhdGUgYSBsaXN0IHBhaXIgd2lkZ2V0IG1hdGNoaW5nIHRoZSBnaXZlbiBrZXkgYW5kIHZhbHVlLiAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBsaXN0UGFpcihrZXk6IExpdGVyYWwsIHZhbHVlOiBMaXRlcmFsKTogTGlzdFBhaXJXaWRnZXQge1xuICAgICAgICByZXR1cm4gbmV3IExpc3RQYWlyV2lkZ2V0KGtleSwgdmFsdWUpO1xuICAgIH1cblxuICAgIC8qKiBDcmVhdGUgYW4gZXh0ZXJuYWwgbGluayB3aWRnZXQgd2hpY2ggcmVuZGVycyBhbiBleHRlcm5hbCBPYnNpZGlhbiBsaW5rLiAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBleHRlcm5hbExpbmsodXJsOiBzdHJpbmcsIGRpc3BsYXk/OiBzdHJpbmcpOiBFeHRlcm5hbExpbmtXaWRnZXQge1xuICAgICAgICByZXR1cm4gbmV3IEV4dGVybmFsTGlua1dpZGdldCh1cmwsIGRpc3BsYXkpO1xuICAgIH1cblxuICAgIC8qKiBDaGVja3MgaWYgdGhlIGdpdmVuIHdpZGdldCBpcyBhIGxpc3QgcGFpciB3aWRnZXQuICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGlzTGlzdFBhaXIod2lkZ2V0OiBXaWRnZXQpOiB3aWRnZXQgaXMgTGlzdFBhaXJXaWRnZXQge1xuICAgICAgICByZXR1cm4gd2lkZ2V0LiR3aWRnZXQgPT09IFwiZGF0YXZpZXc6bGlzdC1wYWlyXCI7XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGlzRXh0ZXJuYWxMaW5rKHdpZGdldDogV2lkZ2V0KTogd2lkZ2V0IGlzIEV4dGVybmFsTGlua1dpZGdldCB7XG4gICAgICAgIHJldHVybiB3aWRnZXQuJHdpZGdldCA9PT0gXCJkYXRhdmlldzpleHRlcm5hbC1saW5rXCI7XG4gICAgfVxuXG4gICAgLyoqIERldGVybWluZXMgaWYgdGhlIGdpdmVuIHdpZGdldCBpcyBhbnkga2luZCBvZiBidWlsdC1pbiB3aWRnZXQgd2l0aCBzcGVjaWFsIHJlbmRlcmluZyBoYW5kbGluZy4gKi9cbiAgICBleHBvcnQgZnVuY3Rpb24gaXNCdWlsdGluKHdpZGdldDogV2lkZ2V0KTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBpc0xpc3RQYWlyKHdpZGdldCkgfHwgaXNFeHRlcm5hbExpbmsod2lkZ2V0KTtcbiAgICB9XG59XG4iLCAiLyoqIERlZmluZXMgdGhlIEFTVCBmb3IgYSBmaWVsZCB3aGljaCBjYW4gYmUgZXZhbHVhdGVkLiAqL1xuaW1wb3J0IHsgTGl0ZXJhbCB9IGZyb20gXCJkYXRhLW1vZGVsL3ZhbHVlXCI7XG5cbi8qKiBDb21wYXJpc29uIG9wZXJhdG9ycyB3aGljaCB5aWVsZCB0cnVlL2ZhbHNlLiAqL1xuZXhwb3J0IHR5cGUgQ29tcGFyZU9wID0gXCI+XCIgfCBcIj49XCIgfCBcIjw9XCIgfCBcIjxcIiB8IFwiPVwiIHwgXCIhPVwiO1xuLyoqIEFyaXRobWV0aWMgb3BlcmF0b3JzIHdoaWNoIHlpZWxkIG51bWJlcnMgYW5kIG90aGVyIHZhbHVlcy4gKi9cbmV4cG9ydCB0eXBlIEFyaXRobWV0aWNPcCA9IFwiK1wiIHwgXCItXCIgfCBcIipcIiB8IFwiL1wiIHwgXCIlXCIgfCBcIiZcIiB8IFwifFwiO1xuLyoqIEFsbCB2YWxpZCBiaW5hcnkgb3BlcmF0b3JzLiAqL1xuZXhwb3J0IHR5cGUgQmluYXJ5T3AgPSBDb21wYXJlT3AgfCBBcml0aG1ldGljT3A7XG4vKiogQSAocG90ZW50aWFsbHkgY29tcHV0ZWQpIGZpZWxkIHRvIHNlbGVjdCBvciBjb21wYXJlIGFnYWluc3QuICovXG5leHBvcnQgdHlwZSBGaWVsZCA9XG4gICAgfCBCaW5hcnlPcEZpZWxkXG4gICAgfCBWYXJpYWJsZUZpZWxkXG4gICAgfCBMaXRlcmFsRmllbGRcbiAgICB8IEZ1bmN0aW9uRmllbGRcbiAgICB8IEluZGV4RmllbGRcbiAgICB8IE5lZ2F0ZWRGaWVsZFxuICAgIHwgTGFtYmRhRmllbGRcbiAgICB8IE9iamVjdEZpZWxkXG4gICAgfCBMaXN0RmllbGQ7XG5cbi8qKiBMaXRlcmFsIHJlcHJlc2VudGF0aW9uIG9mIHNvbWUgZmllbGQgdHlwZS4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTGl0ZXJhbEZpZWxkIHtcbiAgICB0eXBlOiBcImxpdGVyYWxcIjtcbiAgICB2YWx1ZTogTGl0ZXJhbDtcbn1cblxuLyoqIEEgdmFyaWFibGUgZmllbGQgZm9yIGEgdmFyaWFibGUgd2l0aCBhIGdpdmVuIG5hbWUuICovXG5leHBvcnQgaW50ZXJmYWNlIFZhcmlhYmxlRmllbGQge1xuICAgIHR5cGU6IFwidmFyaWFibGVcIjtcbiAgICBuYW1lOiBzdHJpbmc7XG59XG5cbi8qKiBBIGxpc3QsIHdoaWNoIGlzIGFuIG9yZGVyZWQgY29sbGVjdGlvbiBvZiBmaWVsZHMuICovXG5leHBvcnQgaW50ZXJmYWNlIExpc3RGaWVsZCB7XG4gICAgdHlwZTogXCJsaXN0XCI7XG4gICAgdmFsdWVzOiBGaWVsZFtdO1xufVxuXG4vKiogQW4gb2JqZWN0LCB3aGljaCBpcyBhIG1hcHBpbmcgb2YgbmFtZSB0byBmaWVsZC4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgT2JqZWN0RmllbGQge1xuICAgIHR5cGU6IFwib2JqZWN0XCI7XG4gICAgdmFsdWVzOiBSZWNvcmQ8c3RyaW5nLCBGaWVsZD47XG59XG5cbi8qKiBBIGJpbmFyeSBvcGVyYXRvciBmaWVsZCB3aGljaCBjb21iaW5lcyB0d28gc3Vibm9kZXMgc29tZWhvdy4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQmluYXJ5T3BGaWVsZCB7XG4gICAgdHlwZTogXCJiaW5hcnlvcFwiO1xuICAgIGxlZnQ6IEZpZWxkO1xuICAgIHJpZ2h0OiBGaWVsZDtcbiAgICBvcDogQmluYXJ5T3A7XG59XG5cbi8qKiBBIGZ1bmN0aW9uIGZpZWxkIHdoaWNoIGNhbGxzIGEgZnVuY3Rpb24gb24gMCBvciBtb3JlIGFyZ3VtZW50cy4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRnVuY3Rpb25GaWVsZCB7XG4gICAgdHlwZTogXCJmdW5jdGlvblwiO1xuICAgIC8qKiBFaXRoZXIgdGhlIG5hbWUgb2YgdGhlIGZ1bmN0aW9uIGJlaW5nIGNhbGxlZCwgb3IgYSBGdW5jdGlvbiBvYmplY3QuICovXG4gICAgZnVuYzogRmllbGQ7XG4gICAgLyoqIFRoZSBhcmd1bWVudHMgYmVpbmcgcGFzc2VkIHRvIHRoZSBmdW5jdGlvbi4gKi9cbiAgICBhcmd1bWVudHM6IEZpZWxkW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTGFtYmRhRmllbGQge1xuICAgIHR5cGU6IFwibGFtYmRhXCI7XG4gICAgLyoqIEFuIG9yZGVyZWQgbGlzdCBvZiBuYW1lZCBhcmd1bWVudHMuICovXG4gICAgYXJndW1lbnRzOiBzdHJpbmdbXTtcbiAgICAvKiogVGhlIGZpZWxkIHdoaWNoIHNob3VsZCBiZSBldmFsdWF0ZWQgd2l0aCB0aGUgYXJndW1lbnRzIGluIGNvbnRleHQuICovXG4gICAgdmFsdWU6IEZpZWxkO1xufVxuXG4vKiogQSBmaWVsZCB3aGljaCBpbmRleGVzIGEgdmFyaWFibGUgaW50byBhbm90aGVyIHZhcmlhYmxlLiAqL1xuZXhwb3J0IGludGVyZmFjZSBJbmRleEZpZWxkIHtcbiAgICB0eXBlOiBcImluZGV4XCI7XG4gICAgLyoqIFRoZSBmaWVsZCB0byBpbmRleCBpbnRvLiAqL1xuICAgIG9iamVjdDogRmllbGQ7XG4gICAgLyoqIFRoZSBpbmRleC4gKi9cbiAgICBpbmRleDogRmllbGQ7XG59XG5cbi8qKiBBIGZpZWxkIHdoaWNoIG5lZ2F0ZXMgdGhlIHZhbHVlIG9mIHRoZSBvcmlnaW5hbCBmaWVsZC4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTmVnYXRlZEZpZWxkIHtcbiAgICB0eXBlOiBcIm5lZ2F0ZWRcIjtcbiAgICAvKiogVGhlIGNoaWxkIGZpZWxkIHRvIG5lZ2F0ZWQuICovXG4gICAgY2hpbGQ6IEZpZWxkO1xufVxuXG4vKiogVXRpbGl0eSBtZXRob2RzIGZvciBjcmVhdGluZyAmIGNvbXBhcmluZyBmaWVsZHMuICovXG5leHBvcnQgbmFtZXNwYWNlIEZpZWxkcyB7XG4gICAgZXhwb3J0IGZ1bmN0aW9uIHZhcmlhYmxlKG5hbWU6IHN0cmluZyk6IFZhcmlhYmxlRmllbGQge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBcInZhcmlhYmxlXCIsIG5hbWUgfTtcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gbGl0ZXJhbCh2YWx1ZTogTGl0ZXJhbCk6IExpdGVyYWxGaWVsZCB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZSB9O1xuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiBiaW5hcnlPcChsZWZ0OiBGaWVsZCwgb3A6IEJpbmFyeU9wLCByaWdodDogRmllbGQpOiBGaWVsZCB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IFwiYmluYXJ5b3BcIiwgbGVmdCwgb3AsIHJpZ2h0IH0gYXMgQmluYXJ5T3BGaWVsZDtcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gaW5kZXgob2JqOiBGaWVsZCwgaW5kZXg6IEZpZWxkKTogSW5kZXhGaWVsZCB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IFwiaW5kZXhcIiwgb2JqZWN0OiBvYmosIGluZGV4IH07XG4gICAgfVxuXG4gICAgLyoqIENvbnZlcnRzIGEgc3RyaW5nIGluIGRvdC1ub3RhdGlvbi1mb3JtYXQgaW50byBhIHZhcmlhYmxlIHdoaWNoIGluZGV4ZXMuICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGluZGV4VmFyaWFibGUobmFtZTogc3RyaW5nKTogRmllbGQge1xuICAgICAgICBsZXQgcGFydHMgPSBuYW1lLnNwbGl0KFwiLlwiKTtcbiAgICAgICAgbGV0IHJlc3VsdDogRmllbGQgPSBGaWVsZHMudmFyaWFibGUocGFydHNbMF0pO1xuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDE7IGluZGV4IDwgcGFydHMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBGaWVsZHMuaW5kZXgocmVzdWx0LCBGaWVsZHMubGl0ZXJhbChwYXJ0c1tpbmRleF0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGxhbWJkYShhcmdzOiBzdHJpbmdbXSwgdmFsdWU6IEZpZWxkKTogTGFtYmRhRmllbGQge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBcImxhbWJkYVwiLCBhcmd1bWVudHM6IGFyZ3MsIHZhbHVlIH07XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGZ1bmMoZnVuYzogRmllbGQsIGFyZ3M6IEZpZWxkW10pOiBGdW5jdGlvbkZpZWxkIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJmdW5jdGlvblwiLCBmdW5jLCBhcmd1bWVudHM6IGFyZ3MgfTtcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gbGlzdCh2YWx1ZXM6IEZpZWxkW10pOiBMaXN0RmllbGQge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBcImxpc3RcIiwgdmFsdWVzIH07XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIG9iamVjdCh2YWx1ZXM6IFJlY29yZDxzdHJpbmcsIEZpZWxkPik6IE9iamVjdEZpZWxkIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJvYmplY3RcIiwgdmFsdWVzIH07XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIG5lZ2F0ZShjaGlsZDogRmllbGQpOiBOZWdhdGVkRmllbGQge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBcIm5lZ2F0ZWRcIiwgY2hpbGQgfTtcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gaXNDb21wYXJlT3Aob3A6IEJpbmFyeU9wKTogb3AgaXMgQ29tcGFyZU9wIHtcbiAgICAgICAgcmV0dXJuIG9wID09IFwiPD1cIiB8fCBvcCA9PSBcIjxcIiB8fCBvcCA9PSBcIj5cIiB8fCBvcCA9PSBcIj49XCIgfHwgb3AgPT0gXCIhPVwiIHx8IG9wID09IFwiPVwiO1xuICAgIH1cblxuICAgIGV4cG9ydCBjb25zdCBOVUxMID0gRmllbGRzLmxpdGVyYWwobnVsbCk7XG59XG4iLCAiLyoqIEFTVCBpbXBsZW1lbnRhdGlvbiBmb3IgcXVlcmllcyBvdmVyIGRhdGEgc291cmNlcy4gKi9cblxuLyoqIFRoZSBzb3VyY2Ugb2YgZmlsZXMgZm9yIGEgcXVlcnkuICovXG5leHBvcnQgdHlwZSBTb3VyY2UgPSBUYWdTb3VyY2UgfCBDc3ZTb3VyY2UgfCBGb2xkZXJTb3VyY2UgfCBMaW5rU291cmNlIHwgRW1wdHlTb3VyY2UgfCBOZWdhdGVkU291cmNlIHwgQmluYXJ5T3BTb3VyY2U7XG4vKiogVmFsaWQgb3BlcmF0aW9ucyBmb3IgY29tYmluaW5nIHNvdXJjZXMuICovXG5leHBvcnQgdHlwZSBTb3VyY2VPcCA9IFwiJlwiIHwgXCJ8XCI7XG5cbi8qKiBBIHRhZyBhcyBhIHNvdXJjZSBvZiBkYXRhLiAqL1xuZXhwb3J0IGludGVyZmFjZSBUYWdTb3VyY2Uge1xuICAgIHR5cGU6IFwidGFnXCI7XG4gICAgLyoqIFRoZSB0YWcgdG8gc291cmNlIGZyb20uICovXG4gICAgdGFnOiBzdHJpbmc7XG59XG5cbi8qKiBBIGNzdiBhcyBhIHNvdXJjZSBvZiBkYXRhLiAqL1xuZXhwb3J0IGludGVyZmFjZSBDc3ZTb3VyY2Uge1xuICAgIHR5cGU6IFwiY3N2XCI7XG4gICAgLyoqIFRoZSBwYXRoIHRvIHRoZSBDU1YgZmlsZS4gKi9cbiAgICBwYXRoOiBzdHJpbmc7XG59XG5cbi8qKiBBIGZvbGRlciBwcmVmaXggYXMgYSBzb3VyY2Ugb2YgZGF0YS4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRm9sZGVyU291cmNlIHtcbiAgICB0eXBlOiBcImZvbGRlclwiO1xuICAgIC8qKiBUaGUgZm9sZGVyIHByZWZpeCB0byBzb3VyY2UgZnJvbS4gKi9cbiAgICBmb2xkZXI6IHN0cmluZztcbn1cblxuLyoqIEVpdGhlciBpbmNvbWluZyBvciBvdXRnb2luZyBsaW5rcyB0byBhIGdpdmVuIGZpbGUuICovXG5leHBvcnQgaW50ZXJmYWNlIExpbmtTb3VyY2Uge1xuICAgIHR5cGU6IFwibGlua1wiO1xuICAgIC8qKiBUaGUgZmlsZSB0byBsb29rIGZvciBsaW5rcyB0by9mcm9tLiAgKi9cbiAgICBmaWxlOiBzdHJpbmc7XG4gICAgLyoqXG4gICAgICogVGhlIGRpcmVjdGlvbiB0byBsb29rIC0gaWYgaW5jb21pbmcsIHRoZW4gYWxsIGZpbGVzIGxpbmtpbmcgdG8gdGhlIHRhcmdldCBmaWxlLiBJZiBvdXRnb2luZywgdGhlbiBhbGwgZmlsZXNcbiAgICAgKiB3aGljaCB0aGUgZmlsZSBsaW5rcyB0by5cbiAgICAgKi9cbiAgICBkaXJlY3Rpb246IFwiaW5jb21pbmdcIiB8IFwib3V0Z29pbmdcIjtcbn1cblxuLyoqIEEgc291cmNlIHdoaWNoIGlzIGV2ZXJ5dGhpbmcgRVhDRVBUIHRoZSBmaWxlcyByZXR1cm5lZCBieSB0aGUgZ2l2ZW4gc291cmNlLiAqL1xuZXhwb3J0IGludGVyZmFjZSBOZWdhdGVkU291cmNlIHtcbiAgICB0eXBlOiBcIm5lZ2F0ZVwiO1xuICAgIC8qKiBUaGUgc291cmNlIHRvIG5lZ2F0ZS4gKi9cbiAgICBjaGlsZDogU291cmNlO1xufVxuXG4vKiogQSBzb3VyY2Ugd2hpY2ggeWllbGRzIG5vdGhpbmcuICovXG5leHBvcnQgaW50ZXJmYWNlIEVtcHR5U291cmNlIHtcbiAgICB0eXBlOiBcImVtcHR5XCI7XG59XG5cbi8qKiBBIHNvdXJjZSBtYWRlIGJ5IGNvbWJpbmluZyBzdWJzb3VyY2VzIHdpdGggYSBsb2dpY2FsIG9wZXJhdG9ycy4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQmluYXJ5T3BTb3VyY2Uge1xuICAgIHR5cGU6IFwiYmluYXJ5b3BcIjtcbiAgICBvcDogU291cmNlT3A7XG4gICAgbGVmdDogU291cmNlO1xuICAgIHJpZ2h0OiBTb3VyY2U7XG59XG5cbi8qKiBVdGlsaXR5IGZ1bmN0aW9ucyBmb3IgY3JlYXRpbmcgYW5kIG1hbmlwdWxhdGluZyBzb3VyY2VzLiAqL1xuZXhwb3J0IG5hbWVzcGFjZSBTb3VyY2VzIHtcbiAgICAvKiogQ3JlYXRlIGEgc291cmNlIHdoaWNoIHNlYXJjaGVzIGZyb20gYSB0YWcuICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHRhZyh0YWc6IHN0cmluZyk6IFRhZ1NvdXJjZSB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IFwidGFnXCIsIHRhZyB9O1xuICAgIH1cblxuICAgIC8qKiBDcmVhdGUgYSBzb3VyY2Ugd2hpY2ggZmV0Y2hlcyBmcm9tIGEgQ1NWIGZpbGUuICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGNzdihwYXRoOiBzdHJpbmcpOiBDc3ZTb3VyY2Uge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBcImNzdlwiLCBwYXRoIH07XG4gICAgfVxuXG4gICAgLyoqIENyZWF0ZSBhIHNvdXJjZSB3aGljaCBzZWFyY2hlcyBmb3IgZmlsZXMgdW5kZXIgYSBmb2xkZXIgcHJlZml4LiAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBmb2xkZXIocHJlZml4OiBzdHJpbmcpOiBGb2xkZXJTb3VyY2Uge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBcImZvbGRlclwiLCBmb2xkZXI6IHByZWZpeCB9O1xuICAgIH1cblxuICAgIC8qKiBDcmVhdGUgYSBzb3VyY2Ugd2hpY2ggc2VhcmNoZXMgZm9yIGZpbGVzIHdoaWNoIGxpbmsgdG8vZnJvbSBhIGdpdmVuIGZpbGUuICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGxpbmsoZmlsZTogc3RyaW5nLCBpbmNvbWluZzogYm9vbGVhbik6IExpbmtTb3VyY2Uge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBcImxpbmtcIiwgZmlsZSwgZGlyZWN0aW9uOiBpbmNvbWluZyA/IFwiaW5jb21pbmdcIiA6IFwib3V0Z29pbmdcIiB9O1xuICAgIH1cblxuICAgIC8qKiBDcmVhdGUgYSBzb3VyY2Ugd2hpY2ggam9pbnMgdHdvIHNvdXJjZXMgYnkgYSBsb2dpY2FsIG9wZXJhdG9yIChhbmQvb3IpLiAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBiaW5hcnlPcChsZWZ0OiBTb3VyY2UsIG9wOiBTb3VyY2VPcCwgcmlnaHQ6IFNvdXJjZSk6IFNvdXJjZSB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IFwiYmluYXJ5b3BcIiwgbGVmdCwgb3AsIHJpZ2h0IH07XG4gICAgfVxuXG4gICAgLyoqIENyZWF0ZSBhIHNvdXJjZSB3aGljaCB0YWtlcyB0aGUgaW50ZXJzZWN0aW9uIG9mIHR3byBzb3VyY2VzLiAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBhbmQobGVmdDogU291cmNlLCByaWdodDogU291cmNlKTogU291cmNlIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJiaW5hcnlvcFwiLCBsZWZ0LCBvcDogXCImXCIsIHJpZ2h0IH07XG4gICAgfVxuXG4gICAgLyoqIENyZWF0ZSBhIHNvdXJjZSB3aGljaCB0YWtlcyB0aGUgdW5pb24gb2YgdHdvIHNvdXJjZXMuICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIG9yKGxlZnQ6IFNvdXJjZSwgcmlnaHQ6IFNvdXJjZSk6IFNvdXJjZSB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IFwiYmluYXJ5b3BcIiwgbGVmdCwgb3A6IFwifFwiLCByaWdodCB9O1xuICAgIH1cblxuICAgIC8qKiBDcmVhdGUgYSBzb3VyY2Ugd2hpY2ggbmVnYXRlcyB0aGUgdW5kZXJseWluZyBzb3VyY2UuICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIG5lZ2F0ZShjaGlsZDogU291cmNlKTogTmVnYXRlZFNvdXJjZSB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IFwibmVnYXRlXCIsIGNoaWxkIH07XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGVtcHR5KCk6IEVtcHR5U291cmNlIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJlbXB0eVwiIH07XG4gICAgfVxufVxuIiwgImltcG9ydCB7IERhdGVUaW1lLCBEdXJhdGlvbiB9IGZyb20gXCJsdXhvblwiO1xuaW1wb3J0IHsgTGl0ZXJhbCwgTGluayB9IGZyb20gXCJkYXRhLW1vZGVsL3ZhbHVlXCI7XG5pbXBvcnQgKiBhcyBQIGZyb20gXCJwYXJzaW1tb25cIjtcbmltcG9ydCB7IEJpbmFyeU9wLCBGaWVsZCwgRmllbGRzLCBMYW1iZGFGaWVsZCwgTGlzdEZpZWxkLCBMaXRlcmFsRmllbGQsIE9iamVjdEZpZWxkLCBWYXJpYWJsZUZpZWxkIH0gZnJvbSBcIi4vZmllbGRcIjtcbmltcG9ydCB7IEZvbGRlclNvdXJjZSwgTmVnYXRlZFNvdXJjZSwgU291cmNlLCBTb3VyY2VPcCwgU291cmNlcywgVGFnU291cmNlLCBDc3ZTb3VyY2UgfSBmcm9tIFwiZGF0YS1pbmRleC9zb3VyY2VcIjtcbmltcG9ydCB7IG5vcm1hbGl6ZUR1cmF0aW9uIH0gZnJvbSBcInV0aWwvbm9ybWFsaXplXCI7XG5pbXBvcnQgeyBSZXN1bHQgfSBmcm9tIFwiYXBpL3Jlc3VsdFwiO1xuaW1wb3J0IGVtb2ppUmVnZXggZnJvbSBcImVtb2ppLXJlZ2V4XCI7XG5cbi8qKiBFbW9qaSByZWdleCB3aXRob3V0IGFueSBhZGRpdGlvbmFsIGZsYWdzLiAqL1xuY29uc3QgRU1PSklfUkVHRVggPSBuZXcgUmVnRXhwKGVtb2ppUmVnZXgoKSwgXCJcIik7XG5cbi8qKiBQcm92aWRlcyBhIGxvb2t1cCB0YWJsZSBmb3IgdW5pdCBkdXJhdGlvbnMgb2YgdGhlIGdpdmVuIHR5cGUuICovXG5leHBvcnQgY29uc3QgRFVSQVRJT05fVFlQRVMgPSB7XG4gICAgeWVhcjogRHVyYXRpb24uZnJvbU9iamVjdCh7IHllYXJzOiAxIH0pLFxuICAgIHllYXJzOiBEdXJhdGlvbi5mcm9tT2JqZWN0KHsgeWVhcnM6IDEgfSksXG4gICAgeXI6IER1cmF0aW9uLmZyb21PYmplY3QoeyB5ZWFyczogMSB9KSxcbiAgICB5cnM6IER1cmF0aW9uLmZyb21PYmplY3QoeyB5ZWFyczogMSB9KSxcblxuICAgIG1vbnRoOiBEdXJhdGlvbi5mcm9tT2JqZWN0KHsgbW9udGhzOiAxIH0pLFxuICAgIG1vbnRoczogRHVyYXRpb24uZnJvbU9iamVjdCh7IG1vbnRoczogMSB9KSxcbiAgICBtbzogRHVyYXRpb24uZnJvbU9iamVjdCh7IG1vbnRoczogMSB9KSxcbiAgICBtb3M6IER1cmF0aW9uLmZyb21PYmplY3QoeyBtb250aHM6IDEgfSksXG5cbiAgICB3ZWVrOiBEdXJhdGlvbi5mcm9tT2JqZWN0KHsgd2Vla3M6IDEgfSksXG4gICAgd2Vla3M6IER1cmF0aW9uLmZyb21PYmplY3QoeyB3ZWVrczogMSB9KSxcbiAgICB3azogRHVyYXRpb24uZnJvbU9iamVjdCh7IHdlZWtzOiAxIH0pLFxuICAgIHdrczogRHVyYXRpb24uZnJvbU9iamVjdCh7IHdlZWtzOiAxIH0pLFxuICAgIHc6IER1cmF0aW9uLmZyb21PYmplY3QoeyB3ZWVrczogMSB9KSxcblxuICAgIGRheTogRHVyYXRpb24uZnJvbU9iamVjdCh7IGRheXM6IDEgfSksXG4gICAgZGF5czogRHVyYXRpb24uZnJvbU9iamVjdCh7IGRheXM6IDEgfSksXG4gICAgZDogRHVyYXRpb24uZnJvbU9iamVjdCh7IGRheXM6IDEgfSksXG5cbiAgICBob3VyOiBEdXJhdGlvbi5mcm9tT2JqZWN0KHsgaG91cnM6IDEgfSksXG4gICAgaG91cnM6IER1cmF0aW9uLmZyb21PYmplY3QoeyBob3VyczogMSB9KSxcbiAgICBocjogRHVyYXRpb24uZnJvbU9iamVjdCh7IGhvdXJzOiAxIH0pLFxuICAgIGhyczogRHVyYXRpb24uZnJvbU9iamVjdCh7IGhvdXJzOiAxIH0pLFxuICAgIGg6IER1cmF0aW9uLmZyb21PYmplY3QoeyBob3VyczogMSB9KSxcblxuICAgIG1pbnV0ZTogRHVyYXRpb24uZnJvbU9iamVjdCh7IG1pbnV0ZXM6IDEgfSksXG4gICAgbWludXRlczogRHVyYXRpb24uZnJvbU9iamVjdCh7IG1pbnV0ZXM6IDEgfSksXG4gICAgbWluOiBEdXJhdGlvbi5mcm9tT2JqZWN0KHsgbWludXRlczogMSB9KSxcbiAgICBtaW5zOiBEdXJhdGlvbi5mcm9tT2JqZWN0KHsgbWludXRlczogMSB9KSxcbiAgICBtOiBEdXJhdGlvbi5mcm9tT2JqZWN0KHsgbWludXRlczogMSB9KSxcblxuICAgIHNlY29uZDogRHVyYXRpb24uZnJvbU9iamVjdCh7IHNlY29uZHM6IDEgfSksXG4gICAgc2Vjb25kczogRHVyYXRpb24uZnJvbU9iamVjdCh7IHNlY29uZHM6IDEgfSksXG4gICAgc2VjOiBEdXJhdGlvbi5mcm9tT2JqZWN0KHsgc2Vjb25kczogMSB9KSxcbiAgICBzZWNzOiBEdXJhdGlvbi5mcm9tT2JqZWN0KHsgc2Vjb25kczogMSB9KSxcbiAgICBzOiBEdXJhdGlvbi5mcm9tT2JqZWN0KHsgc2Vjb25kczogMSB9KSxcbn07XG5cbi8qKiBTaG9ydGhhbmQgZm9yIGNvbW1vbiBkYXRlcyAocmVsYXRpdmUgdG8gcmlnaHQgbm93KS4gKi9cbmV4cG9ydCBjb25zdCBEQVRFX1NIT1JUSEFORFMgPSB7XG4gICAgbm93OiAoKSA9PiBEYXRlVGltZS5sb2NhbCgpLFxuICAgIHRvZGF5OiAoKSA9PiBEYXRlVGltZS5sb2NhbCgpLnN0YXJ0T2YoXCJkYXlcIiksXG4gICAgeWVzdGVyZGF5OiAoKSA9PlxuICAgICAgICBEYXRlVGltZS5sb2NhbCgpXG4gICAgICAgICAgICAuc3RhcnRPZihcImRheVwiKVxuICAgICAgICAgICAgLm1pbnVzKER1cmF0aW9uLmZyb21PYmplY3QoeyBkYXlzOiAxIH0pKSxcbiAgICB0b21vcnJvdzogKCkgPT5cbiAgICAgICAgRGF0ZVRpbWUubG9jYWwoKVxuICAgICAgICAgICAgLnN0YXJ0T2YoXCJkYXlcIilcbiAgICAgICAgICAgIC5wbHVzKER1cmF0aW9uLmZyb21PYmplY3QoeyBkYXlzOiAxIH0pKSxcbiAgICBzb3c6ICgpID0+IERhdGVUaW1lLmxvY2FsKCkuc3RhcnRPZihcIndlZWtcIiksXG4gICAgXCJzdGFydC1vZi13ZWVrXCI6ICgpID0+IERhdGVUaW1lLmxvY2FsKCkuc3RhcnRPZihcIndlZWtcIiksXG4gICAgZW93OiAoKSA9PiBEYXRlVGltZS5sb2NhbCgpLmVuZE9mKFwid2Vla1wiKSxcbiAgICBcImVuZC1vZi13ZWVrXCI6ICgpID0+IERhdGVUaW1lLmxvY2FsKCkuZW5kT2YoXCJ3ZWVrXCIpLFxuICAgIHNveTogKCkgPT4gRGF0ZVRpbWUubG9jYWwoKS5zdGFydE9mKFwieWVhclwiKSxcbiAgICBcInN0YXJ0LW9mLXllYXJcIjogKCkgPT4gRGF0ZVRpbWUubG9jYWwoKS5zdGFydE9mKFwieWVhclwiKSxcbiAgICBlb3k6ICgpID0+IERhdGVUaW1lLmxvY2FsKCkuZW5kT2YoXCJ5ZWFyXCIpLFxuICAgIFwiZW5kLW9mLXllYXJcIjogKCkgPT4gRGF0ZVRpbWUubG9jYWwoKS5lbmRPZihcInllYXJcIiksXG4gICAgc29tOiAoKSA9PiBEYXRlVGltZS5sb2NhbCgpLnN0YXJ0T2YoXCJtb250aFwiKSxcbiAgICBcInN0YXJ0LW9mLW1vbnRoXCI6ICgpID0+IERhdGVUaW1lLmxvY2FsKCkuc3RhcnRPZihcIm1vbnRoXCIpLFxuICAgIGVvbTogKCkgPT4gRGF0ZVRpbWUubG9jYWwoKS5lbmRPZihcIm1vbnRoXCIpLFxuICAgIFwiZW5kLW9mLW1vbnRoXCI6ICgpID0+IERhdGVUaW1lLmxvY2FsKCkuZW5kT2YoXCJtb250aFwiKSxcbn07XG5cbi8qKlxuICogS2V5d29yZHMgd2hpY2ggY2Fubm90IGJlIHVzZWQgYXMgdmFyaWFibGVzIGRpcmVjdGx5LiBVc2UgYHJvdy48dGhpbmc+YCBpZiBpdCBpcyBhIHZhcmlhYmxlIHlvdSBoYXZlIGRlZmluZWQgYW5kIHdhbnRcbiAqIHRvIGFjY2Vzcy5cbiAqL1xuZXhwb3J0IGNvbnN0IEtFWVdPUkRTID0gW1wiRlJPTVwiLCBcIldIRVJFXCIsIFwiTElNSVRcIiwgXCJHUk9VUFwiLCBcIkZMQVRURU5cIl07XG5cbi8vLy8vLy8vLy8vLy8vL1xuLy8gVXRpbGl0aWVzIC8vXG4vLy8vLy8vLy8vLy8vLy9cblxuLyoqIFNwbGl0IG9uIHVuZXNjYXBlZCBwaXBlcyBpbiBhbiBpbm5lciBsaW5rLiAqL1xuZnVuY3Rpb24gc3BsaXRPblVuZXNjYXBlZFBpcGUobGluazogc3RyaW5nKTogW3N0cmluZywgc3RyaW5nIHwgdW5kZWZpbmVkXSB7XG4gICAgbGV0IHBpcGUgPSAtMTtcbiAgICB3aGlsZSAoKHBpcGUgPSBsaW5rLmluZGV4T2YoXCJ8XCIsIHBpcGUgKyAxKSkgPj0gMCkge1xuICAgICAgICBpZiAocGlwZSA+IDAgJiYgbGlua1twaXBlIC0gMV0gPT0gXCJcXFxcXCIpIGNvbnRpbnVlO1xuICAgICAgICByZXR1cm4gW2xpbmsuc3Vic3RyaW5nKDAsIHBpcGUpLnJlcGxhY2UoL1xcXFxcXHwvZywgXCJ8XCIpLCBsaW5rLnN1YnN0cmluZyhwaXBlICsgMSldO1xuICAgIH1cblxuICAgIHJldHVybiBbbGluay5yZXBsYWNlKC9cXFxcXFx8L2csIFwifFwiKSwgdW5kZWZpbmVkXTtcbn1cblxuLyoqIEF0dGVtcHQgdG8gcGFyc2UgdGhlIGluc2lkZSBvZiBhIGxpbmsgdG8gcHVsbCBvdXQgZGlzcGxheSBuYW1lLCBzdWJwYXRoLCBldGMuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VJbm5lckxpbmsocmF3bGluazogc3RyaW5nKTogTGluayB7XG4gICAgbGV0IFtsaW5rLCBkaXNwbGF5XSA9IHNwbGl0T25VbmVzY2FwZWRQaXBlKHJhd2xpbmspO1xuICAgIHJldHVybiBMaW5rLmluZmVyKGxpbmssIGZhbHNlLCBkaXNwbGF5KTtcbn1cblxuLyoqIENyZWF0ZSBhIGxlZnQtYXNzb2NpYXRpdmUgYmluYXJ5IHBhcnNlciB3aGljaCBwYXJzZXMgdGhlIGdpdmVuIHN1Yi1lbGVtZW50IGFuZCBzZXBhcmF0b3IuIEhhbmRsZXMgd2hpdGVzcGFjZS4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVCaW5hcnlQYXJzZXI8VCwgVT4oXG4gICAgY2hpbGQ6IFAuUGFyc2VyPFQ+LFxuICAgIHNlcDogUC5QYXJzZXI8VT4sXG4gICAgY29tYmluZTogKGE6IFQsIGI6IFUsIGM6IFQpID0+IFRcbik6IFAuUGFyc2VyPFQ+IHtcbiAgICByZXR1cm4gUC5zZXFNYXAoY2hpbGQsIFAuc2VxKFAub3B0V2hpdGVzcGFjZSwgc2VwLCBQLm9wdFdoaXRlc3BhY2UsIGNoaWxkKS5tYW55KCksIChmaXJzdCwgcmVzdCkgPT4ge1xuICAgICAgICBpZiAocmVzdC5sZW5ndGggPT0gMCkgcmV0dXJuIGZpcnN0O1xuXG4gICAgICAgIGxldCBub2RlID0gY29tYmluZShmaXJzdCwgcmVzdFswXVsxXSwgcmVzdFswXVszXSk7XG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMTsgaW5kZXggPCByZXN0Lmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgbm9kZSA9IGNvbWJpbmUobm9kZSwgcmVzdFtpbmRleF1bMV0sIHJlc3RbaW5kZXhdWzNdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNoYWluT3B0PFQ+KGJhc2U6IFAuUGFyc2VyPFQ+LCAuLi5mdW5jczogKChyOiBUKSA9PiBQLlBhcnNlcjxUPilbXSk6IFAuUGFyc2VyPFQ+IHtcbiAgICByZXR1cm4gUC5jdXN0b20oKHN1Y2Nlc3MsIGZhaWx1cmUpID0+IHtcbiAgICAgICAgcmV0dXJuIChpbnB1dCwgaSkgPT4ge1xuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IChiYXNlIGFzIGFueSkuXyhpbnB1dCwgaSk7XG4gICAgICAgICAgICBpZiAoIXJlc3VsdC5zdGF0dXMpIHJldHVybiByZXN1bHQ7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGZ1bmMgb2YgZnVuY3MpIHtcbiAgICAgICAgICAgICAgICBsZXQgbmV4dCA9IChmdW5jKHJlc3VsdC52YWx1ZSBhcyBUKSBhcyBhbnkpLl8oaW5wdXQsIHJlc3VsdC5pbmRleCk7XG4gICAgICAgICAgICAgICAgaWYgKCFuZXh0LnN0YXR1cykgcmV0dXJuIHJlc3VsdDtcblxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IG5leHQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH07XG4gICAgfSk7XG59XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gRXhwcmVzc2lvbiBQYXJzaW5nIC8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuZXhwb3J0IHR5cGUgUG9zdGZpeEZyYWdtZW50ID1cbiAgICB8IHsgdHlwZTogXCJkb3RcIjsgZmllbGQ6IHN0cmluZyB9XG4gICAgfCB7IHR5cGU6IFwiaW5kZXhcIjsgZmllbGQ6IEZpZWxkIH1cbiAgICB8IHsgdHlwZTogXCJmdW5jdGlvblwiOyBmaWVsZHM6IEZpZWxkW10gfTtcblxuZXhwb3J0IGludGVyZmFjZSBFeHByZXNzaW9uTGFuZ3VhZ2Uge1xuICAgIG51bWJlcjogbnVtYmVyO1xuICAgIHN0cmluZzogc3RyaW5nO1xuICAgIGVzY2FwZUNoYXJhY3Rlcjogc3RyaW5nO1xuICAgIGJvb2w6IGJvb2xlYW47XG4gICAgdGFnOiBzdHJpbmc7XG4gICAgaWRlbnRpZmllcjogc3RyaW5nO1xuICAgIGxpbms6IExpbms7XG4gICAgZW1iZWRMaW5rOiBMaW5rO1xuICAgIHJvb3REYXRlOiBEYXRlVGltZTtcbiAgICBkYXRlU2hvcnRoYW5kOiBrZXlvZiB0eXBlb2YgREFURV9TSE9SVEhBTkRTO1xuICAgIGRhdGU6IERhdGVUaW1lO1xuICAgIGRhdGVQbHVzOiBEYXRlVGltZTtcbiAgICBkdXJhdGlvblR5cGU6IGtleW9mIHR5cGVvZiBEVVJBVElPTl9UWVBFUztcbiAgICBkdXJhdGlvbjogRHVyYXRpb247XG4gICAgcmF3TnVsbDogc3RyaW5nO1xuXG4gICAgYmluYXJ5UGx1c01pbnVzOiBCaW5hcnlPcDtcbiAgICBiaW5hcnlNdWxEaXY6IEJpbmFyeU9wO1xuICAgIGJpbmFyeUNvbXBhcmVPcDogQmluYXJ5T3A7XG4gICAgYmluYXJ5Qm9vbGVhbk9wOiBCaW5hcnlPcDtcblxuICAgIC8vIFNvdXJjZS1yZWxhdGVkIHBhcnNlcnMuXG4gICAgdGFnU291cmNlOiBUYWdTb3VyY2U7XG4gICAgY3N2U291cmNlOiBDc3ZTb3VyY2U7XG4gICAgZm9sZGVyU291cmNlOiBGb2xkZXJTb3VyY2U7XG4gICAgcGFyZW5zU291cmNlOiBTb3VyY2U7XG4gICAgYXRvbVNvdXJjZTogU291cmNlO1xuICAgIGxpbmtJbmNvbWluZ1NvdXJjZTogU291cmNlO1xuICAgIGxpbmtPdXRnb2luZ1NvdXJjZTogU291cmNlO1xuICAgIG5lZ2F0ZVNvdXJjZTogTmVnYXRlZFNvdXJjZTtcbiAgICBiaW5hcnlPcFNvdXJjZTogU291cmNlO1xuICAgIHNvdXJjZTogU291cmNlO1xuXG4gICAgLy8gRmllbGQtcmVsYXRlZCBwYXJzZXJzLlxuICAgIHZhcmlhYmxlRmllbGQ6IFZhcmlhYmxlRmllbGQ7XG4gICAgbnVtYmVyRmllbGQ6IExpdGVyYWxGaWVsZDtcbiAgICBib29sRmllbGQ6IExpdGVyYWxGaWVsZDtcbiAgICBzdHJpbmdGaWVsZDogTGl0ZXJhbEZpZWxkO1xuICAgIGRhdGVGaWVsZDogTGl0ZXJhbEZpZWxkO1xuICAgIGR1cmF0aW9uRmllbGQ6IExpdGVyYWxGaWVsZDtcbiAgICBsaW5rRmllbGQ6IExpdGVyYWxGaWVsZDtcbiAgICBudWxsRmllbGQ6IExpdGVyYWxGaWVsZDtcblxuICAgIGxpc3RGaWVsZDogTGlzdEZpZWxkO1xuICAgIG9iamVjdEZpZWxkOiBPYmplY3RGaWVsZDtcblxuICAgIGF0b21JbmxpbmVGaWVsZDogTGl0ZXJhbDtcbiAgICBpbmxpbmVGaWVsZExpc3Q6IExpdGVyYWxbXTtcbiAgICBpbmxpbmVGaWVsZDogTGl0ZXJhbDtcblxuICAgIG5lZ2F0ZWRGaWVsZDogRmllbGQ7XG4gICAgYXRvbUZpZWxkOiBGaWVsZDtcbiAgICBpbmRleEZpZWxkOiBGaWVsZDtcbiAgICBsYW1iZGFGaWVsZDogTGFtYmRhRmllbGQ7XG5cbiAgICAvLyBQb3N0Zml4IHBhcnNlcnMgZm9yIGZ1bmN0aW9uIGNhbGxzICYgdGhlIGxpa2UuXG4gICAgZG90UG9zdGZpeDogUG9zdGZpeEZyYWdtZW50O1xuICAgIGluZGV4UG9zdGZpeDogUG9zdGZpeEZyYWdtZW50O1xuICAgIGZ1bmN0aW9uUG9zdGZpeDogUG9zdGZpeEZyYWdtZW50O1xuXG4gICAgLy8gQmluYXJ5IG9wIHBhcnNlcnMuXG4gICAgYmluYXJ5TXVsRGl2RmllbGQ6IEZpZWxkO1xuICAgIGJpbmFyeVBsdXNNaW51c0ZpZWxkOiBGaWVsZDtcbiAgICBiaW5hcnlDb21wYXJlRmllbGQ6IEZpZWxkO1xuICAgIGJpbmFyeUJvb2xlYW5GaWVsZDogRmllbGQ7XG4gICAgYmluYXJ5T3BGaWVsZDogRmllbGQ7XG4gICAgcGFyZW5zRmllbGQ6IEZpZWxkO1xuICAgIGZpZWxkOiBGaWVsZDtcbn1cblxuZXhwb3J0IGNvbnN0IEVYUFJFU1NJT04gPSBQLmNyZWF0ZUxhbmd1YWdlPEV4cHJlc3Npb25MYW5ndWFnZT4oe1xuICAgIC8vIEEgZmxvYXRpbmcgcG9pbnQgbnVtYmVyOyB0aGUgZGVjaW1hbCBwb2ludCBpcyBvcHRpb25hbC5cbiAgICBudW1iZXI6IHEgPT5cbiAgICAgICAgUC5yZWdleHAoLy0/WzAtOV0rKFxcLlswLTldKyk/LylcbiAgICAgICAgICAgIC5tYXAoc3RyID0+IE51bWJlci5wYXJzZUZsb2F0KHN0cikpXG4gICAgICAgICAgICAuZGVzYyhcIm51bWJlclwiKSxcblxuICAgIC8vIEEgcXVvdGUtc3Vycm91bmRlZCBzdHJpbmcgd2hpY2ggc3VwcG9ydHMgZXNjYXBlIGNoYXJhY3RlcnMgKCdcXCcpLlxuICAgIHN0cmluZzogcSA9PlxuICAgICAgICBQLnN0cmluZygnXCInKVxuICAgICAgICAgICAgLnRoZW4oXG4gICAgICAgICAgICAgICAgUC5hbHQocS5lc2NhcGVDaGFyYWN0ZXIsIFAubm9uZU9mKCdcIlxcXFwnKSlcbiAgICAgICAgICAgICAgICAgICAgLmF0TGVhc3QoMClcbiAgICAgICAgICAgICAgICAgICAgLm1hcChjaGFycyA9PiBjaGFycy5qb2luKFwiXCIpKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLnNraXAoUC5zdHJpbmcoJ1wiJykpXG4gICAgICAgICAgICAuZGVzYyhcInN0cmluZ1wiKSxcblxuICAgIGVzY2FwZUNoYXJhY3RlcjogXyA9PlxuICAgICAgICBQLnN0cmluZyhcIlxcXFxcIilcbiAgICAgICAgICAgIC50aGVuKFAuYW55KVxuICAgICAgICAgICAgLm1hcChlc2NhcGVkID0+IHtcbiAgICAgICAgICAgICAgICAvLyBJZiB3ZSBhcmUgZXNjYXBpbmcgYSBiYWNrc2xhc2ggb3IgYSBxdW90ZSwgcGFzcyBpbiBvbiBpbiBlc2NhcGVkIGZvcm1cbiAgICAgICAgICAgICAgICBpZiAoZXNjYXBlZCA9PT0gJ1wiJykgcmV0dXJuICdcIic7XG4gICAgICAgICAgICAgICAgaWYgKGVzY2FwZWQgPT09IFwiXFxcXFwiKSByZXR1cm4gXCJcXFxcXCI7XG4gICAgICAgICAgICAgICAgZWxzZSByZXR1cm4gXCJcXFxcXCIgKyBlc2NhcGVkO1xuICAgICAgICAgICAgfSksXG5cbiAgICAvLyBBIGJvb2xlYW4gdHJ1ZS9mYWxzZSB2YWx1ZS5cbiAgICBib29sOiBfID0+XG4gICAgICAgIFAucmVnZXhwKC90cnVlfGZhbHNlfFRydWV8RmFsc2UvKVxuICAgICAgICAgICAgLm1hcChzdHIgPT4gc3RyLnRvTG93ZXJDYXNlKCkgPT0gXCJ0cnVlXCIpXG4gICAgICAgICAgICAuZGVzYyhcImJvb2xlYW4gKCd0cnVlJyBvciAnZmFsc2UnKVwiKSxcblxuICAgIC8vIEEgdGFnIG9mIHRoZSBmb3JtICcjc3R1ZmYvaGVsbG8tdGhlcmUnLlxuICAgIHRhZzogXyA9PlxuICAgICAgICBQLnNlcU1hcChcbiAgICAgICAgICAgIFAuc3RyaW5nKFwiI1wiKSxcbiAgICAgICAgICAgIFAuYWx0KFAucmVnZXhwKC9bXFxwe0xldHRlcn0wLTlfLy1dL3UpLmRlc2MoXCJ0ZXh0XCIpLCBQLnJlZ2V4cChFTU9KSV9SRUdFWCkuZGVzYyhcInRleHRcIikpLm1hbnkoKSxcbiAgICAgICAgICAgIChzdGFydCwgcmVzdCkgPT4gc3RhcnQgKyByZXN0LmpvaW4oXCJcIilcbiAgICAgICAgKS5kZXNjKFwidGFnICgnI2hlbGxvL3N0dWZmJylcIiksXG5cbiAgICAvLyBBIHZhcmlhYmxlIGlkZW50aWZpZXIsIHdoaWNoIGlzIGFscGhhbnVtZXJpYyBhbmQgbXVzdCBzdGFydCB3aXRoIGEgbGV0dGVyIG9yLi4uIGVtb2ppLlxuICAgIGlkZW50aWZpZXI6IF8gPT5cbiAgICAgICAgUC5zZXFNYXAoXG4gICAgICAgICAgICBQLmFsdChQLnJlZ2V4cCgvXFxwe0xldHRlcn0vdSksIFAucmVnZXhwKEVNT0pJX1JFR0VYKS5kZXNjKFwidGV4dFwiKSksXG4gICAgICAgICAgICBQLmFsdChQLnJlZ2V4cCgvWzAtOVxccHtMZXR0ZXJ9Xy1dL3UpLCBQLnJlZ2V4cChFTU9KSV9SRUdFWCkuZGVzYyhcInRleHRcIikpLm1hbnkoKSxcbiAgICAgICAgICAgIChmaXJzdCwgcmVzdCkgPT4gZmlyc3QgKyByZXN0LmpvaW4oXCJcIilcbiAgICAgICAgKS5kZXNjKFwidmFyaWFibGUgaWRlbnRpZmllclwiKSxcblxuICAgIC8vIEFuIE9ic2lkaWFuIGxpbmsgb2YgdGhlIGZvcm0gW1s8bGluaz5dXS5cbiAgICBsaW5rOiBfID0+XG4gICAgICAgIFAucmVnZXhwKC9cXFtcXFsoW15cXFtcXF1dKj8pXFxdXFxdL3UsIDEpXG4gICAgICAgICAgICAubWFwKGxpbmtJbm5lciA9PiBwYXJzZUlubmVyTGluayhsaW5rSW5uZXIpKVxuICAgICAgICAgICAgLmRlc2MoXCJmaWxlIGxpbmtcIiksXG5cbiAgICAvLyBBbiBlbWJlZGRhYmxlIGxpbmsgd2hpY2ggY2FuIHN0YXJ0IHdpdGggJyEnLiBUaGlzIG92ZXJsYXBzIHdpdGggdGhlIG5vcm1hbCBuZWdhdGlvbiBvcGVyYXRvciwgc28gaXQgaXMgb25seVxuICAgIC8vIHByb3ZpZGVkIGZvciBtZXRhZGF0YSBwYXJzaW5nLlxuICAgIGVtYmVkTGluazogcSA9PlxuICAgICAgICBQLnNlcU1hcChQLnN0cmluZyhcIiFcIikuYXRNb3N0KDEpLCBxLmxpbmssIChwLCBsKSA9PiB7XG4gICAgICAgICAgICBpZiAocC5sZW5ndGggPiAwKSBsLmVtYmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiBsO1xuICAgICAgICB9KS5kZXNjKFwiZmlsZSBsaW5rXCIpLFxuXG4gICAgLy8gQmluYXJ5IHBsdXMgb3IgbWludXMgb3BlcmF0b3IuXG4gICAgYmluYXJ5UGx1c01pbnVzOiBfID0+XG4gICAgICAgIFAucmVnZXhwKC9cXCt8LS8pXG4gICAgICAgICAgICAubWFwKHN0ciA9PiBzdHIgYXMgQmluYXJ5T3ApXG4gICAgICAgICAgICAuZGVzYyhcIicrJyBvciAnLSdcIiksXG5cbiAgICAvLyBCaW5hcnkgdGltZXMgb3IgZGl2aWRlIG9wZXJhdG9yLlxuICAgIGJpbmFyeU11bERpdjogXyA9PlxuICAgICAgICBQLnJlZ2V4cCgvXFwqfFxcL3wlLylcbiAgICAgICAgICAgIC5tYXAoc3RyID0+IHN0ciBhcyBCaW5hcnlPcClcbiAgICAgICAgICAgIC5kZXNjKFwiJyonIG9yICcvJyBvciAnJSdcIiksXG5cbiAgICAvLyBCaW5hcnkgY29tcGFyaXNvbiBvcGVyYXRvci5cbiAgICBiaW5hcnlDb21wYXJlT3A6IF8gPT5cbiAgICAgICAgUC5yZWdleHAoLz49fDw9fCE9fD58PHw9LylcbiAgICAgICAgICAgIC5tYXAoc3RyID0+IHN0ciBhcyBCaW5hcnlPcClcbiAgICAgICAgICAgIC5kZXNjKFwiJz49JyBvciAnPD0nIG9yICchPScgb3IgJz0nIG9yICc+JyBvciAnPCdcIiksXG5cbiAgICAvLyBCaW5hcnkgYm9vbGVhbiBjb21iaW5hdGlvbiBvcGVyYXRvci5cbiAgICBiaW5hcnlCb29sZWFuT3A6IF8gPT5cbiAgICAgICAgUC5yZWdleHAoL2FuZHxvcnwmfFxcfC9pKVxuICAgICAgICAgICAgLm1hcChzdHIgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChzdHIudG9Mb3dlckNhc2UoKSA9PSBcImFuZFwiKSByZXR1cm4gXCImXCI7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc3RyLnRvTG93ZXJDYXNlKCkgPT0gXCJvclwiKSByZXR1cm4gXCJ8XCI7XG4gICAgICAgICAgICAgICAgZWxzZSByZXR1cm4gc3RyIGFzIEJpbmFyeU9wO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5kZXNjKFwiJ2FuZCcgb3IgJ29yJ1wiKSxcblxuICAgIC8vIEEgZGF0ZSB3aGljaCBjYW4gYmUgWVlZWS1NTVstRERUSEg6bW06c3NdLlxuICAgIHJvb3REYXRlOiBfID0+XG4gICAgICAgIFAuc2VxTWFwKFAucmVnZXhwKC9cXGR7NH0vKSwgUC5zdHJpbmcoXCItXCIpLCBQLnJlZ2V4cCgvXFxkezJ9LyksICh5ZWFyLCBfLCBtb250aCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIERhdGVUaW1lLmZyb21PYmplY3QoeyB5ZWFyOiBOdW1iZXIucGFyc2VJbnQoeWVhciksIG1vbnRoOiBOdW1iZXIucGFyc2VJbnQobW9udGgpIH0pO1xuICAgICAgICB9KS5kZXNjKFwiZGF0ZSBpbiBmb3JtYXQgWVlZWS1NTVstRERUSEgtTU0tU1MuTVNdXCIpLFxuICAgIGRhdGVTaG9ydGhhbmQ6IF8gPT5cbiAgICAgICAgUC5hbHQoXG4gICAgICAgICAgICAuLi5PYmplY3Qua2V5cyhEQVRFX1NIT1JUSEFORFMpXG4gICAgICAgICAgICAgICAgLnNvcnQoKGEsIGIpID0+IGIubGVuZ3RoIC0gYS5sZW5ndGgpXG4gICAgICAgICAgICAgICAgLm1hcChQLnN0cmluZylcbiAgICAgICAgKSBhcyBQLlBhcnNlcjxrZXlvZiB0eXBlb2YgREFURV9TSE9SVEhBTkRTPixcbiAgICBkYXRlOiBxID0+XG4gICAgICAgIGNoYWluT3B0PERhdGVUaW1lPihcbiAgICAgICAgICAgIHEucm9vdERhdGUsXG4gICAgICAgICAgICAoeW06IERhdGVUaW1lKSA9PlxuICAgICAgICAgICAgICAgIFAuc2VxTWFwKFAuc3RyaW5nKFwiLVwiKSwgUC5yZWdleHAoL1xcZHsyfS8pLCAoXywgZGF5KSA9PiB5bS5zZXQoeyBkYXk6IE51bWJlci5wYXJzZUludChkYXkpIH0pKSxcbiAgICAgICAgICAgICh5bWQ6IERhdGVUaW1lKSA9PlxuICAgICAgICAgICAgICAgIFAuc2VxTWFwKFAuc3RyaW5nKFwiVFwiKSwgUC5yZWdleHAoL1xcZHsyfS8pLCAoXywgaG91cikgPT4geW1kLnNldCh7IGhvdXI6IE51bWJlci5wYXJzZUludChob3VyKSB9KSksXG4gICAgICAgICAgICAoeW1kaDogRGF0ZVRpbWUpID0+XG4gICAgICAgICAgICAgICAgUC5zZXFNYXAoUC5zdHJpbmcoXCI6XCIpLCBQLnJlZ2V4cCgvXFxkezJ9LyksIChfLCBtaW51dGUpID0+XG4gICAgICAgICAgICAgICAgICAgIHltZGguc2V0KHsgbWludXRlOiBOdW1iZXIucGFyc2VJbnQobWludXRlKSB9KVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAoeW1kaG06IERhdGVUaW1lKSA9PlxuICAgICAgICAgICAgICAgIFAuc2VxTWFwKFAuc3RyaW5nKFwiOlwiKSwgUC5yZWdleHAoL1xcZHsyfS8pLCAoXywgc2Vjb25kKSA9PlxuICAgICAgICAgICAgICAgICAgICB5bWRobS5zZXQoeyBzZWNvbmQ6IE51bWJlci5wYXJzZUludChzZWNvbmQpIH0pXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICh5bWRobXM6IERhdGVUaW1lKSA9PlxuICAgICAgICAgICAgICAgIFAuYWx0KFxuICAgICAgICAgICAgICAgICAgICBQLnNlcU1hcChQLnN0cmluZyhcIi5cIiksIFAucmVnZXhwKC9cXGR7M30vKSwgKF8sIG1pbGxpc2Vjb25kKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgeW1kaG1zLnNldCh7IG1pbGxpc2Vjb25kOiBOdW1iZXIucGFyc2VJbnQobWlsbGlzZWNvbmQpIH0pXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIFAuc3VjY2VlZCh5bWRobXMpIC8vIHBhc3NcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgKGR0OiBEYXRlVGltZSkgPT5cbiAgICAgICAgICAgICAgICBQLmFsdChcbiAgICAgICAgICAgICAgICAgICAgUC5zZXFNYXAoUC5zdHJpbmcoXCIrXCIpLm9yKFAuc3RyaW5nKFwiLVwiKSksIFAucmVnZXhwKC9cXGR7MSwyfSg6XFxkezJ9KT8vKSwgKHBtLCBocikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgIGR0LnNldFpvbmUoXCJVVENcIiArIHBtICsgaHIsIHsga2VlcExvY2FsVGltZTogdHJ1ZSB9KVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBQLnNlcU1hcChQLnN0cmluZyhcIlpcIiksICgpID0+IGR0LnNldFpvbmUoXCJ1dGNcIiwgeyBrZWVwTG9jYWxUaW1lOiB0cnVlIH0pKSxcbiAgICAgICAgICAgICAgICAgICAgUC5zZXFNYXAoUC5zdHJpbmcoXCJbXCIpLCBQLnJlZ2V4cCgvWzAtOUEtWmEteistXFwvXSsvdSksIFAuc3RyaW5nKFwiXVwiKSwgKF9hLCB6b25lLCBfYikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgIGR0LnNldFpvbmUoem9uZSwgeyBrZWVwTG9jYWxUaW1lOiB0cnVlIH0pXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgICAgICAgIC5hc3NlcnQoKGR0OiBEYXRlVGltZSkgPT4gZHQuaXNWYWxpZCwgXCJ2YWxpZCBkYXRlXCIpXG4gICAgICAgICAgICAuZGVzYyhcImRhdGUgaW4gZm9ybWF0IFlZWVktTU1bLUREVEhILU1NLVNTLk1TXVwiKSxcblxuICAgIC8vIEEgZGF0ZSwgcGx1cyB2YXJpb3VzIHNob3J0aGFuZCB0aW1lcyBvZiBkYXkgaXQgY291bGQgYmUuXG4gICAgZGF0ZVBsdXM6IHEgPT5cbiAgICAgICAgUC5hbHQ8RGF0ZVRpbWU+KFxuICAgICAgICAgICAgcS5kYXRlU2hvcnRoYW5kLm1hcChkID0+IERBVEVfU0hPUlRIQU5EU1tkXSgpKSxcbiAgICAgICAgICAgIHEuZGF0ZVxuICAgICAgICApLmRlc2MoXCJkYXRlIGluIGZvcm1hdCBZWVlZLU1NWy1ERFRISC1NTS1TUy5NU10gb3IgaW4gc2hvcnRoYW5kXCIpLFxuXG4gICAgLy8gQSBkdXJhdGlvbiBvZiB0aW1lLlxuICAgIGR1cmF0aW9uVHlwZTogXyA9PlxuICAgICAgICBQLmFsdChcbiAgICAgICAgICAgIC4uLk9iamVjdC5rZXlzKERVUkFUSU9OX1RZUEVTKVxuICAgICAgICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiBiLmxlbmd0aCAtIGEubGVuZ3RoKVxuICAgICAgICAgICAgICAgIC5tYXAoUC5zdHJpbmcpXG4gICAgICAgICkgYXMgUC5QYXJzZXI8a2V5b2YgdHlwZW9mIERVUkFUSU9OX1RZUEVTPixcbiAgICBkdXJhdGlvbjogcSA9PlxuICAgICAgICBQLnNlcU1hcChxLm51bWJlciwgUC5vcHRXaGl0ZXNwYWNlLCBxLmR1cmF0aW9uVHlwZSwgKGNvdW50LCBfLCB0KSA9PiBEVVJBVElPTl9UWVBFU1t0XS5tYXBVbml0cyh4ID0+IHggKiBjb3VudCkpXG4gICAgICAgICAgICAuc2VwQnkxKFAuc3RyaW5nKFwiLFwiKS50cmltKFAub3B0V2hpdGVzcGFjZSkub3IoUC5vcHRXaGl0ZXNwYWNlKSlcbiAgICAgICAgICAgIC5tYXAoZHVyYXRpb25zID0+IGR1cmF0aW9ucy5yZWR1Y2UoKHAsIGMpID0+IHAucGx1cyhjKSkpXG4gICAgICAgICAgICAuZGVzYyhcImR1cmF0aW9uIGxpa2UgNGhyMm1pblwiKSxcblxuICAgIC8vIEEgcmF3IG51bGwgdmFsdWUuXG4gICAgcmF3TnVsbDogXyA9PiBQLnN0cmluZyhcIm51bGxcIiksXG5cbiAgICAvLyBTb3VyY2UgcGFyc2luZy5cbiAgICB0YWdTb3VyY2U6IHEgPT4gcS50YWcubWFwKHRhZyA9PiBTb3VyY2VzLnRhZyh0YWcpKSxcbiAgICBjc3ZTb3VyY2U6IHEgPT5cbiAgICAgICAgUC5zZXFNYXAoUC5zdHJpbmcoXCJjc3YoXCIpLnNraXAoUC5vcHRXaGl0ZXNwYWNlKSwgcS5zdHJpbmcsIFAuc3RyaW5nKFwiKVwiKSwgKF8xLCBwYXRoLCBfMikgPT4gU291cmNlcy5jc3YocGF0aCkpLFxuICAgIGxpbmtJbmNvbWluZ1NvdXJjZTogcSA9PiBxLmxpbmsubWFwKGxpbmsgPT4gU291cmNlcy5saW5rKGxpbmsucGF0aCwgdHJ1ZSkpLFxuICAgIGxpbmtPdXRnb2luZ1NvdXJjZTogcSA9PlxuICAgICAgICBQLnNlcU1hcChQLnN0cmluZyhcIm91dGdvaW5nKFwiKS5za2lwKFAub3B0V2hpdGVzcGFjZSksIHEubGluaywgUC5zdHJpbmcoXCIpXCIpLCAoXzEsIGxpbmssIF8yKSA9PlxuICAgICAgICAgICAgU291cmNlcy5saW5rKGxpbmsucGF0aCwgZmFsc2UpXG4gICAgICAgICksXG4gICAgZm9sZGVyU291cmNlOiBxID0+IHEuc3RyaW5nLm1hcChzdHIgPT4gU291cmNlcy5mb2xkZXIoc3RyKSksXG4gICAgcGFyZW5zU291cmNlOiBxID0+XG4gICAgICAgIFAuc2VxTWFwKFxuICAgICAgICAgICAgUC5zdHJpbmcoXCIoXCIpLFxuICAgICAgICAgICAgUC5vcHRXaGl0ZXNwYWNlLFxuICAgICAgICAgICAgcS5zb3VyY2UsXG4gICAgICAgICAgICBQLm9wdFdoaXRlc3BhY2UsXG4gICAgICAgICAgICBQLnN0cmluZyhcIilcIiksXG4gICAgICAgICAgICAoXzEsIF8yLCBmaWVsZCwgXzMsIF80KSA9PiBmaWVsZFxuICAgICAgICApLFxuICAgIG5lZ2F0ZVNvdXJjZTogcSA9PlxuICAgICAgICBQLnNlcU1hcChQLmFsdChQLnN0cmluZyhcIi1cIiksIFAuc3RyaW5nKFwiIVwiKSksIHEuYXRvbVNvdXJjZSwgKF8sIHNvdXJjZSkgPT4gU291cmNlcy5uZWdhdGUoc291cmNlKSksXG4gICAgYXRvbVNvdXJjZTogcSA9PlxuICAgICAgICBQLmFsdDxTb3VyY2U+KFxuICAgICAgICAgICAgcS5wYXJlbnNTb3VyY2UsXG4gICAgICAgICAgICBxLm5lZ2F0ZVNvdXJjZSxcbiAgICAgICAgICAgIHEubGlua091dGdvaW5nU291cmNlLFxuICAgICAgICAgICAgcS5saW5rSW5jb21pbmdTb3VyY2UsXG4gICAgICAgICAgICBxLmZvbGRlclNvdXJjZSxcbiAgICAgICAgICAgIHEudGFnU291cmNlLFxuICAgICAgICAgICAgcS5jc3ZTb3VyY2VcbiAgICAgICAgKSxcbiAgICBiaW5hcnlPcFNvdXJjZTogcSA9PlxuICAgICAgICBjcmVhdGVCaW5hcnlQYXJzZXIoXG4gICAgICAgICAgICBxLmF0b21Tb3VyY2UsXG4gICAgICAgICAgICBxLmJpbmFyeUJvb2xlYW5PcC5tYXAocyA9PiBzIGFzIFNvdXJjZU9wKSxcbiAgICAgICAgICAgIFNvdXJjZXMuYmluYXJ5T3BcbiAgICAgICAgKSxcbiAgICBzb3VyY2U6IHEgPT4gcS5iaW5hcnlPcFNvdXJjZSxcblxuICAgIC8vIEZpZWxkIHBhcnNpbmcuXG4gICAgdmFyaWFibGVGaWVsZDogcSA9PlxuICAgICAgICBxLmlkZW50aWZpZXJcbiAgICAgICAgICAgIC5jaGFpbihyID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoS0VZV09SRFMuaW5jbHVkZXMoci50b1VwcGVyQ2FzZSgpKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUC5mYWlsKFwiVmFyaWFibGUgZmllbGRzIGNhbm5vdCBiZSBhIGtleXdvcmQgKFwiICsgS0VZV09SRFMuam9pbihcIiBvciBcIikgKyBcIilcIik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFAuc3VjY2VlZChGaWVsZHMudmFyaWFibGUocikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuZGVzYyhcInZhcmlhYmxlXCIpLFxuICAgIG51bWJlckZpZWxkOiBxID0+IHEubnVtYmVyLm1hcCh2YWwgPT4gRmllbGRzLmxpdGVyYWwodmFsKSkuZGVzYyhcIm51bWJlclwiKSxcbiAgICBzdHJpbmdGaWVsZDogcSA9PiBxLnN0cmluZy5tYXAodmFsID0+IEZpZWxkcy5saXRlcmFsKHZhbCkpLmRlc2MoXCJzdHJpbmdcIiksXG4gICAgYm9vbEZpZWxkOiBxID0+IHEuYm9vbC5tYXAodmFsID0+IEZpZWxkcy5saXRlcmFsKHZhbCkpLmRlc2MoXCJib29sZWFuXCIpLFxuICAgIGRhdGVGaWVsZDogcSA9PlxuICAgICAgICBQLnNlcU1hcChcbiAgICAgICAgICAgIFAuc3RyaW5nKFwiZGF0ZShcIiksXG4gICAgICAgICAgICBQLm9wdFdoaXRlc3BhY2UsXG4gICAgICAgICAgICBxLmRhdGVQbHVzLFxuICAgICAgICAgICAgUC5vcHRXaGl0ZXNwYWNlLFxuICAgICAgICAgICAgUC5zdHJpbmcoXCIpXCIpLFxuICAgICAgICAgICAgKHByZWZpeCwgXzEsIGRhdGUsIF8yLCBwb3N0Zml4KSA9PiBGaWVsZHMubGl0ZXJhbChkYXRlKVxuICAgICAgICApLmRlc2MoXCJkYXRlXCIpLFxuICAgIGR1cmF0aW9uRmllbGQ6IHEgPT5cbiAgICAgICAgUC5zZXFNYXAoXG4gICAgICAgICAgICBQLnN0cmluZyhcImR1cihcIiksXG4gICAgICAgICAgICBQLm9wdFdoaXRlc3BhY2UsXG4gICAgICAgICAgICBxLmR1cmF0aW9uLFxuICAgICAgICAgICAgUC5vcHRXaGl0ZXNwYWNlLFxuICAgICAgICAgICAgUC5zdHJpbmcoXCIpXCIpLFxuICAgICAgICAgICAgKHByZWZpeCwgXzEsIGR1ciwgXzIsIHBvc3RmaXgpID0+IEZpZWxkcy5saXRlcmFsKGR1cilcbiAgICAgICAgKS5kZXNjKFwiZHVyYXRpb25cIiksXG4gICAgbnVsbEZpZWxkOiBxID0+IHEucmF3TnVsbC5tYXAoXyA9PiBGaWVsZHMuTlVMTCksXG4gICAgbGlua0ZpZWxkOiBxID0+IHEubGluay5tYXAoZiA9PiBGaWVsZHMubGl0ZXJhbChmKSksXG4gICAgbGlzdEZpZWxkOiBxID0+XG4gICAgICAgIHEuZmllbGRcbiAgICAgICAgICAgIC5zZXBCeShQLnN0cmluZyhcIixcIikudHJpbShQLm9wdFdoaXRlc3BhY2UpKVxuICAgICAgICAgICAgLndyYXAoUC5zdHJpbmcoXCJbXCIpLnNraXAoUC5vcHRXaGl0ZXNwYWNlKSwgUC5vcHRXaGl0ZXNwYWNlLnRoZW4oUC5zdHJpbmcoXCJdXCIpKSlcbiAgICAgICAgICAgIC5tYXAobCA9PiBGaWVsZHMubGlzdChsKSlcbiAgICAgICAgICAgIC5kZXNjKFwibGlzdCAoJ1sxLCAyLCAzXScpXCIpLFxuICAgIG9iamVjdEZpZWxkOiBxID0+XG4gICAgICAgIFAuc2VxTWFwKHEuaWRlbnRpZmllci5vcihxLnN0cmluZyksIFAuc3RyaW5nKFwiOlwiKS50cmltKFAub3B0V2hpdGVzcGFjZSksIHEuZmllbGQsIChuYW1lLCBfc2VwLCB2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHsgbmFtZSwgdmFsdWUgfTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5zZXBCeShQLnN0cmluZyhcIixcIikudHJpbShQLm9wdFdoaXRlc3BhY2UpKVxuICAgICAgICAgICAgLndyYXAoUC5zdHJpbmcoXCJ7XCIpLnNraXAoUC5vcHRXaGl0ZXNwYWNlKSwgUC5vcHRXaGl0ZXNwYWNlLnRoZW4oUC5zdHJpbmcoXCJ9XCIpKSlcbiAgICAgICAgICAgIC5tYXAodmFscyA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IHJlczogUmVjb3JkPHN0cmluZywgRmllbGQ+ID0ge307XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgZW50cnkgb2YgdmFscykgcmVzW2VudHJ5Lm5hbWVdID0gZW50cnkudmFsdWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEZpZWxkcy5vYmplY3QocmVzKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuZGVzYyhcIm9iamVjdCAoJ3sgYTogMSwgYjogMiB9JylcIiksXG5cbiAgICBhdG9tSW5saW5lRmllbGQ6IHEgPT5cbiAgICAgICAgUC5hbHQoXG4gICAgICAgICAgICBxLmRhdGUsXG4gICAgICAgICAgICBxLmR1cmF0aW9uLm1hcChkID0+IG5vcm1hbGl6ZUR1cmF0aW9uKGQpKSxcbiAgICAgICAgICAgIHEuc3RyaW5nLFxuICAgICAgICAgICAgcS50YWcsXG4gICAgICAgICAgICBxLmVtYmVkTGluayxcbiAgICAgICAgICAgIHEuYm9vbCxcbiAgICAgICAgICAgIHEubnVtYmVyLFxuICAgICAgICAgICAgcS5yYXdOdWxsXG4gICAgICAgICksXG4gICAgaW5saW5lRmllbGRMaXN0OiBxID0+IHEuYXRvbUlubGluZUZpZWxkLnNlcEJ5KFAuc3RyaW5nKFwiLFwiKS50cmltKFAub3B0V2hpdGVzcGFjZSkubG9va2FoZWFkKHEuYXRvbUlubGluZUZpZWxkKSksXG4gICAgaW5saW5lRmllbGQ6IHEgPT5cbiAgICAgICAgUC5hbHQoXG4gICAgICAgICAgICBQLnNlcU1hcChxLmF0b21JbmxpbmVGaWVsZCwgUC5zdHJpbmcoXCIsXCIpLnRyaW0oUC5vcHRXaGl0ZXNwYWNlKSwgcS5pbmxpbmVGaWVsZExpc3QsIChmLCBfcywgbCkgPT5cbiAgICAgICAgICAgICAgICBbZl0uY29uY2F0KGwpXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgcS5hdG9tSW5saW5lRmllbGRcbiAgICAgICAgKSxcblxuICAgIGF0b21GaWVsZDogcSA9PlxuICAgICAgICBQLmFsdChcbiAgICAgICAgICAgIC8vIFBsYWNlIGVtYmVkIGxpbmtzIGFib3ZlIG5lZ2F0ZWQgZmllbGRzIGFzIHRoZXkgYXJlIHRoZSBzcGVjaWFsIHBhcnNlciBjYXNlICchW1t0aGluZ11dJyBhbmQgYXJlIGdlbmVyYWxseSB1bmFtYmlnaW91cy5cbiAgICAgICAgICAgIHEuZW1iZWRMaW5rLm1hcChsID0+IEZpZWxkcy5saXRlcmFsKGwpKSxcbiAgICAgICAgICAgIHEubmVnYXRlZEZpZWxkLFxuICAgICAgICAgICAgcS5saW5rRmllbGQsXG4gICAgICAgICAgICBxLmxpc3RGaWVsZCxcbiAgICAgICAgICAgIHEub2JqZWN0RmllbGQsXG4gICAgICAgICAgICBxLmxhbWJkYUZpZWxkLFxuICAgICAgICAgICAgcS5wYXJlbnNGaWVsZCxcbiAgICAgICAgICAgIHEuYm9vbEZpZWxkLFxuICAgICAgICAgICAgcS5udW1iZXJGaWVsZCxcbiAgICAgICAgICAgIHEuc3RyaW5nRmllbGQsXG4gICAgICAgICAgICBxLmRhdGVGaWVsZCxcbiAgICAgICAgICAgIHEuZHVyYXRpb25GaWVsZCxcbiAgICAgICAgICAgIHEubnVsbEZpZWxkLFxuICAgICAgICAgICAgcS52YXJpYWJsZUZpZWxkXG4gICAgICAgICksXG4gICAgaW5kZXhGaWVsZDogcSA9PlxuICAgICAgICBQLnNlcU1hcChxLmF0b21GaWVsZCwgUC5hbHQocS5kb3RQb3N0Zml4LCBxLmluZGV4UG9zdGZpeCwgcS5mdW5jdGlvblBvc3RmaXgpLm1hbnkoKSwgKG9iaiwgcG9zdGZpeGVzKSA9PiB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gb2JqO1xuICAgICAgICAgICAgZm9yIChsZXQgcG9zdCBvZiBwb3N0Zml4ZXMpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHBvc3QudHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZG90XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBGaWVsZHMuaW5kZXgocmVzdWx0LCBGaWVsZHMubGl0ZXJhbChwb3N0LmZpZWxkKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImluZGV4XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBGaWVsZHMuaW5kZXgocmVzdWx0LCBwb3N0LmZpZWxkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IEZpZWxkcy5mdW5jKHJlc3VsdCwgcG9zdC5maWVsZHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9KSxcbiAgICBuZWdhdGVkRmllbGQ6IHEgPT4gUC5zZXFNYXAoUC5zdHJpbmcoXCIhXCIpLCBxLmluZGV4RmllbGQsIChfLCBmaWVsZCkgPT4gRmllbGRzLm5lZ2F0ZShmaWVsZCkpLmRlc2MoXCJuZWdhdGVkIGZpZWxkXCIpLFxuICAgIHBhcmVuc0ZpZWxkOiBxID0+XG4gICAgICAgIFAuc2VxTWFwKFxuICAgICAgICAgICAgUC5zdHJpbmcoXCIoXCIpLFxuICAgICAgICAgICAgUC5vcHRXaGl0ZXNwYWNlLFxuICAgICAgICAgICAgcS5maWVsZCxcbiAgICAgICAgICAgIFAub3B0V2hpdGVzcGFjZSxcbiAgICAgICAgICAgIFAuc3RyaW5nKFwiKVwiKSxcbiAgICAgICAgICAgIChfMSwgXzIsIGZpZWxkLCBfMywgXzQpID0+IGZpZWxkXG4gICAgICAgICksXG4gICAgbGFtYmRhRmllbGQ6IHEgPT5cbiAgICAgICAgUC5zZXFNYXAoXG4gICAgICAgICAgICBxLmlkZW50aWZpZXJcbiAgICAgICAgICAgICAgICAuc2VwQnkoUC5zdHJpbmcoXCIsXCIpLnRyaW0oUC5vcHRXaGl0ZXNwYWNlKSlcbiAgICAgICAgICAgICAgICAud3JhcChQLnN0cmluZyhcIihcIikudHJpbShQLm9wdFdoaXRlc3BhY2UpLCBQLnN0cmluZyhcIilcIikudHJpbShQLm9wdFdoaXRlc3BhY2UpKSxcbiAgICAgICAgICAgIFAuc3RyaW5nKFwiPT5cIikudHJpbShQLm9wdFdoaXRlc3BhY2UpLFxuICAgICAgICAgICAgcS5maWVsZCxcbiAgICAgICAgICAgIChpZGVudCwgX2lnbm9yZSwgdmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyB0eXBlOiBcImxhbWJkYVwiLCBhcmd1bWVudHM6IGlkZW50LCB2YWx1ZSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICApLFxuXG4gICAgZG90UG9zdGZpeDogcSA9PlxuICAgICAgICBQLnNlcU1hcChQLnN0cmluZyhcIi5cIiksIHEuaWRlbnRpZmllciwgKF8sIGZpZWxkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4geyB0eXBlOiBcImRvdFwiLCBmaWVsZDogZmllbGQgfTtcbiAgICAgICAgfSksXG4gICAgaW5kZXhQb3N0Zml4OiBxID0+XG4gICAgICAgIFAuc2VxTWFwKFAuc3RyaW5nKFwiW1wiKSwgUC5vcHRXaGl0ZXNwYWNlLCBxLmZpZWxkLCBQLm9wdFdoaXRlc3BhY2UsIFAuc3RyaW5nKFwiXVwiKSwgKF8sIF8yLCBmaWVsZCwgXzMsIF80KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4geyB0eXBlOiBcImluZGV4XCIsIGZpZWxkIH07XG4gICAgICAgIH0pLFxuICAgIGZ1bmN0aW9uUG9zdGZpeDogcSA9PlxuICAgICAgICBQLnNlcU1hcChcbiAgICAgICAgICAgIFAuc3RyaW5nKFwiKFwiKSxcbiAgICAgICAgICAgIFAub3B0V2hpdGVzcGFjZSxcbiAgICAgICAgICAgIHEuZmllbGQuc2VwQnkoUC5zdHJpbmcoXCIsXCIpLnRyaW0oUC5vcHRXaGl0ZXNwYWNlKSksXG4gICAgICAgICAgICBQLm9wdFdoaXRlc3BhY2UsXG4gICAgICAgICAgICBQLnN0cmluZyhcIilcIiksXG4gICAgICAgICAgICAoXywgXzEsIGZpZWxkcywgXzIsIF8zKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJmdW5jdGlvblwiLCBmaWVsZHMgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKSxcblxuICAgIC8vIFRoZSBwcmVjZWRlbmNlIGhpZXJhcmNoeSBvZiBvcGVyYXRvcnMgLSBtdWx0aXBseS9kaXZpZGUsIGFkZC9zdWJ0cmFjdCwgY29tcGFyZSwgYW5kIHRoZW4gYm9vbGVhbiBvcGVyYXRpb25zLlxuICAgIGJpbmFyeU11bERpdkZpZWxkOiBxID0+IGNyZWF0ZUJpbmFyeVBhcnNlcihxLmluZGV4RmllbGQsIHEuYmluYXJ5TXVsRGl2LCBGaWVsZHMuYmluYXJ5T3ApLFxuICAgIGJpbmFyeVBsdXNNaW51c0ZpZWxkOiBxID0+IGNyZWF0ZUJpbmFyeVBhcnNlcihxLmJpbmFyeU11bERpdkZpZWxkLCBxLmJpbmFyeVBsdXNNaW51cywgRmllbGRzLmJpbmFyeU9wKSxcbiAgICBiaW5hcnlDb21wYXJlRmllbGQ6IHEgPT4gY3JlYXRlQmluYXJ5UGFyc2VyKHEuYmluYXJ5UGx1c01pbnVzRmllbGQsIHEuYmluYXJ5Q29tcGFyZU9wLCBGaWVsZHMuYmluYXJ5T3ApLFxuICAgIGJpbmFyeUJvb2xlYW5GaWVsZDogcSA9PiBjcmVhdGVCaW5hcnlQYXJzZXIocS5iaW5hcnlDb21wYXJlRmllbGQsIHEuYmluYXJ5Qm9vbGVhbk9wLCBGaWVsZHMuYmluYXJ5T3ApLFxuICAgIGJpbmFyeU9wRmllbGQ6IHEgPT4gcS5iaW5hcnlCb29sZWFuRmllbGQsXG5cbiAgICBmaWVsZDogcSA9PiBxLmJpbmFyeU9wRmllbGQsXG59KTtcblxuLyoqXG4gKiBBdHRlbXB0IHRvIHBhcnNlIGEgZmllbGQgZnJvbSB0aGUgZ2l2ZW4gdGV4dCwgcmV0dXJuaW5nIGEgc3RyaW5nIGVycm9yIGlmIHRoZVxuICogcGFyc2UgZmFpbGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VGaWVsZCh0ZXh0OiBzdHJpbmcpOiBSZXN1bHQ8RmllbGQsIHN0cmluZz4ge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBSZXN1bHQuc3VjY2VzcyhFWFBSRVNTSU9OLmZpZWxkLnRyeVBhcnNlKHRleHQpKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4gUmVzdWx0LmZhaWx1cmUoXCJcIiArIGVycm9yKTtcbiAgICB9XG59XG4iLCAiLyoqIFByb3ZpZGVzIGFuIEFTVCBmb3IgY29tcGxleCBxdWVyaWVzLiAqL1xuaW1wb3J0IHsgU291cmNlIH0gZnJvbSBcImRhdGEtaW5kZXgvc291cmNlXCI7XG5pbXBvcnQgeyBGaWVsZCB9IGZyb20gXCJleHByZXNzaW9uL2ZpZWxkXCI7XG5cbi8qKiBUaGUgc3VwcG9ydGVkIHF1ZXJ5IHR5cGVzIChjb3JyZXNwb25kaW5nIHRvIHZpZXcgdHlwZXMpLiAqL1xuZXhwb3J0IHR5cGUgUXVlcnlUeXBlID0gXCJsaXN0XCIgfCBcInRhYmxlXCIgfCBcInRhc2tcIiB8IFwiY2FsZW5kYXJcIjtcblxuLyoqIEZpZWxkcyB1c2VkIGluIHRoZSBxdWVyeSBwb3J0aW9uLiAqL1xuZXhwb3J0IGludGVyZmFjZSBOYW1lZEZpZWxkIHtcbiAgICAvKiogVGhlIGVmZmVjdGl2ZSBuYW1lIG9mIHRoaXMgZmllbGQuICovXG4gICAgbmFtZTogc3RyaW5nO1xuICAgIC8qKiBUaGUgdmFsdWUgb2YgdGhpcyBmaWVsZC4gKi9cbiAgICBmaWVsZDogRmllbGQ7XG59XG5cbi8qKiBBIHF1ZXJ5IHNvcnQgYnkgZmllbGQsIGZvciBkZXRlcm1pbmluZyBzb3J0IG9yZGVyLiAqL1xuZXhwb3J0IGludGVyZmFjZSBRdWVyeVNvcnRCeSB7XG4gICAgLyoqIFRoZSBmaWVsZCB0byBzb3J0IG9uLiAqL1xuICAgIGZpZWxkOiBGaWVsZDtcbiAgICAvKiogVGhlIGRpcmVjdGlvbiB0byBzb3J0IGluLiAqL1xuICAgIGRpcmVjdGlvbjogXCJhc2NlbmRpbmdcIiB8IFwiZGVzY2VuZGluZ1wiO1xufVxuXG4vKiogVXRpbGl0eSBmdW5jdGlvbnMgZm9yIHF1aWNrbHkgY3JlYXRpbmcgZmllbGRzLiAqL1xuZXhwb3J0IG5hbWVzcGFjZSBRdWVyeUZpZWxkcyB7XG4gICAgZXhwb3J0IGZ1bmN0aW9uIG5hbWVkKG5hbWU6IHN0cmluZywgZmllbGQ6IEZpZWxkKTogTmFtZWRGaWVsZCB7XG4gICAgICAgIHJldHVybiB7IG5hbWUsIGZpZWxkIH0gYXMgTmFtZWRGaWVsZDtcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gc29ydEJ5KGZpZWxkOiBGaWVsZCwgZGlyOiBcImFzY2VuZGluZ1wiIHwgXCJkZXNjZW5kaW5nXCIpOiBRdWVyeVNvcnRCeSB7XG4gICAgICAgIHJldHVybiB7IGZpZWxkLCBkaXJlY3Rpb246IGRpciB9O1xuICAgIH1cbn1cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gUXVlcnkgRGVmaW5pdGlvbiAvL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vKiogQSBxdWVyeSB3aGljaCBzaG91bGQgcmVuZGVyIGEgbGlzdCBvZiBlbGVtZW50cy4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTGlzdFF1ZXJ5IHtcbiAgICB0eXBlOiBcImxpc3RcIjtcbiAgICAvKiogV2hhdCBzaG91bGQgYmUgcmVuZGVyZWQgaW4gdGhlIGxpc3QuICovXG4gICAgZm9ybWF0PzogRmllbGQ7XG4gICAgLyoqIElmIHRydWUsIHNob3cgdGhlIGRlZmF1bHQgREkgZmllbGQ7IG90aGVyd2lzZSwgZG9uJ3QuICovXG4gICAgc2hvd0lkOiBib29sZWFuO1xufVxuXG4vKiogQSBxdWVyeSB3aGljaCByZW5kZXJzIGEgdGFibGUgb2YgZWxlbWVudHMuICovXG5leHBvcnQgaW50ZXJmYWNlIFRhYmxlUXVlcnkge1xuICAgIHR5cGU6IFwidGFibGVcIjtcbiAgICAvKiogVGhlIGZpZWxkcyAoY29tcHV0ZWQgb3Igb3RoZXJ3aXNlKSB0byBzZWxlY3QuICovXG4gICAgZmllbGRzOiBOYW1lZEZpZWxkW107XG4gICAgLyoqIElmIHRydWUsIHNob3cgdGhlIGRlZmF1bHQgSUQgZmllbGQ7IG90aGVyd2lzZSwgZG9uJ3QuICovXG4gICAgc2hvd0lkOiBib29sZWFuO1xufVxuXG4vKiogQSBxdWVyeSB3aGljaCByZW5kZXJzIGEgY29sbGVjdGlvbiBvZiB0YXNrcy4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVGFza1F1ZXJ5IHtcbiAgICB0eXBlOiBcInRhc2tcIjtcbn1cblxuLyoqIEEgcXVlcnkgd2hpY2ggcmVuZGVycyBhIGNvbGxlY3Rpb24gb2Ygbm90ZXMgaW4gYSBjYWxlbmRhciB2aWV3LiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxlbmRhclF1ZXJ5IHtcbiAgICB0eXBlOiBcImNhbGVuZGFyXCI7XG4gICAgLyoqIFRoZSBkYXRlIGZpZWxkIHRoYXQgd2UnbGwgYmUgZ3JvdXBpbmcgbm90ZXMgYnkgZm9yIHRoZSBjYWxlbmRhciB2aWV3ICovXG4gICAgZmllbGQ6IE5hbWVkRmllbGQ7XG59XG5cbmV4cG9ydCB0eXBlIFF1ZXJ5SGVhZGVyID0gTGlzdFF1ZXJ5IHwgVGFibGVRdWVyeSB8IFRhc2tRdWVyeSB8IENhbGVuZGFyUXVlcnk7XG5cbi8qKiBBIHN0ZXAgd2hpY2ggb25seSByZXRhaW5zIHJvd3Mgd2hvc2UgJ2NsYXVzZScgZmllbGQgaXMgdHJ1dGh5LiAqL1xuZXhwb3J0IGludGVyZmFjZSBXaGVyZVN0ZXAge1xuICAgIHR5cGU6IFwid2hlcmVcIjtcbiAgICBjbGF1c2U6IEZpZWxkO1xufVxuXG4vKiogQSBzdGVwIHdoaWNoIHNvcnRzIGFsbCBjdXJyZW50IHJvd3MgYnkgdGhlIGdpdmVuIGxpc3Qgb2Ygc29ydHMuICovXG5leHBvcnQgaW50ZXJmYWNlIFNvcnRCeVN0ZXAge1xuICAgIHR5cGU6IFwic29ydFwiO1xuICAgIGZpZWxkczogUXVlcnlTb3J0QnlbXTtcbn1cblxuLyoqIEEgc3RlcCB3aGljaCB0cnVuY2F0ZXMgdGhlIG51bWJlciBvZiByb3dzIHRvIHRoZSBnaXZlbiBhbW91bnQuICovXG5leHBvcnQgaW50ZXJmYWNlIExpbWl0U3RlcCB7XG4gICAgdHlwZTogXCJsaW1pdFwiO1xuICAgIGFtb3VudDogRmllbGQ7XG59XG5cbi8qKiBBIHN0ZXAgd2hpY2ggZmxhdHRlbnMgcm93cyBpbnRvIG11bHRpcGxlIGNoaWxkIHJvd3MuICovXG5leHBvcnQgaW50ZXJmYWNlIEZsYXR0ZW5TdGVwIHtcbiAgICB0eXBlOiBcImZsYXR0ZW5cIjtcbiAgICBmaWVsZDogTmFtZWRGaWVsZDtcbn1cblxuLyoqIEEgc3RlcCB3aGljaCBncm91cHMgcm93cyBpbnRvIGdyb3VwcyBieSB0aGUgZ2l2ZW4gZmllbGQuICovXG5leHBvcnQgaW50ZXJmYWNlIEdyb3VwU3RlcCB7XG4gICAgdHlwZTogXCJncm91cFwiO1xuICAgIGZpZWxkOiBOYW1lZEZpZWxkO1xufVxuXG4vKiogQSB2aXJ0dWFsIHN0ZXAgd2hpY2ggZXh0cmFjdHMgYW4gYXJyYXkgb2YgdmFsdWVzIGZyb20gZWFjaCByb3cuICovXG5leHBvcnQgaW50ZXJmYWNlIEV4dHJhY3RTdGVwIHtcbiAgICB0eXBlOiBcImV4dHJhY3RcIjtcbiAgICBmaWVsZHM6IFJlY29yZDxzdHJpbmcsIEZpZWxkPjtcbn1cblxuZXhwb3J0IHR5cGUgUXVlcnlPcGVyYXRpb24gPSBXaGVyZVN0ZXAgfCBTb3J0QnlTdGVwIHwgTGltaXRTdGVwIHwgRmxhdHRlblN0ZXAgfCBHcm91cFN0ZXAgfCBFeHRyYWN0U3RlcDtcblxuLyoqXG4gKiBBIHF1ZXJ5IG92ZXIgdGhlIE9ic2lkaWFuIGRhdGFiYXNlLiBRdWVyaWVzIGhhdmUgYSBzcGVjaWZpYyBhbmQgZGV0ZXJtaW5pc3RpYyBleGVjdXRpb24gb3JkZXI6XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUXVlcnkge1xuICAgIC8qKiBUaGUgdmlldyB0eXBlIHRvIHJlbmRlciB0aGlzIHF1ZXJ5IGluLiAqL1xuICAgIGhlYWRlcjogUXVlcnlIZWFkZXI7XG4gICAgLyoqIFRoZSBzb3VyY2UgdGhhdCBmaWxlIGNhbmRpZGF0ZXMgd2lsbCBjb21lIGZyb20uICovXG4gICAgc291cmNlOiBTb3VyY2U7XG4gICAgLyoqIFRoZSBvcGVyYXRpb25zIHRvIGFwcGx5IHRvIHRoZSBkYXRhIHRvIHByb2R1Y2UgdGhlIGZpbmFsIHJlc3VsdCB0aGF0IHdpbGwgYmUgcmVuZGVyZWQuICovXG4gICAgb3BlcmF0aW9uczogUXVlcnlPcGVyYXRpb25bXTtcbn1cbiIsICJpbXBvcnQgeyBFWFBSRVNTSU9OIH0gZnJvbSBcImV4cHJlc3Npb24vcGFyc2VcIjtcbmltcG9ydCAqIGFzIFAgZnJvbSBcInBhcnNpbW1vblwiO1xuaW1wb3J0IHtcbiAgICBGbGF0dGVuU3RlcCxcbiAgICBHcm91cFN0ZXAsXG4gICAgTGltaXRTdGVwLFxuICAgIE5hbWVkRmllbGQsXG4gICAgUXVlcnksXG4gICAgUXVlcnlGaWVsZHMsXG4gICAgUXVlcnlIZWFkZXIsXG4gICAgUXVlcnlPcGVyYXRpb24sXG4gICAgUXVlcnlTb3J0QnksXG4gICAgUXVlcnlUeXBlLFxuICAgIFNvcnRCeVN0ZXAsXG4gICAgV2hlcmVTdGVwLFxufSBmcm9tIFwiLi9xdWVyeVwiO1xuaW1wb3J0IHsgU291cmNlLCBTb3VyY2VzIH0gZnJvbSBcImRhdGEtaW5kZXgvc291cmNlXCI7XG5pbXBvcnQgeyBERUZBVUxUX1FVRVJZX1NFVFRJTkdTIH0gZnJvbSBcInNldHRpbmdzXCI7XG5pbXBvcnQgeyBSZXN1bHQgfSBmcm9tIFwiYXBpL3Jlc3VsdFwiO1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBRdWVyeSBQYXJzaW5nIC8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8qKiBUeXBpbmdzIGZvciB0aGUgb3V0cHV0cyBvZiBhbGwgb2YgdGhlIHBhcnNlciBjb21iaW5hdG9ycy4gKi9cbmludGVyZmFjZSBRdWVyeUxhbmd1YWdlVHlwZXMge1xuICAgIHF1ZXJ5VHlwZTogUXVlcnlUeXBlO1xuXG4gICAgZXhwbGljaXROYW1lZEZpZWxkOiBOYW1lZEZpZWxkO1xuICAgIG5hbWVkRmllbGQ6IE5hbWVkRmllbGQ7XG4gICAgc29ydEZpZWxkOiBRdWVyeVNvcnRCeTtcblxuICAgIC8vIEVudGlyZSBjbGF1c2VzIGluIHF1ZXJpZXMuXG4gICAgaGVhZGVyQ2xhdXNlOiBRdWVyeUhlYWRlcjtcbiAgICBmcm9tQ2xhdXNlOiBTb3VyY2U7XG4gICAgd2hlcmVDbGF1c2U6IFdoZXJlU3RlcDtcbiAgICBzb3J0QnlDbGF1c2U6IFNvcnRCeVN0ZXA7XG4gICAgbGltaXRDbGF1c2U6IExpbWl0U3RlcDtcbiAgICBmbGF0dGVuQ2xhdXNlOiBGbGF0dGVuU3RlcDtcbiAgICBncm91cEJ5Q2xhdXNlOiBHcm91cFN0ZXA7XG4gICAgY2xhdXNlOiBRdWVyeU9wZXJhdGlvbjtcbiAgICBxdWVyeTogUXVlcnk7XG59XG5cbi8qKiBSZXR1cm4gYSBuZXcgcGFyc2VyIHdoaWNoIGV4ZWN1dGVzIHRoZSB1bmRlcmx5aW5nIHBhcnNlciBhbmQgcmV0dXJucyBpdCdzIHJhdyBzdHJpbmcgcmVwcmVzZW50YXRpb24uICovXG5leHBvcnQgZnVuY3Rpb24gY2FwdHVyZVJhdzxUPihiYXNlOiBQLlBhcnNlcjxUPik6IFAuUGFyc2VyPFtULCBzdHJpbmddPiB7XG4gICAgcmV0dXJuIFAuY3VzdG9tKChzdWNjZXNzLCBmYWlsdXJlKSA9PiB7XG4gICAgICAgIHJldHVybiAoaW5wdXQsIGkpID0+IHtcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSAoYmFzZSBhcyBhbnkpLl8oaW5wdXQsIGkpO1xuICAgICAgICAgICAgaWYgKCFyZXN1bHQuc3RhdHVzKSByZXR1cm4gcmVzdWx0O1xuXG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcmVzdWx0LCB7IHZhbHVlOiBbcmVzdWx0LnZhbHVlLCBpbnB1dC5zdWJzdHJpbmcoaSwgcmVzdWx0LmluZGV4KV0gfSk7XG4gICAgICAgIH07XG4gICAgfSk7XG59XG5cbi8qKiBTdHJpcCBuZXdsaW5lcyBhbmQgZXhjZXNzIHdoaXRlc3BhY2Ugb3V0IG9mIHRleHQuICovXG5mdW5jdGlvbiBzdHJpcE5ld2xpbmVzKHRleHQ6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRleHRcbiAgICAgICAgLnNwbGl0KC9bXFxyXFxuXSsvKVxuICAgICAgICAubWFwKHQgPT4gdC50cmltKCkpXG4gICAgICAgIC5qb2luKFwiXCIpO1xufVxuXG4vKiogQSBwYXJzaW1tb24tcG93ZXJlZCBwYXJzZXItY29tYmluYXRvciBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgcXVlcnkgbGFuZ3VhZ2UuICovXG5leHBvcnQgY29uc3QgUVVFUllfTEFOR1VBR0UgPSBQLmNyZWF0ZUxhbmd1YWdlPFF1ZXJ5TGFuZ3VhZ2VUeXBlcz4oe1xuICAgIC8vIFNpbXBsZSBhdG9tIHBhcnNpbmcsIGxpa2Ugd29yZHMsIGlkZW50aWZpZXJzLCBudW1iZXJzLlxuICAgIHF1ZXJ5VHlwZTogcSA9PlxuICAgICAgICBQLmFsdDxzdHJpbmc+KFAucmVnZXhwKC9UQUJMRXxMSVNUfFRBU0t8Q0FMRU5EQVIvaSkpXG4gICAgICAgICAgICAubWFwKHN0ciA9PiBzdHIudG9Mb3dlckNhc2UoKSBhcyBRdWVyeVR5cGUpXG4gICAgICAgICAgICAuZGVzYyhcInF1ZXJ5IHR5cGUgKCdUQUJMRScsICdMSVNUJywgJ1RBU0snLCBvciAnQ0FMRU5EQVInKVwiKSxcbiAgICBleHBsaWNpdE5hbWVkRmllbGQ6IHEgPT5cbiAgICAgICAgUC5zZXFNYXAoXG4gICAgICAgICAgICBFWFBSRVNTSU9OLmZpZWxkLnNraXAoUC53aGl0ZXNwYWNlKSxcbiAgICAgICAgICAgIFAucmVnZXhwKC9BUy9pKS5za2lwKFAud2hpdGVzcGFjZSksXG4gICAgICAgICAgICBFWFBSRVNTSU9OLmlkZW50aWZpZXIub3IoRVhQUkVTU0lPTi5zdHJpbmcpLFxuICAgICAgICAgICAgKGZpZWxkLCBfYXMsIGlkZW50KSA9PiBRdWVyeUZpZWxkcy5uYW1lZChpZGVudCwgZmllbGQpXG4gICAgICAgICksXG4gICAgbmFtZWRGaWVsZDogcSA9PlxuICAgICAgICBQLmFsdDxOYW1lZEZpZWxkPihcbiAgICAgICAgICAgIHEuZXhwbGljaXROYW1lZEZpZWxkLFxuICAgICAgICAgICAgY2FwdHVyZVJhdyhFWFBSRVNTSU9OLmZpZWxkKS5tYXAoKFt2YWx1ZSwgdGV4dF0pID0+IFF1ZXJ5RmllbGRzLm5hbWVkKHN0cmlwTmV3bGluZXModGV4dCksIHZhbHVlKSlcbiAgICAgICAgKSxcbiAgICBzb3J0RmllbGQ6IHEgPT5cbiAgICAgICAgUC5zZXFNYXAoXG4gICAgICAgICAgICBFWFBSRVNTSU9OLmZpZWxkLnNraXAoUC5vcHRXaGl0ZXNwYWNlKSxcbiAgICAgICAgICAgIFAucmVnZXhwKC9BU0NFTkRJTkd8REVTQ0VORElOR3xBU0N8REVTQy9pKS5hdE1vc3QoMSksXG4gICAgICAgICAgICAoZmllbGQsIGRpcikgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBkaXJlY3Rpb24gPSBkaXIubGVuZ3RoID09IDAgPyBcImFzY2VuZGluZ1wiIDogZGlyWzBdLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PSBcImRlc2NcIikgZGlyZWN0aW9uID0gXCJkZXNjZW5kaW5nXCI7XG4gICAgICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PSBcImFzY1wiKSBkaXJlY3Rpb24gPSBcImFzY2VuZGluZ1wiO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGZpZWxkOiBmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uOiBkaXJlY3Rpb24gYXMgXCJhc2NlbmRpbmdcIiB8IFwiZGVzY2VuZGluZ1wiLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICksXG5cbiAgICBoZWFkZXJDbGF1c2U6IHEgPT5cbiAgICAgICAgcS5xdWVyeVR5cGVcbiAgICAgICAgICAgIC5za2lwKFAud2hpdGVzcGFjZSlcbiAgICAgICAgICAgIC5jaGFpbihxdHlwZSA9PiB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChxdHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidGFibGVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBQLnNlcU1hcChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQLnJlZ2V4cCgvV0lUSE9VVFxccytJRC9pKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc2tpcChQLm9wdFdoaXRlc3BhY2UpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdE1vc3QoMSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUC5zZXBCeShxLm5hbWVkRmllbGQsIFAuc3RyaW5nKFwiLFwiKS50cmltKFAub3B0V2hpdGVzcGFjZSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICh3aXRob3V0SWQsIGZpZWxkcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB0eXBlOiBcInRhYmxlXCIsIGZpZWxkcywgc2hvd0lkOiB3aXRob3V0SWQubGVuZ3RoID09IDAgfSBhcyBRdWVyeUhlYWRlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibGlzdFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFAuc2VxTWFwKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFAucmVnZXhwKC9XSVRIT1VUXFxzK0lEL2kpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5za2lwKFAub3B0V2hpdGVzcGFjZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0TW9zdCgxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBFWFBSRVNTSU9OLmZpZWxkLmF0TW9zdCgxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAod2l0aG91dElkLCBmb3JtYXQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwibGlzdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiBmb3JtYXQubGVuZ3RoID09IDEgPyBmb3JtYXRbMF0gOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93SWQ6IHdpdGhvdXRJZC5sZW5ndGggPT0gMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBhcyBRdWVyeUhlYWRlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidGFza1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFAuc3VjY2VlZCh7IHR5cGU6IFwidGFza1wiIH0gYXMgUXVlcnlIZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY2FsZW5kYXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBQLnNlcU1hcChxLm5hbWVkRmllbGQsIGZpZWxkID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImNhbGVuZGFyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dJZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBhcyBRdWVyeUhlYWRlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFAuZmFpbChgVW5yZWNvZ25pemVkIHF1ZXJ5IHR5cGUgJyR7cXR5cGV9J2ApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuZGVzYyhcIlRBQkxFIG9yIExJU1Qgb3IgVEFTSyBvciBDQUxFTkRBUlwiKSxcbiAgICBmcm9tQ2xhdXNlOiBxID0+IFAuc2VxTWFwKFAucmVnZXhwKC9GUk9NL2kpLCBQLndoaXRlc3BhY2UsIEVYUFJFU1NJT04uc291cmNlLCAoXzEsIF8yLCBzb3VyY2UpID0+IHNvdXJjZSksXG4gICAgd2hlcmVDbGF1c2U6IHEgPT5cbiAgICAgICAgUC5zZXFNYXAoUC5yZWdleHAoL1dIRVJFL2kpLCBQLndoaXRlc3BhY2UsIEVYUFJFU1NJT04uZmllbGQsICh3aGVyZSwgXywgZmllbGQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IFwid2hlcmVcIiwgY2xhdXNlOiBmaWVsZCB9IGFzIFdoZXJlU3RlcDtcbiAgICAgICAgfSkuZGVzYyhcIldIRVJFIDxleHByZXNzaW9uPlwiKSxcbiAgICBzb3J0QnlDbGF1c2U6IHEgPT5cbiAgICAgICAgUC5zZXFNYXAoXG4gICAgICAgICAgICBQLnJlZ2V4cCgvU09SVC9pKSxcbiAgICAgICAgICAgIFAud2hpdGVzcGFjZSxcbiAgICAgICAgICAgIHEuc29ydEZpZWxkLnNlcEJ5MShQLnN0cmluZyhcIixcIikudHJpbShQLm9wdFdoaXRlc3BhY2UpKSxcbiAgICAgICAgICAgIChzb3J0LCBfMSwgZmllbGRzKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJzb3J0XCIsIGZpZWxkcyB9IGFzIFNvcnRCeVN0ZXA7XG4gICAgICAgICAgICB9XG4gICAgICAgICkuZGVzYyhcIlNPUlQgZmllbGQgW0FTQy9ERVNDXVwiKSxcbiAgICBsaW1pdENsYXVzZTogcSA9PlxuICAgICAgICBQLnNlcU1hcChQLnJlZ2V4cCgvTElNSVQvaSksIFAud2hpdGVzcGFjZSwgRVhQUkVTU0lPTi5maWVsZCwgKGxpbWl0LCBfMSwgZmllbGQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IFwibGltaXRcIiwgYW1vdW50OiBmaWVsZCB9IGFzIExpbWl0U3RlcDtcbiAgICAgICAgfSkuZGVzYyhcIkxJTUlUIDx2YWx1ZT5cIiksXG4gICAgZmxhdHRlbkNsYXVzZTogcSA9PlxuICAgICAgICBQLnNlcU1hcChQLnJlZ2V4cCgvRkxBVFRFTi9pKS5za2lwKFAud2hpdGVzcGFjZSksIHEubmFtZWRGaWVsZCwgKF8sIGZpZWxkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4geyB0eXBlOiBcImZsYXR0ZW5cIiwgZmllbGQgfSBhcyBGbGF0dGVuU3RlcDtcbiAgICAgICAgfSkuZGVzYyhcIkZMQVRURU4gPHZhbHVlPiBbQVMgPG5hbWU+XVwiKSxcbiAgICBncm91cEJ5Q2xhdXNlOiBxID0+XG4gICAgICAgIFAuc2VxTWFwKFAucmVnZXhwKC9HUk9VUCBCWS9pKS5za2lwKFAud2hpdGVzcGFjZSksIHEubmFtZWRGaWVsZCwgKF8sIGZpZWxkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4geyB0eXBlOiBcImdyb3VwXCIsIGZpZWxkIH0gYXMgR3JvdXBTdGVwO1xuICAgICAgICB9KS5kZXNjKFwiR1JPVVAgQlkgPHZhbHVlPiBbQVMgPG5hbWU+XVwiKSxcbiAgICAvLyBGdWxsIHF1ZXJ5IHBhcnNpbmcuXG4gICAgY2xhdXNlOiBxID0+IFAuYWx0KHEuZnJvbUNsYXVzZSwgcS53aGVyZUNsYXVzZSwgcS5zb3J0QnlDbGF1c2UsIHEubGltaXRDbGF1c2UsIHEuZ3JvdXBCeUNsYXVzZSwgcS5mbGF0dGVuQ2xhdXNlKSxcbiAgICBxdWVyeTogcSA9PlxuICAgICAgICBQLnNlcU1hcChcbiAgICAgICAgICAgIHEuaGVhZGVyQ2xhdXNlLnRyaW0oUC5vcHRXaGl0ZXNwYWNlKSxcbiAgICAgICAgICAgIHEuZnJvbUNsYXVzZS50cmltKFAub3B0V2hpdGVzcGFjZSkuYXRNb3N0KDEpLFxuICAgICAgICAgICAgcS5jbGF1c2UudHJpbShQLm9wdFdoaXRlc3BhY2UpLm1hbnkoKSxcbiAgICAgICAgICAgIChoZWFkZXIsIGZyb20sIGNsYXVzZXMpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXIsXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZTogZnJvbS5sZW5ndGggPT0gMCA/IFNvdXJjZXMuZm9sZGVyKFwiXCIpIDogZnJvbVswXSxcbiAgICAgICAgICAgICAgICAgICAgb3BlcmF0aW9uczogY2xhdXNlcyxcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3M6IERFRkFVTFRfUVVFUllfU0VUVElOR1MsXG4gICAgICAgICAgICAgICAgfSBhcyBRdWVyeTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKSxcbn0pO1xuXG4vKipcbiAqIEF0dGVtcHQgdG8gcGFyc2UgYSBxdWVyeSBmcm9tIHRoZSBnaXZlbiBxdWVyeSB0ZXh0LCByZXR1cm5pbmcgYSBzdHJpbmcgZXJyb3JcbiAqIGlmIHRoZSBwYXJzZSBmYWlsZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVF1ZXJ5KHRleHQ6IHN0cmluZyk6IFJlc3VsdDxRdWVyeSwgc3RyaW5nPiB7XG4gICAgdHJ5IHtcbiAgICAgICAgbGV0IHF1ZXJ5ID0gUVVFUllfTEFOR1VBR0UucXVlcnkudHJ5UGFyc2UodGV4dCk7XG4gICAgICAgIHJldHVybiBSZXN1bHQuc3VjY2VzcyhxdWVyeSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIFJlc3VsdC5mYWlsdXJlKFwiXCIgKyBlcnJvcik7XG4gICAgfVxufVxuIiwgIi8vIEJhc2ljIEFQSSB0eXBlLlxuZXhwb3J0IHR5cGUgeyBEYXRhdmlld0FwaSB9IGZyb20gXCJhcGkvcGx1Z2luLWFwaVwiO1xuXG4vLyBDb3JlIERhdGF2aWV3IHR5cGVzLlxuZXhwb3J0IHR5cGUgeyBEYXRlVGltZSwgRHVyYXRpb24gfSBmcm9tIFwibHV4b25cIjtcbmV4cG9ydCB0eXBlIHtcbiAgICBMaW5rLFxuICAgIERhdGFPYmplY3QsXG4gICAgTGl0ZXJhbFR5cGUsXG4gICAgTGl0ZXJhbCxcbiAgICBMaXRlcmFsUmVwcixcbiAgICBXcmFwcGVkTGl0ZXJhbCxcbiAgICBMaXRlcmFsV3JhcHBlcixcbiAgICBXaWRnZXQsXG59IGZyb20gXCJkYXRhLW1vZGVsL3ZhbHVlXCI7XG5cbmV4cG9ydCB0eXBlIHsgUmVzdWx0LCBTdWNjZXNzLCBGYWlsdXJlIH0gZnJvbSBcImFwaS9yZXN1bHRcIjtcbmV4cG9ydCB0eXBlIHsgRGF0YUFycmF5IH0gZnJvbSBcImFwaS9kYXRhLWFycmF5XCI7XG5cbi8vIERhdGF2aWV3IEluZGV4LlxuZXhwb3J0IHR5cGUgeyBMaXN0SXRlbSwgUGFnZU1ldGFkYXRhIH0gZnJvbSBcImRhdGEtbW9kZWwvbWFya2Rvd25cIjtcbmV4cG9ydCB0eXBlIHsgRnVsbEluZGV4LCBQcmVmaXhJbmRleCwgSW5kZXhNYXAgfSBmcm9tIFwiZGF0YS1pbmRleC9pbmRleFwiO1xuXG4vLyBTZXJpYWxpemVkIHR5cGVzIHdoaWNoIGRlc2NyaWJlIGFsbCBvdXRwdXRzIG9mIHNlcmlhbGl6YXRpb24uXG5leHBvcnQgdHlwZSB7IFNNYXJrZG93blBhZ2UsIFNMaXN0RW50cnksIFNUYXNrIH0gZnJvbSBcImRhdGEtbW9kZWwvc2VyaWFsaXplZC9tYXJrZG93blwiO1xuXG4vLyBVc2VmdWwgdXRpbGl0aWVzIGZvciBkaXJlY3RseSB1c2luZyBkYXRhdmlldyBwYXJzZXJzLlxuZXhwb3J0IHsgRFVSQVRJT05fVFlQRVMsIERBVEVfU0hPUlRIQU5EUywgS0VZV09SRFMsIEV4cHJlc3Npb25MYW5ndWFnZSwgRVhQUkVTU0lPTiwgcGFyc2VGaWVsZCB9IGZyb20gXCJleHByZXNzaW9uL3BhcnNlXCI7XG5leHBvcnQgeyBRVUVSWV9MQU5HVUFHRSB9IGZyb20gXCJxdWVyeS9wYXJzZVwiO1xuZXhwb3J0IHsgUXVlcnkgfSBmcm9tIFwicXVlcnkvcXVlcnlcIjtcblxuLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIEltcGxlbWVudGF0aW9uIC8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5pbXBvcnQgdHlwZSB7IERhdGF2aWV3QXBpIH0gZnJvbSBcImFwaS9wbHVnaW4tYXBpXCI7XG5cbmltcG9ydCBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgdHlwZSB7IEFwcCB9IGZyb20gXCJvYnNpZGlhblwiO1xuXG4vLyBVdGlsaXR5IGZ1bmN0aW9ucy5cbi8qKlxuICogR2V0IHRoZSBjdXJyZW50IERhdGF2aWV3IEFQSSBmcm9tIHRoZSBhcHAgaWYgcHJvdmlkZWQ7IGlmIG5vdCwgaXQgaXMgaW5mZXJyZWQgZnJvbSB0aGUgZ2xvYmFsIEFQSSBvYmplY3QgaW5zdGFsbGVkXG4gKiBvbiB0aGUgd2luZG93LlxuICovXG5leHBvcnQgY29uc3QgZ2V0QVBJID0gKGFwcD86IEFwcCk6IERhdGF2aWV3QXBpIHwgdW5kZWZpbmVkID0+IHtcbiAgICBpZiAoYXBwKSByZXR1cm4gYXBwLnBsdWdpbnMucGx1Z2lucy5kYXRhdmlldz8uYXBpO1xuICAgIGVsc2UgcmV0dXJuIHdpbmRvdy5EYXRhdmlld0FQSTtcbn07XG5cbi8qKiBEZXRlcm1pbmUgaWYgRGF0YXZpZXcgaXMgZW5hYmxlZCBpbiB0aGUgZ2l2ZW4gYXBwbGljYXRpb24uICovXG5leHBvcnQgY29uc3QgaXNQbHVnaW5FbmFibGVkID0gKGFwcDogQXBwKSA9PiBhcHAucGx1Z2lucy5lbmFibGVkUGx1Z2lucy5oYXMoXCJkYXRhdmlld1wiKTtcbiIsICJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuT1BEVHJhdmVyc2FsRXJyb3IgPSBleHBvcnRzLnZhbGlkYXRlUGF0aCA9IGV4cG9ydHMucGFyc2VQYXRoID0gZXhwb3J0cy50cmF2ZXJzZU9iamVjdEJ5UGF0aCA9IGV4cG9ydHMudHJhdmVyc2VPYmplY3RUb1BhcmVudCA9IGV4cG9ydHMudHJhdmVyc2VPYmplY3QgPSB2b2lkIDA7XG5mdW5jdGlvbiB0cmF2ZXJzZU9iamVjdChwYXRoLCBvKSB7XG4gICAgbGV0IHBhdGhQYXJ0cyA9IHBhcnNlUGF0aChwYXRoKTtcbiAgICByZXR1cm4gdHJhdmVyc2VPYmplY3RCeVBhdGgocGF0aFBhcnRzLCBvKTtcbn1cbmV4cG9ydHMudHJhdmVyc2VPYmplY3QgPSB0cmF2ZXJzZU9iamVjdDtcbmZ1bmN0aW9uIHRyYXZlcnNlT2JqZWN0VG9QYXJlbnQocGF0aCwgbykge1xuICAgIHZhciBfYTtcbiAgICBsZXQgcGF0aFBhcnRzID0gcGFyc2VQYXRoKHBhdGgpO1xuICAgIGlmIChwYXRoUGFydHNbMF0gPT09ICcnKSB7XG4gICAgICAgIHRocm93IG5ldyBPUERUcmF2ZXJzYWxFcnJvcignY2FuIG5vdCB0cmF2ZXJzZSB0byBwYXJlbnQgb24gc2VsZiByZWZlcmVuY2UnKTtcbiAgICB9XG4gICAgbGV0IHBhcmVudFBhdGggPSBwYXRoUGFydHMuc2xpY2UoMCwgLTEpO1xuICAgIGxldCBjaGlsZEtleSA9IChfYSA9IHBhdGhQYXJ0cy5hdCgtMSkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICcnO1xuICAgIGxldCBwYXJlbnRPYmplY3QgPSB0cmF2ZXJzZU9iamVjdEJ5UGF0aChwYXJlbnRQYXRoLCBvKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBwYXJlbnQ6IHsga2V5OiBwYXJlbnRQYXRoLCB2YWx1ZTogcGFyZW50T2JqZWN0IH0sXG4gICAgICAgIGNoaWxkOiB7IGtleTogY2hpbGRLZXksIHZhbHVlOiBwYXJlbnRPYmplY3RbY2hpbGRLZXldIH0sXG4gICAgfTtcbn1cbmV4cG9ydHMudHJhdmVyc2VPYmplY3RUb1BhcmVudCA9IHRyYXZlcnNlT2JqZWN0VG9QYXJlbnQ7XG5mdW5jdGlvbiB0cmF2ZXJzZU9iamVjdEJ5UGF0aChwYXRoUGFydHMsIG8pIHtcbiAgICBmb3IgKGNvbnN0IHBhdGhQYXJ0IG9mIHBhdGhQYXJ0cykge1xuICAgICAgICBpZiAocGF0aFBhcnQgPT09ICcnKSB7XG4gICAgICAgICAgICByZXR1cm4gbztcbiAgICAgICAgfVxuICAgICAgICBpZiAobyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIG8gPSBvW3BhdGhQYXJ0XTtcbiAgICB9XG4gICAgcmV0dXJuIG87XG59XG5leHBvcnRzLnRyYXZlcnNlT2JqZWN0QnlQYXRoID0gdHJhdmVyc2VPYmplY3RCeVBhdGg7XG5mdW5jdGlvbiBwYXJzZVBhdGgocGF0aCkge1xuICAgIHBhdGggPSBwYXRoLnJlcGxhY2UoLycvZywgJ1wiJyk7XG4gICAgdmFsaWRhdGVQYXRoKHBhdGgpO1xuICAgIHJldHVybiBwYXRoXG4gICAgICAgIC5zcGxpdCgnLicpXG4gICAgICAgIC5tYXAoeCA9PiB4LnNwbGl0KCdbJykubWFwKHkgPT4ge1xuICAgICAgICBpZiAoeS5lbmRzV2l0aCgnXScpKSB7XG4gICAgICAgICAgICB5ID0geS5zbGljZSgwLCAtMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHkuc3RhcnRzV2l0aCgnXCInKSAmJiB5LmVuZHNXaXRoKCdcIicpKSB7XG4gICAgICAgICAgICB5ID0geS5zbGljZSgxLCAtMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHk7XG4gICAgfSkpXG4gICAgICAgIC5mbGF0KCk7XG59XG5leHBvcnRzLnBhcnNlUGF0aCA9IHBhcnNlUGF0aDtcbmZ1bmN0aW9uIHZhbGlkYXRlUGF0aChwYXRoKSB7XG4gICAgY29uc3QgbnVtYmVycyA9ICcwMTIzNDU2Nzg5JztcbiAgICBjb25zdCBsZXR0ZXJzID0gJ2FiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVonO1xuICAgIGxldCBpbnNpZGVTdHJpbmdCcmFja2V0cyA9IGZhbHNlO1xuICAgIGxldCBpbnNpZGVOdW1iZXJCcmFja2V0cyA9IGZhbHNlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBjaGFyID0gcGF0aFtpXTtcbiAgICAgICAgY29uc3QgbmV4dENoYXIgPSBwYXRoW2kgKyAxXTtcbiAgICAgICAgLy8gaWYgY2hhciBpcyBhIGRvdFxuICAgICAgICBpZiAoY2hhciA9PT0gJy4nKSB7XG4gICAgICAgICAgICAvLyBhIGRvdCBtYXkgbm90IGJlIGF0IHRoZSBiZWdpbm5pbmcgb2YgYSBwYXRoXG4gICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBPUERUcmF2ZXJzYWxFcnJvcihgSW52YWxpZCBjaGFyYWN0ZXIgJyR7Y2hhcn0nIGF0IHBvc2l0aW9uICR7aX0gaW4gXCIke3BhdGh9XCIsIHBhdGggbWF5IG5vdCBzdGFydCB3aXRoICcuJ2ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdGhlIHRoaW5nIGZvbGxvd2luZyBhIGRvdCBtdXN0IGJlIGEgdmFsaWQgdmFyaWFibGUgbmFtZSwgc28gaXQgbXVzdCBzdGFydCB3aXRoIGEgbGV0dGVyIG9yIGFuIHVuZGVyc2NvcmVcbiAgICAgICAgICAgIGlmICghKGxldHRlcnMuaW5jbHVkZXMobmV4dENoYXIpIHx8IG5leHRDaGFyID09PSAnXycgfHwgbmV4dENoYXIgPT09ICckJykpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgT1BEVHJhdmVyc2FsRXJyb3IoYEludmFsaWQgY2hhcmFjdGVyICcke25leHRDaGFyfScgYXQgcG9zaXRpb24gJHtpICsgMX0gaW4gXCIke3BhdGh9XCIsIGV4cGVjdGVkIGEgbGV0dGVyLCAnXycgb3IgJyQnIHRvIGZvbGxvdyAnLidgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBicmFja2V0IGVudGVyIGNvbmRpdGlvblxuICAgICAgICBpZiAoY2hhciA9PT0gJ1snKSB7XG4gICAgICAgICAgICBpZiAobnVtYmVycy5pbmNsdWRlcyhuZXh0Q2hhcikpIHtcbiAgICAgICAgICAgICAgICAvLyB0aGUgYnJhY2tldCBpcyB1c2VkIHRvIGFjY2VzcyBhbiBhcnJheVxuICAgICAgICAgICAgICAgIGluc2lkZU51bWJlckJyYWNrZXRzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTsgLy8gc2tpcCByZXN0IG9mIGN1cnJlbnQgY2hhclxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobmV4dENoYXIgPT09ICdcIicpIHtcbiAgICAgICAgICAgICAgICAvLyB0aGUgc3RyaW5nIGJldHdlZW4gdGhlIHF1b3RhdGlvbi1tYXJrcyBtYXkgbm90IGJlIGVtcHR5XG4gICAgICAgICAgICAgICAgaWYgKHBhdGhbaSArIDJdID09PSAnXCInKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBPUERUcmF2ZXJzYWxFcnJvcihgSW52YWxpZCBjaGFyYWN0ZXIgJyR7cGF0aFtpICsgMl19JyBhdCBwb3NpdGlvbiAke2kgKyAyfSBpbiBcIiR7cGF0aH1cIiwgdGhlIHN0cmluZyBiZXR3ZWVuIHRoZSBxdW90YXRpb24tbWFya3MgbWF5IG5vdCBiZSBlbXB0eWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbnNpZGVTdHJpbmdCcmFja2V0cyA9IHRydWU7XG4gICAgICAgICAgICAgICAgaSArPSAxOyAvLyBza2lwIG5leHQgY2hhclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlOyAvLyBza2lwIHJlc3Qgb2YgY3VycmVudCBjaGFyXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgT1BEVHJhdmVyc2FsRXJyb3IoYEludmFsaWQgY2hhcmFjdGVyICcke25leHRDaGFyfScgYXQgcG9zaXRpb24gJHtpICsgMX0gaW4gXCIke3BhdGh9XCIsIGV4cGVjdGVkIG51bWJlciBvciAnXCInIHRvIGZvbGxvdyBhICdbJ2ApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHN0cmluZyBicmFja2V0IGV4aXQgY29uZGl0aW9uXG4gICAgICAgIGlmIChpbnNpZGVTdHJpbmdCcmFja2V0cyAmJiBjaGFyID09PSAnXCInKSB7XG4gICAgICAgICAgICBpZiAobmV4dENoYXIgPT09ICddJykge1xuICAgICAgICAgICAgICAgIGluc2lkZVN0cmluZ0JyYWNrZXRzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaSArPSAxOyAvLyBza2lwIG5leHQgY2hhclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlOyAvLyBza2lwIHJlc3Qgb2YgY3VycmVudCBjaGFyXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgT1BEVHJhdmVyc2FsRXJyb3IoYEludmFsaWQgY2hhcmFjdGVyICcke25leHRDaGFyfScgYXQgcG9zaXRpb24gJHtpICsgMX0gaW4gXCIke3BhdGh9XCIsIGV4cGVjdGVkICddJyB0byBmb2xsb3cgYSAnXCInYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gbnVtYmVyIGJyYWNrZXQgZXhpdCBjb25kaXRpb25cbiAgICAgICAgaWYgKGluc2lkZU51bWJlckJyYWNrZXRzICYmIGNoYXIgPT09ICddJykge1xuICAgICAgICAgICAgaW5zaWRlTnVtYmVyQnJhY2tldHMgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnNpZGVTdHJpbmdCcmFja2V0cyAmJiAoY2hhciA9PT0gJy4nIHx8IGNoYXIgPT09ICddJyB8fCBjaGFyID09PSAnWycpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT1BEVHJhdmVyc2FsRXJyb3IoYEludmFsaWQgY2hhcmFjdGVyICcke2NoYXJ9JyBhdCBwb3NpdGlvbiAke2l9IGluIFwiJHtwYXRofVwiYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluc2lkZU51bWJlckJyYWNrZXRzICYmICFudW1iZXJzLmluY2x1ZGVzKGNoYXIpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT1BEVHJhdmVyc2FsRXJyb3IoYEludmFsaWQgY2hhcmFjdGVyICcke2NoYXJ9JyBhdCBwb3NpdGlvbiAke2l9IGluIFwiJHtwYXRofVwiLCBudW1iZXIgZXhwZWN0ZWQgaW5zaWRlIG9mIGJyYWNrZXRzYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpbnNpZGVOdW1iZXJCcmFja2V0cyAmJiAhaW5zaWRlU3RyaW5nQnJhY2tldHMpIHtcbiAgICAgICAgICAgIGlmIChjaGFyID09PSAnXScpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgT1BEVHJhdmVyc2FsRXJyb3IoYEludmFsaWQgY2hhcmFjdGVyICcke2NoYXJ9JyBhdCBwb3NpdGlvbiAke2l9IGluIFwiJHtwYXRofVwiLCBleHBlY3RlZCAnWycgdG8gcHJvY2VlZGApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy52YWxpZGF0ZVBhdGggPSB2YWxpZGF0ZVBhdGg7XG5jbGFzcyBPUERUcmF2ZXJzYWxFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgIH1cbn1cbmV4cG9ydHMuT1BEVHJhdmVyc2FsRXJyb3IgPSBPUERUcmF2ZXJzYWxFcnJvcjtcbiIsICJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc3RyaW5naWZ5RnJvbnRtYXR0ZXIgPSB2b2lkIDA7XG5jb25zdCBvYnNpZGlhbl8xID0gcmVxdWlyZShcIm9ic2lkaWFuXCIpO1xuZnVuY3Rpb24gc3RyaW5naWZ5RnJvbnRtYXR0ZXIoZnJvbnRtYXR0ZXIpIHtcbiAgICByZXR1cm4gYC0tLVxcbiR7KDAsIG9ic2lkaWFuXzEuc3RyaW5naWZ5WWFtbCkoZnJvbnRtYXR0ZXIpfS0tLWA7XG59XG5leHBvcnRzLnN0cmluZ2lmeUZyb250bWF0dGVyID0gc3RyaW5naWZ5RnJvbnRtYXR0ZXI7XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuSW50ZXJuYWwgPSB2b2lkIDA7XG5jb25zdCBvYnNpZGlhbl8xID0gcmVxdWlyZShcIm9ic2lkaWFuXCIpO1xuY29uc3QgVXRpbHNfMSA9IHJlcXVpcmUoXCIuL1V0aWxzXCIpO1xuY29uc3QgT2JzVXRpbHNfMSA9IHJlcXVpcmUoXCIuL09ic1V0aWxzXCIpO1xuLyoqXG4gKiBgSW50ZXJuYWxgIGhvbGRzIG1ldGhvZHMgdGhhdCB0aGUgQVBJIHVzZXMgaW50ZXJuYWxseS4gVGhlIG1ldGhvZHMgdGhhdCB3ZSBleHBlY3QgYSBwbHVnaW4gdG8gdXNlIGFyZSB3aXRoaW4gYEFQSS50c2AuXG4gKi9cbnZhciBJbnRlcm5hbDtcbihmdW5jdGlvbiAoSW50ZXJuYWwpIHtcbiAgICAvKipcbiAgICAgKiBSZWdleCBFeHByZXNzaW9uIHRvIG1hdGNoIHRoZSBtYXJrZG93biBmcm9udG1hdHRlciBibG9jay5cbiAgICAgKi9cbiAgICBJbnRlcm5hbC5mcm9udE1hdHRlclJleEV4cFBhdHRlcm4gPSAnXigtLS0pXFxcXG5bXFxcXHNcXFxcU10qP1xcXFxuLS0tJztcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBtZXRhZGF0YSBvYmplY3QgZnJvbSB0aGUgZmlsZSBjb250ZW50cyB1c2luZyByZWdFeC5cbiAgICAgKiBJZiBwb3NzaWJsZSB1c2Uge0BsaW5rIGdldE1ldGFkYXRhRnJvbUZpbGVDYWNoZX0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZmlsZUNvbnRlbnQgdGhlIGZpbGUgY29udGVudCB0byByZWFkIHRoZSBtZXRhZGF0YSBmcm9tXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB0aGUgZnJvbnRtYXR0ZXIgYXMgYSBwcm9wZXJ0eSBhcnJheVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE1ldGFEYXRhRnJvbUZpbGVDb250ZW50KGZpbGVDb250ZW50KSB7XG4gICAgICAgIGNvbnN0IHJlZ0V4cCA9IG5ldyBSZWdFeHAoSW50ZXJuYWwuZnJvbnRNYXR0ZXJSZXhFeHBQYXR0ZXJuKTtcbiAgICAgICAgY29uc3QgZnJvbnRNYXR0ZXJSZWdFeHBSZXN1bHQgPSByZWdFeHAuZXhlYyhmaWxlQ29udGVudCk7XG4gICAgICAgIGlmICghZnJvbnRNYXR0ZXJSZWdFeHBSZXN1bHQpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZnJvbnRNYXR0ZXIgPSBmcm9udE1hdHRlclJlZ0V4cFJlc3VsdFswXTtcbiAgICAgICAgaWYgKCFmcm9udE1hdHRlcikge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIGZyb250TWF0dGVyID0gZnJvbnRNYXR0ZXIuc3Vic3RyaW5nKDQpO1xuICAgICAgICBmcm9udE1hdHRlciA9IGZyb250TWF0dGVyLnN1YnN0cmluZygwLCBmcm9udE1hdHRlci5sZW5ndGggLSAzKTtcbiAgICAgICAgcmV0dXJuIGdldE1ldGFEYXRhRnJvbVlBTUwoZnJvbnRNYXR0ZXIpO1xuICAgIH1cbiAgICBJbnRlcm5hbC5nZXRNZXRhRGF0YUZyb21GaWxlQ29udGVudCA9IGdldE1ldGFEYXRhRnJvbUZpbGVDb250ZW50O1xuICAgIC8qKlxuICAgICAqIFBhcnNlcyBhIHlhbWwgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHlhbWxcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHRoZSBwYXJzZWQgeWFtbCBhcyBhbiBvYmplY3RcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRNZXRhRGF0YUZyb21ZQU1MKHlhbWwpIHtcbiAgICAgICAgaWYgKCF5YW1sKSB7XG4gICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb2JqID0gKDAsIG9ic2lkaWFuXzEucGFyc2VZYW1sKSh5YW1sKTtcbiAgICAgICAgaWYgKCFvYmopIHtcbiAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cbiAgICBJbnRlcm5hbC5nZXRNZXRhRGF0YUZyb21ZQU1MID0gZ2V0TWV0YURhdGFGcm9tWUFNTDtcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBtZWRhdGEgb2JqZWN0IGZvcm0gb2JzaWRpYW4gZmlsZSBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBmaWxlXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGx1Z2luXG4gICAgICogQHJldHVybnMgdGhlIG1ldGFkYXRhIGFzIGFuIG9iamVjdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE1ldGFkYXRhRnJvbUZpbGVDYWNoZShmaWxlLCBwbHVnaW4pIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBsZXQgbWV0YWRhdGEgPSAoX2EgPSBwbHVnaW4uYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKGZpbGUpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZnJvbnRtYXR0ZXI7XG4gICAgICAgIGlmIChtZXRhZGF0YSkge1xuICAgICAgICAgICAgbWV0YWRhdGEgPSBPYmplY3QuYXNzaWduKHt9LCBtZXRhZGF0YSk7IC8vIGNvcHlcbiAgICAgICAgICAgIGRlbGV0ZSBtZXRhZGF0YS5wb3NpdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWV0YWRhdGE7XG4gICAgfVxuICAgIEludGVybmFsLmdldE1ldGFkYXRhRnJvbUZpbGVDYWNoZSA9IGdldE1ldGFkYXRhRnJvbUZpbGVDYWNoZTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBmcm9udG1hdHRlciBibG9jayBmcm9tIGEgZmlsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBmaWxlQ29udGVudFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlbW92ZUZyb250bWF0dGVyKGZpbGVDb250ZW50KSB7XG4gICAgICAgIHJldHVybiBmaWxlQ29udGVudC5yZXBsYWNlKG5ldyBSZWdFeHAoSW50ZXJuYWwuZnJvbnRNYXR0ZXJSZXhFeHBQYXR0ZXJuKSwgJycpO1xuICAgIH1cbiAgICBJbnRlcm5hbC5yZW1vdmVGcm9udG1hdHRlciA9IHJlbW92ZUZyb250bWF0dGVyO1xuICAgIC8qKlxuICAgICAqIFJlcGxhY2VzIHRoZSBGcm9udG1hdHRlciBvZiBhIGZpbGUgd2l0aCB0aGUgbWV0YWRhdGEuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbWV0YWRhdGFcbiAgICAgKiBAcGFyYW0gZmlsZSB0aGUgZmlsZSB0byBtb2RpZnkgdGhlIGZyb250bWF0dGVyIGluXG4gICAgICogQHBhcmFtIHBsdWdpblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVwZGF0ZUZyb250bWF0dGVyKG1ldGFkYXRhLCBmaWxlLCBwbHVnaW4pIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGxldCBmaWxlQ29udGVudCA9IHlpZWxkIHBsdWdpbi5hcHAudmF1bHQuY2FjaGVkUmVhZChmaWxlKTtcbiAgICAgICAgICAgIGZpbGVDb250ZW50ID0gcmVtb3ZlRnJvbnRtYXR0ZXIoZmlsZUNvbnRlbnQpO1xuICAgICAgICAgICAgZmlsZUNvbnRlbnQgPSBgJHsoMCwgT2JzVXRpbHNfMS5zdHJpbmdpZnlGcm9udG1hdHRlcikobWV0YWRhdGEpfSR7ZmlsZUNvbnRlbnR9YDtcbiAgICAgICAgICAgIHlpZWxkIHBsdWdpbi5hcHAudmF1bHQubW9kaWZ5KGZpbGUsIGZpbGVDb250ZW50KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIEludGVybmFsLnVwZGF0ZUZyb250bWF0dGVyID0gdXBkYXRlRnJvbnRtYXR0ZXI7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBvYmplY3QgaGFzIHRoZSBmaWVsZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXRoXG4gICAgICogQHBhcmFtIG1ldGFkYXRhXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzRmllbGQocGF0aCwgbWV0YWRhdGEpIHtcbiAgICAgICAgcmV0dXJuIGdldEZpZWxkKHBhdGgsIG1ldGFkYXRhKSAhPT0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBJbnRlcm5hbC5oYXNGaWVsZCA9IGhhc0ZpZWxkO1xuICAgIC8qKlxuICAgICAqIEdldHMgb25lIGZpZWxkIGZvcm0gYW4gb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhdGhcbiAgICAgKiBAcGFyYW0gbWV0YWRhdGFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRGaWVsZChwYXRoLCBtZXRhZGF0YSkge1xuICAgICAgICByZXR1cm4gKDAsIFV0aWxzXzEudHJhdmVyc2VPYmplY3QpKHBhdGgsIG1ldGFkYXRhKTtcbiAgICB9XG4gICAgSW50ZXJuYWwuZ2V0RmllbGQgPSBnZXRGaWVsZDtcbiAgICAvKipcbiAgICAgKiBEZWxldGVzIG9uZSBmaWVsZCBmcm9tIGFtIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXRoXG4gICAgICogQHBhcmFtIG1ldGFkYXRhXG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVsZXRlRmllbGQocGF0aCwgbWV0YWRhdGEpIHtcbiAgICAgICAgbGV0IHsgcGFyZW50LCBjaGlsZCB9ID0gKDAsIFV0aWxzXzEudHJhdmVyc2VPYmplY3RUb1BhcmVudCkocGF0aCwgbWV0YWRhdGEpO1xuICAgICAgICBpZiAocGFyZW50LnZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKGBUaGUgcGFyZW50IG9mIFwiJHtwYXRofVwiIGRvZXMgbm90IGV4aXN0IGluIE9iamVjdCwgY2FuIG5vdCBkZWxldGUgY2hpbGQgZnJvbSBub24gZXhpc3RpbmcgcGFyZW50YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocGFyZW50LnZhbHVlKSkge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBOdW1iZXIucGFyc2VJbnQoY2hpbGQua2V5KTtcbiAgICAgICAgICAgIGlmIChOdW1iZXIuaXNOYU4oaW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1ldGFkYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyZW50LnZhbHVlLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkZWxldGUgcGFyZW50LnZhbHVlW2NoaWxkLmtleV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1ldGFkYXRhO1xuICAgIH1cbiAgICBJbnRlcm5hbC5kZWxldGVGaWVsZCA9IGRlbGV0ZUZpZWxkO1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgb25lIGZpZWxkIGluIGFuIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXRoXG4gICAgICogQHBhcmFtIHZhbHVlXG4gICAgICogQHBhcmFtIG1ldGFkYXRhXG4gICAgICovXG4gICAgZnVuY3Rpb24gdXBkYXRlRmllbGQocGF0aCwgdmFsdWUsIG1ldGFkYXRhKSB7XG4gICAgICAgIGxldCB7IHBhcmVudCwgY2hpbGQgfSA9ICgwLCBVdGlsc18xLnRyYXZlcnNlT2JqZWN0VG9QYXJlbnQpKHBhdGgsIG1ldGFkYXRhKTtcbiAgICAgICAgaWYgKHBhcmVudC52YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihgVGhlIHBhcmVudCBvZiBcIiR7cGF0aH1cIiBkb2VzIG5vdCBleGlzdCBpbiBPYmplY3QsIHBsZWFzZSBjcmVhdGUgdGhlIHBhcmVudCBmaXJzdGApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGlsZC52YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihgRmllbGQgd2l0aCBrZXkgXCIke3BhdGh9XCIgZG9lcyBub3QgZXhpc3QgaW4gT2JqZWN0YCk7XG4gICAgICAgIH1cbiAgICAgICAgcGFyZW50LnZhbHVlW2NoaWxkLmtleV0gPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIG1ldGFkYXRhO1xuICAgIH1cbiAgICBJbnRlcm5hbC51cGRhdGVGaWVsZCA9IHVwZGF0ZUZpZWxkO1xuICAgIC8qKlxuICAgICAqIEluc2VydHMgb25lIGZpZWxkIGluIGFuIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXRoXG4gICAgICogQHBhcmFtIHZhbHVlXG4gICAgICogQHBhcmFtIG1ldGFkYXRhXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5zZXJ0RmllbGQocGF0aCwgdmFsdWUsIG1ldGFkYXRhKSB7XG4gICAgICAgIGxldCB7IHBhcmVudCwgY2hpbGQgfSA9ICgwLCBVdGlsc18xLnRyYXZlcnNlT2JqZWN0VG9QYXJlbnQpKHBhdGgsIG1ldGFkYXRhKTtcbiAgICAgICAgaWYgKHBhcmVudC52YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihgVGhlIHBhcmVudCBvZiBcIiR7cGF0aH1cIiBkb2VzIG5vdCBleGlzdCBpbiBPYmplY3QsIHBsZWFzZSBjcmVhdGUgdGhlIHBhcmVudCBmaXJzdGApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGlsZC52YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihgRmllbGQgd2l0aCBrZXkgXCIke3BhdGh9XCIgZG9lcyBhbHJlYWR5IGV4aXN0IGluIE9iamVjdGApO1xuICAgICAgICB9XG4gICAgICAgIHBhcmVudC52YWx1ZVtjaGlsZC5rZXldID0gdmFsdWU7XG4gICAgICAgIHJldHVybiBtZXRhZGF0YTtcbiAgICB9XG4gICAgSW50ZXJuYWwuaW5zZXJ0RmllbGQgPSBpbnNlcnRGaWVsZDtcbiAgICAvKipcbiAgICAgKiBVcGRhdGUgb3IgaW5zZXJ0cyBvbmUgZmllbGQgaW4gYW4gb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhdGhcbiAgICAgKiBAcGFyYW0gdmFsdWVcbiAgICAgKiBAcGFyYW0gbWV0YWRhdGFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1cGRhdGVPckluc2VydEZpZWxkKHBhdGgsIHZhbHVlLCBtZXRhZGF0YSkge1xuICAgICAgICBsZXQgeyBwYXJlbnQsIGNoaWxkIH0gPSAoMCwgVXRpbHNfMS50cmF2ZXJzZU9iamVjdFRvUGFyZW50KShwYXRoLCBtZXRhZGF0YSk7XG4gICAgICAgIGlmIChwYXJlbnQudmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoYFRoZSBwYXJlbnQgb2YgXCIke3BhdGh9XCIgZG9lcyBub3QgZXhpc3QgaW4gT2JqZWN0LCBwbGVhc2UgY3JlYXRlIHRoZSBwYXJlbnQgZmlyc3RgKTtcbiAgICAgICAgfVxuICAgICAgICBwYXJlbnQudmFsdWVbY2hpbGQua2V5XSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gbWV0YWRhdGE7XG4gICAgfVxuICAgIEludGVybmFsLnVwZGF0ZU9ySW5zZXJ0RmllbGQgPSB1cGRhdGVPckluc2VydEZpZWxkO1xufSkoSW50ZXJuYWwgPSBleHBvcnRzLkludGVybmFsIHx8IChleHBvcnRzLkludGVybmFsID0ge30pKTtcbiIsICJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5zZXRGcm9udG1hdHRlck9mVEZpbGUgPSBleHBvcnRzLmdldEZyb250bWF0dGVyT2ZURmlsZSA9IGV4cG9ydHMuZGVsZXRlRmllbGRJblRGaWxlID0gZXhwb3J0cy51cGRhdGVPckluc2VydEZpZWxkSW5URmlsZSA9IGV4cG9ydHMudXBkYXRlRmllbGRJblRGaWxlID0gZXhwb3J0cy5pbnNlcnRGaWVsZEluVEZpbGUgPSBleHBvcnRzLmdldEZpZWxkRnJvbVRGaWxlID0gZXhwb3J0cy5kb2VzRmllbGRFeGlzdEluVEZpbGUgPSB2b2lkIDA7XG5jb25zdCBJbnRlcm5hbF8xID0gcmVxdWlyZShcIi4vSW50ZXJuYWxcIik7XG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIGEgZmllbGQgZXhpc3RzIGluc2lkZSBhIGZpbGVzJyBtZXRhZGF0YS5cbiAqIE5vdGUsIHdoZW4gdGhlIGZpZWxkIGV4aXN0cyBidXQgdGhlIHZhbHVlIGlzIGB1bmRlZmluZWRgLCB0aGUgbWV0aG9kIHdpbGwgcmV0dXJuIGZhbHNlLlxuICpcbiAqIEB0aHJvd3MgT1BEVHJhdmVyc2FsRXJyb3IgaWYgZmllbGQgaXMgYW4gaW52YWxpZCBwYXRoIHRvIGEgbWV0YWRhdGEgZmllbGQuXG4gKlxuICogQHBhcmFtIGZpZWxkIFRoZSBmaWVsZCB0byBmaW5kLCB0aGlzIGNhbiBhbHNvIGJlIGEgcGF0aCB0byBhIG5lc3RlZCBvYmplY3QgZS5nLiBgZm9vLmJhcmAsXG4gKiBcdFx0XHRcdGEgcGF0aCB0byBhIHNwZWNpZmljIGluZGV4IGluIGFuIGFycmF5IGUuZy4gYGZvb1swXWBcbiAqIFx0XHRcdFx0b3IgYW55IGNvbWJpbmF0aW9uIG9mIHRob3NlIGUuZy4gYGZvb1snYmFyJ10uYmF6WzBdYCxcbiAqIFx0XHRcdFx0bGlrZSB5b3UgYXJlIHVzZWQgdG8gZnJvbSBqYXZhc2NyaXB0LCBleGNlcHQgdGhhdCB0aGUgYD9gIG9wZXJhdG9yIGlzICoqbm90Kiogc3VwcG9ydGVkLlxuICogQHBhcmFtIGZpbGVcbiAqIEBwYXJhbSBwbHVnaW5cbiAqIEBwYXJhbSBpc0lubGluZSB1bnVzZWQgZm9yIG5vd1xuICpcbiAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgZmllbGQgZXhpc3RzLCBgZmFsc2VgIG90aGVyd2lzZVxuICovXG5mdW5jdGlvbiBkb2VzRmllbGRFeGlzdEluVEZpbGUoZmllbGQsIGZpbGUsIHBsdWdpbiwgaXNJbmxpbmUgPSBmYWxzZSkge1xuICAgIGNvbnN0IG1ldGFkYXRhID0gSW50ZXJuYWxfMS5JbnRlcm5hbC5nZXRNZXRhZGF0YUZyb21GaWxlQ2FjaGUoZmlsZSwgcGx1Z2luKTtcbiAgICByZXR1cm4gSW50ZXJuYWxfMS5JbnRlcm5hbC5oYXNGaWVsZChmaWVsZCwgbWV0YWRhdGEpO1xufVxuZXhwb3J0cy5kb2VzRmllbGRFeGlzdEluVEZpbGUgPSBkb2VzRmllbGRFeGlzdEluVEZpbGU7XG4vKipcbiAqIFJldHVybnMgdGhlIHZhbHVlIG9mIGEgZmllbGQgaW4gYSBmaWxlcycgbWV0YWRhdGEuXG4gKiBJZiB0aGUgZmllbGQgZG9lcyBub3QgZXhpc3QsIHRoaXMgbWV0aG9kIHdpbGwgcmV0dXJuIGB1bmRlZmluZWRgLlxuICpcbiAqIEB0aHJvd3MgT1BEVHJhdmVyc2FsRXJyb3IgaWYgZmllbGQgaXMgYW4gaW52YWxpZCBwYXRoIHRvIGEgbWV0YWRhdGEgZmllbGQuXG4gKlxuICogQHBhcmFtIGZpZWxkIFRoZSBmaWVsZCB0byBnZXQsIHRoaXMgY2FuIGFsc28gYmUgYSBwYXRoIHRvIGEgbmVzdGVkIG9iamVjdCBlLmcuIGBmb28uYmFyYCxcbiAqIFx0XHRcdFx0YSBwYXRoIHRvIGEgc3BlY2lmaWMgaW5kZXggaW4gYW4gYXJyYXkgZS5nLiBgZm9vWzBdYFxuICogXHRcdFx0XHRvciBhbnkgY29tYmluYXRpb24gb2YgdGhvc2UgZS5nLiBgZm9vWydiYXInXS5iYXpbMF1gLFxuICogXHRcdFx0XHRsaWtlIHlvdSBhcmUgdXNlZCB0byBmcm9tIGphdmFzY3JpcHQsIGV4Y2VwdCB0aGF0IHRoZSBgP2Agb3BlcmF0b3IgaXMgKipub3QqKiBzdXBwb3J0ZWQuXG4gKiBAcGFyYW0gZmlsZVxuICogQHBhcmFtIHBsdWdpblxuICogQHBhcmFtIGlzSW5saW5lIHVudXNlZCBmb3Igbm93XG4gKlxuICogQHJldHVybnMgVGhlIHZhbHVlIG9mIHRoZSBmaWVsZCBvciBgdW5kZWZpbmVkYCBpZiB0aGUgZmllbGQgZG9lcyBub3QgZXhpc3QuXG4gKi9cbmZ1bmN0aW9uIGdldEZpZWxkRnJvbVRGaWxlKGZpZWxkLCBmaWxlLCBwbHVnaW4sIGlzSW5saW5lID0gZmFsc2UpIHtcbiAgICBjb25zdCBtZXRhZGF0YSA9IEludGVybmFsXzEuSW50ZXJuYWwuZ2V0TWV0YWRhdGFGcm9tRmlsZUNhY2hlKGZpbGUsIHBsdWdpbik7XG4gICAgcmV0dXJuIEludGVybmFsXzEuSW50ZXJuYWwuZ2V0RmllbGQoZmllbGQsIG1ldGFkYXRhKTtcbn1cbmV4cG9ydHMuZ2V0RmllbGRGcm9tVEZpbGUgPSBnZXRGaWVsZEZyb21URmlsZTtcbi8qKlxuICogSW5zZXJ0cyBhIGZpZWxkIGluIGEgZmlsZXMnIG1ldGFkYXRhLiBJZiB0aGUgZmllbGQgYWxyZWFkeSBleGlzdHMsIHRoaXMgbWV0aG9kIHdpbGwgdGhyb3cuXG4gKlxuICogQHRocm93cyBFcnJvciBJZiB0aGUgZmllbGQgYWxyZWFkeSBleGlzdHMuXG4gKiBAdGhyb3dzIEVycm9yIElmIHRoZSBwYXJlbnQgb2YgdGhlIGZpZWxkIHRvIHVwZGF0ZS9pbnNlcnQgZG9lcyBub3QgZXhpc3QsXG4gKiBcdFx0ICAgZS5nLiBpZiB0aGUgbWV0aG9kIGlzIGNhbGxlZCB3aXRoIHRoZSBmaWVsZCBgZm9vLmJhcmAsIGJ1dCBgZm9vYCBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWV0YWRhdGEgdGhpcyBtZXRob2Qgd2lsbCB0aHJvdy5cbiAqIEB0aHJvd3MgT1BEVHJhdmVyc2FsRXJyb3IgSWYgZmllbGQgaXMgYW4gaW52YWxpZCBwYXRoIHRvIGEgbWV0YWRhdGEgZmllbGQuXG4gKlxuICogQHBhcmFtIGZpZWxkIFRoZSBmaWVsZCB0byBpbnNlcnQsIHRoaXMgY2FuIGFsc28gYmUgYSBwYXRoIHRvIGEgbmVzdGVkIG9iamVjdCBlLmcuIGBmb28uYmFyYCxcbiAqIFx0XHRcdFx0YSBwYXRoIHRvIGEgc3BlY2lmaWMgaW5kZXggaW4gYW4gYXJyYXkgZS5nLiBgZm9vWzBdYFxuICogXHRcdFx0XHRvciBhbnkgY29tYmluYXRpb24gb2YgdGhvc2UgZS5nLiBgZm9vWydiYXInXS5iYXpbMF1gLFxuICogXHRcdFx0XHRsaWtlIHlvdSBhcmUgdXNlZCB0byBmcm9tIGphdmFzY3JpcHQsIGV4Y2VwdCB0aGF0IHRoZSBgP2Agb3BlcmF0b3IgaXMgKipub3QqKiBzdXBwb3J0ZWQuXG4gKiBAcGFyYW0gdmFsdWUgVGhlIG5ldyB2YWx1ZSBvZiB0aGUgZmllbGQuXG4gKiBAcGFyYW0gZmlsZVxuICogQHBhcmFtIHBsdWdpblxuICogQHBhcmFtIGlzSW5saW5lIHVudXNlZCBmb3Igbm93XG4gKi9cbmZ1bmN0aW9uIGluc2VydEZpZWxkSW5URmlsZShmaWVsZCwgdmFsdWUsIGZpbGUsIHBsdWdpbiwgaXNJbmxpbmUgPSBmYWxzZSkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIGNvbnN0IG1ldGFkYXRhID0gSW50ZXJuYWxfMS5JbnRlcm5hbC5nZXRNZXRhZGF0YUZyb21GaWxlQ2FjaGUoZmlsZSwgcGx1Z2luKTtcbiAgICAgICAgSW50ZXJuYWxfMS5JbnRlcm5hbC5pbnNlcnRGaWVsZChmaWVsZCwgdmFsdWUsIG1ldGFkYXRhKTtcbiAgICAgICAgeWllbGQgSW50ZXJuYWxfMS5JbnRlcm5hbC51cGRhdGVGcm9udG1hdHRlcihtZXRhZGF0YSwgZmlsZSwgcGx1Z2luKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuaW5zZXJ0RmllbGRJblRGaWxlID0gaW5zZXJ0RmllbGRJblRGaWxlO1xuLyoqXG4gKiBVcGRhdGVzIGEgZmllbGQgaW4gYSBmaWxlcycgbWV0YWRhdGEuIElmIHRoZSBmaWVsZCBkb2VzIG5vdCBleGlzdCwgdGhpcyBtZXRob2Qgd2lsbCB0aHJvdy5cbiAqXG4gKiBAdGhyb3dzIEVycm9yIElmIHRoZSBmaWVsZCBkb2VzIG5vdCBleGlzdC5cbiAqIEB0aHJvd3MgRXJyb3IgSWYgdGhlIHBhcmVudCBvZiB0aGUgZmllbGQgdG8gdXBkYXRlL2luc2VydCBkb2VzIG5vdCBleGlzdCxcbiAqIFx0XHQgICBlLmcuIGlmIHRoZSBtZXRob2QgaXMgY2FsbGVkIHdpdGggdGhlIGZpZWxkIGBmb28uYmFyYCwgYnV0IGBmb29gIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtZXRhZGF0YSB0aGlzIG1ldGhvZCB3aWxsIHRocm93LlxuICogQHRocm93cyBPUERUcmF2ZXJzYWxFcnJvciBJZiBmaWVsZCBpcyBhbiBpbnZhbGlkIHBhdGggdG8gYSBtZXRhZGF0YSBmaWVsZC5cbiAqXG4gKiBAcGFyYW0gZmllbGQgVGhlIGZpZWxkIHRvIHVwZGF0ZSwgdGhpcyBjYW4gYWxzbyBiZSBhIHBhdGggdG8gYSBuZXN0ZWQgb2JqZWN0IGUuZy4gYGZvby5iYXJgLFxuICogXHRcdFx0XHRhIHBhdGggdG8gYSBzcGVjaWZpYyBpbmRleCBpbiBhbiBhcnJheSBlLmcuIGBmb29bMF1gXG4gKiBcdFx0XHRcdG9yIGFueSBjb21iaW5hdGlvbiBvZiB0aG9zZSBlLmcuIGBmb29bJ2JhciddLmJhelswXWAsXG4gKiBcdFx0XHRcdGxpa2UgeW91IGFyZSB1c2VkIHRvIGZyb20gamF2YXNjcmlwdCwgZXhjZXB0IHRoYXQgdGhlIGA/YCBvcGVyYXRvciBpcyAqKm5vdCoqIHN1cHBvcnRlZC5cbiAqIEBwYXJhbSB2YWx1ZSBUaGUgbmV3IHZhbHVlIG9mIHRoZSBmaWVsZC5cbiAqIEBwYXJhbSBmaWxlXG4gKiBAcGFyYW0gcGx1Z2luXG4gKiBAcGFyYW0gaXNJbmxpbmUgdW51c2VkIGZvciBub3dcbiAqL1xuZnVuY3Rpb24gdXBkYXRlRmllbGRJblRGaWxlKGZpZWxkLCB2YWx1ZSwgZmlsZSwgcGx1Z2luLCBpc0lubGluZSA9IGZhbHNlKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgY29uc3QgbWV0YWRhdGEgPSBJbnRlcm5hbF8xLkludGVybmFsLmdldE1ldGFkYXRhRnJvbUZpbGVDYWNoZShmaWxlLCBwbHVnaW4pO1xuICAgICAgICBJbnRlcm5hbF8xLkludGVybmFsLnVwZGF0ZUZpZWxkKGZpZWxkLCB2YWx1ZSwgbWV0YWRhdGEpO1xuICAgICAgICB5aWVsZCBJbnRlcm5hbF8xLkludGVybmFsLnVwZGF0ZUZyb250bWF0dGVyKG1ldGFkYXRhLCBmaWxlLCBwbHVnaW4pO1xuICAgIH0pO1xufVxuZXhwb3J0cy51cGRhdGVGaWVsZEluVEZpbGUgPSB1cGRhdGVGaWVsZEluVEZpbGU7XG4vKipcbiAqIEluc2VydHMgb3IgdXBkYXRlcyBhIGZpZWxkIGluIGEgZmlsZXMnIG1ldGFkYXRhLlxuICogVGhpcyBpcyBtb3JlIGVmZmljaWVudCB0aGFuIGNoZWNraW5nIHlvdXJzZWxmIHdpdGgge0BsaW5rIGRvZXNGaWVsZEV4aXN0SW5URmlsZX0gYW5kIHRoZW4gaW5zZXJ0aW5nIHdpdGgge0BsaW5rIGluc2VydEZpZWxkSW5URmlsZX0gb3IgdXBkYXRpbmcgd2l0aCB7QGxpbmsgdXBkYXRlRmllbGRJblRGaWxlfS5cbiAqXG4gKiBAdGhyb3dzIEVycm9yIElmIHRoZSBwYXJlbnQgb2YgdGhlIGZpZWxkIHRvIHVwZGF0ZS9pbnNlcnQgZG9lcyBub3QgZXhpc3QsXG4gKiBcdFx0ICAgZS5nLiBpZiB0aGUgbWV0aG9kIGlzIGNhbGxlZCB3aXRoIHRoZSBmaWVsZCBgZm9vLmJhcmAsIGJ1dCBgZm9vYCBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWV0YWRhdGEgdGhpcyBtZXRob2Qgd2lsbCB0aHJvdy5cbiAqIEB0aHJvd3MgT1BEVHJhdmVyc2FsRXJyb3IgSWYgZmllbGQgaXMgYW4gaW52YWxpZCBwYXRoIHRvIGEgbWV0YWRhdGEgZmllbGQuXG4gKlxuICogQHBhcmFtIGZpZWxkIFRoZSBmaWVsZCB0byB1cGRhdGUvaW5zZXJ0LCB0aGlzIGNhbiBhbHNvIGJlIGEgcGF0aCB0byBhIG5lc3RlZCBvYmplY3QgZS5nLiBgZm9vLmJhcmAsXG4gKiBcdFx0XHRcdGEgcGF0aCB0byBhIHNwZWNpZmljIGluZGV4IGluIGFuIGFycmF5IGUuZy4gYGZvb1swXWBcbiAqIFx0XHRcdFx0b3IgYW55IGNvbWJpbmF0aW9uIG9mIHRob3NlIGUuZy4gYGZvb1snYmFyJ10uYmF6WzBdYCxcbiAqIFx0XHRcdFx0bGlrZSB5b3UgYXJlIHVzZWQgdG8gZnJvbSBqYXZhc2NyaXB0LCBleGNlcHQgdGhhdCB0aGUgYD9gIG9wZXJhdG9yIGlzICoqbm90Kiogc3VwcG9ydGVkLlxuICogQHBhcmFtIHZhbHVlIFRoZSBuZXcgdmFsdWUgb2YgdGhlIGZpZWxkLlxuICogQHBhcmFtIGZpbGVcbiAqIEBwYXJhbSBwbHVnaW5cbiAqIEBwYXJhbSBpc0lubGluZSB1bnVzZWQgZm9yIG5vd1xuICovXG5mdW5jdGlvbiB1cGRhdGVPckluc2VydEZpZWxkSW5URmlsZShmaWVsZCwgdmFsdWUsIGZpbGUsIHBsdWdpbiwgaXNJbmxpbmUgPSBmYWxzZSkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIGxldCBtZXRhZGF0YSA9IEludGVybmFsXzEuSW50ZXJuYWwuZ2V0TWV0YWRhdGFGcm9tRmlsZUNhY2hlKGZpbGUsIHBsdWdpbik7XG4gICAgICAgIEludGVybmFsXzEuSW50ZXJuYWwudXBkYXRlT3JJbnNlcnRGaWVsZChmaWVsZCwgdmFsdWUsIG1ldGFkYXRhKTtcbiAgICAgICAgeWllbGQgSW50ZXJuYWxfMS5JbnRlcm5hbC51cGRhdGVGcm9udG1hdHRlcihtZXRhZGF0YSwgZmlsZSwgcGx1Z2luKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMudXBkYXRlT3JJbnNlcnRGaWVsZEluVEZpbGUgPSB1cGRhdGVPckluc2VydEZpZWxkSW5URmlsZTtcbi8qKlxuICogRGVsZXRlcyBhIGZpZWxkIGluIGEgZmlsZXMnIG1ldGFkYXRhLlxuICpcbiAqIEB0aHJvd3MgRXJyb3IgSWYgdGhlIHBhcmVudCBvZiB0aGUgZmllbGQgdG8gdXBkYXRlL2luc2VydCBkb2VzIG5vdCBleGlzdCxcbiAqIFx0XHQgICBlLmcuIGlmIHRoZSBtZXRob2QgaXMgY2FsbGVkIHdpdGggdGhlIGZpZWxkIGBmb28uYmFyYCwgYnV0IGBmb29gIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtZXRhZGF0YSB0aGlzIG1ldGhvZCB3aWxsIHRocm93LlxuICogQHRocm93cyBPUERUcmF2ZXJzYWxFcnJvciBJZiBmaWVsZCBpcyBhbiBpbnZhbGlkIHBhdGggdG8gYSBtZXRhZGF0YSBmaWVsZC5cbiAqXG4gKiBAcGFyYW0gZmllbGQgVGhlIGZpZWxkIHRvIGRlbGV0ZSwgdGhpcyBjYW4gYWxzbyBiZSBhIHBhdGggdG8gYSBuZXN0ZWQgb2JqZWN0IGUuZy4gYGZvby5iYXJgLFxuICogXHRcdFx0XHRhIHBhdGggdG8gYSBzcGVjaWZpYyBpbmRleCBpbiBhbiBhcnJheSBlLmcuIGBmb29bMF1gXG4gKiBcdFx0XHRcdG9yIGFueSBjb21iaW5hdGlvbiBvZiB0aG9zZSBlLmcuIGBmb29bJ2JhciddLmJhelswXWAsXG4gKiBcdFx0XHRcdGxpa2UgeW91IGFyZSB1c2VkIHRvIGZyb20gamF2YXNjcmlwdCwgZXhjZXB0IHRoYXQgdGhlIGA/YCBvcGVyYXRvciBpcyAqKm5vdCoqIHN1cHBvcnRlZC5cbiAqIEBwYXJhbSBmaWxlXG4gKiBAcGFyYW0gcGx1Z2luXG4gKiBAcGFyYW0gaXNJbmxpbmUgdW51c2VkIGZvciBub3dcbiAqL1xuZnVuY3Rpb24gZGVsZXRlRmllbGRJblRGaWxlKGZpZWxkLCBmaWxlLCBwbHVnaW4sIGlzSW5saW5lID0gZmFsc2UpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICBjb25zdCBtZXRhZGF0YSA9IEludGVybmFsXzEuSW50ZXJuYWwuZ2V0TWV0YWRhdGFGcm9tRmlsZUNhY2hlKGZpbGUsIHBsdWdpbik7XG4gICAgICAgIEludGVybmFsXzEuSW50ZXJuYWwuZGVsZXRlRmllbGQoZmllbGQsIG1ldGFkYXRhKTtcbiAgICAgICAgeWllbGQgSW50ZXJuYWxfMS5JbnRlcm5hbC51cGRhdGVGcm9udG1hdHRlcihtZXRhZGF0YSwgZmlsZSwgcGx1Z2luKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuZGVsZXRlRmllbGRJblRGaWxlID0gZGVsZXRlRmllbGRJblRGaWxlO1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBmcm9udG1hdHRlciBmcm9tIGEgZmlsZS5cbiAqXG4gKiBAcGFyYW0gZmlsZVxuICogQHBhcmFtIHBsdWdpblxuICovXG5mdW5jdGlvbiBnZXRGcm9udG1hdHRlck9mVEZpbGUoZmlsZSwgcGx1Z2luKSB7XG4gICAgcmV0dXJuIEludGVybmFsXzEuSW50ZXJuYWwuZ2V0TWV0YWRhdGFGcm9tRmlsZUNhY2hlKGZpbGUsIHBsdWdpbik7XG59XG5leHBvcnRzLmdldEZyb250bWF0dGVyT2ZURmlsZSA9IGdldEZyb250bWF0dGVyT2ZURmlsZTtcbi8qKlxuICogVXBkYXRlcyB0aGUgZW50aXJlIGZyb250bWF0dGVyIG9mIGEgZmlsZS5cbiAqXG4gKiBAcGFyYW0gbWV0YWRhdGFcbiAqIEBwYXJhbSBmaWxlXG4gKiBAcGFyYW0gcGx1Z2luXG4gKi9cbmZ1bmN0aW9uIHNldEZyb250bWF0dGVyT2ZURmlsZShtZXRhZGF0YSwgZmlsZSwgcGx1Z2luKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgeWllbGQgSW50ZXJuYWxfMS5JbnRlcm5hbC51cGRhdGVGcm9udG1hdHRlcihtZXRhZGF0YSwgZmlsZSwgcGx1Z2luKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuc2V0RnJvbnRtYXR0ZXJPZlRGaWxlID0gc2V0RnJvbnRtYXR0ZXJPZlRGaWxlO1xuLyoqXG4gKiBVTlVTRURcbiAqIEBkZXByZWNhdGVkXG4gKlxuICogQHBhcmFtIHBsdWdpblxuICogQHBhcmFtIGZpbGVcbiAqIEBwYXJhbSBmcm9udG1hdHRlckFzWWFtbFxuICovXG5mdW5jdGlvbiBnZW5lcmF0ZUZpbGVDb250ZW50cyhwbHVnaW4sIGZpbGUsIGZyb250bWF0dGVyQXNZYW1sKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgY29uc3QgZmlsZUNvbnRlbnRzID0geWllbGQgcGx1Z2luLmFwcC52YXVsdC5jYWNoZWRSZWFkKGZpbGUpO1xuICAgICAgICByZXR1cm4gZmlsZUNvbnRlbnRzLnJlcGxhY2UoL14tLS1cXG4oLipcXG4pKi0tLS8sIGZyb250bWF0dGVyQXNZYW1sKTtcbiAgICB9KTtcbn1cbiIsICJpbXBvcnQgeyBDYWNoZWRNZXRhZGF0YSwgRnJvbnRNYXR0ZXJDYWNoZSwgUGx1Z2luLCBURmlsZSB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IERFRkFVTFRfU0VUVElOR1MsIE1ldGFCaW5kUGx1Z2luU2V0dGluZ3MsIE1ldGFCaW5kU2V0dGluZ1RhYiB9IGZyb20gJy4vc2V0dGluZ3MvU2V0dGluZ3MnO1xuaW1wb3J0IHsgSW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQsIElucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkVHlwZSB9IGZyb20gJy4vSW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQnO1xuaW1wb3J0IHsgZ2V0RmlsZU5hbWUsIGlzUGF0aCwgTWV0YUJpbmRJbnRlcm5hbEVycm9yLCByZW1vdmVGaWxlRW5kaW5nIH0gZnJvbSAnLi91dGlscy9VdGlscyc7XG5pbXBvcnQgeyBEYXRlUGFyc2VyIH0gZnJvbSAnLi9wYXJzZXJzL0RhdGVQYXJzZXInO1xuaW1wb3J0IHsgSW5wdXRGaWVsZERlY2xhcmF0aW9uUGFyc2VyIH0gZnJvbSAnLi9wYXJzZXJzL0lucHV0RmllbGREZWNsYXJhdGlvblBhcnNlcic7XG5pbXBvcnQgeyB0cmF2ZXJzZU9iamVjdCB9IGZyb20gJ0BvcGQtbGlicy9vcGQtbWV0YWRhdGEtbGliL2xpYi9VdGlscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1ldGFCaW5kUGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcblx0Ly8gQHRzLWlnbm9yZSBkZWZpbmVkIGluIGBvbmxvYWRgXG5cdHNldHRpbmdzOiBNZXRhQmluZFBsdWdpblNldHRpbmdzO1xuXG5cdC8vIEB0cy1pZ25vcmUgZGVmaW5lZCBpbiBgb25sb2FkYFxuXHRhY3RpdmVNYXJrZG93bklucHV0RmllbGRzOiBJbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZFtdO1xuXHQvLyBAdHMtaWdub3JlIGRlZmluZWQgaW4gYG9ubG9hZGBcblx0bWFya0Rvd25JbnB1dEZpZWxkSW5kZXg6IG51bWJlcjtcblxuXHRhc3luYyBvbmxvYWQoKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0YXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcblxuXHRcdERhdGVQYXJzZXIuZGF0ZUZvcm1hdCA9IHRoaXMuc2V0dGluZ3MucHJlZmVycmVkRGF0ZUZvcm1hdDtcblx0XHRJbnB1dEZpZWxkRGVjbGFyYXRpb25QYXJzZXIucGFyc2VUZW1wbGF0ZXModGhpcy5zZXR0aW5ncy5pbnB1dFRlbXBsYXRlcyk7XG5cblx0XHR0aGlzLmFjdGl2ZU1hcmtkb3duSW5wdXRGaWVsZHMgPSBbXTtcblx0XHR0aGlzLm1hcmtEb3duSW5wdXRGaWVsZEluZGV4ID0gMDtcblxuXHRcdHRoaXMucmVnaXN0ZXJNYXJrZG93blBvc3RQcm9jZXNzb3IoKGVsZW1lbnQsIGNvbnRleHQpID0+IHtcblx0XHRcdGNvbnN0IGNvZGVCbG9ja3MgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2NvZGUnKTtcblx0XHRcdGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBjb2RlQmxvY2tzLmxlbmd0aDsgaW5kZXgrKykge1xuXHRcdFx0XHRjb25zdCBjb2RlQmxvY2sgPSBjb2RlQmxvY2tzLml0ZW0oaW5kZXgpO1xuXHRcdFx0XHRjb25zdCB0ZXh0ID0gY29kZUJsb2NrLmlubmVyVGV4dDtcblx0XHRcdFx0Y29uc3QgaXNJbnB1dEZpZWxkID0gdGV4dC5zdGFydHNXaXRoKCdJTlBVVFsnKSAmJiB0ZXh0LmVuZHNXaXRoKCddJyk7XG5cdFx0XHRcdC8vIGNvbnNvbGUubG9nKGNvbnRleHQuc291cmNlUGF0aCk7XG5cdFx0XHRcdGlmIChpc0lucHV0RmllbGQpIHtcblx0XHRcdFx0XHRjb250ZXh0LmFkZENoaWxkKFxuXHRcdFx0XHRcdFx0bmV3IElucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkKFxuXHRcdFx0XHRcdFx0XHRjb2RlQmxvY2ssXG5cdFx0XHRcdFx0XHRcdElucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkVHlwZS5JTkxJTkVfQ09ERV9CTE9DSyxcblx0XHRcdFx0XHRcdFx0dGV4dCxcblx0XHRcdFx0XHRcdFx0dGhpcyxcblx0XHRcdFx0XHRcdFx0Y29udGV4dC5zb3VyY2VQYXRoLFxuXHRcdFx0XHRcdFx0XHR0aGlzLm1hcmtEb3duSW5wdXRGaWVsZEluZGV4XG5cdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHR0aGlzLm1hcmtEb3duSW5wdXRGaWVsZEluZGV4ICs9IDE7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LCAxMDApO1xuXG5cdFx0dGhpcy5yZWdpc3Rlck1hcmtkb3duQ29kZUJsb2NrUHJvY2Vzc29yKCdtZXRhLWJpbmQnLCAoc291cmNlLCBlbCwgY3R4KSA9PiB7XG5cdFx0XHRjb25zdCBjb2RlQmxvY2sgPSBlbDtcblx0XHRcdGNvbnN0IHRleHQgPSBzb3VyY2UucmVwbGFjZSgvXFxuL2csICcnKTtcblx0XHRcdGNvbnN0IGlzSW5wdXRGaWVsZCA9IHRleHQuc3RhcnRzV2l0aCgnSU5QVVRbJykgJiYgdGV4dC5lbmRzV2l0aCgnXScpO1xuXHRcdFx0Ly8gY29uc29sZS5sb2coY29udGV4dC5zb3VyY2VQYXRoKTtcblx0XHRcdGlmIChpc0lucHV0RmllbGQpIHtcblx0XHRcdFx0Y3R4LmFkZENoaWxkKG5ldyBJbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZChjb2RlQmxvY2ssIElucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkVHlwZS5DT0RFX0JMT0NLLCB0ZXh0LCB0aGlzLCBjdHguc291cmNlUGF0aCwgdGhpcy5tYXJrRG93bklucHV0RmllbGRJbmRleCkpO1xuXHRcdFx0XHR0aGlzLm1hcmtEb3duSW5wdXRGaWVsZEluZGV4ICs9IDE7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHR0aGlzLnJlZ2lzdGVyRXZlbnQoXG5cdFx0XHR0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLm9uKCdjaGFuZ2VkJywgYXN5bmMgKGZpbGU6IFRGaWxlLCBkYXRhOiBzdHJpbmcsIGNhY2hlOiBDYWNoZWRNZXRhZGF0YSkgPT4ge1xuXHRcdFx0XHRhd2FpdCB0aGlzLnVwZGF0ZU1hcmtkb3duSW5wdXRGaWVsZHNPbk1ldGFkYXRhQ2FjaGVDaGFuZ2UoZmlsZSwgY2FjaGUpO1xuXHRcdFx0fSlcblx0XHQpO1xuXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBNZXRhQmluZFNldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcblx0fVxuXG5cdG9udW5sb2FkKCk6IHZvaWQge1xuXHRcdGZvciAoY29uc3QgYWN0aXZlTWFya2Rvd25JbnB1dEZpZWxkIG9mIHRoaXMuYWN0aXZlTWFya2Rvd25JbnB1dEZpZWxkcykge1xuXHRcdFx0YWN0aXZlTWFya2Rvd25JbnB1dEZpZWxkLnVubG9hZCgpO1xuXHRcdH1cblx0fVxuXG5cdHJlZ2lzdGVySW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQoaW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQ6IElucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkKTogdm9pZCB7XG5cdFx0Y29uc29sZS5kZWJ1ZyhgbWV0YS1iaW5kIHwgcmVnaXN0ZXJlZCBpbnB1dCBmaWVsZCAke2lucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkLnVpZH1gKTtcblx0XHR0aGlzLmFjdGl2ZU1hcmtkb3duSW5wdXRGaWVsZHMucHVzaChpbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZCk7XG5cdH1cblxuXHR1bnJlZ2lzdGVySW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQoaW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQ6IElucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkKTogdm9pZCB7XG5cdFx0Y29uc29sZS5kZWJ1ZyhgbWV0YS1iaW5kIHwgdW5yZWdpc3RlcmVkIGlucHV0IGZpZWxkICR7aW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQudWlkfWApO1xuXHRcdHRoaXMuYWN0aXZlTWFya2Rvd25JbnB1dEZpZWxkcyA9IHRoaXMuYWN0aXZlTWFya2Rvd25JbnB1dEZpZWxkcy5maWx0ZXIoeCA9PiB4LnVpZCAhPT0gaW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQudWlkKTtcblx0fVxuXG5cdHVwZGF0ZU1hcmtkb3duSW5wdXRGaWVsZHNPbk1ldGFkYXRhQ2FjaGVDaGFuZ2UoZmlsZTogVEZpbGUsIGNhY2hlOiBDYWNoZWRNZXRhZGF0YSk6IHZvaWQge1xuXHRcdGNvbnN0IG1ldGFkYXRhOiBGcm9udE1hdHRlckNhY2hlIHwgdW5kZWZpbmVkID0gY2FjaGUuZnJvbnRtYXR0ZXI7XG5cblx0XHRpZiAoIW1ldGFkYXRhKSB7XG5cdFx0XHRjb25zb2xlLndhcm4obmV3IE1ldGFCaW5kSW50ZXJuYWxFcnJvcihgQ2FuIG5vdCB1cGRhdGUgbWV0YWRhdGEgZm9yIGlucHV0IGZpZWxkcywgcmVjZWl2ZWQgbWV0YWRhdGEgaXMgJHttZXRhZGF0YX1gKSk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Zm9yIChjb25zdCBhY3RpdmVNYXJrZG93bklucHV0RmllbGQgb2YgdGhpcy5hY3RpdmVNYXJrZG93bklucHV0RmllbGRzKSB7XG5cdFx0XHRpZiAoIWFjdGl2ZU1hcmtkb3duSW5wdXRGaWVsZC5pbnB1dEZpZWxkRGVjbGFyYXRpb24/LmlzQm91bmQgfHwgIWFjdGl2ZU1hcmtkb3duSW5wdXRGaWVsZC5iaW5kVGFyZ2V0RmlsZSB8fCAhYWN0aXZlTWFya2Rvd25JbnB1dEZpZWxkLmJpbmRUYXJnZXRNZXRhZGF0YUZpZWxkKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoYWN0aXZlTWFya2Rvd25JbnB1dEZpZWxkLmJpbmRUYXJnZXRGaWxlLnBhdGggPT09IGZpbGUucGF0aCkge1xuXHRcdFx0XHRhY3RpdmVNYXJrZG93bklucHV0RmllbGQucHVzaFRvSW5wdXRGaWVsZFZhbHVlVXBkYXRlUXVldWUodHJhdmVyc2VPYmplY3QoYWN0aXZlTWFya2Rvd25JbnB1dEZpZWxkLmJpbmRUYXJnZXRNZXRhZGF0YUZpZWxkLCBtZXRhZGF0YSkpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGdldEZpbGVzQnlOYW1lKG5hbWU6IHN0cmluZyk6IFRGaWxlW10ge1xuXHRcdGNvbnNvbGUubG9nKGdldEZpbGVOYW1lKHJlbW92ZUZpbGVFbmRpbmcobmFtZSkpKTtcblx0XHRjb25zdCBmaWxlTmFtZUlzUGF0aCA9IGlzUGF0aChuYW1lKTtcblx0XHRjb25zdCBwcm9jZXNzZWRGaWxlTmFtZSA9IGZpbGVOYW1lSXNQYXRoID8gcmVtb3ZlRmlsZUVuZGluZyhuYW1lKSA6IGdldEZpbGVOYW1lKHJlbW92ZUZpbGVFbmRpbmcobmFtZSkpO1xuXG5cdFx0Y29uc3QgYWxsRmlsZXMgPSB0aGlzLmFwcC52YXVsdC5nZXRNYXJrZG93bkZpbGVzKCk7XG5cdFx0Y29uc3QgZmlsZXM6IFRGaWxlW10gPSBbXTtcblx0XHRmb3IgKGNvbnN0IGZpbGUgb2YgYWxsRmlsZXMpIHtcblx0XHRcdC8vIGNvbnNvbGUubG9nKHJlbW92ZUZpbGVFbmRpbmcoZmlsZS5wYXRoKSk7XG5cdFx0XHRpZiAoZmlsZU5hbWVJc1BhdGgpIHtcblx0XHRcdFx0aWYgKHJlbW92ZUZpbGVFbmRpbmcoZmlsZS5wYXRoKSA9PT0gcHJvY2Vzc2VkRmlsZU5hbWUpIHtcblx0XHRcdFx0XHRmaWxlcy5wdXNoKGZpbGUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAoZ2V0RmlsZU5hbWUocmVtb3ZlRmlsZUVuZGluZyhmaWxlLm5hbWUpKSA9PT0gcHJvY2Vzc2VkRmlsZU5hbWUpIHtcblx0XHRcdFx0XHRmaWxlcy5wdXNoKGZpbGUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZpbGVzO1xuXHR9XG5cblx0YXN5bmMgbG9hZFNldHRpbmdzKCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xuXHR9XG5cblx0YXN5bmMgc2F2ZVNldHRpbmdzKCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdERhdGVQYXJzZXIuZGF0ZUZvcm1hdCA9IHRoaXMuc2V0dGluZ3MucHJlZmVycmVkRGF0ZUZvcm1hdDtcblx0XHRJbnB1dEZpZWxkRGVjbGFyYXRpb25QYXJzZXIucGFyc2VUZW1wbGF0ZXModGhpcy5zZXR0aW5ncy5pbnB1dFRlbXBsYXRlcyk7XG5cdFx0YXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcblx0fVxufVxuIiwgImltcG9ydCB7IEFwcCwgUGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZywgVGV4dEFyZWFDb21wb25lbnQgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgTWV0YUJpbmRQbHVnaW4gZnJvbSAnLi4vbWFpbic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWV0YUJpbmRQbHVnaW5TZXR0aW5ncyB7XG5cdGRldk1vZGU6IGJvb2xlYW47XG5cdHByZWZlcnJlZERhdGVGb3JtYXQ6IHN0cmluZztcblx0dXNlVXNEYXRlSW5wdXRPcmRlcjogYm9vbGVhbjtcblx0c3luY0ludGVydmFsOiBudW1iZXI7XG5cdG1heFN5bmNJbnRlcnZhbDogbnVtYmVyO1xuXHRtaW5TeW5jSW50ZXJ2YWw6IG51bWJlcjtcblxuXHRpbnB1dFRlbXBsYXRlczogc3RyaW5nO1xufVxuXG5leHBvcnQgY29uc3QgREVGQVVMVF9TRVRUSU5HUzogTWV0YUJpbmRQbHVnaW5TZXR0aW5ncyA9IHtcblx0ZGV2TW9kZTogZmFsc2UsXG5cdHByZWZlcnJlZERhdGVGb3JtYXQ6ICdZWVlZLU1NLUREJyxcblx0dXNlVXNEYXRlSW5wdXRPcmRlcjogZmFsc2UsXG5cdHN5bmNJbnRlcnZhbDogMjAwLFxuXHRtaW5TeW5jSW50ZXJ2YWw6IDUwLFxuXHRtYXhTeW5jSW50ZXJ2YWw6IDEwMDAsXG5cblx0aW5wdXRUZW1wbGF0ZXM6ICcnLFxufTtcblxuZXhwb3J0IGNsYXNzIE1ldGFCaW5kU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xuXHRwbHVnaW46IE1ldGFCaW5kUGx1Z2luO1xuXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IE1ldGFCaW5kUGx1Z2luKSB7XG5cdFx0c3VwZXIoYXBwLCBwbHVnaW4pO1xuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xuXHR9XG5cblx0ZGlzcGxheSgpOiB2b2lkIHtcblx0XHRjb25zdCB7IGNvbnRhaW5lckVsIH0gPSB0aGlzO1xuXG5cdFx0Y29udGFpbmVyRWwuZW1wdHkoKTtcblxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ01ldGEgQmluZCBQbHVnaW4gU2V0dGluZ3MnIH0pO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnU3luYyBpbnRlcnZhbCcpXG5cdFx0XHQuc2V0RGVzYyhcblx0XHRcdFx0YFRoZSBpbnRlcnZhbCBpbiBtaWxsaS1zZWNvbmRzIGJldHdlZW4gZGlzayB3cml0ZXMuIENoYW5naW5nIHRoaXMgbnVtYmVyIGlzIG5vdCByZWNvbW1lbmRlZCBleGNlcHQgaWYgeW91ciBoYXJkIGRyaXZlIGlzIGV4Y2VwdGlvbmFsbHkgc2xvdy4gU3RhbmRhcmQ6ICR7REVGQVVMVF9TRVRUSU5HUy5zeW5jSW50ZXJ2YWx9OyBNaW5pbXVtOiAke0RFRkFVTFRfU0VUVElOR1MubWluU3luY0ludGVydmFsfTsgTWF4aW11bTogJHtERUZBVUxUX1NFVFRJTkdTLm1heFN5bmNJbnRlcnZhbH1gXG5cdFx0XHQpXG5cdFx0XHQuYWRkVGV4dChjYiA9PiB7XG5cdFx0XHRcdGNiLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnN5bmNJbnRlcnZhbC50b1N0cmluZygpKTtcblx0XHRcdFx0Y2Iub25DaGFuZ2UoZGF0YSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Muc3luY0ludGVydmFsID0gTnVtYmVyLnBhcnNlSW50KGRhdGEpO1xuXHRcdFx0XHRcdGlmIChOdW1iZXIuaXNOYU4odGhpcy5wbHVnaW4uc2V0dGluZ3Muc3luY0ludGVydmFsKSkge1xuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Muc3luY0ludGVydmFsID0gREVGQVVMVF9TRVRUSU5HUy5zeW5jSW50ZXJ2YWw7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zeW5jSW50ZXJ2YWwgPCBERUZBVUxUX1NFVFRJTkdTLm1pblN5bmNJbnRlcnZhbCkge1xuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Muc3luY0ludGVydmFsID0gREVGQVVMVF9TRVRUSU5HUy5taW5TeW5jSW50ZXJ2YWw7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zeW5jSW50ZXJ2YWwgPiBERUZBVUxUX1NFVFRJTkdTLm1heFN5bmNJbnRlcnZhbCkge1xuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Muc3luY0ludGVydmFsID0gREVGQVVMVF9TRVRUSU5HUy5tYXhTeW5jSW50ZXJ2YWw7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnRGF0ZSBmb3JtYXQnKVxuXHRcdFx0LnNldERlc2MoXG5cdFx0XHRcdGBUaGUgZGF0ZSBmb3JtYXQgdG8gYmUgdXNlZCBieSB0aGlzIHBsdWdpbi4gQ2hhbmdpbmcgdGhpcyBzZXR0aW5nIHdpbGwgYnJlYWsgdGhlIHBhcnNpbmcgb2YgZXhpc3RpbmcgZGF0ZSBpbnB1dHMuIEhlcmUgaXMgYSBsaXN0IG9mIGFsbCBhdmFpbGFibGUgZGF0ZSB0b2tlcyBodHRwczovL21vbWVudGpzLmNvbS9kb2NzLyMvZGlzcGxheWluZy8uYFxuXHRcdFx0KVxuXHRcdFx0LmFkZFRleHQoY2IgPT4ge1xuXHRcdFx0XHRjYi5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcmVmZXJyZWREYXRlRm9ybWF0KTtcblx0XHRcdFx0Y2Iub25DaGFuZ2UoZGF0YSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MucHJlZmVycmVkRGF0ZUZvcm1hdCA9IGRhdGE7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdVc2UgVVMgZGF0ZSBpbnB1dCBmaWVsZCBvcmRlcicpXG5cdFx0XHQuc2V0RGVzYyhgV2hlbiBlbmFibGVkIHRoZSBtb250aCBpbnB1dCBpcyBiZWZvcmUgdGhlIGRheSBpbnB1dC5gKVxuXHRcdFx0LmFkZFRvZ2dsZShjYiA9PiB7XG5cdFx0XHRcdGNiLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnVzZVVzRGF0ZUlucHV0T3JkZXIpO1xuXHRcdFx0XHRjYi5vbkNoYW5nZShkYXRhID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy51c2VVc0RhdGVJbnB1dE9yZGVyID0gZGF0YTtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ1RlbXBsYXRlcycpXG5cdFx0XHQuc2V0RGVzYyhgWW91IGNhbiBzcGVjaWZ5IHRlbXBsYXRlcyBoZXJlLCBhbmQgYWNjZXNzIHRoZW0gdXNpbmcgXFxgSU5QVVRbdGVtcGxhdGVfbmFtZV1bb3ZlcnJpZGVzIChvcHRpb25hbCldXFxgIGluIHlvdXIgbm90ZXMuYCk7XG5cblx0XHRjb25zdCB0YSA9IG5ldyBUZXh0QXJlYUNvbXBvbmVudChjb250YWluZXJFbCk7XG5cdFx0dGEuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuaW5wdXRUZW1wbGF0ZXMpO1xuXHRcdHRhLnNldFBsYWNlaG9sZGVyKCd0ZW1wbGF0ZV9uYW1lIC0+IElOUFVUW2lucHV0X3R5cGUoYXJndW1lbnQodmFsdWUpKTpiaW5kX3RhcmdldF0nKTtcblx0XHR0YS5pbnB1dEVsLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuXHRcdHRhLmlucHV0RWwuc3R5bGUuaGVpZ2h0ID0gJzIwMHB4Jztcblx0XHR0YS5vbkNoYW5nZShkYXRhID0+IHtcblx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmlucHV0VGVtcGxhdGVzID0gZGF0YTtcblx0XHRcdHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdH0pO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnRGV2IE1vZGUnKVxuXHRcdFx0LnNldERlc2MoJ0VuYWJsZSBkZXYgbW9kZS4gTm90IHJlY29tbWVuZGVkIHVubGVzcyB5b3Ugd2FudCB0byBkZWJ1ZyB0aGlzIHBsdWdpbi4nKVxuXHRcdFx0LmFkZFRvZ2dsZShjYiA9PiB7XG5cdFx0XHRcdGNiLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmRldk1vZGUpO1xuXHRcdFx0XHRjYi5vbkNoYW5nZShkYXRhID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5kZXZNb2RlID0gZGF0YTtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0fVxufVxuIiwgImltcG9ydCB7IE1hcmtkb3duUmVuZGVyQ2hpbGQsIFRGaWxlIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IE1ldGFCaW5kUGx1Z2luIGZyb20gJy4vbWFpbic7XG5pbXBvcnQgeyBBYnN0cmFjdElucHV0RmllbGQgfSBmcm9tICcuL2lucHV0RmllbGRzL0Fic3RyYWN0SW5wdXRGaWVsZCc7XG5pbXBvcnQgeyBJbnB1dEZpZWxkRmFjdG9yeSB9IGZyb20gJy4vaW5wdXRGaWVsZHMvSW5wdXRGaWVsZEZhY3RvcnknO1xuaW1wb3J0IHsgSW5wdXRGaWVsZEFyZ3VtZW50VHlwZSwgSW5wdXRGaWVsZERlY2xhcmF0aW9uLCBJbnB1dEZpZWxkRGVjbGFyYXRpb25QYXJzZXIgfSBmcm9tICcuL3BhcnNlcnMvSW5wdXRGaWVsZERlY2xhcmF0aW9uUGFyc2VyJztcbmltcG9ydCB7IE1ldGFCaW5kQmluZFRhcmdldEVycm9yLCBNZXRhQmluZEludGVybmFsRXJyb3IgfSBmcm9tICcuL3V0aWxzL1V0aWxzJztcbmltcG9ydCB7IEFic3RyYWN0SW5wdXRGaWVsZEFyZ3VtZW50IH0gZnJvbSAnLi9pbnB1dEZpZWxkQXJndW1lbnRzL0Fic3RyYWN0SW5wdXRGaWVsZEFyZ3VtZW50JztcbmltcG9ydCB7IENsYXNzSW5wdXRGaWVsZEFyZ3VtZW50IH0gZnJvbSAnLi9pbnB1dEZpZWxkQXJndW1lbnRzL0NsYXNzSW5wdXRGaWVsZEFyZ3VtZW50JztcbmltcG9ydCB7IGdldEZyb250bWF0dGVyT2ZURmlsZSwgdXBkYXRlT3JJbnNlcnRGaWVsZEluVEZpbGUgfSBmcm9tICdAb3BkLWxpYnMvb3BkLW1ldGFkYXRhLWxpYi9saWIvQVBJJztcbmltcG9ydCB7IHRyYXZlcnNlT2JqZWN0LCB2YWxpZGF0ZVBhdGggYXMgdmFsaWRhdGVPYmplY3RQYXRoIH0gZnJvbSAnQG9wZC1saWJzL29wZC1tZXRhZGF0YS1saWIvbGliL1V0aWxzJztcblxuZXhwb3J0IGVudW0gSW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGRUeXBlIHtcblx0SU5MSU5FX0NPREVfQkxPQ0ssXG5cdENPREVfQkxPQ0ssXG59XG5cbmV4cG9ydCBjbGFzcyBJbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZCBleHRlbmRzIE1hcmtkb3duUmVuZGVyQ2hpbGQge1xuXHRwbHVnaW46IE1ldGFCaW5kUGx1Z2luO1xuXHRtZXRhRGF0YTogYW55O1xuXHRmaWxlUGF0aDogc3RyaW5nO1xuXHR1aWQ6IG51bWJlcjtcblx0aW5wdXRGaWVsZDogQWJzdHJhY3RJbnB1dEZpZWxkIHwgdW5kZWZpbmVkO1xuXHRlcnJvcjogc3RyaW5nO1xuXHR0eXBlOiBJbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZFR5cGU7XG5cblx0ZnVsbERlY2xhcmF0aW9uOiBzdHJpbmc7XG5cdGlucHV0RmllbGREZWNsYXJhdGlvbjogSW5wdXRGaWVsZERlY2xhcmF0aW9uIHwgdW5kZWZpbmVkO1xuXHRiaW5kVGFyZ2V0RmlsZTogVEZpbGUgfCB1bmRlZmluZWQ7XG5cdGJpbmRUYXJnZXRNZXRhZGF0YUZpZWxkOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cblx0bGltaXRJbnRlcnZhbDogbnVtYmVyIHwgdW5kZWZpbmVkO1xuXHRpbnRlcnZhbENvdW50ZXI6IG51bWJlcjtcblx0bWV0YWRhdGFWYWx1ZVVwZGF0ZVF1ZXVlOiBhbnlbXTtcblx0aW5wdXRGaWVsZFZhbHVlVXBkYXRlUXVldWU6IGFueVtdO1xuXG5cdGNvbnN0cnVjdG9yKGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudCwgdHlwZTogSW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGRUeXBlLCBmdWxsRGVjbGFyYXRpb246IHN0cmluZywgcGx1Z2luOiBNZXRhQmluZFBsdWdpbiwgZmlsZVBhdGg6IHN0cmluZywgdWlkOiBudW1iZXIpIHtcblx0XHRzdXBlcihjb250YWluZXJFbCk7XG5cblx0XHR0aGlzLmVycm9yID0gJyc7XG5cdFx0dGhpcy5maWxlUGF0aCA9IGZpbGVQYXRoO1xuXHRcdHRoaXMudWlkID0gdWlkO1xuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xuXHRcdHRoaXMudHlwZSA9IHR5cGU7XG5cdFx0dGhpcy5mdWxsRGVjbGFyYXRpb24gPSBmdWxsRGVjbGFyYXRpb247XG5cblx0XHR0aGlzLm1ldGFkYXRhVmFsdWVVcGRhdGVRdWV1ZSA9IFtdO1xuXHRcdHRoaXMuaW5wdXRGaWVsZFZhbHVlVXBkYXRlUXVldWUgPSBbXTtcblx0XHR0aGlzLmludGVydmFsQ291bnRlciA9IDA7XG5cblx0XHR0cnkge1xuXHRcdFx0dGhpcy5pbnB1dEZpZWxkRGVjbGFyYXRpb24gPSBJbnB1dEZpZWxkRGVjbGFyYXRpb25QYXJzZXIucGFyc2UoZnVsbERlY2xhcmF0aW9uKTtcblxuXHRcdFx0aWYgKHRoaXMuaW5wdXRGaWVsZERlY2xhcmF0aW9uLmlzQm91bmQpIHtcblx0XHRcdFx0dGhpcy5wYXJzZUJpbmRUYXJnZXQoKTtcblx0XHRcdFx0dGhpcy5tZXRhRGF0YSA9IGdldEZyb250bWF0dGVyT2ZURmlsZSh0aGlzLmJpbmRUYXJnZXRGaWxlIGFzIFRGaWxlLCB0aGlzLnBsdWdpbik7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuaW5wdXRGaWVsZCA9IElucHV0RmllbGRGYWN0b3J5LmNyZWF0ZUlucHV0RmllbGQodGhpcy5pbnB1dEZpZWxkRGVjbGFyYXRpb24uaW5wdXRGaWVsZFR5cGUsIHtcblx0XHRcdFx0dHlwZTogdHlwZSxcblx0XHRcdFx0aW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQ6IHRoaXMsXG5cdFx0XHRcdG9uVmFsdWVDaGFuZ2VkOiB0aGlzLnB1c2hUb01ldGFkYXRhVmFsdWVVcGRhdGVRdWV1ZS5iaW5kKHRoaXMpLFxuXHRcdFx0fSk7XG5cblx0XHRcdHRoaXMubGltaXRJbnRlcnZhbCA9IHdpbmRvdy5zZXRJbnRlcnZhbCgoKSA9PiB0aGlzLmFwcGx5VmFsdWVVcGRhdGVRdWV1ZXMoKSwgdGhpcy5wbHVnaW4uc2V0dGluZ3Muc3luY0ludGVydmFsKTtcblx0XHR9IGNhdGNoIChlOiBhbnkpIHtcblx0XHRcdHRoaXMuZXJyb3IgPSBlLm1lc3NhZ2U7XG5cdFx0XHRjb25zb2xlLndhcm4oZSk7XG5cdFx0fVxuXHR9XG5cblx0cGFyc2VCaW5kVGFyZ2V0KCk6IHZvaWQge1xuXHRcdGlmICghdGhpcy5pbnB1dEZpZWxkRGVjbGFyYXRpb24pIHtcblx0XHRcdHRocm93IG5ldyBNZXRhQmluZEludGVybmFsRXJyb3IoJ2lucHV0RmllbGREZWNsYXJhdGlvbiBpcyB1bmRlZmluZWQsIGNhbiBub3QgcGFyc2UgYmluZCB0YXJnZXQnKTtcblx0XHR9XG5cblx0XHRjb25zdCBiaW5kVGFyZ2V0UGFydHMgPSB0aGlzLmlucHV0RmllbGREZWNsYXJhdGlvbi5iaW5kVGFyZ2V0LnNwbGl0KCcjJyk7XG5cdFx0bGV0IGJpbmRUYXJnZXRGaWxlTmFtZTtcblx0XHRsZXQgYmluZFRhcmdldE1ldGFkYXRhRmllbGROYW1lO1xuXG5cdFx0aWYgKGJpbmRUYXJnZXRQYXJ0cy5sZW5ndGggPT09IDEpIHtcblx0XHRcdC8vIHRoZSBiaW5kIHRhcmdldCBpcyBpbiB0aGUgc2FtZSBmaWxlXG5cdFx0XHRiaW5kVGFyZ2V0RmlsZU5hbWUgPSB0aGlzLmZpbGVQYXRoO1xuXHRcdFx0YmluZFRhcmdldE1ldGFkYXRhRmllbGROYW1lID0gdGhpcy5pbnB1dEZpZWxkRGVjbGFyYXRpb24uYmluZFRhcmdldDtcblx0XHR9IGVsc2UgaWYgKGJpbmRUYXJnZXRQYXJ0cy5sZW5ndGggPT09IDIpIHtcblx0XHRcdC8vIHRoZSBiaW5kIHRhcmdldCBpcyBpbiBhbm90aGVyIGZpbGVcblx0XHRcdGJpbmRUYXJnZXRGaWxlTmFtZSA9IGJpbmRUYXJnZXRQYXJ0c1swXTtcblx0XHRcdGJpbmRUYXJnZXRNZXRhZGF0YUZpZWxkTmFtZSA9IGJpbmRUYXJnZXRQYXJ0c1sxXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhyb3cgbmV3IE1ldGFCaW5kQmluZFRhcmdldEVycm9yKFwiYmluZCB0YXJnZXQgbWF5IG9ubHkgY29udGFpbiBvbmUgJyMnIHRvIHNwZWNpZnkgdGhlIG1ldGFkYXRhIGZpZWxkXCIpO1xuXHRcdH1cblxuXHRcdHRyeSB7XG5cdFx0XHR2YWxpZGF0ZU9iamVjdFBhdGgoYmluZFRhcmdldE1ldGFkYXRhRmllbGROYW1lKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRpZiAoZSBpbnN0YW5jZW9mIEVycm9yKSB7XG5cdFx0XHRcdHRocm93IG5ldyBNZXRhQmluZEJpbmRUYXJnZXRFcnJvcihgYmluZCB0YXJnZXQgcGFyc2luZyBlcnJvcjogJHtlPy5tZXNzYWdlfWApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRoaXMuYmluZFRhcmdldE1ldGFkYXRhRmllbGQgPSBiaW5kVGFyZ2V0TWV0YWRhdGFGaWVsZE5hbWU7XG5cblx0XHRjb25zdCBmaWxlczogVEZpbGVbXSA9IHRoaXMucGx1Z2luLmdldEZpbGVzQnlOYW1lKGJpbmRUYXJnZXRGaWxlTmFtZSk7XG5cdFx0aWYgKGZpbGVzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0dGhyb3cgbmV3IE1ldGFCaW5kQmluZFRhcmdldEVycm9yKCdiaW5kIHRhcmdldCBmaWxlIG5vdCBmb3VuZCcpO1xuXHRcdH0gZWxzZSBpZiAoZmlsZXMubGVuZ3RoID09PSAxKSB7XG5cdFx0XHR0aGlzLmJpbmRUYXJnZXRGaWxlID0gZmlsZXNbMF07XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRocm93IG5ldyBNZXRhQmluZEJpbmRUYXJnZXRFcnJvcignYmluZCB0YXJnZXQgcmVzb2x2ZXMgdG8gbXVsdGlwbGUgZmlsZXMsIHBsZWFzZSBhbHNvIHNwZWNpZnkgdGhlIGZpbGUgcGF0aCcpO1xuXHRcdH1cblx0fVxuXG5cdC8vIHVzZSB0aGlzIGludGVydmFsIHRvIHJlZHVjZSB3cml0aW5nIG9wZXJhdGlvbnNcblx0YXN5bmMgYXBwbHlWYWx1ZVVwZGF0ZVF1ZXVlcygpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRpZiAodGhpcy5tZXRhZGF0YVZhbHVlVXBkYXRlUXVldWUubGVuZ3RoICE9PSAwKSB7XG5cdFx0XHRjb25zb2xlLmRlYnVnKGBtZXRhLWJpbmQgfCBhcHBseWluZyB0byBtZXRhZGF0YVVwZGF0ZVF1ZXVlIHRvIGZpZWxkICR7dGhpcy51aWR9YCk7XG5cdFx0XHRhd2FpdCB0aGlzLmFwcGx5TWV0YWRhdGFWYWx1ZVVwZGF0ZVF1ZXVlKCk7XG5cdFx0XHR0aGlzLmNsZWFuVXBVcGRhdGVRdWV1ZXMoKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5pbnB1dEZpZWxkVmFsdWVVcGRhdGVRdWV1ZS5sZW5ndGggIT09IDApIHtcblx0XHRcdGNvbnNvbGUuZGVidWcoYG1ldGEtYmluZCB8IGFwcGx5aW5nIHRvIGlucHV0RmllbGRWYWx1ZVVwZGF0ZVF1ZXVlIHRvIGZpZWxkICR7dGhpcy51aWR9YCk7XG5cdFx0XHRhd2FpdCB0aGlzLmFwcGx5SW5wdXRGaWVsZFZhbHVlVXBkYXRlUXVldWUoKTtcblx0XHRcdHRoaXMuY2xlYW5VcFVwZGF0ZVF1ZXVlcygpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0fVxuXG5cdGFzeW5jIGFwcGx5TWV0YWRhdGFWYWx1ZVVwZGF0ZVF1ZXVlKCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGlmICghdGhpcy5pbnB1dEZpZWxkRGVjbGFyYXRpb24pIHtcblx0XHRcdHRocm93IG5ldyBNZXRhQmluZEludGVybmFsRXJyb3IoJ2lucHV0RmllbGREZWNsYXJhdGlvbiBpcyB1bmRlZmluZWQsIGNhbiBub3QgdXBkYXRlIG1ldGFkYXRhJyk7XG5cdFx0fVxuXHRcdGlmICghdGhpcy5pbnB1dEZpZWxkRGVjbGFyYXRpb24uaXNCb3VuZCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRpZiAoIXRoaXMuYmluZFRhcmdldE1ldGFkYXRhRmllbGQgfHwgIXRoaXMuYmluZFRhcmdldEZpbGUpIHtcblx0XHRcdHRocm93IG5ldyBNZXRhQmluZEludGVybmFsRXJyb3IoJ2JpbmRUYXJnZXRNZXRhZGF0YUZpZWxkIG9yIGJpbmRUYXJnZXRGaWxlIGlzIHVuZGVmaW5lZCwgY2FuIG5vdCB1cGRhdGUgbWV0YWRhdGEnKTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5tZXRhZGF0YVZhbHVlVXBkYXRlUXVldWUubGVuZ3RoID4gMCkge1xuXHRcdFx0YXdhaXQgdXBkYXRlT3JJbnNlcnRGaWVsZEluVEZpbGUodGhpcy5iaW5kVGFyZ2V0TWV0YWRhdGFGaWVsZCwgdGhpcy5tZXRhZGF0YVZhbHVlVXBkYXRlUXVldWUuYXQoLTEpLCB0aGlzLmJpbmRUYXJnZXRGaWxlLCB0aGlzLnBsdWdpbik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRocm93IG5ldyBNZXRhQmluZEludGVybmFsRXJyb3IoYGNhbm5vdCBhcHBseSBtZXRhZGF0YVZhbHVlVXBkYXRlUXVldWUgdG8gaW5wdXRGaWVsZCAke3RoaXMudWlkfSwgbWV0YWRhdGFWYWx1ZVVwZGF0ZVF1ZXVlIGlzIGVtcHR5YCk7XG5cdFx0fVxuXHR9XG5cblx0YXN5bmMgYXBwbHlJbnB1dEZpZWxkVmFsdWVVcGRhdGVRdWV1ZSgpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRpZiAoIXRoaXMuaW5wdXRGaWVsZERlY2xhcmF0aW9uKSB7XG5cdFx0XHR0aHJvdyBuZXcgTWV0YUJpbmRJbnRlcm5hbEVycm9yKCdpbnB1dEZpZWxkRGVjbGFyYXRpb24gaXMgdW5kZWZpbmVkLCBjYW4gbm90IHVwZGF0ZSBpbnB1dEZpZWxkJyk7XG5cdFx0fVxuXHRcdGlmICghdGhpcy5pbnB1dEZpZWxkKSB7XG5cdFx0XHR0aHJvdyBuZXcgTWV0YUJpbmRJbnRlcm5hbEVycm9yKCdpbnB1dEZpZWxkIGlzIHVuZGVmaW5lZCwgY2FuIG5vdCB1cGRhdGUgaW5wdXRGaWVsZCcpO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLmlucHV0RmllbGRWYWx1ZVVwZGF0ZVF1ZXVlLmxlbmd0aCA+IDApIHtcblx0XHRcdGxldCB2YWx1ZSA9IHRoaXMuaW5wdXRGaWVsZFZhbHVlVXBkYXRlUXVldWUuYXQoLTEpO1xuXG5cdFx0XHRpZiAodmFsdWUgPT0gbnVsbCkge1xuXHRcdFx0XHR2YWx1ZSA9IHRoaXMuaW5wdXRGaWVsZC5nZXREZWZhdWx0VmFsdWUoKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5pbnB1dEZpZWxkLnNldFZhbHVlKHZhbHVlKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhyb3cgbmV3IE1ldGFCaW5kSW50ZXJuYWxFcnJvcihgY2Fubm90IGFwcGx5IGlucHV0RmllbGRWYWx1ZVVwZGF0ZVF1ZXVlIHRvIGlucHV0RmllbGQgJHt0aGlzLnVpZH0sIGlucHV0RmllbGRWYWx1ZVVwZGF0ZVF1ZXVlIGlzIGVtcHR5YCk7XG5cdFx0fVxuXHR9XG5cblx0Y2xlYW5VcFVwZGF0ZVF1ZXVlcygpOiB2b2lkIHtcblx0XHR0aGlzLm1ldGFkYXRhVmFsdWVVcGRhdGVRdWV1ZSA9IFtdO1xuXHRcdHRoaXMuaW5wdXRGaWVsZFZhbHVlVXBkYXRlUXVldWUgPSBbXTtcblx0fVxuXG5cdHB1c2hUb01ldGFkYXRhVmFsdWVVcGRhdGVRdWV1ZSh2YWx1ZTogYW55KTogdm9pZCB7XG5cdFx0aWYgKHRoaXMuaW5wdXRGaWVsZERlY2xhcmF0aW9uPy5pc0JvdW5kKSB7XG5cdFx0XHRjb25zb2xlLmRlYnVnKGBtZXRhLWJpbmQgfCBwdXNoZWQgdmFsdWUgJHt2YWx1ZX0gKHR5cGVvZiAke3R5cGVvZiB2YWx1ZX0pIHRvIG1ldGFkYXRhVXBkYXRlUXVldWUgb24gZmllbGQgJHt0aGlzLnVpZH1gKTtcblx0XHRcdHRoaXMubWV0YWRhdGFWYWx1ZVVwZGF0ZVF1ZXVlLnB1c2godmFsdWUpO1xuXHRcdH1cblx0fVxuXG5cdHB1c2hUb0lucHV0RmllbGRWYWx1ZVVwZGF0ZVF1ZXVlKHZhbHVlOiBhbnkpOiB2b2lkIHtcblx0XHRpZiAoIXRoaXMuaW5wdXRGaWVsZD8uaXNFcXVhbFZhbHVlKHZhbHVlKSkge1xuXHRcdFx0Y29uc29sZS5kZWJ1ZyhgbWV0YS1iaW5kIHwgcHVzaGVkIHZhbHVlICR7dmFsdWV9ICh0eXBlb2YgJHt0eXBlb2YgdmFsdWV9KSB0byBpbnB1dEZpZWxkVmFsdWVVcGRhdGVRdWV1ZSBvbiBmaWVsZCAke3RoaXMudWlkfWApO1xuXHRcdFx0dGhpcy5pbnB1dEZpZWxkVmFsdWVVcGRhdGVRdWV1ZS5wdXNoKHZhbHVlKTtcblx0XHR9XG5cdH1cblxuXHRnZXRJbml0aWFsVmFsdWUoKTogYW55IHwgdW5kZWZpbmVkIHtcblx0XHRpZiAodGhpcy5pbnB1dEZpZWxkRGVjbGFyYXRpb24/LmlzQm91bmQgJiYgdGhpcy5iaW5kVGFyZ2V0TWV0YWRhdGFGaWVsZCkge1xuXHRcdFx0Y29uc3QgdmFsdWUgPSB0cmF2ZXJzZU9iamVjdCh0aGlzLmJpbmRUYXJnZXRNZXRhZGF0YUZpZWxkLCB0aGlzLm1ldGFEYXRhKTtcblx0XHRcdGNvbnNvbGUuZGVidWcoYG1ldGEtYmluZCB8IHNldHRpbmcgaW5pdGlhbCB2YWx1ZSB0byAke3ZhbHVlfSAodHlwZW9mICR7dHlwZW9mIHZhbHVlfSkgZm9yIGlucHV0IGZpZWxkICR7dGhpcy51aWR9YCk7XG5cdFx0XHRyZXR1cm4gdmFsdWUgPz8gdGhpcy5pbnB1dEZpZWxkPy5nZXREZWZhdWx0VmFsdWUoKTtcblx0XHR9XG5cdH1cblxuXHRnZXRBcmd1bWVudHMobmFtZTogSW5wdXRGaWVsZEFyZ3VtZW50VHlwZSk6IEFic3RyYWN0SW5wdXRGaWVsZEFyZ3VtZW50W10ge1xuXHRcdGlmICghdGhpcy5pbnB1dEZpZWxkRGVjbGFyYXRpb24pIHtcblx0XHRcdHRocm93IG5ldyBNZXRhQmluZEludGVybmFsRXJyb3IoJ2lucHV0RmllbGREZWNsYXJhdGlvbiBpcyB1bmRlZmluZWQsIGNhbiBub3QgcmV0cmlldmUgYXJndW1lbnRzJyk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuaW5wdXRGaWVsZERlY2xhcmF0aW9uLmFyZ3VtZW50Q29udGFpbmVyLmFyZ3VtZW50cy5maWx0ZXIoeCA9PiB4LmlkZW50aWZpZXIgPT09IG5hbWUpO1xuXHR9XG5cblx0Z2V0QXJndW1lbnQobmFtZTogSW5wdXRGaWVsZEFyZ3VtZW50VHlwZSk6IEFic3RyYWN0SW5wdXRGaWVsZEFyZ3VtZW50IHwgdW5kZWZpbmVkIHtcblx0XHRyZXR1cm4gdGhpcy5nZXRBcmd1bWVudHMobmFtZSkuYXQoMCk7XG5cdH1cblxuXHRhc3luYyBvbmxvYWQoKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0Y29uc29sZS5kZWJ1ZygnbWV0YS1iaW5kIHwgbG9hZCBpbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZCcsIHRoaXMpO1xuXG5cdFx0dGhpcy5tZXRhRGF0YSA9IGF3YWl0IHRoaXMubWV0YURhdGE7XG5cblx0XHRjb25zdCBjb250YWluZXI6IEhUTUxEaXZFbGVtZW50ID0gdGhpcy5jb250YWluZXJFbC5jcmVhdGVEaXYoKTtcblx0XHRjb250YWluZXIuYWRkQ2xhc3MoJ21ldGEtYmluZC1wbHVnaW4taW5wdXQtd3JhcHBlcicpO1xuXHRcdHRoaXMuY29udGFpbmVyRWwuYWRkQ2xhc3MoJ21ldGEtYmluZC1wbHVnaW4taW5wdXQnKTtcblxuXHRcdGlmICh0aGlzLmVycm9yKSB7XG5cdFx0XHR0aGlzLmNvbnRhaW5lckVsLmVtcHR5KCk7XG5cdFx0XHR0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZUVsKCdzcGFuJywgeyB0ZXh0OiB0aGlzLmZ1bGxEZWNsYXJhdGlvbiwgY2xzOiAnbWV0YS1iaW5kLWNvZGUnIH0pO1xuXHRcdFx0Y29udGFpbmVyLmlubmVyVGV4dCA9IGAgLT4gRVJST1I6ICR7dGhpcy5lcnJvcn1gO1xuXHRcdFx0Y29udGFpbmVyLmFkZENsYXNzKCdtZXRhLWJpbmQtcGx1Z2luLWVycm9yJyk7XG5cdFx0XHR0aGlzLmNvbnRhaW5lckVsLmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCF0aGlzLmlucHV0RmllbGQpIHtcblx0XHRcdHRoaXMuY29udGFpbmVyRWwuZW1wdHkoKTtcblx0XHRcdHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoJ3NwYW4nLCB7IHRleHQ6IHRoaXMuZnVsbERlY2xhcmF0aW9uLCBjbHM6ICdtZXRhLWJpbmQtY29kZScgfSk7XG5cdFx0XHRjb250YWluZXIuaW5uZXJUZXh0ID0gYCAtPiBFUlJPUjogJHtuZXcgTWV0YUJpbmRJbnRlcm5hbEVycm9yKCdpbnB1dCBmaWVsZCBpcyB1bmRlZmluZWQgYW5kIGVycm9yIGlzIGVtcHR5JykubWVzc2FnZX1gO1xuXHRcdFx0Y29udGFpbmVyLmFkZENsYXNzKCdtZXRhLWJpbmQtcGx1Z2luLWVycm9yJyk7XG5cdFx0XHR0aGlzLmNvbnRhaW5lckVsLmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGhpcy5wbHVnaW4ucmVnaXN0ZXJJbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZCh0aGlzKTtcblxuXHRcdHRoaXMuaW5wdXRGaWVsZC5yZW5kZXIoY29udGFpbmVyKTtcblxuXHRcdGNvbnN0IGNsYXNzQXJndW1lbnRzOiBDbGFzc0lucHV0RmllbGRBcmd1bWVudFtdID0gdGhpcy5nZXRBcmd1bWVudHMoSW5wdXRGaWVsZEFyZ3VtZW50VHlwZS5DTEFTUyk7XG5cdFx0aWYgKGNsYXNzQXJndW1lbnRzKSB7XG5cdFx0XHR0aGlzLmlucHV0RmllbGQuZ2V0SHRtbEVsZW1lbnQoKS5hZGRDbGFzc2VzKGNsYXNzQXJndW1lbnRzLm1hcCh4ID0+IHgudmFsdWUpLmZsYXQoKSk7XG5cdFx0fVxuXG5cdFx0dGhpcy5jb250YWluZXJFbC5lbXB0eSgpO1xuXHRcdHRoaXMuY29udGFpbmVyRWwuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcblx0fVxuXG5cdG9udW5sb2FkKCk6IHZvaWQge1xuXHRcdGNvbnNvbGUuZGVidWcoJ21ldGEtYmluZCB8IHVubG9hZCBpbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZCcsIHRoaXMpO1xuXG5cdFx0dGhpcy5wbHVnaW4udW5yZWdpc3RlcklucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkKHRoaXMpO1xuXG5cdFx0c3VwZXIub251bmxvYWQoKTtcblxuXHRcdHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMubGltaXRJbnRlcnZhbCk7XG5cdH1cbn1cbiIsICJpbXBvcnQgeyBJbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZCB9IGZyb20gJy4uL0lucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkJztcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFic3RyYWN0SW5wdXRGaWVsZCB7XG5cdHN0YXRpYyBhbGxvd0NvZGVCbG9jazogYm9vbGVhbiA9IHRydWU7XG5cdHN0YXRpYyBhbGxvd0lubGluZUNvZGVCbG9jazogYm9vbGVhbiA9IHRydWU7XG5cdGlucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkOiBJbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZDtcblx0b25WYWx1ZUNoYW5nZTogKHZhbHVlOiBhbnkpID0+IHZvaWQgfCBQcm9taXNlPHZvaWQ+O1xuXG5cdGNvbnN0cnVjdG9yKGlucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkOiBJbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZCwgb25WYWx1ZUNoYW5nZTogKHZhbHVlOiBhbnkpID0+IHZvaWQgfCBQcm9taXNlPHZvaWQ+KSB7XG5cdFx0dGhpcy5pbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZCA9IGlucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkO1xuXHRcdHRoaXMub25WYWx1ZUNoYW5nZSA9IG9uVmFsdWVDaGFuZ2U7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyB0aGUgY3VycmVudCBjb250ZW50IG9mIHRoZSBpbnB1dCBmaWVsZFxuXHQgKi9cblx0YWJzdHJhY3QgZ2V0VmFsdWUoKTogYW55O1xuXG5cdC8qKlxuXHQgKiBTZXRzIHRoZSB2YWx1ZSBvbiB0aGlzIGlucHV0IGZpZWxkLCBvdmVycmlkaW5nIHRoZSBjdXJyZW50IGNvbnRlbnRcblx0ICpcblx0ICogQHBhcmFtIHZhbHVlXG5cdCAqL1xuXHRhYnN0cmFjdCBzZXRWYWx1ZSh2YWx1ZTogYW55KTogdm9pZDtcblxuXHQvKipcblx0ICogQ2hlY2tzIGlmIHRoZSB2YWx1ZSBpcyB0aGUgc2FtZSBhcyB0aGUgdmFsdWUgb2YgdGhpcyBpbnB1dCBmaWVsZFxuXHQgKlxuXHQgKiBAcGFyYW0gdmFsdWVcblx0ICovXG5cdGFic3RyYWN0IGlzRXF1YWxWYWx1ZSh2YWx1ZTogYW55KTogYm9vbGVhbjtcblxuXHQvKipcblx0ICogUmV0dXJucyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGlzIGlucHV0IGZpZWxkXG5cdCAqL1xuXHRhYnN0cmFjdCBnZXREZWZhdWx0VmFsdWUoKTogYW55O1xuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIHRoZSBIVE1MIGVsZW1lbnQgdGhpcyBpbnB1dCBmaWVsZCBpcyB3cmFwcGVkIGluXG5cdCAqL1xuXHRhYnN0cmFjdCBnZXRIdG1sRWxlbWVudCgpOiBIVE1MRWxlbWVudDtcblxuXHQvKipcblx0ICogUmVuZGVycyB0aGUgaW5wdXQgZmllbGQgYXMgYSBjaGlsZCBvZiB0aGUgY29udGFpbmVyXG5cdCAqXG5cdCAqIEBwYXJhbSBjb250YWluZXJcblx0ICovXG5cdGFic3RyYWN0IHJlbmRlcihjb250YWluZXI6IEhUTUxEaXZFbGVtZW50KTogdm9pZDtcbn1cbiIsICJpbXBvcnQgeyBBYnN0cmFjdElucHV0RmllbGQgfSBmcm9tICcuL0Fic3RyYWN0SW5wdXRGaWVsZCc7XG5pbXBvcnQgeyBUb2dnbGVDb21wb25lbnQgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyBNZXRhQmluZEludGVybmFsRXJyb3IsIE1ldGFCaW5kVmFsdWVFcnJvciB9IGZyb20gJy4uL3V0aWxzL1V0aWxzJztcblxuZXhwb3J0IGNsYXNzIFRvZ2dsZUlucHV0RmllbGQgZXh0ZW5kcyBBYnN0cmFjdElucHV0RmllbGQge1xuXHR0b2dnbGVDb21wb25lbnQ6IFRvZ2dsZUNvbXBvbmVudCB8IHVuZGVmaW5lZDtcblxuXHRnZXRWYWx1ZSgpOiBib29sZWFuIHtcblx0XHRpZiAoIXRoaXMudG9nZ2xlQ29tcG9uZW50KSB7XG5cdFx0XHR0aHJvdyBuZXcgTWV0YUJpbmRJbnRlcm5hbEVycm9yKCd0b2dnbGUgaW5wdXQgY29tcG9uZW50IGlzIHVuZGVmaW5lZCcpO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy50b2dnbGVDb21wb25lbnQuZ2V0VmFsdWUoKTtcblx0fVxuXG5cdHNldFZhbHVlKHZhbHVlOiBhbnkpOiB2b2lkIHtcblx0XHRpZiAoIXRoaXMudG9nZ2xlQ29tcG9uZW50KSB7XG5cdFx0XHR0aHJvdyBuZXcgTWV0YUJpbmRJbnRlcm5hbEVycm9yKCd0b2dnbGUgaW5wdXQgY29tcG9uZW50IGlzIHVuZGVmaW5lZCcpO1xuXHRcdH1cblxuXHRcdGlmICh2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PSAnYm9vbGVhbicpIHtcblx0XHRcdHRoaXMudG9nZ2xlQ29tcG9uZW50LnNldFZhbHVlKHZhbHVlKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc29sZS53YXJuKG5ldyBNZXRhQmluZFZhbHVlRXJyb3IoYGludmFsaWQgdmFsdWUgJyR7dmFsdWV9JyBhdCB0b2dnbGVJbnB1dEZpZWxkICR7dGhpcy5pbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZC51aWR9YCkpO1xuXHRcdFx0dGhpcy50b2dnbGVDb21wb25lbnQuc2V0VmFsdWUoZmFsc2UpO1xuXHRcdH1cblx0fVxuXG5cdGlzRXF1YWxWYWx1ZSh2YWx1ZTogYW55KTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0VmFsdWUoKSA9PSB2YWx1ZTtcblx0fVxuXG5cdGdldERlZmF1bHRWYWx1ZSgpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRnZXRIdG1sRWxlbWVudCgpOiBIVE1MRWxlbWVudCB7XG5cdFx0aWYgKCF0aGlzLnRvZ2dsZUNvbXBvbmVudCkge1xuXHRcdFx0dGhyb3cgbmV3IE1ldGFCaW5kSW50ZXJuYWxFcnJvcigndG9nZ2xlIGlucHV0IGNvbXBvbmVudCBpcyB1bmRlZmluZWQnKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy50b2dnbGVDb21wb25lbnQudG9nZ2xlRWw7XG5cdH1cblxuXHRyZW5kZXIoY29udGFpbmVyOiBIVE1MRGl2RWxlbWVudCk6IHZvaWQge1xuXHRcdGNvbnNvbGUuZGVidWcoYG1ldGEtYmluZCB8IHJlbmRlciB0b2dnbGVJbnB1dEZpZWxkICR7dGhpcy5pbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZC51aWR9YCk7XG5cblx0XHRjb25zdCBjb21wb25lbnQgPSBuZXcgVG9nZ2xlQ29tcG9uZW50KGNvbnRhaW5lcik7XG5cdFx0Y29tcG9uZW50LnNldFZhbHVlKHRoaXMuaW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQuZ2V0SW5pdGlhbFZhbHVlKCkpO1xuXHRcdGNvbXBvbmVudC5vbkNoYW5nZSh0aGlzLm9uVmFsdWVDaGFuZ2UpO1xuXHRcdHRoaXMudG9nZ2xlQ29tcG9uZW50ID0gY29tcG9uZW50O1xuXHR9XG59XG4iLCAiZXhwb3J0IGNsYXNzIE1ldGFCaW5kSW50ZXJuYWxFcnJvciBleHRlbmRzIEVycm9yIHtcblx0Y29uc3RydWN0b3IobWVzc2FnZTogc3RyaW5nKSB7XG5cdFx0c3VwZXIoYFtNQl9JTlRFUk5BTF9FUlJPUiAtIHBsZWFzZSByZXBvcnQgdGhpcyBlcnJvciBoZXJlIGh0dHBzOi8vZ2l0aHViLmNvbS9tUHJvamVjdHNDb2RlL29ic2lkaWFuLW1ldGEtYmluZC1wbHVnaW4vaXNzdWVzXSAke21lc3NhZ2V9YCk7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIE1ldGFCaW5kUGFyc2luZ0Vycm9yIGV4dGVuZHMgRXJyb3Ige1xuXHRjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcpIHtcblx0XHRzdXBlcihgW01CX1BBUlNJTkdfRVJST1JdICR7bWVzc2FnZX1gKTtcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgTWV0YUJpbmRCaW5kVGFyZ2V0RXJyb3IgZXh0ZW5kcyBFcnJvciB7XG5cdGNvbnN0cnVjdG9yKG1lc3NhZ2U6IHN0cmluZykge1xuXHRcdHN1cGVyKGBbTUJfQklORF9UQVJHRVRfRVJST1JdICR7bWVzc2FnZX1gKTtcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgTWV0YUJpbmRWYWx1ZUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuXHRjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcpIHtcblx0XHRzdXBlcihgW01CX1ZBTFVFX0VSUk9SXSAke21lc3NhZ2V9YCk7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIE1ldGFCaW5kQXJndW1lbnRFcnJvciBleHRlbmRzIEVycm9yIHtcblx0Y29uc3RydWN0b3IobWVzc2FnZTogc3RyaW5nKSB7XG5cdFx0c3VwZXIoYFtNQl9BUkdVTUVOVF9FUlJPUl0gJHttZXNzYWdlfWApO1xuXHR9XG59XG5cbi8qKlxuICogR2V0cyB0aGUgZmlsZSBuYW1lIGZyb20gYSBwYXRoXG4gKlxuICogQHBhcmFtIHBhdGhcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEZpbGVOYW1lKHBhdGg6IHN0cmluZyk6IHN0cmluZyB7XG5cdHJldHVybiBwYXRoLnNwbGl0KCcvJykuYXQoLTEpID8/IHBhdGg7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgcGF0aCBpcyBhIHBhdGggb3IgYSBmaWxlIG5hbWVcbiAqXG4gKiBAcGFyYW0gcGF0aFxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNQYXRoKHBhdGg6IHN0cmluZyk6IGJvb2xlYW4ge1xuXHRyZXR1cm4gcGF0aC5zcGxpdCgnLycpLmxlbmd0aCA+IDE7XG59XG5cbi8qKlxuICogUmVtb3ZlcyB0aGUgZmlsZSBlbmRpbmcgb2YgYSBmaWxlIG5hbWVcbiAqXG4gKiBAcGFyYW0gZmlsZU5hbWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUZpbGVFbmRpbmcoZmlsZU5hbWU6IHN0cmluZyk6IHN0cmluZyB7XG5cdGNvbnN0IGZpbGVOYW1lUGFydHMgPSBmaWxlTmFtZS5zcGxpdCgnLicpO1xuXHRpZiAoZmlsZU5hbWVQYXJ0cy5sZW5ndGggPT09IDEpIHtcblx0XHRyZXR1cm4gZmlsZU5hbWU7XG5cdH0gZWxzZSB7XG5cdFx0bGV0IG5ld0ZpbGVOYW1lID0gZmlsZU5hbWVQYXJ0c1swXTtcblx0XHRmb3IgKGxldCBpID0gMTsgaSA8IGZpbGVOYW1lUGFydHMubGVuZ3RoIC0gMTsgaSsrKSB7XG5cdFx0XHRuZXdGaWxlTmFtZSArPSAnLicgKyBmaWxlTmFtZVBhcnRzW2ldO1xuXHRcdH1cblx0XHRyZXR1cm4gbmV3RmlsZU5hbWU7XG5cdH1cbn1cblxuLyoqXG4gKiBDbGFtcCwgdW51c2VkXG4gKlxuICogQHBhcmFtIG51bVxuICogQHBhcmFtIG1pblxuICogQHBhcmFtIG1heFxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xhbXAobnVtOiBudW1iZXIsIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcik6IG51bWJlciB7XG5cdHJldHVybiBNYXRoLm1pbihNYXRoLm1heChudW0sIG1pbiksIG1heCk7XG59XG5cbi8qKlxuICoganMgY2FuJ3QgZXZlbiBpbXBsZW1lbnQgbW9kdWxvIGNvcnJlY3RseS4uLlxuICpcbiAqIEBwYXJhbSBuXG4gKiBAcGFyYW0gbVxuICovXG5leHBvcnQgZnVuY3Rpb24gbW9kKG46IG51bWJlciwgbTogbnVtYmVyKTogbnVtYmVyIHtcblx0cmV0dXJuICgobiAlIG0pICsgbSkgJSBtO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiAyIGFycmF5cyBhcmUgZXF1YWwsIHRoZSBhcnJheXMgc2hvdWxkIGhhdmUgdGhlIHNhbWUgZGF0YXR5cGVcbiAqXG4gKiBAcGFyYW0gYXJyMVxuICogQHBhcmFtIGFycjJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFycmF5RXF1YWxzKGFycjE6IGFueVtdLCBhcnIyOiBhbnlbXSk6IGJvb2xlYW4ge1xuXHRpZiAoYXJyMS5sZW5ndGggIT09IGFycjIubGVuZ3RoKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0Zm9yIChjb25zdCBhcnIxRWxlbWVudCBvZiBhcnIxKSB7XG5cdFx0aWYgKCFhcnIyLmNvbnRhaW5zKGFycjFFbGVtZW50KSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIFRlbXBsYXRlIFwiZW5naW5lXCIgZnJvbSBteSBtZWRpYSBkYiBwbHVnaW5cbiAqXG4gKiBAcGFyYW0gdGVtcGxhdGVcbiAqIEBwYXJhbSBkYXRhTW9kZWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlcGxhY2VUYWdzKHRlbXBsYXRlOiBzdHJpbmcsIGRhdGFNb2RlbDogYW55KTogc3RyaW5nIHtcblx0cmV0dXJuIHRlbXBsYXRlLnJlcGxhY2UobmV3IFJlZ0V4cCgne3suKj99fScsICdnJyksIChtYXRjaDogc3RyaW5nKSA9PiByZXBsYWNlVGFnKG1hdGNoLCBkYXRhTW9kZWwpKTtcbn1cblxuLyoqXG4gKiBUYWtlcyBpbiBhIHRlbXBsYXRlIG1hdGNoIGFuZCByZXR1cm5zIHRoZSByZXBsYWNlbWVudCBkYXRhXG4gKlxuICogQHBhcmFtIG1hdGNoXG4gKiBAcGFyYW0gZGF0YU1vZGVsXG4gKi9cbmZ1bmN0aW9uIHJlcGxhY2VUYWcobWF0Y2g6IHN0cmluZywgZGF0YU1vZGVsOiBhbnkpOiBzdHJpbmcge1xuXHRsZXQgdGFnID0gbWF0Y2g7XG5cdHRhZyA9IHRhZy5zdWJzdHJpbmcoMik7XG5cdHRhZyA9IHRhZy5zdWJzdHJpbmcoMCwgdGFnLmxlbmd0aCAtIDIpO1xuXHR0YWcgPSB0YWcudHJpbSgpO1xuXG5cdGNvbnN0IHBhcnRzID0gdGFnLnNwbGl0KCc6Jyk7XG5cdGlmIChwYXJ0cy5sZW5ndGggPT09IDEpIHtcblx0XHRjb25zdCBwYXRoID0gcGFydHNbMF0uc3BsaXQoJy4nKTtcblxuXHRcdGNvbnN0IG9iaiA9IHRyYXZlcnNlT2JqZWN0KHBhdGgsIGRhdGFNb2RlbCk7XG5cblx0XHRpZiAob2JqID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiAne3sgSU5WQUxJRCBURU1QTEFURSBUQUcgLSBvYmplY3QgdW5kZWZpbmVkIH19Jztcblx0XHR9XG5cblx0XHRyZXR1cm4gb2JqO1xuXHR9IGVsc2UgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikge1xuXHRcdGNvbnN0IG9wZXJhdG9yID0gcGFydHNbMF07XG5cblx0XHRjb25zdCBwYXRoID0gcGFydHNbMV0uc3BsaXQoJy4nKTtcblxuXHRcdGNvbnN0IG9iaiA9IHRyYXZlcnNlT2JqZWN0KHBhdGgsIGRhdGFNb2RlbCk7XG5cblx0XHRpZiAob2JqID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiAne3sgSU5WQUxJRCBURU1QTEFURSBUQUcgLSBvYmplY3QgdW5kZWZpbmVkIH19Jztcblx0XHR9XG5cblx0XHRpZiAob3BlcmF0b3IgPT09ICdMSVNUJykge1xuXHRcdFx0aWYgKCFBcnJheS5pc0FycmF5KG9iaikpIHtcblx0XHRcdFx0cmV0dXJuICd7eyBJTlZBTElEIFRFTVBMQVRFIFRBRyAtIG9wZXJhdG9yIExJU1QgaXMgb25seSBhcHBsaWNhYmxlIG9uIGFuIGFycmF5IH19Jztcblx0XHRcdH1cblx0XHRcdHJldHVybiBvYmoubWFwKChlOiBhbnkpID0+IGAtICR7ZX1gKS5qb2luKCdcXG4nKTtcblx0XHR9IGVsc2UgaWYgKG9wZXJhdG9yID09PSAnRU5VTScpIHtcblx0XHRcdGlmICghQXJyYXkuaXNBcnJheShvYmopKSB7XG5cdFx0XHRcdHJldHVybiAne3sgSU5WQUxJRCBURU1QTEFURSBUQUcgLSBvcGVyYXRvciBFTlVNIGlzIG9ubHkgYXBwbGljYWJsZSBvbiBhbiBhcnJheSB9fSc7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gb2JqLmpvaW4oJywgJyk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGB7eyBJTlZBTElEIFRFTVBMQVRFIFRBRyAtIHVua25vd24gb3BlcmF0b3IgJHtvcGVyYXRvcn0gfX1gO1xuXHR9XG5cblx0cmV0dXJuICd7eyBJTlZBTElEIFRFTVBMQVRFIFRBRyB9fSc7XG59XG5cbi8qKlxuICogVHJhdmVyc2VzIHRoZSBvYmplY3QgYWxvbmcgYSBwcm9wZXJ0eSBwYXRoXG4gKlxuICogQHBhcmFtIHBhdGhcbiAqIEBwYXJhbSBvYmpcbiAqL1xuZnVuY3Rpb24gdHJhdmVyc2VPYmplY3QocGF0aDogQXJyYXk8c3RyaW5nPiwgb2JqOiBhbnkpOiBhbnkge1xuXHRmb3IgKGNvbnN0IHBhcnQgb2YgcGF0aCkge1xuXHRcdGlmIChvYmogIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0b2JqID0gb2JqW3BhcnRdO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBvYmo7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1RydXRoeSh2YWx1ZTogYW55KTogYm9vbGVhbiB7XG5cdHJldHVybiAhIXZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNGYWxzeSh2YWx1ZTogYW55KTogYm9vbGVhbiB7XG5cdHJldHVybiAhdmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbE9ySW5jbHVkZXMoc3RyMTogc3RyaW5nLCBzdHIyOiBzdHJpbmcpOiBib29sZWFuIHtcblx0cmV0dXJuIHN0cjEgPT09IHN0cjIgfHwgc3RyMS5pbmNsdWRlcyhzdHIyKSB8fCBzdHIyLmluY2x1ZGVzKHN0cjEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbnVtYmVyVG9TdHJpbmcobjogbnVtYmVyIHwgc3RyaW5nKTogc3RyaW5nIHtcblx0cmV0dXJuIG4gKyAnJztcbn1cbiIsICJpbXBvcnQgeyBBYnN0cmFjdElucHV0RmllbGQgfSBmcm9tICcuL0Fic3RyYWN0SW5wdXRGaWVsZCc7XG5pbXBvcnQgeyBUZXh0Q29tcG9uZW50IH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgTWV0YUJpbmRJbnRlcm5hbEVycm9yLCBNZXRhQmluZFZhbHVlRXJyb3IgfSBmcm9tICcuLi91dGlscy9VdGlscyc7XG5cbmV4cG9ydCBjbGFzcyBUZXh0SW5wdXRGaWVsZCBleHRlbmRzIEFic3RyYWN0SW5wdXRGaWVsZCB7XG5cdHRleHRDb21wb25lbnQ6IFRleHRDb21wb25lbnQgfCB1bmRlZmluZWQ7XG5cblx0Z2V0VmFsdWUoKTogc3RyaW5nIHtcblx0XHRpZiAoIXRoaXMudGV4dENvbXBvbmVudCkge1xuXHRcdFx0dGhyb3cgbmV3IE1ldGFCaW5kSW50ZXJuYWxFcnJvcigndGV4dCBpbnB1dCBjb21wb25lbnQgaXMgdW5kZWZpbmVkJyk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMudGV4dENvbXBvbmVudC5nZXRWYWx1ZSgpO1xuXHR9XG5cblx0c2V0VmFsdWUodmFsdWU6IGFueSk6IHZvaWQge1xuXHRcdGlmICghdGhpcy50ZXh0Q29tcG9uZW50KSB7XG5cdFx0XHR0aHJvdyBuZXcgTWV0YUJpbmRJbnRlcm5hbEVycm9yKCd0ZXh0IGlucHV0IGNvbXBvbmVudCBpcyB1bmRlZmluZWQnKTtcblx0XHR9XG5cblx0XHRpZiAodmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpIHtcblx0XHRcdHRoaXMudGV4dENvbXBvbmVudC5zZXRWYWx1ZSh2YWx1ZSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnNvbGUud2FybihuZXcgTWV0YUJpbmRWYWx1ZUVycm9yKGBpbnZhbGlkIHZhbHVlICcke3ZhbHVlfScgYXQgdGV4dElucHV0RmllbGQgJHt0aGlzLmlucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkLnVpZH1gKSk7XG5cdFx0XHR0aGlzLnRleHRDb21wb25lbnQuc2V0VmFsdWUoJycpO1xuXHRcdH1cblx0fVxuXG5cdGlzRXF1YWxWYWx1ZSh2YWx1ZTogYW55KTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0VmFsdWUoKSA9PSB2YWx1ZTtcblx0fVxuXG5cdGdldERlZmF1bHRWYWx1ZSgpOiBhbnkge1xuXHRcdHJldHVybiAnJztcblx0fVxuXG5cdGdldEh0bWxFbGVtZW50KCk6IEhUTUxFbGVtZW50IHtcblx0XHRpZiAoIXRoaXMudGV4dENvbXBvbmVudCkge1xuXHRcdFx0dGhyb3cgbmV3IE1ldGFCaW5kSW50ZXJuYWxFcnJvcigndGV4dCBpbnB1dCBjb21wb25lbnQgaXMgdW5kZWZpbmVkJyk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMudGV4dENvbXBvbmVudC5pbnB1dEVsO1xuXHR9XG5cblx0cmVuZGVyKGNvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQpOiB2b2lkIHtcblx0XHRjb25zb2xlLmRlYnVnKGBtZXRhLWJpbmQgfCByZW5kZXIgdGV4dElucHV0RmllbGQgJHt0aGlzLmlucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkLnVpZH1gKTtcblxuXHRcdGNvbnN0IGNvbXBvbmVudCA9IG5ldyBUZXh0Q29tcG9uZW50KGNvbnRhaW5lcik7XG5cdFx0Y29tcG9uZW50LnNldFZhbHVlKHRoaXMuaW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQuZ2V0SW5pdGlhbFZhbHVlKCkpO1xuXHRcdGNvbXBvbmVudC5vbkNoYW5nZSh0aGlzLm9uVmFsdWVDaGFuZ2UpO1xuXHRcdHRoaXMudGV4dENvbXBvbmVudCA9IGNvbXBvbmVudDtcblx0fVxufVxuIiwgImltcG9ydCB7IEFic3RyYWN0SW5wdXRGaWVsZCB9IGZyb20gJy4vQWJzdHJhY3RJbnB1dEZpZWxkJztcbmltcG9ydCB7IFNsaWRlckNvbXBvbmVudCB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IElucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkIH0gZnJvbSAnLi4vSW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQnO1xuaW1wb3J0IHsgTWV0YUJpbmRJbnRlcm5hbEVycm9yLCBNZXRhQmluZFZhbHVlRXJyb3IgfSBmcm9tICcuLi91dGlscy9VdGlscyc7XG5pbXBvcnQgeyBJbnB1dEZpZWxkQXJndW1lbnRUeXBlIH0gZnJvbSAnLi4vcGFyc2Vycy9JbnB1dEZpZWxkRGVjbGFyYXRpb25QYXJzZXInO1xuXG5leHBvcnQgY2xhc3MgU2xpZGVySW5wdXRGaWVsZCBleHRlbmRzIEFic3RyYWN0SW5wdXRGaWVsZCB7XG5cdHNsaWRlckNvbXBvbmVudDogU2xpZGVyQ29tcG9uZW50IHwgdW5kZWZpbmVkO1xuXHRtaW5WYWx1ZTogbnVtYmVyO1xuXHRtYXhWYWx1ZTogbnVtYmVyO1xuXG5cdGNvbnN0cnVjdG9yKGlucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkOiBJbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZCwgb25WYWx1ZUNoYW5nZTogKHZhbHVlOiBhbnkpID0+IHZvaWQgfCBQcm9taXNlPHZvaWQ+KSB7XG5cdFx0c3VwZXIoaW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQsIG9uVmFsdWVDaGFuZ2UpO1xuXHRcdHRoaXMubWluVmFsdWUgPSBpbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZC5nZXRBcmd1bWVudChJbnB1dEZpZWxkQXJndW1lbnRUeXBlLk1JTl9WQUxVRSk/LnZhbHVlID8/IDA7XG5cdFx0dGhpcy5tYXhWYWx1ZSA9IGlucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkLmdldEFyZ3VtZW50KElucHV0RmllbGRBcmd1bWVudFR5cGUuTUFYX1ZBTFVFKT8udmFsdWUgPz8gMTAwO1xuXHR9XG5cblx0Z2V0VmFsdWUoKTogbnVtYmVyIHtcblx0XHRpZiAoIXRoaXMuc2xpZGVyQ29tcG9uZW50KSB7XG5cdFx0XHR0aHJvdyBuZXcgTWV0YUJpbmRJbnRlcm5hbEVycm9yKCdzbGlkZXIgaW5wdXQgY29tcG9uZW50IGlzIHVuZGVmaW5lZCcpO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLnNsaWRlckNvbXBvbmVudC5nZXRWYWx1ZSgpO1xuXHR9XG5cblx0c2V0VmFsdWUodmFsdWU6IGFueSk6IHZvaWQge1xuXHRcdGlmICghdGhpcy5zbGlkZXJDb21wb25lbnQpIHtcblx0XHRcdHRocm93IG5ldyBNZXRhQmluZEludGVybmFsRXJyb3IoJ3NsaWRlciBpbnB1dCBjb21wb25lbnQgaXMgdW5kZWZpbmVkJyk7XG5cdFx0fVxuXG5cdFx0aWYgKHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlID09ICdudW1iZXInKSB7XG5cdFx0XHRpZiAodmFsdWUgPj0gdGhpcy5taW5WYWx1ZSAmJiB2YWx1ZSA8PSB0aGlzLm1heFZhbHVlKSB7XG5cdFx0XHRcdHRoaXMuc2xpZGVyQ29tcG9uZW50LnNldFZhbHVlKHZhbHVlKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc29sZS53YXJuKG5ldyBNZXRhQmluZFZhbHVlRXJyb3IoYGludmFsaWQgdmFsdWUgJyR7dmFsdWV9JyBhdCBzbGlkZXJJbnB1dEZpZWxkICR7dGhpcy5pbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZC51aWR9YCkpO1xuXHRcdFx0dGhpcy5zbGlkZXJDb21wb25lbnQuc2V0VmFsdWUodGhpcy5nZXREZWZhdWx0VmFsdWUoKSk7XG5cdFx0fVxuXHR9XG5cblx0aXNFcXVhbFZhbHVlKHZhbHVlOiBhbnkpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdGhpcy5nZXRWYWx1ZSgpID09IHZhbHVlO1xuXHR9XG5cblx0Z2V0RGVmYXVsdFZhbHVlKCk6IGFueSB7XG5cdFx0cmV0dXJuIHRoaXMubWluVmFsdWU7XG5cdH1cblxuXHRnZXRIdG1sRWxlbWVudCgpOiBIVE1MRWxlbWVudCB7XG5cdFx0aWYgKCF0aGlzLnNsaWRlckNvbXBvbmVudCkge1xuXHRcdFx0dGhyb3cgbmV3IE1ldGFCaW5kSW50ZXJuYWxFcnJvcignc2xpZGVyIGlucHV0IGNvbXBvbmVudCBpcyB1bmRlZmluZWQnKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5zbGlkZXJDb21wb25lbnQuc2xpZGVyRWw7XG5cdH1cblxuXHRyZW5kZXIoY29udGFpbmVyOiBIVE1MRGl2RWxlbWVudCk6IHZvaWQge1xuXHRcdGNvbnNvbGUuZGVidWcoYG1ldGEtYmluZCB8IHJlbmRlciBzbGlkZXIgJHt0aGlzLmlucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkLnVpZH1gKTtcblxuXHRcdGNvbnRhaW5lci5yZW1vdmVDbGFzcygnbWV0YS1iaW5kLXBsdWdpbi1pbnB1dC13cmFwcGVyJyk7XG5cdFx0Y29udGFpbmVyLmFkZENsYXNzKCdtZXRhLWJpbmQtcGx1Z2luLWZsZXgtaW5wdXQtd3JhcHBlcicpO1xuXG5cdFx0Y29uc3QgbGFiZWxBcmd1bWVudCA9IHRoaXMuaW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQuZ2V0QXJndW1lbnQoSW5wdXRGaWVsZEFyZ3VtZW50VHlwZS5BRERfTEFCRUxTKTtcblx0XHRpZiAobGFiZWxBcmd1bWVudCAmJiBsYWJlbEFyZ3VtZW50LnZhbHVlID09PSB0cnVlKSB7XG5cdFx0XHRjb250YWluZXIuY3JlYXRlU3Bhbih7IHRleHQ6IHRoaXMubWluVmFsdWUudG9TdHJpbmcoKSwgY2xzOiAnbWV0YS1iaW5kLXBsdWdpbi1zbGlkZXItaW5wdXQtbGFiZWwnIH0pO1xuXHRcdH1cblxuXHRcdGNvbnN0IGNvbXBvbmVudCA9IG5ldyBTbGlkZXJDb21wb25lbnQoY29udGFpbmVyKTtcblx0XHRjb21wb25lbnQuc2V0VmFsdWUodGhpcy5pbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZC5nZXRJbml0aWFsVmFsdWUoKSk7XG5cdFx0Y29tcG9uZW50Lm9uQ2hhbmdlKHRoaXMub25WYWx1ZUNoYW5nZSk7XG5cdFx0Y29tcG9uZW50LnNldER5bmFtaWNUb29sdGlwKCk7XG5cdFx0Y29tcG9uZW50LnNldExpbWl0cyh0aGlzLm1pblZhbHVlLCB0aGlzLm1heFZhbHVlLCAxKTtcblx0XHRjb21wb25lbnQuc2xpZGVyRWwuYWRkQ2xhc3MoJ21ldGEtYmluZC1wbHVnaW4tc2xpZGVyLWlucHV0Jyk7XG5cblx0XHRpZiAobGFiZWxBcmd1bWVudCAmJiBsYWJlbEFyZ3VtZW50LnZhbHVlID09PSB0cnVlKSB7XG5cdFx0XHRjb250YWluZXIuY3JlYXRlU3Bhbih7IHRleHQ6IHRoaXMubWF4VmFsdWUudG9TdHJpbmcoKSwgY2xzOiAnbWV0YS1iaW5kLXBsdWdpbi1zbGlkZXItaW5wdXQtbGFiZWwnIH0pO1xuXHRcdH1cblxuXHRcdHRoaXMuc2xpZGVyQ29tcG9uZW50ID0gY29tcG9uZW50O1xuXHR9XG59XG4iLCAiaW1wb3J0IHsgZXF1YWxPckluY2x1ZGVzLCBpc0ZhbHN5LCBNZXRhQmluZEludGVybmFsRXJyb3IgfSBmcm9tICcuL1V0aWxzJztcblxuZXhwb3J0IGNsYXNzIEVuY2xvc2luZ1BhaXIge1xuXHRyZWFkb25seSBvcGVuaW5nRXF1YWxzQ2xvc2luZzogYm9vbGVhbjtcblx0cHJpdmF0ZSByZWFkb25seSBfb3BlbmluZ1N0cmluZzogc3RyaW5nO1xuXHRwcml2YXRlIHJlYWRvbmx5IF9jbG9zaW5nU3RyaW5nOiBzdHJpbmc7XG5cblx0Y29uc3RydWN0b3Iob3BlbmluZ1N0cmluZzogc3RyaW5nLCBjbG9zaW5nU3RyaW5nPzogc3RyaW5nKSB7XG5cdFx0aWYgKGlzRmFsc3kob3BlbmluZ1N0cmluZykpIHtcblx0XHRcdHRocm93IG5ldyBNZXRhQmluZEludGVybmFsRXJyb3IoJ29wZW5pbmcgc3RyaW5nIG11c3Qgbm90IGJlIGVtcHR5Jyk7XG5cdFx0fVxuXG5cdFx0dGhpcy5vcGVuaW5nRXF1YWxzQ2xvc2luZyA9IGlzRmFsc3koY2xvc2luZ1N0cmluZykgfHwgb3BlbmluZ1N0cmluZyA9PT0gY2xvc2luZ1N0cmluZztcblxuXHRcdGlmICh0aGlzLm9wZW5pbmdFcXVhbHNDbG9zaW5nKSB7XG5cdFx0XHR0aGlzLl9vcGVuaW5nU3RyaW5nID0gb3BlbmluZ1N0cmluZztcblx0XHRcdHRoaXMuX2Nsb3NpbmdTdHJpbmcgPSBvcGVuaW5nU3RyaW5nO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLl9vcGVuaW5nU3RyaW5nID0gb3BlbmluZ1N0cmluZztcblx0XHRcdC8vIEB0cy1pZ25vcmUgdGhpcyBjYW4gbm90IGJlIHVuZGVmaW5lZCBoZXJlXG5cdFx0XHR0aGlzLl9jbG9zaW5nU3RyaW5nID0gY2xvc2luZ1N0cmluZztcblx0XHR9XG5cdH1cblxuXHRwdWJsaWMgZ2V0IG9wZW5pbmdTdHJpbmcoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gdGhpcy5fb3BlbmluZ1N0cmluZztcblx0fVxuXG5cdHB1YmxpYyBnZXQgY2xvc2luZ1N0cmluZygpOiBzdHJpbmcge1xuXHRcdHJldHVybiB0aGlzLm9wZW5pbmdFcXVhbHNDbG9zaW5nID8gdGhpcy5fb3BlbmluZ1N0cmluZyA6IHRoaXMuX2Nsb3NpbmdTdHJpbmc7XG5cdH1cblxuXHRvdmVybGFwcyhvdGhlcjogRW5jbG9zaW5nUGFpcik6IGJvb2xlYW4ge1xuXHRcdHJldHVybiAoXG5cdFx0XHRlcXVhbE9ySW5jbHVkZXModGhpcy5vcGVuaW5nU3RyaW5nLCBvdGhlci5vcGVuaW5nU3RyaW5nKSB8fFxuXHRcdFx0ZXF1YWxPckluY2x1ZGVzKHRoaXMub3BlbmluZ1N0cmluZywgb3RoZXIuY2xvc2luZ1N0cmluZykgfHxcblx0XHRcdGVxdWFsT3JJbmNsdWRlcyh0aGlzLmNsb3NpbmdTdHJpbmcsIG90aGVyLm9wZW5pbmdTdHJpbmcpIHx8XG5cdFx0XHRlcXVhbE9ySW5jbHVkZXModGhpcy5jbG9zaW5nU3RyaW5nLCBvdGhlci5jbG9zaW5nU3RyaW5nKVxuXHRcdCk7XG5cdH1cblxuXHRlcXVhbHMob3RoZXI6IEVuY2xvc2luZ1BhaXIpOiBib29sZWFuIHtcblx0XHRpZiAoaXNGYWxzeShvdGhlcikpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMub3BlbmluZ1N0cmluZyA9PT0gb3RoZXIub3BlbmluZ1N0cmluZyAmJiB0aGlzLmNsb3NpbmdTdHJpbmcgPT09IG90aGVyLmNsb3NpbmdTdHJpbmc7XG5cdH1cblxuXHR0b1N0cmluZygpOiBzdHJpbmcge1xuXHRcdHJldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzKTtcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgUGFyc2VyVXRpbHMge1xuXHQvLyBUT0RPOiByZW5hbWUgc3R1ZmZcblx0c3RhdGljIHNwbGl0KHN0cjogc3RyaW5nLCBzZXBhcmF0b3I6IHN0cmluZywgaWdub3JlPzogRW5jbG9zaW5nUGFpcik6IHN0cmluZ1tdIHtcblx0XHRpZiAoIXN0cikge1xuXHRcdFx0dGhyb3cgbmV3IE1ldGFCaW5kSW50ZXJuYWxFcnJvcignc3RyaW5nIG11c3Qgbm90IGJlIGVtcHR5Jyk7XG5cdFx0fVxuXHRcdGlmICghc2VwYXJhdG9yKSB7XG5cdFx0XHR0aHJvdyBuZXcgTWV0YUJpbmRJbnRlcm5hbEVycm9yKCdzZXBhcmF0b3IgbXVzdCBub3QgYmUgZW1wdHknKTtcblx0XHR9XG5cblx0XHRsZXQgc3ViU3RyOiBzdHJpbmcgPSAnJztcblx0XHRjb25zdCBzdWJTdHJpbmdzOiBzdHJpbmdbXSA9IFtdO1xuXG5cdFx0aWYgKGlnbm9yZSkge1xuXHRcdFx0bGV0IHJlbWFpbmluZ09wZW5pbmdTdHJpbmdDb3VudCA9IFBhcnNlclV0aWxzLm51bWJlck9mT2NjdXJyZW5jZXMoc3RyLCBpZ25vcmUub3BlbmluZ1N0cmluZyk7XG5cdFx0XHRsZXQgcmVtYWluaW5nQ2xvc2luZ1N0cmluZ0NvdW50ID0gUGFyc2VyVXRpbHMubnVtYmVyT2ZPY2N1cnJlbmNlcyhzdHIsIGlnbm9yZS5jbG9zaW5nU3RyaW5nKTtcblxuXHRcdFx0bGV0IGVuY2xvc2luZ0xldmVsOiBudW1iZXIgPSAwO1xuXG5cdFx0XHRzdHJMb29wOiBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHQvLyBpZ25vcmUgc3BlY2lmaWVkXG5cdFx0XHRcdGlmIChlbmNsb3NpbmdMZXZlbCA9PT0gMCAmJiBQYXJzZXJVdGlscy5pc1N0cmluZ0F0KHN0ciwgc2VwYXJhdG9yLCBpKSkge1xuXHRcdFx0XHRcdHN1YlN0cmluZ3MucHVzaChzdWJTdHIpO1xuXHRcdFx0XHRcdHN1YlN0ciA9ICcnO1xuXHRcdFx0XHRcdGkgKz0gc2VwYXJhdG9yLmxlbmd0aCAtIDE7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0c3ViU3RyICs9IHN0cltpXTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChpZ25vcmUub3BlbmluZ0VxdWFsc0Nsb3NpbmcpIHtcblx0XHRcdFx0XHRpZiAoUGFyc2VyVXRpbHMuaXNTdHJpbmdBdChzdHIsIGlnbm9yZS5vcGVuaW5nU3RyaW5nLCBpKSkge1xuXHRcdFx0XHRcdFx0aWYgKGVuY2xvc2luZ0xldmVsICUgMiA9PT0gMCAmJiByZW1haW5pbmdPcGVuaW5nU3RyaW5nQ291bnQgPT09IDEpIHtcblx0XHRcdFx0XHRcdFx0Ly8gbm90IGluIGEgcGFydCB0aGF0IHNob3VsZCBiZSByZW1vdmVkIGFuZCB0aGVyZSBpcyBzdGlsbCBhbiBvcGVuaW5nIHN0cmluZyBsZWZ0LCBzbyB3ZSBpZ25vcmUgaXRcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoZW5jbG9zaW5nTGV2ZWwgJSAyID09PSAwKSB7XG5cdFx0XHRcdFx0XHRcdC8vIG9wZW5pbmcgc3RyaW5nXG5cdFx0XHRcdFx0XHRcdGVuY2xvc2luZ0xldmVsICs9IDE7XG5cblx0XHRcdFx0XHRcdFx0Ly8gY29weSB0aGUgb3BlbmluZyBzdHJpbmdcblx0XHRcdFx0XHRcdFx0Zm9yIChsZXQgaiA9IDE7IGogPCBpZ25vcmUub3BlbmluZ1N0cmluZy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRcdFx0XHRcdGkgKz0gMTtcblx0XHRcdFx0XHRcdFx0XHRzdWJTdHIgKz0gc3RyW2ldO1xuXG5cdFx0XHRcdFx0XHRcdFx0aWYgKGkgPj0gc3RyLmxlbmd0aCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0YnJlYWsgc3RyTG9vcDtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdC8vIGNsb3Npbmcgc3RyaW5nXG5cdFx0XHRcdFx0XHRcdGVuY2xvc2luZ0xldmVsIC09IDE7XG5cblx0XHRcdFx0XHRcdFx0Ly8gY29weSB0aGUgY2xvc2luZyBzdHJpbmdcblx0XHRcdFx0XHRcdFx0Zm9yIChsZXQgaiA9IDE7IGogPCBpZ25vcmUuY2xvc2luZ1N0cmluZy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRcdFx0XHRcdC8vIChvcGVuaW5nIGFuZCBjbG9zaW5nIHN0cmluZyBhcmUgdGhlIHNhbWUpXG5cdFx0XHRcdFx0XHRcdFx0aSArPSAxO1xuXHRcdFx0XHRcdFx0XHRcdHN1YlN0ciArPSBzdHJbaV07XG5cblx0XHRcdFx0XHRcdFx0XHRpZiAoaSA+PSBzdHIubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRicmVhayBzdHJMb29wO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cmVtYWluaW5nT3BlbmluZ1N0cmluZ0NvdW50IC09IDE7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmIChQYXJzZXJVdGlscy5pc1N0cmluZ0F0KHN0ciwgaWdub3JlLm9wZW5pbmdTdHJpbmcsIGkpKSB7XG5cdFx0XHRcdFx0XHQvLyBvcGVuaW5nIHN0cmluZ1xuXHRcdFx0XHRcdFx0aWYgKHJlbWFpbmluZ09wZW5pbmdTdHJpbmdDb3VudCA8PSByZW1haW5pbmdDbG9zaW5nU3RyaW5nQ291bnQpIHtcblx0XHRcdFx0XHRcdFx0Ly8gc3RyIHN0aWxsIGhhcyBzdWZmaWNpZW50IGNsb3Npbmcgc3RyaW5nIHRvIGZpbmQgdGhpcyBhIHBhcnRuZXJcblx0XHRcdFx0XHRcdFx0ZW5jbG9zaW5nTGV2ZWwgKz0gMTtcblxuXHRcdFx0XHRcdFx0XHQvLyBjb3B5IHRoZSBvcGVuaW5nIHN0cmluZ1xuXHRcdFx0XHRcdFx0XHRmb3IgKGxldCBqID0gMTsgaiA8IGlnbm9yZS5vcGVuaW5nU3RyaW5nLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdFx0XHRcdFx0aSArPSAxO1xuXHRcdFx0XHRcdFx0XHRcdHN1YlN0ciArPSBzdHJbaV07XG5cblx0XHRcdFx0XHRcdFx0XHRpZiAoaSA+PSBzdHIubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRicmVhayBzdHJMb29wO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cmVtYWluaW5nT3BlbmluZ1N0cmluZ0NvdW50IC09IDE7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChQYXJzZXJVdGlscy5pc1N0cmluZ0F0KHN0ciwgaWdub3JlLmNsb3NpbmdTdHJpbmcsIGkpKSB7XG5cdFx0XHRcdFx0XHQvLyBjbG9zaW5nIHN0cmluZ1xuXHRcdFx0XHRcdFx0aWYgKGVuY2xvc2luZ0xldmVsID4gMCkge1xuXHRcdFx0XHRcdFx0XHQvLyB0aGVyZSB3YXMgYW4gb3BlbmluZyBzdHJpbmcgYmVmb3JlIHRoaXNcblx0XHRcdFx0XHRcdFx0ZW5jbG9zaW5nTGV2ZWwgLT0gMTtcblxuXHRcdFx0XHRcdFx0XHQvLyBjb3B5IHRoZSBjbG9zaW5nIHN0cmluZ1xuXHRcdFx0XHRcdFx0XHRmb3IgKGxldCBqID0gMTsgaiA8IGlnbm9yZS5jbG9zaW5nU3RyaW5nLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdFx0XHRcdFx0aSArPSAxO1xuXHRcdFx0XHRcdFx0XHRcdHN1YlN0ciArPSBzdHJbaV07XG5cblx0XHRcdFx0XHRcdFx0XHRpZiAoaSA+PSBzdHIubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRicmVhayBzdHJMb29wO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cmVtYWluaW5nQ2xvc2luZ1N0cmluZ0NvdW50IC09IDE7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIG5vIGlnbm9yZSBzcGVjaWZpZWRcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGlmIChQYXJzZXJVdGlscy5pc1N0cmluZ0F0KHN0ciwgc2VwYXJhdG9yLCBpKSkge1xuXHRcdFx0XHRcdHN1YlN0cmluZ3MucHVzaChzdWJTdHIpO1xuXHRcdFx0XHRcdHN1YlN0ciA9ICcnO1xuXHRcdFx0XHRcdGkgKz0gc2VwYXJhdG9yLmxlbmd0aCAtIDE7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0c3ViU3RyICs9IHN0cltpXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHN1YlN0cmluZ3MucHVzaChzdWJTdHIpO1xuXG5cdFx0cmV0dXJuIHN1YlN0cmluZ3M7XG5cdH1cblxuXHRzdGF0aWMgcmVtb3ZlSW5CZXR3ZWVuKHN0cjogc3RyaW5nLCBlbmNsb3NpbmdQYWlyOiBFbmNsb3NpbmdQYWlyKTogc3RyaW5nIHtcblx0XHRpZiAoIXN0cikge1xuXHRcdFx0dGhyb3cgbmV3IE1ldGFCaW5kSW50ZXJuYWxFcnJvcignc3RyaW5nIG11c3Qgbm90IGJlIGVtcHR5Jyk7XG5cdFx0fVxuXG5cdFx0bGV0IHJlbWFpbmluZ09wZW5pbmdTdHJpbmdDb3VudCA9IFBhcnNlclV0aWxzLm51bWJlck9mT2NjdXJyZW5jZXMoc3RyLCBlbmNsb3NpbmdQYWlyLm9wZW5pbmdTdHJpbmcpO1xuXHRcdGxldCByZW1haW5pbmdDbG9zaW5nU3RyaW5nQ291bnQgPSBQYXJzZXJVdGlscy5udW1iZXJPZk9jY3VycmVuY2VzKHN0ciwgZW5jbG9zaW5nUGFpci5jbG9zaW5nU3RyaW5nKTtcblxuXHRcdGxldCBlbmNsb3NpbmdMZXZlbDogbnVtYmVyID0gMDtcblxuXHRcdGxldCBzdWJTdHI6IHN0cmluZyA9ICcnO1xuXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcblx0XHRcdGlmIChlbmNsb3NpbmdQYWlyLm9wZW5pbmdFcXVhbHNDbG9zaW5nKSB7XG5cdFx0XHRcdGlmIChQYXJzZXJVdGlscy5pc1N0cmluZ0F0KHN0ciwgZW5jbG9zaW5nUGFpci5vcGVuaW5nU3RyaW5nLCBpKSkge1xuXHRcdFx0XHRcdGlmIChlbmNsb3NpbmdMZXZlbCAlIDIgPT09IDAgJiYgcmVtYWluaW5nT3BlbmluZ1N0cmluZ0NvdW50ID09PSAxKSB7XG5cdFx0XHRcdFx0XHQvLyBub3QgaW4gYSBwYXJ0IHRoYXQgc2hvdWxkIGJlIHJlbW92ZWQgYW5kIHRoZXJlIGlzIHN0aWxsIGFuIG9wZW5pbmcgc3RyaW5nIGxlZnQsIHNvIHdlIGlnbm9yZSBpdFxuXHRcdFx0XHRcdH0gZWxzZSBpZiAoZW5jbG9zaW5nTGV2ZWwgJSAyID09PSAwKSB7XG5cdFx0XHRcdFx0XHQvLyBvcGVuaW5nIHN0cmluZ1xuXHRcdFx0XHRcdFx0ZW5jbG9zaW5nTGV2ZWwgKz0gMTtcblxuXHRcdFx0XHRcdFx0Ly8gc2tpcCB0aGUgb3BlbmluZyBzdHJpbmdcblx0XHRcdFx0XHRcdGkgKz0gZW5jbG9zaW5nUGFpci5vcGVuaW5nU3RyaW5nLmxlbmd0aDtcblx0XHRcdFx0XHRcdGlmIChpID49IHN0ci5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdC8vIGNsb3Npbmcgc3RyaW5nXG5cdFx0XHRcdFx0XHRlbmNsb3NpbmdMZXZlbCAtPSAxO1xuXG5cdFx0XHRcdFx0XHQvLyBza2lwIHRoZSBjbG9zaW5nIHN0cmluZ1xuXHRcdFx0XHRcdFx0aSArPSBlbmNsb3NpbmdQYWlyLmNsb3NpbmdTdHJpbmcubGVuZ3RoOyAvLyAob3BlbmluZyBhbmQgY2xvc2luZyBzdHJpbmcgYXJlIHRoZSBzYW1lKVxuXHRcdFx0XHRcdFx0aWYgKGkgPj0gc3RyLmxlbmd0aCkge1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmVtYWluaW5nT3BlbmluZ1N0cmluZ0NvdW50IC09IDE7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmIChQYXJzZXJVdGlscy5pc1N0cmluZ0F0KHN0ciwgZW5jbG9zaW5nUGFpci5vcGVuaW5nU3RyaW5nLCBpKSkge1xuXHRcdFx0XHRcdC8vIG9wZW5pbmcgc3RyaW5nXG5cdFx0XHRcdFx0aWYgKHJlbWFpbmluZ09wZW5pbmdTdHJpbmdDb3VudCA8PSByZW1haW5pbmdDbG9zaW5nU3RyaW5nQ291bnQpIHtcblx0XHRcdFx0XHRcdC8vIHN0ciBzdGlsbCBoYXMgc3VmZmljaWVudCBjbG9zaW5nIHN0cmluZyB0byBmaW5kIHRoaXMgYSBwYXJ0bmVyXG5cdFx0XHRcdFx0XHRlbmNsb3NpbmdMZXZlbCArPSAxO1xuXG5cdFx0XHRcdFx0XHQvLyBza2lwIHRoZSBvcGVuaW5nIHN0cmluZ1xuXHRcdFx0XHRcdFx0aSArPSBlbmNsb3NpbmdQYWlyLm9wZW5pbmdTdHJpbmcubGVuZ3RoO1xuXHRcdFx0XHRcdFx0aWYgKGkgPj0gc3RyLmxlbmd0aCkge1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmVtYWluaW5nT3BlbmluZ1N0cmluZ0NvdW50IC09IDE7XG5cdFx0XHRcdH0gZWxzZSBpZiAoUGFyc2VyVXRpbHMuaXNTdHJpbmdBdChzdHIsIGVuY2xvc2luZ1BhaXIuY2xvc2luZ1N0cmluZywgaSkpIHtcblx0XHRcdFx0XHQvLyBjbG9zaW5nIHN0cmluZ1xuXHRcdFx0XHRcdGlmIChlbmNsb3NpbmdMZXZlbCA+IDApIHtcblx0XHRcdFx0XHRcdC8vIHRoZXJlIHdhcyBhbiBvcGVuaW5nIHN0cmluZyBiZWZvcmUgdGhpc1xuXHRcdFx0XHRcdFx0ZW5jbG9zaW5nTGV2ZWwgLT0gMTtcblxuXHRcdFx0XHRcdFx0Ly8gc2tpcCB0aGUgY2xvc2luZyBzdHJpbmdcblx0XHRcdFx0XHRcdGkgKz0gZW5jbG9zaW5nUGFpci5jbG9zaW5nU3RyaW5nLmxlbmd0aDtcblx0XHRcdFx0XHRcdGlmIChpID49IHN0ci5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJlbWFpbmluZ0Nsb3NpbmdTdHJpbmdDb3VudCAtPSAxO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmIChlbmNsb3NpbmdMZXZlbCA9PT0gMCkge1xuXHRcdFx0XHRzdWJTdHIgKz0gc3RyW2ldO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBzdWJTdHI7XG5cdH1cblxuXHRzdGF0aWMgZ2V0SW5CZXR3ZWVuKHN0cjogc3RyaW5nLCBlbmNsb3NpbmdQYWlyOiBFbmNsb3NpbmdQYWlyKTogc3RyaW5nIHwgc3RyaW5nW10ge1xuXHRcdGlmICghc3RyKSB7XG5cdFx0XHR0aHJvdyBuZXcgTWV0YUJpbmRJbnRlcm5hbEVycm9yKCdzdHJpbmcgbXVzdCBub3QgYmUgZW1wdHknKTtcblx0XHR9XG5cblx0XHRsZXQgcmVtYWluaW5nT3BlbmluZ1N0cmluZ0NvdW50ID0gUGFyc2VyVXRpbHMubnVtYmVyT2ZPY2N1cnJlbmNlcyhzdHIsIGVuY2xvc2luZ1BhaXIub3BlbmluZ1N0cmluZyk7XG5cdFx0bGV0IHJlbWFpbmluZ0Nsb3NpbmdTdHJpbmdDb3VudCA9IFBhcnNlclV0aWxzLm51bWJlck9mT2NjdXJyZW5jZXMoc3RyLCBlbmNsb3NpbmdQYWlyLmNsb3NpbmdTdHJpbmcpO1xuXG5cdFx0bGV0IGVuY2xvc2luZ0xldmVsOiBudW1iZXIgPSAwO1xuXG5cdFx0bGV0IHN1YlN0cjogc3RyaW5nID0gJyc7XG5cdFx0Y29uc3Qgc3ViU3RyaW5nczogc3RyaW5nW10gPSBbXTtcblxuXHRcdHN0ckxvb3A6IGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZiAoZW5jbG9zaW5nUGFpci5vcGVuaW5nRXF1YWxzQ2xvc2luZykge1xuXHRcdFx0XHRpZiAoUGFyc2VyVXRpbHMuaXNTdHJpbmdBdChzdHIsIGVuY2xvc2luZ1BhaXIub3BlbmluZ1N0cmluZywgaSkpIHtcblx0XHRcdFx0XHRpZiAoZW5jbG9zaW5nTGV2ZWwgJSAyID09PSAwICYmIHJlbWFpbmluZ09wZW5pbmdTdHJpbmdDb3VudCA9PT0gMSkge1xuXHRcdFx0XHRcdFx0Ly8gbm90IGluIGEgcGFydCB0aGF0IHNob3VsZCBiZSByZW1vdmVkIGFuZCB0aGVyZSBpcyBzdGlsbCBhbiBvcGVuaW5nIHN0cmluZyBsZWZ0LCBzbyB3ZSBpZ25vcmUgaXRcblx0XHRcdFx0XHR9IGVsc2UgaWYgKGVuY2xvc2luZ0xldmVsICUgMiA9PT0gMCkge1xuXHRcdFx0XHRcdFx0Ly8gb3BlbmluZyBzdHJpbmdcblx0XHRcdFx0XHRcdGVuY2xvc2luZ0xldmVsICs9IDE7XG5cblx0XHRcdFx0XHRcdC8vIHNraXAgdGhlIG9wZW5pbmcgc3RyaW5nXG5cdFx0XHRcdFx0XHRzdWJTdHIgKz0gc3RyW2ldO1xuXHRcdFx0XHRcdFx0Zm9yIChsZXQgaiA9IDE7IGogPCBlbmNsb3NpbmdQYWlyLm9wZW5pbmdTdHJpbmcubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0XHRcdFx0aSArPSAxO1xuXHRcdFx0XHRcdFx0XHRzdWJTdHIgKz0gc3RyW2ldO1xuXG5cdFx0XHRcdFx0XHRcdGlmIChpID49IHN0ci5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdFx0XHRicmVhayBzdHJMb29wO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdC8vIGNsb3Npbmcgc3RyaW5nXG5cdFx0XHRcdFx0XHRlbmNsb3NpbmdMZXZlbCAtPSAxO1xuXG5cdFx0XHRcdFx0XHQvLyBza2lwIHRoZSBjbG9zaW5nIHN0cmluZ1xuXHRcdFx0XHRcdFx0c3ViU3RyICs9IHN0cltpXTtcblx0XHRcdFx0XHRcdGZvciAobGV0IGogPSAxOyBqIDwgZW5jbG9zaW5nUGFpci5jbG9zaW5nU3RyaW5nLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdFx0XHRcdC8vIChvcGVuaW5nIGFuZCBjbG9zaW5nIHN0cmluZyBhcmUgdGhlIHNhbWUpXG5cdFx0XHRcdFx0XHRcdGkgKz0gMTtcblx0XHRcdFx0XHRcdFx0c3ViU3RyICs9IHN0cltpXTtcblxuXHRcdFx0XHRcdFx0XHRpZiAoaSA+IHN0ci5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdFx0XHRicmVhayBzdHJMb29wO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRzdWJTdHJpbmdzLnB1c2goc3ViU3RyKTtcblx0XHRcdFx0XHRcdHN1YlN0ciA9ICcnO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZW1haW5pbmdPcGVuaW5nU3RyaW5nQ291bnQgLT0gMTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpZiAoZW5jbG9zaW5nTGV2ZWwgPj0gMSkge1xuXHRcdFx0XHRcdFx0c3ViU3RyICs9IHN0cltpXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmIChQYXJzZXJVdGlscy5pc1N0cmluZ0F0KHN0ciwgZW5jbG9zaW5nUGFpci5vcGVuaW5nU3RyaW5nLCBpKSkge1xuXHRcdFx0XHRcdC8vIG9wZW5pbmcgc3RyaW5nXG5cdFx0XHRcdFx0aWYgKHJlbWFpbmluZ09wZW5pbmdTdHJpbmdDb3VudCA8PSByZW1haW5pbmdDbG9zaW5nU3RyaW5nQ291bnQpIHtcblx0XHRcdFx0XHRcdC8vIHN0ciBzdGlsbCBoYXMgc3VmZmljaWVudCBjbG9zaW5nIHN0cmluZyB0byBmaW5kIHRoaXMgYSBwYXJ0bmVyXG5cdFx0XHRcdFx0XHRlbmNsb3NpbmdMZXZlbCArPSAxO1xuXG5cdFx0XHRcdFx0XHQvLyBjb3B5IHRoZSBvcGVuaW5nIHN0cmluZ1xuXHRcdFx0XHRcdFx0c3ViU3RyICs9IHN0cltpXTtcblx0XHRcdFx0XHRcdGZvciAobGV0IGogPSAxOyBqIDwgZW5jbG9zaW5nUGFpci5vcGVuaW5nU3RyaW5nLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdFx0XHRcdGkgKz0gMTtcblx0XHRcdFx0XHRcdFx0c3ViU3RyICs9IHN0cltpXTtcblxuXHRcdFx0XHRcdFx0XHRpZiAoaSA+PSBzdHIubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRcdFx0YnJlYWsgc3RyTG9vcDtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZW1haW5pbmdPcGVuaW5nU3RyaW5nQ291bnQgLT0gMTtcblx0XHRcdFx0fSBlbHNlIGlmIChQYXJzZXJVdGlscy5pc1N0cmluZ0F0KHN0ciwgZW5jbG9zaW5nUGFpci5jbG9zaW5nU3RyaW5nLCBpKSkge1xuXHRcdFx0XHRcdC8vIGNsb3Npbmcgc3RyaW5nXG5cdFx0XHRcdFx0aWYgKGVuY2xvc2luZ0xldmVsID4gMCkge1xuXHRcdFx0XHRcdFx0Ly8gdGhlcmUgd2FzIGFuIG9wZW5pbmcgc3RyaW5nIGJlZm9yZSB0aGlzXG5cdFx0XHRcdFx0XHRlbmNsb3NpbmdMZXZlbCAtPSAxO1xuXG5cdFx0XHRcdFx0XHQvLyBjb3B5IHRoZSBjbG9zaW5nIHN0cmluZ1xuXHRcdFx0XHRcdFx0c3ViU3RyICs9IHN0cltpXTtcblx0XHRcdFx0XHRcdGZvciAobGV0IGogPSAxOyBqIDwgZW5jbG9zaW5nUGFpci5jbG9zaW5nU3RyaW5nLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdFx0XHRcdGkgKz0gMTtcblx0XHRcdFx0XHRcdFx0c3ViU3RyICs9IHN0cltpXTtcblxuXHRcdFx0XHRcdFx0XHRpZiAoaSA+IHN0ci5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdFx0XHRicmVhayBzdHJMb29wO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGlmIChlbmNsb3NpbmdMZXZlbCA9PT0gMCkge1xuXHRcdFx0XHRcdFx0XHRzdWJTdHJpbmdzLnB1c2goc3ViU3RyKTtcblx0XHRcdFx0XHRcdFx0c3ViU3RyID0gJyc7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJlbWFpbmluZ0Nsb3NpbmdTdHJpbmdDb3VudCAtPSAxO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmIChlbmNsb3NpbmdMZXZlbCA+PSAxKSB7XG5cdFx0XHRcdFx0XHRzdWJTdHIgKz0gc3RyW2ldO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChzdWJTdHJpbmdzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0cmV0dXJuICcnO1xuXHRcdH0gZWxzZSBpZiAoc3ViU3RyaW5ncy5sZW5ndGggPT09IDEpIHtcblx0XHRcdHJldHVybiBzdWJTdHJpbmdzWzBdLnN1YnN0cmluZyhlbmNsb3NpbmdQYWlyLm9wZW5pbmdTdHJpbmcubGVuZ3RoLCBzdWJTdHJpbmdzWzBdLmxlbmd0aCAtIGVuY2xvc2luZ1BhaXIuY2xvc2luZ1N0cmluZy5sZW5ndGgpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gc3ViU3RyaW5ncy5tYXAoeCA9PiB4LnN1YnN0cmluZyhlbmNsb3NpbmdQYWlyLm9wZW5pbmdTdHJpbmcubGVuZ3RoLCB4Lmxlbmd0aCAtIGVuY2xvc2luZ1BhaXIuY2xvc2luZ1N0cmluZy5sZW5ndGgpKTtcblx0XHR9XG5cdH1cblxuXHRzdGF0aWMgaXNTdHJpbmdBdChzdHI6IHN0cmluZywgc3ViU3RyOiBzdHJpbmcsIGluZGV4OiBudW1iZXIpOiBib29sZWFuIHtcblx0XHRpZiAoaW5kZXggPCAwKSB7XG5cdFx0XHR0aHJvdyBuZXcgTWV0YUJpbmRJbnRlcm5hbEVycm9yKCdpbmRleCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwJyk7XG5cdFx0fVxuXHRcdGlmIChpbmRleCA+PSBzdHIubGVuZ3RoKSB7XG5cdFx0XHR0aHJvdyBuZXcgTWV0YUJpbmRJbnRlcm5hbEVycm9yKCdpbmRleCBvdXQgb2YgYm91bmRzIG9mIHN0cmluZycpO1xuXHRcdH1cblx0XHRpZiAoIXN0cikge1xuXHRcdFx0dGhyb3cgbmV3IE1ldGFCaW5kSW50ZXJuYWxFcnJvcignc3RyaW5nIG11c3Qgbm90IGJlIGVtcHR5Jyk7XG5cdFx0fVxuXHRcdGlmICghc3ViU3RyKSB7XG5cdFx0XHR0aHJvdyBuZXcgTWV0YUJpbmRJbnRlcm5hbEVycm9yKCdzdWIgc3RyaW5nIG11c3Qgbm90IGJlIGVtcHR5Jyk7XG5cdFx0fVxuXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBzdWJTdHIubGVuZ3RoOyBpKyspIHtcblx0XHRcdGlmIChzdHJbaSArIGluZGV4XSAhPT0gc3ViU3RyW2ldKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdHN0YXRpYyBjb250YWlucyhzdHI6IHN0cmluZywgc3ViU3RyOiBzdHJpbmcpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gUGFyc2VyVXRpbHMubnVtYmVyT2ZPY2N1cnJlbmNlcyhzdHIsIHN1YlN0cikgPiAwO1xuXHR9XG5cblx0c3RhdGljIG51bWJlck9mT2NjdXJyZW5jZXMoc3RyOiBzdHJpbmcsIHN1YlN0cjogc3RyaW5nKTogbnVtYmVyIHtcblx0XHRpZiAoIXN0cikge1xuXHRcdFx0dGhyb3cgbmV3IE1ldGFCaW5kSW50ZXJuYWxFcnJvcignc3RyaW5nIG11c3Qgbm90IGJlIGVtcHR5Jyk7XG5cdFx0fVxuXHRcdGlmICghc3ViU3RyKSB7XG5cdFx0XHR0aHJvdyBuZXcgTWV0YUJpbmRJbnRlcm5hbEVycm9yKCdzdWIgc3RyaW5nIG11c3Qgbm90IGJlIGVtcHR5Jyk7XG5cdFx0fVxuXG5cdFx0bGV0IG9jY3VycmVuY2VzID0gMDtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuXHRcdFx0aWYgKFBhcnNlclV0aWxzLmlzU3RyaW5nQXQoc3RyLCBzdWJTdHIsIGkpKSB7XG5cdFx0XHRcdG9jY3VycmVuY2VzICs9IDE7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG9jY3VycmVuY2VzO1xuXHR9XG59XG4iLCAiaW1wb3J0IHsgSW5wdXRGaWVsZEFyZ3VtZW50VHlwZSwgSW5wdXRGaWVsZFR5cGUgfSBmcm9tICcuLi9wYXJzZXJzL0lucHV0RmllbGREZWNsYXJhdGlvblBhcnNlcic7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBYnN0cmFjdElucHV0RmllbGRBcmd1bWVudCB7XG5cdGlkZW50aWZpZXI6IElucHV0RmllbGRBcmd1bWVudFR5cGUgPSBJbnB1dEZpZWxkQXJndW1lbnRUeXBlLklOVkFMSUQ7XG5cdGFsbG93ZWRJbnB1dEZpZWxkczogSW5wdXRGaWVsZFR5cGVbXSA9IFtdO1xuXHR2YWx1ZTogYW55O1xuXHRyZXF1aXJlc1ZhbHVlOiBib29sZWFuID0gZmFsc2U7XG5cdGFsbG93TXVsdGlwbGU6IGJvb2xlYW4gPSBmYWxzZTtcblxuXHRhYnN0cmFjdCBwYXJzZVZhbHVlKHZhbHVlU3RyOiBzdHJpbmcpOiB2b2lkO1xuXG5cdGlzQWxsb3dlZChpbnB1dEZpZWxkVHlwZTogSW5wdXRGaWVsZFR5cGUpOiBib29sZWFuIHtcblx0XHRpZiAodGhpcy5hbGxvd2VkSW5wdXRGaWVsZHMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5hbGxvd2VkSW5wdXRGaWVsZHMuY29udGFpbnMoaW5wdXRGaWVsZFR5cGUpO1xuXHR9XG5cblx0Z2V0QWxsb3dlZElucHV0RmllbGRzQXNTdHJpbmcoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gdGhpcy5hbGxvd2VkSW5wdXRGaWVsZHMubGVuZ3RoID09PSAwID8gJ2FsbCcgOiB0aGlzLmFsbG93ZWRJbnB1dEZpZWxkcy5qb2luKCcsICcpO1xuXHR9XG59XG4iLCAiaW1wb3J0IHsgQWJzdHJhY3RJbnB1dEZpZWxkQXJndW1lbnQgfSBmcm9tICcuL0Fic3RyYWN0SW5wdXRGaWVsZEFyZ3VtZW50JztcbmltcG9ydCB7IElucHV0RmllbGRBcmd1bWVudFR5cGUsIElucHV0RmllbGRUeXBlIH0gZnJvbSAnLi4vcGFyc2Vycy9JbnB1dEZpZWxkRGVjbGFyYXRpb25QYXJzZXInO1xuXG5leHBvcnQgY2xhc3MgQ2xhc3NJbnB1dEZpZWxkQXJndW1lbnQgZXh0ZW5kcyBBYnN0cmFjdElucHV0RmllbGRBcmd1bWVudCB7XG5cdGlkZW50aWZpZXI6IElucHV0RmllbGRBcmd1bWVudFR5cGUgPSBJbnB1dEZpZWxkQXJndW1lbnRUeXBlLkNMQVNTO1xuXHRhbGxvd2VkSW5wdXRGaWVsZHM6IElucHV0RmllbGRUeXBlW10gPSBbXTtcblx0dmFsdWU6IHN0cmluZ1tdID0gW107XG5cdHJlcXVpcmVzVmFsdWU6IGJvb2xlYW4gPSB0cnVlO1xuXHRhbGxvd011bHRpcGxlOiBib29sZWFuID0gdHJ1ZTtcblxuXHRwYXJzZVZhbHVlKHZhbHVlU3RyOiBzdHJpbmcpOiB2b2lkIHtcblx0XHR0aGlzLnZhbHVlID0gdmFsdWVTdHIuc3BsaXQoJyAnKTtcblx0fVxufVxuIiwgImltcG9ydCB7IEFic3RyYWN0SW5wdXRGaWVsZEFyZ3VtZW50IH0gZnJvbSAnLi9BYnN0cmFjdElucHV0RmllbGRBcmd1bWVudCc7XG5pbXBvcnQgeyBJbnB1dEZpZWxkQXJndW1lbnRUeXBlLCBJbnB1dEZpZWxkVHlwZSB9IGZyb20gJy4uL3BhcnNlcnMvSW5wdXRGaWVsZERlY2xhcmF0aW9uUGFyc2VyJztcblxuZXhwb3J0IGNsYXNzIEFkZExhYmVsc0lucHV0RmllbGRBcmd1bWVudCBleHRlbmRzIEFic3RyYWN0SW5wdXRGaWVsZEFyZ3VtZW50IHtcblx0aWRlbnRpZmllcjogSW5wdXRGaWVsZEFyZ3VtZW50VHlwZSA9IElucHV0RmllbGRBcmd1bWVudFR5cGUuQUREX0xBQkVMUztcblx0YWxsb3dlZElucHV0RmllbGRzOiBJbnB1dEZpZWxkVHlwZVtdID0gW0lucHV0RmllbGRUeXBlLlNMSURFUl07XG5cdHZhbHVlOiBib29sZWFuID0gdHJ1ZTtcblx0cmVxdWlyZXNWYWx1ZTogYm9vbGVhbiA9IGZhbHNlO1xuXHRhbGxvd011bHRpcGxlOiBib29sZWFuID0gZmFsc2U7XG5cblx0cGFyc2VWYWx1ZSh2YWx1ZVN0cjogc3RyaW5nKTogdm9pZCB7XG5cdFx0dGhpcy52YWx1ZSA9IHZhbHVlU3RyLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJztcblx0fVxufVxuIiwgImltcG9ydCB7IEFic3RyYWN0SW5wdXRGaWVsZEFyZ3VtZW50IH0gZnJvbSAnLi9BYnN0cmFjdElucHV0RmllbGRBcmd1bWVudCc7XG5pbXBvcnQgeyBJbnB1dEZpZWxkQXJndW1lbnRUeXBlLCBJbnB1dEZpZWxkVHlwZSB9IGZyb20gJy4uL3BhcnNlcnMvSW5wdXRGaWVsZERlY2xhcmF0aW9uUGFyc2VyJztcbmltcG9ydCB7IE1ldGFCaW5kUGFyc2luZ0Vycm9yIH0gZnJvbSAnLi4vdXRpbHMvVXRpbHMnO1xuXG5leHBvcnQgY2xhc3MgTWluVmFsdWVJbnB1dEZpZWxkQXJndW1lbnQgZXh0ZW5kcyBBYnN0cmFjdElucHV0RmllbGRBcmd1bWVudCB7XG5cdGlkZW50aWZpZXI6IElucHV0RmllbGRBcmd1bWVudFR5cGUgPSBJbnB1dEZpZWxkQXJndW1lbnRUeXBlLk1JTl9WQUxVRTtcblx0YWxsb3dlZElucHV0RmllbGRzOiBJbnB1dEZpZWxkVHlwZVtdID0gW0lucHV0RmllbGRUeXBlLlNMSURFUl07XG5cdHZhbHVlOiBudW1iZXIgPSAwO1xuXHRyZXF1aXJlc1ZhbHVlOiBib29sZWFuID0gdHJ1ZTtcblx0YWxsb3dNdWx0aXBsZTogYm9vbGVhbiA9IGZhbHNlO1xuXG5cdHBhcnNlVmFsdWUodmFsdWVTdHI6IHN0cmluZyk6IHZvaWQge1xuXHRcdHRoaXMudmFsdWUgPSBOdW1iZXIucGFyc2VJbnQodmFsdWVTdHIpO1xuXHRcdGlmIChOdW1iZXIuaXNOYU4odGhpcy52YWx1ZSkpIHtcblx0XHRcdHRocm93IG5ldyBNZXRhQmluZFBhcnNpbmdFcnJvcihcInZhbHVlIG9mIGFyZ3VtZW50ICdtaW5WYWx1ZScgbXVzdCBiZSBvZiB0eXBlIG51bWJlclwiKTtcblx0XHR9XG5cdH1cbn1cbiIsICJpbXBvcnQgeyBBYnN0cmFjdElucHV0RmllbGRBcmd1bWVudCB9IGZyb20gJy4vQWJzdHJhY3RJbnB1dEZpZWxkQXJndW1lbnQnO1xuaW1wb3J0IHsgSW5wdXRGaWVsZEFyZ3VtZW50VHlwZSwgSW5wdXRGaWVsZFR5cGUgfSBmcm9tICcuLi9wYXJzZXJzL0lucHV0RmllbGREZWNsYXJhdGlvblBhcnNlcic7XG5pbXBvcnQgeyBNZXRhQmluZFBhcnNpbmdFcnJvciB9IGZyb20gJy4uL3V0aWxzL1V0aWxzJztcblxuZXhwb3J0IGNsYXNzIE1heFZhbHVlSW5wdXRGaWVsZEFyZ3VtZW50IGV4dGVuZHMgQWJzdHJhY3RJbnB1dEZpZWxkQXJndW1lbnQge1xuXHRpZGVudGlmaWVyOiBJbnB1dEZpZWxkQXJndW1lbnRUeXBlID0gSW5wdXRGaWVsZEFyZ3VtZW50VHlwZS5NQVhfVkFMVUU7XG5cdGFsbG93ZWRJbnB1dEZpZWxkczogSW5wdXRGaWVsZFR5cGVbXSA9IFtJbnB1dEZpZWxkVHlwZS5TTElERVJdO1xuXHR2YWx1ZTogbnVtYmVyID0gMTAwO1xuXHRyZXF1aXJlc1ZhbHVlOiBib29sZWFuID0gdHJ1ZTtcblx0YWxsb3dNdWx0aXBsZTogYm9vbGVhbiA9IGZhbHNlO1xuXG5cdHBhcnNlVmFsdWUodmFsdWVTdHI6IHN0cmluZyk6IHZvaWQge1xuXHRcdHRoaXMudmFsdWUgPSBOdW1iZXIucGFyc2VJbnQodmFsdWVTdHIpO1xuXHRcdGlmIChOdW1iZXIuaXNOYU4odGhpcy52YWx1ZSkpIHtcblx0XHRcdHRocm93IG5ldyBNZXRhQmluZFBhcnNpbmdFcnJvcihcInZhbHVlIG9mIGFyZ3VtZW50ICdtYXhWYWx1ZScgbXVzdCBiZSBvZiB0eXBlIG51bWJlclwiKTtcblx0XHR9XG5cdH1cbn1cbiIsICJpbXBvcnQgeyBBYnN0cmFjdElucHV0RmllbGRBcmd1bWVudCB9IGZyb20gJy4vQWJzdHJhY3RJbnB1dEZpZWxkQXJndW1lbnQnO1xuaW1wb3J0IHsgSW5wdXRGaWVsZEFyZ3VtZW50VHlwZSwgSW5wdXRGaWVsZFR5cGUgfSBmcm9tICcuLi9wYXJzZXJzL0lucHV0RmllbGREZWNsYXJhdGlvblBhcnNlcic7XG5cbmV4cG9ydCBjbGFzcyBPcHRpb25JbnB1dEZpZWxkQXJndW1lbnQgZXh0ZW5kcyBBYnN0cmFjdElucHV0RmllbGRBcmd1bWVudCB7XG5cdGlkZW50aWZpZXI6IElucHV0RmllbGRBcmd1bWVudFR5cGUgPSBJbnB1dEZpZWxkQXJndW1lbnRUeXBlLk9QVElPTjtcblx0YWxsb3dlZElucHV0RmllbGRzOiBJbnB1dEZpZWxkVHlwZVtdID0gW0lucHV0RmllbGRUeXBlLlNFTEVDVCwgSW5wdXRGaWVsZFR5cGUuTVVMVElfU0VMRUNUXTtcblx0dmFsdWU6IHN0cmluZyA9ICcnO1xuXHRyZXF1aXJlc1ZhbHVlOiBib29sZWFuID0gdHJ1ZTtcblx0YWxsb3dNdWx0aXBsZTogYm9vbGVhbiA9IHRydWU7XG5cblx0cGFyc2VWYWx1ZSh2YWx1ZVN0cjogc3RyaW5nKTogdm9pZCB7XG5cdFx0dGhpcy52YWx1ZSA9IHZhbHVlU3RyO1xuXHR9XG59XG4iLCAiaW1wb3J0IHsgQWJzdHJhY3RJbnB1dEZpZWxkQXJndW1lbnQgfSBmcm9tICcuL0Fic3RyYWN0SW5wdXRGaWVsZEFyZ3VtZW50JztcbmltcG9ydCB7IElucHV0RmllbGRBcmd1bWVudFR5cGUsIElucHV0RmllbGRUeXBlIH0gZnJvbSAnLi4vcGFyc2Vycy9JbnB1dEZpZWxkRGVjbGFyYXRpb25QYXJzZXInO1xuXG5leHBvcnQgY2xhc3MgVGl0bGVJbnB1dEZpZWxkQXJndW1lbnQgZXh0ZW5kcyBBYnN0cmFjdElucHV0RmllbGRBcmd1bWVudCB7XG5cdGlkZW50aWZpZXI6IElucHV0RmllbGRBcmd1bWVudFR5cGUgPSBJbnB1dEZpZWxkQXJndW1lbnRUeXBlLlRJVExFO1xuXHRhbGxvd2VkSW5wdXRGaWVsZHM6IElucHV0RmllbGRUeXBlW10gPSBbSW5wdXRGaWVsZFR5cGUuU0VMRUNULCBJbnB1dEZpZWxkVHlwZS5NVUxUSV9TRUxFQ1RdO1xuXHR2YWx1ZTogc3RyaW5nID0gJyc7XG5cdHJlcXVpcmVzVmFsdWU6IGJvb2xlYW4gPSB0cnVlO1xuXHRhbGxvd011bHRpcGxlOiBib29sZWFuID0gZmFsc2U7XG5cblx0cGFyc2VWYWx1ZSh2YWx1ZVN0cjogc3RyaW5nKTogdm9pZCB7XG5cdFx0dGhpcy52YWx1ZSA9IHZhbHVlU3RyO1xuXHR9XG59XG4iLCAiaW1wb3J0IHsgQWJzdHJhY3RJbnB1dEZpZWxkQXJndW1lbnQgfSBmcm9tICcuL0Fic3RyYWN0SW5wdXRGaWVsZEFyZ3VtZW50JztcbmltcG9ydCB7IElucHV0RmllbGRBcmd1bWVudFR5cGUsIElucHV0RmllbGRUeXBlIH0gZnJvbSAnLi4vcGFyc2Vycy9JbnB1dEZpZWxkRGVjbGFyYXRpb25QYXJzZXInO1xuXG5leHBvcnQgY2xhc3MgQWxpZ25SaWdodElucHV0RmllbGRBcmd1bWVudCBleHRlbmRzIEFic3RyYWN0SW5wdXRGaWVsZEFyZ3VtZW50IHtcblx0aWRlbnRpZmllcjogSW5wdXRGaWVsZEFyZ3VtZW50VHlwZSA9IElucHV0RmllbGRBcmd1bWVudFR5cGUuQUxJR05fUklHSFQ7XG5cdGFsbG93ZWRJbnB1dEZpZWxkczogSW5wdXRGaWVsZFR5cGVbXSA9IFtJbnB1dEZpZWxkVHlwZS5EQVRFX1BJQ0tFUl07XG5cdHZhbHVlOiBib29sZWFuID0gdHJ1ZTtcblx0cmVxdWlyZXNWYWx1ZTogYm9vbGVhbiA9IGZhbHNlO1xuXHRhbGxvd011bHRpcGxlOiBib29sZWFuID0gZmFsc2U7XG5cblx0cGFyc2VWYWx1ZSh2YWx1ZVN0cjogc3RyaW5nKTogdm9pZCB7XG5cdFx0dGhpcy52YWx1ZSA9IHZhbHVlU3RyLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJztcblx0fVxufVxuIiwgImltcG9ydCB7IEFic3RyYWN0SW5wdXRGaWVsZEFyZ3VtZW50IH0gZnJvbSAnLi9BYnN0cmFjdElucHV0RmllbGRBcmd1bWVudCc7XG5pbXBvcnQgeyBJbnB1dEZpZWxkQXJndW1lbnRUeXBlLCBJbnB1dEZpZWxkVHlwZSB9IGZyb20gJy4uL3BhcnNlcnMvSW5wdXRGaWVsZERlY2xhcmF0aW9uUGFyc2VyJztcblxuZXhwb3J0IGNsYXNzIFN1Z2dlc3RPcHRpb25JbnB1dEZpZWxkQXJndW1lbnQgZXh0ZW5kcyBBYnN0cmFjdElucHV0RmllbGRBcmd1bWVudCB7XG5cdGlkZW50aWZpZXI6IElucHV0RmllbGRBcmd1bWVudFR5cGUgPSBJbnB1dEZpZWxkQXJndW1lbnRUeXBlLlNVR0dFU1RfT1BUSU9OO1xuXHRhbGxvd2VkSW5wdXRGaWVsZHM6IElucHV0RmllbGRUeXBlW10gPSBbSW5wdXRGaWVsZFR5cGUuU1VHR0VTVEVSXTtcblx0dmFsdWU6IHN0cmluZyA9ICcnO1xuXHRyZXF1aXJlc1ZhbHVlOiBib29sZWFuID0gdHJ1ZTtcblx0YWxsb3dNdWx0aXBsZTogYm9vbGVhbiA9IHRydWU7XG5cblx0cGFyc2VWYWx1ZSh2YWx1ZVN0cjogc3RyaW5nKTogdm9pZCB7XG5cdFx0dGhpcy52YWx1ZSA9IHZhbHVlU3RyO1xuXHR9XG59XG4iLCAiaW1wb3J0IHsgQWJzdHJhY3RJbnB1dEZpZWxkQXJndW1lbnQgfSBmcm9tICcuL0Fic3RyYWN0SW5wdXRGaWVsZEFyZ3VtZW50JztcbmltcG9ydCB7IElucHV0RmllbGRBcmd1bWVudFR5cGUsIElucHV0RmllbGRUeXBlIH0gZnJvbSAnLi4vcGFyc2Vycy9JbnB1dEZpZWxkRGVjbGFyYXRpb25QYXJzZXInO1xuXG5leHBvcnQgY2xhc3MgU3VnZ2VzdE9wdGlvblF1ZXJ5SW5wdXRGaWVsZEFyZ3VtZW50IGV4dGVuZHMgQWJzdHJhY3RJbnB1dEZpZWxkQXJndW1lbnQge1xuXHRpZGVudGlmaWVyOiBJbnB1dEZpZWxkQXJndW1lbnRUeXBlID0gSW5wdXRGaWVsZEFyZ3VtZW50VHlwZS5TVUdHRVNUX09QVElPTl9RVUVSWTtcblx0YWxsb3dlZElucHV0RmllbGRzOiBJbnB1dEZpZWxkVHlwZVtdID0gW0lucHV0RmllbGRUeXBlLlNVR0dFU1RFUl07XG5cdHZhbHVlOiBzdHJpbmcgPSAnJztcblx0cmVxdWlyZXNWYWx1ZTogYm9vbGVhbiA9IHRydWU7XG5cdGFsbG93TXVsdGlwbGU6IGJvb2xlYW4gPSB0cnVlO1xuXG5cdHBhcnNlVmFsdWUodmFsdWVTdHI6IHN0cmluZyk6IHZvaWQge1xuXHRcdHRoaXMudmFsdWUgPSB2YWx1ZVN0cjtcblx0fVxufVxuIiwgImltcG9ydCB7IE1ldGFCaW5kUGFyc2luZ0Vycm9yIH0gZnJvbSAnLi4vdXRpbHMvVXRpbHMnO1xuaW1wb3J0IHsgSW5wdXRGaWVsZEFyZ3VtZW50VHlwZSB9IGZyb20gJy4uL3BhcnNlcnMvSW5wdXRGaWVsZERlY2xhcmF0aW9uUGFyc2VyJztcbmltcG9ydCB7IENsYXNzSW5wdXRGaWVsZEFyZ3VtZW50IH0gZnJvbSAnLi9DbGFzc0lucHV0RmllbGRBcmd1bWVudCc7XG5pbXBvcnQgeyBBZGRMYWJlbHNJbnB1dEZpZWxkQXJndW1lbnQgfSBmcm9tICcuL0FkZExhYmVsc0lucHV0RmllbGRBcmd1bWVudCc7XG5pbXBvcnQgeyBNaW5WYWx1ZUlucHV0RmllbGRBcmd1bWVudCB9IGZyb20gJy4vTWluVmFsdWVJbnB1dEZpZWxkQXJndW1lbnQnO1xuaW1wb3J0IHsgTWF4VmFsdWVJbnB1dEZpZWxkQXJndW1lbnQgfSBmcm9tICcuL01heFZhbHVlSW5wdXRGaWVsZEFyZ3VtZW50JztcbmltcG9ydCB7IE9wdGlvbklucHV0RmllbGRBcmd1bWVudCB9IGZyb20gJy4vT3B0aW9uSW5wdXRGaWVsZEFyZ3VtZW50JztcbmltcG9ydCB7IFRpdGxlSW5wdXRGaWVsZEFyZ3VtZW50IH0gZnJvbSAnLi9UaXRsZUlucHV0RmllbGRBcmd1bWVudCc7XG5pbXBvcnQgeyBBbGlnblJpZ2h0SW5wdXRGaWVsZEFyZ3VtZW50IH0gZnJvbSAnLi9BbGlnblJpZ2h0SW5wdXRGaWVsZEFyZ3VtZW50JztcbmltcG9ydCB7IFN1Z2dlc3RPcHRpb25JbnB1dEZpZWxkQXJndW1lbnQgfSBmcm9tICcuL1N1Z2dlc3RPcHRpb25JbnB1dEZpZWxkQXJndW1lbnQnO1xuaW1wb3J0IHsgU3VnZ2VzdE9wdGlvblF1ZXJ5SW5wdXRGaWVsZEFyZ3VtZW50IH0gZnJvbSAnLi9TdWdnZXN0T3B0aW9uUXVlcnlJbnB1dEZpZWxkQXJndW1lbnQnO1xuXG5leHBvcnQgY2xhc3MgSW5wdXRGaWVsZEFyZ3VtZW50RmFjdG9yeSB7XG5cdHN0YXRpYyBjcmVhdGVJbnB1dEZpZWxkQXJndW1lbnQoYXJndW1lbnRJZGVudGlmaWVyOiBzdHJpbmcpIHtcblx0XHRpZiAoYXJndW1lbnRJZGVudGlmaWVyID09PSBJbnB1dEZpZWxkQXJndW1lbnRUeXBlLkNMQVNTKSB7XG5cdFx0XHRyZXR1cm4gbmV3IENsYXNzSW5wdXRGaWVsZEFyZ3VtZW50KCk7XG5cdFx0fSBlbHNlIGlmIChhcmd1bWVudElkZW50aWZpZXIgPT09IElucHV0RmllbGRBcmd1bWVudFR5cGUuQUREX0xBQkVMUykge1xuXHRcdFx0cmV0dXJuIG5ldyBBZGRMYWJlbHNJbnB1dEZpZWxkQXJndW1lbnQoKTtcblx0XHR9IGVsc2UgaWYgKGFyZ3VtZW50SWRlbnRpZmllciA9PT0gSW5wdXRGaWVsZEFyZ3VtZW50VHlwZS5NSU5fVkFMVUUpIHtcblx0XHRcdHJldHVybiBuZXcgTWluVmFsdWVJbnB1dEZpZWxkQXJndW1lbnQoKTtcblx0XHR9IGVsc2UgaWYgKGFyZ3VtZW50SWRlbnRpZmllciA9PT0gSW5wdXRGaWVsZEFyZ3VtZW50VHlwZS5NQVhfVkFMVUUpIHtcblx0XHRcdHJldHVybiBuZXcgTWF4VmFsdWVJbnB1dEZpZWxkQXJndW1lbnQoKTtcblx0XHR9IGVsc2UgaWYgKGFyZ3VtZW50SWRlbnRpZmllciA9PT0gSW5wdXRGaWVsZEFyZ3VtZW50VHlwZS5PUFRJT04pIHtcblx0XHRcdHJldHVybiBuZXcgT3B0aW9uSW5wdXRGaWVsZEFyZ3VtZW50KCk7XG5cdFx0fSBlbHNlIGlmIChhcmd1bWVudElkZW50aWZpZXIgPT09IElucHV0RmllbGRBcmd1bWVudFR5cGUuVElUTEUpIHtcblx0XHRcdHJldHVybiBuZXcgVGl0bGVJbnB1dEZpZWxkQXJndW1lbnQoKTtcblx0XHR9IGVsc2UgaWYgKGFyZ3VtZW50SWRlbnRpZmllciA9PT0gSW5wdXRGaWVsZEFyZ3VtZW50VHlwZS5BTElHTl9SSUdIVCkge1xuXHRcdFx0cmV0dXJuIG5ldyBBbGlnblJpZ2h0SW5wdXRGaWVsZEFyZ3VtZW50KCk7XG5cdFx0fSBlbHNlIGlmIChhcmd1bWVudElkZW50aWZpZXIgPT09IElucHV0RmllbGRBcmd1bWVudFR5cGUuU1VHR0VTVF9PUFRJT04pIHtcblx0XHRcdHJldHVybiBuZXcgU3VnZ2VzdE9wdGlvbklucHV0RmllbGRBcmd1bWVudCgpO1xuXHRcdH0gZWxzZSBpZiAoYXJndW1lbnRJZGVudGlmaWVyID09PSBJbnB1dEZpZWxkQXJndW1lbnRUeXBlLlNVR0dFU1RfT1BUSU9OX1FVRVJZKSB7XG5cdFx0XHRyZXR1cm4gbmV3IFN1Z2dlc3RPcHRpb25RdWVyeUlucHV0RmllbGRBcmd1bWVudCgpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aHJvdyBuZXcgTWV0YUJpbmRQYXJzaW5nRXJyb3IoYHVua25vd24gYXJndW1lbnQgXFwnJHthcmd1bWVudElkZW50aWZpZXJ9XFwnYCk7XG5cdFx0fVxuXHR9XG59XG4iLCAiaW1wb3J0IHsgQWJzdHJhY3RJbnB1dEZpZWxkQXJndW1lbnQgfSBmcm9tICcuL0Fic3RyYWN0SW5wdXRGaWVsZEFyZ3VtZW50JztcbmltcG9ydCB7IElucHV0RmllbGRBcmd1bWVudFR5cGUgfSBmcm9tICcuLi9wYXJzZXJzL0lucHV0RmllbGREZWNsYXJhdGlvblBhcnNlcic7XG5pbXBvcnQgeyBNZXRhQmluZFBhcnNpbmdFcnJvciB9IGZyb20gJy4uL3V0aWxzL1V0aWxzJztcblxuZXhwb3J0IGNsYXNzIElucHV0RmllbGRBcmd1bWVudENvbnRhaW5lciB7XG5cdGFyZ3VtZW50czogQWJzdHJhY3RJbnB1dEZpZWxkQXJndW1lbnRbXSA9IFtdO1xuXG5cdGFkZChhcmd1bWVudDogQWJzdHJhY3RJbnB1dEZpZWxkQXJndW1lbnQpOiB2b2lkIHtcblx0XHR0aGlzLmFyZ3VtZW50cy5wdXNoKGFyZ3VtZW50KTtcblx0fVxuXG5cdHZhbGlkYXRlKCk6IHZvaWQge1xuXHRcdGxldCBtYXA6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7fTtcblx0XHRmb3IgKGNvbnN0IGlucHV0RmllbGRBcmd1bWVudFR5cGUgb2YgT2JqZWN0LnZhbHVlcyhJbnB1dEZpZWxkQXJndW1lbnRUeXBlKSkge1xuXHRcdFx0bWFwW2lucHV0RmllbGRBcmd1bWVudFR5cGVdID0gMDtcblx0XHR9XG5cblx0XHRmb3IgKGNvbnN0IGFyZ3VtZW50IG9mIHRoaXMuYXJndW1lbnRzKSB7XG5cdFx0XHRtYXBbYXJndW1lbnQuaWRlbnRpZmllcl0gKz0gMTtcblx0XHRcdGlmIChtYXBbYXJndW1lbnQuaWRlbnRpZmllcl0gPiAxICYmICFhcmd1bWVudC5hbGxvd011bHRpcGxlKSB7XG5cdFx0XHRcdHRocm93IG5ldyBNZXRhQmluZFBhcnNpbmdFcnJvcihgYXJndW1lbnQgJyR7YXJndW1lbnQuaWRlbnRpZmllcn0nIGRvZXMgbm90IGFsbG93IGR1cGxpY2F0ZXNgKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogTWVyZ2VzIHR3byBJbnB1dEZpZWxkQXJndW1lbnRDb250YWluZXJzIGJ5IG92ZXJyaWRpbmcuXG5cdCAqIFRoZSBhcmd1bWVudHMgZm9ybSB0aGUgb3RoZXIgY29udGFpbmVyIHRha2UgcHJpb3JpdHkuXG5cdCAqXG5cdCAqIEBwYXJhbSBvdGhlclxuXHQgKi9cblx0bWVyZ2VCeU92ZXJyaWRlKG90aGVyOiBJbnB1dEZpZWxkQXJndW1lbnRDb250YWluZXIpOiBJbnB1dEZpZWxkQXJndW1lbnRDb250YWluZXIge1xuXHRcdGZvciAoY29uc3QgYXJndW1lbnQgb2Ygb3RoZXIuYXJndW1lbnRzKSB7XG5cdFx0XHRpZiAoIWFyZ3VtZW50LmFsbG93TXVsdGlwbGUpIHtcblx0XHRcdFx0dGhpcy5hcmd1bWVudHMgPSB0aGlzLmFyZ3VtZW50cy5maWx0ZXIoeCA9PiB4LmlkZW50aWZpZXIgIT09IGFyZ3VtZW50LmlkZW50aWZpZXIpO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5hcmd1bWVudHMucHVzaChhcmd1bWVudCk7XG5cdFx0fVxuXG5cdFx0Ly8gc2hvdWxkIG5vdCBiZSBuZWNlc3NhcnkgYnV0IGl0IGlzIGJldHRlciB0byBjaGVja1xuXHRcdHRoaXMudmFsaWRhdGUoKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0LyoqXG5cdCAqIE1lcmdlcyB0d28gSW5wdXRGaWVsZEFyZ3VtZW50Q29udGFpbmVycy5cblx0ICogSWYgdGhlcmUgaXMgYW4gYXJndW1lbnQgdGhhdCBkb2VzIG5vdCBhbGxvdyBkdXBsaWNhdGVzIGluIGJvdGggY29udGFpbmVycyB0aGlzIHdpbGwgdGhyb3cgYW4gZXJyb3IuXG5cdCAqXG5cdCAqIEBwYXJhbSBvdGhlclxuXHQgKi9cblx0bWVyZ2VCeVRocm93KG90aGVyOiBJbnB1dEZpZWxkQXJndW1lbnRDb250YWluZXIpOiBJbnB1dEZpZWxkQXJndW1lbnRDb250YWluZXIge1xuXHRcdGZvciAoY29uc3QgYXJndW1lbnQgb2Ygb3RoZXIuYXJndW1lbnRzKSB7XG5cdFx0XHRpZiAoIWFyZ3VtZW50LmFsbG93TXVsdGlwbGUpIHtcblx0XHRcdFx0aWYgKHRoaXMuYXJndW1lbnRzLmZpbHRlcih4ID0+IHguaWRlbnRpZmllciA9PT0gYXJndW1lbnQuaWRlbnRpZmllcikubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdHRocm93IG5ldyBNZXRhQmluZFBhcnNpbmdFcnJvcignY2FuIG5vdCBtZXJnZSBJbnB1dEZpZWxkQXJndW1lbnRDb250YWluZXJzLCBzaW5jZSBhcmd1bWVudHMgb3ZlcmxhcCcpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHR0aGlzLmFyZ3VtZW50cy5wdXNoKGFyZ3VtZW50KTtcblx0XHR9XG5cblx0XHQvLyBzaG91bGQgbm90IGJlIG5lY2Vzc2FyeSBidXQgaXQgaXMgYmV0dGVyIHRvIGNoZWNrXG5cdFx0dGhpcy52YWxpZGF0ZSgpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cbn1cbiIsICJpbXBvcnQgeyBFbmNsb3NpbmdQYWlyLCBQYXJzZXJVdGlscyB9IGZyb20gJy4uL3V0aWxzL1BhcnNlclV0aWxzJztcbmltcG9ydCB7IGlzVHJ1dGh5LCBNZXRhQmluZFBhcnNpbmdFcnJvciB9IGZyb20gJy4uL3V0aWxzL1V0aWxzJztcbmltcG9ydCB7IElucHV0RmllbGRBcmd1bWVudEZhY3RvcnkgfSBmcm9tICcuLi9pbnB1dEZpZWxkQXJndW1lbnRzL0lucHV0RmllbGRBcmd1bWVudEZhY3RvcnknO1xuaW1wb3J0IHsgSW5wdXRGaWVsZEFyZ3VtZW50Q29udGFpbmVyIH0gZnJvbSAnLi4vaW5wdXRGaWVsZEFyZ3VtZW50cy9JbnB1dEZpZWxkQXJndW1lbnRDb250YWluZXInO1xuXG5leHBvcnQgZW51bSBJbnB1dEZpZWxkVHlwZSB7XG5cdFRPR0dMRSA9ICd0b2dnbGUnLFxuXHRTTElERVIgPSAnc2xpZGVyJyxcblx0VEVYVCA9ICd0ZXh0Jyxcblx0VEVYVF9BUkVBID0gJ3RleHRfYXJlYScsXG5cdFNFTEVDVCA9ICdzZWxlY3QnLFxuXHRNVUxUSV9TRUxFQ1QgPSAnbXVsdGlfc2VsZWN0Jyxcblx0REFURSA9ICdkYXRlJyxcblx0VElNRSA9ICd0aW1lJyxcblx0REFURV9QSUNLRVIgPSAnZGF0ZV9waWNrZXInLFxuXHROVU1CRVIgPSAnbnVtYmVyJyxcblx0U1VHR0VTVEVSID0gJ3N1Z2dlc3RlcicsXG5cblx0SU5WQUxJRCA9ICdpbnZhbGlkJyxcbn1cblxuZXhwb3J0IGVudW0gSW5wdXRGaWVsZEFyZ3VtZW50VHlwZSB7XG5cdENMQVNTID0gJ2NsYXNzJyxcblx0QUREX0xBQkVMUyA9ICdhZGRMYWJlbHMnLFxuXHRNSU5fVkFMVUUgPSAnbWluVmFsdWUnLFxuXHRNQVhfVkFMVUUgPSAnbWF4VmFsdWUnLFxuXHRPUFRJT04gPSAnb3B0aW9uJyxcblx0VElUTEUgPSAndGl0bGUnLFxuXHRBTElHTl9SSUdIVCA9ICdhbGlnblJpZ2h0Jyxcblx0U1VHR0VTVF9PUFRJT04gPSAnc3VnZ2VzdE9wdGlvbicsXG5cdFNVR0dFU1RfT1BUSU9OX1FVRVJZID0gJ3N1Z2dlc3RPcHRpb25RdWVyeScsXG5cblx0SU5WQUxJRCA9ICdpbnZhbGlkJyxcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJbnB1dEZpZWxkRGVjbGFyYXRpb24ge1xuXHRmdWxsRGVjbGFyYXRpb246IHN0cmluZztcblx0ZGVjbGFyYXRpb246IHN0cmluZztcblx0aW5wdXRGaWVsZFR5cGU6IElucHV0RmllbGRUeXBlO1xuXHRpc0JvdW5kOiBib29sZWFuO1xuXHRiaW5kVGFyZ2V0OiBzdHJpbmc7XG5cblx0YXJndW1lbnRDb250YWluZXI6IElucHV0RmllbGRBcmd1bWVudENvbnRhaW5lcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUZW1wbGF0ZSB7XG5cdGlkZW50aWZpZXI6IHN0cmluZztcblx0dGVtcGxhdGU6IElucHV0RmllbGREZWNsYXJhdGlvbjtcbn1cblxuZXhwb3J0IGNsYXNzIElucHV0RmllbGREZWNsYXJhdGlvblBhcnNlciB7XG5cdHN0YXRpYyByb3VuZEJyYWNlc1BhaXI6IEVuY2xvc2luZ1BhaXIgPSBuZXcgRW5jbG9zaW5nUGFpcignKCcsICcpJyk7XG5cdHN0YXRpYyBzcXVhcmVCcmFjZXNQYWlyOiBFbmNsb3NpbmdQYWlyID0gbmV3IEVuY2xvc2luZ1BhaXIoJ1snLCAnXScpO1xuXHRzdGF0aWMgY3VybHlCcmFjZXNQYWlyOiBFbmNsb3NpbmdQYWlyID0gbmV3IEVuY2xvc2luZ1BhaXIoJ3snLCAnfScpO1xuXHRzdGF0aWMgYWxsQnJhY2VzUGFpcnM6IEVuY2xvc2luZ1BhaXJbXSA9IFtcblx0XHRJbnB1dEZpZWxkRGVjbGFyYXRpb25QYXJzZXIucm91bmRCcmFjZXNQYWlyLFxuXHRcdElucHV0RmllbGREZWNsYXJhdGlvblBhcnNlci5zcXVhcmVCcmFjZXNQYWlyLFxuXHRcdElucHV0RmllbGREZWNsYXJhdGlvblBhcnNlci5jdXJseUJyYWNlc1BhaXIsXG5cdF07XG5cblx0c3RhdGljIHRlbXBsYXRlczogVGVtcGxhdGVbXSA9IFtdO1xuXG5cdHN0YXRpYyBwYXJzZShmdWxsRGVjbGFyYXRpb246IHN0cmluZyk6IElucHV0RmllbGREZWNsYXJhdGlvbiB7XG5cdFx0Y29uc3QgaW5wdXRGaWVsZERlY2xhcmF0aW9uOiBJbnB1dEZpZWxkRGVjbGFyYXRpb24gPSB7fSBhcyBJbnB1dEZpZWxkRGVjbGFyYXRpb247XG5cblx0XHRsZXQgdXNlVGVtcGxhdGUgPSBmYWxzZTtcblx0XHRsZXQgdGVtcGxhdGVOYW1lID0gJyc7XG5cblx0XHQvLyBkZWNsYXJhdGlvblxuXHRcdGlucHV0RmllbGREZWNsYXJhdGlvbi5mdWxsRGVjbGFyYXRpb24gPSBmdWxsRGVjbGFyYXRpb247XG5cdFx0Y29uc3QgdGVtcCA9IFBhcnNlclV0aWxzLmdldEluQmV0d2VlbihmdWxsRGVjbGFyYXRpb24sIElucHV0RmllbGREZWNsYXJhdGlvblBhcnNlci5zcXVhcmVCcmFjZXNQYWlyKTtcblx0XHRpZiAoQXJyYXkuaXNBcnJheSh0ZW1wKSkge1xuXHRcdFx0aWYgKHRlbXAubGVuZ3RoID09PSAyKSB7XG5cdFx0XHRcdHVzZVRlbXBsYXRlID0gdHJ1ZTtcblx0XHRcdFx0dGVtcGxhdGVOYW1lID0gdGVtcFswXTtcblx0XHRcdFx0aW5wdXRGaWVsZERlY2xhcmF0aW9uLmRlY2xhcmF0aW9uID0gdGVtcFsxXTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRocm93IG5ldyBNZXRhQmluZFBhcnNpbmdFcnJvcignaW52YWxpZCBpbnB1dCBmaWVsZCBkZWNsYXJhdGlvbicpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRpbnB1dEZpZWxkRGVjbGFyYXRpb24uZGVjbGFyYXRpb24gPSB0ZW1wO1xuXHRcdH1cblxuXHRcdC8vIGRlY2xhcmF0aW9uIHBhcnRzXG5cdFx0Y29uc3QgZGVjbGFyYXRpb25QYXJ0czogc3RyaW5nW10gPSBQYXJzZXJVdGlscy5zcGxpdChpbnB1dEZpZWxkRGVjbGFyYXRpb24uZGVjbGFyYXRpb24sICc6JywgSW5wdXRGaWVsZERlY2xhcmF0aW9uUGFyc2VyLnNxdWFyZUJyYWNlc1BhaXIpO1xuXG5cdFx0Ly8gYmluZCB0YXJnZXRcblx0XHRpbnB1dEZpZWxkRGVjbGFyYXRpb24uYmluZFRhcmdldCA9IGRlY2xhcmF0aW9uUGFydHNbMV0gPz8gJyc7XG5cdFx0aW5wdXRGaWVsZERlY2xhcmF0aW9uLmlzQm91bmQgPSBpc1RydXRoeShpbnB1dEZpZWxkRGVjbGFyYXRpb24uYmluZFRhcmdldCk7XG5cblx0XHQvLyBpbnB1dCBmaWVsZCB0eXBlIGFuZCBhcmd1bWVudHNcblx0XHRjb25zdCBpbnB1dEZpZWxkVHlwZVdpdGhBcmd1bWVudHM6IHN0cmluZyA9IGRlY2xhcmF0aW9uUGFydHNbMF07XG5cdFx0aWYgKGlucHV0RmllbGRUeXBlV2l0aEFyZ3VtZW50cykge1xuXHRcdFx0Ly8gaW5wdXQgZmllbGQgdHlwZVxuXHRcdFx0Y29uc3QgaW5wdXRGaWVsZFR5cGVTdHJpbmcgPSBQYXJzZXJVdGlscy5yZW1vdmVJbkJldHdlZW4oaW5wdXRGaWVsZFR5cGVXaXRoQXJndW1lbnRzLCBJbnB1dEZpZWxkRGVjbGFyYXRpb25QYXJzZXIucm91bmRCcmFjZXNQYWlyKTtcblx0XHRcdGlucHV0RmllbGREZWNsYXJhdGlvbi5pbnB1dEZpZWxkVHlwZSA9IElucHV0RmllbGREZWNsYXJhdGlvblBhcnNlci5nZXRJbnB1dEZpZWxkVHlwZShpbnB1dEZpZWxkVHlwZVN0cmluZyk7XG5cblx0XHRcdC8vIGFyZ3VtZW50c1xuXHRcdFx0Y29uc3QgaW5wdXRGaWVsZEFyZ3VtZW50c1N0cmluZzogc3RyaW5nID0gUGFyc2VyVXRpbHMuZ2V0SW5CZXR3ZWVuKGlucHV0RmllbGRUeXBlV2l0aEFyZ3VtZW50cywgSW5wdXRGaWVsZERlY2xhcmF0aW9uUGFyc2VyLnJvdW5kQnJhY2VzUGFpcikgYXMgc3RyaW5nO1xuXHRcdFx0Ly8gY29uc29sZS5sb2coaW5wdXRGaWVsZEFyZ3VtZW50c1N0cmluZyk7XG5cdFx0XHRpZiAoaW5wdXRGaWVsZEFyZ3VtZW50c1N0cmluZykge1xuXHRcdFx0XHRpbnB1dEZpZWxkRGVjbGFyYXRpb24uYXJndW1lbnRDb250YWluZXIgPSBJbnB1dEZpZWxkRGVjbGFyYXRpb25QYXJzZXIucGFyc2VBcmd1bWVudHMoaW5wdXRGaWVsZEFyZ3VtZW50c1N0cmluZywgaW5wdXRGaWVsZERlY2xhcmF0aW9uLmlucHV0RmllbGRUeXBlKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlucHV0RmllbGREZWNsYXJhdGlvbi5hcmd1bWVudENvbnRhaW5lciA9IG5ldyBJbnB1dEZpZWxkQXJndW1lbnRDb250YWluZXIoKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0aW5wdXRGaWVsZERlY2xhcmF0aW9uLmlucHV0RmllbGRUeXBlID0gSW5wdXRGaWVsZFR5cGUuSU5WQUxJRDtcblx0XHRcdGlucHV0RmllbGREZWNsYXJhdGlvbi5hcmd1bWVudENvbnRhaW5lciA9IG5ldyBJbnB1dEZpZWxkQXJndW1lbnRDb250YWluZXIoKTtcblx0XHR9XG5cblx0XHRpZiAodXNlVGVtcGxhdGUpIHtcblx0XHRcdC8vIGNvbnNvbGUubG9nKHRlbXBsYXRlTmFtZSk7XG5cdFx0XHRjb25zdCB0ZW1wbGF0ZSA9IElucHV0RmllbGREZWNsYXJhdGlvblBhcnNlci50ZW1wbGF0ZXMuZmlsdGVyKHggPT4geC5pZGVudGlmaWVyID09PSB0ZW1wbGF0ZU5hbWUpLmZpcnN0KCk/LnRlbXBsYXRlO1xuXHRcdFx0Ly8gY29uc29sZS5sb2codGVtcGxhdGUpO1xuXHRcdFx0aWYgKHRlbXBsYXRlKSB7XG5cdFx0XHRcdGlucHV0RmllbGREZWNsYXJhdGlvbi5iaW5kVGFyZ2V0ID0gaW5wdXRGaWVsZERlY2xhcmF0aW9uLmJpbmRUYXJnZXQgfHwgdGVtcGxhdGUuYmluZFRhcmdldDtcblx0XHRcdFx0aW5wdXRGaWVsZERlY2xhcmF0aW9uLmlzQm91bmQgPSBpbnB1dEZpZWxkRGVjbGFyYXRpb24uaXNCb3VuZCB8fCB0ZW1wbGF0ZS5pc0JvdW5kO1xuXHRcdFx0XHRpbnB1dEZpZWxkRGVjbGFyYXRpb24uaW5wdXRGaWVsZFR5cGUgPVxuXHRcdFx0XHRcdGlucHV0RmllbGREZWNsYXJhdGlvbi5pbnB1dEZpZWxkVHlwZSA9PT0gSW5wdXRGaWVsZFR5cGUuSU5WQUxJRCA/IHRlbXBsYXRlLmlucHV0RmllbGRUeXBlIDogaW5wdXRGaWVsZERlY2xhcmF0aW9uLmlucHV0RmllbGRUeXBlIHx8IHRlbXBsYXRlLmlucHV0RmllbGRUeXBlO1xuXHRcdFx0XHRpbnB1dEZpZWxkRGVjbGFyYXRpb24uYXJndW1lbnRDb250YWluZXIgPSB0ZW1wbGF0ZS5hcmd1bWVudENvbnRhaW5lci5tZXJnZUJ5T3ZlcnJpZGUoaW5wdXRGaWVsZERlY2xhcmF0aW9uLmFyZ3VtZW50Q29udGFpbmVyKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRocm93IG5ldyBNZXRhQmluZFBhcnNpbmdFcnJvcihgdW5rbm93biB0ZW1wbGF0ZSBuYW1lICcke3RlbXBsYXRlTmFtZX0nYCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGlucHV0RmllbGREZWNsYXJhdGlvbi5pbnB1dEZpZWxkVHlwZSA9PT0gSW5wdXRGaWVsZFR5cGUuSU5WQUxJRCkge1xuXHRcdFx0dGhyb3cgbmV3IE1ldGFCaW5kUGFyc2luZ0Vycm9yKGB1bmtub3duIGlucHV0IGZpZWxkIHR5cGVgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gaW5wdXRGaWVsZERlY2xhcmF0aW9uO1xuXHR9XG5cblx0c3RhdGljIHBhcnNlVGVtcGxhdGVzKHRlbXBsYXRlczogc3RyaW5nKTogdm9pZCB7XG5cdFx0SW5wdXRGaWVsZERlY2xhcmF0aW9uUGFyc2VyLnRlbXBsYXRlcyA9IFtdO1xuXG5cdFx0bGV0IHRlbXBsYXRlRGVjbGFyYXRpb25zID0gdGVtcGxhdGVzID8gUGFyc2VyVXRpbHMuc3BsaXQodGVtcGxhdGVzLCAnXFxuJywgSW5wdXRGaWVsZERlY2xhcmF0aW9uUGFyc2VyLnNxdWFyZUJyYWNlc1BhaXIpIDogW107XG5cdFx0dGVtcGxhdGVEZWNsYXJhdGlvbnMgPSB0ZW1wbGF0ZURlY2xhcmF0aW9ucy5tYXAoeCA9PiB4LnRyaW0oKSkuZmlsdGVyKHggPT4geC5sZW5ndGggPiAwKTtcblxuXHRcdGZvciAoY29uc3QgdGVtcGxhdGVEZWNsYXJhdGlvbiBvZiB0ZW1wbGF0ZURlY2xhcmF0aW9ucykge1xuXHRcdFx0bGV0IHRlbXBsYXRlRGVjbGFyYXRpb25QYXJ0czogc3RyaW5nW10gPSBQYXJzZXJVdGlscy5zcGxpdCh0ZW1wbGF0ZURlY2xhcmF0aW9uLCAnLT4nLCBJbnB1dEZpZWxkRGVjbGFyYXRpb25QYXJzZXIuc3F1YXJlQnJhY2VzUGFpcik7XG5cdFx0XHR0ZW1wbGF0ZURlY2xhcmF0aW9uUGFydHMgPSB0ZW1wbGF0ZURlY2xhcmF0aW9uUGFydHMubWFwKHggPT4geC50cmltKCkpO1xuXG5cdFx0XHRpZiAodGVtcGxhdGVEZWNsYXJhdGlvblBhcnRzLmxlbmd0aCA9PT0gMSkge1xuXHRcdFx0XHR0aHJvdyBuZXcgTWV0YUJpbmRQYXJzaW5nRXJyb3IoJ0ludmFsaWQgdGVtcGxhdGUgc3ludGF4Jyk7XG5cdFx0XHR9IGVsc2UgaWYgKHRlbXBsYXRlRGVjbGFyYXRpb25QYXJ0cy5sZW5ndGggPT09IDIpIHtcblx0XHRcdFx0SW5wdXRGaWVsZERlY2xhcmF0aW9uUGFyc2VyLnRlbXBsYXRlcy5wdXNoKHtcblx0XHRcdFx0XHRpZGVudGlmaWVyOiB0ZW1wbGF0ZURlY2xhcmF0aW9uUGFydHNbMF0sXG5cdFx0XHRcdFx0dGVtcGxhdGU6IElucHV0RmllbGREZWNsYXJhdGlvblBhcnNlci5wYXJzZSh0ZW1wbGF0ZURlY2xhcmF0aW9uUGFydHNbMV0pLFxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRjb25zb2xlLmxvZyhJbnB1dEZpZWxkRGVjbGFyYXRpb25QYXJzZXIudGVtcGxhdGVzKTtcblx0fVxuXG5cdHN0YXRpYyBwYXJzZUFyZ3VtZW50cyhpbnB1dEZpZWxkQXJndW1lbnRzU3RyaW5nOiBzdHJpbmcsIGlucHV0RmllbGRUeXBlOiBJbnB1dEZpZWxkVHlwZSk6IElucHV0RmllbGRBcmd1bWVudENvbnRhaW5lciB7XG5cdFx0Ly8gY29uc29sZS5sb2coJ2lucHV0RmllbGRBcmd1bWVudHNTdHJpbmcnLCBpbnB1dEZpZWxkQXJndW1lbnRzU3RyaW5nKTtcblx0XHRsZXQgaW5wdXRGaWVsZEFyZ3VtZW50U3RyaW5nczogc3RyaW5nW10gPSBQYXJzZXJVdGlscy5zcGxpdChpbnB1dEZpZWxkQXJndW1lbnRzU3RyaW5nLCAnLCcsIElucHV0RmllbGREZWNsYXJhdGlvblBhcnNlci5yb3VuZEJyYWNlc1BhaXIpO1xuXHRcdGlucHV0RmllbGRBcmd1bWVudFN0cmluZ3MgPSBpbnB1dEZpZWxkQXJndW1lbnRTdHJpbmdzLm1hcCh4ID0+IHgudHJpbSgpKTtcblxuXHRcdGNvbnN0IGlucHV0RmllbGRBcmd1bWVudENvbnRhaW5lcjogSW5wdXRGaWVsZEFyZ3VtZW50Q29udGFpbmVyID0gbmV3IElucHV0RmllbGRBcmd1bWVudENvbnRhaW5lcigpO1xuXG5cdFx0Zm9yIChjb25zdCBpbnB1dEZpZWxkQXJndW1lbnRTdHJpbmcgb2YgaW5wdXRGaWVsZEFyZ3VtZW50U3RyaW5ncykge1xuXHRcdFx0Y29uc3QgaW5wdXRGaWVsZEFyZ3VtZW50SWRlbnRpZmllcjogc3RyaW5nID0gSW5wdXRGaWVsZERlY2xhcmF0aW9uUGFyc2VyLmV4dHJhY3RJbnB1dEZpZWxkQXJndW1lbnRJZGVudGlmaWVyKGlucHV0RmllbGRBcmd1bWVudFN0cmluZyk7XG5cdFx0XHQvLyBjb25zb2xlLmxvZyhpbnB1dEZpZWxkQXJndW1lbnRJZGVudGlmaWVyKTtcblxuXHRcdFx0Y29uc3QgaW5wdXRGaWVsZEFyZ3VtZW50ID0gSW5wdXRGaWVsZEFyZ3VtZW50RmFjdG9yeS5jcmVhdGVJbnB1dEZpZWxkQXJndW1lbnQoaW5wdXRGaWVsZEFyZ3VtZW50SWRlbnRpZmllcik7XG5cblx0XHRcdGlmICghaW5wdXRGaWVsZEFyZ3VtZW50LmlzQWxsb3dlZChpbnB1dEZpZWxkVHlwZSkpIHtcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGFCaW5kUGFyc2luZ0Vycm9yKFxuXHRcdFx0XHRcdGBhcmd1bWVudCAnJHtpbnB1dEZpZWxkQXJndW1lbnRJZGVudGlmaWVyfScgaXMgb25seSBhcHBsaWNhYmxlIHRvICR7aW5wdXRGaWVsZEFyZ3VtZW50LmdldEFsbG93ZWRJbnB1dEZpZWxkc0FzU3RyaW5nKCl9IGlucHV0IGZpZWxkc2Bcblx0XHRcdFx0KTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGlucHV0RmllbGRBcmd1bWVudC5yZXF1aXJlc1ZhbHVlKSB7XG5cdFx0XHRcdGlucHV0RmllbGRBcmd1bWVudC5wYXJzZVZhbHVlKElucHV0RmllbGREZWNsYXJhdGlvblBhcnNlci5leHRyYWN0SW5wdXRGaWVsZEFyZ3VtZW50VmFsdWUoaW5wdXRGaWVsZEFyZ3VtZW50U3RyaW5nKSk7XG5cdFx0XHR9XG5cblx0XHRcdGlucHV0RmllbGRBcmd1bWVudENvbnRhaW5lci5hZGQoaW5wdXRGaWVsZEFyZ3VtZW50KTtcblx0XHR9XG5cblx0XHRpbnB1dEZpZWxkQXJndW1lbnRDb250YWluZXIudmFsaWRhdGUoKTtcblxuXHRcdHJldHVybiBpbnB1dEZpZWxkQXJndW1lbnRDb250YWluZXI7XG5cdH1cblxuXHRzdGF0aWMgZXh0cmFjdElucHV0RmllbGRBcmd1bWVudElkZW50aWZpZXIoYXJndW1lbnRTdHJpbmc6IHN0cmluZyk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIFBhcnNlclV0aWxzLnJlbW92ZUluQmV0d2Vlbihhcmd1bWVudFN0cmluZywgSW5wdXRGaWVsZERlY2xhcmF0aW9uUGFyc2VyLnJvdW5kQnJhY2VzUGFpcik7XG5cdH1cblxuXHRzdGF0aWMgZXh0cmFjdElucHV0RmllbGRBcmd1bWVudFZhbHVlKGFyZ3VtZW50U3RyaW5nOiBzdHJpbmcpOiBzdHJpbmcge1xuXHRcdGNvbnN0IGFyZ3VtZW50TmFtZSA9IHRoaXMuZXh0cmFjdElucHV0RmllbGRBcmd1bWVudElkZW50aWZpZXIoYXJndW1lbnRTdHJpbmcpO1xuXG5cdFx0Y29uc3QgYXJndW1lbnRWYWx1ZSA9IFBhcnNlclV0aWxzLmdldEluQmV0d2Vlbihhcmd1bWVudFN0cmluZywgSW5wdXRGaWVsZERlY2xhcmF0aW9uUGFyc2VyLnJvdW5kQnJhY2VzUGFpcikgYXMgc3RyaW5nO1xuXHRcdGlmICghYXJndW1lbnRWYWx1ZSkge1xuXHRcdFx0dGhyb3cgbmV3IE1ldGFCaW5kUGFyc2luZ0Vycm9yKGBhcmd1bWVudCAnJHthcmd1bWVudE5hbWV9JyByZXF1aXJlcyBhIG5vbiBlbXB0eSB2YWx1ZWApO1xuXHRcdH1cblxuXHRcdHJldHVybiBhcmd1bWVudFZhbHVlO1xuXHR9XG5cblx0c3RhdGljIGdldElucHV0RmllbGRUeXBlKHN0cjogc3RyaW5nKTogSW5wdXRGaWVsZFR5cGUge1xuXHRcdGZvciAoY29uc3QgZW50cnkgb2YgT2JqZWN0LmVudHJpZXMoSW5wdXRGaWVsZFR5cGUpKSB7XG5cdFx0XHRpZiAoZW50cnlbMV0gPT09IHN0cikge1xuXHRcdFx0XHRyZXR1cm4gZW50cnlbMV07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIElucHV0RmllbGRUeXBlLklOVkFMSUQ7XG5cdH1cbn1cbiIsICJpbXBvcnQgeyBBYnN0cmFjdElucHV0RmllbGQgfSBmcm9tICcuL0Fic3RyYWN0SW5wdXRGaWVsZCc7XG5pbXBvcnQgeyBUZXh0QXJlYUNvbXBvbmVudCB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IE1ldGFCaW5kSW50ZXJuYWxFcnJvciwgTWV0YUJpbmRWYWx1ZUVycm9yIH0gZnJvbSAnLi4vdXRpbHMvVXRpbHMnO1xuXG5leHBvcnQgY2xhc3MgVGV4dEFyZWFJbnB1dEZpZWxkIGV4dGVuZHMgQWJzdHJhY3RJbnB1dEZpZWxkIHtcblx0dGV4dEFyZWFDb21wb25lbnQ6IFRleHRBcmVhQ29tcG9uZW50IHwgdW5kZWZpbmVkO1xuXG5cdGdldFZhbHVlKCk6IHN0cmluZyB7XG5cdFx0aWYgKCF0aGlzLnRleHRBcmVhQ29tcG9uZW50KSB7XG5cdFx0XHR0aHJvdyBuZXcgTWV0YUJpbmRJbnRlcm5hbEVycm9yKCd0ZXh0IGFyZWEgaW5wdXQgY29tcG9uZW50IGlzIHVuZGVmaW5lZCcpO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLnRleHRBcmVhQ29tcG9uZW50LmdldFZhbHVlKCk7XG5cdH1cblxuXHRzZXRWYWx1ZSh2YWx1ZTogYW55KTogdm9pZCB7XG5cdFx0aWYgKCF0aGlzLnRleHRBcmVhQ29tcG9uZW50KSB7XG5cdFx0XHR0aHJvdyBuZXcgTWV0YUJpbmRJbnRlcm5hbEVycm9yKCd0ZXh0IGFyZWEgaW5wdXQgY29tcG9uZW50IGlzIHVuZGVmaW5lZCcpO1xuXHRcdH1cblxuXHRcdGlmICh2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJykge1xuXHRcdFx0dGhpcy50ZXh0QXJlYUNvbXBvbmVudC5zZXRWYWx1ZSh2YWx1ZSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnNvbGUud2FybihuZXcgTWV0YUJpbmRWYWx1ZUVycm9yKGBpbnZhbGlkIHZhbHVlICcke3ZhbHVlfScgYXQgdGV4dEFyZWFJbnB1dEZpZWxkICR7dGhpcy5pbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZC51aWR9YCkpO1xuXHRcdFx0dGhpcy50ZXh0QXJlYUNvbXBvbmVudC5zZXRWYWx1ZSgnJyk7XG5cdFx0fVxuXHR9XG5cblx0aXNFcXVhbFZhbHVlKHZhbHVlOiBhbnkpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdGhpcy5nZXRWYWx1ZSgpID09IHZhbHVlO1xuXHR9XG5cblx0Z2V0RGVmYXVsdFZhbHVlKCk6IGFueSB7XG5cdFx0cmV0dXJuICcnO1xuXHR9XG5cblx0Z2V0SHRtbEVsZW1lbnQoKTogSFRNTEVsZW1lbnQge1xuXHRcdGlmICghdGhpcy50ZXh0QXJlYUNvbXBvbmVudCkge1xuXHRcdFx0dGhyb3cgbmV3IE1ldGFCaW5kSW50ZXJuYWxFcnJvcigndGV4dCBhcmVhIGlucHV0IGNvbXBvbmVudCBpcyB1bmRlZmluZWQnKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy50ZXh0QXJlYUNvbXBvbmVudC5pbnB1dEVsO1xuXHR9XG5cblx0cmVuZGVyKGNvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQpOiB2b2lkIHtcblx0XHRjb25zb2xlLmRlYnVnKGBtZXRhLWJpbmQgfCByZW5kZXIgdGV4dEFyZWFJbnB1dEZpZWxkICR7dGhpcy5pbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZC51aWR9YCk7XG5cblx0XHRjb25zdCBjb21wb25lbnQgPSBuZXcgVGV4dEFyZWFDb21wb25lbnQoY29udGFpbmVyKTtcblx0XHRjb21wb25lbnQuc2V0VmFsdWUodGhpcy5pbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZC5nZXRJbml0aWFsVmFsdWUoKSk7XG5cdFx0Y29tcG9uZW50Lm9uQ2hhbmdlKHRoaXMub25WYWx1ZUNoYW5nZSk7XG5cdFx0dGhpcy50ZXh0QXJlYUNvbXBvbmVudCA9IGNvbXBvbmVudDtcblx0fVxufVxuIiwgImltcG9ydCB7IFNlbGVjdElucHV0RmllbGQgfSBmcm9tICcuL1NlbGVjdElucHV0RmllbGQnO1xuXG5leHBvcnQgY2xhc3MgU2VsZWN0SW5wdXRGaWVsZEVsZW1lbnQge1xuXHR2YWx1ZTogc3RyaW5nO1xuXHRzZWxlY3RJbnB1dEZpZWxkOiBTZWxlY3RJbnB1dEZpZWxkO1xuXHRyZWFkb25seSBpZDogbnVtYmVyO1xuXHRlbGVtZW50OiBIVE1MRGl2RWxlbWVudDtcblxuXHRjc3NDbGFzczogc3RyaW5nO1xuXHRhY3RpdmVDbGFzczogc3RyaW5nO1xuXHRob3ZlckNsYXNzOiBzdHJpbmc7XG5cblx0cHJpdmF0ZSBhY3RpdmU6IGJvb2xlYW47XG5cdHByaXZhdGUgaGlnaGxpZ2h0ZWQ6IGJvb2xlYW47XG5cblx0Y29uc3RydWN0b3IodmFsdWU6IHN0cmluZywgcGFyZW50RWxlbWVudDogSFRNTEVsZW1lbnQsIGlkOiBudW1iZXIsIG11bHRpU2VsZWN0SW5wdXRGaWVsZDogU2VsZWN0SW5wdXRGaWVsZCwgYWN0aXZlOiBib29sZWFuID0gZmFsc2UpIHtcblx0XHR0aGlzLnZhbHVlID0gdmFsdWU7XG5cdFx0dGhpcy5pZCA9IGlkO1xuXHRcdHRoaXMuYWN0aXZlID0gYWN0aXZlO1xuXHRcdHRoaXMuaGlnaGxpZ2h0ZWQgPSBmYWxzZTtcblx0XHR0aGlzLnNlbGVjdElucHV0RmllbGQgPSBtdWx0aVNlbGVjdElucHV0RmllbGQ7XG5cblx0XHR0aGlzLmNzc0NsYXNzID0gJ21ldGEtYmluZC1wbHVnaW4tc2VsZWN0LWlucHV0LWVsZW1lbnQnO1xuXHRcdHRoaXMuYWN0aXZlQ2xhc3MgPSAnbWV0YS1iaW5kLXBsdWdpbi1zZWxlY3QtaW5wdXQtZWxlbWVudC1zZWxlY3RlZCc7XG5cdFx0dGhpcy5ob3ZlckNsYXNzID0gJ21ldGEtYmluZC1wbHVnaW4tc2VsZWN0LWlucHV0LWVsZW1lbnQtaG92ZXInO1xuXG5cdFx0dGhpcy5lbGVtZW50ID0gcGFyZW50RWxlbWVudC5jcmVhdGVEaXYoeyBjbHM6IHRoaXMuY3NzQ2xhc3MgfSk7XG5cdFx0dGhpcy5lbGVtZW50LmlkID0gdGhpcy5nZXRIVE1MSWQoKTtcblx0XHR0aGlzLmVsZW1lbnQub24oJ2NsaWNrJywgJyMnICsgdGhpcy5nZXRIVE1MSWQoKSwgKCkgPT4ge1xuXHRcdFx0dGhpcy5zZXRBY3RpdmUoIXRoaXMuYWN0aXZlKTtcblx0XHRcdGlmICghdGhpcy5zZWxlY3RJbnB1dEZpZWxkLmFsbG93TXVsdGlTZWxlY3QpIHtcblx0XHRcdFx0dGhpcy5zZWxlY3RJbnB1dEZpZWxkLmRpc2FibGVBbGxPdGhlckVsZW1lbnRzKHRoaXMuaWQpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdHRoaXMuZWxlbWVudC5vbignbW91c2VlbnRlcicsICcjJyArIHRoaXMuZ2V0SFRNTElkKCksICgpID0+IHtcblx0XHRcdHRoaXMuc2V0SGlnaGxpZ2h0ZWQodHJ1ZSk7XG5cdFx0fSk7XG5cdFx0dGhpcy5lbGVtZW50Lm9uKCdtb3VzZWxlYXZlJywgJyMnICsgdGhpcy5nZXRIVE1MSWQoKSwgKCkgPT4ge1xuXHRcdFx0dGhpcy5zZXRIaWdobGlnaHRlZChmYWxzZSk7XG5cdFx0fSk7XG5cdH1cblxuXHRnZXRIVE1MSWQoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gYG1ldGEtYmluZC1zZWxlY3QtaW5wdXQtZWxlbWVudC0ke3RoaXMuc2VsZWN0SW5wdXRGaWVsZC5pbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZC51aWR9LSR7dGhpcy5pZH1gO1xuXHR9XG5cblx0aXNIaWdobGlnaHRlZCgpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdGhpcy5oaWdobGlnaHRlZDtcblx0fVxuXG5cdHNldEhpZ2hsaWdodGVkKHZhbHVlOiBib29sZWFuKTogdm9pZCB7XG5cdFx0dGhpcy5oaWdobGlnaHRlZCA9IHZhbHVlO1xuXHRcdGlmICh0aGlzLmhpZ2hsaWdodGVkKSB7XG5cdFx0XHR0aGlzLmFkZENsYXNzKHRoaXMuaG92ZXJDbGFzcyk7XG5cdFx0XHR0aGlzLnNlbGVjdElucHV0RmllbGQuZGVIaWdobGlnaHRBbGxPdGhlckVsZW1lbnRzKHRoaXMuaWQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLnJlbW92ZUNsYXNzKHRoaXMuaG92ZXJDbGFzcyk7XG5cdFx0fVxuXHR9XG5cblx0aXNBY3RpdmUoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRoaXMuYWN0aXZlO1xuXHR9XG5cblx0c2V0QWN0aXZlKGFjdGl2ZTogYm9vbGVhbiwgdXBkYXRlUGFyZW50OiBib29sZWFuID0gdHJ1ZSk6IHZvaWQge1xuXHRcdHRoaXMuYWN0aXZlID0gYWN0aXZlO1xuXHRcdHRoaXMudXBkYXRlKHVwZGF0ZVBhcmVudCk7XG5cdH1cblxuXHR1cGRhdGUodXBkYXRlUGFyZW50OiBib29sZWFuKTogdm9pZCB7XG5cdFx0aWYgKHRoaXMuYWN0aXZlKSB7XG5cdFx0XHR0aGlzLmFkZENsYXNzKHRoaXMuYWN0aXZlQ2xhc3MpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLnJlbW92ZUNsYXNzKHRoaXMuYWN0aXZlQ2xhc3MpO1xuXHRcdH1cblx0XHRpZiAodXBkYXRlUGFyZW50KSB7XG5cdFx0XHR0aGlzLnNlbGVjdElucHV0RmllbGQub25DaGFuZ2UoKTtcblx0XHR9XG5cdH1cblxuXHRhZGRDbGFzcyhjc3NDbGFzczogc3RyaW5nKTogdm9pZCB7XG5cdFx0aWYgKCF0aGlzLmVsZW1lbnQuaGFzQ2xhc3MoY3NzQ2xhc3MpKSB7XG5cdFx0XHR0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoY3NzQ2xhc3MpO1xuXHRcdH1cblx0fVxuXG5cdHJlbW92ZUNsYXNzKGNzc0NsYXNzOiBzdHJpbmcpOiB2b2lkIHtcblx0XHRpZiAodGhpcy5lbGVtZW50Lmhhc0NsYXNzKGNzc0NsYXNzKSkge1xuXHRcdFx0dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKGNzc0NsYXNzKTtcblx0XHR9XG5cdH1cblxuXHRyZW5kZXIoKTogdm9pZCB7XG5cdFx0dGhpcy5lbGVtZW50LmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6IHRoaXMudmFsdWUgfSk7XG5cdH1cbn1cbiIsICJpbXBvcnQgeyBBYnN0cmFjdElucHV0RmllbGQgfSBmcm9tICcuL0Fic3RyYWN0SW5wdXRGaWVsZCc7XG5pbXBvcnQgeyBTZWxlY3RJbnB1dEZpZWxkRWxlbWVudCB9IGZyb20gJy4vU2VsZWN0SW5wdXRGaWVsZEVsZW1lbnQnO1xuaW1wb3J0IHsgTWV0YUJpbmRJbnRlcm5hbEVycm9yLCBtb2QgfSBmcm9tICcuLi91dGlscy9VdGlscyc7XG5pbXBvcnQgeyBJbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZCB9IGZyb20gJy4uL0lucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkJztcbmltcG9ydCB7IElucHV0RmllbGRBcmd1bWVudFR5cGUgfSBmcm9tICcuLi9wYXJzZXJzL0lucHV0RmllbGREZWNsYXJhdGlvblBhcnNlcic7XG5pbXBvcnQgeyBBYnN0cmFjdElucHV0RmllbGRBcmd1bWVudCB9IGZyb20gJy4uL2lucHV0RmllbGRBcmd1bWVudHMvQWJzdHJhY3RJbnB1dEZpZWxkQXJndW1lbnQnO1xuXG5leHBvcnQgY2xhc3MgU2VsZWN0SW5wdXRGaWVsZCBleHRlbmRzIEFic3RyYWN0SW5wdXRGaWVsZCB7XG5cdHN0YXRpYyBhbGxvd0lubGluZUNvZGVCbG9jazogYm9vbGVhbiA9IGZhbHNlO1xuXHRlbGVtZW50czogU2VsZWN0SW5wdXRGaWVsZEVsZW1lbnRbXTtcblx0YWxsb3dNdWx0aVNlbGVjdDogYm9vbGVhbjtcblx0Y29udGFpbmVyOiBIVE1MRGl2RWxlbWVudCB8IHVuZGVmaW5lZDtcblxuXHRjb25zdHJ1Y3RvcihpbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZDogSW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQsIG9uVmFsdWVDaGFuZ2U6ICh2YWx1ZTogYW55KSA9PiB2b2lkIHwgUHJvbWlzZTx2b2lkPikge1xuXHRcdHN1cGVyKGlucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkLCBvblZhbHVlQ2hhbmdlKTtcblx0XHR0aGlzLmVsZW1lbnRzID0gW107XG5cdFx0dGhpcy5hbGxvd011bHRpU2VsZWN0ID0gZmFsc2U7XG5cdH1cblxuXHRnZXRIdG1sRWxlbWVudCgpOiBIVE1MRWxlbWVudCB7XG5cdFx0aWYgKCF0aGlzLmNvbnRhaW5lcikge1xuXHRcdFx0dGhyb3cgbmV3IE1ldGFCaW5kSW50ZXJuYWxFcnJvcignc2VsZWN0IGlucHV0IGNvbnRhaW5lciBpcyB1bmRlZmluZWQnKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5jb250YWluZXI7XG5cdH1cblxuXHRnZXRWYWx1ZSgpOiBzdHJpbmcge1xuXHRcdHJldHVybiB0aGlzLmVsZW1lbnRzLmZpbHRlcih4ID0+IHguaXNBY3RpdmUoKSkuZmlyc3QoKT8udmFsdWUgPz8gJyc7XG5cdH1cblxuXHRzZXRWYWx1ZSh2YWx1ZTogYW55KTogdm9pZCB7XG5cdFx0Zm9yIChjb25zdCBlbGVtZW50IG9mIHRoaXMuZWxlbWVudHMpIHtcblx0XHRcdGlmICh2YWx1ZSA9PT0gZWxlbWVudC52YWx1ZSkge1xuXHRcdFx0XHRlbGVtZW50LnNldEFjdGl2ZSh0cnVlLCBmYWxzZSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRlbGVtZW50LnNldEFjdGl2ZShmYWxzZSwgZmFsc2UpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGlzRXF1YWxWYWx1ZSh2YWx1ZTogYW55KTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0VmFsdWUoKSA9PSB2YWx1ZTtcblx0fVxuXG5cdGdldERlZmF1bHRWYWx1ZSgpOiBhbnkge1xuXHRcdHJldHVybiAnJztcblx0fVxuXG5cdG9uQ2hhbmdlKCk6IHZvaWQge1xuXHRcdHRoaXMub25WYWx1ZUNoYW5nZSh0aGlzLmdldFZhbHVlKCkpO1xuXHR9XG5cblx0cmVuZGVyKGNvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQpOiB2b2lkIHtcblx0XHRjb25zb2xlLmRlYnVnKGBtZXRhLWJpbmQgfCByZW5kZXIgc2VsZWN0SW5wdXRGaWVsZCAke3RoaXMuaW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQudWlkfWApO1xuXG5cdFx0Y29udGFpbmVyLmFkZENsYXNzKCdtZXRhLWJpbmQtcGx1Z2luLXNlbGVjdC1pbnB1dC1iZycpO1xuXHRcdHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuXG5cdFx0Y29uc3QgZWxlbWVudFdyYXBwZXIgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnbWV0YS1iaW5kLXBsdWdpbi1zZWxlY3QtaW5wdXQtd3JhcHBlcicgfSk7XG5cblx0XHRjb25zdCB0aXRsZUFyZ3VtZW50ID0gdGhpcy5pbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZC5nZXRBcmd1bWVudChJbnB1dEZpZWxkQXJndW1lbnRUeXBlLlRJVExFKTtcblx0XHRpZiAodGl0bGVBcmd1bWVudCkge1xuXHRcdFx0ZWxlbWVudFdyYXBwZXIuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogdGl0bGVBcmd1bWVudC52YWx1ZSwgY2xzOiAnbWV0YS1iaW5kLXBsdWdpbi1zZWxlY3QtaW5wdXQtaGVhZGVyJyB9KTtcblx0XHR9XG5cblx0XHRjb25zdCBlbGVtZW50QXJndW1lbnRzOiBBYnN0cmFjdElucHV0RmllbGRBcmd1bWVudFtdID0gdGhpcy5pbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZC5nZXRBcmd1bWVudHMoSW5wdXRGaWVsZEFyZ3VtZW50VHlwZS5PUFRJT04pO1xuXG5cdFx0bGV0IGkgPSAwO1xuXHRcdGZvciAoY29uc3QgZWxlbWVudEFyZ3VtZW50IG9mIGVsZW1lbnRBcmd1bWVudHMpIHtcblx0XHRcdGNvbnN0IHNlbGVjdElucHV0RmllbGRFbGVtZW50ID0gbmV3IFNlbGVjdElucHV0RmllbGRFbGVtZW50KGVsZW1lbnRBcmd1bWVudC52YWx1ZSwgZWxlbWVudFdyYXBwZXIsIGksIHRoaXMsIGZhbHNlKTtcblxuXHRcdFx0dGhpcy5lbGVtZW50cy5wdXNoKHNlbGVjdElucHV0RmllbGRFbGVtZW50KTtcblxuXHRcdFx0c2VsZWN0SW5wdXRGaWVsZEVsZW1lbnQucmVuZGVyKCk7XG5cblx0XHRcdGkgKz0gMTtcblx0XHR9XG5cblx0XHR0aGlzLnNldFZhbHVlKHRoaXMuaW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQuZ2V0SW5pdGlhbFZhbHVlKCkpO1xuXHR9XG5cblx0ZGlzYWJsZUFsbE90aGVyRWxlbWVudHMoZWxlbWVudElkOiBudW1iZXIpOiB2b2lkIHtcblx0XHRmb3IgKGNvbnN0IHNlbGVjdE1vZGFsRWxlbWVudCBvZiB0aGlzLmVsZW1lbnRzKSB7XG5cdFx0XHRpZiAoc2VsZWN0TW9kYWxFbGVtZW50LmlkICE9PSBlbGVtZW50SWQpIHtcblx0XHRcdFx0c2VsZWN0TW9kYWxFbGVtZW50LnNldEFjdGl2ZShmYWxzZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0ZGVIaWdobGlnaHRBbGxPdGhlckVsZW1lbnRzKGVsZW1lbnRJZDogbnVtYmVyKTogdm9pZCB7XG5cdFx0Zm9yIChjb25zdCBzZWxlY3RNb2RhbEVsZW1lbnQgb2YgdGhpcy5lbGVtZW50cykge1xuXHRcdFx0aWYgKHNlbGVjdE1vZGFsRWxlbWVudC5pZCAhPT0gZWxlbWVudElkKSB7XG5cdFx0XHRcdHNlbGVjdE1vZGFsRWxlbWVudC5zZXRIaWdobGlnaHRlZChmYWxzZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0YWN0aXZhdGVIaWdobGlnaHRlZCgpOiB2b2lkIHtcblx0XHRmb3IgKGNvbnN0IHNlbGVjdE1vZGFsRWxlbWVudCBvZiB0aGlzLmVsZW1lbnRzKSB7XG5cdFx0XHRpZiAoc2VsZWN0TW9kYWxFbGVtZW50LmlzSGlnaGxpZ2h0ZWQoKSkge1xuXHRcdFx0XHRzZWxlY3RNb2RhbEVsZW1lbnQuc2V0QWN0aXZlKCFzZWxlY3RNb2RhbEVsZW1lbnQuaXNBY3RpdmUoKSk7XG5cdFx0XHRcdGlmICghdGhpcy5hbGxvd011bHRpU2VsZWN0KSB7XG5cdFx0XHRcdFx0dGhpcy5kaXNhYmxlQWxsT3RoZXJFbGVtZW50cyhzZWxlY3RNb2RhbEVsZW1lbnQuaWQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0aGlnaGxpZ2h0VXAoKTogdm9pZCB7XG5cdFx0Zm9yIChjb25zdCBzZWxlY3RNb2RhbEVsZW1lbnQgb2YgdGhpcy5lbGVtZW50cykge1xuXHRcdFx0aWYgKHNlbGVjdE1vZGFsRWxlbWVudC5pc0hpZ2hsaWdodGVkKCkpIHtcblx0XHRcdFx0dGhpcy5nZXRQcmV2aW91c1NlbGVjdE1vZGFsRWxlbWVudChzZWxlY3RNb2RhbEVsZW1lbnQpPy5zZXRIaWdobGlnaHRlZCh0cnVlKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIG5vdGhpbmcgaXMgaGlnaGxpZ2h0ZWRcblx0XHR0aGlzLmVsZW1lbnRzLmF0KC0xKT8uc2V0SGlnaGxpZ2h0ZWQodHJ1ZSk7XG5cdH1cblxuXHRoaWdobGlnaHREb3duKCk6IHZvaWQge1xuXHRcdGZvciAoY29uc3Qgc2VsZWN0TW9kYWxFbGVtZW50IG9mIHRoaXMuZWxlbWVudHMpIHtcblx0XHRcdGlmIChzZWxlY3RNb2RhbEVsZW1lbnQuaXNIaWdobGlnaHRlZCgpKSB7XG5cdFx0XHRcdHRoaXMuZ2V0TmV4dFNlbGVjdE1vZGFsRWxlbWVudChzZWxlY3RNb2RhbEVsZW1lbnQpPy5zZXRIaWdobGlnaHRlZCh0cnVlKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIG5vdGhpbmcgaXMgaGlnaGxpZ2h0ZWRcblx0XHR0aGlzLmVsZW1lbnRzLmF0KDApPy5zZXRIaWdobGlnaHRlZCh0cnVlKTtcblx0fVxuXG5cdHByaXZhdGUgZ2V0TmV4dFNlbGVjdE1vZGFsRWxlbWVudChlbGVtZW50OiBTZWxlY3RJbnB1dEZpZWxkRWxlbWVudCk6IFNlbGVjdElucHV0RmllbGRFbGVtZW50IHwgdW5kZWZpbmVkIHtcblx0XHRsZXQgbmV4dElkID0gZWxlbWVudC5pZCArIDE7XG5cdFx0bmV4dElkID0gbW9kKG5leHRJZCwgdGhpcy5lbGVtZW50cy5sZW5ndGgpO1xuXG5cdFx0cmV0dXJuIHRoaXMuZWxlbWVudHMuZmlsdGVyKHggPT4geC5pZCA9PT0gbmV4dElkKS5hdCgwKTtcblx0fVxuXG5cdHByaXZhdGUgZ2V0UHJldmlvdXNTZWxlY3RNb2RhbEVsZW1lbnQoZWxlbWVudDogU2VsZWN0SW5wdXRGaWVsZEVsZW1lbnQpOiBTZWxlY3RJbnB1dEZpZWxkRWxlbWVudCB8IHVuZGVmaW5lZCB7XG5cdFx0bGV0IG5leHRJZCA9IGVsZW1lbnQuaWQgLSAxO1xuXHRcdG5leHRJZCA9IG1vZChuZXh0SWQsIHRoaXMuZWxlbWVudHMubGVuZ3RoKTtcblxuXHRcdHJldHVybiB0aGlzLmVsZW1lbnRzLmZpbHRlcih4ID0+IHguaWQgPT09IG5leHRJZCkuYXQoMCk7XG5cdH1cbn1cbiIsICJpbXBvcnQgeyBTZWxlY3RJbnB1dEZpZWxkIH0gZnJvbSAnLi9TZWxlY3RJbnB1dEZpZWxkJztcbmltcG9ydCB7IElucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkIH0gZnJvbSAnLi4vSW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQnO1xuaW1wb3J0IHsgYXJyYXlFcXVhbHMgfSBmcm9tICcuLi91dGlscy9VdGlscyc7XG5cbmV4cG9ydCBjbGFzcyBNdWx0aVNlbGVjdElucHV0RmllbGQgZXh0ZW5kcyBTZWxlY3RJbnB1dEZpZWxkIHtcblx0Y29uc3RydWN0b3IoaW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQ6IElucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkLCBvblZhbHVlQ2hhbmdlOiAodmFsdWU6IGFueSkgPT4gdm9pZCB8IFByb21pc2U8dm9pZD4pIHtcblx0XHRzdXBlcihpbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZCwgb25WYWx1ZUNoYW5nZSk7XG5cdFx0dGhpcy5hbGxvd011bHRpU2VsZWN0ID0gdHJ1ZTtcblx0fVxuXG5cdGdldFZhbHVlKCk6IGFueSB7XG5cdFx0cmV0dXJuIHRoaXMuZWxlbWVudHMuZmlsdGVyKHggPT4geC5pc0FjdGl2ZSgpKS5tYXAoeCA9PiB4LnZhbHVlKTtcblx0fVxuXG5cdHNldFZhbHVlKHZhbHVlOiBzdHJpbmdbXSk6IHZvaWQge1xuXHRcdGlmICh2YWx1ZS5sZW5ndGggPT09IDApIHtcblx0XHRcdGZvciAoY29uc3QgZWxlbWVudCBvZiB0aGlzLmVsZW1lbnRzKSB7XG5cdFx0XHRcdGVsZW1lbnQuc2V0QWN0aXZlKGZhbHNlLCBmYWxzZSk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0ZWxlbWVudExvb3A6IGZvciAoY29uc3QgZWxlbWVudCBvZiB0aGlzLmVsZW1lbnRzKSB7XG5cdFx0XHRmb3IgKGNvbnN0IHZhbHVlRWxlbWVudCBvZiB2YWx1ZSkge1xuXHRcdFx0XHRpZiAodmFsdWVFbGVtZW50ID09PSBlbGVtZW50LnZhbHVlKSB7XG5cdFx0XHRcdFx0ZWxlbWVudC5zZXRBY3RpdmUodHJ1ZSwgZmFsc2UpO1xuXHRcdFx0XHRcdGNvbnRpbnVlIGVsZW1lbnRMb29wO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRlbGVtZW50LnNldEFjdGl2ZShmYWxzZSwgZmFsc2UpO1xuXHRcdH1cblx0fVxuXG5cdGlzRXF1YWxWYWx1ZSh2YWx1ZTogYW55KTogYm9vbGVhbiB7XG5cdFx0aWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHJldHVybiBhcnJheUVxdWFscyh0aGlzLmdldFZhbHVlKCksIHZhbHVlKTtcblx0fVxuXG5cdGdldERlZmF1bHRWYWx1ZSgpOiBzdHJpbmdbXSB7XG5cdFx0cmV0dXJuIFtdO1xuXHR9XG59XG4iLCAiaW1wb3J0IHsgQWJzdHJhY3RJbnB1dEZpZWxkIH0gZnJvbSAnLi9BYnN0cmFjdElucHV0RmllbGQnO1xuaW1wb3J0IHsgRHJvcGRvd25Db21wb25lbnQsIG1vbWVudCwgVGV4dENvbXBvbmVudCB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IElucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkIH0gZnJvbSAnLi4vSW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQnO1xuaW1wb3J0IHsgRGF0ZVBhcnNlciB9IGZyb20gJy4uL3BhcnNlcnMvRGF0ZVBhcnNlcic7XG5pbXBvcnQgeyBNZXRhQmluZEludGVybmFsRXJyb3IsIE1ldGFCaW5kVmFsdWVFcnJvciB9IGZyb20gJy4uL3V0aWxzL1V0aWxzJztcblxuZXhwb3J0IGNsYXNzIERhdGVJbnB1dEZpZWxkIGV4dGVuZHMgQWJzdHJhY3RJbnB1dEZpZWxkIHtcblx0Y29udGFpbmVyOiBIVE1MRGl2RWxlbWVudCB8IHVuZGVmaW5lZDtcblx0ZGF0ZTogbW9tZW50Lk1vbWVudDtcblxuXHRtb250aHM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG5cdFx0JzAnOiAnSmFudWFyeScsXG5cdFx0JzEnOiAnRmVicnVhcnknLFxuXHRcdCcyJzogJ01hcmNoJyxcblx0XHQnMyc6ICdBcHJpbCcsXG5cdFx0JzQnOiAnTWF5Jyxcblx0XHQnNSc6ICdKdW5lJyxcblx0XHQnNic6ICdKdWx5Jyxcblx0XHQnNyc6ICdBdWd1c3QnLFxuXHRcdCc4JzogJ1NlcHRlbWJlcicsXG5cdFx0JzknOiAnT2N0b2JlcicsXG5cdFx0JzEwJzogJ05vdmVtYmVyJyxcblx0XHQnMTEnOiAnRGVjZW1iZXInLFxuXHR9O1xuXHRkYXlzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuXG5cdG1vbnRoQ29tcG9uZW50OiBEcm9wZG93bkNvbXBvbmVudCB8IHVuZGVmaW5lZDtcblx0ZGF5Q29tcG9uZW50OiBEcm9wZG93bkNvbXBvbmVudCB8IHVuZGVmaW5lZDtcblx0eWVhckNvbXBvbmVudDogVGV4dENvbXBvbmVudCB8IHVuZGVmaW5lZDtcblxuXHRjb25zdHJ1Y3RvcihpbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZDogSW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQsIG9uVmFsdWVDaGFuZ2U6ICh2YWx1ZTogYW55KSA9PiB2b2lkIHwgUHJvbWlzZTx2b2lkPikge1xuXHRcdHN1cGVyKGlucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkLCBvblZhbHVlQ2hhbmdlKTtcblxuXHRcdHRoaXMuZGF0ZSA9IERhdGVQYXJzZXIuZ2V0RGVmYXVsdERhdGUoKTtcblxuXHRcdHRoaXMuZGF5cyA9IHt9O1xuXHRcdGZvciAobGV0IGkgPSAxOyBpIDw9IDMxOyBpKyspIHtcblx0XHRcdHRoaXMuZGF5c1tpLnRvU3RyaW5nKCldID0gaS50b1N0cmluZygpO1xuXHRcdH1cblx0fVxuXG5cdHB1YmxpYyBnZXRIdG1sRWxlbWVudCgpOiBIVE1MRWxlbWVudCB7XG5cdFx0aWYgKCF0aGlzLmNvbnRhaW5lcikge1xuXHRcdFx0dGhyb3cgbmV3IE1ldGFCaW5kSW50ZXJuYWxFcnJvcigndG9nZ2xlIGlucHV0IGNvbnRhaW5lciBpcyB1bmRlZmluZWQnKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5jb250YWluZXI7XG5cdH1cblxuXHRwdWJsaWMgZ2V0VmFsdWUoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gRGF0ZVBhcnNlci5zdHJpbmdpZnkodGhpcy5kYXRlKTtcblx0fVxuXG5cdHB1YmxpYyBzZXRWYWx1ZSh2YWx1ZTogc3RyaW5nKTogdm9pZCB7XG5cdFx0aWYgKCF0aGlzLm1vbnRoQ29tcG9uZW50KSB7XG5cdFx0XHR0aHJvdyBuZXcgTWV0YUJpbmRJbnRlcm5hbEVycm9yKCdkYXRlIGlucHV0IG1vbnRoIGNvbXBvbmVudCBpcyB1bmRlZmluZWQnKTtcblx0XHR9XG5cdFx0aWYgKCF0aGlzLmRheUNvbXBvbmVudCkge1xuXHRcdFx0dGhyb3cgbmV3IE1ldGFCaW5kSW50ZXJuYWxFcnJvcignZGF0ZSBpbnB1dCBkYXkgY29tcG9uZW50IGlzIHVuZGVmaW5lZCcpO1xuXHRcdH1cblx0XHRpZiAoIXRoaXMueWVhckNvbXBvbmVudCkge1xuXHRcdFx0dGhyb3cgbmV3IE1ldGFCaW5kSW50ZXJuYWxFcnJvcignZGF0ZSBpbnB1dCBob3VyIGNvbXBvbmVudCBpcyB1bmRlZmluZWQnKTtcblx0XHR9XG5cblx0XHR0aGlzLmRhdGUgPSBEYXRlUGFyc2VyLnBhcnNlKHZhbHVlKTtcblx0XHRpZiAoIXRoaXMuZGF0ZSkge1xuXHRcdFx0Y29uc29sZS53YXJuKG5ldyBNZXRhQmluZFZhbHVlRXJyb3IoYGludmFsaWQgdmFsdWUgJyR7dmFsdWV9JyBhdCBkYXRlSW5wdXRGaWVsZCAke3RoaXMuaW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQudWlkfWApKTtcblx0XHRcdHRoaXMuZGF0ZSA9IERhdGVQYXJzZXIuZ2V0RGVmYXVsdERhdGUoKTtcblx0XHR9XG5cblx0XHRpZiAoIXRoaXMuZGF0ZS5pc1ZhbGlkKCkpIHtcblx0XHRcdHRoaXMuZGF0ZSA9IERhdGVQYXJzZXIuZ2V0RGVmYXVsdERhdGUoKTtcblx0XHRcdHRoaXMub25WYWx1ZUNoYW5nZSh0aGlzLmdldFZhbHVlKCkpO1xuXHRcdH1cblxuXHRcdC8vIGNvbnNvbGUubG9nKHRoaXMuZGF0ZSk7XG5cdFx0dGhpcy5tb250aENvbXBvbmVudC5zZXRWYWx1ZSh0aGlzLmRhdGUubW9udGgoKS50b1N0cmluZygpKTtcblx0XHR0aGlzLmRheUNvbXBvbmVudC5zZXRWYWx1ZSh0aGlzLmRhdGUuZGF0ZSgpLnRvU3RyaW5nKCkpO1xuXHRcdHRoaXMueWVhckNvbXBvbmVudC5zZXRWYWx1ZSh0aGlzLmRhdGUueWVhcigpLnRvU3RyaW5nKCkpO1xuXHR9XG5cblx0cHVibGljIGlzRXF1YWxWYWx1ZSh2YWx1ZTogYW55KTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHZhbHVlID09IHRoaXMuZ2V0VmFsdWUoKTtcblx0fVxuXG5cdHB1YmxpYyBnZXREZWZhdWx0VmFsdWUoKTogYW55IHtcblx0XHRyZXR1cm4gRGF0ZVBhcnNlci5zdHJpbmdpZnkoRGF0ZVBhcnNlci5nZXREZWZhdWx0RGF0ZSgpKTtcblx0fVxuXG5cdHB1YmxpYyByZW5kZXIoY29udGFpbmVyOiBIVE1MRGl2RWxlbWVudCk6IHZvaWQge1xuXHRcdGNvbnNvbGUuZGVidWcoYG1ldGEtYmluZCB8IHJlbmRlciBkYXRlSW5wdXRGaWVsZCAke3RoaXMuaW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQudWlkfWApO1xuXG5cdFx0dGhpcy5kYXRlID0gRGF0ZVBhcnNlci5wYXJzZSh0aGlzLmlucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkLmdldEluaXRpYWxWYWx1ZSgpKSA/PyBEYXRlUGFyc2VyLmdldERlZmF1bHREYXRlKCk7XG5cdFx0aWYgKCF0aGlzLmRhdGUuaXNWYWxpZCgpKSB7XG5cdFx0XHR0aGlzLmRhdGUgPSBEYXRlUGFyc2VyLmdldERlZmF1bHREYXRlKCk7XG5cdFx0XHR0aGlzLm9uVmFsdWVDaGFuZ2UodGhpcy5nZXRWYWx1ZSgpKTtcblx0XHR9XG5cblx0XHRsZXQgdXNlVXNJbnB1dE9yZGVyID0gdGhpcy5pbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZC5wbHVnaW4uc2V0dGluZ3MudXNlVXNEYXRlSW5wdXRPcmRlcjtcblxuXHRcdGNvbnRhaW5lci5yZW1vdmVDbGFzcygnbWV0YS1iaW5kLXBsdWdpbi1pbnB1dC13cmFwcGVyJyk7XG5cdFx0Y29udGFpbmVyLmFkZENsYXNzKCdtZXRhLWJpbmQtcGx1Z2luLWZsZXgtaW5wdXQtd3JhcHBlcicsICdtZXRhLWJpbmQtcGx1Z2luLWlucHV0LWVsZW1lbnQtZ3JvdXAnKTtcblxuXHRcdGlmICghdXNlVXNJbnB1dE9yZGVyKSB7XG5cdFx0XHR0aGlzLmRheUNvbXBvbmVudCA9IG5ldyBEcm9wZG93bkNvbXBvbmVudChjb250YWluZXIpO1xuXHRcdFx0dGhpcy5kYXlDb21wb25lbnQuYWRkT3B0aW9ucyh0aGlzLmRheXMpO1xuXHRcdFx0dGhpcy5kYXlDb21wb25lbnQuc2V0VmFsdWUodGhpcy5kYXRlLmRhdGUoKS50b1N0cmluZygpKTtcblx0XHRcdHRoaXMuZGF5Q29tcG9uZW50Lm9uQ2hhbmdlKHRoaXMub25EYXlDaGFuZ2UuYmluZCh0aGlzKSk7XG5cblx0XHRcdHRoaXMubW9udGhDb21wb25lbnQgPSBuZXcgRHJvcGRvd25Db21wb25lbnQoY29udGFpbmVyKTtcblx0XHRcdHRoaXMubW9udGhDb21wb25lbnQuYWRkT3B0aW9ucyh0aGlzLm1vbnRocyk7XG5cdFx0XHR0aGlzLm1vbnRoQ29tcG9uZW50LnNldFZhbHVlKHRoaXMuZGF0ZS5tb250aCgpLnRvU3RyaW5nKCkpO1xuXHRcdFx0dGhpcy5tb250aENvbXBvbmVudC5vbkNoYW5nZSh0aGlzLm9uTW9udGhDaGFuZ2UuYmluZCh0aGlzKSk7XG5cblx0XHRcdHRoaXMuZGF5Q29tcG9uZW50LnNlbGVjdEVsLmFkZENsYXNzKCdtZXRhLWJpbmQtcGx1Z2luLWlucHV0LWVsZW1lbnQtZ3JvdXAtZWxlbWVudCcpO1xuXHRcdFx0dGhpcy5tb250aENvbXBvbmVudC5zZWxlY3RFbC5hZGRDbGFzcygnbWV0YS1iaW5kLXBsdWdpbi1pbnB1dC1lbGVtZW50LWdyb3VwLWVsZW1lbnQnKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5tb250aENvbXBvbmVudCA9IG5ldyBEcm9wZG93bkNvbXBvbmVudChjb250YWluZXIpO1xuXHRcdFx0dGhpcy5tb250aENvbXBvbmVudC5hZGRPcHRpb25zKHRoaXMubW9udGhzKTtcblx0XHRcdHRoaXMubW9udGhDb21wb25lbnQuc2V0VmFsdWUodGhpcy5kYXRlLm1vbnRoKCkudG9TdHJpbmcoKSk7XG5cdFx0XHR0aGlzLm1vbnRoQ29tcG9uZW50Lm9uQ2hhbmdlKHRoaXMub25Nb250aENoYW5nZS5iaW5kKHRoaXMpKTtcblxuXHRcdFx0dGhpcy5kYXlDb21wb25lbnQgPSBuZXcgRHJvcGRvd25Db21wb25lbnQoY29udGFpbmVyKTtcblx0XHRcdHRoaXMuZGF5Q29tcG9uZW50LmFkZE9wdGlvbnModGhpcy5kYXlzKTtcblx0XHRcdHRoaXMuZGF5Q29tcG9uZW50LnNldFZhbHVlKHRoaXMuZGF0ZS5kYXRlKCkudG9TdHJpbmcoKSk7XG5cdFx0XHR0aGlzLmRheUNvbXBvbmVudC5vbkNoYW5nZSh0aGlzLm9uRGF5Q2hhbmdlLmJpbmQodGhpcykpO1xuXG5cdFx0XHR0aGlzLmRheUNvbXBvbmVudC5zZWxlY3RFbC5hZGRDbGFzcygnbWV0YS1iaW5kLXBsdWdpbi1pbnB1dC1lbGVtZW50LWdyb3VwLWVsZW1lbnQnKTtcblx0XHRcdHRoaXMubW9udGhDb21wb25lbnQuc2VsZWN0RWwuYWRkQ2xhc3MoJ21ldGEtYmluZC1wbHVnaW4taW5wdXQtZWxlbWVudC1ncm91cC1lbGVtZW50Jyk7XG5cdFx0fVxuXG5cdFx0dGhpcy55ZWFyQ29tcG9uZW50ID0gbmV3IFRleHRDb21wb25lbnQoY29udGFpbmVyKTtcblx0XHR0aGlzLnllYXJDb21wb25lbnQuc2V0VmFsdWUodGhpcy5kYXRlLnllYXIoKS50b1N0cmluZygpKTtcblx0XHR0aGlzLnllYXJDb21wb25lbnQub25DaGFuZ2UodGhpcy5vblllYXJDaGFuZ2UuYmluZCh0aGlzKSk7XG5cblx0XHR0aGlzLnllYXJDb21wb25lbnQuaW5wdXRFbC5hZGRDbGFzcygnbWV0YS1iaW5kLXBsdWdpbi1kYXRlLWlucHV0LXllYXItaW5wdXQnKTtcblx0XHR0aGlzLnllYXJDb21wb25lbnQuaW5wdXRFbC5hZGRDbGFzcygnbWV0YS1iaW5kLXBsdWdpbi1pbnB1dC1lbGVtZW50LWdyb3VwLWVsZW1lbnQnKTtcblx0XHR0aGlzLnllYXJDb21wb25lbnQuaW5wdXRFbC50eXBlID0gJ251bWJlcic7XG5cdFx0dGhpcy55ZWFyQ29tcG9uZW50LmlucHV0RWwubWF4ID0gJzk5OTknO1xuXG5cdFx0dGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG5cdH1cblxuXHRwcml2YXRlIG9uTW9udGhDaGFuZ2UodmFsdWU6IHN0cmluZyk6IHZvaWQge1xuXHRcdHRoaXMuZGF0ZS5tb250aCh2YWx1ZSk7XG5cblx0XHRjb25zdCBjbGFtcGVkRGF5ID0gdGhpcy5jbGFtcERheSh0aGlzLmRhdGUuZGF0ZSgpKTtcblx0XHR0aGlzLmRheUNvbXBvbmVudD8uc2V0VmFsdWUoY2xhbXBlZERheS50b1N0cmluZygpKTtcblx0XHR0aGlzLmRhdGUuZGF0ZShjbGFtcGVkRGF5KTtcblxuXHRcdHRoaXMub25WYWx1ZUNoYW5nZSh0aGlzLmdldFZhbHVlKCkpO1xuXHR9XG5cblx0cHJpdmF0ZSBvbkRheUNoYW5nZSh2YWx1ZTogc3RyaW5nKTogdm9pZCB7XG5cdFx0Y29uc3QgZGF5ID0gTnVtYmVyLnBhcnNlSW50KHZhbHVlKTtcblx0XHRjb25zdCBjbGFtcGVkRGF5ID0gdGhpcy5jbGFtcERheShkYXkpO1xuXHRcdGlmIChjbGFtcGVkRGF5ICE9PSBkYXkpIHtcblx0XHRcdHRoaXMuZGF5Q29tcG9uZW50Py5zZXRWYWx1ZShjbGFtcGVkRGF5LnRvU3RyaW5nKCkpO1xuXHRcdH1cblxuXHRcdHRoaXMuZGF0ZS5kYXRlKGNsYW1wZWREYXkpO1xuXHRcdHRoaXMub25WYWx1ZUNoYW5nZSh0aGlzLmdldFZhbHVlKCkpO1xuXHR9XG5cblx0cHJpdmF0ZSBvblllYXJDaGFuZ2UodmFsdWU6IHN0cmluZyk6IHZvaWQge1xuXHRcdGNvbnN0IHllYXIgPSBOdW1iZXIucGFyc2VJbnQodmFsdWUpO1xuXHRcdHRoaXMuZGF0ZS55ZWFyKE51bWJlci5pc05hTih5ZWFyKSA/IERhdGVQYXJzZXIuZ2V0RGVmYXVsdFllYXIoKSA6IHllYXIpO1xuXHRcdHRoaXMub25WYWx1ZUNoYW5nZSh0aGlzLmdldFZhbHVlKCkpO1xuXHR9XG5cblx0cHJpdmF0ZSBjbGFtcERheShkYXk6IG51bWJlcik6IG51bWJlciB7XG5cdFx0aWYgKE51bWJlci5pc05hTihkYXkpKSB7XG5cdFx0XHRyZXR1cm4gRGF0ZVBhcnNlci5nZXREZWZhdWx0RGF5KCk7XG5cdFx0fSBlbHNlIGlmIChkYXkgPCAxKSB7XG5cdFx0XHRyZXR1cm4gMTtcblx0XHR9IGVsc2UgaWYgKGRheSA+IHRoaXMuZGF0ZS5kYXlzSW5Nb250aCgpKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5kYXRlLmRheXNJbk1vbnRoKCk7XG5cdFx0fVxuXHRcdHJldHVybiBkYXk7XG5cdH1cbn1cbiIsICJpbXBvcnQgeyBtb21lbnQgfSBmcm9tICdvYnNpZGlhbic7XG5cbmV4cG9ydCBjbGFzcyBEYXRlUGFyc2VyIHtcblx0cHVibGljIHN0YXRpYyBkYXRlRm9ybWF0OiBzdHJpbmc7XG5cblx0cHVibGljIHN0YXRpYyBzdHJpbmdpZnkoZGF0ZTogbW9tZW50Lk1vbWVudCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIGRhdGUuZm9ybWF0KHRoaXMuZGF0ZUZvcm1hdCk7XG5cdH1cblxuXHRwdWJsaWMgc3RhdGljIHBhcnNlKGRhdGVTdHJpbmc6IHN0cmluZyk6IG1vbWVudC5Nb21lbnQge1xuXHRcdHJldHVybiBtb21lbnQoZGF0ZVN0cmluZywgRGF0ZVBhcnNlci5kYXRlRm9ybWF0KTtcblx0fVxuXG5cdHB1YmxpYyBzdGF0aWMgZ2V0RGVmYXVsdERhdGUoKTogbW9tZW50Lk1vbWVudCB7XG5cdFx0cmV0dXJuIG1vbWVudChuZXcgRGF0ZShEYXRlUGFyc2VyLmdldERlZmF1bHRZZWFyKCksIERhdGVQYXJzZXIuZ2V0RGVmYXVsdE1vbnRoKCksIERhdGVQYXJzZXIuZ2V0RGVmYXVsdERheSgpKSk7XG5cdH1cblxuXHRwdWJsaWMgc3RhdGljIGdldERlZmF1bHREYXkoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gMTtcblx0fVxuXG5cdHB1YmxpYyBzdGF0aWMgZ2V0RGVmYXVsdE1vbnRoKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIDE7XG5cdH1cblxuXHRwdWJsaWMgc3RhdGljIGdldERlZmF1bHRZZWFyKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIDIwMjI7XG5cdH1cbn1cbiIsICJpbXBvcnQgeyBBYnN0cmFjdElucHV0RmllbGQgfSBmcm9tICcuL0Fic3RyYWN0SW5wdXRGaWVsZCc7XG5pbXBvcnQgeyBEcm9wZG93bkNvbXBvbmVudCB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IElucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkIH0gZnJvbSAnLi4vSW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQnO1xuaW1wb3J0IHsgVGltZSwgVGltZVBhcnNlciB9IGZyb20gJy4uL3BhcnNlcnMvVGltZVBhcnNlcic7XG5pbXBvcnQgeyBNZXRhQmluZEludGVybmFsRXJyb3IsIE1ldGFCaW5kVmFsdWVFcnJvciB9IGZyb20gJy4uL3V0aWxzL1V0aWxzJztcblxuZXhwb3J0IGNsYXNzIFRpbWVJbnB1dEZpZWxkIGV4dGVuZHMgQWJzdHJhY3RJbnB1dEZpZWxkIHtcblx0Y29udGFpbmVyOiBIVE1MRGl2RWxlbWVudCB8IHVuZGVmaW5lZDtcblx0dGltZTogVGltZSB8IHVuZGVmaW5lZDtcblxuXHRob3VyczogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcblx0bWludXRlczogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcblxuXHRob3VyQ29tcG9uZW50OiBEcm9wZG93bkNvbXBvbmVudCB8IHVuZGVmaW5lZDtcblx0bWludXRlQ29tcG9uZW50OiBEcm9wZG93bkNvbXBvbmVudCB8IHVuZGVmaW5lZDtcblxuXHRjb25zdHJ1Y3RvcihpbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZDogSW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQsIG9uVmFsdWVDaGFuZ2U6ICh2YWx1ZTogYW55KSA9PiB2b2lkIHwgUHJvbWlzZTx2b2lkPikge1xuXHRcdHN1cGVyKGlucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkLCBvblZhbHVlQ2hhbmdlKTtcblxuXHRcdHRoaXMudGltZSA9IFRpbWVQYXJzZXIuZ2V0RGVmYXVsdFRpbWUoKTtcblxuXHRcdHRoaXMuaG91cnMgPSB7fTtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8PSAyNDsgaSsrKSB7XG5cdFx0XHR0aGlzLmhvdXJzW2kudG9TdHJpbmcoKV0gPSBpLnRvU3RyaW5nKCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5taW51dGVzID0ge307XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPD0gNTk7IGkrKykge1xuXHRcdFx0dGhpcy5taW51dGVzW2kudG9TdHJpbmcoKV0gPSBpLnRvU3RyaW5nKCk7XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIGdldEh0bWxFbGVtZW50KCk6IEhUTUxFbGVtZW50IHtcblx0XHRpZiAoIXRoaXMuY29udGFpbmVyKSB7XG5cdFx0XHR0aHJvdyBuZXcgTWV0YUJpbmRJbnRlcm5hbEVycm9yKCd0aW1lIGlucHV0IGNvbnRhaW5lciBpcyB1bmRlZmluZWQnKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5jb250YWluZXI7XG5cdH1cblxuXHRwdWJsaWMgZ2V0VmFsdWUoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gVGltZVBhcnNlci5zdHJpbmdpZnkodGhpcy50aW1lIGFzIFRpbWUpO1xuXHR9XG5cblx0cHVibGljIHNldFZhbHVlKHZhbHVlOiBzdHJpbmcpOiB2b2lkIHtcblx0XHRpZiAoIXRoaXMuaG91ckNvbXBvbmVudCkge1xuXHRcdFx0dGhyb3cgbmV3IE1ldGFCaW5kSW50ZXJuYWxFcnJvcigndGltZSBpbnB1dCBob3VyIGNvbXBvbmVudCBpcyB1bmRlZmluZWQnKTtcblx0XHR9XG5cdFx0aWYgKCF0aGlzLm1pbnV0ZUNvbXBvbmVudCkge1xuXHRcdFx0dGhyb3cgbmV3IE1ldGFCaW5kSW50ZXJuYWxFcnJvcigndGltZSBpbnB1dCBtaW51dGUgY29tcG9uZW50IGlzIHVuZGVmaW5lZCcpO1xuXHRcdH1cblxuXHRcdHRoaXMudGltZSA9IFRpbWVQYXJzZXIucGFyc2UodmFsdWUpO1xuXHRcdGlmICghdGhpcy50aW1lKSB7XG5cdFx0XHRjb25zb2xlLndhcm4obmV3IE1ldGFCaW5kVmFsdWVFcnJvcihgaW52YWxpZCB2YWx1ZSAnJHt2YWx1ZX0nIGF0IHRpbWVJbnB1dEZpZWxkICR7dGhpcy5pbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZC51aWR9YCkpO1xuXHRcdFx0dGhpcy50aW1lID0gVGltZVBhcnNlci5nZXREZWZhdWx0VGltZSgpO1xuXHRcdH1cblx0XHQvLyBjb25zb2xlLmxvZyh0aGlzLnRpbWUpO1xuXHRcdHRoaXMuaG91ckNvbXBvbmVudC5zZXRWYWx1ZSh0aGlzLnRpbWUuZ2V0SG91cigpLnRvU3RyaW5nKCkpO1xuXHRcdHRoaXMubWludXRlQ29tcG9uZW50LnNldFZhbHVlKHRoaXMudGltZS5nZXRNaW51dGUoKS50b1N0cmluZygpKTtcblx0fVxuXG5cdHB1YmxpYyBpc0VxdWFsVmFsdWUodmFsdWU6IGFueSk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiB2YWx1ZSA9PSB0aGlzLmdldFZhbHVlKCk7XG5cdH1cblxuXHRwdWJsaWMgZ2V0RGVmYXVsdFZhbHVlKCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIFRpbWVQYXJzZXIuc3RyaW5naWZ5KFRpbWVQYXJzZXIuZ2V0RGVmYXVsdFRpbWUoKSk7XG5cdH1cblxuXHRwdWJsaWMgcmVuZGVyKGNvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQpOiB2b2lkIHtcblx0XHRjb25zb2xlLmRlYnVnKGBtZXRhLWJpbmQgfCByZW5kZXIgdGltZUlucHV0RmllbGQgJHt0aGlzLmlucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkLnVpZH1gKTtcblxuXHRcdHRoaXMudGltZSA9IFRpbWVQYXJzZXIucGFyc2UodGhpcy5pbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZC5nZXRJbml0aWFsVmFsdWUoKSkgPz8gVGltZVBhcnNlci5nZXREZWZhdWx0VGltZSgpO1xuXG5cdFx0Y29udGFpbmVyLnJlbW92ZUNsYXNzKCdtZXRhLWJpbmQtcGx1Z2luLWlucHV0LXdyYXBwZXInKTtcblx0XHRjb250YWluZXIuYWRkQ2xhc3MoJ21ldGEtYmluZC1wbHVnaW4tZmxleC1pbnB1dC13cmFwcGVyJywgJ21ldGEtYmluZC1wbHVnaW4taW5wdXQtZWxlbWVudC1ncm91cCcpO1xuXG5cdFx0dGhpcy5ob3VyQ29tcG9uZW50ID0gbmV3IERyb3Bkb3duQ29tcG9uZW50KGNvbnRhaW5lcik7XG5cdFx0dGhpcy5ob3VyQ29tcG9uZW50LmFkZE9wdGlvbnModGhpcy5ob3Vycyk7XG5cdFx0dGhpcy5ob3VyQ29tcG9uZW50LnNldFZhbHVlKHRoaXMudGltZS5nZXRIb3VyKCkudG9TdHJpbmcoKSk7XG5cdFx0dGhpcy5ob3VyQ29tcG9uZW50Lm9uQ2hhbmdlKHRoaXMub25Ib3VyQ2hhbmdlLmJpbmQodGhpcykpO1xuXG5cdFx0dGhpcy5taW51dGVDb21wb25lbnQgPSBuZXcgRHJvcGRvd25Db21wb25lbnQoY29udGFpbmVyKTtcblx0XHR0aGlzLm1pbnV0ZUNvbXBvbmVudC5hZGRPcHRpb25zKHRoaXMubWludXRlcyk7XG5cdFx0dGhpcy5taW51dGVDb21wb25lbnQuc2V0VmFsdWUodGhpcy50aW1lLmdldE1pbnV0ZSgpLnRvU3RyaW5nKCkpO1xuXHRcdHRoaXMubWludXRlQ29tcG9uZW50Lm9uQ2hhbmdlKHRoaXMub25NaW51dGVDaGFuZ2UuYmluZCh0aGlzKSk7XG5cblx0XHR0aGlzLmhvdXJDb21wb25lbnQuc2VsZWN0RWwuYWRkQ2xhc3MoJ21ldGEtYmluZC1wbHVnaW4taW5wdXQtZWxlbWVudC1ncm91cC1lbGVtZW50Jyk7XG5cdFx0dGhpcy5taW51dGVDb21wb25lbnQuc2VsZWN0RWwuYWRkQ2xhc3MoJ21ldGEtYmluZC1wbHVnaW4taW5wdXQtZWxlbWVudC1ncm91cC1lbGVtZW50Jyk7XG5cblx0XHR0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcblx0fVxuXG5cdHByaXZhdGUgb25Ib3VyQ2hhbmdlKHZhbHVlOiBzdHJpbmcpOiB2b2lkIHtcblx0XHR0aGlzLnRpbWU/LnNldEhvdXJGcm9tU3RyaW5nKHZhbHVlKTtcblx0XHR0aGlzLm9uVmFsdWVDaGFuZ2UodGhpcy5nZXRWYWx1ZSgpKTtcblx0fVxuXG5cdHByaXZhdGUgb25NaW51dGVDaGFuZ2UodmFsdWU6IHN0cmluZyk6IHZvaWQge1xuXHRcdHRoaXMudGltZT8uc2V0TWludXRlRnJvbVN0cmluZyh2YWx1ZSk7XG5cdFx0dGhpcy5vblZhbHVlQ2hhbmdlKHRoaXMuZ2V0VmFsdWUoKSk7XG5cdH1cbn1cbiIsICJleHBvcnQgY2xhc3MgVGltZSB7XG5cdHByaXZhdGUgX2hvdXI6IG51bWJlcjtcblx0cHJpdmF0ZSBfbWludXRlOiBudW1iZXI7XG5cblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0dGhpcy5faG91ciA9IFRpbWVQYXJzZXIuZ2V0RGVmYXVsdEhvdXIoKTtcblx0XHR0aGlzLl9taW51dGUgPSBUaW1lUGFyc2VyLmdldERlZmF1bHRIb3VyKCk7XG5cdH1cblxuXHRwdWJsaWMgZ2V0SG91cigpOiBudW1iZXIge1xuXHRcdHJldHVybiB0aGlzLl9ob3VyO1xuXHR9XG5cblx0cHVibGljIHNldEhvdXIodmFsdWU6IG51bWJlcik6IHZvaWQge1xuXHRcdGlmICh2YWx1ZSA8IDAgfHwgdmFsdWUgPiAyNCkge1xuXHRcdFx0dGhpcy5faG91ciA9IFRpbWVQYXJzZXIuZ2V0RGVmYXVsdEhvdXIoKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0dGhpcy5faG91ciA9IHZhbHVlO1xuXHR9XG5cblx0cHVibGljIGdldE1pbnV0ZSgpOiBudW1iZXIge1xuXHRcdHJldHVybiB0aGlzLl9taW51dGU7XG5cdH1cblxuXHRwdWJsaWMgc2V0TWludXRlKHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcblx0XHRpZiAodmFsdWUgPCAwIHx8IHZhbHVlID4gNTkpIHtcblx0XHRcdHRoaXMuX21pbnV0ZSA9IFRpbWVQYXJzZXIuZ2V0RGVmYXVsdE1pbnV0ZSgpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHR0aGlzLl9taW51dGUgPSB2YWx1ZTtcblx0fVxuXG5cdHB1YmxpYyBnZXRVbmlmb3JtSG91cigpOiBzdHJpbmcge1xuXHRcdHJldHVybiAoJzAwJyArIHRoaXMuZ2V0SG91cigpLnRvU3RyaW5nKCkpLnNsaWNlKC0yKTtcblx0fVxuXG5cdHB1YmxpYyBnZXRVbmlmb3JtTWludXRlKCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuICgnMDAnICsgdGhpcy5nZXRNaW51dGUoKS50b1N0cmluZygpKS5zbGljZSgtMik7XG5cdH1cblxuXHRwdWJsaWMgc2V0SG91ckZyb21TdHJpbmcoc3RyOiBzdHJpbmcpOiB2b2lkIHtcblx0XHRjb25zdCB2ID0gTnVtYmVyLnBhcnNlSW50KHN0cik7XG5cdFx0dGhpcy5zZXRIb3VyKE51bWJlci5pc05hTih2KSA/IFRpbWVQYXJzZXIuZ2V0RGVmYXVsdEhvdXIoKSA6IHYpO1xuXHR9XG5cblx0cHVibGljIHNldE1pbnV0ZUZyb21TdHJpbmcoc3RyOiBzdHJpbmcpOiB2b2lkIHtcblx0XHRjb25zdCB2ID0gTnVtYmVyLnBhcnNlSW50KHN0cik7XG5cdFx0dGhpcy5zZXRNaW51dGUoTnVtYmVyLmlzTmFOKHYpID8gVGltZVBhcnNlci5nZXREZWZhdWx0TWludXRlKCkgOiB2KTtcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgVGltZVBhcnNlciB7XG5cdHB1YmxpYyBzdGF0aWMgcGFyc2UodGltZVN0cmluZzogc3RyaW5nKTogVGltZSB8IHVuZGVmaW5lZCB7XG5cdFx0Y29uc3QgdGltZTogVGltZSA9IFRpbWVQYXJzZXIuZ2V0RGVmYXVsdFRpbWUoKTtcblxuXHRcdGNvbnN0IHRpbWVQYXJ0cyA9IHRpbWVTdHJpbmcuc3BsaXQoJzonKTtcblx0XHRpZiAodGltZVBhcnRzLmxlbmd0aCAhPT0gMikge1xuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHR9XG5cblx0XHR0aW1lLnNldEhvdXJGcm9tU3RyaW5nKHRpbWVQYXJ0c1swXSk7XG5cdFx0dGltZS5zZXRNaW51dGVGcm9tU3RyaW5nKHRpbWVQYXJ0c1sxXSk7XG5cblx0XHRyZXR1cm4gdGltZTtcblx0fVxuXG5cdHB1YmxpYyBzdGF0aWMgc3RyaW5naWZ5KHRpbWU6IFRpbWUpOiBzdHJpbmcge1xuXHRcdHJldHVybiBgJHt0aW1lLmdldFVuaWZvcm1Ib3VyKCl9OiR7dGltZS5nZXRVbmlmb3JtTWludXRlKCl9YDtcblx0fVxuXG5cdHB1YmxpYyBzdGF0aWMgZ2V0RGVmYXVsdFRpbWUoKTogVGltZSB7XG5cdFx0cmV0dXJuIG5ldyBUaW1lKCk7XG5cdH1cblxuXHRwdWJsaWMgc3RhdGljIGdldERlZmF1bHRIb3VyKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIDA7XG5cdH1cblxuXHRwdWJsaWMgc3RhdGljIGdldERlZmF1bHRNaW51dGUoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gMDtcblx0fVxufVxuIiwgImZ1bmN0aW9uIG5vb3AoKSB7IH1cbmNvbnN0IGlkZW50aXR5ID0geCA9PiB4O1xuZnVuY3Rpb24gYXNzaWduKHRhciwgc3JjKSB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGZvciAoY29uc3QgayBpbiBzcmMpXG4gICAgICAgIHRhcltrXSA9IHNyY1trXTtcbiAgICByZXR1cm4gdGFyO1xufVxuZnVuY3Rpb24gaXNfcHJvbWlzZSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHR5cGVvZiB2YWx1ZS50aGVuID09PSAnZnVuY3Rpb24nO1xufVxuZnVuY3Rpb24gYWRkX2xvY2F0aW9uKGVsZW1lbnQsIGZpbGUsIGxpbmUsIGNvbHVtbiwgY2hhcikge1xuICAgIGVsZW1lbnQuX19zdmVsdGVfbWV0YSA9IHtcbiAgICAgICAgbG9jOiB7IGZpbGUsIGxpbmUsIGNvbHVtbiwgY2hhciB9XG4gICAgfTtcbn1cbmZ1bmN0aW9uIHJ1bihmbikge1xuICAgIHJldHVybiBmbigpO1xufVxuZnVuY3Rpb24gYmxhbmtfb2JqZWN0KCkge1xuICAgIHJldHVybiBPYmplY3QuY3JlYXRlKG51bGwpO1xufVxuZnVuY3Rpb24gcnVuX2FsbChmbnMpIHtcbiAgICBmbnMuZm9yRWFjaChydW4pO1xufVxuZnVuY3Rpb24gaXNfZnVuY3Rpb24odGhpbmcpIHtcbiAgICByZXR1cm4gdHlwZW9mIHRoaW5nID09PSAnZnVuY3Rpb24nO1xufVxuZnVuY3Rpb24gc2FmZV9ub3RfZXF1YWwoYSwgYikge1xuICAgIHJldHVybiBhICE9IGEgPyBiID09IGIgOiBhICE9PSBiIHx8ICgoYSAmJiB0eXBlb2YgYSA9PT0gJ29iamVjdCcpIHx8IHR5cGVvZiBhID09PSAnZnVuY3Rpb24nKTtcbn1cbmxldCBzcmNfdXJsX2VxdWFsX2FuY2hvcjtcbmZ1bmN0aW9uIHNyY191cmxfZXF1YWwoZWxlbWVudF9zcmMsIHVybCkge1xuICAgIGlmICghc3JjX3VybF9lcXVhbF9hbmNob3IpIHtcbiAgICAgICAgc3JjX3VybF9lcXVhbF9hbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgfVxuICAgIHNyY191cmxfZXF1YWxfYW5jaG9yLmhyZWYgPSB1cmw7XG4gICAgcmV0dXJuIGVsZW1lbnRfc3JjID09PSBzcmNfdXJsX2VxdWFsX2FuY2hvci5ocmVmO1xufVxuZnVuY3Rpb24gbm90X2VxdWFsKGEsIGIpIHtcbiAgICByZXR1cm4gYSAhPSBhID8gYiA9PSBiIDogYSAhPT0gYjtcbn1cbmZ1bmN0aW9uIGlzX2VtcHR5KG9iaikge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmopLmxlbmd0aCA9PT0gMDtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlX3N0b3JlKHN0b3JlLCBuYW1lKSB7XG4gICAgaWYgKHN0b3JlICE9IG51bGwgJiYgdHlwZW9mIHN0b3JlLnN1YnNjcmliZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCcke25hbWV9JyBpcyBub3QgYSBzdG9yZSB3aXRoIGEgJ3N1YnNjcmliZScgbWV0aG9kYCk7XG4gICAgfVxufVxuZnVuY3Rpb24gc3Vic2NyaWJlKHN0b3JlLCAuLi5jYWxsYmFja3MpIHtcbiAgICBpZiAoc3RvcmUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbm9vcDtcbiAgICB9XG4gICAgY29uc3QgdW5zdWIgPSBzdG9yZS5zdWJzY3JpYmUoLi4uY2FsbGJhY2tzKTtcbiAgICByZXR1cm4gdW5zdWIudW5zdWJzY3JpYmUgPyAoKSA9PiB1bnN1Yi51bnN1YnNjcmliZSgpIDogdW5zdWI7XG59XG5mdW5jdGlvbiBnZXRfc3RvcmVfdmFsdWUoc3RvcmUpIHtcbiAgICBsZXQgdmFsdWU7XG4gICAgc3Vic2NyaWJlKHN0b3JlLCBfID0+IHZhbHVlID0gXykoKTtcbiAgICByZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiBjb21wb25lbnRfc3Vic2NyaWJlKGNvbXBvbmVudCwgc3RvcmUsIGNhbGxiYWNrKSB7XG4gICAgY29tcG9uZW50LiQkLm9uX2Rlc3Ryb3kucHVzaChzdWJzY3JpYmUoc3RvcmUsIGNhbGxiYWNrKSk7XG59XG5mdW5jdGlvbiBjcmVhdGVfc2xvdChkZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIGZuKSB7XG4gICAgaWYgKGRlZmluaXRpb24pIHtcbiAgICAgICAgY29uc3Qgc2xvdF9jdHggPSBnZXRfc2xvdF9jb250ZXh0KGRlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZm4pO1xuICAgICAgICByZXR1cm4gZGVmaW5pdGlvblswXShzbG90X2N0eCk7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0X3Nsb3RfY29udGV4dChkZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIGZuKSB7XG4gICAgcmV0dXJuIGRlZmluaXRpb25bMV0gJiYgZm5cbiAgICAgICAgPyBhc3NpZ24oJCRzY29wZS5jdHguc2xpY2UoKSwgZGVmaW5pdGlvblsxXShmbihjdHgpKSlcbiAgICAgICAgOiAkJHNjb3BlLmN0eDtcbn1cbmZ1bmN0aW9uIGdldF9zbG90X2NoYW5nZXMoZGVmaW5pdGlvbiwgJCRzY29wZSwgZGlydHksIGZuKSB7XG4gICAgaWYgKGRlZmluaXRpb25bMl0gJiYgZm4pIHtcbiAgICAgICAgY29uc3QgbGV0cyA9IGRlZmluaXRpb25bMl0oZm4oZGlydHkpKTtcbiAgICAgICAgaWYgKCQkc2NvcGUuZGlydHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGxldHM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBsZXRzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgY29uc3QgbWVyZ2VkID0gW107XG4gICAgICAgICAgICBjb25zdCBsZW4gPSBNYXRoLm1heCgkJHNjb3BlLmRpcnR5Lmxlbmd0aCwgbGV0cy5sZW5ndGgpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIG1lcmdlZFtpXSA9ICQkc2NvcGUuZGlydHlbaV0gfCBsZXRzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG1lcmdlZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJCRzY29wZS5kaXJ0eSB8IGxldHM7XG4gICAgfVxuICAgIHJldHVybiAkJHNjb3BlLmRpcnR5O1xufVxuZnVuY3Rpb24gdXBkYXRlX3Nsb3RfYmFzZShzbG90LCBzbG90X2RlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgc2xvdF9jaGFuZ2VzLCBnZXRfc2xvdF9jb250ZXh0X2ZuKSB7XG4gICAgaWYgKHNsb3RfY2hhbmdlcykge1xuICAgICAgICBjb25zdCBzbG90X2NvbnRleHQgPSBnZXRfc2xvdF9jb250ZXh0KHNsb3RfZGVmaW5pdGlvbiwgY3R4LCAkJHNjb3BlLCBnZXRfc2xvdF9jb250ZXh0X2ZuKTtcbiAgICAgICAgc2xvdC5wKHNsb3RfY29udGV4dCwgc2xvdF9jaGFuZ2VzKTtcbiAgICB9XG59XG5mdW5jdGlvbiB1cGRhdGVfc2xvdChzbG90LCBzbG90X2RlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZGlydHksIGdldF9zbG90X2NoYW5nZXNfZm4sIGdldF9zbG90X2NvbnRleHRfZm4pIHtcbiAgICBjb25zdCBzbG90X2NoYW5nZXMgPSBnZXRfc2xvdF9jaGFuZ2VzKHNsb3RfZGVmaW5pdGlvbiwgJCRzY29wZSwgZGlydHksIGdldF9zbG90X2NoYW5nZXNfZm4pO1xuICAgIHVwZGF0ZV9zbG90X2Jhc2Uoc2xvdCwgc2xvdF9kZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIHNsb3RfY2hhbmdlcywgZ2V0X3Nsb3RfY29udGV4dF9mbik7XG59XG5mdW5jdGlvbiBnZXRfYWxsX2RpcnR5X2Zyb21fc2NvcGUoJCRzY29wZSkge1xuICAgIGlmICgkJHNjb3BlLmN0eC5sZW5ndGggPiAzMikge1xuICAgICAgICBjb25zdCBkaXJ0eSA9IFtdO1xuICAgICAgICBjb25zdCBsZW5ndGggPSAkJHNjb3BlLmN0eC5sZW5ndGggLyAzMjtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZGlydHlbaV0gPSAtMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGlydHk7XG4gICAgfVxuICAgIHJldHVybiAtMTtcbn1cbmZ1bmN0aW9uIGV4Y2x1ZGVfaW50ZXJuYWxfcHJvcHMocHJvcHMpIHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGsgaW4gcHJvcHMpXG4gICAgICAgIGlmIChrWzBdICE9PSAnJCcpXG4gICAgICAgICAgICByZXN1bHRba10gPSBwcm9wc1trXTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gY29tcHV0ZV9yZXN0X3Byb3BzKHByb3BzLCBrZXlzKSB7XG4gICAgY29uc3QgcmVzdCA9IHt9O1xuICAgIGtleXMgPSBuZXcgU2V0KGtleXMpO1xuICAgIGZvciAoY29uc3QgayBpbiBwcm9wcylcbiAgICAgICAgaWYgKCFrZXlzLmhhcyhrKSAmJiBrWzBdICE9PSAnJCcpXG4gICAgICAgICAgICByZXN0W2tdID0gcHJvcHNba107XG4gICAgcmV0dXJuIHJlc3Q7XG59XG5mdW5jdGlvbiBjb21wdXRlX3Nsb3RzKHNsb3RzKSB7XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgZm9yIChjb25zdCBrZXkgaW4gc2xvdHMpIHtcbiAgICAgICAgcmVzdWx0W2tleV0gPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gb25jZShmbikge1xuICAgIGxldCByYW4gPSBmYWxzZTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgaWYgKHJhbilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgcmFuID0gdHJ1ZTtcbiAgICAgICAgZm4uY2FsbCh0aGlzLCAuLi5hcmdzKTtcbiAgICB9O1xufVxuZnVuY3Rpb24gbnVsbF90b19lbXB0eSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PSBudWxsID8gJycgOiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIHNldF9zdG9yZV92YWx1ZShzdG9yZSwgcmV0LCB2YWx1ZSkge1xuICAgIHN0b3JlLnNldCh2YWx1ZSk7XG4gICAgcmV0dXJuIHJldDtcbn1cbmNvbnN0IGhhc19wcm9wID0gKG9iaiwgcHJvcCkgPT4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7XG5mdW5jdGlvbiBhY3Rpb25fZGVzdHJveWVyKGFjdGlvbl9yZXN1bHQpIHtcbiAgICByZXR1cm4gYWN0aW9uX3Jlc3VsdCAmJiBpc19mdW5jdGlvbihhY3Rpb25fcmVzdWx0LmRlc3Ryb3kpID8gYWN0aW9uX3Jlc3VsdC5kZXN0cm95IDogbm9vcDtcbn1cblxuY29uc3QgaXNfY2xpZW50ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCc7XG5sZXQgbm93ID0gaXNfY2xpZW50XG4gICAgPyAoKSA9PiB3aW5kb3cucGVyZm9ybWFuY2Uubm93KClcbiAgICA6ICgpID0+IERhdGUubm93KCk7XG5sZXQgcmFmID0gaXNfY2xpZW50ID8gY2IgPT4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNiKSA6IG5vb3A7XG4vLyB1c2VkIGludGVybmFsbHkgZm9yIHRlc3RpbmdcbmZ1bmN0aW9uIHNldF9ub3coZm4pIHtcbiAgICBub3cgPSBmbjtcbn1cbmZ1bmN0aW9uIHNldF9yYWYoZm4pIHtcbiAgICByYWYgPSBmbjtcbn1cblxuY29uc3QgdGFza3MgPSBuZXcgU2V0KCk7XG5mdW5jdGlvbiBydW5fdGFza3Mobm93KSB7XG4gICAgdGFza3MuZm9yRWFjaCh0YXNrID0+IHtcbiAgICAgICAgaWYgKCF0YXNrLmMobm93KSkge1xuICAgICAgICAgICAgdGFza3MuZGVsZXRlKHRhc2spO1xuICAgICAgICAgICAgdGFzay5mKCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAodGFza3Muc2l6ZSAhPT0gMClcbiAgICAgICAgcmFmKHJ1bl90YXNrcyk7XG59XG4vKipcbiAqIEZvciB0ZXN0aW5nIHB1cnBvc2VzIG9ubHkhXG4gKi9cbmZ1bmN0aW9uIGNsZWFyX2xvb3BzKCkge1xuICAgIHRhc2tzLmNsZWFyKCk7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgdGFzayB0aGF0IHJ1bnMgb24gZWFjaCByYWYgZnJhbWVcbiAqIHVudGlsIGl0IHJldHVybnMgYSBmYWxzeSB2YWx1ZSBvciBpcyBhYm9ydGVkXG4gKi9cbmZ1bmN0aW9uIGxvb3AoY2FsbGJhY2spIHtcbiAgICBsZXQgdGFzaztcbiAgICBpZiAodGFza3Muc2l6ZSA9PT0gMClcbiAgICAgICAgcmFmKHJ1bl90YXNrcyk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcHJvbWlzZTogbmV3IFByb21pc2UoZnVsZmlsbCA9PiB7XG4gICAgICAgICAgICB0YXNrcy5hZGQodGFzayA9IHsgYzogY2FsbGJhY2ssIGY6IGZ1bGZpbGwgfSk7XG4gICAgICAgIH0pLFxuICAgICAgICBhYm9ydCgpIHtcbiAgICAgICAgICAgIHRhc2tzLmRlbGV0ZSh0YXNrKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbi8vIFRyYWNrIHdoaWNoIG5vZGVzIGFyZSBjbGFpbWVkIGR1cmluZyBoeWRyYXRpb24uIFVuY2xhaW1lZCBub2RlcyBjYW4gdGhlbiBiZSByZW1vdmVkIGZyb20gdGhlIERPTVxuLy8gYXQgdGhlIGVuZCBvZiBoeWRyYXRpb24gd2l0aG91dCB0b3VjaGluZyB0aGUgcmVtYWluaW5nIG5vZGVzLlxubGV0IGlzX2h5ZHJhdGluZyA9IGZhbHNlO1xuZnVuY3Rpb24gc3RhcnRfaHlkcmF0aW5nKCkge1xuICAgIGlzX2h5ZHJhdGluZyA9IHRydWU7XG59XG5mdW5jdGlvbiBlbmRfaHlkcmF0aW5nKCkge1xuICAgIGlzX2h5ZHJhdGluZyA9IGZhbHNlO1xufVxuZnVuY3Rpb24gdXBwZXJfYm91bmQobG93LCBoaWdoLCBrZXksIHZhbHVlKSB7XG4gICAgLy8gUmV0dXJuIGZpcnN0IGluZGV4IG9mIHZhbHVlIGxhcmdlciB0aGFuIGlucHV0IHZhbHVlIGluIHRoZSByYW5nZSBbbG93LCBoaWdoKVxuICAgIHdoaWxlIChsb3cgPCBoaWdoKSB7XG4gICAgICAgIGNvbnN0IG1pZCA9IGxvdyArICgoaGlnaCAtIGxvdykgPj4gMSk7XG4gICAgICAgIGlmIChrZXkobWlkKSA8PSB2YWx1ZSkge1xuICAgICAgICAgICAgbG93ID0gbWlkICsgMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGhpZ2ggPSBtaWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGxvdztcbn1cbmZ1bmN0aW9uIGluaXRfaHlkcmF0ZSh0YXJnZXQpIHtcbiAgICBpZiAodGFyZ2V0Lmh5ZHJhdGVfaW5pdClcbiAgICAgICAgcmV0dXJuO1xuICAgIHRhcmdldC5oeWRyYXRlX2luaXQgPSB0cnVlO1xuICAgIC8vIFdlIGtub3cgdGhhdCBhbGwgY2hpbGRyZW4gaGF2ZSBjbGFpbV9vcmRlciB2YWx1ZXMgc2luY2UgdGhlIHVuY2xhaW1lZCBoYXZlIGJlZW4gZGV0YWNoZWQgaWYgdGFyZ2V0IGlzIG5vdCA8aGVhZD5cbiAgICBsZXQgY2hpbGRyZW4gPSB0YXJnZXQuY2hpbGROb2RlcztcbiAgICAvLyBJZiB0YXJnZXQgaXMgPGhlYWQ+LCB0aGVyZSBtYXkgYmUgY2hpbGRyZW4gd2l0aG91dCBjbGFpbV9vcmRlclxuICAgIGlmICh0YXJnZXQubm9kZU5hbWUgPT09ICdIRUFEJykge1xuICAgICAgICBjb25zdCBteUNoaWxkcmVuID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgICAgIGlmIChub2RlLmNsYWltX29yZGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBteUNoaWxkcmVuLnB1c2gobm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2hpbGRyZW4gPSBteUNoaWxkcmVuO1xuICAgIH1cbiAgICAvKlxuICAgICogUmVvcmRlciBjbGFpbWVkIGNoaWxkcmVuIG9wdGltYWxseS5cbiAgICAqIFdlIGNhbiByZW9yZGVyIGNsYWltZWQgY2hpbGRyZW4gb3B0aW1hbGx5IGJ5IGZpbmRpbmcgdGhlIGxvbmdlc3Qgc3Vic2VxdWVuY2Ugb2ZcbiAgICAqIG5vZGVzIHRoYXQgYXJlIGFscmVhZHkgY2xhaW1lZCBpbiBvcmRlciBhbmQgb25seSBtb3ZpbmcgdGhlIHJlc3QuIFRoZSBsb25nZXN0XG4gICAgKiBzdWJzZXF1ZW5jZSBvZiBub2RlcyB0aGF0IGFyZSBjbGFpbWVkIGluIG9yZGVyIGNhbiBiZSBmb3VuZCBieVxuICAgICogY29tcHV0aW5nIHRoZSBsb25nZXN0IGluY3JlYXNpbmcgc3Vic2VxdWVuY2Ugb2YgLmNsYWltX29yZGVyIHZhbHVlcy5cbiAgICAqXG4gICAgKiBUaGlzIGFsZ29yaXRobSBpcyBvcHRpbWFsIGluIGdlbmVyYXRpbmcgdGhlIGxlYXN0IGFtb3VudCBvZiByZW9yZGVyIG9wZXJhdGlvbnNcbiAgICAqIHBvc3NpYmxlLlxuICAgICpcbiAgICAqIFByb29mOlxuICAgICogV2Uga25vdyB0aGF0LCBnaXZlbiBhIHNldCBvZiByZW9yZGVyaW5nIG9wZXJhdGlvbnMsIHRoZSBub2RlcyB0aGF0IGRvIG5vdCBtb3ZlXG4gICAgKiBhbHdheXMgZm9ybSBhbiBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlLCBzaW5jZSB0aGV5IGRvIG5vdCBtb3ZlIGFtb25nIGVhY2ggb3RoZXJcbiAgICAqIG1lYW5pbmcgdGhhdCB0aGV5IG11c3QgYmUgYWxyZWFkeSBvcmRlcmVkIGFtb25nIGVhY2ggb3RoZXIuIFRodXMsIHRoZSBtYXhpbWFsXG4gICAgKiBzZXQgb2Ygbm9kZXMgdGhhdCBkbyBub3QgbW92ZSBmb3JtIGEgbG9uZ2VzdCBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlLlxuICAgICovXG4gICAgLy8gQ29tcHV0ZSBsb25nZXN0IGluY3JlYXNpbmcgc3Vic2VxdWVuY2VcbiAgICAvLyBtOiBzdWJzZXF1ZW5jZSBsZW5ndGggaiA9PiBpbmRleCBrIG9mIHNtYWxsZXN0IHZhbHVlIHRoYXQgZW5kcyBhbiBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlIG9mIGxlbmd0aCBqXG4gICAgY29uc3QgbSA9IG5ldyBJbnQzMkFycmF5KGNoaWxkcmVuLmxlbmd0aCArIDEpO1xuICAgIC8vIFByZWRlY2Vzc29yIGluZGljZXMgKyAxXG4gICAgY29uc3QgcCA9IG5ldyBJbnQzMkFycmF5KGNoaWxkcmVuLmxlbmd0aCk7XG4gICAgbVswXSA9IC0xO1xuICAgIGxldCBsb25nZXN0ID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSBjaGlsZHJlbltpXS5jbGFpbV9vcmRlcjtcbiAgICAgICAgLy8gRmluZCB0aGUgbGFyZ2VzdCBzdWJzZXF1ZW5jZSBsZW5ndGggc3VjaCB0aGF0IGl0IGVuZHMgaW4gYSB2YWx1ZSBsZXNzIHRoYW4gb3VyIGN1cnJlbnQgdmFsdWVcbiAgICAgICAgLy8gdXBwZXJfYm91bmQgcmV0dXJucyBmaXJzdCBncmVhdGVyIHZhbHVlLCBzbyB3ZSBzdWJ0cmFjdCBvbmVcbiAgICAgICAgLy8gd2l0aCBmYXN0IHBhdGggZm9yIHdoZW4gd2UgYXJlIG9uIHRoZSBjdXJyZW50IGxvbmdlc3Qgc3Vic2VxdWVuY2VcbiAgICAgICAgY29uc3Qgc2VxTGVuID0gKChsb25nZXN0ID4gMCAmJiBjaGlsZHJlblttW2xvbmdlc3RdXS5jbGFpbV9vcmRlciA8PSBjdXJyZW50KSA/IGxvbmdlc3QgKyAxIDogdXBwZXJfYm91bmQoMSwgbG9uZ2VzdCwgaWR4ID0+IGNoaWxkcmVuW21baWR4XV0uY2xhaW1fb3JkZXIsIGN1cnJlbnQpKSAtIDE7XG4gICAgICAgIHBbaV0gPSBtW3NlcUxlbl0gKyAxO1xuICAgICAgICBjb25zdCBuZXdMZW4gPSBzZXFMZW4gKyAxO1xuICAgICAgICAvLyBXZSBjYW4gZ3VhcmFudGVlIHRoYXQgY3VycmVudCBpcyB0aGUgc21hbGxlc3QgdmFsdWUuIE90aGVyd2lzZSwgd2Ugd291bGQgaGF2ZSBnZW5lcmF0ZWQgYSBsb25nZXIgc2VxdWVuY2UuXG4gICAgICAgIG1bbmV3TGVuXSA9IGk7XG4gICAgICAgIGxvbmdlc3QgPSBNYXRoLm1heChuZXdMZW4sIGxvbmdlc3QpO1xuICAgIH1cbiAgICAvLyBUaGUgbG9uZ2VzdCBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlIG9mIG5vZGVzIChpbml0aWFsbHkgcmV2ZXJzZWQpXG4gICAgY29uc3QgbGlzID0gW107XG4gICAgLy8gVGhlIHJlc3Qgb2YgdGhlIG5vZGVzLCBub2RlcyB0aGF0IHdpbGwgYmUgbW92ZWRcbiAgICBjb25zdCB0b01vdmUgPSBbXTtcbiAgICBsZXQgbGFzdCA9IGNoaWxkcmVuLmxlbmd0aCAtIDE7XG4gICAgZm9yIChsZXQgY3VyID0gbVtsb25nZXN0XSArIDE7IGN1ciAhPSAwOyBjdXIgPSBwW2N1ciAtIDFdKSB7XG4gICAgICAgIGxpcy5wdXNoKGNoaWxkcmVuW2N1ciAtIDFdKTtcbiAgICAgICAgZm9yICg7IGxhc3QgPj0gY3VyOyBsYXN0LS0pIHtcbiAgICAgICAgICAgIHRvTW92ZS5wdXNoKGNoaWxkcmVuW2xhc3RdKTtcbiAgICAgICAgfVxuICAgICAgICBsYXN0LS07XG4gICAgfVxuICAgIGZvciAoOyBsYXN0ID49IDA7IGxhc3QtLSkge1xuICAgICAgICB0b01vdmUucHVzaChjaGlsZHJlbltsYXN0XSk7XG4gICAgfVxuICAgIGxpcy5yZXZlcnNlKCk7XG4gICAgLy8gV2Ugc29ydCB0aGUgbm9kZXMgYmVpbmcgbW92ZWQgdG8gZ3VhcmFudGVlIHRoYXQgdGhlaXIgaW5zZXJ0aW9uIG9yZGVyIG1hdGNoZXMgdGhlIGNsYWltIG9yZGVyXG4gICAgdG9Nb3ZlLnNvcnQoKGEsIGIpID0+IGEuY2xhaW1fb3JkZXIgLSBiLmNsYWltX29yZGVyKTtcbiAgICAvLyBGaW5hbGx5LCB3ZSBtb3ZlIHRoZSBub2Rlc1xuICAgIGZvciAobGV0IGkgPSAwLCBqID0gMDsgaSA8IHRvTW92ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICB3aGlsZSAoaiA8IGxpcy5sZW5ndGggJiYgdG9Nb3ZlW2ldLmNsYWltX29yZGVyID49IGxpc1tqXS5jbGFpbV9vcmRlcikge1xuICAgICAgICAgICAgaisrO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFuY2hvciA9IGogPCBsaXMubGVuZ3RoID8gbGlzW2pdIDogbnVsbDtcbiAgICAgICAgdGFyZ2V0Lmluc2VydEJlZm9yZSh0b01vdmVbaV0sIGFuY2hvcik7XG4gICAgfVxufVxuZnVuY3Rpb24gYXBwZW5kKHRhcmdldCwgbm9kZSkge1xuICAgIHRhcmdldC5hcHBlbmRDaGlsZChub2RlKTtcbn1cbmZ1bmN0aW9uIGFwcGVuZF9zdHlsZXModGFyZ2V0LCBzdHlsZV9zaGVldF9pZCwgc3R5bGVzKSB7XG4gICAgY29uc3QgYXBwZW5kX3N0eWxlc190byA9IGdldF9yb290X2Zvcl9zdHlsZSh0YXJnZXQpO1xuICAgIGlmICghYXBwZW5kX3N0eWxlc190by5nZXRFbGVtZW50QnlJZChzdHlsZV9zaGVldF9pZCkpIHtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSBlbGVtZW50KCdzdHlsZScpO1xuICAgICAgICBzdHlsZS5pZCA9IHN0eWxlX3NoZWV0X2lkO1xuICAgICAgICBzdHlsZS50ZXh0Q29udGVudCA9IHN0eWxlcztcbiAgICAgICAgYXBwZW5kX3N0eWxlc2hlZXQoYXBwZW5kX3N0eWxlc190bywgc3R5bGUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldF9yb290X2Zvcl9zdHlsZShub2RlKSB7XG4gICAgaWYgKCFub2RlKVxuICAgICAgICByZXR1cm4gZG9jdW1lbnQ7XG4gICAgY29uc3Qgcm9vdCA9IG5vZGUuZ2V0Um9vdE5vZGUgPyBub2RlLmdldFJvb3ROb2RlKCkgOiBub2RlLm93bmVyRG9jdW1lbnQ7XG4gICAgaWYgKHJvb3QgJiYgcm9vdC5ob3N0KSB7XG4gICAgICAgIHJldHVybiByb290O1xuICAgIH1cbiAgICByZXR1cm4gbm9kZS5vd25lckRvY3VtZW50O1xufVxuZnVuY3Rpb24gYXBwZW5kX2VtcHR5X3N0eWxlc2hlZXQobm9kZSkge1xuICAgIGNvbnN0IHN0eWxlX2VsZW1lbnQgPSBlbGVtZW50KCdzdHlsZScpO1xuICAgIGFwcGVuZF9zdHlsZXNoZWV0KGdldF9yb290X2Zvcl9zdHlsZShub2RlKSwgc3R5bGVfZWxlbWVudCk7XG4gICAgcmV0dXJuIHN0eWxlX2VsZW1lbnQuc2hlZXQ7XG59XG5mdW5jdGlvbiBhcHBlbmRfc3R5bGVzaGVldChub2RlLCBzdHlsZSkge1xuICAgIGFwcGVuZChub2RlLmhlYWQgfHwgbm9kZSwgc3R5bGUpO1xuICAgIHJldHVybiBzdHlsZS5zaGVldDtcbn1cbmZ1bmN0aW9uIGFwcGVuZF9oeWRyYXRpb24odGFyZ2V0LCBub2RlKSB7XG4gICAgaWYgKGlzX2h5ZHJhdGluZykge1xuICAgICAgICBpbml0X2h5ZHJhdGUodGFyZ2V0KTtcbiAgICAgICAgaWYgKCh0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZCA9PT0gdW5kZWZpbmVkKSB8fCAoKHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkICE9PSBudWxsKSAmJiAodGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQucGFyZW50Tm9kZSAhPT0gdGFyZ2V0KSkpIHtcbiAgICAgICAgICAgIHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkID0gdGFyZ2V0LmZpcnN0Q2hpbGQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2tpcCBub2RlcyBvZiB1bmRlZmluZWQgb3JkZXJpbmdcbiAgICAgICAgd2hpbGUgKCh0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZCAhPT0gbnVsbCkgJiYgKHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkLmNsYWltX29yZGVyID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgICAgICB0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZCA9IHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkLm5leHRTaWJsaW5nO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlICE9PSB0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZCkge1xuICAgICAgICAgICAgLy8gV2Ugb25seSBpbnNlcnQgaWYgdGhlIG9yZGVyaW5nIG9mIHRoaXMgbm9kZSBzaG91bGQgYmUgbW9kaWZpZWQgb3IgdGhlIHBhcmVudCBub2RlIGlzIG5vdCB0YXJnZXRcbiAgICAgICAgICAgIGlmIChub2RlLmNsYWltX29yZGVyICE9PSB1bmRlZmluZWQgfHwgbm9kZS5wYXJlbnROb2RlICE9PSB0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQuaW5zZXJ0QmVmb3JlKG5vZGUsIHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkID0gbm9kZS5uZXh0U2libGluZztcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChub2RlLnBhcmVudE5vZGUgIT09IHRhcmdldCB8fCBub2RlLm5leHRTaWJsaW5nICE9PSBudWxsKSB7XG4gICAgICAgIHRhcmdldC5hcHBlbmRDaGlsZChub2RlKTtcbiAgICB9XG59XG5mdW5jdGlvbiBpbnNlcnQodGFyZ2V0LCBub2RlLCBhbmNob3IpIHtcbiAgICB0YXJnZXQuaW5zZXJ0QmVmb3JlKG5vZGUsIGFuY2hvciB8fCBudWxsKTtcbn1cbmZ1bmN0aW9uIGluc2VydF9oeWRyYXRpb24odGFyZ2V0LCBub2RlLCBhbmNob3IpIHtcbiAgICBpZiAoaXNfaHlkcmF0aW5nICYmICFhbmNob3IpIHtcbiAgICAgICAgYXBwZW5kX2h5ZHJhdGlvbih0YXJnZXQsIG5vZGUpO1xuICAgIH1cbiAgICBlbHNlIGlmIChub2RlLnBhcmVudE5vZGUgIT09IHRhcmdldCB8fCBub2RlLm5leHRTaWJsaW5nICE9IGFuY2hvcikge1xuICAgICAgICB0YXJnZXQuaW5zZXJ0QmVmb3JlKG5vZGUsIGFuY2hvciB8fCBudWxsKTtcbiAgICB9XG59XG5mdW5jdGlvbiBkZXRhY2gobm9kZSkge1xuICAgIGlmIChub2RlLnBhcmVudE5vZGUpIHtcbiAgICAgICAgbm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGRlc3Ryb3lfZWFjaChpdGVyYXRpb25zLCBkZXRhY2hpbmcpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZXJhdGlvbnMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKGl0ZXJhdGlvbnNbaV0pXG4gICAgICAgICAgICBpdGVyYXRpb25zW2ldLmQoZGV0YWNoaW5nKTtcbiAgICB9XG59XG5mdW5jdGlvbiBlbGVtZW50KG5hbWUpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChuYW1lKTtcbn1cbmZ1bmN0aW9uIGVsZW1lbnRfaXMobmFtZSwgaXMpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChuYW1lLCB7IGlzIH0pO1xufVxuZnVuY3Rpb24gb2JqZWN0X3dpdGhvdXRfcHJvcGVydGllcyhvYmosIGV4Y2x1ZGUpIHtcbiAgICBjb25zdCB0YXJnZXQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGsgaW4gb2JqKSB7XG4gICAgICAgIGlmIChoYXNfcHJvcChvYmosIGspXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAmJiBleGNsdWRlLmluZGV4T2YoaykgPT09IC0xKSB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICB0YXJnZXRba10gPSBvYmpba107XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbn1cbmZ1bmN0aW9uIHN2Z19lbGVtZW50KG5hbWUpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsIG5hbWUpO1xufVxuZnVuY3Rpb24gdGV4dChkYXRhKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGRhdGEpO1xufVxuZnVuY3Rpb24gc3BhY2UoKSB7XG4gICAgcmV0dXJuIHRleHQoJyAnKTtcbn1cbmZ1bmN0aW9uIGVtcHR5KCkge1xuICAgIHJldHVybiB0ZXh0KCcnKTtcbn1cbmZ1bmN0aW9uIGxpc3Rlbihub2RlLCBldmVudCwgaGFuZGxlciwgb3B0aW9ucykge1xuICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XG4gICAgcmV0dXJuICgpID0+IG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XG59XG5mdW5jdGlvbiBwcmV2ZW50X2RlZmF1bHQoZm4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgcmV0dXJuIGZuLmNhbGwodGhpcywgZXZlbnQpO1xuICAgIH07XG59XG5mdW5jdGlvbiBzdG9wX3Byb3BhZ2F0aW9uKGZuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICByZXR1cm4gZm4uY2FsbCh0aGlzLCBldmVudCk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIHNlbGYoZm4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gdGhpcylcbiAgICAgICAgICAgIGZuLmNhbGwodGhpcywgZXZlbnQpO1xuICAgIH07XG59XG5mdW5jdGlvbiB0cnVzdGVkKGZuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGlmIChldmVudC5pc1RydXN0ZWQpXG4gICAgICAgICAgICBmbi5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICB9O1xufVxuZnVuY3Rpb24gYXR0cihub2RlLCBhdHRyaWJ1dGUsIHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09IG51bGwpXG4gICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKGF0dHJpYnV0ZSk7XG4gICAgZWxzZSBpZiAobm9kZS5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlKSAhPT0gdmFsdWUpXG4gICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZSwgdmFsdWUpO1xufVxuZnVuY3Rpb24gc2V0X2F0dHJpYnV0ZXMobm9kZSwgYXR0cmlidXRlcykge1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBjb25zdCBkZXNjcmlwdG9ycyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG5vZGUuX19wcm90b19fKTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgICAgIGlmIChhdHRyaWJ1dGVzW2tleV0gPT0gbnVsbCkge1xuICAgICAgICAgICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChrZXkgPT09ICdzdHlsZScpIHtcbiAgICAgICAgICAgIG5vZGUuc3R5bGUuY3NzVGV4dCA9IGF0dHJpYnV0ZXNba2V5XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChrZXkgPT09ICdfX3ZhbHVlJykge1xuICAgICAgICAgICAgbm9kZS52YWx1ZSA9IG5vZGVba2V5XSA9IGF0dHJpYnV0ZXNba2V5XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkZXNjcmlwdG9yc1trZXldICYmIGRlc2NyaXB0b3JzW2tleV0uc2V0KSB7XG4gICAgICAgICAgICBub2RlW2tleV0gPSBhdHRyaWJ1dGVzW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhdHRyKG5vZGUsIGtleSwgYXR0cmlidXRlc1trZXldKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHNldF9zdmdfYXR0cmlidXRlcyhub2RlLCBhdHRyaWJ1dGVzKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gYXR0cmlidXRlcykge1xuICAgICAgICBhdHRyKG5vZGUsIGtleSwgYXR0cmlidXRlc1trZXldKTtcbiAgICB9XG59XG5mdW5jdGlvbiBzZXRfY3VzdG9tX2VsZW1lbnRfZGF0YV9tYXAobm9kZSwgZGF0YV9tYXApIHtcbiAgICBPYmplY3Qua2V5cyhkYXRhX21hcCkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIHNldF9jdXN0b21fZWxlbWVudF9kYXRhKG5vZGUsIGtleSwgZGF0YV9tYXBba2V5XSk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBzZXRfY3VzdG9tX2VsZW1lbnRfZGF0YShub2RlLCBwcm9wLCB2YWx1ZSkge1xuICAgIGlmIChwcm9wIGluIG5vZGUpIHtcbiAgICAgICAgbm9kZVtwcm9wXSA9IHR5cGVvZiBub2RlW3Byb3BdID09PSAnYm9vbGVhbicgJiYgdmFsdWUgPT09ICcnID8gdHJ1ZSA6IHZhbHVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYXR0cihub2RlLCBwcm9wLCB2YWx1ZSk7XG4gICAgfVxufVxuZnVuY3Rpb24geGxpbmtfYXR0cihub2RlLCBhdHRyaWJ1dGUsIHZhbHVlKSB7XG4gICAgbm9kZS5zZXRBdHRyaWJ1dGVOUygnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsIGF0dHJpYnV0ZSwgdmFsdWUpO1xufVxuZnVuY3Rpb24gZ2V0X2JpbmRpbmdfZ3JvdXBfdmFsdWUoZ3JvdXAsIF9fdmFsdWUsIGNoZWNrZWQpIHtcbiAgICBjb25zdCB2YWx1ZSA9IG5ldyBTZXQoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdyb3VwLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGlmIChncm91cFtpXS5jaGVja2VkKVxuICAgICAgICAgICAgdmFsdWUuYWRkKGdyb3VwW2ldLl9fdmFsdWUpO1xuICAgIH1cbiAgICBpZiAoIWNoZWNrZWQpIHtcbiAgICAgICAgdmFsdWUuZGVsZXRlKF9fdmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gQXJyYXkuZnJvbSh2YWx1ZSk7XG59XG5mdW5jdGlvbiB0b19udW1iZXIodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09ICcnID8gbnVsbCA6ICt2YWx1ZTtcbn1cbmZ1bmN0aW9uIHRpbWVfcmFuZ2VzX3RvX2FycmF5KHJhbmdlcykge1xuICAgIGNvbnN0IGFycmF5ID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgYXJyYXkucHVzaCh7IHN0YXJ0OiByYW5nZXMuc3RhcnQoaSksIGVuZDogcmFuZ2VzLmVuZChpKSB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xufVxuZnVuY3Rpb24gY2hpbGRyZW4oZWxlbWVudCkge1xuICAgIHJldHVybiBBcnJheS5mcm9tKGVsZW1lbnQuY2hpbGROb2Rlcyk7XG59XG5mdW5jdGlvbiBpbml0X2NsYWltX2luZm8obm9kZXMpIHtcbiAgICBpZiAobm9kZXMuY2xhaW1faW5mbyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG5vZGVzLmNsYWltX2luZm8gPSB7IGxhc3RfaW5kZXg6IDAsIHRvdGFsX2NsYWltZWQ6IDAgfTtcbiAgICB9XG59XG5mdW5jdGlvbiBjbGFpbV9ub2RlKG5vZGVzLCBwcmVkaWNhdGUsIHByb2Nlc3NOb2RlLCBjcmVhdGVOb2RlLCBkb250VXBkYXRlTGFzdEluZGV4ID0gZmFsc2UpIHtcbiAgICAvLyBUcnkgdG8gZmluZCBub2RlcyBpbiBhbiBvcmRlciBzdWNoIHRoYXQgd2UgbGVuZ3RoZW4gdGhlIGxvbmdlc3QgaW5jcmVhc2luZyBzdWJzZXF1ZW5jZVxuICAgIGluaXRfY2xhaW1faW5mbyhub2Rlcyk7XG4gICAgY29uc3QgcmVzdWx0Tm9kZSA9ICgoKSA9PiB7XG4gICAgICAgIC8vIFdlIGZpcnN0IHRyeSB0byBmaW5kIGFuIGVsZW1lbnQgYWZ0ZXIgdGhlIHByZXZpb3VzIG9uZVxuICAgICAgICBmb3IgKGxldCBpID0gbm9kZXMuY2xhaW1faW5mby5sYXN0X2luZGV4OyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBub2Rlc1tpXTtcbiAgICAgICAgICAgIGlmIChwcmVkaWNhdGUobm9kZSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXBsYWNlbWVudCA9IHByb2Nlc3NOb2RlKG5vZGUpO1xuICAgICAgICAgICAgICAgIGlmIChyZXBsYWNlbWVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGVzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGVzW2ldID0gcmVwbGFjZW1lbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghZG9udFVwZGF0ZUxhc3RJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBub2Rlcy5jbGFpbV9pbmZvLmxhc3RfaW5kZXggPSBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBPdGhlcndpc2UsIHdlIHRyeSB0byBmaW5kIG9uZSBiZWZvcmVcbiAgICAgICAgLy8gV2UgaXRlcmF0ZSBpbiByZXZlcnNlIHNvIHRoYXQgd2UgZG9uJ3QgZ28gdG9vIGZhciBiYWNrXG4gICAgICAgIGZvciAobGV0IGkgPSBub2Rlcy5jbGFpbV9pbmZvLmxhc3RfaW5kZXggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzW2ldO1xuICAgICAgICAgICAgaWYgKHByZWRpY2F0ZShub2RlKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlcGxhY2VtZW50ID0gcHJvY2Vzc05vZGUobm9kZSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlcGxhY2VtZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZXMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZXNbaV0gPSByZXBsYWNlbWVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFkb250VXBkYXRlTGFzdEluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGVzLmNsYWltX2luZm8ubGFzdF9pbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlcGxhY2VtZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2luY2Ugd2Ugc3BsaWNlZCBiZWZvcmUgdGhlIGxhc3RfaW5kZXgsIHdlIGRlY3JlYXNlIGl0XG4gICAgICAgICAgICAgICAgICAgIG5vZGVzLmNsYWltX2luZm8ubGFzdF9pbmRleC0tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB3ZSBjYW4ndCBmaW5kIGFueSBtYXRjaGluZyBub2RlLCB3ZSBjcmVhdGUgYSBuZXcgb25lXG4gICAgICAgIHJldHVybiBjcmVhdGVOb2RlKCk7XG4gICAgfSkoKTtcbiAgICByZXN1bHROb2RlLmNsYWltX29yZGVyID0gbm9kZXMuY2xhaW1faW5mby50b3RhbF9jbGFpbWVkO1xuICAgIG5vZGVzLmNsYWltX2luZm8udG90YWxfY2xhaW1lZCArPSAxO1xuICAgIHJldHVybiByZXN1bHROb2RlO1xufVxuZnVuY3Rpb24gY2xhaW1fZWxlbWVudF9iYXNlKG5vZGVzLCBuYW1lLCBhdHRyaWJ1dGVzLCBjcmVhdGVfZWxlbWVudCkge1xuICAgIHJldHVybiBjbGFpbV9ub2RlKG5vZGVzLCAobm9kZSkgPT4gbm9kZS5ub2RlTmFtZSA9PT0gbmFtZSwgKG5vZGUpID0+IHtcbiAgICAgICAgY29uc3QgcmVtb3ZlID0gW107XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbm9kZS5hdHRyaWJ1dGVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGUgPSBub2RlLmF0dHJpYnV0ZXNbal07XG4gICAgICAgICAgICBpZiAoIWF0dHJpYnV0ZXNbYXR0cmlidXRlLm5hbWVdKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlLnB1c2goYXR0cmlidXRlLm5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJlbW92ZS5mb3JFYWNoKHYgPT4gbm9kZS5yZW1vdmVBdHRyaWJ1dGUodikpO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0sICgpID0+IGNyZWF0ZV9lbGVtZW50KG5hbWUpKTtcbn1cbmZ1bmN0aW9uIGNsYWltX2VsZW1lbnQobm9kZXMsIG5hbWUsIGF0dHJpYnV0ZXMpIHtcbiAgICByZXR1cm4gY2xhaW1fZWxlbWVudF9iYXNlKG5vZGVzLCBuYW1lLCBhdHRyaWJ1dGVzLCBlbGVtZW50KTtcbn1cbmZ1bmN0aW9uIGNsYWltX3N2Z19lbGVtZW50KG5vZGVzLCBuYW1lLCBhdHRyaWJ1dGVzKSB7XG4gICAgcmV0dXJuIGNsYWltX2VsZW1lbnRfYmFzZShub2RlcywgbmFtZSwgYXR0cmlidXRlcywgc3ZnX2VsZW1lbnQpO1xufVxuZnVuY3Rpb24gY2xhaW1fdGV4dChub2RlcywgZGF0YSkge1xuICAgIHJldHVybiBjbGFpbV9ub2RlKG5vZGVzLCAobm9kZSkgPT4gbm9kZS5ub2RlVHlwZSA9PT0gMywgKG5vZGUpID0+IHtcbiAgICAgICAgY29uc3QgZGF0YVN0ciA9ICcnICsgZGF0YTtcbiAgICAgICAgaWYgKG5vZGUuZGF0YS5zdGFydHNXaXRoKGRhdGFTdHIpKSB7XG4gICAgICAgICAgICBpZiAobm9kZS5kYXRhLmxlbmd0aCAhPT0gZGF0YVN0ci5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZS5zcGxpdFRleHQoZGF0YVN0ci5sZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbm9kZS5kYXRhID0gZGF0YVN0cjtcbiAgICAgICAgfVxuICAgIH0sICgpID0+IHRleHQoZGF0YSksIHRydWUgLy8gVGV4dCBub2RlcyBzaG91bGQgbm90IHVwZGF0ZSBsYXN0IGluZGV4IHNpbmNlIGl0IGlzIGxpa2VseSBub3Qgd29ydGggaXQgdG8gZWxpbWluYXRlIGFuIGluY3JlYXNpbmcgc3Vic2VxdWVuY2Ugb2YgYWN0dWFsIGVsZW1lbnRzXG4gICAgKTtcbn1cbmZ1bmN0aW9uIGNsYWltX3NwYWNlKG5vZGVzKSB7XG4gICAgcmV0dXJuIGNsYWltX3RleHQobm9kZXMsICcgJyk7XG59XG5mdW5jdGlvbiBmaW5kX2NvbW1lbnQobm9kZXMsIHRleHQsIHN0YXJ0KSB7XG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgbm9kZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzW2ldO1xuICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gOCAvKiBjb21tZW50IG5vZGUgKi8gJiYgbm9kZS50ZXh0Q29udGVudC50cmltKCkgPT09IHRleHQpIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBub2Rlcy5sZW5ndGg7XG59XG5mdW5jdGlvbiBjbGFpbV9odG1sX3RhZyhub2RlcywgaXNfc3ZnKSB7XG4gICAgLy8gZmluZCBodG1sIG9wZW5pbmcgdGFnXG4gICAgY29uc3Qgc3RhcnRfaW5kZXggPSBmaW5kX2NvbW1lbnQobm9kZXMsICdIVE1MX1RBR19TVEFSVCcsIDApO1xuICAgIGNvbnN0IGVuZF9pbmRleCA9IGZpbmRfY29tbWVudChub2RlcywgJ0hUTUxfVEFHX0VORCcsIHN0YXJ0X2luZGV4KTtcbiAgICBpZiAoc3RhcnRfaW5kZXggPT09IGVuZF9pbmRleCkge1xuICAgICAgICByZXR1cm4gbmV3IEh0bWxUYWdIeWRyYXRpb24odW5kZWZpbmVkLCBpc19zdmcpO1xuICAgIH1cbiAgICBpbml0X2NsYWltX2luZm8obm9kZXMpO1xuICAgIGNvbnN0IGh0bWxfdGFnX25vZGVzID0gbm9kZXMuc3BsaWNlKHN0YXJ0X2luZGV4LCBlbmRfaW5kZXggLSBzdGFydF9pbmRleCArIDEpO1xuICAgIGRldGFjaChodG1sX3RhZ19ub2Rlc1swXSk7XG4gICAgZGV0YWNoKGh0bWxfdGFnX25vZGVzW2h0bWxfdGFnX25vZGVzLmxlbmd0aCAtIDFdKTtcbiAgICBjb25zdCBjbGFpbWVkX25vZGVzID0gaHRtbF90YWdfbm9kZXMuc2xpY2UoMSwgaHRtbF90YWdfbm9kZXMubGVuZ3RoIC0gMSk7XG4gICAgZm9yIChjb25zdCBuIG9mIGNsYWltZWRfbm9kZXMpIHtcbiAgICAgICAgbi5jbGFpbV9vcmRlciA9IG5vZGVzLmNsYWltX2luZm8udG90YWxfY2xhaW1lZDtcbiAgICAgICAgbm9kZXMuY2xhaW1faW5mby50b3RhbF9jbGFpbWVkICs9IDE7XG4gICAgfVxuICAgIHJldHVybiBuZXcgSHRtbFRhZ0h5ZHJhdGlvbihjbGFpbWVkX25vZGVzLCBpc19zdmcpO1xufVxuZnVuY3Rpb24gc2V0X2RhdGEodGV4dCwgZGF0YSkge1xuICAgIGRhdGEgPSAnJyArIGRhdGE7XG4gICAgaWYgKHRleHQud2hvbGVUZXh0ICE9PSBkYXRhKVxuICAgICAgICB0ZXh0LmRhdGEgPSBkYXRhO1xufVxuZnVuY3Rpb24gc2V0X2lucHV0X3ZhbHVlKGlucHV0LCB2YWx1ZSkge1xuICAgIGlucHV0LnZhbHVlID0gdmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWU7XG59XG5mdW5jdGlvbiBzZXRfaW5wdXRfdHlwZShpbnB1dCwgdHlwZSkge1xuICAgIHRyeSB7XG4gICAgICAgIGlucHV0LnR5cGUgPSB0eXBlO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICAvLyBkbyBub3RoaW5nXG4gICAgfVxufVxuZnVuY3Rpb24gc2V0X3N0eWxlKG5vZGUsIGtleSwgdmFsdWUsIGltcG9ydGFudCkge1xuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICBub2RlLnN0eWxlLnJlbW92ZVByb3BlcnR5KGtleSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBub2RlLnN0eWxlLnNldFByb3BlcnR5KGtleSwgdmFsdWUsIGltcG9ydGFudCA/ICdpbXBvcnRhbnQnIDogJycpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNlbGVjdF9vcHRpb24oc2VsZWN0LCB2YWx1ZSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZWN0Lm9wdGlvbnMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gc2VsZWN0Lm9wdGlvbnNbaV07XG4gICAgICAgIGlmIChvcHRpb24uX192YWx1ZSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2VsZWN0LnNlbGVjdGVkSW5kZXggPSAtMTsgLy8gbm8gb3B0aW9uIHNob3VsZCBiZSBzZWxlY3RlZFxufVxuZnVuY3Rpb24gc2VsZWN0X29wdGlvbnMoc2VsZWN0LCB2YWx1ZSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZWN0Lm9wdGlvbnMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gc2VsZWN0Lm9wdGlvbnNbaV07XG4gICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IH52YWx1ZS5pbmRleE9mKG9wdGlvbi5fX3ZhbHVlKTtcbiAgICB9XG59XG5mdW5jdGlvbiBzZWxlY3RfdmFsdWUoc2VsZWN0KSB7XG4gICAgY29uc3Qgc2VsZWN0ZWRfb3B0aW9uID0gc2VsZWN0LnF1ZXJ5U2VsZWN0b3IoJzpjaGVja2VkJykgfHwgc2VsZWN0Lm9wdGlvbnNbMF07XG4gICAgcmV0dXJuIHNlbGVjdGVkX29wdGlvbiAmJiBzZWxlY3RlZF9vcHRpb24uX192YWx1ZTtcbn1cbmZ1bmN0aW9uIHNlbGVjdF9tdWx0aXBsZV92YWx1ZShzZWxlY3QpIHtcbiAgICByZXR1cm4gW10ubWFwLmNhbGwoc2VsZWN0LnF1ZXJ5U2VsZWN0b3JBbGwoJzpjaGVja2VkJyksIG9wdGlvbiA9PiBvcHRpb24uX192YWx1ZSk7XG59XG4vLyB1bmZvcnR1bmF0ZWx5IHRoaXMgY2FuJ3QgYmUgYSBjb25zdGFudCBhcyB0aGF0IHdvdWxkbid0IGJlIHRyZWUtc2hha2VhYmxlXG4vLyBzbyB3ZSBjYWNoZSB0aGUgcmVzdWx0IGluc3RlYWRcbmxldCBjcm9zc29yaWdpbjtcbmZ1bmN0aW9uIGlzX2Nyb3Nzb3JpZ2luKCkge1xuICAgIGlmIChjcm9zc29yaWdpbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNyb3Nzb3JpZ2luID0gZmFsc2U7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnBhcmVudCkge1xuICAgICAgICAgICAgICAgIHZvaWQgd2luZG93LnBhcmVudC5kb2N1bWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNyb3Nzb3JpZ2luID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY3Jvc3NvcmlnaW47XG59XG5mdW5jdGlvbiBhZGRfcmVzaXplX2xpc3RlbmVyKG5vZGUsIGZuKSB7XG4gICAgY29uc3QgY29tcHV0ZWRfc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKG5vZGUpO1xuICAgIGlmIChjb21wdXRlZF9zdHlsZS5wb3NpdGlvbiA9PT0gJ3N0YXRpYycpIHtcbiAgICAgICAgbm9kZS5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gICAgfVxuICAgIGNvbnN0IGlmcmFtZSA9IGVsZW1lbnQoJ2lmcmFtZScpO1xuICAgIGlmcmFtZS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ2Rpc3BsYXk6IGJsb2NrOyBwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMDsgbGVmdDogMDsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgJyArXG4gICAgICAgICdvdmVyZmxvdzogaGlkZGVuOyBib3JkZXI6IDA7IG9wYWNpdHk6IDA7IHBvaW50ZXItZXZlbnRzOiBub25lOyB6LWluZGV4OiAtMTsnKTtcbiAgICBpZnJhbWUuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgaWZyYW1lLnRhYkluZGV4ID0gLTE7XG4gICAgY29uc3QgY3Jvc3NvcmlnaW4gPSBpc19jcm9zc29yaWdpbigpO1xuICAgIGxldCB1bnN1YnNjcmliZTtcbiAgICBpZiAoY3Jvc3NvcmlnaW4pIHtcbiAgICAgICAgaWZyYW1lLnNyYyA9IFwiZGF0YTp0ZXh0L2h0bWwsPHNjcmlwdD5vbnJlc2l6ZT1mdW5jdGlvbigpe3BhcmVudC5wb3N0TWVzc2FnZSgwLCcqJyl9PC9zY3JpcHQ+XCI7XG4gICAgICAgIHVuc3Vic2NyaWJlID0gbGlzdGVuKHdpbmRvdywgJ21lc3NhZ2UnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmIChldmVudC5zb3VyY2UgPT09IGlmcmFtZS5jb250ZW50V2luZG93KVxuICAgICAgICAgICAgICAgIGZuKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWZyYW1lLnNyYyA9ICdhYm91dDpibGFuayc7XG4gICAgICAgIGlmcmFtZS5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICB1bnN1YnNjcmliZSA9IGxpc3RlbihpZnJhbWUuY29udGVudFdpbmRvdywgJ3Jlc2l6ZScsIGZuKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgYXBwZW5kKG5vZGUsIGlmcmFtZSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgaWYgKGNyb3Nzb3JpZ2luKSB7XG4gICAgICAgICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHVuc3Vic2NyaWJlICYmIGlmcmFtZS5jb250ZW50V2luZG93KSB7XG4gICAgICAgICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgICB9XG4gICAgICAgIGRldGFjaChpZnJhbWUpO1xuICAgIH07XG59XG5mdW5jdGlvbiB0b2dnbGVfY2xhc3MoZWxlbWVudCwgbmFtZSwgdG9nZ2xlKSB7XG4gICAgZWxlbWVudC5jbGFzc0xpc3RbdG9nZ2xlID8gJ2FkZCcgOiAncmVtb3ZlJ10obmFtZSk7XG59XG5mdW5jdGlvbiBjdXN0b21fZXZlbnQodHlwZSwgZGV0YWlsLCB7IGJ1YmJsZXMgPSBmYWxzZSwgY2FuY2VsYWJsZSA9IGZhbHNlIH0gPSB7fSkge1xuICAgIGNvbnN0IGUgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnQ3VzdG9tRXZlbnQnKTtcbiAgICBlLmluaXRDdXN0b21FdmVudCh0eXBlLCBidWJibGVzLCBjYW5jZWxhYmxlLCBkZXRhaWwpO1xuICAgIHJldHVybiBlO1xufVxuZnVuY3Rpb24gcXVlcnlfc2VsZWN0b3JfYWxsKHNlbGVjdG9yLCBwYXJlbnQgPSBkb2N1bWVudC5ib2R5KSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20ocGFyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpKTtcbn1cbmZ1bmN0aW9uIGhlYWRfc2VsZWN0b3Iobm9kZUlkLCBoZWFkKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgbGV0IHN0YXJ0ZWQgPSAwO1xuICAgIGZvciAoY29uc3Qgbm9kZSBvZiBoZWFkLmNoaWxkTm9kZXMpIHtcbiAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IDggLyogY29tbWVudCBub2RlICovKSB7XG4gICAgICAgICAgICBjb25zdCBjb21tZW50ID0gbm9kZS50ZXh0Q29udGVudC50cmltKCk7XG4gICAgICAgICAgICBpZiAoY29tbWVudCA9PT0gYEhFQURfJHtub2RlSWR9X0VORGApIHtcbiAgICAgICAgICAgICAgICBzdGFydGVkIC09IDE7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjb21tZW50ID09PSBgSEVBRF8ke25vZGVJZH1fU1RBUlRgKSB7XG4gICAgICAgICAgICAgICAgc3RhcnRlZCArPSAxO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHN0YXJ0ZWQgPiAwKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChub2RlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuY2xhc3MgSHRtbFRhZyB7XG4gICAgY29uc3RydWN0b3IoaXNfc3ZnID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5pc19zdmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pc19zdmcgPSBpc19zdmc7XG4gICAgICAgIHRoaXMuZSA9IHRoaXMubiA9IG51bGw7XG4gICAgfVxuICAgIGMoaHRtbCkge1xuICAgICAgICB0aGlzLmgoaHRtbCk7XG4gICAgfVxuICAgIG0oaHRtbCwgdGFyZ2V0LCBhbmNob3IgPSBudWxsKSB7XG4gICAgICAgIGlmICghdGhpcy5lKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc19zdmcpXG4gICAgICAgICAgICAgICAgdGhpcy5lID0gc3ZnX2VsZW1lbnQodGFyZ2V0Lm5vZGVOYW1lKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aGlzLmUgPSBlbGVtZW50KHRhcmdldC5ub2RlTmFtZSk7XG4gICAgICAgICAgICB0aGlzLnQgPSB0YXJnZXQ7XG4gICAgICAgICAgICB0aGlzLmMoaHRtbCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pKGFuY2hvcik7XG4gICAgfVxuICAgIGgoaHRtbCkge1xuICAgICAgICB0aGlzLmUuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgICAgdGhpcy5uID0gQXJyYXkuZnJvbSh0aGlzLmUuY2hpbGROb2Rlcyk7XG4gICAgfVxuICAgIGkoYW5jaG9yKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5uLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBpbnNlcnQodGhpcy50LCB0aGlzLm5baV0sIGFuY2hvcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcChodG1sKSB7XG4gICAgICAgIHRoaXMuZCgpO1xuICAgICAgICB0aGlzLmgoaHRtbCk7XG4gICAgICAgIHRoaXMuaSh0aGlzLmEpO1xuICAgIH1cbiAgICBkKCkge1xuICAgICAgICB0aGlzLm4uZm9yRWFjaChkZXRhY2gpO1xuICAgIH1cbn1cbmNsYXNzIEh0bWxUYWdIeWRyYXRpb24gZXh0ZW5kcyBIdG1sVGFnIHtcbiAgICBjb25zdHJ1Y3RvcihjbGFpbWVkX25vZGVzLCBpc19zdmcgPSBmYWxzZSkge1xuICAgICAgICBzdXBlcihpc19zdmcpO1xuICAgICAgICB0aGlzLmUgPSB0aGlzLm4gPSBudWxsO1xuICAgICAgICB0aGlzLmwgPSBjbGFpbWVkX25vZGVzO1xuICAgIH1cbiAgICBjKGh0bWwpIHtcbiAgICAgICAgaWYgKHRoaXMubCkge1xuICAgICAgICAgICAgdGhpcy5uID0gdGhpcy5sO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3VwZXIuYyhodG1sKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpKGFuY2hvcikge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubi5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgaW5zZXJ0X2h5ZHJhdGlvbih0aGlzLnQsIHRoaXMubltpXSwgYW5jaG9yKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGF0dHJpYnV0ZV90b19vYmplY3QoYXR0cmlidXRlcykge1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIGZvciAoY29uc3QgYXR0cmlidXRlIG9mIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgcmVzdWx0W2F0dHJpYnV0ZS5uYW1lXSA9IGF0dHJpYnV0ZS52YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGdldF9jdXN0b21fZWxlbWVudHNfc2xvdHMoZWxlbWVudCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIGVsZW1lbnQuY2hpbGROb2Rlcy5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICAgIHJlc3VsdFtub2RlLnNsb3QgfHwgJ2RlZmF1bHQnXSA9IHRydWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGNvbnN0cnVjdF9zdmVsdGVfY29tcG9uZW50KGNvbXBvbmVudCwgcHJvcHMpIHtcbiAgICByZXR1cm4gbmV3IGNvbXBvbmVudChwcm9wcyk7XG59XG5cbi8vIHdlIG5lZWQgdG8gc3RvcmUgdGhlIGluZm9ybWF0aW9uIGZvciBtdWx0aXBsZSBkb2N1bWVudHMgYmVjYXVzZSBhIFN2ZWx0ZSBhcHBsaWNhdGlvbiBjb3VsZCBhbHNvIGNvbnRhaW4gaWZyYW1lc1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL3N2ZWx0ZWpzL3N2ZWx0ZS9pc3N1ZXMvMzYyNFxuY29uc3QgbWFuYWdlZF9zdHlsZXMgPSBuZXcgTWFwKCk7XG5sZXQgYWN0aXZlID0gMDtcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9kYXJrc2t5YXBwL3N0cmluZy1oYXNoL2Jsb2IvbWFzdGVyL2luZGV4LmpzXG5mdW5jdGlvbiBoYXNoKHN0cikge1xuICAgIGxldCBoYXNoID0gNTM4MTtcbiAgICBsZXQgaSA9IHN0ci5sZW5ndGg7XG4gICAgd2hpbGUgKGktLSlcbiAgICAgICAgaGFzaCA9ICgoaGFzaCA8PCA1KSAtIGhhc2gpIF4gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgcmV0dXJuIGhhc2ggPj4+IDA7XG59XG5mdW5jdGlvbiBjcmVhdGVfc3R5bGVfaW5mb3JtYXRpb24oZG9jLCBub2RlKSB7XG4gICAgY29uc3QgaW5mbyA9IHsgc3R5bGVzaGVldDogYXBwZW5kX2VtcHR5X3N0eWxlc2hlZXQobm9kZSksIHJ1bGVzOiB7fSB9O1xuICAgIG1hbmFnZWRfc3R5bGVzLnNldChkb2MsIGluZm8pO1xuICAgIHJldHVybiBpbmZvO1xufVxuZnVuY3Rpb24gY3JlYXRlX3J1bGUobm9kZSwgYSwgYiwgZHVyYXRpb24sIGRlbGF5LCBlYXNlLCBmbiwgdWlkID0gMCkge1xuICAgIGNvbnN0IHN0ZXAgPSAxNi42NjYgLyBkdXJhdGlvbjtcbiAgICBsZXQga2V5ZnJhbWVzID0gJ3tcXG4nO1xuICAgIGZvciAobGV0IHAgPSAwOyBwIDw9IDE7IHAgKz0gc3RlcCkge1xuICAgICAgICBjb25zdCB0ID0gYSArIChiIC0gYSkgKiBlYXNlKHApO1xuICAgICAgICBrZXlmcmFtZXMgKz0gcCAqIDEwMCArIGAleyR7Zm4odCwgMSAtIHQpfX1cXG5gO1xuICAgIH1cbiAgICBjb25zdCBydWxlID0ga2V5ZnJhbWVzICsgYDEwMCUgeyR7Zm4oYiwgMSAtIGIpfX1cXG59YDtcbiAgICBjb25zdCBuYW1lID0gYF9fc3ZlbHRlXyR7aGFzaChydWxlKX1fJHt1aWR9YDtcbiAgICBjb25zdCBkb2MgPSBnZXRfcm9vdF9mb3Jfc3R5bGUobm9kZSk7XG4gICAgY29uc3QgeyBzdHlsZXNoZWV0LCBydWxlcyB9ID0gbWFuYWdlZF9zdHlsZXMuZ2V0KGRvYykgfHwgY3JlYXRlX3N0eWxlX2luZm9ybWF0aW9uKGRvYywgbm9kZSk7XG4gICAgaWYgKCFydWxlc1tuYW1lXSkge1xuICAgICAgICBydWxlc1tuYW1lXSA9IHRydWU7XG4gICAgICAgIHN0eWxlc2hlZXQuaW5zZXJ0UnVsZShgQGtleWZyYW1lcyAke25hbWV9ICR7cnVsZX1gLCBzdHlsZXNoZWV0LmNzc1J1bGVzLmxlbmd0aCk7XG4gICAgfVxuICAgIGNvbnN0IGFuaW1hdGlvbiA9IG5vZGUuc3R5bGUuYW5pbWF0aW9uIHx8ICcnO1xuICAgIG5vZGUuc3R5bGUuYW5pbWF0aW9uID0gYCR7YW5pbWF0aW9uID8gYCR7YW5pbWF0aW9ufSwgYCA6ICcnfSR7bmFtZX0gJHtkdXJhdGlvbn1tcyBsaW5lYXIgJHtkZWxheX1tcyAxIGJvdGhgO1xuICAgIGFjdGl2ZSArPSAxO1xuICAgIHJldHVybiBuYW1lO1xufVxuZnVuY3Rpb24gZGVsZXRlX3J1bGUobm9kZSwgbmFtZSkge1xuICAgIGNvbnN0IHByZXZpb3VzID0gKG5vZGUuc3R5bGUuYW5pbWF0aW9uIHx8ICcnKS5zcGxpdCgnLCAnKTtcbiAgICBjb25zdCBuZXh0ID0gcHJldmlvdXMuZmlsdGVyKG5hbWVcbiAgICAgICAgPyBhbmltID0+IGFuaW0uaW5kZXhPZihuYW1lKSA8IDAgLy8gcmVtb3ZlIHNwZWNpZmljIGFuaW1hdGlvblxuICAgICAgICA6IGFuaW0gPT4gYW5pbS5pbmRleE9mKCdfX3N2ZWx0ZScpID09PSAtMSAvLyByZW1vdmUgYWxsIFN2ZWx0ZSBhbmltYXRpb25zXG4gICAgKTtcbiAgICBjb25zdCBkZWxldGVkID0gcHJldmlvdXMubGVuZ3RoIC0gbmV4dC5sZW5ndGg7XG4gICAgaWYgKGRlbGV0ZWQpIHtcbiAgICAgICAgbm9kZS5zdHlsZS5hbmltYXRpb24gPSBuZXh0LmpvaW4oJywgJyk7XG4gICAgICAgIGFjdGl2ZSAtPSBkZWxldGVkO1xuICAgICAgICBpZiAoIWFjdGl2ZSlcbiAgICAgICAgICAgIGNsZWFyX3J1bGVzKCk7XG4gICAgfVxufVxuZnVuY3Rpb24gY2xlYXJfcnVsZXMoKSB7XG4gICAgcmFmKCgpID0+IHtcbiAgICAgICAgaWYgKGFjdGl2ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbWFuYWdlZF9zdHlsZXMuZm9yRWFjaChpbmZvID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgb3duZXJOb2RlIH0gPSBpbmZvLnN0eWxlc2hlZXQ7XG4gICAgICAgICAgICAvLyB0aGVyZSBpcyBubyBvd25lck5vZGUgaWYgaXQgcnVucyBvbiBqc2RvbS5cbiAgICAgICAgICAgIGlmIChvd25lck5vZGUpXG4gICAgICAgICAgICAgICAgZGV0YWNoKG93bmVyTm9kZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBtYW5hZ2VkX3N0eWxlcy5jbGVhcigpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVfYW5pbWF0aW9uKG5vZGUsIGZyb20sIGZuLCBwYXJhbXMpIHtcbiAgICBpZiAoIWZyb20pXG4gICAgICAgIHJldHVybiBub29wO1xuICAgIGNvbnN0IHRvID0gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBpZiAoZnJvbS5sZWZ0ID09PSB0by5sZWZ0ICYmIGZyb20ucmlnaHQgPT09IHRvLnJpZ2h0ICYmIGZyb20udG9wID09PSB0by50b3AgJiYgZnJvbS5ib3R0b20gPT09IHRvLmJvdHRvbSlcbiAgICAgICAgcmV0dXJuIG5vb3A7XG4gICAgY29uc3QgeyBkZWxheSA9IDAsIGR1cmF0aW9uID0gMzAwLCBlYXNpbmcgPSBpZGVudGl0eSwgXG4gICAgLy8gQHRzLWlnbm9yZSB0b2RvOiBzaG91bGQgdGhpcyBiZSBzZXBhcmF0ZWQgZnJvbSBkZXN0cnVjdHVyaW5nPyBPciBzdGFydC9lbmQgYWRkZWQgdG8gcHVibGljIGFwaSBhbmQgZG9jdW1lbnRhdGlvbj9cbiAgICBzdGFydDogc3RhcnRfdGltZSA9IG5vdygpICsgZGVsYXksIFxuICAgIC8vIEB0cy1pZ25vcmUgdG9kbzpcbiAgICBlbmQgPSBzdGFydF90aW1lICsgZHVyYXRpb24sIHRpY2sgPSBub29wLCBjc3MgfSA9IGZuKG5vZGUsIHsgZnJvbSwgdG8gfSwgcGFyYW1zKTtcbiAgICBsZXQgcnVubmluZyA9IHRydWU7XG4gICAgbGV0IHN0YXJ0ZWQgPSBmYWxzZTtcbiAgICBsZXQgbmFtZTtcbiAgICBmdW5jdGlvbiBzdGFydCgpIHtcbiAgICAgICAgaWYgKGNzcykge1xuICAgICAgICAgICAgbmFtZSA9IGNyZWF0ZV9ydWxlKG5vZGUsIDAsIDEsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nLCBjc3MpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZGVsYXkpIHtcbiAgICAgICAgICAgIHN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgICAgIGlmIChjc3MpXG4gICAgICAgICAgICBkZWxldGVfcnVsZShub2RlLCBuYW1lKTtcbiAgICAgICAgcnVubmluZyA9IGZhbHNlO1xuICAgIH1cbiAgICBsb29wKG5vdyA9PiB7XG4gICAgICAgIGlmICghc3RhcnRlZCAmJiBub3cgPj0gc3RhcnRfdGltZSkge1xuICAgICAgICAgICAgc3RhcnRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXJ0ZWQgJiYgbm93ID49IGVuZCkge1xuICAgICAgICAgICAgdGljaygxLCAwKTtcbiAgICAgICAgICAgIHN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXJ1bm5pbmcpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhcnRlZCkge1xuICAgICAgICAgICAgY29uc3QgcCA9IG5vdyAtIHN0YXJ0X3RpbWU7XG4gICAgICAgICAgICBjb25zdCB0ID0gMCArIDEgKiBlYXNpbmcocCAvIGR1cmF0aW9uKTtcbiAgICAgICAgICAgIHRpY2sodCwgMSAtIHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pO1xuICAgIHN0YXJ0KCk7XG4gICAgdGljaygwLCAxKTtcbiAgICByZXR1cm4gc3RvcDtcbn1cbmZ1bmN0aW9uIGZpeF9wb3NpdGlvbihub2RlKSB7XG4gICAgY29uc3Qgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKG5vZGUpO1xuICAgIGlmIChzdHlsZS5wb3NpdGlvbiAhPT0gJ2Fic29sdXRlJyAmJiBzdHlsZS5wb3NpdGlvbiAhPT0gJ2ZpeGVkJykge1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHN0eWxlO1xuICAgICAgICBjb25zdCBhID0gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgbm9kZS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIG5vZGUuc3R5bGUud2lkdGggPSB3aWR0aDtcbiAgICAgICAgbm9kZS5zdHlsZS5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIGFkZF90cmFuc2Zvcm0obm9kZSwgYSk7XG4gICAgfVxufVxuZnVuY3Rpb24gYWRkX3RyYW5zZm9ybShub2RlLCBhKSB7XG4gICAgY29uc3QgYiA9IG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgaWYgKGEubGVmdCAhPT0gYi5sZWZ0IHx8IGEudG9wICE9PSBiLnRvcCkge1xuICAgICAgICBjb25zdCBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUobm9kZSk7XG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IHN0eWxlLnRyYW5zZm9ybSA9PT0gJ25vbmUnID8gJycgOiBzdHlsZS50cmFuc2Zvcm07XG4gICAgICAgIG5vZGUuc3R5bGUudHJhbnNmb3JtID0gYCR7dHJhbnNmb3JtfSB0cmFuc2xhdGUoJHthLmxlZnQgLSBiLmxlZnR9cHgsICR7YS50b3AgLSBiLnRvcH1weClgO1xuICAgIH1cbn1cblxubGV0IGN1cnJlbnRfY29tcG9uZW50O1xuZnVuY3Rpb24gc2V0X2N1cnJlbnRfY29tcG9uZW50KGNvbXBvbmVudCkge1xuICAgIGN1cnJlbnRfY29tcG9uZW50ID0gY29tcG9uZW50O1xufVxuZnVuY3Rpb24gZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkge1xuICAgIGlmICghY3VycmVudF9jb21wb25lbnQpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRnVuY3Rpb24gY2FsbGVkIG91dHNpZGUgY29tcG9uZW50IGluaXRpYWxpemF0aW9uJyk7XG4gICAgcmV0dXJuIGN1cnJlbnRfY29tcG9uZW50O1xufVxuLyoqXG4gKiBTY2hlZHVsZXMgYSBjYWxsYmFjayB0byBydW4gaW1tZWRpYXRlbHkgYmVmb3JlIHRoZSBjb21wb25lbnQgaXMgdXBkYXRlZCBhZnRlciBhbnkgc3RhdGUgY2hhbmdlLlxuICpcbiAqIFRoZSBmaXJzdCB0aW1lIHRoZSBjYWxsYmFjayBydW5zIHdpbGwgYmUgYmVmb3JlIHRoZSBpbml0aWFsIGBvbk1vdW50YFxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzI3J1bi10aW1lLXN2ZWx0ZS1iZWZvcmV1cGRhdGVcbiAqL1xuZnVuY3Rpb24gYmVmb3JlVXBkYXRlKGZuKSB7XG4gICAgZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQuYmVmb3JlX3VwZGF0ZS5wdXNoKGZuKTtcbn1cbi8qKlxuICogVGhlIGBvbk1vdW50YCBmdW5jdGlvbiBzY2hlZHVsZXMgYSBjYWxsYmFjayB0byBydW4gYXMgc29vbiBhcyB0aGUgY29tcG9uZW50IGhhcyBiZWVuIG1vdW50ZWQgdG8gdGhlIERPTS5cbiAqIEl0IG11c3QgYmUgY2FsbGVkIGR1cmluZyB0aGUgY29tcG9uZW50J3MgaW5pdGlhbGlzYXRpb24gKGJ1dCBkb2Vzbid0IG5lZWQgdG8gbGl2ZSAqaW5zaWRlKiB0aGUgY29tcG9uZW50O1xuICogaXQgY2FuIGJlIGNhbGxlZCBmcm9tIGFuIGV4dGVybmFsIG1vZHVsZSkuXG4gKlxuICogYG9uTW91bnRgIGRvZXMgbm90IHJ1biBpbnNpZGUgYSBbc2VydmVyLXNpZGUgY29tcG9uZW50XSgvZG9jcyNydW4tdGltZS1zZXJ2ZXItc2lkZS1jb21wb25lbnQtYXBpKS5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcyNydW4tdGltZS1zdmVsdGUtb25tb3VudFxuICovXG5mdW5jdGlvbiBvbk1vdW50KGZuKSB7XG4gICAgZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQub25fbW91bnQucHVzaChmbik7XG59XG4vKipcbiAqIFNjaGVkdWxlcyBhIGNhbGxiYWNrIHRvIHJ1biBpbW1lZGlhdGVseSBhZnRlciB0aGUgY29tcG9uZW50IGhhcyBiZWVuIHVwZGF0ZWQuXG4gKlxuICogVGhlIGZpcnN0IHRpbWUgdGhlIGNhbGxiYWNrIHJ1bnMgd2lsbCBiZSBhZnRlciB0aGUgaW5pdGlhbCBgb25Nb3VudGBcbiAqL1xuZnVuY3Rpb24gYWZ0ZXJVcGRhdGUoZm4pIHtcbiAgICBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5hZnRlcl91cGRhdGUucHVzaChmbik7XG59XG4vKipcbiAqIFNjaGVkdWxlcyBhIGNhbGxiYWNrIHRvIHJ1biBpbW1lZGlhdGVseSBiZWZvcmUgdGhlIGNvbXBvbmVudCBpcyB1bm1vdW50ZWQuXG4gKlxuICogT3V0IG9mIGBvbk1vdW50YCwgYGJlZm9yZVVwZGF0ZWAsIGBhZnRlclVwZGF0ZWAgYW5kIGBvbkRlc3Ryb3lgLCB0aGlzIGlzIHRoZVxuICogb25seSBvbmUgdGhhdCBydW5zIGluc2lkZSBhIHNlcnZlci1zaWRlIGNvbXBvbmVudC5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcyNydW4tdGltZS1zdmVsdGUtb25kZXN0cm95XG4gKi9cbmZ1bmN0aW9uIG9uRGVzdHJveShmbikge1xuICAgIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLm9uX2Rlc3Ryb3kucHVzaChmbik7XG59XG4vKipcbiAqIENyZWF0ZXMgYW4gZXZlbnQgZGlzcGF0Y2hlciB0aGF0IGNhbiBiZSB1c2VkIHRvIGRpc3BhdGNoIFtjb21wb25lbnQgZXZlbnRzXSgvZG9jcyN0ZW1wbGF0ZS1zeW50YXgtY29tcG9uZW50LWRpcmVjdGl2ZXMtb24tZXZlbnRuYW1lKS5cbiAqIEV2ZW50IGRpc3BhdGNoZXJzIGFyZSBmdW5jdGlvbnMgdGhhdCBjYW4gdGFrZSB0d28gYXJndW1lbnRzOiBgbmFtZWAgYW5kIGBkZXRhaWxgLlxuICpcbiAqIENvbXBvbmVudCBldmVudHMgY3JlYXRlZCB3aXRoIGBjcmVhdGVFdmVudERpc3BhdGNoZXJgIGNyZWF0ZSBhXG4gKiBbQ3VzdG9tRXZlbnRdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DdXN0b21FdmVudCkuXG4gKiBUaGVzZSBldmVudHMgZG8gbm90IFtidWJibGVdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvTGVhcm4vSmF2YVNjcmlwdC9CdWlsZGluZ19ibG9ja3MvRXZlbnRzI0V2ZW50X2J1YmJsaW5nX2FuZF9jYXB0dXJlKS5cbiAqIFRoZSBgZGV0YWlsYCBhcmd1bWVudCBjb3JyZXNwb25kcyB0byB0aGUgW0N1c3RvbUV2ZW50LmRldGFpbF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0N1c3RvbUV2ZW50L2RldGFpbClcbiAqIHByb3BlcnR5IGFuZCBjYW4gY29udGFpbiBhbnkgdHlwZSBvZiBkYXRhLlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzI3J1bi10aW1lLXN2ZWx0ZS1jcmVhdGVldmVudGRpc3BhdGNoZXJcbiAqL1xuZnVuY3Rpb24gY3JlYXRlRXZlbnREaXNwYXRjaGVyKCkge1xuICAgIGNvbnN0IGNvbXBvbmVudCA9IGdldF9jdXJyZW50X2NvbXBvbmVudCgpO1xuICAgIHJldHVybiAodHlwZSwgZGV0YWlsLCB7IGNhbmNlbGFibGUgPSBmYWxzZSB9ID0ge30pID0+IHtcbiAgICAgICAgY29uc3QgY2FsbGJhY2tzID0gY29tcG9uZW50LiQkLmNhbGxiYWNrc1t0eXBlXTtcbiAgICAgICAgaWYgKGNhbGxiYWNrcykge1xuICAgICAgICAgICAgLy8gVE9ETyBhcmUgdGhlcmUgc2l0dWF0aW9ucyB3aGVyZSBldmVudHMgY291bGQgYmUgZGlzcGF0Y2hlZFxuICAgICAgICAgICAgLy8gaW4gYSBzZXJ2ZXIgKG5vbi1ET00pIGVudmlyb25tZW50P1xuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSBjdXN0b21fZXZlbnQodHlwZSwgZGV0YWlsLCB7IGNhbmNlbGFibGUgfSk7XG4gICAgICAgICAgICBjYWxsYmFja3Muc2xpY2UoKS5mb3JFYWNoKGZuID0+IHtcbiAgICAgICAgICAgICAgICBmbi5jYWxsKGNvbXBvbmVudCwgZXZlbnQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gIWV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbn1cbi8qKlxuICogQXNzb2NpYXRlcyBhbiBhcmJpdHJhcnkgYGNvbnRleHRgIG9iamVjdCB3aXRoIHRoZSBjdXJyZW50IGNvbXBvbmVudCBhbmQgdGhlIHNwZWNpZmllZCBga2V5YFxuICogYW5kIHJldHVybnMgdGhhdCBvYmplY3QuIFRoZSBjb250ZXh0IGlzIHRoZW4gYXZhaWxhYmxlIHRvIGNoaWxkcmVuIG9mIHRoZSBjb21wb25lbnRcbiAqIChpbmNsdWRpbmcgc2xvdHRlZCBjb250ZW50KSB3aXRoIGBnZXRDb250ZXh0YC5cbiAqXG4gKiBMaWtlIGxpZmVjeWNsZSBmdW5jdGlvbnMsIHRoaXMgbXVzdCBiZSBjYWxsZWQgZHVyaW5nIGNvbXBvbmVudCBpbml0aWFsaXNhdGlvbi5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcyNydW4tdGltZS1zdmVsdGUtc2V0Y29udGV4dFxuICovXG5mdW5jdGlvbiBzZXRDb250ZXh0KGtleSwgY29udGV4dCkge1xuICAgIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmNvbnRleHQuc2V0KGtleSwgY29udGV4dCk7XG4gICAgcmV0dXJuIGNvbnRleHQ7XG59XG4vKipcbiAqIFJldHJpZXZlcyB0aGUgY29udGV4dCB0aGF0IGJlbG9uZ3MgdG8gdGhlIGNsb3Nlc3QgcGFyZW50IGNvbXBvbmVudCB3aXRoIHRoZSBzcGVjaWZpZWQgYGtleWAuXG4gKiBNdXN0IGJlIGNhbGxlZCBkdXJpbmcgY29tcG9uZW50IGluaXRpYWxpc2F0aW9uLlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzI3J1bi10aW1lLXN2ZWx0ZS1nZXRjb250ZXh0XG4gKi9cbmZ1bmN0aW9uIGdldENvbnRleHQoa2V5KSB7XG4gICAgcmV0dXJuIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmNvbnRleHQuZ2V0KGtleSk7XG59XG4vKipcbiAqIFJldHJpZXZlcyB0aGUgd2hvbGUgY29udGV4dCBtYXAgdGhhdCBiZWxvbmdzIHRvIHRoZSBjbG9zZXN0IHBhcmVudCBjb21wb25lbnQuXG4gKiBNdXN0IGJlIGNhbGxlZCBkdXJpbmcgY29tcG9uZW50IGluaXRpYWxpc2F0aW9uLiBVc2VmdWwsIGZvciBleGFtcGxlLCBpZiB5b3VcbiAqIHByb2dyYW1tYXRpY2FsbHkgY3JlYXRlIGEgY29tcG9uZW50IGFuZCB3YW50IHRvIHBhc3MgdGhlIGV4aXN0aW5nIGNvbnRleHQgdG8gaXQuXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3MjcnVuLXRpbWUtc3ZlbHRlLWdldGFsbGNvbnRleHRzXG4gKi9cbmZ1bmN0aW9uIGdldEFsbENvbnRleHRzKCkge1xuICAgIHJldHVybiBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5jb250ZXh0O1xufVxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciBhIGdpdmVuIGBrZXlgIGhhcyBiZWVuIHNldCBpbiB0aGUgY29udGV4dCBvZiBhIHBhcmVudCBjb21wb25lbnQuXG4gKiBNdXN0IGJlIGNhbGxlZCBkdXJpbmcgY29tcG9uZW50IGluaXRpYWxpc2F0aW9uLlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzI3J1bi10aW1lLXN2ZWx0ZS1oYXNjb250ZXh0XG4gKi9cbmZ1bmN0aW9uIGhhc0NvbnRleHQoa2V5KSB7XG4gICAgcmV0dXJuIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmNvbnRleHQuaGFzKGtleSk7XG59XG4vLyBUT0RPIGZpZ3VyZSBvdXQgaWYgd2Ugc3RpbGwgd2FudCB0byBzdXBwb3J0XG4vLyBzaG9ydGhhbmQgZXZlbnRzLCBvciBpZiB3ZSB3YW50IHRvIGltcGxlbWVudFxuLy8gYSByZWFsIGJ1YmJsaW5nIG1lY2hhbmlzbVxuZnVuY3Rpb24gYnViYmxlKGNvbXBvbmVudCwgZXZlbnQpIHtcbiAgICBjb25zdCBjYWxsYmFja3MgPSBjb21wb25lbnQuJCQuY2FsbGJhY2tzW2V2ZW50LnR5cGVdO1xuICAgIGlmIChjYWxsYmFja3MpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBjYWxsYmFja3Muc2xpY2UoKS5mb3JFYWNoKGZuID0+IGZuLmNhbGwodGhpcywgZXZlbnQpKTtcbiAgICB9XG59XG5cbmNvbnN0IGRpcnR5X2NvbXBvbmVudHMgPSBbXTtcbmNvbnN0IGludHJvcyA9IHsgZW5hYmxlZDogZmFsc2UgfTtcbmNvbnN0IGJpbmRpbmdfY2FsbGJhY2tzID0gW107XG5jb25zdCByZW5kZXJfY2FsbGJhY2tzID0gW107XG5jb25zdCBmbHVzaF9jYWxsYmFja3MgPSBbXTtcbmNvbnN0IHJlc29sdmVkX3Byb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcbmxldCB1cGRhdGVfc2NoZWR1bGVkID0gZmFsc2U7XG5mdW5jdGlvbiBzY2hlZHVsZV91cGRhdGUoKSB7XG4gICAgaWYgKCF1cGRhdGVfc2NoZWR1bGVkKSB7XG4gICAgICAgIHVwZGF0ZV9zY2hlZHVsZWQgPSB0cnVlO1xuICAgICAgICByZXNvbHZlZF9wcm9taXNlLnRoZW4oZmx1c2gpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHRpY2soKSB7XG4gICAgc2NoZWR1bGVfdXBkYXRlKCk7XG4gICAgcmV0dXJuIHJlc29sdmVkX3Byb21pc2U7XG59XG5mdW5jdGlvbiBhZGRfcmVuZGVyX2NhbGxiYWNrKGZuKSB7XG4gICAgcmVuZGVyX2NhbGxiYWNrcy5wdXNoKGZuKTtcbn1cbmZ1bmN0aW9uIGFkZF9mbHVzaF9jYWxsYmFjayhmbikge1xuICAgIGZsdXNoX2NhbGxiYWNrcy5wdXNoKGZuKTtcbn1cbi8vIGZsdXNoKCkgY2FsbHMgY2FsbGJhY2tzIGluIHRoaXMgb3JkZXI6XG4vLyAxLiBBbGwgYmVmb3JlVXBkYXRlIGNhbGxiYWNrcywgaW4gb3JkZXI6IHBhcmVudHMgYmVmb3JlIGNoaWxkcmVuXG4vLyAyLiBBbGwgYmluZDp0aGlzIGNhbGxiYWNrcywgaW4gcmV2ZXJzZSBvcmRlcjogY2hpbGRyZW4gYmVmb3JlIHBhcmVudHMuXG4vLyAzLiBBbGwgYWZ0ZXJVcGRhdGUgY2FsbGJhY2tzLCBpbiBvcmRlcjogcGFyZW50cyBiZWZvcmUgY2hpbGRyZW4uIEVYQ0VQVFxuLy8gICAgZm9yIGFmdGVyVXBkYXRlcyBjYWxsZWQgZHVyaW5nIHRoZSBpbml0aWFsIG9uTW91bnQsIHdoaWNoIGFyZSBjYWxsZWQgaW5cbi8vICAgIHJldmVyc2Ugb3JkZXI6IGNoaWxkcmVuIGJlZm9yZSBwYXJlbnRzLlxuLy8gU2luY2UgY2FsbGJhY2tzIG1pZ2h0IHVwZGF0ZSBjb21wb25lbnQgdmFsdWVzLCB3aGljaCBjb3VsZCB0cmlnZ2VyIGFub3RoZXJcbi8vIGNhbGwgdG8gZmx1c2goKSwgdGhlIGZvbGxvd2luZyBzdGVwcyBndWFyZCBhZ2FpbnN0IHRoaXM6XG4vLyAxLiBEdXJpbmcgYmVmb3JlVXBkYXRlLCBhbnkgdXBkYXRlZCBjb21wb25lbnRzIHdpbGwgYmUgYWRkZWQgdG8gdGhlXG4vLyAgICBkaXJ0eV9jb21wb25lbnRzIGFycmF5IGFuZCB3aWxsIGNhdXNlIGEgcmVlbnRyYW50IGNhbGwgdG8gZmx1c2goKS4gQmVjYXVzZVxuLy8gICAgdGhlIGZsdXNoIGluZGV4IGlzIGtlcHQgb3V0c2lkZSB0aGUgZnVuY3Rpb24sIHRoZSByZWVudHJhbnQgY2FsbCB3aWxsIHBpY2tcbi8vICAgIHVwIHdoZXJlIHRoZSBlYXJsaWVyIGNhbGwgbGVmdCBvZmYgYW5kIGdvIHRocm91Z2ggYWxsIGRpcnR5IGNvbXBvbmVudHMuIFRoZVxuLy8gICAgY3VycmVudF9jb21wb25lbnQgdmFsdWUgaXMgc2F2ZWQgYW5kIHJlc3RvcmVkIHNvIHRoYXQgdGhlIHJlZW50cmFudCBjYWxsIHdpbGxcbi8vICAgIG5vdCBpbnRlcmZlcmUgd2l0aCB0aGUgXCJwYXJlbnRcIiBmbHVzaCgpIGNhbGwuXG4vLyAyLiBiaW5kOnRoaXMgY2FsbGJhY2tzIGNhbm5vdCB0cmlnZ2VyIG5ldyBmbHVzaCgpIGNhbGxzLlxuLy8gMy4gRHVyaW5nIGFmdGVyVXBkYXRlLCBhbnkgdXBkYXRlZCBjb21wb25lbnRzIHdpbGwgTk9UIGhhdmUgdGhlaXIgYWZ0ZXJVcGRhdGVcbi8vICAgIGNhbGxiYWNrIGNhbGxlZCBhIHNlY29uZCB0aW1lOyB0aGUgc2Vlbl9jYWxsYmFja3Mgc2V0LCBvdXRzaWRlIHRoZSBmbHVzaCgpXG4vLyAgICBmdW5jdGlvbiwgZ3VhcmFudGVlcyB0aGlzIGJlaGF2aW9yLlxuY29uc3Qgc2Vlbl9jYWxsYmFja3MgPSBuZXcgU2V0KCk7XG5sZXQgZmx1c2hpZHggPSAwOyAvLyBEbyAqbm90KiBtb3ZlIHRoaXMgaW5zaWRlIHRoZSBmbHVzaCgpIGZ1bmN0aW9uXG5mdW5jdGlvbiBmbHVzaCgpIHtcbiAgICBjb25zdCBzYXZlZF9jb21wb25lbnQgPSBjdXJyZW50X2NvbXBvbmVudDtcbiAgICBkbyB7XG4gICAgICAgIC8vIGZpcnN0LCBjYWxsIGJlZm9yZVVwZGF0ZSBmdW5jdGlvbnNcbiAgICAgICAgLy8gYW5kIHVwZGF0ZSBjb21wb25lbnRzXG4gICAgICAgIHdoaWxlIChmbHVzaGlkeCA8IGRpcnR5X2NvbXBvbmVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnQgPSBkaXJ0eV9jb21wb25lbnRzW2ZsdXNoaWR4XTtcbiAgICAgICAgICAgIGZsdXNoaWR4Kys7XG4gICAgICAgICAgICBzZXRfY3VycmVudF9jb21wb25lbnQoY29tcG9uZW50KTtcbiAgICAgICAgICAgIHVwZGF0ZShjb21wb25lbnQuJCQpO1xuICAgICAgICB9XG4gICAgICAgIHNldF9jdXJyZW50X2NvbXBvbmVudChudWxsKTtcbiAgICAgICAgZGlydHlfY29tcG9uZW50cy5sZW5ndGggPSAwO1xuICAgICAgICBmbHVzaGlkeCA9IDA7XG4gICAgICAgIHdoaWxlIChiaW5kaW5nX2NhbGxiYWNrcy5sZW5ndGgpXG4gICAgICAgICAgICBiaW5kaW5nX2NhbGxiYWNrcy5wb3AoKSgpO1xuICAgICAgICAvLyB0aGVuLCBvbmNlIGNvbXBvbmVudHMgYXJlIHVwZGF0ZWQsIGNhbGxcbiAgICAgICAgLy8gYWZ0ZXJVcGRhdGUgZnVuY3Rpb25zLiBUaGlzIG1heSBjYXVzZVxuICAgICAgICAvLyBzdWJzZXF1ZW50IHVwZGF0ZXMuLi5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZW5kZXJfY2FsbGJhY2tzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBjb25zdCBjYWxsYmFjayA9IHJlbmRlcl9jYWxsYmFja3NbaV07XG4gICAgICAgICAgICBpZiAoIXNlZW5fY2FsbGJhY2tzLmhhcyhjYWxsYmFjaykpIHtcbiAgICAgICAgICAgICAgICAvLyAuLi5zbyBndWFyZCBhZ2FpbnN0IGluZmluaXRlIGxvb3BzXG4gICAgICAgICAgICAgICAgc2Vlbl9jYWxsYmFja3MuYWRkKGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJlbmRlcl9jYWxsYmFja3MubGVuZ3RoID0gMDtcbiAgICB9IHdoaWxlIChkaXJ0eV9jb21wb25lbnRzLmxlbmd0aCk7XG4gICAgd2hpbGUgKGZsdXNoX2NhbGxiYWNrcy5sZW5ndGgpIHtcbiAgICAgICAgZmx1c2hfY2FsbGJhY2tzLnBvcCgpKCk7XG4gICAgfVxuICAgIHVwZGF0ZV9zY2hlZHVsZWQgPSBmYWxzZTtcbiAgICBzZWVuX2NhbGxiYWNrcy5jbGVhcigpO1xuICAgIHNldF9jdXJyZW50X2NvbXBvbmVudChzYXZlZF9jb21wb25lbnQpO1xufVxuZnVuY3Rpb24gdXBkYXRlKCQkKSB7XG4gICAgaWYgKCQkLmZyYWdtZW50ICE9PSBudWxsKSB7XG4gICAgICAgICQkLnVwZGF0ZSgpO1xuICAgICAgICBydW5fYWxsKCQkLmJlZm9yZV91cGRhdGUpO1xuICAgICAgICBjb25zdCBkaXJ0eSA9ICQkLmRpcnR5O1xuICAgICAgICAkJC5kaXJ0eSA9IFstMV07XG4gICAgICAgICQkLmZyYWdtZW50ICYmICQkLmZyYWdtZW50LnAoJCQuY3R4LCBkaXJ0eSk7XG4gICAgICAgICQkLmFmdGVyX3VwZGF0ZS5mb3JFYWNoKGFkZF9yZW5kZXJfY2FsbGJhY2spO1xuICAgIH1cbn1cblxubGV0IHByb21pc2U7XG5mdW5jdGlvbiB3YWl0KCkge1xuICAgIGlmICghcHJvbWlzZSkge1xuICAgICAgICBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIHByb21pc2UudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBwcm9taXNlID0gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBwcm9taXNlO1xufVxuZnVuY3Rpb24gZGlzcGF0Y2gobm9kZSwgZGlyZWN0aW9uLCBraW5kKSB7XG4gICAgbm9kZS5kaXNwYXRjaEV2ZW50KGN1c3RvbV9ldmVudChgJHtkaXJlY3Rpb24gPyAnaW50cm8nIDogJ291dHJvJ30ke2tpbmR9YCkpO1xufVxuY29uc3Qgb3V0cm9pbmcgPSBuZXcgU2V0KCk7XG5sZXQgb3V0cm9zO1xuZnVuY3Rpb24gZ3JvdXBfb3V0cm9zKCkge1xuICAgIG91dHJvcyA9IHtcbiAgICAgICAgcjogMCxcbiAgICAgICAgYzogW10sXG4gICAgICAgIHA6IG91dHJvcyAvLyBwYXJlbnQgZ3JvdXBcbiAgICB9O1xufVxuZnVuY3Rpb24gY2hlY2tfb3V0cm9zKCkge1xuICAgIGlmICghb3V0cm9zLnIpIHtcbiAgICAgICAgcnVuX2FsbChvdXRyb3MuYyk7XG4gICAgfVxuICAgIG91dHJvcyA9IG91dHJvcy5wO1xufVxuZnVuY3Rpb24gdHJhbnNpdGlvbl9pbihibG9jaywgbG9jYWwpIHtcbiAgICBpZiAoYmxvY2sgJiYgYmxvY2suaSkge1xuICAgICAgICBvdXRyb2luZy5kZWxldGUoYmxvY2spO1xuICAgICAgICBibG9jay5pKGxvY2FsKTtcbiAgICB9XG59XG5mdW5jdGlvbiB0cmFuc2l0aW9uX291dChibG9jaywgbG9jYWwsIGRldGFjaCwgY2FsbGJhY2spIHtcbiAgICBpZiAoYmxvY2sgJiYgYmxvY2subykge1xuICAgICAgICBpZiAob3V0cm9pbmcuaGFzKGJsb2NrKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgb3V0cm9pbmcuYWRkKGJsb2NrKTtcbiAgICAgICAgb3V0cm9zLmMucHVzaCgoKSA9PiB7XG4gICAgICAgICAgICBvdXRyb2luZy5kZWxldGUoYmxvY2spO1xuICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRldGFjaClcbiAgICAgICAgICAgICAgICAgICAgYmxvY2suZCgxKTtcbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgYmxvY2subyhsb2NhbCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxufVxuY29uc3QgbnVsbF90cmFuc2l0aW9uID0geyBkdXJhdGlvbjogMCB9O1xuZnVuY3Rpb24gY3JlYXRlX2luX3RyYW5zaXRpb24obm9kZSwgZm4sIHBhcmFtcykge1xuICAgIGxldCBjb25maWcgPSBmbihub2RlLCBwYXJhbXMpO1xuICAgIGxldCBydW5uaW5nID0gZmFsc2U7XG4gICAgbGV0IGFuaW1hdGlvbl9uYW1lO1xuICAgIGxldCB0YXNrO1xuICAgIGxldCB1aWQgPSAwO1xuICAgIGZ1bmN0aW9uIGNsZWFudXAoKSB7XG4gICAgICAgIGlmIChhbmltYXRpb25fbmFtZSlcbiAgICAgICAgICAgIGRlbGV0ZV9ydWxlKG5vZGUsIGFuaW1hdGlvbl9uYW1lKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ28oKSB7XG4gICAgICAgIGNvbnN0IHsgZGVsYXkgPSAwLCBkdXJhdGlvbiA9IDMwMCwgZWFzaW5nID0gaWRlbnRpdHksIHRpY2sgPSBub29wLCBjc3MgfSA9IGNvbmZpZyB8fCBudWxsX3RyYW5zaXRpb247XG4gICAgICAgIGlmIChjc3MpXG4gICAgICAgICAgICBhbmltYXRpb25fbmFtZSA9IGNyZWF0ZV9ydWxlKG5vZGUsIDAsIDEsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nLCBjc3MsIHVpZCsrKTtcbiAgICAgICAgdGljaygwLCAxKTtcbiAgICAgICAgY29uc3Qgc3RhcnRfdGltZSA9IG5vdygpICsgZGVsYXk7XG4gICAgICAgIGNvbnN0IGVuZF90aW1lID0gc3RhcnRfdGltZSArIGR1cmF0aW9uO1xuICAgICAgICBpZiAodGFzaylcbiAgICAgICAgICAgIHRhc2suYWJvcnQoKTtcbiAgICAgICAgcnVubmluZyA9IHRydWU7XG4gICAgICAgIGFkZF9yZW5kZXJfY2FsbGJhY2soKCkgPT4gZGlzcGF0Y2gobm9kZSwgdHJ1ZSwgJ3N0YXJ0JykpO1xuICAgICAgICB0YXNrID0gbG9vcChub3cgPT4ge1xuICAgICAgICAgICAgaWYgKHJ1bm5pbmcpIHtcbiAgICAgICAgICAgICAgICBpZiAobm93ID49IGVuZF90aW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRpY2soMSwgMCk7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKG5vZGUsIHRydWUsICdlbmQnKTtcbiAgICAgICAgICAgICAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcnVubmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobm93ID49IHN0YXJ0X3RpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdCA9IGVhc2luZygobm93IC0gc3RhcnRfdGltZSkgLyBkdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIHRpY2sodCwgMSAtIHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBydW5uaW5nO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgbGV0IHN0YXJ0ZWQgPSBmYWxzZTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzdGFydCgpIHtcbiAgICAgICAgICAgIGlmIChzdGFydGVkKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgZGVsZXRlX3J1bGUobm9kZSk7XG4gICAgICAgICAgICBpZiAoaXNfZnVuY3Rpb24oY29uZmlnKSkge1xuICAgICAgICAgICAgICAgIGNvbmZpZyA9IGNvbmZpZygpO1xuICAgICAgICAgICAgICAgIHdhaXQoKS50aGVuKGdvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGdvKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGludmFsaWRhdGUoKSB7XG4gICAgICAgICAgICBzdGFydGVkID0gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIGVuZCgpIHtcbiAgICAgICAgICAgIGlmIChydW5uaW5nKSB7XG4gICAgICAgICAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICAgICAgICAgIHJ1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59XG5mdW5jdGlvbiBjcmVhdGVfb3V0X3RyYW5zaXRpb24obm9kZSwgZm4sIHBhcmFtcykge1xuICAgIGxldCBjb25maWcgPSBmbihub2RlLCBwYXJhbXMpO1xuICAgIGxldCBydW5uaW5nID0gdHJ1ZTtcbiAgICBsZXQgYW5pbWF0aW9uX25hbWU7XG4gICAgY29uc3QgZ3JvdXAgPSBvdXRyb3M7XG4gICAgZ3JvdXAuciArPSAxO1xuICAgIGZ1bmN0aW9uIGdvKCkge1xuICAgICAgICBjb25zdCB7IGRlbGF5ID0gMCwgZHVyYXRpb24gPSAzMDAsIGVhc2luZyA9IGlkZW50aXR5LCB0aWNrID0gbm9vcCwgY3NzIH0gPSBjb25maWcgfHwgbnVsbF90cmFuc2l0aW9uO1xuICAgICAgICBpZiAoY3NzKVxuICAgICAgICAgICAgYW5pbWF0aW9uX25hbWUgPSBjcmVhdGVfcnVsZShub2RlLCAxLCAwLCBkdXJhdGlvbiwgZGVsYXksIGVhc2luZywgY3NzKTtcbiAgICAgICAgY29uc3Qgc3RhcnRfdGltZSA9IG5vdygpICsgZGVsYXk7XG4gICAgICAgIGNvbnN0IGVuZF90aW1lID0gc3RhcnRfdGltZSArIGR1cmF0aW9uO1xuICAgICAgICBhZGRfcmVuZGVyX2NhbGxiYWNrKCgpID0+IGRpc3BhdGNoKG5vZGUsIGZhbHNlLCAnc3RhcnQnKSk7XG4gICAgICAgIGxvb3Aobm93ID0+IHtcbiAgICAgICAgICAgIGlmIChydW5uaW5nKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5vdyA+PSBlbmRfdGltZSkge1xuICAgICAgICAgICAgICAgICAgICB0aWNrKDAsIDEpO1xuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaChub2RlLCBmYWxzZSwgJ2VuZCcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIS0tZ3JvdXAucikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyB3aWxsIHJlc3VsdCBpbiBgZW5kKClgIGJlaW5nIGNhbGxlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNvIHdlIGRvbid0IG5lZWQgdG8gY2xlYW4gdXAgaGVyZVxuICAgICAgICAgICAgICAgICAgICAgICAgcnVuX2FsbChncm91cC5jKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChub3cgPj0gc3RhcnRfdGltZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gZWFzaW5nKChub3cgLSBzdGFydF90aW1lKSAvIGR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgdGljaygxIC0gdCwgdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJ1bm5pbmc7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaXNfZnVuY3Rpb24oY29uZmlnKSkge1xuICAgICAgICB3YWl0KCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBjb25maWcgPSBjb25maWcoKTtcbiAgICAgICAgICAgIGdvKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZ28oKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZW5kKHJlc2V0KSB7XG4gICAgICAgICAgICBpZiAocmVzZXQgJiYgY29uZmlnLnRpY2spIHtcbiAgICAgICAgICAgICAgICBjb25maWcudGljaygxLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChydW5uaW5nKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvbl9uYW1lKVxuICAgICAgICAgICAgICAgICAgICBkZWxldGVfcnVsZShub2RlLCBhbmltYXRpb25fbmFtZSk7XG4gICAgICAgICAgICAgICAgcnVubmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZV9iaWRpcmVjdGlvbmFsX3RyYW5zaXRpb24obm9kZSwgZm4sIHBhcmFtcywgaW50cm8pIHtcbiAgICBsZXQgY29uZmlnID0gZm4obm9kZSwgcGFyYW1zKTtcbiAgICBsZXQgdCA9IGludHJvID8gMCA6IDE7XG4gICAgbGV0IHJ1bm5pbmdfcHJvZ3JhbSA9IG51bGw7XG4gICAgbGV0IHBlbmRpbmdfcHJvZ3JhbSA9IG51bGw7XG4gICAgbGV0IGFuaW1hdGlvbl9uYW1lID0gbnVsbDtcbiAgICBmdW5jdGlvbiBjbGVhcl9hbmltYXRpb24oKSB7XG4gICAgICAgIGlmIChhbmltYXRpb25fbmFtZSlcbiAgICAgICAgICAgIGRlbGV0ZV9ydWxlKG5vZGUsIGFuaW1hdGlvbl9uYW1lKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaW5pdChwcm9ncmFtLCBkdXJhdGlvbikge1xuICAgICAgICBjb25zdCBkID0gKHByb2dyYW0uYiAtIHQpO1xuICAgICAgICBkdXJhdGlvbiAqPSBNYXRoLmFicyhkKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGE6IHQsXG4gICAgICAgICAgICBiOiBwcm9ncmFtLmIsXG4gICAgICAgICAgICBkLFxuICAgICAgICAgICAgZHVyYXRpb24sXG4gICAgICAgICAgICBzdGFydDogcHJvZ3JhbS5zdGFydCxcbiAgICAgICAgICAgIGVuZDogcHJvZ3JhbS5zdGFydCArIGR1cmF0aW9uLFxuICAgICAgICAgICAgZ3JvdXA6IHByb2dyYW0uZ3JvdXBcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ28oYikge1xuICAgICAgICBjb25zdCB7IGRlbGF5ID0gMCwgZHVyYXRpb24gPSAzMDAsIGVhc2luZyA9IGlkZW50aXR5LCB0aWNrID0gbm9vcCwgY3NzIH0gPSBjb25maWcgfHwgbnVsbF90cmFuc2l0aW9uO1xuICAgICAgICBjb25zdCBwcm9ncmFtID0ge1xuICAgICAgICAgICAgc3RhcnQ6IG5vdygpICsgZGVsYXksXG4gICAgICAgICAgICBiXG4gICAgICAgIH07XG4gICAgICAgIGlmICghYikge1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZSB0b2RvOiBpbXByb3ZlIHR5cGluZ3NcbiAgICAgICAgICAgIHByb2dyYW0uZ3JvdXAgPSBvdXRyb3M7XG4gICAgICAgICAgICBvdXRyb3MuciArPSAxO1xuICAgICAgICB9XG4gICAgICAgIGlmIChydW5uaW5nX3Byb2dyYW0gfHwgcGVuZGluZ19wcm9ncmFtKSB7XG4gICAgICAgICAgICBwZW5kaW5nX3Byb2dyYW0gPSBwcm9ncmFtO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gaWYgdGhpcyBpcyBhbiBpbnRybywgYW5kIHRoZXJlJ3MgYSBkZWxheSwgd2UgbmVlZCB0byBkb1xuICAgICAgICAgICAgLy8gYW4gaW5pdGlhbCB0aWNrIGFuZC9vciBhcHBseSBDU1MgYW5pbWF0aW9uIGltbWVkaWF0ZWx5XG4gICAgICAgICAgICBpZiAoY3NzKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJfYW5pbWF0aW9uKCk7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uX25hbWUgPSBjcmVhdGVfcnVsZShub2RlLCB0LCBiLCBkdXJhdGlvbiwgZGVsYXksIGVhc2luZywgY3NzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChiKVxuICAgICAgICAgICAgICAgIHRpY2soMCwgMSk7XG4gICAgICAgICAgICBydW5uaW5nX3Byb2dyYW0gPSBpbml0KHByb2dyYW0sIGR1cmF0aW9uKTtcbiAgICAgICAgICAgIGFkZF9yZW5kZXJfY2FsbGJhY2soKCkgPT4gZGlzcGF0Y2gobm9kZSwgYiwgJ3N0YXJ0JykpO1xuICAgICAgICAgICAgbG9vcChub3cgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChwZW5kaW5nX3Byb2dyYW0gJiYgbm93ID4gcGVuZGluZ19wcm9ncmFtLnN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJ1bm5pbmdfcHJvZ3JhbSA9IGluaXQocGVuZGluZ19wcm9ncmFtLCBkdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIHBlbmRpbmdfcHJvZ3JhbSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKG5vZGUsIHJ1bm5pbmdfcHJvZ3JhbS5iLCAnc3RhcnQnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJfYW5pbWF0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25fbmFtZSA9IGNyZWF0ZV9ydWxlKG5vZGUsIHQsIHJ1bm5pbmdfcHJvZ3JhbS5iLCBydW5uaW5nX3Byb2dyYW0uZHVyYXRpb24sIDAsIGVhc2luZywgY29uZmlnLmNzcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJ1bm5pbmdfcHJvZ3JhbSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobm93ID49IHJ1bm5pbmdfcHJvZ3JhbS5lbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpY2sodCA9IHJ1bm5pbmdfcHJvZ3JhbS5iLCAxIC0gdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaChub2RlLCBydW5uaW5nX3Byb2dyYW0uYiwgJ2VuZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwZW5kaW5nX3Byb2dyYW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSdyZSBkb25lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJ1bm5pbmdfcHJvZ3JhbS5iKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGludHJvIFx1MjAxNCB3ZSBjYW4gdGlkeSB1cCBpbW1lZGlhdGVseVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhcl9hbmltYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG91dHJvIFx1MjAxNCBuZWVkcyB0byBiZSBjb29yZGluYXRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIS0tcnVubmluZ19wcm9ncmFtLmdyb3VwLnIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBydW5fYWxsKHJ1bm5pbmdfcHJvZ3JhbS5ncm91cC5jKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBydW5uaW5nX3Byb2dyYW0gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5vdyA+PSBydW5uaW5nX3Byb2dyYW0uc3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHAgPSBub3cgLSBydW5uaW5nX3Byb2dyYW0uc3RhcnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ID0gcnVubmluZ19wcm9ncmFtLmEgKyBydW5uaW5nX3Byb2dyYW0uZCAqIGVhc2luZyhwIC8gcnVubmluZ19wcm9ncmFtLmR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpY2sodCwgMSAtIHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiAhIShydW5uaW5nX3Byb2dyYW0gfHwgcGVuZGluZ19wcm9ncmFtKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHJ1bihiKSB7XG4gICAgICAgICAgICBpZiAoaXNfZnVuY3Rpb24oY29uZmlnKSkge1xuICAgICAgICAgICAgICAgIHdhaXQoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgICAgICBjb25maWcgPSBjb25maWcoKTtcbiAgICAgICAgICAgICAgICAgICAgZ28oYik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBnbyhiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW5kKCkge1xuICAgICAgICAgICAgY2xlYXJfYW5pbWF0aW9uKCk7XG4gICAgICAgICAgICBydW5uaW5nX3Byb2dyYW0gPSBwZW5kaW5nX3Byb2dyYW0gPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlX3Byb21pc2UocHJvbWlzZSwgaW5mbykge1xuICAgIGNvbnN0IHRva2VuID0gaW5mby50b2tlbiA9IHt9O1xuICAgIGZ1bmN0aW9uIHVwZGF0ZSh0eXBlLCBpbmRleCwga2V5LCB2YWx1ZSkge1xuICAgICAgICBpZiAoaW5mby50b2tlbiAhPT0gdG9rZW4pXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGluZm8ucmVzb2x2ZWQgPSB2YWx1ZTtcbiAgICAgICAgbGV0IGNoaWxkX2N0eCA9IGluZm8uY3R4O1xuICAgICAgICBpZiAoa2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNoaWxkX2N0eCA9IGNoaWxkX2N0eC5zbGljZSgpO1xuICAgICAgICAgICAgY2hpbGRfY3R4W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBibG9jayA9IHR5cGUgJiYgKGluZm8uY3VycmVudCA9IHR5cGUpKGNoaWxkX2N0eCk7XG4gICAgICAgIGxldCBuZWVkc19mbHVzaCA9IGZhbHNlO1xuICAgICAgICBpZiAoaW5mby5ibG9jaykge1xuICAgICAgICAgICAgaWYgKGluZm8uYmxvY2tzKSB7XG4gICAgICAgICAgICAgICAgaW5mby5ibG9ja3MuZm9yRWFjaCgoYmxvY2ssIGkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT09IGluZGV4ICYmIGJsb2NrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cF9vdXRyb3MoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb25fb3V0KGJsb2NrLCAxLCAxLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZm8uYmxvY2tzW2ldID09PSBibG9jaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmZvLmJsb2Nrc1tpXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja19vdXRyb3MoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaW5mby5ibG9jay5kKDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYmxvY2suYygpO1xuICAgICAgICAgICAgdHJhbnNpdGlvbl9pbihibG9jaywgMSk7XG4gICAgICAgICAgICBibG9jay5tKGluZm8ubW91bnQoKSwgaW5mby5hbmNob3IpO1xuICAgICAgICAgICAgbmVlZHNfZmx1c2ggPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGluZm8uYmxvY2sgPSBibG9jaztcbiAgICAgICAgaWYgKGluZm8uYmxvY2tzKVxuICAgICAgICAgICAgaW5mby5ibG9ja3NbaW5kZXhdID0gYmxvY2s7XG4gICAgICAgIGlmIChuZWVkc19mbHVzaCkge1xuICAgICAgICAgICAgZmx1c2goKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNfcHJvbWlzZShwcm9taXNlKSkge1xuICAgICAgICBjb25zdCBjdXJyZW50X2NvbXBvbmVudCA9IGdldF9jdXJyZW50X2NvbXBvbmVudCgpO1xuICAgICAgICBwcm9taXNlLnRoZW4odmFsdWUgPT4ge1xuICAgICAgICAgICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KGN1cnJlbnRfY29tcG9uZW50KTtcbiAgICAgICAgICAgIHVwZGF0ZShpbmZvLnRoZW4sIDEsIGluZm8udmFsdWUsIHZhbHVlKTtcbiAgICAgICAgICAgIHNldF9jdXJyZW50X2NvbXBvbmVudChudWxsKTtcbiAgICAgICAgfSwgZXJyb3IgPT4ge1xuICAgICAgICAgICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KGN1cnJlbnRfY29tcG9uZW50KTtcbiAgICAgICAgICAgIHVwZGF0ZShpbmZvLmNhdGNoLCAyLCBpbmZvLmVycm9yLCBlcnJvcik7XG4gICAgICAgICAgICBzZXRfY3VycmVudF9jb21wb25lbnQobnVsbCk7XG4gICAgICAgICAgICBpZiAoIWluZm8uaGFzQ2F0Y2gpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGlmIHdlIHByZXZpb3VzbHkgaGFkIGEgdGhlbi9jYXRjaCBibG9jaywgZGVzdHJveSBpdFxuICAgICAgICBpZiAoaW5mby5jdXJyZW50ICE9PSBpbmZvLnBlbmRpbmcpIHtcbiAgICAgICAgICAgIHVwZGF0ZShpbmZvLnBlbmRpbmcsIDApO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChpbmZvLmN1cnJlbnQgIT09IGluZm8udGhlbikge1xuICAgICAgICAgICAgdXBkYXRlKGluZm8udGhlbiwgMSwgaW5mby52YWx1ZSwgcHJvbWlzZSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpbmZvLnJlc29sdmVkID0gcHJvbWlzZTtcbiAgICB9XG59XG5mdW5jdGlvbiB1cGRhdGVfYXdhaXRfYmxvY2tfYnJhbmNoKGluZm8sIGN0eCwgZGlydHkpIHtcbiAgICBjb25zdCBjaGlsZF9jdHggPSBjdHguc2xpY2UoKTtcbiAgICBjb25zdCB7IHJlc29sdmVkIH0gPSBpbmZvO1xuICAgIGlmIChpbmZvLmN1cnJlbnQgPT09IGluZm8udGhlbikge1xuICAgICAgICBjaGlsZF9jdHhbaW5mby52YWx1ZV0gPSByZXNvbHZlZDtcbiAgICB9XG4gICAgaWYgKGluZm8uY3VycmVudCA9PT0gaW5mby5jYXRjaCkge1xuICAgICAgICBjaGlsZF9jdHhbaW5mby5lcnJvcl0gPSByZXNvbHZlZDtcbiAgICB9XG4gICAgaW5mby5ibG9jay5wKGNoaWxkX2N0eCwgZGlydHkpO1xufVxuXG5jb25zdCBnbG9iYWxzID0gKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnXG4gICAgPyB3aW5kb3dcbiAgICA6IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICA/IGdsb2JhbFRoaXNcbiAgICAgICAgOiBnbG9iYWwpO1xuXG5mdW5jdGlvbiBkZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApIHtcbiAgICBibG9jay5kKDEpO1xuICAgIGxvb2t1cC5kZWxldGUoYmxvY2sua2V5KTtcbn1cbmZ1bmN0aW9uIG91dHJvX2FuZF9kZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApIHtcbiAgICB0cmFuc2l0aW9uX291dChibG9jaywgMSwgMSwgKCkgPT4ge1xuICAgICAgICBsb29rdXAuZGVsZXRlKGJsb2NrLmtleSk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBmaXhfYW5kX2Rlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCkge1xuICAgIGJsb2NrLmYoKTtcbiAgICBkZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApO1xufVxuZnVuY3Rpb24gZml4X2FuZF9vdXRyb19hbmRfZGVzdHJveV9ibG9jayhibG9jaywgbG9va3VwKSB7XG4gICAgYmxvY2suZigpO1xuICAgIG91dHJvX2FuZF9kZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApO1xufVxuZnVuY3Rpb24gdXBkYXRlX2tleWVkX2VhY2gob2xkX2Jsb2NrcywgZGlydHksIGdldF9rZXksIGR5bmFtaWMsIGN0eCwgbGlzdCwgbG9va3VwLCBub2RlLCBkZXN0cm95LCBjcmVhdGVfZWFjaF9ibG9jaywgbmV4dCwgZ2V0X2NvbnRleHQpIHtcbiAgICBsZXQgbyA9IG9sZF9ibG9ja3MubGVuZ3RoO1xuICAgIGxldCBuID0gbGlzdC5sZW5ndGg7XG4gICAgbGV0IGkgPSBvO1xuICAgIGNvbnN0IG9sZF9pbmRleGVzID0ge307XG4gICAgd2hpbGUgKGktLSlcbiAgICAgICAgb2xkX2luZGV4ZXNbb2xkX2Jsb2Nrc1tpXS5rZXldID0gaTtcbiAgICBjb25zdCBuZXdfYmxvY2tzID0gW107XG4gICAgY29uc3QgbmV3X2xvb2t1cCA9IG5ldyBNYXAoKTtcbiAgICBjb25zdCBkZWx0YXMgPSBuZXcgTWFwKCk7XG4gICAgaSA9IG47XG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgICBjb25zdCBjaGlsZF9jdHggPSBnZXRfY29udGV4dChjdHgsIGxpc3QsIGkpO1xuICAgICAgICBjb25zdCBrZXkgPSBnZXRfa2V5KGNoaWxkX2N0eCk7XG4gICAgICAgIGxldCBibG9jayA9IGxvb2t1cC5nZXQoa2V5KTtcbiAgICAgICAgaWYgKCFibG9jaykge1xuICAgICAgICAgICAgYmxvY2sgPSBjcmVhdGVfZWFjaF9ibG9jayhrZXksIGNoaWxkX2N0eCk7XG4gICAgICAgICAgICBibG9jay5jKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZHluYW1pYykge1xuICAgICAgICAgICAgYmxvY2sucChjaGlsZF9jdHgsIGRpcnR5KTtcbiAgICAgICAgfVxuICAgICAgICBuZXdfbG9va3VwLnNldChrZXksIG5ld19ibG9ja3NbaV0gPSBibG9jayk7XG4gICAgICAgIGlmIChrZXkgaW4gb2xkX2luZGV4ZXMpXG4gICAgICAgICAgICBkZWx0YXMuc2V0KGtleSwgTWF0aC5hYnMoaSAtIG9sZF9pbmRleGVzW2tleV0pKTtcbiAgICB9XG4gICAgY29uc3Qgd2lsbF9tb3ZlID0gbmV3IFNldCgpO1xuICAgIGNvbnN0IGRpZF9tb3ZlID0gbmV3IFNldCgpO1xuICAgIGZ1bmN0aW9uIGluc2VydChibG9jaykge1xuICAgICAgICB0cmFuc2l0aW9uX2luKGJsb2NrLCAxKTtcbiAgICAgICAgYmxvY2subShub2RlLCBuZXh0KTtcbiAgICAgICAgbG9va3VwLnNldChibG9jay5rZXksIGJsb2NrKTtcbiAgICAgICAgbmV4dCA9IGJsb2NrLmZpcnN0O1xuICAgICAgICBuLS07XG4gICAgfVxuICAgIHdoaWxlIChvICYmIG4pIHtcbiAgICAgICAgY29uc3QgbmV3X2Jsb2NrID0gbmV3X2Jsb2Nrc1tuIC0gMV07XG4gICAgICAgIGNvbnN0IG9sZF9ibG9jayA9IG9sZF9ibG9ja3NbbyAtIDFdO1xuICAgICAgICBjb25zdCBuZXdfa2V5ID0gbmV3X2Jsb2NrLmtleTtcbiAgICAgICAgY29uc3Qgb2xkX2tleSA9IG9sZF9ibG9jay5rZXk7XG4gICAgICAgIGlmIChuZXdfYmxvY2sgPT09IG9sZF9ibG9jaykge1xuICAgICAgICAgICAgLy8gZG8gbm90aGluZ1xuICAgICAgICAgICAgbmV4dCA9IG5ld19ibG9jay5maXJzdDtcbiAgICAgICAgICAgIG8tLTtcbiAgICAgICAgICAgIG4tLTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghbmV3X2xvb2t1cC5oYXMob2xkX2tleSkpIHtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBvbGQgYmxvY2tcbiAgICAgICAgICAgIGRlc3Ryb3kob2xkX2Jsb2NrLCBsb29rdXApO1xuICAgICAgICAgICAgby0tO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFsb29rdXAuaGFzKG5ld19rZXkpIHx8IHdpbGxfbW92ZS5oYXMobmV3X2tleSkpIHtcbiAgICAgICAgICAgIGluc2VydChuZXdfYmxvY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRpZF9tb3ZlLmhhcyhvbGRfa2V5KSkge1xuICAgICAgICAgICAgby0tO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRlbHRhcy5nZXQobmV3X2tleSkgPiBkZWx0YXMuZ2V0KG9sZF9rZXkpKSB7XG4gICAgICAgICAgICBkaWRfbW92ZS5hZGQobmV3X2tleSk7XG4gICAgICAgICAgICBpbnNlcnQobmV3X2Jsb2NrKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHdpbGxfbW92ZS5hZGQob2xkX2tleSk7XG4gICAgICAgICAgICBvLS07XG4gICAgICAgIH1cbiAgICB9XG4gICAgd2hpbGUgKG8tLSkge1xuICAgICAgICBjb25zdCBvbGRfYmxvY2sgPSBvbGRfYmxvY2tzW29dO1xuICAgICAgICBpZiAoIW5ld19sb29rdXAuaGFzKG9sZF9ibG9jay5rZXkpKVxuICAgICAgICAgICAgZGVzdHJveShvbGRfYmxvY2ssIGxvb2t1cCk7XG4gICAgfVxuICAgIHdoaWxlIChuKVxuICAgICAgICBpbnNlcnQobmV3X2Jsb2Nrc1tuIC0gMV0pO1xuICAgIHJldHVybiBuZXdfYmxvY2tzO1xufVxuZnVuY3Rpb24gdmFsaWRhdGVfZWFjaF9rZXlzKGN0eCwgbGlzdCwgZ2V0X2NvbnRleHQsIGdldF9rZXkpIHtcbiAgICBjb25zdCBrZXlzID0gbmV3IFNldCgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBrZXkgPSBnZXRfa2V5KGdldF9jb250ZXh0KGN0eCwgbGlzdCwgaSkpO1xuICAgICAgICBpZiAoa2V5cy5oYXMoa2V5KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaGF2ZSBkdXBsaWNhdGUga2V5cyBpbiBhIGtleWVkIGVhY2gnKTtcbiAgICAgICAgfVxuICAgICAgICBrZXlzLmFkZChrZXkpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0X3NwcmVhZF91cGRhdGUobGV2ZWxzLCB1cGRhdGVzKSB7XG4gICAgY29uc3QgdXBkYXRlID0ge307XG4gICAgY29uc3QgdG9fbnVsbF9vdXQgPSB7fTtcbiAgICBjb25zdCBhY2NvdW50ZWRfZm9yID0geyAkJHNjb3BlOiAxIH07XG4gICAgbGV0IGkgPSBsZXZlbHMubGVuZ3RoO1xuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgY29uc3QgbyA9IGxldmVsc1tpXTtcbiAgICAgICAgY29uc3QgbiA9IHVwZGF0ZXNbaV07XG4gICAgICAgIGlmIChuKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBvKSB7XG4gICAgICAgICAgICAgICAgaWYgKCEoa2V5IGluIG4pKVxuICAgICAgICAgICAgICAgICAgICB0b19udWxsX291dFtrZXldID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG4pIHtcbiAgICAgICAgICAgICAgICBpZiAoIWFjY291bnRlZF9mb3Jba2V5XSkge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVba2V5XSA9IG5ba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudGVkX2ZvcltrZXldID0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXZlbHNbaV0gPSBuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbykge1xuICAgICAgICAgICAgICAgIGFjY291bnRlZF9mb3Jba2V5XSA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBrZXkgaW4gdG9fbnVsbF9vdXQpIHtcbiAgICAgICAgaWYgKCEoa2V5IGluIHVwZGF0ZSkpXG4gICAgICAgICAgICB1cGRhdGVba2V5XSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIHVwZGF0ZTtcbn1cbmZ1bmN0aW9uIGdldF9zcHJlYWRfb2JqZWN0KHNwcmVhZF9wcm9wcykge1xuICAgIHJldHVybiB0eXBlb2Ygc3ByZWFkX3Byb3BzID09PSAnb2JqZWN0JyAmJiBzcHJlYWRfcHJvcHMgIT09IG51bGwgPyBzcHJlYWRfcHJvcHMgOiB7fTtcbn1cblxuLy8gc291cmNlOiBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9pbmRpY2VzLmh0bWxcbmNvbnN0IGJvb2xlYW5fYXR0cmlidXRlcyA9IG5ldyBTZXQoW1xuICAgICdhbGxvd2Z1bGxzY3JlZW4nLFxuICAgICdhbGxvd3BheW1lbnRyZXF1ZXN0JyxcbiAgICAnYXN5bmMnLFxuICAgICdhdXRvZm9jdXMnLFxuICAgICdhdXRvcGxheScsXG4gICAgJ2NoZWNrZWQnLFxuICAgICdjb250cm9scycsXG4gICAgJ2RlZmF1bHQnLFxuICAgICdkZWZlcicsXG4gICAgJ2Rpc2FibGVkJyxcbiAgICAnZm9ybW5vdmFsaWRhdGUnLFxuICAgICdoaWRkZW4nLFxuICAgICdpbmVydCcsXG4gICAgJ2lzbWFwJyxcbiAgICAnaXRlbXNjb3BlJyxcbiAgICAnbG9vcCcsXG4gICAgJ211bHRpcGxlJyxcbiAgICAnbXV0ZWQnLFxuICAgICdub21vZHVsZScsXG4gICAgJ25vdmFsaWRhdGUnLFxuICAgICdvcGVuJyxcbiAgICAncGxheXNpbmxpbmUnLFxuICAgICdyZWFkb25seScsXG4gICAgJ3JlcXVpcmVkJyxcbiAgICAncmV2ZXJzZWQnLFxuICAgICdzZWxlY3RlZCdcbl0pO1xuXG4vKiogcmVnZXggb2YgYWxsIGh0bWwgdm9pZCBlbGVtZW50IG5hbWVzICovXG5jb25zdCB2b2lkX2VsZW1lbnRfbmFtZXMgPSAvXig/OmFyZWF8YmFzZXxicnxjb2x8Y29tbWFuZHxlbWJlZHxocnxpbWd8aW5wdXR8a2V5Z2VufGxpbmt8bWV0YXxwYXJhbXxzb3VyY2V8dHJhY2t8d2JyKSQvO1xuZnVuY3Rpb24gaXNfdm9pZChuYW1lKSB7XG4gICAgcmV0dXJuIHZvaWRfZWxlbWVudF9uYW1lcy50ZXN0KG5hbWUpIHx8IG5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJyFkb2N0eXBlJztcbn1cblxuY29uc3QgaW52YWxpZF9hdHRyaWJ1dGVfbmFtZV9jaGFyYWN0ZXIgPSAvW1xccydcIj4vPVxcdXtGREQwfS1cXHV7RkRFRn1cXHV7RkZGRX1cXHV7RkZGRn1cXHV7MUZGRkV9XFx1ezFGRkZGfVxcdXsyRkZGRX1cXHV7MkZGRkZ9XFx1ezNGRkZFfVxcdXszRkZGRn1cXHV7NEZGRkV9XFx1ezRGRkZGfVxcdXs1RkZGRX1cXHV7NUZGRkZ9XFx1ezZGRkZFfVxcdXs2RkZGRn1cXHV7N0ZGRkV9XFx1ezdGRkZGfVxcdXs4RkZGRX1cXHV7OEZGRkZ9XFx1ezlGRkZFfVxcdXs5RkZGRn1cXHV7QUZGRkV9XFx1e0FGRkZGfVxcdXtCRkZGRX1cXHV7QkZGRkZ9XFx1e0NGRkZFfVxcdXtDRkZGRn1cXHV7REZGRkV9XFx1e0RGRkZGfVxcdXtFRkZGRX1cXHV7RUZGRkZ9XFx1e0ZGRkZFfVxcdXtGRkZGRn1cXHV7MTBGRkZFfVxcdXsxMEZGRkZ9XS91O1xuLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjYXR0cmlidXRlcy0yXG4vLyBodHRwczovL2luZnJhLnNwZWMud2hhdHdnLm9yZy8jbm9uY2hhcmFjdGVyXG5mdW5jdGlvbiBzcHJlYWQoYXJncywgYXR0cnNfdG9fYWRkKSB7XG4gICAgY29uc3QgYXR0cmlidXRlcyA9IE9iamVjdC5hc3NpZ24oe30sIC4uLmFyZ3MpO1xuICAgIGlmIChhdHRyc190b19hZGQpIHtcbiAgICAgICAgY29uc3QgY2xhc3Nlc190b19hZGQgPSBhdHRyc190b19hZGQuY2xhc3NlcztcbiAgICAgICAgY29uc3Qgc3R5bGVzX3RvX2FkZCA9IGF0dHJzX3RvX2FkZC5zdHlsZXM7XG4gICAgICAgIGlmIChjbGFzc2VzX3RvX2FkZCkge1xuICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZXMuY2xhc3MgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMuY2xhc3MgPSBjbGFzc2VzX3RvX2FkZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMuY2xhc3MgKz0gJyAnICsgY2xhc3Nlc190b19hZGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0eWxlc190b19hZGQpIHtcbiAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVzLnN0eWxlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLnN0eWxlID0gc3R5bGVfb2JqZWN0X3RvX3N0cmluZyhzdHlsZXNfdG9fYWRkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMuc3R5bGUgPSBzdHlsZV9vYmplY3RfdG9fc3RyaW5nKG1lcmdlX3Nzcl9zdHlsZXMoYXR0cmlidXRlcy5zdHlsZSwgc3R5bGVzX3RvX2FkZCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGxldCBzdHIgPSAnJztcbiAgICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5mb3JFYWNoKG5hbWUgPT4ge1xuICAgICAgICBpZiAoaW52YWxpZF9hdHRyaWJ1dGVfbmFtZV9jaGFyYWN0ZXIudGVzdChuYW1lKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBhdHRyaWJ1dGVzW25hbWVdO1xuICAgICAgICBpZiAodmFsdWUgPT09IHRydWUpXG4gICAgICAgICAgICBzdHIgKz0gJyAnICsgbmFtZTtcbiAgICAgICAgZWxzZSBpZiAoYm9vbGVhbl9hdHRyaWJ1dGVzLmhhcyhuYW1lLnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUpXG4gICAgICAgICAgICAgICAgc3RyICs9ICcgJyArIG5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgc3RyICs9IGAgJHtuYW1lfT1cIiR7dmFsdWV9XCJgO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHN0cjtcbn1cbmZ1bmN0aW9uIG1lcmdlX3Nzcl9zdHlsZXMoc3R5bGVfYXR0cmlidXRlLCBzdHlsZV9kaXJlY3RpdmUpIHtcbiAgICBjb25zdCBzdHlsZV9vYmplY3QgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGluZGl2aWR1YWxfc3R5bGUgb2Ygc3R5bGVfYXR0cmlidXRlLnNwbGl0KCc7JykpIHtcbiAgICAgICAgY29uc3QgY29sb25faW5kZXggPSBpbmRpdmlkdWFsX3N0eWxlLmluZGV4T2YoJzonKTtcbiAgICAgICAgY29uc3QgbmFtZSA9IGluZGl2aWR1YWxfc3R5bGUuc2xpY2UoMCwgY29sb25faW5kZXgpLnRyaW0oKTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBpbmRpdmlkdWFsX3N0eWxlLnNsaWNlKGNvbG9uX2luZGV4ICsgMSkudHJpbSgpO1xuICAgICAgICBpZiAoIW5hbWUpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgc3R5bGVfb2JqZWN0W25hbWVdID0gdmFsdWU7XG4gICAgfVxuICAgIGZvciAoY29uc3QgbmFtZSBpbiBzdHlsZV9kaXJlY3RpdmUpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBzdHlsZV9kaXJlY3RpdmVbbmFtZV07XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgc3R5bGVfb2JqZWN0W25hbWVdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkZWxldGUgc3R5bGVfb2JqZWN0W25hbWVdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdHlsZV9vYmplY3Q7XG59XG5jb25zdCBBVFRSX1JFR0VYID0gL1smXCJdL2c7XG5jb25zdCBDT05URU5UX1JFR0VYID0gL1smPF0vZztcbi8qKlxuICogTm90ZTogdGhpcyBtZXRob2QgaXMgcGVyZm9ybWFuY2Ugc2Vuc2l0aXZlIGFuZCBoYXMgYmVlbiBvcHRpbWl6ZWRcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9zdmVsdGVqcy9zdmVsdGUvcHVsbC81NzAxXG4gKi9cbmZ1bmN0aW9uIGVzY2FwZSh2YWx1ZSwgaXNfYXR0ciA9IGZhbHNlKSB7XG4gICAgY29uc3Qgc3RyID0gU3RyaW5nKHZhbHVlKTtcbiAgICBjb25zdCBwYXR0ZXJuID0gaXNfYXR0ciA/IEFUVFJfUkVHRVggOiBDT05URU5UX1JFR0VYO1xuICAgIHBhdHRlcm4ubGFzdEluZGV4ID0gMDtcbiAgICBsZXQgZXNjYXBlZCA9ICcnO1xuICAgIGxldCBsYXN0ID0gMDtcbiAgICB3aGlsZSAocGF0dGVybi50ZXN0KHN0cikpIHtcbiAgICAgICAgY29uc3QgaSA9IHBhdHRlcm4ubGFzdEluZGV4IC0gMTtcbiAgICAgICAgY29uc3QgY2ggPSBzdHJbaV07XG4gICAgICAgIGVzY2FwZWQgKz0gc3RyLnN1YnN0cmluZyhsYXN0LCBpKSArIChjaCA9PT0gJyYnID8gJyZhbXA7JyA6IChjaCA9PT0gJ1wiJyA/ICcmcXVvdDsnIDogJyZsdDsnKSk7XG4gICAgICAgIGxhc3QgPSBpICsgMTtcbiAgICB9XG4gICAgcmV0dXJuIGVzY2FwZWQgKyBzdHIuc3Vic3RyaW5nKGxhc3QpO1xufVxuZnVuY3Rpb24gZXNjYXBlX2F0dHJpYnV0ZV92YWx1ZSh2YWx1ZSkge1xuICAgIC8vIGtlZXAgYm9vbGVhbnMsIG51bGwsIGFuZCB1bmRlZmluZWQgZm9yIHRoZSBzYWtlIG9mIGBzcHJlYWRgXG4gICAgY29uc3Qgc2hvdWxkX2VzY2FwZSA9IHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgfHwgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpO1xuICAgIHJldHVybiBzaG91bGRfZXNjYXBlID8gZXNjYXBlKHZhbHVlLCB0cnVlKSA6IHZhbHVlO1xufVxuZnVuY3Rpb24gZXNjYXBlX29iamVjdChvYmopIHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcbiAgICAgICAgcmVzdWx0W2tleV0gPSBlc2NhcGVfYXR0cmlidXRlX3ZhbHVlKG9ialtrZXldKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGVhY2goaXRlbXMsIGZuKSB7XG4gICAgbGV0IHN0ciA9ICcnO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgc3RyICs9IGZuKGl0ZW1zW2ldLCBpKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0cjtcbn1cbmNvbnN0IG1pc3NpbmdfY29tcG9uZW50ID0ge1xuICAgICQkcmVuZGVyOiAoKSA9PiAnJ1xufTtcbmZ1bmN0aW9uIHZhbGlkYXRlX2NvbXBvbmVudChjb21wb25lbnQsIG5hbWUpIHtcbiAgICBpZiAoIWNvbXBvbmVudCB8fCAhY29tcG9uZW50LiQkcmVuZGVyKSB7XG4gICAgICAgIGlmIChuYW1lID09PSAnc3ZlbHRlOmNvbXBvbmVudCcpXG4gICAgICAgICAgICBuYW1lICs9ICcgdGhpcz17Li4ufSc7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgPCR7bmFtZX0+IGlzIG5vdCBhIHZhbGlkIFNTUiBjb21wb25lbnQuIFlvdSBtYXkgbmVlZCB0byByZXZpZXcgeW91ciBidWlsZCBjb25maWcgdG8gZW5zdXJlIHRoYXQgZGVwZW5kZW5jaWVzIGFyZSBjb21waWxlZCwgcmF0aGVyIHRoYW4gaW1wb3J0ZWQgYXMgcHJlLWNvbXBpbGVkIG1vZHVsZXMuIE90aGVyd2lzZSB5b3UgbWF5IG5lZWQgdG8gZml4IGEgPCR7bmFtZX0+LmApO1xuICAgIH1cbiAgICByZXR1cm4gY29tcG9uZW50O1xufVxuZnVuY3Rpb24gZGVidWcoZmlsZSwgbGluZSwgY29sdW1uLCB2YWx1ZXMpIHtcbiAgICBjb25zb2xlLmxvZyhge0BkZWJ1Z30gJHtmaWxlID8gZmlsZSArICcgJyA6ICcnfSgke2xpbmV9OiR7Y29sdW1ufSlgKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgY29uc29sZS5sb2codmFsdWVzKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgcmV0dXJuICcnO1xufVxubGV0IG9uX2Rlc3Ryb3k7XG5mdW5jdGlvbiBjcmVhdGVfc3NyX2NvbXBvbmVudChmbikge1xuICAgIGZ1bmN0aW9uICQkcmVuZGVyKHJlc3VsdCwgcHJvcHMsIGJpbmRpbmdzLCBzbG90cywgY29udGV4dCkge1xuICAgICAgICBjb25zdCBwYXJlbnRfY29tcG9uZW50ID0gY3VycmVudF9jb21wb25lbnQ7XG4gICAgICAgIGNvbnN0ICQkID0ge1xuICAgICAgICAgICAgb25fZGVzdHJveSxcbiAgICAgICAgICAgIGNvbnRleHQ6IG5ldyBNYXAoY29udGV4dCB8fCAocGFyZW50X2NvbXBvbmVudCA/IHBhcmVudF9jb21wb25lbnQuJCQuY29udGV4dCA6IFtdKSksXG4gICAgICAgICAgICAvLyB0aGVzZSB3aWxsIGJlIGltbWVkaWF0ZWx5IGRpc2NhcmRlZFxuICAgICAgICAgICAgb25fbW91bnQ6IFtdLFxuICAgICAgICAgICAgYmVmb3JlX3VwZGF0ZTogW10sXG4gICAgICAgICAgICBhZnRlcl91cGRhdGU6IFtdLFxuICAgICAgICAgICAgY2FsbGJhY2tzOiBibGFua19vYmplY3QoKVxuICAgICAgICB9O1xuICAgICAgICBzZXRfY3VycmVudF9jb21wb25lbnQoeyAkJCB9KTtcbiAgICAgICAgY29uc3QgaHRtbCA9IGZuKHJlc3VsdCwgcHJvcHMsIGJpbmRpbmdzLCBzbG90cyk7XG4gICAgICAgIHNldF9jdXJyZW50X2NvbXBvbmVudChwYXJlbnRfY29tcG9uZW50KTtcbiAgICAgICAgcmV0dXJuIGh0bWw7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHJlbmRlcjogKHByb3BzID0ge30sIHsgJCRzbG90cyA9IHt9LCBjb250ZXh0ID0gbmV3IE1hcCgpIH0gPSB7fSkgPT4ge1xuICAgICAgICAgICAgb25fZGVzdHJveSA9IFtdO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0geyB0aXRsZTogJycsIGhlYWQ6ICcnLCBjc3M6IG5ldyBTZXQoKSB9O1xuICAgICAgICAgICAgY29uc3QgaHRtbCA9ICQkcmVuZGVyKHJlc3VsdCwgcHJvcHMsIHt9LCAkJHNsb3RzLCBjb250ZXh0KTtcbiAgICAgICAgICAgIHJ1bl9hbGwob25fZGVzdHJveSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGh0bWwsXG4gICAgICAgICAgICAgICAgY3NzOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IEFycmF5LmZyb20ocmVzdWx0LmNzcykubWFwKGNzcyA9PiBjc3MuY29kZSkuam9pbignXFxuJyksXG4gICAgICAgICAgICAgICAgICAgIG1hcDogbnVsbCAvLyBUT0RPXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBoZWFkOiByZXN1bHQudGl0bGUgKyByZXN1bHQuaGVhZFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgJCRyZW5kZXJcbiAgICB9O1xufVxuZnVuY3Rpb24gYWRkX2F0dHJpYnV0ZShuYW1lLCB2YWx1ZSwgYm9vbGVhbikge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IChib29sZWFuICYmICF2YWx1ZSkpXG4gICAgICAgIHJldHVybiAnJztcbiAgICBjb25zdCBhc3NpZ25tZW50ID0gKGJvb2xlYW4gJiYgdmFsdWUgPT09IHRydWUpID8gJycgOiBgPVwiJHtlc2NhcGUodmFsdWUsIHRydWUpfVwiYDtcbiAgICByZXR1cm4gYCAke25hbWV9JHthc3NpZ25tZW50fWA7XG59XG5mdW5jdGlvbiBhZGRfY2xhc3NlcyhjbGFzc2VzKSB7XG4gICAgcmV0dXJuIGNsYXNzZXMgPyBgIGNsYXNzPVwiJHtjbGFzc2VzfVwiYCA6ICcnO1xufVxuZnVuY3Rpb24gc3R5bGVfb2JqZWN0X3RvX3N0cmluZyhzdHlsZV9vYmplY3QpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMoc3R5bGVfb2JqZWN0KVxuICAgICAgICAuZmlsdGVyKGtleSA9PiBzdHlsZV9vYmplY3Rba2V5XSlcbiAgICAgICAgLm1hcChrZXkgPT4gYCR7a2V5fTogJHtzdHlsZV9vYmplY3Rba2V5XX07YClcbiAgICAgICAgLmpvaW4oJyAnKTtcbn1cbmZ1bmN0aW9uIGFkZF9zdHlsZXMoc3R5bGVfb2JqZWN0KSB7XG4gICAgY29uc3Qgc3R5bGVzID0gc3R5bGVfb2JqZWN0X3RvX3N0cmluZyhzdHlsZV9vYmplY3QpO1xuICAgIHJldHVybiBzdHlsZXMgPyBgIHN0eWxlPVwiJHtzdHlsZXN9XCJgIDogJyc7XG59XG5cbmZ1bmN0aW9uIGJpbmQoY29tcG9uZW50LCBuYW1lLCBjYWxsYmFjaykge1xuICAgIGNvbnN0IGluZGV4ID0gY29tcG9uZW50LiQkLnByb3BzW25hbWVdO1xuICAgIGlmIChpbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbXBvbmVudC4kJC5ib3VuZFtpbmRleF0gPSBjYWxsYmFjaztcbiAgICAgICAgY2FsbGJhY2soY29tcG9uZW50LiQkLmN0eFtpbmRleF0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZV9jb21wb25lbnQoYmxvY2spIHtcbiAgICBibG9jayAmJiBibG9jay5jKCk7XG59XG5mdW5jdGlvbiBjbGFpbV9jb21wb25lbnQoYmxvY2ssIHBhcmVudF9ub2Rlcykge1xuICAgIGJsb2NrICYmIGJsb2NrLmwocGFyZW50X25vZGVzKTtcbn1cbmZ1bmN0aW9uIG1vdW50X2NvbXBvbmVudChjb21wb25lbnQsIHRhcmdldCwgYW5jaG9yLCBjdXN0b21FbGVtZW50KSB7XG4gICAgY29uc3QgeyBmcmFnbWVudCwgYWZ0ZXJfdXBkYXRlIH0gPSBjb21wb25lbnQuJCQ7XG4gICAgZnJhZ21lbnQgJiYgZnJhZ21lbnQubSh0YXJnZXQsIGFuY2hvcik7XG4gICAgaWYgKCFjdXN0b21FbGVtZW50KSB7XG4gICAgICAgIC8vIG9uTW91bnQgaGFwcGVucyBiZWZvcmUgdGhlIGluaXRpYWwgYWZ0ZXJVcGRhdGVcbiAgICAgICAgYWRkX3JlbmRlcl9jYWxsYmFjaygoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuZXdfb25fZGVzdHJveSA9IGNvbXBvbmVudC4kJC5vbl9tb3VudC5tYXAocnVuKS5maWx0ZXIoaXNfZnVuY3Rpb24pO1xuICAgICAgICAgICAgLy8gaWYgdGhlIGNvbXBvbmVudCB3YXMgZGVzdHJveWVkIGltbWVkaWF0ZWx5XG4gICAgICAgICAgICAvLyBpdCB3aWxsIHVwZGF0ZSB0aGUgYCQkLm9uX2Rlc3Ryb3lgIHJlZmVyZW5jZSB0byBgbnVsbGAuXG4gICAgICAgICAgICAvLyB0aGUgZGVzdHJ1Y3R1cmVkIG9uX2Rlc3Ryb3kgbWF5IHN0aWxsIHJlZmVyZW5jZSB0byB0aGUgb2xkIGFycmF5XG4gICAgICAgICAgICBpZiAoY29tcG9uZW50LiQkLm9uX2Rlc3Ryb3kpIHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnQuJCQub25fZGVzdHJveS5wdXNoKC4uLm5ld19vbl9kZXN0cm95KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEVkZ2UgY2FzZSAtIGNvbXBvbmVudCB3YXMgZGVzdHJveWVkIGltbWVkaWF0ZWx5LFxuICAgICAgICAgICAgICAgIC8vIG1vc3QgbGlrZWx5IGFzIGEgcmVzdWx0IG9mIGEgYmluZGluZyBpbml0aWFsaXNpbmdcbiAgICAgICAgICAgICAgICBydW5fYWxsKG5ld19vbl9kZXN0cm95KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbXBvbmVudC4kJC5vbl9tb3VudCA9IFtdO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgYWZ0ZXJfdXBkYXRlLmZvckVhY2goYWRkX3JlbmRlcl9jYWxsYmFjayk7XG59XG5mdW5jdGlvbiBkZXN0cm95X2NvbXBvbmVudChjb21wb25lbnQsIGRldGFjaGluZykge1xuICAgIGNvbnN0ICQkID0gY29tcG9uZW50LiQkO1xuICAgIGlmICgkJC5mcmFnbWVudCAhPT0gbnVsbCkge1xuICAgICAgICBydW5fYWxsKCQkLm9uX2Rlc3Ryb3kpO1xuICAgICAgICAkJC5mcmFnbWVudCAmJiAkJC5mcmFnbWVudC5kKGRldGFjaGluZyk7XG4gICAgICAgIC8vIFRPRE8gbnVsbCBvdXQgb3RoZXIgcmVmcywgaW5jbHVkaW5nIGNvbXBvbmVudC4kJCAoYnV0IG5lZWQgdG9cbiAgICAgICAgLy8gcHJlc2VydmUgZmluYWwgc3RhdGU/KVxuICAgICAgICAkJC5vbl9kZXN0cm95ID0gJCQuZnJhZ21lbnQgPSBudWxsO1xuICAgICAgICAkJC5jdHggPSBbXTtcbiAgICB9XG59XG5mdW5jdGlvbiBtYWtlX2RpcnR5KGNvbXBvbmVudCwgaSkge1xuICAgIGlmIChjb21wb25lbnQuJCQuZGlydHlbMF0gPT09IC0xKSB7XG4gICAgICAgIGRpcnR5X2NvbXBvbmVudHMucHVzaChjb21wb25lbnQpO1xuICAgICAgICBzY2hlZHVsZV91cGRhdGUoKTtcbiAgICAgICAgY29tcG9uZW50LiQkLmRpcnR5LmZpbGwoMCk7XG4gICAgfVxuICAgIGNvbXBvbmVudC4kJC5kaXJ0eVsoaSAvIDMxKSB8IDBdIHw9ICgxIDw8IChpICUgMzEpKTtcbn1cbmZ1bmN0aW9uIGluaXQoY29tcG9uZW50LCBvcHRpb25zLCBpbnN0YW5jZSwgY3JlYXRlX2ZyYWdtZW50LCBub3RfZXF1YWwsIHByb3BzLCBhcHBlbmRfc3R5bGVzLCBkaXJ0eSA9IFstMV0pIHtcbiAgICBjb25zdCBwYXJlbnRfY29tcG9uZW50ID0gY3VycmVudF9jb21wb25lbnQ7XG4gICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KGNvbXBvbmVudCk7XG4gICAgY29uc3QgJCQgPSBjb21wb25lbnQuJCQgPSB7XG4gICAgICAgIGZyYWdtZW50OiBudWxsLFxuICAgICAgICBjdHg6IFtdLFxuICAgICAgICAvLyBzdGF0ZVxuICAgICAgICBwcm9wcyxcbiAgICAgICAgdXBkYXRlOiBub29wLFxuICAgICAgICBub3RfZXF1YWwsXG4gICAgICAgIGJvdW5kOiBibGFua19vYmplY3QoKSxcbiAgICAgICAgLy8gbGlmZWN5Y2xlXG4gICAgICAgIG9uX21vdW50OiBbXSxcbiAgICAgICAgb25fZGVzdHJveTogW10sXG4gICAgICAgIG9uX2Rpc2Nvbm5lY3Q6IFtdLFxuICAgICAgICBiZWZvcmVfdXBkYXRlOiBbXSxcbiAgICAgICAgYWZ0ZXJfdXBkYXRlOiBbXSxcbiAgICAgICAgY29udGV4dDogbmV3IE1hcChvcHRpb25zLmNvbnRleHQgfHwgKHBhcmVudF9jb21wb25lbnQgPyBwYXJlbnRfY29tcG9uZW50LiQkLmNvbnRleHQgOiBbXSkpLFxuICAgICAgICAvLyBldmVyeXRoaW5nIGVsc2VcbiAgICAgICAgY2FsbGJhY2tzOiBibGFua19vYmplY3QoKSxcbiAgICAgICAgZGlydHksXG4gICAgICAgIHNraXBfYm91bmQ6IGZhbHNlLFxuICAgICAgICByb290OiBvcHRpb25zLnRhcmdldCB8fCBwYXJlbnRfY29tcG9uZW50LiQkLnJvb3RcbiAgICB9O1xuICAgIGFwcGVuZF9zdHlsZXMgJiYgYXBwZW5kX3N0eWxlcygkJC5yb290KTtcbiAgICBsZXQgcmVhZHkgPSBmYWxzZTtcbiAgICAkJC5jdHggPSBpbnN0YW5jZVxuICAgICAgICA/IGluc3RhbmNlKGNvbXBvbmVudCwgb3B0aW9ucy5wcm9wcyB8fCB7fSwgKGksIHJldCwgLi4ucmVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSByZXN0Lmxlbmd0aCA/IHJlc3RbMF0gOiByZXQ7XG4gICAgICAgICAgICBpZiAoJCQuY3R4ICYmIG5vdF9lcXVhbCgkJC5jdHhbaV0sICQkLmN0eFtpXSA9IHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGlmICghJCQuc2tpcF9ib3VuZCAmJiAkJC5ib3VuZFtpXSlcbiAgICAgICAgICAgICAgICAgICAgJCQuYm91bmRbaV0odmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmIChyZWFkeSlcbiAgICAgICAgICAgICAgICAgICAgbWFrZV9kaXJ0eShjb21wb25lbnQsIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgfSlcbiAgICAgICAgOiBbXTtcbiAgICAkJC51cGRhdGUoKTtcbiAgICByZWFkeSA9IHRydWU7XG4gICAgcnVuX2FsbCgkJC5iZWZvcmVfdXBkYXRlKTtcbiAgICAvLyBgZmFsc2VgIGFzIGEgc3BlY2lhbCBjYXNlIG9mIG5vIERPTSBjb21wb25lbnRcbiAgICAkJC5mcmFnbWVudCA9IGNyZWF0ZV9mcmFnbWVudCA/IGNyZWF0ZV9mcmFnbWVudCgkJC5jdHgpIDogZmFsc2U7XG4gICAgaWYgKG9wdGlvbnMudGFyZ2V0KSB7XG4gICAgICAgIGlmIChvcHRpb25zLmh5ZHJhdGUpIHtcbiAgICAgICAgICAgIHN0YXJ0X2h5ZHJhdGluZygpO1xuICAgICAgICAgICAgY29uc3Qgbm9kZXMgPSBjaGlsZHJlbihvcHRpb25zLnRhcmdldCk7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuICAgICAgICAgICAgJCQuZnJhZ21lbnQgJiYgJCQuZnJhZ21lbnQubChub2Rlcyk7XG4gICAgICAgICAgICBub2Rlcy5mb3JFYWNoKGRldGFjaCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuICAgICAgICAgICAgJCQuZnJhZ21lbnQgJiYgJCQuZnJhZ21lbnQuYygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmludHJvKVxuICAgICAgICAgICAgdHJhbnNpdGlvbl9pbihjb21wb25lbnQuJCQuZnJhZ21lbnQpO1xuICAgICAgICBtb3VudF9jb21wb25lbnQoY29tcG9uZW50LCBvcHRpb25zLnRhcmdldCwgb3B0aW9ucy5hbmNob3IsIG9wdGlvbnMuY3VzdG9tRWxlbWVudCk7XG4gICAgICAgIGVuZF9oeWRyYXRpbmcoKTtcbiAgICAgICAgZmx1c2goKTtcbiAgICB9XG4gICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KHBhcmVudF9jb21wb25lbnQpO1xufVxubGV0IFN2ZWx0ZUVsZW1lbnQ7XG5pZiAodHlwZW9mIEhUTUxFbGVtZW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgU3ZlbHRlRWxlbWVudCA9IGNsYXNzIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgICAgIHN1cGVyKCk7XG4gICAgICAgICAgICB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6ICdvcGVuJyB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgb25fbW91bnQgfSA9IHRoaXMuJCQ7XG4gICAgICAgICAgICB0aGlzLiQkLm9uX2Rpc2Nvbm5lY3QgPSBvbl9tb3VudC5tYXAocnVuKS5maWx0ZXIoaXNfZnVuY3Rpb24pO1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZSB0b2RvOiBpbXByb3ZlIHR5cGluZ3NcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMuJCQuc2xvdHRlZCkge1xuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUgdG9kbzogaW1wcm92ZSB0eXBpbmdzXG4gICAgICAgICAgICAgICAgdGhpcy5hcHBlbmRDaGlsZCh0aGlzLiQkLnNsb3R0ZWRba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKGF0dHIsIF9vbGRWYWx1ZSwgbmV3VmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXNbYXR0cl0gPSBuZXdWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgICAgIHJ1bl9hbGwodGhpcy4kJC5vbl9kaXNjb25uZWN0KTtcbiAgICAgICAgfVxuICAgICAgICAkZGVzdHJveSgpIHtcbiAgICAgICAgICAgIGRlc3Ryb3lfY29tcG9uZW50KHRoaXMsIDEpO1xuICAgICAgICAgICAgdGhpcy4kZGVzdHJveSA9IG5vb3A7XG4gICAgICAgIH1cbiAgICAgICAgJG9uKHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAvLyBUT0RPIHNob3VsZCB0aGlzIGRlbGVnYXRlIHRvIGFkZEV2ZW50TGlzdGVuZXI/XG4gICAgICAgICAgICBpZiAoIWlzX2Z1bmN0aW9uKGNhbGxiYWNrKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBub29wO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY2FsbGJhY2tzID0gKHRoaXMuJCQuY2FsbGJhY2tzW3R5cGVdIHx8ICh0aGlzLiQkLmNhbGxiYWNrc1t0eXBlXSA9IFtdKSk7XG4gICAgICAgICAgICBjYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gY2FsbGJhY2tzLmluZGV4T2YoY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICAkc2V0KCQkcHJvcHMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLiQkc2V0ICYmICFpc19lbXB0eSgkJHByb3BzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuJCQuc2tpcF9ib3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy4kJHNldCgkJHByb3BzKTtcbiAgICAgICAgICAgICAgICB0aGlzLiQkLnNraXBfYm91bmQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59XG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIFN2ZWx0ZSBjb21wb25lbnRzLiBVc2VkIHdoZW4gZGV2PWZhbHNlLlxuICovXG5jbGFzcyBTdmVsdGVDb21wb25lbnQge1xuICAgICRkZXN0cm95KCkge1xuICAgICAgICBkZXN0cm95X2NvbXBvbmVudCh0aGlzLCAxKTtcbiAgICAgICAgdGhpcy4kZGVzdHJveSA9IG5vb3A7XG4gICAgfVxuICAgICRvbih0eXBlLCBjYWxsYmFjaykge1xuICAgICAgICBpZiAoIWlzX2Z1bmN0aW9uKGNhbGxiYWNrKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5vb3A7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2FsbGJhY2tzID0gKHRoaXMuJCQuY2FsbGJhY2tzW3R5cGVdIHx8ICh0aGlzLiQkLmNhbGxiYWNrc1t0eXBlXSA9IFtdKSk7XG4gICAgICAgIGNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gY2FsbGJhY2tzLmluZGV4T2YoY2FsbGJhY2spO1xuICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSlcbiAgICAgICAgICAgICAgICBjYWxsYmFja3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgJHNldCgkJHByb3BzKSB7XG4gICAgICAgIGlmICh0aGlzLiQkc2V0ICYmICFpc19lbXB0eSgkJHByb3BzKSkge1xuICAgICAgICAgICAgdGhpcy4kJC5za2lwX2JvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuJCRzZXQoJCRwcm9wcyk7XG4gICAgICAgICAgICB0aGlzLiQkLnNraXBfYm91bmQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gZGlzcGF0Y2hfZGV2KHR5cGUsIGRldGFpbCkge1xuICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoY3VzdG9tX2V2ZW50KHR5cGUsIE9iamVjdC5hc3NpZ24oeyB2ZXJzaW9uOiAnMy41My4xJyB9LCBkZXRhaWwpLCB7IGJ1YmJsZXM6IHRydWUgfSkpO1xufVxuZnVuY3Rpb24gYXBwZW5kX2Rldih0YXJnZXQsIG5vZGUpIHtcbiAgICBkaXNwYXRjaF9kZXYoJ1N2ZWx0ZURPTUluc2VydCcsIHsgdGFyZ2V0LCBub2RlIH0pO1xuICAgIGFwcGVuZCh0YXJnZXQsIG5vZGUpO1xufVxuZnVuY3Rpb24gYXBwZW5kX2h5ZHJhdGlvbl9kZXYodGFyZ2V0LCBub2RlKSB7XG4gICAgZGlzcGF0Y2hfZGV2KCdTdmVsdGVET01JbnNlcnQnLCB7IHRhcmdldCwgbm9kZSB9KTtcbiAgICBhcHBlbmRfaHlkcmF0aW9uKHRhcmdldCwgbm9kZSk7XG59XG5mdW5jdGlvbiBpbnNlcnRfZGV2KHRhcmdldCwgbm9kZSwgYW5jaG9yKSB7XG4gICAgZGlzcGF0Y2hfZGV2KCdTdmVsdGVET01JbnNlcnQnLCB7IHRhcmdldCwgbm9kZSwgYW5jaG9yIH0pO1xuICAgIGluc2VydCh0YXJnZXQsIG5vZGUsIGFuY2hvcik7XG59XG5mdW5jdGlvbiBpbnNlcnRfaHlkcmF0aW9uX2Rldih0YXJnZXQsIG5vZGUsIGFuY2hvcikge1xuICAgIGRpc3BhdGNoX2RldignU3ZlbHRlRE9NSW5zZXJ0JywgeyB0YXJnZXQsIG5vZGUsIGFuY2hvciB9KTtcbiAgICBpbnNlcnRfaHlkcmF0aW9uKHRhcmdldCwgbm9kZSwgYW5jaG9yKTtcbn1cbmZ1bmN0aW9uIGRldGFjaF9kZXYobm9kZSkge1xuICAgIGRpc3BhdGNoX2RldignU3ZlbHRlRE9NUmVtb3ZlJywgeyBub2RlIH0pO1xuICAgIGRldGFjaChub2RlKTtcbn1cbmZ1bmN0aW9uIGRldGFjaF9iZXR3ZWVuX2RldihiZWZvcmUsIGFmdGVyKSB7XG4gICAgd2hpbGUgKGJlZm9yZS5uZXh0U2libGluZyAmJiBiZWZvcmUubmV4dFNpYmxpbmcgIT09IGFmdGVyKSB7XG4gICAgICAgIGRldGFjaF9kZXYoYmVmb3JlLm5leHRTaWJsaW5nKTtcbiAgICB9XG59XG5mdW5jdGlvbiBkZXRhY2hfYmVmb3JlX2RldihhZnRlcikge1xuICAgIHdoaWxlIChhZnRlci5wcmV2aW91c1NpYmxpbmcpIHtcbiAgICAgICAgZGV0YWNoX2RldihhZnRlci5wcmV2aW91c1NpYmxpbmcpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGRldGFjaF9hZnRlcl9kZXYoYmVmb3JlKSB7XG4gICAgd2hpbGUgKGJlZm9yZS5uZXh0U2libGluZykge1xuICAgICAgICBkZXRhY2hfZGV2KGJlZm9yZS5uZXh0U2libGluZyk7XG4gICAgfVxufVxuZnVuY3Rpb24gbGlzdGVuX2Rldihub2RlLCBldmVudCwgaGFuZGxlciwgb3B0aW9ucywgaGFzX3ByZXZlbnRfZGVmYXVsdCwgaGFzX3N0b3BfcHJvcGFnYXRpb24pIHtcbiAgICBjb25zdCBtb2RpZmllcnMgPSBvcHRpb25zID09PSB0cnVlID8gWydjYXB0dXJlJ10gOiBvcHRpb25zID8gQXJyYXkuZnJvbShPYmplY3Qua2V5cyhvcHRpb25zKSkgOiBbXTtcbiAgICBpZiAoaGFzX3ByZXZlbnRfZGVmYXVsdClcbiAgICAgICAgbW9kaWZpZXJzLnB1c2goJ3ByZXZlbnREZWZhdWx0Jyk7XG4gICAgaWYgKGhhc19zdG9wX3Byb3BhZ2F0aW9uKVxuICAgICAgICBtb2RpZmllcnMucHVzaCgnc3RvcFByb3BhZ2F0aW9uJyk7XG4gICAgZGlzcGF0Y2hfZGV2KCdTdmVsdGVET01BZGRFdmVudExpc3RlbmVyJywgeyBub2RlLCBldmVudCwgaGFuZGxlciwgbW9kaWZpZXJzIH0pO1xuICAgIGNvbnN0IGRpc3Bvc2UgPSBsaXN0ZW4obm9kZSwgZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGRpc3BhdGNoX2RldignU3ZlbHRlRE9NUmVtb3ZlRXZlbnRMaXN0ZW5lcicsIHsgbm9kZSwgZXZlbnQsIGhhbmRsZXIsIG1vZGlmaWVycyB9KTtcbiAgICAgICAgZGlzcG9zZSgpO1xuICAgIH07XG59XG5mdW5jdGlvbiBhdHRyX2Rldihub2RlLCBhdHRyaWJ1dGUsIHZhbHVlKSB7XG4gICAgYXR0cihub2RlLCBhdHRyaWJ1dGUsIHZhbHVlKTtcbiAgICBpZiAodmFsdWUgPT0gbnVsbClcbiAgICAgICAgZGlzcGF0Y2hfZGV2KCdTdmVsdGVET01SZW1vdmVBdHRyaWJ1dGUnLCB7IG5vZGUsIGF0dHJpYnV0ZSB9KTtcbiAgICBlbHNlXG4gICAgICAgIGRpc3BhdGNoX2RldignU3ZlbHRlRE9NU2V0QXR0cmlidXRlJywgeyBub2RlLCBhdHRyaWJ1dGUsIHZhbHVlIH0pO1xufVxuZnVuY3Rpb24gcHJvcF9kZXYobm9kZSwgcHJvcGVydHksIHZhbHVlKSB7XG4gICAgbm9kZVtwcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICBkaXNwYXRjaF9kZXYoJ1N2ZWx0ZURPTVNldFByb3BlcnR5JywgeyBub2RlLCBwcm9wZXJ0eSwgdmFsdWUgfSk7XG59XG5mdW5jdGlvbiBkYXRhc2V0X2Rldihub2RlLCBwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgICBub2RlLmRhdGFzZXRbcHJvcGVydHldID0gdmFsdWU7XG4gICAgZGlzcGF0Y2hfZGV2KCdTdmVsdGVET01TZXREYXRhc2V0JywgeyBub2RlLCBwcm9wZXJ0eSwgdmFsdWUgfSk7XG59XG5mdW5jdGlvbiBzZXRfZGF0YV9kZXYodGV4dCwgZGF0YSkge1xuICAgIGRhdGEgPSAnJyArIGRhdGE7XG4gICAgaWYgKHRleHQud2hvbGVUZXh0ID09PSBkYXRhKVxuICAgICAgICByZXR1cm47XG4gICAgZGlzcGF0Y2hfZGV2KCdTdmVsdGVET01TZXREYXRhJywgeyBub2RlOiB0ZXh0LCBkYXRhIH0pO1xuICAgIHRleHQuZGF0YSA9IGRhdGE7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZV9lYWNoX2FyZ3VtZW50KGFyZykge1xuICAgIGlmICh0eXBlb2YgYXJnICE9PSAnc3RyaW5nJyAmJiAhKGFyZyAmJiB0eXBlb2YgYXJnID09PSAnb2JqZWN0JyAmJiAnbGVuZ3RoJyBpbiBhcmcpKSB7XG4gICAgICAgIGxldCBtc2cgPSAneyNlYWNofSBvbmx5IGl0ZXJhdGVzIG92ZXIgYXJyYXktbGlrZSBvYmplY3RzLic7XG4gICAgICAgIGlmICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIGFyZyAmJiBTeW1ib2wuaXRlcmF0b3IgaW4gYXJnKSB7XG4gICAgICAgICAgICBtc2cgKz0gJyBZb3UgY2FuIHVzZSBhIHNwcmVhZCB0byBjb252ZXJ0IHRoaXMgaXRlcmFibGUgaW50byBhbiBhcnJheS4nO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHZhbGlkYXRlX3Nsb3RzKG5hbWUsIHNsb3QsIGtleXMpIHtcbiAgICBmb3IgKGNvbnN0IHNsb3Rfa2V5IG9mIE9iamVjdC5rZXlzKHNsb3QpKSB7XG4gICAgICAgIGlmICghfmtleXMuaW5kZXhPZihzbG90X2tleSkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgPCR7bmFtZX0+IHJlY2VpdmVkIGFuIHVuZXhwZWN0ZWQgc2xvdCBcIiR7c2xvdF9rZXl9XCIuYCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiB2YWxpZGF0ZV9keW5hbWljX2VsZW1lbnQodGFnKSB7XG4gICAgY29uc3QgaXNfc3RyaW5nID0gdHlwZW9mIHRhZyA9PT0gJ3N0cmluZyc7XG4gICAgaWYgKHRhZyAmJiAhaXNfc3RyaW5nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignPHN2ZWx0ZTplbGVtZW50PiBleHBlY3RzIFwidGhpc1wiIGF0dHJpYnV0ZSB0byBiZSBhIHN0cmluZy4nKTtcbiAgICB9XG59XG5mdW5jdGlvbiB2YWxpZGF0ZV92b2lkX2R5bmFtaWNfZWxlbWVudCh0YWcpIHtcbiAgICBpZiAodGFnICYmIGlzX3ZvaWQodGFnKSkge1xuICAgICAgICBjb25zb2xlLndhcm4oYDxzdmVsdGU6ZWxlbWVudCB0aGlzPVwiJHt0YWd9XCI+IGlzIHNlbGYtY2xvc2luZyBhbmQgY2Fubm90IGhhdmUgY29udGVudC5gKTtcbiAgICB9XG59XG5mdW5jdGlvbiBjb25zdHJ1Y3Rfc3ZlbHRlX2NvbXBvbmVudF9kZXYoY29tcG9uZW50LCBwcm9wcykge1xuICAgIGNvbnN0IGVycm9yX21lc3NhZ2UgPSAndGhpcz17Li4ufSBvZiA8c3ZlbHRlOmNvbXBvbmVudD4gc2hvdWxkIHNwZWNpZnkgYSBTdmVsdGUgY29tcG9uZW50Lic7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBuZXcgY29tcG9uZW50KHByb3BzKTtcbiAgICAgICAgaWYgKCFpbnN0YW5jZS4kJCB8fCAhaW5zdGFuY2UuJHNldCB8fCAhaW5zdGFuY2UuJG9uIHx8ICFpbnN0YW5jZS4kZGVzdHJveSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yX21lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zdCB7IG1lc3NhZ2UgfSA9IGVycjtcbiAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlID09PSAnc3RyaW5nJyAmJiBtZXNzYWdlLmluZGV4T2YoJ2lzIG5vdCBhIGNvbnN0cnVjdG9yJykgIT09IC0xKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JfbWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIFN2ZWx0ZSBjb21wb25lbnRzIHdpdGggc29tZSBtaW5vciBkZXYtZW5oYW5jZW1lbnRzLiBVc2VkIHdoZW4gZGV2PXRydWUuXG4gKi9cbmNsYXNzIFN2ZWx0ZUNvbXBvbmVudERldiBleHRlbmRzIFN2ZWx0ZUNvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBpZiAoIW9wdGlvbnMgfHwgKCFvcHRpb25zLnRhcmdldCAmJiAhb3B0aW9ucy4kJGlubGluZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIid0YXJnZXQnIGlzIGEgcmVxdWlyZWQgb3B0aW9uXCIpO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuICAgICRkZXN0cm95KCkge1xuICAgICAgICBzdXBlci4kZGVzdHJveSgpO1xuICAgICAgICB0aGlzLiRkZXN0cm95ID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdDb21wb25lbnQgd2FzIGFscmVhZHkgZGVzdHJveWVkJyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgICAgICB9O1xuICAgIH1cbiAgICAkY2FwdHVyZV9zdGF0ZSgpIHsgfVxuICAgICRpbmplY3Rfc3RhdGUoKSB7IH1cbn1cbi8qKlxuICogQmFzZSBjbGFzcyB0byBjcmVhdGUgc3Ryb25nbHkgdHlwZWQgU3ZlbHRlIGNvbXBvbmVudHMuXG4gKiBUaGlzIG9ubHkgZXhpc3RzIGZvciB0eXBpbmcgcHVycG9zZXMgYW5kIHNob3VsZCBiZSB1c2VkIGluIGAuZC50c2AgZmlsZXMuXG4gKlxuICogIyMjIEV4YW1wbGU6XG4gKlxuICogWW91IGhhdmUgY29tcG9uZW50IGxpYnJhcnkgb24gbnBtIGNhbGxlZCBgY29tcG9uZW50LWxpYnJhcnlgLCBmcm9tIHdoaWNoXG4gKiB5b3UgZXhwb3J0IGEgY29tcG9uZW50IGNhbGxlZCBgTXlDb21wb25lbnRgLiBGb3IgU3ZlbHRlK1R5cGVTY3JpcHQgdXNlcnMsXG4gKiB5b3Ugd2FudCB0byBwcm92aWRlIHR5cGluZ3MuIFRoZXJlZm9yZSB5b3UgY3JlYXRlIGEgYGluZGV4LmQudHNgOlxuICogYGBgdHNcbiAqIGltcG9ydCB7IFN2ZWx0ZUNvbXBvbmVudFR5cGVkIH0gZnJvbSBcInN2ZWx0ZVwiO1xuICogZXhwb3J0IGNsYXNzIE15Q29tcG9uZW50IGV4dGVuZHMgU3ZlbHRlQ29tcG9uZW50VHlwZWQ8e2Zvbzogc3RyaW5nfT4ge31cbiAqIGBgYFxuICogVHlwaW5nIHRoaXMgbWFrZXMgaXQgcG9zc2libGUgZm9yIElERXMgbGlrZSBWUyBDb2RlIHdpdGggdGhlIFN2ZWx0ZSBleHRlbnNpb25cbiAqIHRvIHByb3ZpZGUgaW50ZWxsaXNlbnNlIGFuZCB0byB1c2UgdGhlIGNvbXBvbmVudCBsaWtlIHRoaXMgaW4gYSBTdmVsdGUgZmlsZVxuICogd2l0aCBUeXBlU2NyaXB0OlxuICogYGBgc3ZlbHRlXG4gKiA8c2NyaXB0IGxhbmc9XCJ0c1wiPlxuICogXHRpbXBvcnQgeyBNeUNvbXBvbmVudCB9IGZyb20gXCJjb21wb25lbnQtbGlicmFyeVwiO1xuICogPC9zY3JpcHQ+XG4gKiA8TXlDb21wb25lbnQgZm9vPXsnYmFyJ30gLz5cbiAqIGBgYFxuICpcbiAqICMjIyMgV2h5IG5vdCBtYWtlIHRoaXMgcGFydCBvZiBgU3ZlbHRlQ29tcG9uZW50KERldilgP1xuICogQmVjYXVzZVxuICogYGBgdHNcbiAqIGNsYXNzIEFTdWJjbGFzc09mU3ZlbHRlQ29tcG9uZW50IGV4dGVuZHMgU3ZlbHRlQ29tcG9uZW50PHtmb286IHN0cmluZ30+IHt9XG4gKiBjb25zdCBjb21wb25lbnQ6IHR5cGVvZiBTdmVsdGVDb21wb25lbnQgPSBBU3ViY2xhc3NPZlN2ZWx0ZUNvbXBvbmVudDtcbiAqIGBgYFxuICogd2lsbCB0aHJvdyBhIHR5cGUgZXJyb3IsIHNvIHdlIG5lZWQgdG8gc2VwYXJhdGUgdGhlIG1vcmUgc3RyaWN0bHkgdHlwZWQgY2xhc3MuXG4gKi9cbmNsYXNzIFN2ZWx0ZUNvbXBvbmVudFR5cGVkIGV4dGVuZHMgU3ZlbHRlQ29tcG9uZW50RGV2IHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGxvb3BfZ3VhcmQodGltZW91dCkge1xuICAgIGNvbnN0IHN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBpZiAoRGF0ZS5ub3coKSAtIHN0YXJ0ID4gdGltZW91dCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbmZpbml0ZSBsb29wIGRldGVjdGVkJyk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5leHBvcnQgeyBIdG1sVGFnLCBIdG1sVGFnSHlkcmF0aW9uLCBTdmVsdGVDb21wb25lbnQsIFN2ZWx0ZUNvbXBvbmVudERldiwgU3ZlbHRlQ29tcG9uZW50VHlwZWQsIFN2ZWx0ZUVsZW1lbnQsIGFjdGlvbl9kZXN0cm95ZXIsIGFkZF9hdHRyaWJ1dGUsIGFkZF9jbGFzc2VzLCBhZGRfZmx1c2hfY2FsbGJhY2ssIGFkZF9sb2NhdGlvbiwgYWRkX3JlbmRlcl9jYWxsYmFjaywgYWRkX3Jlc2l6ZV9saXN0ZW5lciwgYWRkX3N0eWxlcywgYWRkX3RyYW5zZm9ybSwgYWZ0ZXJVcGRhdGUsIGFwcGVuZCwgYXBwZW5kX2RldiwgYXBwZW5kX2VtcHR5X3N0eWxlc2hlZXQsIGFwcGVuZF9oeWRyYXRpb24sIGFwcGVuZF9oeWRyYXRpb25fZGV2LCBhcHBlbmRfc3R5bGVzLCBhc3NpZ24sIGF0dHIsIGF0dHJfZGV2LCBhdHRyaWJ1dGVfdG9fb2JqZWN0LCBiZWZvcmVVcGRhdGUsIGJpbmQsIGJpbmRpbmdfY2FsbGJhY2tzLCBibGFua19vYmplY3QsIGJ1YmJsZSwgY2hlY2tfb3V0cm9zLCBjaGlsZHJlbiwgY2xhaW1fY29tcG9uZW50LCBjbGFpbV9lbGVtZW50LCBjbGFpbV9odG1sX3RhZywgY2xhaW1fc3BhY2UsIGNsYWltX3N2Z19lbGVtZW50LCBjbGFpbV90ZXh0LCBjbGVhcl9sb29wcywgY29tcG9uZW50X3N1YnNjcmliZSwgY29tcHV0ZV9yZXN0X3Byb3BzLCBjb21wdXRlX3Nsb3RzLCBjb25zdHJ1Y3Rfc3ZlbHRlX2NvbXBvbmVudCwgY29uc3RydWN0X3N2ZWx0ZV9jb21wb25lbnRfZGV2LCBjcmVhdGVFdmVudERpc3BhdGNoZXIsIGNyZWF0ZV9hbmltYXRpb24sIGNyZWF0ZV9iaWRpcmVjdGlvbmFsX3RyYW5zaXRpb24sIGNyZWF0ZV9jb21wb25lbnQsIGNyZWF0ZV9pbl90cmFuc2l0aW9uLCBjcmVhdGVfb3V0X3RyYW5zaXRpb24sIGNyZWF0ZV9zbG90LCBjcmVhdGVfc3NyX2NvbXBvbmVudCwgY3VycmVudF9jb21wb25lbnQsIGN1c3RvbV9ldmVudCwgZGF0YXNldF9kZXYsIGRlYnVnLCBkZXN0cm95X2Jsb2NrLCBkZXN0cm95X2NvbXBvbmVudCwgZGVzdHJveV9lYWNoLCBkZXRhY2gsIGRldGFjaF9hZnRlcl9kZXYsIGRldGFjaF9iZWZvcmVfZGV2LCBkZXRhY2hfYmV0d2Vlbl9kZXYsIGRldGFjaF9kZXYsIGRpcnR5X2NvbXBvbmVudHMsIGRpc3BhdGNoX2RldiwgZWFjaCwgZWxlbWVudCwgZWxlbWVudF9pcywgZW1wdHksIGVuZF9oeWRyYXRpbmcsIGVzY2FwZSwgZXNjYXBlX2F0dHJpYnV0ZV92YWx1ZSwgZXNjYXBlX29iamVjdCwgZXhjbHVkZV9pbnRlcm5hbF9wcm9wcywgZml4X2FuZF9kZXN0cm95X2Jsb2NrLCBmaXhfYW5kX291dHJvX2FuZF9kZXN0cm95X2Jsb2NrLCBmaXhfcG9zaXRpb24sIGZsdXNoLCBnZXRBbGxDb250ZXh0cywgZ2V0Q29udGV4dCwgZ2V0X2FsbF9kaXJ0eV9mcm9tX3Njb3BlLCBnZXRfYmluZGluZ19ncm91cF92YWx1ZSwgZ2V0X2N1cnJlbnRfY29tcG9uZW50LCBnZXRfY3VzdG9tX2VsZW1lbnRzX3Nsb3RzLCBnZXRfcm9vdF9mb3Jfc3R5bGUsIGdldF9zbG90X2NoYW5nZXMsIGdldF9zcHJlYWRfb2JqZWN0LCBnZXRfc3ByZWFkX3VwZGF0ZSwgZ2V0X3N0b3JlX3ZhbHVlLCBnbG9iYWxzLCBncm91cF9vdXRyb3MsIGhhbmRsZV9wcm9taXNlLCBoYXNDb250ZXh0LCBoYXNfcHJvcCwgaGVhZF9zZWxlY3RvciwgaWRlbnRpdHksIGluaXQsIGluc2VydCwgaW5zZXJ0X2RldiwgaW5zZXJ0X2h5ZHJhdGlvbiwgaW5zZXJ0X2h5ZHJhdGlvbl9kZXYsIGludHJvcywgaW52YWxpZF9hdHRyaWJ1dGVfbmFtZV9jaGFyYWN0ZXIsIGlzX2NsaWVudCwgaXNfY3Jvc3NvcmlnaW4sIGlzX2VtcHR5LCBpc19mdW5jdGlvbiwgaXNfcHJvbWlzZSwgaXNfdm9pZCwgbGlzdGVuLCBsaXN0ZW5fZGV2LCBsb29wLCBsb29wX2d1YXJkLCBtZXJnZV9zc3Jfc3R5bGVzLCBtaXNzaW5nX2NvbXBvbmVudCwgbW91bnRfY29tcG9uZW50LCBub29wLCBub3RfZXF1YWwsIG5vdywgbnVsbF90b19lbXB0eSwgb2JqZWN0X3dpdGhvdXRfcHJvcGVydGllcywgb25EZXN0cm95LCBvbk1vdW50LCBvbmNlLCBvdXRyb19hbmRfZGVzdHJveV9ibG9jaywgcHJldmVudF9kZWZhdWx0LCBwcm9wX2RldiwgcXVlcnlfc2VsZWN0b3JfYWxsLCByYWYsIHJ1biwgcnVuX2FsbCwgc2FmZV9ub3RfZXF1YWwsIHNjaGVkdWxlX3VwZGF0ZSwgc2VsZWN0X211bHRpcGxlX3ZhbHVlLCBzZWxlY3Rfb3B0aW9uLCBzZWxlY3Rfb3B0aW9ucywgc2VsZWN0X3ZhbHVlLCBzZWxmLCBzZXRDb250ZXh0LCBzZXRfYXR0cmlidXRlcywgc2V0X2N1cnJlbnRfY29tcG9uZW50LCBzZXRfY3VzdG9tX2VsZW1lbnRfZGF0YSwgc2V0X2N1c3RvbV9lbGVtZW50X2RhdGFfbWFwLCBzZXRfZGF0YSwgc2V0X2RhdGFfZGV2LCBzZXRfaW5wdXRfdHlwZSwgc2V0X2lucHV0X3ZhbHVlLCBzZXRfbm93LCBzZXRfcmFmLCBzZXRfc3RvcmVfdmFsdWUsIHNldF9zdHlsZSwgc2V0X3N2Z19hdHRyaWJ1dGVzLCBzcGFjZSwgc3ByZWFkLCBzcmNfdXJsX2VxdWFsLCBzdGFydF9oeWRyYXRpbmcsIHN0b3BfcHJvcGFnYXRpb24sIHN1YnNjcmliZSwgc3ZnX2VsZW1lbnQsIHRleHQsIHRpY2ssIHRpbWVfcmFuZ2VzX3RvX2FycmF5LCB0b19udW1iZXIsIHRvZ2dsZV9jbGFzcywgdHJhbnNpdGlvbl9pbiwgdHJhbnNpdGlvbl9vdXQsIHRydXN0ZWQsIHVwZGF0ZV9hd2FpdF9ibG9ja19icmFuY2gsIHVwZGF0ZV9rZXllZF9lYWNoLCB1cGRhdGVfc2xvdCwgdXBkYXRlX3Nsb3RfYmFzZSwgdmFsaWRhdGVfY29tcG9uZW50LCB2YWxpZGF0ZV9keW5hbWljX2VsZW1lbnQsIHZhbGlkYXRlX2VhY2hfYXJndW1lbnQsIHZhbGlkYXRlX2VhY2hfa2V5cywgdmFsaWRhdGVfc2xvdHMsIHZhbGlkYXRlX3N0b3JlLCB2YWxpZGF0ZV92b2lkX2R5bmFtaWNfZWxlbWVudCwgeGxpbmtfYXR0ciB9O1xuIiwgImltcG9ydCB7IG1vbWVudCB9IGZyb20gJ29ic2lkaWFuJztcblxuY29uc3QgbW9udGhOYW1lcyA9IFsnSmFudWFyeScsICdGZWJydWFyeScsICdNYXJjaCcsICdBcHJpbCcsICdNYXknLCAnSnVuZScsICdKdWx5JywgJ0F1Z3VzdCcsICdTZXB0ZW1iZXInLCAnT2N0b2JlcicsICdOb3ZlbWJlcicsICdEZWNlbWJlciddO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TW9udGhOYW1lKGluZGV4OiBudW1iZXIpOiBzdHJpbmcge1xuXHRyZXR1cm4gbW9udGhOYW1lc1tpbmRleF07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREYXRlUm93cyhtb250aEluZGV4OiBudW1iZXIsIHllYXI6IG51bWJlcik6IG51bWJlcltdIHtcblx0Y29uc3QgZGF5czogbnVtYmVyID0gbW9tZW50KG5ldyBEYXRlKHllYXIsIG1vbnRoSW5kZXgpKS5kYXlzSW5Nb250aCgpOyAvLyBhbW91bnQgb2YgZGF5cyBpbiBtb250aFxuXHRsZXQgcm93czogbnVtYmVyW10gPSBuZXcgQXJyYXkoNDIpLmZpbGwodW5kZWZpbmVkKTsgLy8gZW1wdHkgNDIgbG9uZyBhcnJheVxuXHRjb25zdCBzdGFydEluZGV4OiBudW1iZXIgPSBnZXRXZWVrRGF5KG5ldyBEYXRlKHllYXIsIG1vbnRoSW5kZXgsIDEpKTsgLy8gaW5kZXggb2Zmc2V0IGJhc2VkIG9uIHdlZWtkYXkgb2YgZmlyc3QgZGF5IGluIG1vbnRoXG5cblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBkYXlzOyBpKyspIHtcblx0XHRyb3dzW2kgKyBzdGFydEluZGV4XSA9IGkgKyAxO1xuXHR9XG5cblx0cm93cyA9IHJvd3Nbcm93cy5sZW5ndGggLSA3XSA/IHJvd3MgOiByb3dzLnNsaWNlKDAsIC03KTsgLy8gc2xpY2UgbGFzdCB3ZWVrIGlmIGl0IGlzIGVtcHR5XG5cdHJvd3MgPSByb3dzW3Jvd3MubGVuZ3RoIC0gN10gPyByb3dzIDogcm93cy5zbGljZSgwLCAtNyk7IC8vIHNsaWNlIGxhc3Qgd2VlayBpZiBpdCBpcyBlbXB0eVxuXG5cdHJldHVybiByb3dzO1xufVxuXG4vLyBmaXJzdCBkYXkgb2YgdGhlIHdlZWsgaXMgbW9uZGF5IHdoZXJlIEkgbGl2ZVxuZXhwb3J0IGZ1bmN0aW9uIGdldFdlZWtEYXkoZGF0ZTogRGF0ZSk6IG51bWJlciB7XG5cdHJldHVybiBkYXRlLmdldERheSgpID09PSAwID8gNiA6IGRhdGUuZ2V0RGF5KCkgLSAxO1xufVxuXG4vLyBmaXJzdCBkYXkgb2YgdGhlIHdlZWsgaXMgbW9uZGF5IHdoZXJlIEkgbGl2ZVxuZXhwb3J0IGZ1bmN0aW9uIGdldFdlZWtEYXlzKCk6IHN0cmluZ1tdIHtcblx0cmV0dXJuIFsnTW8nLCAnVHUnLCAnV2UnLCAnVGgnLCAnRnInLCAnU2EnLCAnU3UnXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHV1aWQoKTogKCkgPT4gbnVtYmVyIHtcblx0bGV0IGlkID0gMDtcblx0cmV0dXJuICgpID0+IHtcblx0XHRyZXR1cm4gKytpZDtcblx0fTtcbn1cbiIsICI8c2NyaXB0IGxhbmc9XCJ0c1wiPlxyXG5cdGltcG9ydCB7Z2V0RGF0ZVJvd3MsIGdldFdlZWtEYXlzLCB1dWlkfSBmcm9tICcuL0RhdGVQaWNrZXJJbnB1dFN2ZWx0ZUhlbHBlcnMuanMnO1xyXG5cdGltcG9ydCB7Y3JlYXRlRXZlbnREaXNwYXRjaGVyfSBmcm9tICdzdmVsdGUnO1xyXG5cdGltcG9ydCB7bW9tZW50fSBmcm9tICdvYnNpZGlhbic7XHJcblx0aW1wb3J0IHR5cGUge01vbWVudH0gZnJvbSAnbW9tZW50JztcclxuXHJcblx0Y29uc3QgZGlzcGF0Y2ggPSBjcmVhdGVFdmVudERpc3BhdGNoZXIoKTtcclxuXHJcblx0Ly8gcHJvcHNcclxuXHRleHBvcnQgbGV0IHNlbGVjdGVkRGF0ZTogTW9tZW50O1xyXG5cdGV4cG9ydCBsZXQgbW9udGg6IG51bWJlcjtcclxuXHRleHBvcnQgbGV0IHllYXI6IG51bWJlcjtcclxuXHJcblx0Ly8gbG9jYWwgdmFycyB0byBoZWxwIGluIHJlbmRlclxyXG5cdGxldCBjZWxscztcclxuXHJcblx0Ly8gZnVuY3Rpb24gaGVscGVyc1xyXG5cdGZ1bmN0aW9uIG9uQ2hhbmdlKGRhdGU6IG51bWJlcikge1xyXG5cdFx0ZGlzcGF0Y2goJ2RhdGVDaGFuZ2UnLCBtb21lbnQobmV3IERhdGUoeWVhciwgbW9udGgsIGRhdGUpKSk7XHJcblx0fVxyXG5cclxuXHQkOiBjZWxscyA9IGdldERhdGVSb3dzKG1vbnRoLCB5ZWFyKTtcclxuPC9zY3JpcHQ+XHJcblxyXG48c3R5bGU+XHJcblx0LmNhbGVuZGFyIHtcclxuXHRcdG1hcmdpbi10b3A6IDEwcHg7XHJcblx0fVxyXG5cclxuXHQuY2FsZW5kYXItaGVhZGVyIHtcclxuXHRcdGRpc3BsYXk6ICAgICAgICAgZmxleDtcclxuXHRcdGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xyXG5cdFx0ZmxleC13cmFwOiAgICAgICB3cmFwO1xyXG5cdFx0Z2FwOiAgICAgICAgICAgICAycHg7XHJcblx0XHRiYWNrZ3JvdW5kOiAgICAgIHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XHJcblx0XHRib3JkZXItcmFkaXVzOiAgIHZhcigtLW1ldGEtYmluZC1wbHVnaW4tYm9yZGVyLXJhZGl1cyk7XHJcblx0XHRtYXJnaW4tYm90dG9tOiAgIDJweDtcclxuXHR9XHJcblxyXG5cdC5jYWxlbmRhci1jb250ZW50IHtcclxuXHRcdGRpc3BsYXk6ICAgICAgICAgICAgICAgZ3JpZDtcclxuXHRcdGZsZXgtd3JhcDogICAgICAgICAgICAgd3JhcDtcclxuXHRcdGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDcsIDFmcik7XHJcblx0XHRnYXA6ICAgICAgICAgICAgICAgICAgIDJweDtcclxuXHR9XHJcblxyXG5cdC5jZWxsIHtcclxuXHRcdG1pbi13aWR0aDogICAgICAgNDBweDtcclxuXHRcdGhlaWdodDogICAgICAgICAgMzBweDtcclxuXHRcdHBhZGRpbmc6ICAgICAgICAgNXB4O1xyXG5cdFx0ZGlzcGxheTogICAgICAgICBmbGV4O1xyXG5cdFx0anVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcblx0XHRhbGlnbi1pdGVtczogICAgIGNlbnRlcjtcclxuXHRcdGJvcmRlci1yYWRpdXM6ICAgdmFyKC0tbWV0YS1iaW5kLXBsdWdpbi1ib3JkZXItcmFkaXVzKTtcclxuXHR9XHJcblxyXG5cdC5jb250ZW50LWNlbGwge1xyXG5cdFx0Y3Vyc29yOiBwb2ludGVyO1xyXG5cdH1cclxuXHJcblx0LmNlbGwtdGV4dCB7XHJcblx0XHRtYXJnaW46ICAgICBhdXRvO1xyXG5cdFx0dGV4dC1hbGlnbjogY2VudGVyO1xyXG5cdH1cclxuXHJcblx0LnNlbGVjdGVkIHtcclxuXHRcdGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItc3VjY2Vzcyk7XHJcblx0fVxyXG5cclxuXHQuaGlnaGxpZ2h0OmhvdmVyIHtcclxuXHRcdGJhY2tncm91bmQ6IHZhcigtLWludGVyYWN0aXZlLWhvdmVyKTtcclxuXHR9XHJcblxyXG5cdC5zZWxlY3RlZC5oaWdobGlnaHQ6aG92ZXIge1xyXG5cdFx0YmFja2dyb3VuZDogZ3JlZW47XHJcblx0fVxyXG48L3N0eWxlPlxyXG5cclxuPGRpdiBjbGFzcz1cImNhbGVuZGFyXCI+XHJcblx0PGRpdiBjbGFzcz1cImNhbGVuZGFyLWhlYWRlclwiPlxyXG5cdFx0eyNlYWNoIGdldFdlZWtEYXlzKCkgYXMgZGF5fVxyXG5cdFx0XHQ8ZGl2IGNsYXNzPVwiY2VsbCBoZWFkZXItY2VsbFwiPlxyXG5cdFx0XHRcdDxzcGFuIGNsYXNzPVwiY2VsbC10ZXh0XCI+e2RheX08L3NwYW4+XHJcblx0XHRcdDwvZGl2PlxyXG5cdFx0ey9lYWNofVxyXG5cdDwvZGl2PlxyXG5cclxuXHQ8ZGl2IGNsYXNzPVwiY2FsZW5kYXItY29udGVudFwiPlxyXG5cdFx0eyNlYWNoIGNlbGxzIGFzIHZhbHVlICh1dWlkKCkpfVxyXG5cdFx0XHQ8ZGl2XHJcblx0XHRcdFx0Y2xhc3M9XCJjZWxsXCJcclxuXHRcdFx0XHRvbjpjbGljaz17dmFsdWUgPyAoKSA9PiBvbkNoYW5nZSh2YWx1ZSkgOiAoKSA9PiB7fX1cclxuXHRcdFx0XHRjbGFzczpoaWdobGlnaHQ9e3ZhbHVlfVxyXG5cdFx0XHRcdGNsYXNzOmNvbnRlbnQtY2VsbD17dmFsdWV9XHJcblx0XHRcdFx0Y2xhc3M6c2VsZWN0ZWQ9e3NlbGVjdGVkRGF0ZS55ZWFyKCkgPT09IHllYXIgJiYgc2VsZWN0ZWREYXRlLm1vbnRoKCkgPT09IG1vbnRoICYmIHNlbGVjdGVkRGF0ZS5kYXRlKCkgPT09IHZhbHVlfT5cclxuXHRcdFx0XHQ8c3BhbiBjbGFzcz1cImNlbGwtdGV4dFwiPnt2YWx1ZSB8fCAnJ308L3NwYW4+XHJcblx0XHRcdDwvZGl2PlxyXG5cdFx0ey9lYWNofVxyXG5cdDwvZGl2PlxyXG48L2Rpdj5cclxuIiwgIjwhLS1hZGFwdGVkIGZyb20gQGpvZXRoZWkncyBjb2RlOiBodHRwczovL2dpdGh1Yi5jb20vam9ldGhlaS9vYnNpZGlhbi1yc3MvYmxvYi9tYXN0ZXIvc3JjL3ZpZXcvSWNvbkNvbXBvbmVudC5zdmVsdGUtLT5cbjwhLS1hZGFwdGVkIGZyb20gQGphdmFsZW50J3MgY29kZTogaHR0cHM6Ly9kaXNjb3JkLmNvbS9jaGFubmVscy82ODYwNTM3MDgyNjEyMjg1NzcvODQwMjg2MjY0OTY0MDIyMzAyLzkwMjk0OTc2NDIwOTk4NzY1NC0tPlxuPHNjcmlwdCBsYW5nPVwidHNcIj5cblx0aW1wb3J0IHtzZXRJY29ufSBmcm9tICdvYnNpZGlhbic7XG5cdGltcG9ydCB7b25Nb3VudH0gZnJvbSAnc3ZlbHRlJztcblxuXHRleHBvcnQgbGV0IGljb25OYW1lOiBzdHJpbmcgPSAnJztcblx0ZXhwb3J0IGxldCBpY29uU2l6ZTogbnVtYmVyID0gMjA7XG5cblx0bGV0IGljb25FbDogSFRNTEVsZW1lbnQ7XG5cblx0b25Nb3VudCgoKSA9PiB7XG5cdFx0c2V0SWNvbihpY29uRWwsIGljb25OYW1lLCBpY29uU2l6ZSk7XG5cdH0pO1xuPC9zY3JpcHQ+XG5cbjxzdHlsZT5cblx0Lmljb24td3JhcHBlciB7XG5cdFx0ZGlzcGxheTogIGlubGluZS1ibG9jaztcblx0XHRwb3NpdGlvbjogcmVsYXRpdmU7XG5cdFx0d2lkdGg6ICAgIDIwcHg7XG5cdH1cblxuXHQuaWNvbiB7XG5cdFx0cG9zaXRpb246IGFic29sdXRlO1xuXHRcdGhlaWdodDogICAyMHB4O1xuXHRcdHdpZHRoOiAgICAyMHB4O1xuXHRcdGJvdHRvbTogICAtNnB4O1xuXHR9XG48L3N0eWxlPlxuXG57I2lmIGljb25OYW1lLmxlbmd0aCA+IDB9XG5cdDxkaXYgY2xhc3M9XCJpY29uLXdyYXBwZXJcIj5cblx0XHQ8ZGl2IGJpbmQ6dGhpcz17aWNvbkVsfSBjbGFzcz1cImljb25cIj48L2Rpdj5cblx0PC9kaXY+XG57L2lmfVxuIiwgIjxzY3JpcHQgbGFuZz1cInRzXCI+XHJcblx0aW1wb3J0IHtjcmVhdGVFdmVudERpc3BhdGNoZXJ9IGZyb20gJ3N2ZWx0ZSc7XHJcblx0aW1wb3J0IENhbGVuZGVyIGZyb20gJy4vQ2FsZW5kZXIuc3ZlbHRlJztcclxuXHRpbXBvcnQge2dldE1vbnRoTmFtZX0gZnJvbSAnLi9EYXRlUGlja2VySW5wdXRTdmVsdGVIZWxwZXJzLmpzJztcclxuXHRpbXBvcnQge21vbWVudH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5cdGltcG9ydCB0eXBlIHtNb21lbnR9IGZyb20gJ21vbWVudCc7XHJcblx0aW1wb3J0IEljb24gZnJvbSAnLi9JY29uLnN2ZWx0ZSc7XHJcblxyXG5cdGNvbnN0IGRpc3BhdGNoID0gY3JlYXRlRXZlbnREaXNwYXRjaGVyKCk7XHJcblxyXG5cdGV4cG9ydCBsZXQgc2VsZWN0ZWREYXRlOiBNb21lbnQgPSBtb21lbnQoKTtcclxuXHRleHBvcnQgbGV0IGRhdGVGb3JtYXQ6IHN0cmluZyA9ICdkZGRkLCBNTU1NIERvIFlZWVknO1xyXG5cdGV4cG9ydCBsZXQgZGF0ZUNoYW5nZUNhbGxiYWNrOiAoZGF0ZTogTW9tZW50KSA9PiB2b2lkO1xyXG5cclxuXHRleHBvcnQgbGV0IGFsaWduUmlnaHQ6IGJvb2xlYW47XHJcblxyXG5cdGxldCBkYXRlOiBudW1iZXI7XHJcblx0bGV0IG1vbnRoOiBudW1iZXI7XHJcblx0bGV0IHllYXI6IG51bWJlcjtcclxuXHRsZXQgc2hvd0RhdGVQaWNrZXI6IGJvb2xlYW47XHJcblxyXG5cdC8vIHNvIHRoYXQgdGhlc2UgY2hhbmdlIHdpdGggcHJvcHNcclxuXHQkOiB7XHJcblx0XHRjb25zb2xlLmxvZygndXBkYXRlIGRhdGUgcGlja2VyJywgc2VsZWN0ZWREYXRlKTtcclxuXHRcdGRhdGUgPSBzZWxlY3RlZERhdGUuZGF0ZSgpO1xyXG5cdFx0bW9udGggPSBzZWxlY3RlZERhdGUubW9udGgoKTtcclxuXHRcdHllYXIgPSBzZWxlY3RlZERhdGUueWVhcigpO1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gbmV4dE1vbnRoKCk6IHZvaWQge1xyXG5cdFx0aWYgKG1vbnRoID09PSAxMSkge1xyXG5cdFx0XHRtb250aCA9IDA7XHJcblx0XHRcdHllYXIgKz0gMTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cdFx0bW9udGggPSBtb250aCArIDE7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBwcmV2TW9udGgoKTogdm9pZCB7XHJcblx0XHRpZiAobW9udGggPT09IDApIHtcclxuXHRcdFx0bW9udGggPSAxMTtcclxuXHRcdFx0eWVhciAtPSAxO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblx0XHRtb250aCAtPSAxO1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gY2hhbmdlWWVhcih2YWx1ZTogYW55KTogdm9pZCB7XHJcblx0XHRjb25zdCB2ID0gdmFsdWUudGFyZ2V0LnZhbHVlO1xyXG5cdFx0Y29uc3Qgdk51bSA9IE51bWJlci5wYXJzZUludCh2KTtcclxuXHRcdGlmICghTnVtYmVyLmlzTmFOKHZOdW0pKSB7XHJcblx0XHRcdHllYXIgPSB2TnVtO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gb25EYXRlQ2hhbmdlKGQ6IHsgZGV0YWlsOiBNb21lbnQgfSk6IHZvaWQge1xyXG5cdFx0c2hvd0RhdGVQaWNrZXIgPSBmYWxzZTtcclxuXHRcdHNlbGVjdGVkRGF0ZSA9IGQuZGV0YWlsO1xyXG5cdFx0ZGF0ZUNoYW5nZUNhbGxiYWNrKGQuZGV0YWlsKTtcclxuXHR9XHJcbjwvc2NyaXB0PlxyXG5cclxuPHN0eWxlPlxyXG5cdC5kYXRlLXBpY2tlci1pbnB1dCB7XHJcblx0XHRwb3NpdGlvbjogcmVsYXRpdmU7XHJcblx0XHRjb2xvcjogICAgdmFyKC0tdGV4dC1ub3JtYWwpO1xyXG5cdFx0ZGlzcGxheTogIGlubGluZS1ibG9jaztcclxuXHR9XHJcblxyXG5cdC5kYXRlLXBpY2tlciB7XHJcblx0XHRwb3NpdGlvbjogICAgICBhYnNvbHV0ZTtcclxuXHRcdHRvcDogICAgICAgICAgIDM1cHg7XHJcblx0XHRkaXNwbGF5OiAgICAgICBpbmxpbmUtYmxvY2s7XHJcblx0XHRiYWNrZ3JvdW5kOiAgICB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XHJcblx0XHRib3JkZXItcmFkaXVzOiB2YXIoLS1tZXRhLWJpbmQtcGx1Z2luLWJvcmRlci1yYWRpdXMpO1xyXG5cdFx0Ym9yZGVyOiAgICAgICAgdmFyKC0tbWV0YS1iaW5kLXBsdWdpbi1ib3JkZXItd2lkdGgpIHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcclxuXHRcdHBhZGRpbmc6ICAgICAgIDEwcHg7XHJcblx0XHR6LWluZGV4OiAgICAgICAxMDAwMDAwO1xyXG5cdH1cclxuXHJcblx0LmRhdGUtcGlja2VyLXRleHQge1xyXG5cdFx0YmFja2dyb3VuZDogICAgdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xyXG5cdFx0Ym9yZGVyLXJhZGl1czogdmFyKC0tbWV0YS1iaW5kLXBsdWdpbi1ib3JkZXItcmFkaXVzKTtcclxuXHRcdGJvcmRlcjogICAgICAgIHZhcigtLW1ldGEtYmluZC1wbHVnaW4tYm9yZGVyLXdpZHRoKSBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XHJcblx0XHRwYWRkaW5nOiAgICAgICA1cHggNXB4IDVweCA3cHg7XHJcblx0XHRjdXJzb3I6ICAgICAgICBwb2ludGVyO1xyXG5cdFx0d2lkdGg6ICAgICAgICAgZml0LWNvbnRlbnQ7XHJcblx0XHRkaXNwbGF5OiAgICAgICBpbmxpbmUtYmxvY2s7XHJcblx0fVxyXG5cclxuXHQuZGF0ZS1waWNrZXItY2xvc2UtbGF5ZXIge1xyXG5cdFx0cG9zaXRpb246IGZpeGVkO1xyXG5cdFx0dG9wOiAgICAgIDA7XHJcblx0XHRsZWZ0OiAgICAgMDtcclxuXHRcdHdpZHRoOiAgICAxMDB2dztcclxuXHRcdGhlaWdodDogICAxMDB2aDtcclxuXHRcdHotaW5kZXg6ICA5MDAwMDA7IC8qIHNvIGl0IG92ZXJsYXlzIGV2ZXJ5dGhpbmcgZXhjZXB0IHRoZSBkYXRlIHBpY2tlciovXHJcblx0fVxyXG5cclxuXHQuZGF0ZS1waWNrZXItaGVhZGVyIHtcclxuXHRcdGRpc3BsYXk6ICAgICAgICAgZmxleDtcclxuXHRcdGdhcDogICAgICAgICAgICAgNXB4O1xyXG5cdFx0YWxpZ24taXRlbXM6ICAgICBjZW50ZXI7XHJcblx0XHRqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcclxuXHR9XHJcblxyXG5cdC5kYXRlLXBpY2tlci1oZWFkZXItdGV4dCB7XHJcblx0XHRmbGV4OiAgICAgICAgICAgIDE7XHJcblx0XHR0ZXh0LWFsaWduOiAgICAgIGNlbnRlcjtcclxuXHRcdGRpc3BsYXk6ICAgICAgICAgZmxleDtcclxuXHRcdGdhcDogICAgICAgICAgICAgNXB4O1xyXG5cdFx0YWxpZ24taXRlbXM6ICAgICBjZW50ZXI7XHJcblx0XHRqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuXHRcdHdpZHRoOiAgICAgICAgICAgbWluLWNvbnRlbnQ7XHJcblx0fVxyXG5cclxuXHQuZGF0ZS1waWNrZXItaGVhZGVyLXRleHQteWVhciB7XHJcblx0XHR3aWR0aDogICA2MHB4O1xyXG5cdFx0cGFkZGluZzogNXB4O1xyXG5cdH1cclxuXHJcblx0LmRhdGUtcGlja2VyLWhlYWRlci10ZXh0LW1vbnRoIHtcclxuXHRcdGhlaWdodDogbWluLWNvbnRlbnQ7XHJcblx0fVxyXG5cclxuXHQubW9udGgtc3dpdGNoLWJ1dHRvbiB7XHJcblx0XHRtYXJnaW46IDA7XHJcblx0fVxyXG48L3N0eWxlPlxyXG5cclxuPGRpdiBjbGFzcz1cImRhdGUtcGlja2VyLWlucHV0XCI+XHJcblx0PGRpdiBjbGFzcz1cImRhdGUtcGlja2VyLXRleHRcIiBvbjpjbGljaz17KCkgPT4gc2hvd0RhdGVQaWNrZXIgPSB0cnVlfT5cclxuXHRcdHtzZWxlY3RlZERhdGUuZm9ybWF0KGRhdGVGb3JtYXQpfVxyXG5cdFx0PEljb24gaWNvbk5hbWU9XCJjYWxlbmRhclwiLz5cclxuXHQ8L2Rpdj5cclxuXHR7I2lmIHNob3dEYXRlUGlja2VyfVxyXG5cdFx0PGRpdiBjbGFzcz1cImRhdGUtcGlja2VyLWNsb3NlLWxheWVyXCIgb246Y2xpY2s9eygpID0+IHNob3dEYXRlUGlja2VyID0gZmFsc2V9PjwvZGl2PlxyXG5cdFx0PGRpdiBjbGFzcz1cImRhdGUtcGlja2VyXCIgc3R5bGU9XCJ7YWxpZ25SaWdodCA/ICdsZWZ0OiBhdXRvOyByaWdodDogMDsnIDogJ3JpZ2h0OiBhdXRvOyBsZWZ0OiAwOyd9XCI+XHJcblx0XHRcdDxkaXYgY2xhc3M9XCJkYXRlLXBpY2tlci1oZWFkZXJcIj5cclxuXHRcdFx0XHQ8YnV0dG9uIGNsYXNzPVwibW9udGgtc3dpdGNoLWJ1dHRvblwiIG9uOmNsaWNrPXtwcmV2TW9udGh9PlByZXY8L2J1dHRvbj5cclxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZGF0ZS1waWNrZXItaGVhZGVyLXRleHRcIj5cclxuXHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiZGF0ZS1waWNrZXItaGVhZGVyLXRleHQtbW9udGhcIj57Z2V0TW9udGhOYW1lKG1vbnRoKX08L3NwYW4+XHJcblx0XHRcdFx0XHQ8aW5wdXQgY2xhc3M9XCJkYXRlLXBpY2tlci1oZWFkZXItdGV4dC15ZWFyXCIgdHlwZT1cIm51bWJlclwiIHZhbHVlPVwie3llYXIudG9TdHJpbmcoKX1cIlxyXG5cdFx0XHRcdFx0XHQgICBvbjppbnB1dD1cIntjaGFuZ2VZZWFyfVwiPlxyXG5cdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdDxidXR0b24gY2xhc3M9XCJtb250aC1zd2l0Y2gtYnV0dG9uXCIgb246Y2xpY2s9e25leHRNb250aH0+TmV4dDwvYnV0dG9uPlxyXG5cdFx0XHQ8L2Rpdj5cclxuXHRcdFx0PENhbGVuZGVyXHJcblx0XHRcdFx0b246ZGF0ZUNoYW5nZT17b25EYXRlQ2hhbmdlfVxyXG5cdFx0XHRcdG1vbnRoPXttb250aH1cclxuXHRcdFx0XHR5ZWFyPXt5ZWFyfVxyXG5cdFx0XHRcdHNlbGVjdGVkRGF0ZT17c2VsZWN0ZWREYXRlfT5cclxuXHRcdFx0PC9DYWxlbmRlcj5cclxuXHRcdDwvZGl2PlxyXG5cdHsvaWZ9XHJcbjwvZGl2PlxyXG4iLCAiaW1wb3J0IHsgSW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQgfSBmcm9tICcuLi8uLi9JbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZCc7XG5pbXBvcnQgeyBBYnN0cmFjdElucHV0RmllbGQgfSBmcm9tICcuLi9BYnN0cmFjdElucHV0RmllbGQnO1xuaW1wb3J0IHsgTWV0YUJpbmRJbnRlcm5hbEVycm9yIH0gZnJvbSAnLi4vLi4vdXRpbHMvVXRpbHMnO1xuaW1wb3J0IERhdGVQaWNrZXIgZnJvbSAnLi9EYXRlUGlja2VyLnN2ZWx0ZSc7XG5pbXBvcnQgeyBtb21lbnQgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyBEYXRlUGFyc2VyIH0gZnJvbSAnLi4vLi4vcGFyc2Vycy9EYXRlUGFyc2VyJztcbmltcG9ydCB7IElucHV0RmllbGRBcmd1bWVudFR5cGUgfSBmcm9tICcuLi8uLi9wYXJzZXJzL0lucHV0RmllbGREZWNsYXJhdGlvblBhcnNlcic7XG5cbmV4cG9ydCBjbGFzcyBEYXRlUGlja2VySW5wdXRGaWVsZCBleHRlbmRzIEFic3RyYWN0SW5wdXRGaWVsZCB7XG5cdGNvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQgfCB1bmRlZmluZWQ7XG5cdGNvbXBvbmVudDogRGF0ZVBpY2tlciB8IHVuZGVmaW5lZDtcblx0ZGF0ZTogbW9tZW50Lk1vbWVudDtcblxuXHRjb25zdHJ1Y3RvcihpbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZDogSW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQsIG9uVmFsdWVDaGFuZ2U6ICh2YWx1ZTogYW55KSA9PiB2b2lkIHwgUHJvbWlzZTx2b2lkPikge1xuXHRcdHN1cGVyKGlucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkLCBvblZhbHVlQ2hhbmdlKTtcblxuXHRcdHRoaXMuZGF0ZSA9IERhdGVQYXJzZXIuZ2V0RGVmYXVsdERhdGUoKTtcblx0fVxuXG5cdGdldFZhbHVlKCk6IGFueSB7XG5cdFx0cmV0dXJuIERhdGVQYXJzZXIuc3RyaW5naWZ5KHRoaXMuZGF0ZSk7XG5cdH1cblxuXHRzZXRWYWx1ZSh2YWx1ZTogYW55KTogdm9pZCB7XG5cdFx0dGhpcy5kYXRlID0gRGF0ZVBhcnNlci5wYXJzZSh2YWx1ZSkgPz8gRGF0ZVBhcnNlci5nZXREZWZhdWx0RGF0ZSgpO1xuXG5cdFx0aWYgKCF0aGlzLmRhdGUuaXNWYWxpZCgpKSB7XG5cdFx0XHR0aGlzLmRhdGUgPSBEYXRlUGFyc2VyLmdldERlZmF1bHREYXRlKCk7XG5cdFx0XHR0aGlzLm9uVmFsdWVDaGFuZ2UodGhpcy5nZXRWYWx1ZSgpKTtcblx0XHR9XG5cblx0XHR0aGlzLmNvbXBvbmVudD8uJHNldCh7IHNlbGVjdGVkRGF0ZTogdGhpcy5kYXRlIH0pO1xuXHR9XG5cblx0aXNFcXVhbFZhbHVlKHZhbHVlOiBhbnkpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdGhpcy5nZXRWYWx1ZSgpID09IHZhbHVlO1xuXHR9XG5cblx0Z2V0RGVmYXVsdFZhbHVlKCk6IGFueSB7XG5cdFx0cmV0dXJuIERhdGVQYXJzZXIuc3RyaW5naWZ5KERhdGVQYXJzZXIuZ2V0RGVmYXVsdERhdGUoKSk7XG5cdH1cblxuXHRnZXRIdG1sRWxlbWVudCgpOiBIVE1MRWxlbWVudCB7XG5cdFx0aWYgKCF0aGlzLmNvbnRhaW5lcikge1xuXHRcdFx0dGhyb3cgbmV3IE1ldGFCaW5kSW50ZXJuYWxFcnJvcignJyk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuY29udGFpbmVyO1xuXHR9XG5cblx0ZGF0ZVBpY2tlclZhbHVlQ2hhbmdlZChkYXRlOiBtb21lbnQuTW9tZW50KTogdm9pZCB7XG5cdFx0dGhpcy5kYXRlID0gZGF0ZTtcblx0XHQvLyBjb25zb2xlLmxvZygnZGF0ZSBwaWNrZXIgdmFsdWUgY2hhbmdlJywgdGhpcy5kYXRlKTtcblxuXHRcdGlmICh0aGlzLmRhdGUuaXNWYWxpZCgpKSB7XG5cdFx0XHR0aGlzLm9uVmFsdWVDaGFuZ2UodGhpcy5nZXRWYWx1ZSgpKTtcblx0XHR9XG5cdH1cblxuXHRyZW5kZXIoY29udGFpbmVyOiBIVE1MRGl2RWxlbWVudCk6IHZvaWQge1xuXHRcdGNvbnNvbGUuZGVidWcoYG1ldGEtYmluZCB8IHJlbmRlciBkYXRlUGlja2VySW5wdXRGaWVsZCAke3RoaXMuaW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQudWlkfWApO1xuXG5cdFx0dGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG5cblx0XHR0aGlzLmRhdGUgPSBEYXRlUGFyc2VyLnBhcnNlKHRoaXMuaW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQuZ2V0SW5pdGlhbFZhbHVlKCkpID8/IERhdGVQYXJzZXIuZ2V0RGVmYXVsdERhdGUoKTtcblx0XHRpZiAoIXRoaXMuZGF0ZS5pc1ZhbGlkKCkpIHtcblx0XHRcdHRoaXMuZGF0ZSA9IERhdGVQYXJzZXIuZ2V0RGVmYXVsdERhdGUoKTtcblx0XHRcdHRoaXMub25WYWx1ZUNoYW5nZSh0aGlzLmdldFZhbHVlKCkpO1xuXHRcdH1cblxuXHRcdHRoaXMuY29tcG9uZW50ID0gbmV3IERhdGVQaWNrZXIoe1xuXHRcdFx0dGFyZ2V0OiBjb250YWluZXIsXG5cdFx0XHRwcm9wczoge1xuXHRcdFx0XHRhbGlnblJpZ2h0OiB0aGlzLmlucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkLmdldEFyZ3VtZW50KElucHV0RmllbGRBcmd1bWVudFR5cGUuQUxJR05fUklHSFQpPy52YWx1ZSxcblx0XHRcdFx0c2VsZWN0ZWREYXRlOiB0aGlzLmRhdGUsXG5cdFx0XHRcdGRhdGVGb3JtYXQ6IHRoaXMuaW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQucGx1Z2luLnNldHRpbmdzLnByZWZlcnJlZERhdGVGb3JtYXQsXG5cdFx0XHRcdGRhdGVDaGFuZ2VDYWxsYmFjazogKGRhdGU6IG1vbWVudC5Nb21lbnQpID0+IHRoaXMuZGF0ZVBpY2tlclZhbHVlQ2hhbmdlZChkYXRlKSxcblx0XHRcdH0sXG5cdFx0fSk7XG5cdH1cbn1cbiIsICJpbXBvcnQgeyBBYnN0cmFjdElucHV0RmllbGQgfSBmcm9tICcuL0Fic3RyYWN0SW5wdXRGaWVsZCc7XG5pbXBvcnQgeyBUZXh0Q29tcG9uZW50IH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgTWV0YUJpbmRJbnRlcm5hbEVycm9yLCBNZXRhQmluZFZhbHVlRXJyb3IsIG51bWJlclRvU3RyaW5nIH0gZnJvbSAnLi4vdXRpbHMvVXRpbHMnO1xuXG5leHBvcnQgY2xhc3MgTnVtYmVySW5wdXRGaWVsZCBleHRlbmRzIEFic3RyYWN0SW5wdXRGaWVsZCB7XG5cdG51bWJlckNvbXBvbmVudDogVGV4dENvbXBvbmVudCB8IHVuZGVmaW5lZDtcblxuXHRnZXRWYWx1ZSgpOiBudW1iZXIge1xuXHRcdGlmICghdGhpcy5udW1iZXJDb21wb25lbnQpIHtcblx0XHRcdHRocm93IG5ldyBNZXRhQmluZEludGVybmFsRXJyb3IoJ251bWJlciBpbnB1dCBjb21wb25lbnQgaXMgdW5kZWZpbmVkJyk7XG5cdFx0fVxuXHRcdGNvbnN0IHZhbHVlID0gcGFyc2VGbG9hdCh0aGlzLm51bWJlckNvbXBvbmVudC5nZXRWYWx1ZSgpKTtcblx0XHRyZXR1cm4gaXNOYU4odmFsdWUpID8gMCA6IHZhbHVlO1xuXHR9XG5cblx0c2V0VmFsdWUodmFsdWU6IGFueSk6IHZvaWQge1xuXHRcdGlmICghdGhpcy5udW1iZXJDb21wb25lbnQpIHtcblx0XHRcdHRocm93IG5ldyBNZXRhQmluZEludGVybmFsRXJyb3IoJ251bWJlciBpbnB1dCBjb21wb25lbnQgaXMgdW5kZWZpbmVkJyk7XG5cdFx0fVxuXG5cdFx0aWYgKHZhbHVlICE9IG51bGwgJiYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyB8fCB0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpKSB7XG5cdFx0XHR0aGlzLm51bWJlckNvbXBvbmVudC5zZXRWYWx1ZShudW1iZXJUb1N0cmluZyh2YWx1ZSkpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zb2xlLndhcm4obmV3IE1ldGFCaW5kVmFsdWVFcnJvcihgaW52YWxpZCB2YWx1ZSAnJHt2YWx1ZX0nIGF0IG51bWJlcklucHV0RmllbGQgJHt0aGlzLmlucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkLnVpZH1gKSk7XG5cdFx0XHR0aGlzLm51bWJlckNvbXBvbmVudC5zZXRWYWx1ZSh0aGlzLmdldERlZmF1bHRWYWx1ZSgpKTtcblx0XHR9XG5cdH1cblxuXHRpc0VxdWFsVmFsdWUodmFsdWU6IGFueSk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiB0aGlzLmdldFZhbHVlKCkgPT0gdmFsdWU7XG5cdH1cblxuXHRnZXREZWZhdWx0VmFsdWUoKTogYW55IHtcblx0XHRyZXR1cm4gMDtcblx0fVxuXG5cdGdldEh0bWxFbGVtZW50KCk6IEhUTUxFbGVtZW50IHtcblx0XHRpZiAoIXRoaXMubnVtYmVyQ29tcG9uZW50KSB7XG5cdFx0XHR0aHJvdyBuZXcgTWV0YUJpbmRJbnRlcm5hbEVycm9yKCdudW1iZXIgaW5wdXQgY29tcG9uZW50IGlzIHVuZGVmaW5lZCcpO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLm51bWJlckNvbXBvbmVudC5pbnB1dEVsO1xuXHR9XG5cblx0cmVuZGVyKGNvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQpOiB2b2lkIHtcblx0XHRjb25zb2xlLmRlYnVnKGBtZXRhLWJpbmQgfCByZW5kZXIgbnVtYmVySW5wdXRGaWVsZCAke3RoaXMuaW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQudWlkfWApO1xuXG5cdFx0Y29uc3QgY29tcG9uZW50ID0gbmV3IFRleHRDb21wb25lbnQoY29udGFpbmVyKTtcblx0XHRjb21wb25lbnQuaW5wdXRFbC50eXBlID0gJ251bWJlcic7XG5cdFx0Y29tcG9uZW50LnNldFZhbHVlKG51bWJlclRvU3RyaW5nKHRoaXMuaW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQuZ2V0SW5pdGlhbFZhbHVlKCkpKTtcblx0XHRjb21wb25lbnQub25DaGFuZ2UodmFsdWUgPT4ge1xuXHRcdFx0Y29uc3QgbiA9IHBhcnNlRmxvYXQodmFsdWUpO1xuXHRcdFx0dGhpcy5vblZhbHVlQ2hhbmdlKGlzTmFOKG4pID8gMCA6IG4pO1xuXHRcdH0pO1xuXHRcdHRoaXMubnVtYmVyQ29tcG9uZW50ID0gY29tcG9uZW50O1xuXHR9XG59XG4iLCAiaW1wb3J0IHsgRW5jbG9zaW5nUGFpciwgUGFyc2VyVXRpbHMgfSBmcm9tICcuLi91dGlscy9QYXJzZXJVdGlscyc7XG5pbXBvcnQgeyBNZXRhQmluZFBhcnNpbmdFcnJvciB9IGZyb20gJy4uL3V0aWxzL1V0aWxzJztcblxuZXhwb3J0IGludGVyZmFjZSBNYXJrZG93bkxpbmsge1xuXHRpc0VtYmVkOiBib29sZWFuO1xuXHR0YXJnZXQ6IHN0cmluZztcblx0YmxvY2s6IHN0cmluZztcblx0YWxpYXM6IHN0cmluZztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlTWRMaW5rKGxpbms6IHN0cmluZyk6IE1hcmtkb3duTGluayB7XG5cdGlmICghbGluaykge1xuXHRcdHRocm93IG5ldyBNZXRhQmluZFBhcnNpbmdFcnJvcignaW52YWxpZCBsaW5rLCBsaW5rIGlzIGVtcHR5Jyk7XG5cdH1cblxuXHRjb25zdCBtZExpbms6IE1hcmtkb3duTGluayA9IHt9IGFzIE1hcmtkb3duTGluaztcblx0bWRMaW5rLmlzRW1iZWQgPSBsaW5rLnN0YXJ0c1dpdGgoJyEnKTtcblx0Y29uc3QgbGlua0NvbnRlbnQgPSBQYXJzZXJVdGlscy5nZXRJbkJldHdlZW4obGluaywgbmV3IEVuY2xvc2luZ1BhaXIoJ1tbJywgJ11dJykpO1xuXG5cdGlmICghbGlua0NvbnRlbnQpIHtcblx0XHR0aHJvdyBuZXcgTWV0YUJpbmRQYXJzaW5nRXJyb3IoJ2ludmFsaWQgbGluaywgbGluayBpcyBlbXB0eScpO1xuXHR9XG5cblx0aWYgKHR5cGVvZiBsaW5rQ29udGVudCAhPT0gJ3N0cmluZycpIHtcblx0XHR0aHJvdyBuZXcgTWV0YUJpbmRQYXJzaW5nRXJyb3IoJ2ludmFsaWQgbGluaywgbGluayBmb3JtYXQgaXMgaW52YWxpZCcpO1xuXHR9XG5cblx0Y29uc3QgbGlua1BhcnRzID0gbGlua0NvbnRlbnQuc3BsaXQoJ3wnKTtcblx0aWYgKGxpbmtQYXJ0cy5sZW5ndGggPT09IDIpIHtcblx0XHRtZExpbmsuYWxpYXMgPSBsaW5rUGFydHNbMV07XG5cdH0gZWxzZSBpZiAobGlua1BhcnRzLmxlbmd0aCA+IDIpIHtcblx0XHR0aHJvdyBuZXcgTWV0YUJpbmRQYXJzaW5nRXJyb3IoXCJpbnZhbGlkIGxpbmssIGxpbmsgbWF5IG9ubHkgY29udGFpbiBhIG1heGltdW0gb2Ygb25lICd8J1wiKTtcblx0fVxuXG5cdGNvbnN0IHRhcmdldFBhcnRzID0gbGlua1BhcnRzWzBdLnNwbGl0KCcjJyk7XG5cdGlmICh0YXJnZXRQYXJ0cy5sZW5ndGggPT09IDEpIHtcblx0XHRtZExpbmsudGFyZ2V0ID0gdGFyZ2V0UGFydHNbMF07XG5cdH0gZWxzZSBpZiAodGFyZ2V0UGFydHMubGVuZ3RoID09PSAyKSB7XG5cdFx0bWRMaW5rLnRhcmdldCA9IHRhcmdldFBhcnRzWzBdO1xuXHRcdG1kTGluay5ibG9jayA9IHRhcmdldFBhcnRzWzFdO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBNZXRhQmluZFBhcnNpbmdFcnJvcihcImludmFsaWQgbGluaywgbGluayB0YXJnZXQgbWF5IG9ubHkgY29udGFpbiBhIG1heGltdW0gb2Ygb25lICcjJ1wiKTtcblx0fVxuXG5cdHJldHVybiBtZExpbms7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc01kTGluayhzdHI6IHN0cmluZyk6IGJvb2xlYW4ge1xuXHRyZXR1cm4gKHN0ci5zdGFydHNXaXRoKCchW1snKSB8fCBzdHIuc3RhcnRzV2l0aCgnW1snKSkgJiYgc3RyLmVuZHNXaXRoKCddXScpO1xufVxuIiwgIjxzY3JpcHQgbGFuZz1cInRzXCI+XG5cdGltcG9ydCB7TWFya2Rvd25MaW5rfSBmcm9tICcuLi9wYXJzZXJzL01hcmtkb3duTGlua1BhcnNlcic7XG5cblx0ZXhwb3J0IGxldCBtZExpbms6IE1hcmtkb3duTGluaztcblxuXHRmdW5jdGlvbiBnZXRIcmVmKCkge1xuXHRcdHJldHVybiBtZExpbmsuYmxvY2sgPyBgJHttZExpbmsudGFyZ2V0fSMke21kTGluay5ibG9ja31gIDogbWRMaW5rLnRhcmdldDtcblx0fVxuPC9zY3JpcHQ+XG5cbnsjaWYgbWRMaW5rLmFsaWFzfVxuXHQ8IS0tIHN2ZWx0ZS1pZ25vcmUgYTExeS11bmtub3duLWFyaWEtYXR0cmlidXRlIC0tPlxuXHQ8YVxuXHRcdGRhdGEtaHJlZj17Z2V0SHJlZigpfVxuXHRcdGhyZWY9e2dldEhyZWYoKX1cblx0XHRjbGFzcz1cImludGVybmFsLWxpbmtcIlxuXHRcdHRhcmdldD1cIl9ibGFua1wiXG5cdFx0cmVsPVwibm9vcGVuZXJcIlxuXHRcdGFyaWEtbGFiZWw9e2dldEhyZWYoKX1cblx0XHRhcmlhLWxhYmVsLXBvc2l0aW9uPVwidG9wXCJcblx0PlxuXHRcdHttZExpbmsuYWxpYXN9XG5cdDwvYT5cbns6ZWxzZX1cblx0PGFcblx0XHRkYXRhLWhyZWY9e2dldEhyZWYoKX1cblx0XHRocmVmPXtnZXRIcmVmKCl9XG5cdFx0Y2xhc3M9XCJpbnRlcm5hbC1saW5rXCJcblx0XHR0YXJnZXQ9XCJfYmxhbmtcIlxuXHRcdHJlbD1cIm5vb3BlbmVyXCJcblx0PlxuXHRcdHtnZXRIcmVmKCl9XG5cdDwvYT5cbnsvaWZ9XG4iLCAiPHNjcmlwdCBsYW5nPVwidHNcIj5cblx0aW1wb3J0IEljb24gZnJvbSAnLi4vRGF0ZVBpY2tlci9JY29uLnN2ZWx0ZSc7XG5cdGltcG9ydCBMaW5rQ29tcG9uZW50IGZyb20gJy4uLy4uL3V0aWxzL0xpbmtDb21wb25lbnQuc3ZlbHRlJztcblx0aW1wb3J0IHtpc01kTGluaywgTWFya2Rvd25MaW5rLCBwYXJzZU1kTGlua30gZnJvbSAnLi4vLi4vcGFyc2Vycy9NYXJrZG93bkxpbmtQYXJzZXInO1xuXG5cdGV4cG9ydCBsZXQgc2hvd1N1Z2dlc3Q6ICgpID0+IHZvaWQ7XG5cblx0bGV0IG1kTGluazogTWFya2Rvd25MaW5rO1xuXHRsZXQgc3RyOiBzdHJpbmc7XG5cdGxldCBpc0xpbms6IGJvb2xlYW4gPSBmYWxzZTtcblxuXHRleHBvcnQgZnVuY3Rpb24gdXBkYXRlVmFsdWUodmFsdWU6IHN0cmluZyk6IHZvaWQge1xuXHRcdGlzTGluayA9IGlzTWRMaW5rKHZhbHVlKTtcblx0XHRpZiAoaXNMaW5rKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRtZExpbmsgPSBwYXJzZU1kTGluayh2YWx1ZSk7XG5cdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdGNvbnNvbGUud2FybihlKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0c3RyID0gdmFsdWU7XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gc3VnZ2VzdChldmVudDogTW91c2VFdmVudCk6IHZvaWQge1xuXHRcdC8vIGRvbid0IGZpcmUgdGhlIGV2ZW50IGlmIHVzZXIgY2xpY2tlZCBvbiB0aGUgbGlua1xuXHRcdGlmICghKGV2ZW50LnRhcmdldCBpbnN0YW5jZW9mIEhUTUxBbmNob3JFbGVtZW50KSkge1xuXHRcdFx0c2hvd1N1Z2dlc3QoKTtcblx0XHR9XG5cdH1cbjwvc2NyaXB0PlxuXG48c3R5bGU+XG5cdC5zdWdnZXN0LWlucHV0IHtcblx0XHRwb3NpdGlvbjogcmVsYXRpdmU7XG5cdFx0Y29sb3I6ICAgIHZhcigtLXRleHQtbm9ybWFsKTtcblx0XHRkaXNwbGF5OiAgaW5saW5lLWJsb2NrO1xuXHR9XG5cblx0LnN1Z2dlc3QtdGV4dCB7XG5cdFx0YmFja2dyb3VuZDogICAgdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuXHRcdGJvcmRlci1yYWRpdXM6IHZhcigtLW1ldGEtYmluZC1wbHVnaW4tYm9yZGVyLXJhZGl1cyk7XG5cdFx0Ym9yZGVyOiAgICAgICAgdmFyKC0tbWV0YS1iaW5kLXBsdWdpbi1ib3JkZXItd2lkdGgpIHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcblx0XHRwYWRkaW5nOiAgICAgICA1cHggNXB4IDVweCA3cHg7XG5cdFx0Y3Vyc29yOiAgICAgICAgcG9pbnRlcjtcblx0XHR3aWR0aDogICAgICAgICBmaXQtY29udGVudDtcblx0XHRkaXNwbGF5OiAgICAgICBpbmxpbmUtYmxvY2s7XG5cdH1cbjwvc3R5bGU+XG5cbjxkaXYgY2xhc3M9XCJzdWdnZXN0LWlucHV0XCIgb246Y2xpY2s9e3N1Z2dlc3R9PlxuXHQ8ZGl2IGNsYXNzPVwic3VnZ2VzdC10ZXh0XCI+XG5cdFx0eyNpZiBpc0xpbmt9XG5cdFx0XHQ8TGlua0NvbXBvbmVudCBiaW5kOm1kTGluaz17bWRMaW5rfT48L0xpbmtDb21wb25lbnQ+XG5cdFx0ezplbHNlfVxuXHRcdFx0PHNwYW4+e3N0cn08L3NwYW4+XG5cdFx0ey9pZn1cblx0XHQ8SWNvbiBpY29uTmFtZT1cImxpc3RcIi8+XG5cdDwvZGl2PlxuPC9kaXY+XG4iLCAiaW1wb3J0IHsgSW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQgfSBmcm9tICcuLi8uLi9JbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZCc7XG5pbXBvcnQgeyBBYnN0cmFjdElucHV0RmllbGQgfSBmcm9tICcuLi9BYnN0cmFjdElucHV0RmllbGQnO1xuaW1wb3J0IHsgTWV0YUJpbmRBcmd1bWVudEVycm9yLCBNZXRhQmluZEludGVybmFsRXJyb3IgfSBmcm9tICcuLi8uLi91dGlscy9VdGlscyc7XG5pbXBvcnQgU3VnZ2VzdCBmcm9tICcuL1N1Z2dlc3Quc3ZlbHRlJztcbmltcG9ydCB7IElucHV0RmllbGRBcmd1bWVudFR5cGUgfSBmcm9tICcuLi8uLi9wYXJzZXJzL0lucHV0RmllbGREZWNsYXJhdGlvblBhcnNlcic7XG5pbXBvcnQgeyBEYXRhQXJyYXksIGdldEFQSSwgTGl0ZXJhbCB9IGZyb20gJ29ic2lkaWFuLWRhdGF2aWV3JztcbmltcG9ydCB7IEFic3RyYWN0SW5wdXRGaWVsZEFyZ3VtZW50IH0gZnJvbSAnLi4vLi4vaW5wdXRGaWVsZEFyZ3VtZW50cy9BYnN0cmFjdElucHV0RmllbGRBcmd1bWVudCc7XG5pbXBvcnQgeyBTdWdnZXN0SW5wdXRNb2RhbCB9IGZyb20gJy4vU3VnZ2VzdElucHV0TW9kYWwnO1xuaW1wb3J0IHsgVEZpbGUgfSBmcm9tICdvYnNpZGlhbic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3VnZ2VzdE9wdGlvbiB7XG5cdHZhbHVlOiBzdHJpbmc7XG5cdGRpc3BsYXlWYWx1ZTogc3RyaW5nO1xufVxuXG5leHBvcnQgY2xhc3MgU3VnZ2VzdElucHV0RmllbGQgZXh0ZW5kcyBBYnN0cmFjdElucHV0RmllbGQge1xuXHRjb250YWluZXI6IEhUTUxEaXZFbGVtZW50IHwgdW5kZWZpbmVkO1xuXHRjb21wb25lbnQ6IFN1Z2dlc3QgfCB1bmRlZmluZWQ7XG5cdHZhbHVlOiBzdHJpbmc7XG5cdG9wdGlvbnM6IFN1Z2dlc3RPcHRpb25bXTtcblxuXHRjb25zdHJ1Y3RvcihpbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZDogSW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQsIG9uVmFsdWVDaGFuZ2U6ICh2YWx1ZTogYW55KSA9PiB2b2lkIHwgUHJvbWlzZTx2b2lkPikge1xuXHRcdHN1cGVyKGlucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkLCBvblZhbHVlQ2hhbmdlKTtcblxuXHRcdHRoaXMudmFsdWUgPSAnJztcblx0XHR0aGlzLm9wdGlvbnMgPSBbXTtcblx0fVxuXG5cdGdldFZhbHVlKCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuICcnO1xuXHR9XG5cblx0c2V0VmFsdWUodmFsdWU6IGFueSk6IHZvaWQge1xuXHRcdHRoaXMudmFsdWUgPSB2YWx1ZTtcblx0XHR0aGlzLmNvbXBvbmVudD8udXBkYXRlVmFsdWUodmFsdWUpO1xuXHR9XG5cblx0aXNFcXVhbFZhbHVlKHZhbHVlOiBhbnkpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdGhpcy52YWx1ZSA9PSB2YWx1ZTtcblx0fVxuXG5cdGdldERlZmF1bHRWYWx1ZSgpOiBhbnkge1xuXHRcdHJldHVybiAnJztcblx0fVxuXG5cdGdldEh0bWxFbGVtZW50KCk6IEhUTUxFbGVtZW50IHtcblx0XHRpZiAoIXRoaXMuY29udGFpbmVyKSB7XG5cdFx0XHR0aHJvdyBuZXcgTWV0YUJpbmRJbnRlcm5hbEVycm9yKCcnKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5jb250YWluZXI7XG5cdH1cblxuXHRhc3luYyBnZXRPcHRpb25zKCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdHRoaXMub3B0aW9ucyA9IFtdO1xuXG5cdFx0Y29uc3Qgc3VnZ2VzdE9wdGlvbnNBcmd1bWVudHM6IEFic3RyYWN0SW5wdXRGaWVsZEFyZ3VtZW50W10gPSB0aGlzLmlucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkLmdldEFyZ3VtZW50cyhJbnB1dEZpZWxkQXJndW1lbnRUeXBlLlNVR0dFU1RfT1BUSU9OKTtcblx0XHRjb25zdCBzdWdnZXN0T3B0aW9uc1F1ZXJ5QXJndW1lbnRzOiBBYnN0cmFjdElucHV0RmllbGRBcmd1bWVudFtdID0gdGhpcy5pbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZC5nZXRBcmd1bWVudHMoSW5wdXRGaWVsZEFyZ3VtZW50VHlwZS5TVUdHRVNUX09QVElPTl9RVUVSWSk7XG5cblx0XHRmb3IgKGNvbnN0IHN1Z2dlc3RPcHRpb25zQXJndW1lbnQgb2Ygc3VnZ2VzdE9wdGlvbnNBcmd1bWVudHMpIHtcblx0XHRcdHRoaXMub3B0aW9ucy5wdXNoKHsgdmFsdWU6IHN1Z2dlc3RPcHRpb25zQXJndW1lbnQudmFsdWUsIGRpc3BsYXlWYWx1ZTogc3VnZ2VzdE9wdGlvbnNBcmd1bWVudC52YWx1ZSB9KTtcblx0XHR9XG5cblx0XHRpZiAoc3VnZ2VzdE9wdGlvbnNRdWVyeUFyZ3VtZW50cy5sZW5ndGggPiAwKSB7XG5cdFx0XHRjb25zdCBkdiA9IGdldEFQSSh0aGlzLmlucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkLnBsdWdpbi5hcHApO1xuXG5cdFx0XHRpZiAoIWR2KSB7XG5cdFx0XHRcdHRocm93IG5ldyBNZXRhQmluZEFyZ3VtZW50RXJyb3IoYGRhdGF2aWV3IG5lZWRzIHRvIGJlIGluc3RhbGxlZCBhbmQgZW5hYmxlZCB0byB1c2Ugc3VnZ2VzdCBvcHRpb24gcXVlcmllc2ApO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3IgKGNvbnN0IHN1Z2dlc3RPcHRpb25zUXVlcnlBcmd1bWVudCBvZiBzdWdnZXN0T3B0aW9uc1F1ZXJ5QXJndW1lbnRzKSB7XG5cdFx0XHRcdGNvbnN0IHJlc3VsdDogRGF0YUFycmF5PFJlY29yZDxzdHJpbmcsIExpdGVyYWw+PiA9IGF3YWl0IGR2LnBhZ2VzKHN1Z2dlc3RPcHRpb25zUXVlcnlBcmd1bWVudC52YWx1ZSwgdGhpcy5pbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZC5maWxlUGF0aCk7XG5cdFx0XHRcdHJlc3VsdC5mb3JFYWNoKChmaWxlOiBSZWNvcmQ8c3RyaW5nLCBMaXRlcmFsPikgPT4ge1xuXHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRjb25zdCB0RmlsZTogVEZpbGUgPSBmaWxlLmZpbGUgYXMgVEZpbGU7XG5cdFx0XHRcdFx0XHR0aGlzLm9wdGlvbnMucHVzaCh7XG5cdFx0XHRcdFx0XHRcdHZhbHVlOiBgW1ske3RGaWxlLnBhdGh9fCR7dEZpbGUubmFtZX1dXWAsXG5cdFx0XHRcdFx0XHRcdGRpc3BsYXlWYWx1ZTogYGZpbGU6ICR7dEZpbGUubmFtZX1gLFxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRcdFx0Y29uc29sZS53YXJuKCdtZXRhLWJpbmQgfCBlcnJvciB3aGlsZSBjb21wdXRpbmcgc3VnZ2VzdCBvcHRpb25zJywgZSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRhc3luYyBzaG93U3VnZ2VzdCgpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRhd2FpdCB0aGlzLmdldE9wdGlvbnMoKTtcblx0XHRuZXcgU3VnZ2VzdElucHV0TW9kYWwodGhpcy5pbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZC5wbHVnaW4uYXBwLCB0aGlzLm9wdGlvbnMsIGl0ZW0gPT4ge1xuXHRcdFx0dGhpcy5zZXRWYWx1ZShpdGVtLnZhbHVlKTtcblx0XHRcdHRoaXMub25WYWx1ZUNoYW5nZShpdGVtLnZhbHVlKTtcblx0XHR9KS5vcGVuKCk7XG5cdH1cblxuXHRyZW5kZXIoY29udGFpbmVyOiBIVE1MRGl2RWxlbWVudCk6IHZvaWQge1xuXHRcdGNvbnNvbGUuZGVidWcoYG1ldGEtYmluZCB8IHJlbmRlciBzdWdnZXN0SW5wdXRGaWVsZCAke3RoaXMuaW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQudWlkfWApO1xuXG5cdFx0dGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG5cblx0XHR0aGlzLnZhbHVlID0gdGhpcy5pbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZC5nZXRJbml0aWFsVmFsdWUoKTtcblxuXHRcdHRoaXMuY29tcG9uZW50ID0gbmV3IFN1Z2dlc3Qoe1xuXHRcdFx0dGFyZ2V0OiBjb250YWluZXIsXG5cdFx0XHRwcm9wczoge1xuXHRcdFx0XHR2YWx1ZTogdGhpcy52YWx1ZSxcblx0XHRcdFx0c2hvd1N1Z2dlc3Q6ICgpID0+IHRoaXMuc2hvd1N1Z2dlc3QoKSxcblx0XHRcdH0sXG5cdFx0fSk7XG5cblx0XHR0aGlzLmNvbXBvbmVudC51cGRhdGVWYWx1ZSh0aGlzLnZhbHVlKTtcblx0fVxufVxuIiwgImltcG9ydCB7IEFwcCwgRnV6enlTdWdnZXN0TW9kYWwgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyBTdWdnZXN0T3B0aW9uIH0gZnJvbSAnLi9TdWdnZXN0SW5wdXRGaWVsZCc7XG5cbmV4cG9ydCBjbGFzcyBTdWdnZXN0SW5wdXRNb2RhbCBleHRlbmRzIEZ1enp5U3VnZ2VzdE1vZGFsPFN1Z2dlc3RPcHRpb24+IHtcblx0b3B0aW9uczogU3VnZ2VzdE9wdGlvbltdO1xuXHRvblNlbGVjdDogKGl0ZW06IFN1Z2dlc3RPcHRpb24pID0+IHZvaWQ7XG5cblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIG9wdGlvbnM6IFN1Z2dlc3RPcHRpb25bXSwgb25TZWxlY3Q6IChpdGVtOiBTdWdnZXN0T3B0aW9uKSA9PiB2b2lkKSB7XG5cdFx0c3VwZXIoYXBwKTtcblx0XHR0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuXHRcdHRoaXMub25TZWxlY3QgPSBvblNlbGVjdDtcblx0fVxuXG5cdHB1YmxpYyBnZXRJdGVtVGV4dChpdGVtOiBTdWdnZXN0T3B0aW9uKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gaXRlbS5kaXNwbGF5VmFsdWU7XG5cdH1cblxuXHRwdWJsaWMgZ2V0SXRlbXMoKTogU3VnZ2VzdE9wdGlvbltdIHtcblx0XHRyZXR1cm4gdGhpcy5vcHRpb25zO1xuXHR9XG5cblx0cHVibGljIG9uQ2hvb3NlSXRlbShpdGVtOiBTdWdnZXN0T3B0aW9uLCBldnQ6IE1vdXNlRXZlbnQgfCBLZXlib2FyZEV2ZW50KTogdm9pZCB7XG5cdFx0dGhpcy5vblNlbGVjdChpdGVtKTtcblx0fVxufVxuIiwgImltcG9ydCB7IFRvZ2dsZUlucHV0RmllbGQgfSBmcm9tICcuL1RvZ2dsZUlucHV0RmllbGQnO1xuaW1wb3J0IHsgSW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQsIElucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkVHlwZSB9IGZyb20gJy4uL0lucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkJztcbmltcG9ydCB7IFRleHRJbnB1dEZpZWxkIH0gZnJvbSAnLi9UZXh0SW5wdXRGaWVsZCc7XG5pbXBvcnQgeyBTbGlkZXJJbnB1dEZpZWxkIH0gZnJvbSAnLi9TbGlkZXJJbnB1dEZpZWxkJztcbmltcG9ydCB7IFRleHRBcmVhSW5wdXRGaWVsZCB9IGZyb20gJy4vVGV4dEFyZWFJbnB1dEZpZWxkJztcbmltcG9ydCB7IFNlbGVjdElucHV0RmllbGQgfSBmcm9tICcuL1NlbGVjdElucHV0RmllbGQnO1xuaW1wb3J0IHsgTXVsdGlTZWxlY3RJbnB1dEZpZWxkIH0gZnJvbSAnLi9NdWx0aVNlbGVjdElucHV0RmllbGQnO1xuaW1wb3J0IHsgRGF0ZUlucHV0RmllbGQgfSBmcm9tICcuL0RhdGVJbnB1dEZpZWxkJztcbmltcG9ydCB7IFRpbWVJbnB1dEZpZWxkIH0gZnJvbSAnLi9UaW1lSW5wdXRGaWVsZCc7XG5pbXBvcnQgeyBNZXRhQmluZFBhcnNpbmdFcnJvciB9IGZyb20gJy4uL3V0aWxzL1V0aWxzJztcbmltcG9ydCB7IEFic3RyYWN0SW5wdXRGaWVsZCB9IGZyb20gJy4vQWJzdHJhY3RJbnB1dEZpZWxkJztcbmltcG9ydCB7IElucHV0RmllbGRUeXBlIH0gZnJvbSAnLi4vcGFyc2Vycy9JbnB1dEZpZWxkRGVjbGFyYXRpb25QYXJzZXInO1xuaW1wb3J0IHsgRGF0ZVBpY2tlcklucHV0RmllbGQgfSBmcm9tICcuL0RhdGVQaWNrZXIvRGF0ZVBpY2tlcklucHV0RmllbGQnO1xuaW1wb3J0IHsgTnVtYmVySW5wdXRGaWVsZCB9IGZyb20gJy4vTnVtYmVySW5wdXRGaWVsZCc7XG5pbXBvcnQgeyBTdWdnZXN0SW5wdXRGaWVsZCB9IGZyb20gJy4vU3VnZ2VzdC9TdWdnZXN0SW5wdXRGaWVsZCc7XG5cbmV4cG9ydCBjbGFzcyBJbnB1dEZpZWxkRmFjdG9yeSB7XG5cdHN0YXRpYyBhbGxvd0NvZGVCbG9ja01hcDogUmVjb3JkPHN0cmluZywgeyBjb2RlQmxvY2s6IGJvb2xlYW47IGlubGluZUNvZGVCbG9jazogYm9vbGVhbiB9PiA9IHtcblx0XHRbSW5wdXRGaWVsZFR5cGUuVE9HR0xFXToge1xuXHRcdFx0Y29kZUJsb2NrOiBUb2dnbGVJbnB1dEZpZWxkLmFsbG93Q29kZUJsb2NrLFxuXHRcdFx0aW5saW5lQ29kZUJsb2NrOiBUb2dnbGVJbnB1dEZpZWxkLmFsbG93SW5saW5lQ29kZUJsb2NrLFxuXHRcdH0sXG5cdFx0W0lucHV0RmllbGRUeXBlLlNMSURFUl06IHtcblx0XHRcdGNvZGVCbG9jazogU2xpZGVySW5wdXRGaWVsZC5hbGxvd0NvZGVCbG9jayxcblx0XHRcdGlubGluZUNvZGVCbG9jazogU2xpZGVySW5wdXRGaWVsZC5hbGxvd0lubGluZUNvZGVCbG9jayxcblx0XHR9LFxuXHRcdFtJbnB1dEZpZWxkVHlwZS5URVhUXToge1xuXHRcdFx0Y29kZUJsb2NrOiBUZXh0SW5wdXRGaWVsZC5hbGxvd0NvZGVCbG9jayxcblx0XHRcdGlubGluZUNvZGVCbG9jazogVGV4dElucHV0RmllbGQuYWxsb3dJbmxpbmVDb2RlQmxvY2ssXG5cdFx0fSxcblx0XHRbSW5wdXRGaWVsZFR5cGUuVEVYVF9BUkVBXToge1xuXHRcdFx0Y29kZUJsb2NrOiBUZXh0QXJlYUlucHV0RmllbGQuYWxsb3dDb2RlQmxvY2ssXG5cdFx0XHRpbmxpbmVDb2RlQmxvY2s6IFRleHRBcmVhSW5wdXRGaWVsZC5hbGxvd0lubGluZUNvZGVCbG9jayxcblx0XHR9LFxuXHRcdFtJbnB1dEZpZWxkVHlwZS5TRUxFQ1RdOiB7XG5cdFx0XHRjb2RlQmxvY2s6IFNlbGVjdElucHV0RmllbGQuYWxsb3dDb2RlQmxvY2ssXG5cdFx0XHRpbmxpbmVDb2RlQmxvY2s6IFNlbGVjdElucHV0RmllbGQuYWxsb3dJbmxpbmVDb2RlQmxvY2ssXG5cdFx0fSxcblx0XHRbSW5wdXRGaWVsZFR5cGUuTVVMVElfU0VMRUNUXToge1xuXHRcdFx0Y29kZUJsb2NrOiBNdWx0aVNlbGVjdElucHV0RmllbGQuYWxsb3dDb2RlQmxvY2ssXG5cdFx0XHRpbmxpbmVDb2RlQmxvY2s6IE11bHRpU2VsZWN0SW5wdXRGaWVsZC5hbGxvd0lubGluZUNvZGVCbG9jayxcblx0XHR9LFxuXHRcdFtJbnB1dEZpZWxkVHlwZS5EQVRFXToge1xuXHRcdFx0Y29kZUJsb2NrOiBEYXRlSW5wdXRGaWVsZC5hbGxvd0NvZGVCbG9jayxcblx0XHRcdGlubGluZUNvZGVCbG9jazogRGF0ZUlucHV0RmllbGQuYWxsb3dJbmxpbmVDb2RlQmxvY2ssXG5cdFx0fSxcblx0XHRbSW5wdXRGaWVsZFR5cGUuVElNRV06IHtcblx0XHRcdGNvZGVCbG9jazogVGltZUlucHV0RmllbGQuYWxsb3dDb2RlQmxvY2ssXG5cdFx0XHRpbmxpbmVDb2RlQmxvY2s6IFRpbWVJbnB1dEZpZWxkLmFsbG93SW5saW5lQ29kZUJsb2NrLFxuXHRcdH0sXG5cdFx0W0lucHV0RmllbGRUeXBlLkRBVEVfUElDS0VSXToge1xuXHRcdFx0Y29kZUJsb2NrOiBEYXRlUGlja2VySW5wdXRGaWVsZC5hbGxvd0NvZGVCbG9jayxcblx0XHRcdGlubGluZUNvZGVCbG9jazogRGF0ZVBpY2tlcklucHV0RmllbGQuYWxsb3dJbmxpbmVDb2RlQmxvY2ssXG5cdFx0fSxcblx0XHRbSW5wdXRGaWVsZFR5cGUuTlVNQkVSXToge1xuXHRcdFx0Y29kZUJsb2NrOiBOdW1iZXJJbnB1dEZpZWxkLmFsbG93Q29kZUJsb2NrLFxuXHRcdFx0aW5saW5lQ29kZUJsb2NrOiBOdW1iZXJJbnB1dEZpZWxkLmFsbG93SW5saW5lQ29kZUJsb2NrLFxuXHRcdH0sXG5cdFx0W0lucHV0RmllbGRUeXBlLlNVR0dFU1RFUl06IHtcblx0XHRcdGNvZGVCbG9jazogU3VnZ2VzdElucHV0RmllbGQuYWxsb3dDb2RlQmxvY2ssXG5cdFx0XHRpbmxpbmVDb2RlQmxvY2s6IFN1Z2dlc3RJbnB1dEZpZWxkLmFsbG93SW5saW5lQ29kZUJsb2NrLFxuXHRcdH0sXG5cdH07XG5cblx0c3RhdGljIGNyZWF0ZUlucHV0RmllbGQoXG5cdFx0aW5wdXRGaWVsZFR5cGU6IElucHV0RmllbGRUeXBlLFxuXHRcdGFyZ3M6IHsgdHlwZTogSW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGRUeXBlOyBpbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZDogSW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQ7IG9uVmFsdWVDaGFuZ2VkOiAodmFsdWU6IGFueSkgPT4gdm9pZCB8IFByb21pc2U8dm9pZD4gfVxuXHQpOiBBYnN0cmFjdElucHV0RmllbGQgfCB1bmRlZmluZWQge1xuXHRcdGlmIChpbnB1dEZpZWxkVHlwZSA9PT0gSW5wdXRGaWVsZFR5cGUuVE9HR0xFKSB7XG5cdFx0XHRJbnB1dEZpZWxkRmFjdG9yeS5jaGVja0lucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkVHlwZUFsbG93ZWQoaW5wdXRGaWVsZFR5cGUsIGFyZ3MudHlwZSk7XG5cdFx0XHRyZXR1cm4gbmV3IFRvZ2dsZUlucHV0RmllbGQoYXJncy5pbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZCwgYXJncy5vblZhbHVlQ2hhbmdlZCk7XG5cdFx0fSBlbHNlIGlmIChpbnB1dEZpZWxkVHlwZSA9PT0gSW5wdXRGaWVsZFR5cGUuU0xJREVSKSB7XG5cdFx0XHRJbnB1dEZpZWxkRmFjdG9yeS5jaGVja0lucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkVHlwZUFsbG93ZWQoaW5wdXRGaWVsZFR5cGUsIGFyZ3MudHlwZSk7XG5cdFx0XHRyZXR1cm4gbmV3IFNsaWRlcklucHV0RmllbGQoYXJncy5pbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZCwgYXJncy5vblZhbHVlQ2hhbmdlZCk7XG5cdFx0fSBlbHNlIGlmIChpbnB1dEZpZWxkVHlwZSA9PT0gSW5wdXRGaWVsZFR5cGUuVEVYVCkge1xuXHRcdFx0SW5wdXRGaWVsZEZhY3RvcnkuY2hlY2tJbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZFR5cGVBbGxvd2VkKGlucHV0RmllbGRUeXBlLCBhcmdzLnR5cGUpO1xuXHRcdFx0cmV0dXJuIG5ldyBUZXh0SW5wdXRGaWVsZChhcmdzLmlucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkLCBhcmdzLm9uVmFsdWVDaGFuZ2VkKTtcblx0XHR9IGVsc2UgaWYgKGlucHV0RmllbGRUeXBlID09PSBJbnB1dEZpZWxkVHlwZS5URVhUX0FSRUEpIHtcblx0XHRcdElucHV0RmllbGRGYWN0b3J5LmNoZWNrSW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGRUeXBlQWxsb3dlZChpbnB1dEZpZWxkVHlwZSwgYXJncy50eXBlKTtcblx0XHRcdHJldHVybiBuZXcgVGV4dEFyZWFJbnB1dEZpZWxkKGFyZ3MuaW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQsIGFyZ3Mub25WYWx1ZUNoYW5nZWQpO1xuXHRcdH0gZWxzZSBpZiAoaW5wdXRGaWVsZFR5cGUgPT09IElucHV0RmllbGRUeXBlLlNFTEVDVCkge1xuXHRcdFx0SW5wdXRGaWVsZEZhY3RvcnkuY2hlY2tJbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZFR5cGVBbGxvd2VkKGlucHV0RmllbGRUeXBlLCBhcmdzLnR5cGUpO1xuXHRcdFx0cmV0dXJuIG5ldyBTZWxlY3RJbnB1dEZpZWxkKGFyZ3MuaW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQsIGFyZ3Mub25WYWx1ZUNoYW5nZWQpO1xuXHRcdH0gZWxzZSBpZiAoaW5wdXRGaWVsZFR5cGUgPT09IElucHV0RmllbGRUeXBlLk1VTFRJX1NFTEVDVCkge1xuXHRcdFx0SW5wdXRGaWVsZEZhY3RvcnkuY2hlY2tJbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZFR5cGVBbGxvd2VkKGlucHV0RmllbGRUeXBlLCBhcmdzLnR5cGUpO1xuXHRcdFx0cmV0dXJuIG5ldyBNdWx0aVNlbGVjdElucHV0RmllbGQoYXJncy5pbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZCwgYXJncy5vblZhbHVlQ2hhbmdlZCk7XG5cdFx0fSBlbHNlIGlmIChpbnB1dEZpZWxkVHlwZSA9PT0gSW5wdXRGaWVsZFR5cGUuREFURSkge1xuXHRcdFx0SW5wdXRGaWVsZEZhY3RvcnkuY2hlY2tJbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZFR5cGVBbGxvd2VkKGlucHV0RmllbGRUeXBlLCBhcmdzLnR5cGUpO1xuXHRcdFx0cmV0dXJuIG5ldyBEYXRlSW5wdXRGaWVsZChhcmdzLmlucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkLCBhcmdzLm9uVmFsdWVDaGFuZ2VkKTtcblx0XHR9IGVsc2UgaWYgKGlucHV0RmllbGRUeXBlID09PSBJbnB1dEZpZWxkVHlwZS5USU1FKSB7XG5cdFx0XHRJbnB1dEZpZWxkRmFjdG9yeS5jaGVja0lucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkVHlwZUFsbG93ZWQoaW5wdXRGaWVsZFR5cGUsIGFyZ3MudHlwZSk7XG5cdFx0XHRyZXR1cm4gbmV3IFRpbWVJbnB1dEZpZWxkKGFyZ3MuaW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQsIGFyZ3Mub25WYWx1ZUNoYW5nZWQpO1xuXHRcdH0gZWxzZSBpZiAoaW5wdXRGaWVsZFR5cGUgPT09IElucHV0RmllbGRUeXBlLkRBVEVfUElDS0VSKSB7XG5cdFx0XHRJbnB1dEZpZWxkRmFjdG9yeS5jaGVja0lucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkVHlwZUFsbG93ZWQoaW5wdXRGaWVsZFR5cGUsIGFyZ3MudHlwZSk7XG5cdFx0XHRyZXR1cm4gbmV3IERhdGVQaWNrZXJJbnB1dEZpZWxkKGFyZ3MuaW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQsIGFyZ3Mub25WYWx1ZUNoYW5nZWQpO1xuXHRcdH0gZWxzZSBpZiAoaW5wdXRGaWVsZFR5cGUgPT09IElucHV0RmllbGRUeXBlLk5VTUJFUikge1xuXHRcdFx0SW5wdXRGaWVsZEZhY3RvcnkuY2hlY2tJbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZFR5cGVBbGxvd2VkKGlucHV0RmllbGRUeXBlLCBhcmdzLnR5cGUpO1xuXHRcdFx0cmV0dXJuIG5ldyBOdW1iZXJJbnB1dEZpZWxkKGFyZ3MuaW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQsIGFyZ3Mub25WYWx1ZUNoYW5nZWQpO1xuXHRcdH0gZWxzZSBpZiAoaW5wdXRGaWVsZFR5cGUgPT09IElucHV0RmllbGRUeXBlLlNVR0dFU1RFUikge1xuXHRcdFx0SW5wdXRGaWVsZEZhY3RvcnkuY2hlY2tJbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZFR5cGVBbGxvd2VkKGlucHV0RmllbGRUeXBlLCBhcmdzLnR5cGUpO1xuXHRcdFx0cmV0dXJuIG5ldyBTdWdnZXN0SW5wdXRGaWVsZChhcmdzLmlucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkLCBhcmdzLm9uVmFsdWVDaGFuZ2VkKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHR9XG5cblx0c3RhdGljIGNoZWNrSW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGRUeXBlQWxsb3dlZChpbnB1dEZpZWxkVHlwZTogSW5wdXRGaWVsZFR5cGUsIHR5cGU6IElucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkVHlwZSk6IHZvaWQge1xuXHRcdGNvbnN0IGFsbG93Q29kZUJsb2NrOiB7IGNvZGVCbG9jazogYm9vbGVhbjsgaW5saW5lQ29kZUJsb2NrOiBib29sZWFuIH0gPSBJbnB1dEZpZWxkRmFjdG9yeS5hbGxvd0NvZGVCbG9ja01hcFtpbnB1dEZpZWxkVHlwZV07XG5cdFx0aWYgKHR5cGUgPT09IElucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkVHlwZS5DT0RFX0JMT0NLICYmICFhbGxvd0NvZGVCbG9jay5jb2RlQmxvY2spIHtcblx0XHRcdHRocm93IG5ldyBNZXRhQmluZFBhcnNpbmdFcnJvcihgJyR7aW5wdXRGaWVsZFR5cGV9JyBpcyBub3QgYWxsb3dlZCBhcyBjb2RlIGJsb2NrYCk7XG5cdFx0fVxuXHRcdGlmICh0eXBlID09PSBJbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZFR5cGUuSU5MSU5FX0NPREVfQkxPQ0sgJiYgIWFsbG93Q29kZUJsb2NrLmlubGluZUNvZGVCbG9jaykge1xuXHRcdFx0dGhyb3cgbmV3IE1ldGFCaW5kUGFyc2luZ0Vycm9yKGAnJHtpbnB1dEZpZWxkVHlwZX0nIGlzIG5vdCBhbGxvd2VkIGFzIGlubGluZSBjb2RlIGJsb2NrYCk7XG5cdFx0fVxuXHR9XG59XG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQSxXQUFPLGVBQWUsT0FBUyxjQUFjLEVBQUUsT0FBTyxLQUFJLENBQUU7QUFFNUQsYUFBUyxrQkFBa0IsUUFBUSxPQUFPO0FBQ3hDLGVBQVMsSUFBSSxHQUFHLElBQUksTUFBTSxRQUFRLEtBQUs7QUFDckMsWUFBSSxhQUFhLE1BQU07QUFDdkIsbUJBQVcsYUFBYSxXQUFXLGNBQWM7QUFDakQsbUJBQVcsZUFBZTtBQUMxQixZQUFJLFdBQVc7QUFBWSxxQkFBVyxXQUFXO0FBQ2pELGVBQU8sZUFBZSxRQUFRLFdBQVcsS0FBSyxVQUFVO01BQzVEO0lBQ0E7QUFFQSxhQUFTLGFBQWEsYUFBYSxZQUFZLGFBQWE7QUFDMUQsVUFBSTtBQUFZLDBCQUFrQixZQUFZLFdBQVcsVUFBVTtBQUNuRSxVQUFJO0FBQWEsMEJBQWtCLGFBQWEsV0FBVztBQUMzRCxhQUFPO0lBQ1Q7QUFFQSxhQUFTLFdBQVc7QUFDbEIsaUJBQVcsT0FBTyxVQUFVLFNBQVUsUUFBUTtBQUM1QyxpQkFBUyxJQUFJLEdBQUcsSUFBSSxVQUFVLFFBQVEsS0FBSztBQUN6QyxjQUFJLFNBQVMsVUFBVTtBQUV2QixtQkFBUyxPQUFPLFFBQVE7QUFDdEIsZ0JBQUksT0FBTyxVQUFVLGVBQWUsS0FBSyxRQUFRLEdBQUcsR0FBRztBQUNyRCxxQkFBTyxPQUFPLE9BQU87WUFDL0I7VUFDQTtRQUNBO0FBRUksZUFBTztNQUNYO0FBRUUsYUFBTyxTQUFTLE1BQU0sTUFBTSxTQUFTO0lBQ3ZDO0FBRUEsYUFBUyxlQUFlLFVBQVUsWUFBWTtBQUM1QyxlQUFTLFlBQVksT0FBTyxPQUFPLFdBQVcsU0FBUztBQUN2RCxlQUFTLFVBQVUsY0FBYztBQUVqQyxzQkFBZ0IsVUFBVSxVQUFVO0lBQ3RDO0FBRUEsYUFBUyxnQkFBZ0IsR0FBRztBQUMxQix3QkFBa0IsT0FBTyxpQkFBaUIsT0FBTyxpQkFBaUIsU0FBU0EsaUJBQWdCQyxJQUFHO0FBQzVGLGVBQU9BLEdBQUUsYUFBYSxPQUFPLGVBQWVBLEVBQUM7TUFDakQ7QUFDRSxhQUFPLGdCQUFnQixDQUFDO0lBQzFCO0FBRUEsYUFBUyxnQkFBZ0IsR0FBRyxHQUFHO0FBQzdCLHdCQUFrQixPQUFPLGtCQUFrQixTQUFTQyxpQkFBZ0JELElBQUdFLElBQUc7QUFDeEUsUUFBQUYsR0FBRSxZQUFZRTtBQUNkLGVBQU9GO01BQ1g7QUFFRSxhQUFPLGdCQUFnQixHQUFHLENBQUM7SUFDN0I7QUFFQSxhQUFTLDRCQUE0QjtBQUNuQyxVQUFJLE9BQU8sWUFBWSxlQUFlLENBQUMsUUFBUTtBQUFXLGVBQU87QUFDakUsVUFBSSxRQUFRLFVBQVU7QUFBTSxlQUFPO0FBQ25DLFVBQUksT0FBTyxVQUFVO0FBQVksZUFBTztBQUV4QyxVQUFJO0FBQ0YsZ0JBQVEsVUFBVSxRQUFRLEtBQUssUUFBUSxVQUFVLFNBQVMsQ0FBQSxHQUFJLFdBQVk7UUFBQSxDQUFFLENBQUM7QUFDN0UsZUFBTztNQUNYLFNBQVcsR0FBUDtBQUNBLGVBQU87TUFDWDtJQUNBO0FBRUEsYUFBUyxXQUFXLFFBQVEsTUFBTSxPQUFPO0FBQ3ZDLFVBQUksMEJBQXlCLEdBQUk7QUFDL0IscUJBQWEsUUFBUTtNQUN6QixPQUFTO0FBQ0wscUJBQWEsU0FBU0csWUFBV0MsU0FBUUMsT0FBTUMsUUFBTztBQUNwRCxjQUFJLElBQUksQ0FBQyxJQUFJO0FBQ2IsWUFBRSxLQUFLLE1BQU0sR0FBR0QsS0FBSTtBQUNwQixjQUFJLGNBQWMsU0FBUyxLQUFLLE1BQU1ELFNBQVEsQ0FBQztBQUMvQyxjQUFJRyxZQUFXLElBQUksWUFBVztBQUM5QixjQUFJRDtBQUFPLDRCQUFnQkMsV0FBVUQsT0FBTSxTQUFTO0FBQ3BELGlCQUFPQztRQUNiO01BQ0E7QUFFRSxhQUFPLFdBQVcsTUFBTSxNQUFNLFNBQVM7SUFDekM7QUFFQSxhQUFTLGtCQUFrQixJQUFJO0FBQzdCLGFBQU8sU0FBUyxTQUFTLEtBQUssRUFBRSxFQUFFLFFBQVEsZUFBZSxNQUFNO0lBQ2pFO0FBRUEsYUFBUyxpQkFBaUIsT0FBTztBQUMvQixVQUFJLFNBQVMsT0FBTyxRQUFRLGFBQWEsb0JBQUksSUFBRyxJQUFLO0FBRXJELHlCQUFtQixTQUFTQyxrQkFBaUJGLFFBQU87QUFDbEQsWUFBSUEsV0FBVSxRQUFRLENBQUMsa0JBQWtCQSxNQUFLO0FBQUcsaUJBQU9BO0FBRXhELFlBQUksT0FBT0EsV0FBVSxZQUFZO0FBQy9CLGdCQUFNLElBQUksVUFBVSxvREFBb0Q7UUFDOUU7QUFFSSxZQUFJLE9BQU8sV0FBVyxhQUFhO0FBQ2pDLGNBQUksT0FBTyxJQUFJQSxNQUFLO0FBQUcsbUJBQU8sT0FBTyxJQUFJQSxNQUFLO0FBRTlDLGlCQUFPLElBQUlBLFFBQU8sT0FBTztRQUMvQjtBQUVJLGlCQUFTLFVBQVU7QUFDakIsaUJBQU8sV0FBV0EsUUFBTyxXQUFXLGdCQUFnQixJQUFJLEVBQUUsV0FBVztRQUMzRTtBQUVJLGdCQUFRLFlBQVksT0FBTyxPQUFPQSxPQUFNLFdBQVc7VUFDakQsYUFBYTtZQUNYLE9BQU87WUFDUCxZQUFZO1lBQ1osVUFBVTtZQUNWLGNBQWM7VUFDdEI7UUFDQSxDQUFLO0FBQ0QsZUFBTyxnQkFBZ0IsU0FBU0EsTUFBSztNQUN6QztBQUVFLGFBQU8saUJBQWlCLEtBQUs7SUFDL0I7QUFFQSxhQUFTLDhCQUE4QixRQUFRLFVBQVU7QUFDdkQsVUFBSSxVQUFVO0FBQU0sZUFBTyxDQUFBO0FBQzNCLFVBQUksU0FBUyxDQUFBO0FBQ2IsVUFBSSxhQUFhLE9BQU8sS0FBSyxNQUFNO0FBQ25DLFVBQUksS0FBSztBQUVULFdBQUssSUFBSSxHQUFHLElBQUksV0FBVyxRQUFRLEtBQUs7QUFDdEMsY0FBTSxXQUFXO0FBQ2pCLFlBQUksU0FBUyxRQUFRLEdBQUcsS0FBSztBQUFHO0FBQ2hDLGVBQU8sT0FBTyxPQUFPO01BQ3pCO0FBRUUsYUFBTztJQUNUO0FBRUEsYUFBUyw0QkFBNEIsR0FBRyxRQUFRO0FBQzlDLFVBQUksQ0FBQztBQUFHO0FBQ1IsVUFBSSxPQUFPLE1BQU07QUFBVSxlQUFPLGtCQUFrQixHQUFHLE1BQU07QUFDN0QsVUFBSUcsS0FBSSxPQUFPLFVBQVUsU0FBUyxLQUFLLENBQUMsRUFBRSxNQUFNLEdBQUcsRUFBRTtBQUNyRCxVQUFJQSxPQUFNLFlBQVksRUFBRTtBQUFhLFFBQUFBLEtBQUksRUFBRSxZQUFZO0FBQ3ZELFVBQUlBLE9BQU0sU0FBU0EsT0FBTTtBQUFPLGVBQU8sTUFBTSxLQUFLLENBQUM7QUFDbkQsVUFBSUEsT0FBTSxlQUFlLDJDQUEyQyxLQUFLQSxFQUFDO0FBQUcsZUFBTyxrQkFBa0IsR0FBRyxNQUFNO0lBQ2pIO0FBRUEsYUFBUyxrQkFBa0IsS0FBSyxLQUFLO0FBQ25DLFVBQUksT0FBTyxRQUFRLE1BQU0sSUFBSTtBQUFRLGNBQU0sSUFBSTtBQUUvQyxlQUFTLElBQUksR0FBRyxPQUFPLElBQUksTUFBTSxHQUFHLEdBQUcsSUFBSSxLQUFLO0FBQUssYUFBSyxLQUFLLElBQUk7QUFFbkUsYUFBTztJQUNUO0FBRUEsYUFBUyxnQ0FBZ0MsR0FBRyxnQkFBZ0I7QUFDMUQsVUFBSSxLQUFLLE9BQU8sV0FBVyxlQUFlLEVBQUUsT0FBTyxhQUFhLEVBQUU7QUFDbEUsVUFBSTtBQUFJLGdCQUFRLEtBQUssR0FBRyxLQUFLLENBQUMsR0FBRyxLQUFLLEtBQUssRUFBRTtBQUU3QyxVQUFJLE1BQU0sUUFBUSxDQUFDLE1BQU0sS0FBSyw0QkFBNEIsQ0FBQyxNQUFNLGtCQUFrQixLQUFLLE9BQU8sRUFBRSxXQUFXLFVBQVU7QUFDcEgsWUFBSTtBQUFJLGNBQUk7QUFDWixZQUFJLElBQUk7QUFDUixlQUFPLFdBQVk7QUFDakIsY0FBSSxLQUFLLEVBQUU7QUFBUSxtQkFBTztjQUN4QixNQUFNO1lBQ2Q7QUFDTSxpQkFBTztZQUNMLE1BQU07WUFDTixPQUFPLEVBQUU7VUFDakI7UUFDQTtNQUNBO0FBRUUsWUFBTSxJQUFJLFVBQVUsdUlBQXVJO0lBQzdKO0FBT0EsUUFBSSxhQUEwQix5QkFBVSxRQUFRO0FBQzlDLHFCQUFlQyxhQUFZLE1BQU07QUFFakMsZUFBU0EsY0FBYTtBQUNwQixlQUFPLE9BQU8sTUFBTSxNQUFNLFNBQVMsS0FBSztNQUM1QztBQUVFLGFBQU9BO0lBQ1QsRUFBZ0IsaUNBQWlCLEtBQUssQ0FBQztBQU12QyxRQUFJLHVCQUFvQyx5QkFBVSxhQUFhO0FBQzdELHFCQUFlQyx1QkFBc0IsV0FBVztBQUVoRCxlQUFTQSxzQkFBcUIsUUFBUTtBQUNwQyxlQUFPLFlBQVksS0FBSyxNQUFNLHVCQUF1QixPQUFPLFVBQVMsQ0FBRSxLQUFLO01BQ2hGO0FBRUUsYUFBT0E7SUFDVCxFQUFFLFVBQVU7QUFLWixRQUFJLHVCQUFvQyx5QkFBVSxjQUFjO0FBQzlELHFCQUFlQyx1QkFBc0IsWUFBWTtBQUVqRCxlQUFTQSxzQkFBcUIsUUFBUTtBQUNwQyxlQUFPLGFBQWEsS0FBSyxNQUFNLHVCQUF1QixPQUFPLFVBQVMsQ0FBRSxLQUFLO01BQ2pGO0FBRUUsYUFBT0E7SUFDVCxFQUFFLFVBQVU7QUFLWixRQUFJLHVCQUFvQyx5QkFBVSxjQUFjO0FBQzlELHFCQUFlQyx1QkFBc0IsWUFBWTtBQUVqRCxlQUFTQSxzQkFBcUIsUUFBUTtBQUNwQyxlQUFPLGFBQWEsS0FBSyxNQUFNLHVCQUF1QixPQUFPLFVBQVMsQ0FBRSxLQUFLO01BQ2pGO0FBRUUsYUFBT0E7SUFDVCxFQUFFLFVBQVU7QUFLWixRQUFJLGdDQUE2Qyx5QkFBVSxjQUFjO0FBQ3ZFLHFCQUFlQyxnQ0FBK0IsWUFBWTtBQUUxRCxlQUFTQSxpQ0FBZ0M7QUFDdkMsZUFBTyxhQUFhLE1BQU0sTUFBTSxTQUFTLEtBQUs7TUFDbEQ7QUFFRSxhQUFPQTtJQUNULEVBQUUsVUFBVTtBQUtaLFFBQUksbUJBQWdDLHlCQUFVLGNBQWM7QUFDMUQscUJBQWVDLG1CQUFrQixZQUFZO0FBRTdDLGVBQVNBLGtCQUFpQixNQUFNO0FBQzlCLGVBQU8sYUFBYSxLQUFLLE1BQU0sa0JBQWtCLElBQUksS0FBSztNQUM5RDtBQUVFLGFBQU9BO0lBQ1QsRUFBRSxVQUFVO0FBS1osUUFBSSx1QkFBb0MseUJBQVUsY0FBYztBQUM5RCxxQkFBZUMsdUJBQXNCLFlBQVk7QUFFakQsZUFBU0Esd0JBQXVCO0FBQzlCLGVBQU8sYUFBYSxNQUFNLE1BQU0sU0FBUyxLQUFLO01BQ2xEO0FBRUUsYUFBT0E7SUFDVCxFQUFFLFVBQVU7QUFLWixRQUFJLHNCQUFtQyx5QkFBVSxjQUFjO0FBQzdELHFCQUFlQyxzQkFBcUIsWUFBWTtBQUVoRCxlQUFTQSx1QkFBc0I7QUFDN0IsZUFBTyxhQUFhLEtBQUssTUFBTSwyQkFBMkIsS0FBSztNQUNuRTtBQUVFLGFBQU9BO0lBQ1QsRUFBRSxVQUFVO0FBS1osUUFBSSxJQUFJO0FBQVIsUUFDSSxJQUFJO0FBRFIsUUFFSSxJQUFJO0FBQ1IsUUFBSSxhQUFhO01BQ2YsTUFBTTtNQUNOLE9BQU87TUFDUCxLQUFLO0lBQ1A7QUFDQSxRQUFJLFdBQVc7TUFDYixNQUFNO01BQ04sT0FBTztNQUNQLEtBQUs7SUFDUDtBQUNBLFFBQUksd0JBQXdCO01BQzFCLE1BQU07TUFDTixPQUFPO01BQ1AsS0FBSztNQUNMLFNBQVM7SUFDWDtBQUNBLFFBQUksWUFBWTtNQUNkLE1BQU07TUFDTixPQUFPO01BQ1AsS0FBSztJQUNQO0FBQ0EsUUFBSSxZQUFZO01BQ2QsTUFBTTtNQUNOLE9BQU87TUFDUCxLQUFLO01BQ0wsU0FBUztJQUNYO0FBQ0EsUUFBSSxjQUFjO01BQ2hCLE1BQU07TUFDTixRQUFRO0lBQ1Y7QUFDQSxRQUFJLG9CQUFvQjtNQUN0QixNQUFNO01BQ04sUUFBUTtNQUNSLFFBQVE7SUFDVjtBQUNBLFFBQUkseUJBQXlCO01BQzNCLE1BQU07TUFDTixRQUFRO01BQ1IsUUFBUTtNQUNSLGNBQWM7SUFDaEI7QUFDQSxRQUFJLHdCQUF3QjtNQUMxQixNQUFNO01BQ04sUUFBUTtNQUNSLFFBQVE7TUFDUixjQUFjO0lBQ2hCO0FBQ0EsUUFBSSxpQkFBaUI7TUFDbkIsTUFBTTtNQUNOLFFBQVE7TUFDUixXQUFXO0lBQ2I7QUFDQSxRQUFJLHVCQUF1QjtNQUN6QixNQUFNO01BQ04sUUFBUTtNQUNSLFFBQVE7TUFDUixXQUFXO0lBQ2I7QUFDQSxRQUFJLDRCQUE0QjtNQUM5QixNQUFNO01BQ04sUUFBUTtNQUNSLFFBQVE7TUFDUixXQUFXO01BQ1gsY0FBYztJQUNoQjtBQUNBLFFBQUksMkJBQTJCO01BQzdCLE1BQU07TUFDTixRQUFRO01BQ1IsUUFBUTtNQUNSLFdBQVc7TUFDWCxjQUFjO0lBQ2hCO0FBQ0EsUUFBSSxpQkFBaUI7TUFDbkIsTUFBTTtNQUNOLE9BQU87TUFDUCxLQUFLO01BQ0wsTUFBTTtNQUNOLFFBQVE7SUFDVjtBQUNBLFFBQUksOEJBQThCO01BQ2hDLE1BQU07TUFDTixPQUFPO01BQ1AsS0FBSztNQUNMLE1BQU07TUFDTixRQUFRO01BQ1IsUUFBUTtJQUNWO0FBQ0EsUUFBSSxlQUFlO01BQ2pCLE1BQU07TUFDTixPQUFPO01BQ1AsS0FBSztNQUNMLE1BQU07TUFDTixRQUFRO0lBQ1Y7QUFDQSxRQUFJLDRCQUE0QjtNQUM5QixNQUFNO01BQ04sT0FBTztNQUNQLEtBQUs7TUFDTCxNQUFNO01BQ04sUUFBUTtNQUNSLFFBQVE7SUFDVjtBQUNBLFFBQUksNEJBQTRCO01BQzlCLE1BQU07TUFDTixPQUFPO01BQ1AsS0FBSztNQUNMLFNBQVM7TUFDVCxNQUFNO01BQ04sUUFBUTtJQUNWO0FBQ0EsUUFBSSxnQkFBZ0I7TUFDbEIsTUFBTTtNQUNOLE9BQU87TUFDUCxLQUFLO01BQ0wsTUFBTTtNQUNOLFFBQVE7TUFDUixjQUFjO0lBQ2hCO0FBQ0EsUUFBSSw2QkFBNkI7TUFDL0IsTUFBTTtNQUNOLE9BQU87TUFDUCxLQUFLO01BQ0wsTUFBTTtNQUNOLFFBQVE7TUFDUixRQUFRO01BQ1IsY0FBYztJQUNoQjtBQUNBLFFBQUksZ0JBQWdCO01BQ2xCLE1BQU07TUFDTixPQUFPO01BQ1AsS0FBSztNQUNMLFNBQVM7TUFDVCxNQUFNO01BQ04sUUFBUTtNQUNSLGNBQWM7SUFDaEI7QUFDQSxRQUFJLDZCQUE2QjtNQUMvQixNQUFNO01BQ04sT0FBTztNQUNQLEtBQUs7TUFDTCxTQUFTO01BQ1QsTUFBTTtNQUNOLFFBQVE7TUFDUixRQUFRO01BQ1IsY0FBYztJQUNoQjtBQU9BLGFBQVMsWUFBWSxHQUFHO0FBQ3RCLGFBQU8sT0FBTyxNQUFNO0lBQ3RCO0FBQ0EsYUFBUyxTQUFTLEdBQUc7QUFDbkIsYUFBTyxPQUFPLE1BQU07SUFDdEI7QUFDQSxhQUFTLFVBQVUsR0FBRztBQUNwQixhQUFPLE9BQU8sTUFBTSxZQUFZLElBQUksTUFBTTtJQUM1QztBQUNBLGFBQVMsU0FBUyxHQUFHO0FBQ25CLGFBQU8sT0FBTyxNQUFNO0lBQ3RCO0FBQ0EsYUFBUyxPQUFPLEdBQUc7QUFDakIsYUFBTyxPQUFPLFVBQVUsU0FBUyxLQUFLLENBQUMsTUFBTTtJQUMvQztBQUVBLGFBQVMsY0FBYztBQUNyQixVQUFJO0FBQ0YsZUFBTyxPQUFPLFNBQVMsZUFBZSxDQUFDLENBQUMsS0FBSztNQUNqRCxTQUFXLEdBQVA7QUFDQSxlQUFPO01BQ1g7SUFDQTtBQUVBLGFBQVMsV0FBVyxPQUFPO0FBQ3pCLGFBQU8sTUFBTSxRQUFRLEtBQUssSUFBSSxRQUFRLENBQUMsS0FBSztJQUM5QztBQUNBLGFBQVMsT0FBTyxLQUFLLElBQUksU0FBUztBQUNoQyxVQUFJLElBQUksV0FBVyxHQUFHO0FBQ3BCLGVBQU87TUFDWDtBQUVFLGFBQU8sSUFBSSxPQUFPLFNBQVUsTUFBTSxNQUFNO0FBQ3RDLFlBQUksT0FBTyxDQUFDLEdBQUcsSUFBSSxHQUFHLElBQUk7QUFFMUIsWUFBSSxDQUFDLE1BQU07QUFDVCxpQkFBTztRQUNiLFdBQWUsUUFBUSxLQUFLLElBQUksS0FBSyxFQUFFLE1BQU0sS0FBSyxJQUFJO0FBQ2hELGlCQUFPO1FBQ2IsT0FBVztBQUNMLGlCQUFPO1FBQ2I7TUFDQSxHQUFLLElBQUksRUFBRTtJQUNYO0FBQ0EsYUFBUyxLQUFLLEtBQUssTUFBTTtBQUN2QixhQUFPLEtBQUssT0FBTyxTQUFVLEdBQUcsR0FBRztBQUNqQyxVQUFFLEtBQUssSUFBSTtBQUNYLGVBQU87TUFDWCxHQUFLLENBQUEsQ0FBRTtJQUNQO0FBQ0EsYUFBUyxlQUFlLEtBQUssTUFBTTtBQUNqQyxhQUFPLE9BQU8sVUFBVSxlQUFlLEtBQUssS0FBSyxJQUFJO0lBQ3ZEO0FBRUEsYUFBUyxlQUFlLE9BQU8sUUFBUSxLQUFLO0FBQzFDLGFBQU8sVUFBVSxLQUFLLEtBQUssU0FBUyxVQUFVLFNBQVM7SUFDekQ7QUFFQSxhQUFTLFNBQVMsR0FBR1IsSUFBRztBQUN0QixhQUFPLElBQUlBLEtBQUksS0FBSyxNQUFNLElBQUlBLEVBQUM7SUFDakM7QUFDQSxhQUFTLFNBQVMsT0FBT0EsSUFBRztBQUMxQixVQUFJQSxPQUFNLFFBQVE7QUFDaEIsUUFBQUEsS0FBSTtNQUNSO0FBRUUsVUFBSSxRQUFRLFFBQVE7QUFDcEIsVUFBSTtBQUVKLFVBQUksT0FBTztBQUNULGlCQUFTLE9BQU8sS0FBSyxDQUFDLE9BQU8sU0FBU0EsSUFBRyxHQUFHO01BQ2hELE9BQVM7QUFDTCxrQkFBVSxLQUFLLE9BQU8sU0FBU0EsSUFBRyxHQUFHO01BQ3pDO0FBRUUsYUFBTztJQUNUO0FBQ0EsYUFBUyxhQUFhLFFBQVE7QUFDNUIsVUFBSSxZQUFZLE1BQU0sS0FBSyxXQUFXLFFBQVEsV0FBVyxJQUFJO0FBQzNELGVBQU87TUFDWCxPQUFTO0FBQ0wsZUFBTyxTQUFTLFFBQVEsRUFBRTtNQUM5QjtJQUNBO0FBQ0EsYUFBUyxjQUFjLFFBQVE7QUFDN0IsVUFBSSxZQUFZLE1BQU0sS0FBSyxXQUFXLFFBQVEsV0FBVyxJQUFJO0FBQzNELGVBQU87TUFDWCxPQUFTO0FBQ0wsZUFBTyxXQUFXLE1BQU07TUFDNUI7SUFDQTtBQUNBLGFBQVMsWUFBWSxVQUFVO0FBRTdCLFVBQUksWUFBWSxRQUFRLEtBQUssYUFBYSxRQUFRLGFBQWEsSUFBSTtBQUNqRSxlQUFPO01BQ1gsT0FBUztBQUNMLFlBQUksSUFBSSxXQUFXLE9BQU8sUUFBUSxJQUFJO0FBQ3RDLGVBQU8sS0FBSyxNQUFNLENBQUM7TUFDdkI7SUFDQTtBQUNBLGFBQVMsUUFBUSxRQUFRLFFBQVEsWUFBWTtBQUMzQyxVQUFJLGVBQWUsUUFBUTtBQUN6QixxQkFBYTtNQUNqQjtBQUVFLFVBQUksU0FBUyxLQUFLLElBQUksSUFBSSxNQUFNLEdBQzVCLFVBQVUsYUFBYSxLQUFLLFFBQVEsS0FBSztBQUM3QyxhQUFPLFFBQVEsU0FBUyxNQUFNLElBQUk7SUFDcEM7QUFFQSxhQUFTLFdBQVcsTUFBTTtBQUN4QixhQUFPLE9BQU8sTUFBTSxNQUFNLE9BQU8sUUFBUSxLQUFLLE9BQU8sUUFBUTtJQUMvRDtBQUNBLGFBQVMsV0FBVyxNQUFNO0FBQ3hCLGFBQU8sV0FBVyxJQUFJLElBQUksTUFBTTtJQUNsQztBQUNBLGFBQVMsWUFBWSxNQUFNLE9BQU87QUFDaEMsVUFBSSxXQUFXLFNBQVMsUUFBUSxHQUFHLEVBQUUsSUFBSSxHQUNyQyxVQUFVLFFBQVEsUUFBUSxZQUFZO0FBRTFDLFVBQUksYUFBYSxHQUFHO0FBQ2xCLGVBQU8sV0FBVyxPQUFPLElBQUksS0FBSztNQUN0QyxPQUFTO0FBQ0wsZUFBTyxDQUFDLElBQUksTUFBTSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxFQUFFLEVBQUUsV0FBVztNQUN6RTtJQUNBO0FBRUEsYUFBUyxhQUFhLEtBQUs7QUFDekIsVUFBSSxJQUFJLEtBQUssSUFBSSxJQUFJLE1BQU0sSUFBSSxRQUFRLEdBQUcsSUFBSSxLQUFLLElBQUksTUFBTSxJQUFJLFFBQVEsSUFBSSxRQUFRLElBQUksV0FBVztBQUVwRyxVQUFJLElBQUksT0FBTyxPQUFPLElBQUksUUFBUSxHQUFHO0FBQ25DLFlBQUksSUFBSSxLQUFLLENBQUM7QUFDZCxVQUFFLGVBQWUsRUFBRSxlQUFjLElBQUssSUFBSTtNQUM5QztBQUVFLGFBQU8sQ0FBQztJQUNWO0FBQ0EsYUFBUyxnQkFBZ0IsVUFBVTtBQUNqQyxVQUFJLE1BQU0sV0FBVyxLQUFLLE1BQU0sV0FBVyxDQUFDLElBQUksS0FBSyxNQUFNLFdBQVcsR0FBRyxJQUFJLEtBQUssTUFBTSxXQUFXLEdBQUcsS0FBSyxHQUN2RyxPQUFPLFdBQVcsR0FDbEIsTUFBTSxPQUFPLEtBQUssTUFBTSxPQUFPLENBQUMsSUFBSSxLQUFLLE1BQU0sT0FBTyxHQUFHLElBQUksS0FBSyxNQUFNLE9BQU8sR0FBRyxLQUFLO0FBQzNGLGFBQU8sT0FBTyxLQUFLLE9BQU8sSUFBSSxLQUFLO0lBQ3JDO0FBQ0EsYUFBUyxlQUFlLE1BQU07QUFDNUIsVUFBSSxPQUFPLElBQUk7QUFDYixlQUFPO01BQ1g7QUFBUyxlQUFPLE9BQU8sS0FBSyxPQUFPLE9BQU8sTUFBTztJQUNqRDtBQUVBLGFBQVMsY0FBYyxJQUFJLGNBQWMsUUFBUSxVQUFVO0FBQ3pELFVBQUksYUFBYSxRQUFRO0FBQ3ZCLG1CQUFXO01BQ2Y7QUFFRSxVQUFJLE9BQU8sSUFBSSxLQUFLLEVBQUUsR0FDbEIsV0FBVztRQUNiLFdBQVc7UUFDWCxNQUFNO1FBQ04sT0FBTztRQUNQLEtBQUs7UUFDTCxNQUFNO1FBQ04sUUFBUTtNQUNaO0FBRUUsVUFBSSxVQUFVO0FBQ1osaUJBQVMsV0FBVztNQUN4QjtBQUVFLFVBQUksV0FBVyxTQUFTO1FBQ3RCLGNBQWM7TUFDbEIsR0FBSyxRQUFRO0FBRVgsVUFBSSxTQUFTLElBQUksS0FBSyxlQUFlLFFBQVEsUUFBUSxFQUFFLGNBQWMsSUFBSSxFQUFFLEtBQUssU0FBVSxHQUFHO0FBQzNGLGVBQU8sRUFBRSxLQUFLLFlBQVcsTUFBTztNQUNwQyxDQUFHO0FBQ0QsYUFBTyxTQUFTLE9BQU8sUUFBUTtJQUNqQztBQUVBLGFBQVMsYUFBYSxZQUFZLGNBQWM7QUFDOUMsVUFBSSxVQUFVLFNBQVMsWUFBWSxFQUFFO0FBRXJDLFVBQUksT0FBTyxNQUFNLE9BQU8sR0FBRztBQUN6QixrQkFBVTtNQUNkO0FBRUUsVUFBSSxTQUFTLFNBQVMsY0FBYyxFQUFFLEtBQUssR0FDdkMsZUFBZSxVQUFVLEtBQUssT0FBTyxHQUFHLFNBQVMsRUFBRSxJQUFJLENBQUMsU0FBUztBQUNyRSxhQUFPLFVBQVUsS0FBSztJQUN4QjtBQUVBLGFBQVMsU0FBUyxPQUFPO0FBQ3ZCLFVBQUksZUFBZSxPQUFPLEtBQUs7QUFDL0IsVUFBSSxPQUFPLFVBQVUsYUFBYSxVQUFVLE1BQU0sT0FBTyxNQUFNLFlBQVk7QUFBRyxjQUFNLElBQUkscUJBQXFCLHdCQUF3QixLQUFLO0FBQzFJLGFBQU87SUFDVDtBQUNBLGFBQVMsZ0JBQWdCLEtBQUssWUFBWTtBQUN4QyxVQUFJLGFBQWEsQ0FBQTtBQUVqQixlQUFTLEtBQUssS0FBSztBQUNqQixZQUFJLGVBQWUsS0FBSyxDQUFDLEdBQUc7QUFDMUIsY0FBSSxJQUFJLElBQUk7QUFDWixjQUFJLE1BQU0sVUFBYSxNQUFNO0FBQU07QUFDbkMscUJBQVcsV0FBVyxDQUFDLEtBQUssU0FBUyxDQUFDO1FBQzVDO01BQ0E7QUFFRSxhQUFPO0lBQ1Q7QUFDQSxhQUFTLGFBQWFTLFNBQVEsUUFBUTtBQUNwQyxVQUFJLFFBQVEsS0FBSyxNQUFNLEtBQUssSUFBSUEsVUFBUyxFQUFFLENBQUMsR0FDeEMsVUFBVSxLQUFLLE1BQU0sS0FBSyxJQUFJQSxVQUFTLEVBQUUsQ0FBQyxHQUMxQyxPQUFPQSxXQUFVLElBQUksTUFBTTtBQUUvQixjQUFRO2FBQ0Q7QUFDSCxpQkFBTyxLQUFLLE9BQU8sU0FBUyxPQUFPLENBQUMsSUFBSSxNQUFNLFNBQVMsU0FBUyxDQUFDO2FBRTlEO0FBQ0gsaUJBQU8sS0FBSyxPQUFPLFNBQVMsVUFBVSxJQUFJLE1BQU0sVUFBVTthQUV2RDtBQUNILGlCQUFPLEtBQUssT0FBTyxTQUFTLE9BQU8sQ0FBQyxJQUFJLFNBQVMsU0FBUyxDQUFDOztBQUczRCxnQkFBTSxJQUFJLFdBQVcsa0JBQWtCLFNBQVMsc0NBQXNDOztJQUU1RjtBQUNBLGFBQVMsV0FBVyxLQUFLO0FBQ3ZCLGFBQU8sS0FBSyxLQUFLLENBQUMsUUFBUSxVQUFVLFVBQVUsYUFBYSxDQUFDO0lBQzlEO0FBQ0EsUUFBSSxZQUFZO0FBT2hCLFFBQUksYUFBYSxDQUFDLFdBQVcsWUFBWSxTQUFTLFNBQVMsT0FBTyxRQUFRLFFBQVEsVUFBVSxhQUFhLFdBQVcsWUFBWSxVQUFVO0FBQzFJLFFBQUksY0FBYyxDQUFDLE9BQU8sT0FBTyxPQUFPLE9BQU8sT0FBTyxPQUFPLE9BQU8sT0FBTyxPQUFPLE9BQU8sT0FBTyxLQUFLO0FBQ3JHLFFBQUksZUFBZSxDQUFDLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxHQUFHO0FBQzlFLGFBQVMsT0FBTyxRQUFRO0FBQ3RCLGNBQVE7YUFDRDtBQUNILGlCQUFPLENBQUEsRUFBRyxPQUFPLFlBQVk7YUFFMUI7QUFDSCxpQkFBTyxDQUFBLEVBQUcsT0FBTyxXQUFXO2FBRXpCO0FBQ0gsaUJBQU8sQ0FBQSxFQUFHLE9BQU8sVUFBVTthQUV4QjtBQUNILGlCQUFPLENBQUMsS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssTUFBTSxNQUFNLElBQUk7YUFFbEU7QUFDSCxpQkFBTyxDQUFDLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxJQUFJOztBQUc5RSxpQkFBTzs7SUFFYjtBQUNBLFFBQUksZUFBZSxDQUFDLFVBQVUsV0FBVyxhQUFhLFlBQVksVUFBVSxZQUFZLFFBQVE7QUFDaEcsUUFBSSxnQkFBZ0IsQ0FBQyxPQUFPLE9BQU8sT0FBTyxPQUFPLE9BQU8sT0FBTyxLQUFLO0FBQ3BFLFFBQUksaUJBQWlCLENBQUMsS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssR0FBRztBQUN2RCxhQUFTLFNBQVMsUUFBUTtBQUN4QixjQUFRO2FBQ0Q7QUFDSCxpQkFBTyxDQUFBLEVBQUcsT0FBTyxjQUFjO2FBRTVCO0FBQ0gsaUJBQU8sQ0FBQSxFQUFHLE9BQU8sYUFBYTthQUUzQjtBQUNILGlCQUFPLENBQUEsRUFBRyxPQUFPLFlBQVk7YUFFMUI7QUFDSCxpQkFBTyxDQUFDLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEdBQUc7O0FBR3pDLGlCQUFPOztJQUViO0FBQ0EsUUFBSSxZQUFZLENBQUMsTUFBTSxJQUFJO0FBQzNCLFFBQUksV0FBVyxDQUFDLGlCQUFpQixhQUFhO0FBQzlDLFFBQUksWUFBWSxDQUFDLE1BQU0sSUFBSTtBQUMzQixRQUFJLGFBQWEsQ0FBQyxLQUFLLEdBQUc7QUFDMUIsYUFBUyxLQUFLLFFBQVE7QUFDcEIsY0FBUTthQUNEO0FBQ0gsaUJBQU8sQ0FBQSxFQUFHLE9BQU8sVUFBVTthQUV4QjtBQUNILGlCQUFPLENBQUEsRUFBRyxPQUFPLFNBQVM7YUFFdkI7QUFDSCxpQkFBTyxDQUFBLEVBQUcsT0FBTyxRQUFROztBQUd6QixpQkFBTzs7SUFFYjtBQUNBLGFBQVMsb0JBQW9CLElBQUk7QUFDL0IsYUFBTyxVQUFVLEdBQUcsT0FBTyxLQUFLLElBQUk7SUFDdEM7QUFDQSxhQUFTLG1CQUFtQixJQUFJLFFBQVE7QUFDdEMsYUFBTyxTQUFTLE1BQU0sRUFBRSxHQUFHLFVBQVU7SUFDdkM7QUFDQSxhQUFTLGlCQUFpQixJQUFJLFFBQVE7QUFDcEMsYUFBTyxPQUFPLE1BQU0sRUFBRSxHQUFHLFFBQVE7SUFDbkM7QUFDQSxhQUFTLGVBQWUsSUFBSSxRQUFRO0FBQ2xDLGFBQU8sS0FBSyxNQUFNLEVBQUUsR0FBRyxPQUFPLElBQUksSUFBSTtJQUN4QztBQUNBLGFBQVMsbUJBQW1CLE1BQU0sT0FBTyxTQUFTLFFBQVE7QUFDeEQsVUFBSSxZQUFZLFFBQVE7QUFDdEIsa0JBQVU7TUFDZDtBQUVFLFVBQUksV0FBVyxRQUFRO0FBQ3JCLGlCQUFTO01BQ2I7QUFFRSxVQUFJLFFBQVE7UUFDVixPQUFPLENBQUMsUUFBUSxLQUFLO1FBQ3JCLFVBQVUsQ0FBQyxXQUFXLE1BQU07UUFDNUIsUUFBUSxDQUFDLFNBQVMsS0FBSztRQUN2QixPQUFPLENBQUMsUUFBUSxLQUFLO1FBQ3JCLE1BQU0sQ0FBQyxPQUFPLE9BQU8sTUFBTTtRQUMzQixPQUFPLENBQUMsUUFBUSxLQUFLO1FBQ3JCLFNBQVMsQ0FBQyxVQUFVLE1BQU07UUFDMUIsU0FBUyxDQUFDLFVBQVUsTUFBTTtNQUM5QjtBQUNFLFVBQUksV0FBVyxDQUFDLFNBQVMsV0FBVyxTQUFTLEVBQUUsUUFBUSxJQUFJLE1BQU07QUFFakUsVUFBSSxZQUFZLFVBQVUsVUFBVTtBQUNsQyxZQUFJLFFBQVEsU0FBUztBQUVyQixnQkFBUTtlQUNEO0FBQ0gsbUJBQU8sUUFBUSxhQUFhLFVBQVUsTUFBTSxNQUFNO2VBRS9DO0FBQ0gsbUJBQU8sUUFBUSxjQUFjLFVBQVUsTUFBTSxNQUFNO2VBRWhEO0FBQ0gsbUJBQU8sUUFBUSxVQUFVLFVBQVUsTUFBTSxNQUFNOztNQUd2RDtBQUVFLFVBQUksV0FBVyxPQUFPLEdBQUcsT0FBTyxFQUFFLEtBQUssUUFBUSxHQUMzQyxXQUFXLEtBQUssSUFBSSxLQUFLLEdBQ3pCLFdBQVcsYUFBYSxHQUN4QixXQUFXLE1BQU0sT0FDakIsVUFBVSxTQUFTLFdBQVcsU0FBUyxLQUFLLFNBQVMsTUFBTSxTQUFTLEtBQUssV0FBVyxNQUFNLE1BQU0sS0FBSztBQUN6RyxhQUFPLFdBQVcsV0FBVyxNQUFNLFVBQVUsU0FBUyxRQUFRLFdBQVcsTUFBTTtJQUNqRjtBQUVBLGFBQVMsZ0JBQWdCLFFBQVEsZUFBZTtBQUM5QyxVQUFJQyxLQUFJO0FBRVIsZUFBUyxZQUFZLGdDQUFnQyxNQUFNLEdBQUcsT0FBTyxFQUFFLFFBQVEsVUFBUyxHQUFJLFFBQU87QUFDakcsWUFBSSxRQUFRLE1BQU07QUFFbEIsWUFBSSxNQUFNLFNBQVM7QUFDakIsVUFBQUEsTUFBSyxNQUFNO1FBQ2pCLE9BQVc7QUFDTCxVQUFBQSxNQUFLLGNBQWMsTUFBTSxHQUFHO1FBQ2xDO01BQ0E7QUFFRSxhQUFPQTtJQUNUO0FBRUEsUUFBSSwwQkFBMEI7TUFDNUIsR0FBRztNQUNILElBQUk7TUFDSixLQUFLO01BQ0wsTUFBTTtNQUNOLEdBQUc7TUFDSCxJQUFJO01BQ0osS0FBSztNQUNMLE1BQU07TUFDTixHQUFHO01BQ0gsSUFBSTtNQUNKLEtBQUs7TUFDTCxNQUFNO01BQ04sR0FBRztNQUNILElBQUk7TUFDSixLQUFLO01BQ0wsTUFBTTtNQUNOLEdBQUc7TUFDSCxJQUFJO01BQ0osS0FBSztNQUNMLE1BQU07SUFDUjtBQUtBLFFBQUksWUFBeUIsMkJBQVk7QUFDdkMsTUFBQUMsV0FBVSxTQUFTLFNBQVMsT0FBTyxRQUFRLE1BQU07QUFDL0MsWUFBSSxTQUFTLFFBQVE7QUFDbkIsaUJBQU8sQ0FBQTtRQUNiO0FBRUksZUFBTyxJQUFJQSxXQUFVLFFBQVEsSUFBSTtNQUNyQztBQUVFLE1BQUFBLFdBQVUsY0FBYyxTQUFTLFlBQVksS0FBSztBQUNoRCxZQUFJLFVBQVUsTUFDVixjQUFjLElBQ2QsWUFBWTtBQUNoQixZQUFJLFNBQVMsQ0FBQTtBQUViLGlCQUFTLElBQUksR0FBRyxJQUFJLElBQUksUUFBUSxLQUFLO0FBQ25DLGNBQUksSUFBSSxJQUFJLE9BQU8sQ0FBQztBQUVwQixjQUFJLE1BQU0sS0FBSztBQUNiLGdCQUFJLFlBQVksU0FBUyxHQUFHO0FBQzFCLHFCQUFPLEtBQUs7Z0JBQ1YsU0FBUztnQkFDVCxLQUFLO2NBQ2pCLENBQVc7WUFDWDtBQUVRLHNCQUFVO0FBQ1YsMEJBQWM7QUFDZCx3QkFBWSxDQUFDO1VBQ3JCLFdBQWlCLFdBQVc7QUFDcEIsMkJBQWU7VUFDdkIsV0FBaUIsTUFBTSxTQUFTO0FBQ3hCLDJCQUFlO1VBQ3ZCLE9BQWE7QUFDTCxnQkFBSSxZQUFZLFNBQVMsR0FBRztBQUMxQixxQkFBTyxLQUFLO2dCQUNWLFNBQVM7Z0JBQ1QsS0FBSztjQUNqQixDQUFXO1lBQ1g7QUFFUSwwQkFBYztBQUNkLHNCQUFVO1VBQ2xCO1FBQ0E7QUFFSSxZQUFJLFlBQVksU0FBUyxHQUFHO0FBQzFCLGlCQUFPLEtBQUs7WUFDVixTQUFTO1lBQ1QsS0FBSztVQUNiLENBQU87UUFDUDtBQUVJLGVBQU87TUFDWDtBQUVFLE1BQUFBLFdBQVUseUJBQXlCLFNBQVMsdUJBQXVCLE9BQU87QUFDeEUsZUFBTyx3QkFBd0I7TUFDbkM7QUFFRSxlQUFTQSxXQUFVLFFBQVEsWUFBWTtBQUNyQyxhQUFLLE9BQU87QUFDWixhQUFLLE1BQU07QUFDWCxhQUFLLFlBQVk7TUFDckI7QUFFRSxVQUFJLFNBQVNBLFdBQVU7QUFFdkIsYUFBTywwQkFBMEIsU0FBUyx3QkFBd0IsSUFBSSxNQUFNO0FBQzFFLFlBQUksS0FBSyxjQUFjLE1BQU07QUFDM0IsZUFBSyxZQUFZLEtBQUssSUFBSSxrQkFBaUI7UUFDakQ7QUFFSSxZQUFJLEtBQUssS0FBSyxVQUFVLFlBQVksSUFBSSxTQUFTLENBQUEsR0FBSSxLQUFLLE1BQU0sSUFBSSxDQUFDO0FBQ3JFLGVBQU8sR0FBRyxPQUFNO01BQ3BCO0FBRUUsYUFBTyxpQkFBaUIsU0FBUyxlQUFlLElBQUksTUFBTTtBQUN4RCxZQUFJLFNBQVMsUUFBUTtBQUNuQixpQkFBTyxDQUFBO1FBQ2I7QUFFSSxZQUFJLEtBQUssS0FBSyxJQUFJLFlBQVksSUFBSSxTQUFTLENBQUEsR0FBSSxLQUFLLE1BQU0sSUFBSSxDQUFDO0FBQy9ELGVBQU8sR0FBRyxPQUFNO01BQ3BCO0FBRUUsYUFBTyxzQkFBc0IsU0FBUyxvQkFBb0IsSUFBSSxNQUFNO0FBQ2xFLFlBQUksU0FBUyxRQUFRO0FBQ25CLGlCQUFPLENBQUE7UUFDYjtBQUVJLFlBQUksS0FBSyxLQUFLLElBQUksWUFBWSxJQUFJLFNBQVMsQ0FBQSxHQUFJLEtBQUssTUFBTSxJQUFJLENBQUM7QUFDL0QsZUFBTyxHQUFHLGNBQWE7TUFDM0I7QUFFRSxhQUFPLGtCQUFrQixTQUFTLGdCQUFnQixJQUFJLE1BQU07QUFDMUQsWUFBSSxTQUFTLFFBQVE7QUFDbkIsaUJBQU8sQ0FBQTtRQUNiO0FBRUksWUFBSSxLQUFLLEtBQUssSUFBSSxZQUFZLElBQUksU0FBUyxDQUFBLEdBQUksS0FBSyxNQUFNLElBQUksQ0FBQztBQUMvRCxlQUFPLEdBQUcsZ0JBQWU7TUFDN0I7QUFFRSxhQUFPLE1BQU0sU0FBUyxJQUFJWCxJQUFHLEdBQUc7QUFDOUIsWUFBSSxNQUFNLFFBQVE7QUFDaEIsY0FBSTtRQUNWO0FBR0ksWUFBSSxLQUFLLEtBQUssYUFBYTtBQUN6QixpQkFBTyxTQUFTQSxJQUFHLENBQUM7UUFDMUI7QUFFSSxZQUFJLE9BQU8sU0FBUyxDQUFBLEdBQUksS0FBSyxJQUFJO0FBRWpDLFlBQUksSUFBSSxHQUFHO0FBQ1QsZUFBSyxRQUFRO1FBQ25CO0FBRUksZUFBTyxLQUFLLElBQUksZ0JBQWdCLElBQUksRUFBRSxPQUFPQSxFQUFDO01BQ2xEO0FBRUUsYUFBTywyQkFBMkIsU0FBUyx5QkFBeUIsSUFBSSxLQUFLO0FBQzNFLFlBQUksUUFBUTtBQUVaLFlBQUksZUFBZSxLQUFLLElBQUksWUFBVyxNQUFPLE1BQzFDLHVCQUF1QixLQUFLLElBQUksa0JBQWtCLEtBQUssSUFBSSxtQkFBbUIsV0FDOUUsU0FBUyxTQUFTWSxRQUFPLE1BQU0sU0FBUztBQUMxQyxpQkFBTyxNQUFNLElBQUksUUFBUSxJQUFJLE1BQU0sT0FBTztRQUNoRCxHQUNRQyxnQkFBZSxTQUFTQSxjQUFhLE1BQU07QUFDN0MsY0FBSSxHQUFHLGlCQUFpQixHQUFHLFdBQVcsS0FBSyxLQUFLLFFBQVE7QUFDdEQsbUJBQU87VUFDZjtBQUVNLGlCQUFPLEdBQUcsVUFBVSxHQUFHLEtBQUssYUFBYSxHQUFHLElBQUksS0FBSyxNQUFNLElBQUk7UUFDckUsR0FDUSxXQUFXLFNBQVNDLFlBQVc7QUFDakMsaUJBQU8sZUFBZSxvQkFBb0IsRUFBRSxJQUFJLE9BQU87WUFDckQsTUFBTTtZQUNOLFdBQVc7VUFDbkIsR0FBUyxXQUFXO1FBQ3BCLEdBQ1EsUUFBUSxTQUFTQyxPQUFNLFFBQVEsWUFBWTtBQUM3QyxpQkFBTyxlQUFlLGlCQUFpQixJQUFJLE1BQU0sSUFBSSxPQUFPLGFBQWE7WUFDdkUsT0FBTztVQUNmLElBQVU7WUFDRixPQUFPO1lBQ1AsS0FBSztVQUNiLEdBQVMsT0FBTztRQUNoQixHQUNRLFVBQVUsU0FBU0MsU0FBUSxRQUFRLFlBQVk7QUFDakQsaUJBQU8sZUFBZSxtQkFBbUIsSUFBSSxNQUFNLElBQUksT0FBTyxhQUFhO1lBQ3pFLFNBQVM7VUFDakIsSUFBVTtZQUNGLFNBQVM7WUFDVCxPQUFPO1lBQ1AsS0FBSztVQUNiLEdBQVMsU0FBUztRQUNsQixHQUNRLGFBQWEsU0FBU0MsWUFBVyxPQUFPO0FBQzFDLGNBQUksYUFBYU4sV0FBVSx1QkFBdUIsS0FBSztBQUV2RCxjQUFJLFlBQVk7QUFDZCxtQkFBTyxNQUFNLHdCQUF3QixJQUFJLFVBQVU7VUFDM0QsT0FBYTtBQUNMLG1CQUFPO1VBQ2Y7UUFDQSxHQUNRLE1BQU0sU0FBU08sS0FBSSxRQUFRO0FBQzdCLGlCQUFPLGVBQWUsZUFBZSxJQUFJLE1BQU0sSUFBSSxPQUFPO1lBQ3hELEtBQUs7VUFDYixHQUFTLEtBQUs7UUFDZCxHQUNRLGdCQUFnQixTQUFTQyxlQUFjLE9BQU87QUFFaEQsa0JBQVE7aUJBRUQ7QUFDSCxxQkFBTyxNQUFNLElBQUksR0FBRyxXQUFXO2lCQUU1QjtpQkFFQTtBQUNILHFCQUFPLE1BQU0sSUFBSSxHQUFHLGFBQWEsQ0FBQztpQkFHL0I7QUFDSCxxQkFBTyxNQUFNLElBQUksR0FBRyxNQUFNO2lCQUV2QjtBQUNILHFCQUFPLE1BQU0sSUFBSSxHQUFHLFFBQVEsQ0FBQztpQkFHMUI7QUFDSCxxQkFBTyxNQUFNLElBQUksS0FBSyxNQUFNLEdBQUcsY0FBYyxFQUFFLEdBQUcsQ0FBQztpQkFFaEQ7QUFDSCxxQkFBTyxNQUFNLElBQUksS0FBSyxNQUFNLEdBQUcsY0FBYyxHQUFHLENBQUM7aUJBRzlDO0FBQ0gscUJBQU8sTUFBTSxJQUFJLEdBQUcsTUFBTTtpQkFFdkI7QUFDSCxxQkFBTyxNQUFNLElBQUksR0FBRyxRQUFRLENBQUM7aUJBRzFCO0FBQ0gscUJBQU8sTUFBTSxJQUFJLEdBQUcsT0FBTyxPQUFPLElBQUksS0FBSyxHQUFHLE9BQU8sRUFBRTtpQkFFcEQ7QUFDSCxxQkFBTyxNQUFNLElBQUksR0FBRyxPQUFPLE9BQU8sSUFBSSxLQUFLLEdBQUcsT0FBTyxJQUFJLENBQUM7aUJBRXZEO0FBQ0gscUJBQU8sTUFBTSxJQUFJLEdBQUcsSUFBSTtpQkFFckI7QUFDSCxxQkFBTyxNQUFNLElBQUksR0FBRyxNQUFNLENBQUM7aUJBR3hCO0FBRUgscUJBQU9OLGNBQWE7Z0JBQ2xCLFFBQVE7Z0JBQ1IsUUFBUSxNQUFNLEtBQUs7Y0FDL0IsQ0FBVztpQkFFRTtBQUVILHFCQUFPQSxjQUFhO2dCQUNsQixRQUFRO2dCQUNSLFFBQVEsTUFBTSxLQUFLO2NBQy9CLENBQVc7aUJBRUU7QUFFSCxxQkFBT0EsY0FBYTtnQkFDbEIsUUFBUTtnQkFDUixRQUFRLE1BQU0sS0FBSztjQUMvQixDQUFXO2lCQUVFO0FBRUgscUJBQU8sR0FBRyxLQUFLLFdBQVcsR0FBRyxJQUFJO2dCQUMvQixRQUFRO2dCQUNSLFFBQVEsTUFBTSxJQUFJO2NBQzlCLENBQVc7aUJBRUU7QUFFSCxxQkFBTyxHQUFHLEtBQUssV0FBVyxHQUFHLElBQUk7Z0JBQy9CLFFBQVE7Z0JBQ1IsUUFBUSxNQUFNLElBQUk7Y0FDOUIsQ0FBVztpQkFHRTtBQUVILHFCQUFPLEdBQUc7aUJBR1A7QUFDSCxxQkFBTyxTQUFRO2lCQUdaO0FBQ0gscUJBQU8sdUJBQXVCLE9BQU87Z0JBQ25DLEtBQUs7Y0FDakIsR0FBYSxLQUFLLElBQUksTUFBTSxJQUFJLEdBQUcsR0FBRztpQkFFekI7QUFDSCxxQkFBTyx1QkFBdUIsT0FBTztnQkFDbkMsS0FBSztjQUNqQixHQUFhLEtBQUssSUFBSSxNQUFNLElBQUksR0FBRyxLQUFLLENBQUM7aUJBRzVCO0FBRUgscUJBQU8sTUFBTSxJQUFJLEdBQUcsT0FBTztpQkFFeEI7QUFFSCxxQkFBTyxRQUFRLFNBQVMsSUFBSTtpQkFFekI7QUFFSCxxQkFBTyxRQUFRLFFBQVEsSUFBSTtpQkFFeEI7QUFFSCxxQkFBTyxRQUFRLFVBQVUsSUFBSTtpQkFHMUI7QUFFSCxxQkFBTyxNQUFNLElBQUksR0FBRyxPQUFPO2lCQUV4QjtBQUVILHFCQUFPLFFBQVEsU0FBUyxLQUFLO2lCQUUxQjtBQUVILHFCQUFPLFFBQVEsUUFBUSxLQUFLO2lCQUV6QjtBQUVILHFCQUFPLFFBQVEsVUFBVSxLQUFLO2lCQUczQjtBQUVILHFCQUFPLHVCQUF1QixPQUFPO2dCQUNuQyxPQUFPO2dCQUNQLEtBQUs7Y0FDakIsR0FBYSxPQUFPLElBQUksTUFBTSxJQUFJLEdBQUcsS0FBSztpQkFFN0I7QUFFSCxxQkFBTyx1QkFBdUIsT0FBTztnQkFDbkMsT0FBTztnQkFDUCxLQUFLO2NBQ2pCLEdBQWEsT0FBTyxJQUFJLE1BQU0sSUFBSSxHQUFHLE9BQU8sQ0FBQztpQkFFaEM7QUFFSCxxQkFBTyxNQUFNLFNBQVMsSUFBSTtpQkFFdkI7QUFFSCxxQkFBTyxNQUFNLFFBQVEsSUFBSTtpQkFFdEI7QUFFSCxxQkFBTyxNQUFNLFVBQVUsSUFBSTtpQkFHeEI7QUFFSCxxQkFBTyx1QkFBdUIsT0FBTztnQkFDbkMsT0FBTztjQUNuQixHQUFhLE9BQU8sSUFBSSxNQUFNLElBQUksR0FBRyxLQUFLO2lCQUU3QjtBQUVILHFCQUFPLHVCQUF1QixPQUFPO2dCQUNuQyxPQUFPO2NBQ25CLEdBQWEsT0FBTyxJQUFJLE1BQU0sSUFBSSxHQUFHLE9BQU8sQ0FBQztpQkFFaEM7QUFFSCxxQkFBTyxNQUFNLFNBQVMsS0FBSztpQkFFeEI7QUFFSCxxQkFBTyxNQUFNLFFBQVEsS0FBSztpQkFFdkI7QUFFSCxxQkFBTyxNQUFNLFVBQVUsS0FBSztpQkFHekI7QUFFSCxxQkFBTyx1QkFBdUIsT0FBTztnQkFDbkMsTUFBTTtjQUNsQixHQUFhLE1BQU0sSUFBSSxNQUFNLElBQUksR0FBRyxJQUFJO2lCQUUzQjtBQUVILHFCQUFPLHVCQUF1QixPQUFPO2dCQUNuQyxNQUFNO2NBQ2xCLEdBQWEsTUFBTSxJQUFJLE1BQU0sSUFBSSxHQUFHLEtBQUssU0FBUSxFQUFHLE1BQU0sRUFBRSxHQUFHLENBQUM7aUJBRW5EO0FBRUgscUJBQU8sdUJBQXVCLE9BQU87Z0JBQ25DLE1BQU07Y0FDbEIsR0FBYSxNQUFNLElBQUksTUFBTSxJQUFJLEdBQUcsTUFBTSxDQUFDO2lCQUU5QjtBQUVILHFCQUFPLHVCQUF1QixPQUFPO2dCQUNuQyxNQUFNO2NBQ2xCLEdBQWEsTUFBTSxJQUFJLE1BQU0sSUFBSSxHQUFHLE1BQU0sQ0FBQztpQkFHOUI7QUFFSCxxQkFBTyxJQUFJLE9BQU87aUJBRWY7QUFFSCxxQkFBTyxJQUFJLE1BQU07aUJBRWQ7QUFDSCxxQkFBTyxJQUFJLFFBQVE7aUJBRWhCO0FBQ0gscUJBQU8sTUFBTSxJQUFJLEdBQUcsU0FBUyxTQUFRLEVBQUcsTUFBTSxFQUFFLEdBQUcsQ0FBQztpQkFFakQ7QUFDSCxxQkFBTyxNQUFNLElBQUksR0FBRyxVQUFVLENBQUM7aUJBRTVCO0FBQ0gscUJBQU8sTUFBTSxJQUFJLEdBQUcsVUFBVTtpQkFFM0I7QUFDSCxxQkFBTyxNQUFNLElBQUksR0FBRyxZQUFZLENBQUM7aUJBRTlCO0FBQ0gscUJBQU8sTUFBTSxJQUFJLEdBQUcsT0FBTztpQkFFeEI7QUFDSCxxQkFBTyxNQUFNLElBQUksR0FBRyxTQUFTLENBQUM7aUJBRTNCO0FBRUgscUJBQU8sTUFBTSxJQUFJLEdBQUcsT0FBTztpQkFFeEI7QUFFSCxxQkFBTyxNQUFNLElBQUksR0FBRyxTQUFTLENBQUM7aUJBRTNCO0FBQ0gscUJBQU8sTUFBTSxJQUFJLEtBQUssTUFBTSxHQUFHLEtBQUssR0FBSSxDQUFDO2lCQUV0QztBQUNILHFCQUFPLE1BQU0sSUFBSSxHQUFHLEVBQUU7O0FBR3RCLHFCQUFPLFdBQVcsS0FBSzs7UUFFakM7QUFFSSxlQUFPLGdCQUFnQkYsV0FBVSxZQUFZLEdBQUcsR0FBRyxhQUFhO01BQ3BFO0FBRUUsYUFBTywyQkFBMkIsU0FBUyx5QkFBeUIsS0FBSyxLQUFLO0FBQzVFLFlBQUksU0FBUztBQUViLFlBQUksZUFBZSxTQUFTUyxjQUFhLE9BQU87QUFDOUMsa0JBQVEsTUFBTTtpQkFDUDtBQUNILHFCQUFPO2lCQUVKO0FBQ0gscUJBQU87aUJBRUo7QUFDSCxxQkFBTztpQkFFSjtBQUNILHFCQUFPO2lCQUVKO0FBQ0gscUJBQU87aUJBRUo7QUFDSCxxQkFBTztpQkFFSjtBQUNILHFCQUFPO2lCQUVKO0FBQ0gscUJBQU87O0FBR1AscUJBQU87O1FBRWpCLEdBQ1EsZ0JBQWdCLFNBQVNELGVBQWMsUUFBUTtBQUNqRCxpQkFBTyxTQUFVLE9BQU87QUFDdEIsZ0JBQUksU0FBUyxhQUFhLEtBQUs7QUFFL0IsZ0JBQUksUUFBUTtBQUNWLHFCQUFPLE9BQU8sSUFBSSxPQUFPLElBQUksTUFBTSxHQUFHLE1BQU0sTUFBTTtZQUM1RCxPQUFlO0FBQ0wscUJBQU87WUFDakI7VUFDQTtRQUNBLEdBQ1EsU0FBU1IsV0FBVSxZQUFZLEdBQUcsR0FDbEMsYUFBYSxPQUFPLE9BQU8sU0FBVSxPQUFPLE1BQU07QUFDcEQsY0FBSSxVQUFVLEtBQUssU0FDZixNQUFNLEtBQUs7QUFDZixpQkFBTyxVQUFVLFFBQVEsTUFBTSxPQUFPLEdBQUc7UUFDL0MsR0FBTyxDQUFBLENBQUUsR0FDRCxZQUFZLElBQUksUUFBUSxNQUFNLEtBQUssV0FBVyxJQUFJLFlBQVksRUFBRSxPQUFPLFNBQVUsR0FBRztBQUN0RixpQkFBTztRQUNiLENBQUssQ0FBQztBQUVGLGVBQU8sZ0JBQWdCLFFBQVEsY0FBYyxTQUFTLENBQUM7TUFDM0Q7QUFFRSxhQUFPQTtJQUNULEVBQUM7QUFFRCxRQUFJLFVBQXVCLDJCQUFZO0FBQ3JDLGVBQVNVLFNBQVEsUUFBUSxhQUFhO0FBQ3BDLGFBQUssU0FBUztBQUNkLGFBQUssY0FBYztNQUN2QjtBQUVFLFVBQUksU0FBU0EsU0FBUTtBQUVyQixhQUFPLFlBQVksU0FBUyxZQUFZO0FBQ3RDLFlBQUksS0FBSyxhQUFhO0FBQ3BCLGlCQUFPLEtBQUssU0FBUyxPQUFPLEtBQUs7UUFDdkMsT0FBVztBQUNMLGlCQUFPLEtBQUs7UUFDbEI7TUFDQTtBQUVFLGFBQU9BO0lBQ1QsRUFBQztBQU1ELFFBQUksT0FBb0IsMkJBQVk7QUFDbEMsZUFBU0MsUUFBTztNQUFBO0FBRWhCLFVBQUksU0FBU0EsTUFBSztBQVdsQixhQUFPLGFBQWEsU0FBUyxXQUFXLElBQUksTUFBTTtBQUNoRCxjQUFNLElBQUksb0JBQW1CO01BQ2pDO0FBV0UsYUFBTyxlQUFlLFNBQVNULGNBQWEsSUFBSSxRQUFRO0FBQ3RELGNBQU0sSUFBSSxvQkFBbUI7TUFDakM7QUFTRSxhQUFPLFNBQVMsU0FBU0osUUFBTyxJQUFJO0FBQ2xDLGNBQU0sSUFBSSxvQkFBbUI7TUFDakM7QUFTRSxhQUFPLFNBQVMsU0FBUyxPQUFPLFdBQVc7QUFDekMsY0FBTSxJQUFJLG9CQUFtQjtNQUNqQztBQVFFLG1CQUFhYSxPQUFNLENBQUM7UUFDbEIsS0FBSztRQUNMLEtBTUEsU0FBUyxNQUFNO0FBQ2IsZ0JBQU0sSUFBSSxvQkFBbUI7UUFDbkM7TUFPQSxHQUFLO1FBQ0QsS0FBSztRQUNMLEtBQUssU0FBUyxNQUFNO0FBQ2xCLGdCQUFNLElBQUksb0JBQW1CO1FBQ25DO01BQ0EsR0FBSztRQUNELEtBQUs7UUFDTCxLQUFLLFNBQVMsTUFBTTtBQUNsQixpQkFBTyxLQUFLO1FBQ2xCO01BT0EsR0FBSztRQUNELEtBQUs7UUFDTCxLQUFLLFNBQVMsTUFBTTtBQUNsQixnQkFBTSxJQUFJLG9CQUFtQjtRQUNuQztNQUNBLEdBQUs7UUFDRCxLQUFLO1FBQ0wsS0FBSyxTQUFTLE1BQU07QUFDbEIsZ0JBQU0sSUFBSSxvQkFBbUI7UUFDbkM7TUFDQSxDQUFHLENBQUM7QUFFRixhQUFPQTtJQUNULEVBQUM7QUFFRCxRQUFJLGNBQWM7QUFNbEIsUUFBSSxhQUEwQix5QkFBVSxPQUFPO0FBQzdDLHFCQUFlQyxhQUFZLEtBQUs7QUFFaEMsZUFBU0EsY0FBYTtBQUNwQixlQUFPLE1BQU0sTUFBTSxNQUFNLFNBQVMsS0FBSztNQUMzQztBQUVFLFVBQUksU0FBU0EsWUFBVztBQUd4QixhQUFPLGFBQWEsU0FBUyxXQUFXLElBQUksTUFBTTtBQUNoRCxZQUFJLFNBQVMsS0FBSyxRQUNkLFNBQVMsS0FBSztBQUNsQixlQUFPLGNBQWMsSUFBSSxRQUFRLE1BQU07TUFDM0M7QUFJRSxhQUFPLGVBQWUsU0FBUyxlQUFlLElBQUksUUFBUTtBQUN4RCxlQUFPLGFBQWEsS0FBSyxPQUFPLEVBQUUsR0FBRyxNQUFNO01BQy9DO0FBSUUsYUFBTyxTQUFTLFNBQVNkLFFBQU8sSUFBSTtBQUNsQyxlQUFPLENBQUMsSUFBSSxLQUFLLEVBQUUsRUFBRSxrQkFBaUI7TUFDMUM7QUFJRSxhQUFPLFNBQVMsU0FBUyxPQUFPLFdBQVc7QUFDekMsZUFBTyxVQUFVLFNBQVM7TUFDOUI7QUFJRSxtQkFBYWMsYUFBWSxDQUFDO1FBQ3hCLEtBQUs7UUFDTCxLQUVBLFNBQVMsTUFBTTtBQUNiLGlCQUFPO1FBQ2I7TUFHQSxHQUFLO1FBQ0QsS0FBSztRQUNMLEtBQUssU0FBUyxNQUFNO0FBQ2xCLGlCQUFPLElBQUksS0FBSyxlQUFjLEVBQUcsZ0JBQWUsRUFBRztRQUN6RDtNQUdBLEdBQUs7UUFDRCxLQUFLO1FBQ0wsS0FBSyxTQUFTLE1BQU07QUFDbEIsaUJBQU87UUFDYjtNQUNBLEdBQUs7UUFDRCxLQUFLO1FBQ0wsS0FBSyxTQUFTLE1BQU07QUFDbEIsaUJBQU87UUFDYjtNQUNBLENBQUcsR0FBRyxDQUFDO1FBQ0gsS0FBSztRQUNMLEtBS0EsU0FBUyxNQUFNO0FBQ2IsY0FBSSxnQkFBZ0IsTUFBTTtBQUN4QiwwQkFBYyxJQUFJQSxZQUFVO1VBQ3BDO0FBRU0saUJBQU87UUFDYjtNQUNBLENBQUcsQ0FBQztBQUVGLGFBQU9BO0lBQ1QsRUFBRSxJQUFJO0FBRU4sUUFBSSxXQUFXLENBQUE7QUFFZixhQUFTLFFBQVEsTUFBTTtBQUNyQixVQUFJLENBQUMsU0FBUyxPQUFPO0FBQ25CLGlCQUFTLFFBQVEsSUFBSSxLQUFLLGVBQWUsU0FBUztVQUNoRCxRQUFRO1VBQ1IsVUFBVTtVQUNWLE1BQU07VUFDTixPQUFPO1VBQ1AsS0FBSztVQUNMLE1BQU07VUFDTixRQUFRO1VBQ1IsUUFBUTtVQUNSLEtBQUs7UUFDWCxDQUFLO01BQ0w7QUFFRSxhQUFPLFNBQVM7SUFDbEI7QUFFQSxRQUFJLFlBQVk7TUFDZCxNQUFNO01BQ04sT0FBTztNQUNQLEtBQUs7TUFDTCxLQUFLO01BQ0wsTUFBTTtNQUNOLFFBQVE7TUFDUixRQUFRO0lBQ1Y7QUFFQSxhQUFTLFlBQVksS0FBSyxNQUFNO0FBQzlCLFVBQUksWUFBWSxJQUFJLE9BQU8sSUFBSSxFQUFFLFFBQVEsV0FBVyxFQUFFLEdBQ2xELFNBQVMsa0RBQWtELEtBQUssU0FBUyxHQUN6RSxTQUFTLE9BQU8sSUFDaEIsT0FBTyxPQUFPLElBQ2QsUUFBUSxPQUFPLElBQ2YsVUFBVSxPQUFPLElBQ2pCLFFBQVEsT0FBTyxJQUNmLFVBQVUsT0FBTyxJQUNqQixVQUFVLE9BQU87QUFDckIsYUFBTyxDQUFDLE9BQU8sUUFBUSxNQUFNLFNBQVMsT0FBTyxTQUFTLE9BQU87SUFDL0Q7QUFFQSxhQUFTLFlBQVksS0FBSyxNQUFNO0FBQzlCLFVBQUksWUFBWSxJQUFJLGNBQWMsSUFBSTtBQUN0QyxVQUFJLFNBQVMsQ0FBQTtBQUViLGVBQVMsSUFBSSxHQUFHLElBQUksVUFBVSxRQUFRLEtBQUs7QUFDekMsWUFBSSxlQUFlLFVBQVUsSUFDekIsT0FBTyxhQUFhLE1BQ3BCLFFBQVEsYUFBYTtBQUN6QixZQUFJLE1BQU0sVUFBVTtBQUVwQixZQUFJLFNBQVMsT0FBTztBQUNsQixpQkFBTyxPQUFPO1FBQ3BCLFdBQWUsQ0FBQyxZQUFZLEdBQUcsR0FBRztBQUM1QixpQkFBTyxPQUFPLFNBQVMsT0FBTyxFQUFFO1FBQ3RDO01BQ0E7QUFFRSxhQUFPO0lBQ1Q7QUFFQSxRQUFJLGdCQUFnQixDQUFBO0FBTXBCLFFBQUksV0FBd0IseUJBQVUsT0FBTztBQUMzQyxxQkFBZUMsV0FBVSxLQUFLO0FBTTlCLE1BQUFBLFVBQVMsU0FBUyxTQUFTLE9BQU8sTUFBTTtBQUN0QyxZQUFJLENBQUMsY0FBYyxPQUFPO0FBQ3hCLHdCQUFjLFFBQVEsSUFBSUEsVUFBUyxJQUFJO1FBQzdDO0FBRUksZUFBTyxjQUFjO01BQ3pCO0FBT0UsTUFBQUEsVUFBUyxhQUFhLFNBQVMsYUFBYTtBQUMxQyx3QkFBZ0IsQ0FBQTtBQUNoQixtQkFBVyxDQUFBO01BQ2Y7QUFXRSxNQUFBQSxVQUFTLG1CQUFtQixTQUFTLGlCQUFpQmQsSUFBRztBQUN2RCxlQUFPLEtBQUssWUFBWUEsRUFBQztNQUM3QjtBQVdFLE1BQUFjLFVBQVMsY0FBYyxTQUFTLFlBQVksTUFBTTtBQUNoRCxZQUFJLENBQUMsTUFBTTtBQUNULGlCQUFPO1FBQ2I7QUFFSSxZQUFJO0FBQ0YsY0FBSSxLQUFLLGVBQWUsU0FBUztZQUMvQixVQUFVO1VBQ2xCLENBQU8sRUFBRSxPQUFNO0FBQ1QsaUJBQU87UUFDYixTQUFhLEdBQVA7QUFDQSxpQkFBTztRQUNiO01BQ0E7QUFFRSxlQUFTQSxVQUFTLE1BQU07QUFDdEIsWUFBSTtBQUVKLGdCQUFRLE1BQU0sS0FBSyxJQUFJLEtBQUs7QUFHNUIsY0FBTSxXQUFXO0FBR2pCLGNBQU0sUUFBUUEsVUFBUyxZQUFZLElBQUk7QUFDdkMsZUFBTztNQUNYO0FBSUUsVUFBSSxTQUFTQSxVQUFTO0FBR3RCLGFBQU8sYUFBYSxTQUFTLFdBQVcsSUFBSSxNQUFNO0FBQ2hELFlBQUksU0FBUyxLQUFLLFFBQ2QsU0FBUyxLQUFLO0FBQ2xCLGVBQU8sY0FBYyxJQUFJLFFBQVEsUUFBUSxLQUFLLElBQUk7TUFDdEQ7QUFJRSxhQUFPLGVBQWUsU0FBUyxlQUFlLElBQUksUUFBUTtBQUN4RCxlQUFPLGFBQWEsS0FBSyxPQUFPLEVBQUUsR0FBRyxNQUFNO01BQy9DO0FBSUUsYUFBTyxTQUFTLFNBQVNmLFFBQU8sSUFBSTtBQUNsQyxZQUFJLE9BQU8sSUFBSSxLQUFLLEVBQUU7QUFDdEIsWUFBSSxNQUFNLElBQUk7QUFBRyxpQkFBTztBQUN4QixZQUFJLE1BQU0sUUFBUSxLQUFLLElBQUk7QUFFM0IsWUFBSSxRQUFRLElBQUksZ0JBQWdCLFlBQVksS0FBSyxJQUFJLElBQUksWUFBWSxLQUFLLElBQUksR0FDMUUsT0FBTyxNQUFNLElBQ2IsUUFBUSxNQUFNLElBQ2QsTUFBTSxNQUFNLElBQ1osU0FBUyxNQUFNLElBQ2YsT0FBTyxNQUFNLElBQ2IsU0FBUyxNQUFNLElBQ2YsU0FBUyxNQUFNO0FBRW5CLFlBQUksV0FBVyxNQUFNO0FBQ25CLGlCQUFPLENBQUMsS0FBSyxJQUFJLElBQUksSUFBSTtRQUMvQjtBQUdJLFlBQUksZUFBZSxTQUFTLEtBQUssSUFBSTtBQUNyQyxZQUFJLFFBQVEsYUFBYTtVQUN2QjtVQUNBO1VBQ0E7VUFDQSxNQUFNO1VBQ047VUFDQTtVQUNBLGFBQWE7UUFDbkIsQ0FBSztBQUNELFlBQUksT0FBTyxDQUFDO0FBQ1osWUFBSSxPQUFPLE9BQU87QUFDbEIsZ0JBQVEsUUFBUSxJQUFJLE9BQU8sTUFBTztBQUNsQyxnQkFBUSxRQUFRLFNBQVMsS0FBSztNQUNsQztBQUlFLGFBQU8sU0FBUyxTQUFTLE9BQU8sV0FBVztBQUN6QyxlQUFPLFVBQVUsU0FBUyxVQUFVLFVBQVUsU0FBUyxLQUFLO01BQ2hFO0FBSUUsbUJBQWFlLFdBQVUsQ0FBQztRQUN0QixLQUFLO1FBQ0wsS0FBSyxTQUFTLE1BQU07QUFDbEIsaUJBQU87UUFDYjtNQUdBLEdBQUs7UUFDRCxLQUFLO1FBQ0wsS0FBSyxTQUFTLE1BQU07QUFDbEIsaUJBQU8sS0FBSztRQUNsQjtNQUdBLEdBQUs7UUFDRCxLQUFLO1FBQ0wsS0FBSyxTQUFTLE1BQU07QUFDbEIsaUJBQU87UUFDYjtNQUNBLEdBQUs7UUFDRCxLQUFLO1FBQ0wsS0FBSyxTQUFTLE1BQU07QUFDbEIsaUJBQU8sS0FBSztRQUNsQjtNQUNBLENBQUcsQ0FBQztBQUVGLGFBQU9BO0lBQ1QsRUFBRSxJQUFJO0FBRU4sUUFBSSxZQUFZO0FBTWhCLFFBQUksa0JBQStCLHlCQUFVLE9BQU87QUFDbEQscUJBQWVDLGtCQUFpQixLQUFLO0FBT3JDLE1BQUFBLGlCQUFnQixXQUFXLFNBQVMzQixVQUFTVyxTQUFRO0FBQ25ELGVBQU9BLFlBQVcsSUFBSWdCLGlCQUFnQixjQUFjLElBQUlBLGlCQUFnQmhCLE9BQU07TUFDbEY7QUFXRSxNQUFBZ0IsaUJBQWdCLGlCQUFpQixTQUFTLGVBQWVmLElBQUc7QUFDMUQsWUFBSUEsSUFBRztBQUNMLGNBQUksSUFBSUEsR0FBRSxNQUFNLHVDQUF1QztBQUV2RCxjQUFJLEdBQUc7QUFDTCxtQkFBTyxJQUFJZSxpQkFBZ0IsYUFBYSxFQUFFLElBQUksRUFBRSxFQUFFLENBQUM7VUFDM0Q7UUFDQTtBQUVJLGVBQU87TUFDWDtBQUVFLGVBQVNBLGlCQUFnQmhCLFNBQVE7QUFDL0IsWUFBSTtBQUVKLGdCQUFRLE1BQU0sS0FBSyxJQUFJLEtBQUs7QUFHNUIsY0FBTSxRQUFRQTtBQUNkLGVBQU87TUFDWDtBQUlFLFVBQUksU0FBU2dCLGlCQUFnQjtBQUc3QixhQUFPLGFBQWEsU0FBUyxhQUFhO0FBQ3hDLGVBQU8sS0FBSztNQUNoQjtBQUlFLGFBQU8sZUFBZSxTQUFTLGVBQWUsSUFBSSxRQUFRO0FBQ3hELGVBQU8sYUFBYSxLQUFLLE9BQU8sTUFBTTtNQUMxQztBQUtFLGFBQU8sU0FBUyxTQUFTaEIsVUFBUztBQUNoQyxlQUFPLEtBQUs7TUFDaEI7QUFJRSxhQUFPLFNBQVMsU0FBUyxPQUFPLFdBQVc7QUFDekMsZUFBTyxVQUFVLFNBQVMsV0FBVyxVQUFVLFVBQVUsS0FBSztNQUNsRTtBQUlFLG1CQUFhZ0Isa0JBQWlCLENBQUM7UUFDN0IsS0FBSztRQUNMLEtBQUssU0FBUyxNQUFNO0FBQ2xCLGlCQUFPO1FBQ2I7TUFHQSxHQUFLO1FBQ0QsS0FBSztRQUNMLEtBQUssU0FBUyxNQUFNO0FBQ2xCLGlCQUFPLEtBQUssVUFBVSxJQUFJLFFBQVEsUUFBUSxhQUFhLEtBQUssT0FBTyxRQUFRO1FBQ2pGO01BQ0EsR0FBSztRQUNELEtBQUs7UUFDTCxLQUFLLFNBQVMsTUFBTTtBQUNsQixjQUFJLEtBQUssVUFBVSxHQUFHO0FBQ3BCLG1CQUFPO1VBQ2YsT0FBYTtBQUNMLG1CQUFPLFlBQVksYUFBYSxDQUFDLEtBQUssT0FBTyxRQUFRO1VBQzdEO1FBQ0E7TUFDQSxHQUFLO1FBQ0QsS0FBSztRQUNMLEtBQUssU0FBUyxNQUFNO0FBQ2xCLGlCQUFPO1FBQ2I7TUFDQSxHQUFLO1FBQ0QsS0FBSztRQUNMLEtBQUssU0FBUyxNQUFNO0FBQ2xCLGlCQUFPO1FBQ2I7TUFDQSxDQUFHLEdBQUcsQ0FBQztRQUNILEtBQUs7UUFDTCxLQUtBLFNBQVMsTUFBTTtBQUNiLGNBQUksY0FBYyxNQUFNO0FBQ3RCLHdCQUFZLElBQUlBLGlCQUFnQixDQUFDO1VBQ3pDO0FBRU0saUJBQU87UUFDYjtNQUNBLENBQUcsQ0FBQztBQUVGLGFBQU9BO0lBQ1QsRUFBRSxJQUFJO0FBT04sUUFBSSxjQUEyQix5QkFBVSxPQUFPO0FBQzlDLHFCQUFlQyxjQUFhLEtBQUs7QUFFakMsZUFBU0EsYUFBWSxVQUFVO0FBQzdCLFlBQUk7QUFFSixnQkFBUSxNQUFNLEtBQUssSUFBSSxLQUFLO0FBRzVCLGNBQU0sV0FBVztBQUNqQixlQUFPO01BQ1g7QUFJRSxVQUFJLFNBQVNBLGFBQVk7QUFHekIsYUFBTyxhQUFhLFNBQVMsYUFBYTtBQUN4QyxlQUFPO01BQ1g7QUFJRSxhQUFPLGVBQWUsU0FBU2IsZ0JBQWU7QUFDNUMsZUFBTztNQUNYO0FBSUUsYUFBTyxTQUFTLFNBQVNKLFVBQVM7QUFDaEMsZUFBTztNQUNYO0FBSUUsYUFBTyxTQUFTLFNBQVMsU0FBUztBQUNoQyxlQUFPO01BQ1g7QUFJRSxtQkFBYWlCLGNBQWEsQ0FBQztRQUN6QixLQUFLO1FBQ0wsS0FBSyxTQUFTLE1BQU07QUFDbEIsaUJBQU87UUFDYjtNQUdBLEdBQUs7UUFDRCxLQUFLO1FBQ0wsS0FBSyxTQUFTLE1BQU07QUFDbEIsaUJBQU8sS0FBSztRQUNsQjtNQUdBLEdBQUs7UUFDRCxLQUFLO1FBQ0wsS0FBSyxTQUFTLE1BQU07QUFDbEIsaUJBQU87UUFDYjtNQUNBLEdBQUs7UUFDRCxLQUFLO1FBQ0wsS0FBSyxTQUFTLE1BQU07QUFDbEIsaUJBQU87UUFDYjtNQUNBLENBQUcsQ0FBQztBQUVGLGFBQU9BO0lBQ1QsRUFBRSxJQUFJO0FBS04sYUFBUyxjQUFjLE9BQU9DLGNBQWE7QUFFekMsVUFBSSxZQUFZLEtBQUssS0FBSyxVQUFVLE1BQU07QUFDeEMsZUFBT0E7TUFDWCxXQUFhLGlCQUFpQixNQUFNO0FBQ2hDLGVBQU87TUFDWCxXQUFhLFNBQVMsS0FBSyxHQUFHO0FBQzFCLFlBQUksVUFBVSxNQUFNLFlBQVc7QUFDL0IsWUFBSSxZQUFZLFdBQVcsWUFBWTtBQUFVLGlCQUFPQTtpQkFBcUIsWUFBWSxTQUFTLFlBQVk7QUFBTyxpQkFBTyxnQkFBZ0I7O0FBQWlCLGlCQUFPLGdCQUFnQixlQUFlLE9BQU8sS0FBSyxTQUFTLE9BQU8sS0FBSztNQUN4TyxXQUFhLFNBQVMsS0FBSyxHQUFHO0FBQzFCLGVBQU8sZ0JBQWdCLFNBQVMsS0FBSztNQUN6QyxXQUFhLE9BQU8sVUFBVSxZQUFZLE1BQU0sVUFBVSxPQUFPLE1BQU0sV0FBVyxVQUFVO0FBR3hGLGVBQU87TUFDWCxPQUFTO0FBQ0wsZUFBTyxJQUFJLFlBQVksS0FBSztNQUNoQztJQUNBO0FBRUEsUUFBSSxNQUFNLFNBQVNDLE9BQU07QUFDdkIsYUFBTyxLQUFLLElBQUc7SUFDakI7QUFGQSxRQUdJLGNBQWM7QUFIbEIsUUFJSSxnQkFBZ0I7QUFKcEIsUUFLSSx5QkFBeUI7QUFMN0IsUUFNSSx3QkFBd0I7QUFONUIsUUFPSTtBQU1KLFFBQUksV0FBd0IsMkJBQVk7QUFDdEMsZUFBU0MsWUFBVztNQUFBO0FBTXBCLE1BQUFBLFVBQVMsY0FBYyxTQUFTLGNBQWM7QUFDNUMsZUFBTyxXQUFVO0FBQ2pCLGlCQUFTLFdBQVU7TUFDdkI7QUFFRSxtQkFBYUEsV0FBVSxNQUFNLENBQUM7UUFDNUIsS0FBSztRQUNMLEtBS0EsU0FBUyxNQUFNO0FBQ2IsaUJBQU87UUFDYjtRQVNJLEtBQUssU0FBUyxJQUFJN0IsSUFBRztBQUNuQixnQkFBTUE7UUFDWjtNQU9BLEdBQUs7UUFDRCxLQUFLO1FBQ0wsS0FNQSxTQUFTLE1BQU07QUFDYixpQkFBTyxjQUFjLGFBQWEsV0FBVyxRQUFRO1FBQzNEO1FBTUksS0FBSyxTQUFTLElBQUksTUFBTTtBQUN0Qix3QkFBYztRQUNwQjtNQUNBLEdBQUs7UUFDRCxLQUFLO1FBQ0wsS0FBSyxTQUFTLE1BQU07QUFDbEIsaUJBQU87UUFDYjtRQU1JLEtBQUssU0FBUyxJQUFJLFFBQVE7QUFDeEIsMEJBQWdCO1FBQ3RCO01BTUEsR0FBSztRQUNELEtBQUs7UUFDTCxLQUFLLFNBQVMsTUFBTTtBQUNsQixpQkFBTztRQUNiO1FBTUksS0FBSyxTQUFTLElBQUksaUJBQWlCO0FBQ2pDLG1DQUF5QjtRQUMvQjtNQU1BLEdBQUs7UUFDRCxLQUFLO1FBQ0wsS0FBSyxTQUFTLE1BQU07QUFDbEIsaUJBQU87UUFDYjtRQU1JLEtBQUssU0FBUyxJQUFJLGdCQUFnQjtBQUNoQyxrQ0FBd0I7UUFDOUI7TUFNQSxHQUFLO1FBQ0QsS0FBSztRQUNMLEtBQUssU0FBUyxNQUFNO0FBQ2xCLGlCQUFPO1FBQ2I7UUFNSSxLQUFLLFNBQVMsSUFBSSxHQUFHO0FBQ25CLDJCQUFpQjtRQUN2QjtNQUNBLENBQUcsQ0FBQztBQUVGLGFBQU82QjtJQUNULEVBQUM7QUFFRCxRQUFJLFlBQVksQ0FBQyxNQUFNO0FBQXZCLFFBQ0ksYUFBYSxDQUFDLFNBQVMsT0FBTztBQUVsQyxRQUFJLGNBQWMsQ0FBQTtBQUVsQixhQUFTLFlBQVksV0FBVyxNQUFNO0FBQ3BDLFVBQUksU0FBUyxRQUFRO0FBQ25CLGVBQU8sQ0FBQTtNQUNYO0FBRUUsVUFBSSxNQUFNLEtBQUssVUFBVSxDQUFDLFdBQVcsSUFBSSxDQUFDO0FBQzFDLFVBQUksTUFBTSxZQUFZO0FBRXRCLFVBQUksQ0FBQyxLQUFLO0FBQ1IsY0FBTSxJQUFJLEtBQUssV0FBVyxXQUFXLElBQUk7QUFDekMsb0JBQVksT0FBTztNQUN2QjtBQUVFLGFBQU87SUFDVDtBQUVBLFFBQUksY0FBYyxDQUFBO0FBRWxCLGFBQVMsYUFBYSxXQUFXLE1BQU07QUFDckMsVUFBSSxTQUFTLFFBQVE7QUFDbkIsZUFBTyxDQUFBO01BQ1g7QUFFRSxVQUFJLE1BQU0sS0FBSyxVQUFVLENBQUMsV0FBVyxJQUFJLENBQUM7QUFDMUMsVUFBSSxNQUFNLFlBQVk7QUFFdEIsVUFBSSxDQUFDLEtBQUs7QUFDUixjQUFNLElBQUksS0FBSyxlQUFlLFdBQVcsSUFBSTtBQUM3QyxvQkFBWSxPQUFPO01BQ3ZCO0FBRUUsYUFBTztJQUNUO0FBRUEsUUFBSSxlQUFlLENBQUE7QUFFbkIsYUFBUyxhQUFhLFdBQVcsTUFBTTtBQUNyQyxVQUFJLFNBQVMsUUFBUTtBQUNuQixlQUFPLENBQUE7TUFDWDtBQUVFLFVBQUksTUFBTSxLQUFLLFVBQVUsQ0FBQyxXQUFXLElBQUksQ0FBQztBQUMxQyxVQUFJLE1BQU0sYUFBYTtBQUV2QixVQUFJLENBQUMsS0FBSztBQUNSLGNBQU0sSUFBSSxLQUFLLGFBQWEsV0FBVyxJQUFJO0FBQzNDLHFCQUFhLE9BQU87TUFDeEI7QUFFRSxhQUFPO0lBQ1Q7QUFFQSxRQUFJLGVBQWUsQ0FBQTtBQUVuQixhQUFTLGFBQWEsV0FBVyxNQUFNO0FBQ3JDLFVBQUksU0FBUyxRQUFRO0FBQ25CLGVBQU8sQ0FBQTtNQUNYO0FBRUUsVUFBSSxRQUFRO0FBQ1IsWUFBTTtBQUNOLFVBQUksZUFBZSw4QkFBOEIsT0FBTyxTQUFTO0FBR3JFLFVBQUksTUFBTSxLQUFLLFVBQVUsQ0FBQyxXQUFXLFlBQVksQ0FBQztBQUNsRCxVQUFJLE1BQU0sYUFBYTtBQUV2QixVQUFJLENBQUMsS0FBSztBQUNSLGNBQU0sSUFBSSxLQUFLLG1CQUFtQixXQUFXLElBQUk7QUFDakQscUJBQWEsT0FBTztNQUN4QjtBQUVFLGFBQU87SUFDVDtBQUVBLFFBQUksaUJBQWlCO0FBRXJCLGFBQVMsZUFBZTtBQUN0QixVQUFJLGdCQUFnQjtBQUNsQixlQUFPO01BQ1gsT0FBUztBQUNMLHlCQUFpQixJQUFJLEtBQUssZUFBYyxFQUFHLGdCQUFlLEVBQUc7QUFDN0QsZUFBTztNQUNYO0lBQ0E7QUFFQSxhQUFTLGtCQUFrQixXQUFXO0FBT3BDLFVBQUksU0FBUyxVQUFVLFFBQVEsS0FBSztBQUVwQyxVQUFJLFdBQVcsSUFBSTtBQUNqQixlQUFPLENBQUMsU0FBUztNQUNyQixPQUFTO0FBQ0wsWUFBSTtBQUNKLFlBQUksVUFBVSxVQUFVLFVBQVUsR0FBRyxNQUFNO0FBRTNDLFlBQUk7QUFDRixvQkFBVSxhQUFhLFNBQVMsRUFBRSxnQkFBZTtRQUN2RCxTQUFhLEdBQVA7QUFDQSxvQkFBVSxhQUFhLE9BQU8sRUFBRSxnQkFBZTtRQUNyRDtBQUVJLFlBQUksV0FBVyxTQUNYLGtCQUFrQixTQUFTLGlCQUMzQixXQUFXLFNBQVM7QUFFeEIsZUFBTyxDQUFDLFNBQVMsaUJBQWlCLFFBQVE7TUFDOUM7SUFDQTtBQUVBLGFBQVMsaUJBQWlCLFdBQVcsaUJBQWlCLGdCQUFnQjtBQUNwRSxVQUFJLGtCQUFrQixpQkFBaUI7QUFDckMscUJBQWE7QUFFYixZQUFJLGdCQUFnQjtBQUNsQix1QkFBYSxTQUFTO1FBQzVCO0FBRUksWUFBSSxpQkFBaUI7QUFDbkIsdUJBQWEsU0FBUztRQUM1QjtBQUVJLGVBQU87TUFDWCxPQUFTO0FBQ0wsZUFBTztNQUNYO0lBQ0E7QUFFQSxhQUFTLFVBQVUsR0FBRztBQUNwQixVQUFJLEtBQUssQ0FBQTtBQUVULGVBQVMsSUFBSSxHQUFHLEtBQUssSUFBSSxLQUFLO0FBQzVCLFlBQUksS0FBSyxTQUFTLElBQUksTUFBTSxHQUFHLENBQUM7QUFDaEMsV0FBRyxLQUFLLEVBQUUsRUFBRSxDQUFDO01BQ2pCO0FBRUUsYUFBTztJQUNUO0FBRUEsYUFBUyxZQUFZLEdBQUc7QUFDdEIsVUFBSSxLQUFLLENBQUE7QUFFVCxlQUFTLElBQUksR0FBRyxLQUFLLEdBQUcsS0FBSztBQUMzQixZQUFJLEtBQUssU0FBUyxJQUFJLE1BQU0sSUFBSSxLQUFLLENBQUM7QUFDdEMsV0FBRyxLQUFLLEVBQUUsRUFBRSxDQUFDO01BQ2pCO0FBRUUsYUFBTztJQUNUO0FBRUEsYUFBUyxVQUFVLEtBQUssUUFBUSxXQUFXLFdBQVcsUUFBUTtBQUM1RCxVQUFJLE9BQU8sSUFBSSxZQUFZLFNBQVM7QUFFcEMsVUFBSSxTQUFTLFNBQVM7QUFDcEIsZUFBTztNQUNYLFdBQWEsU0FBUyxNQUFNO0FBQ3hCLGVBQU8sVUFBVSxNQUFNO01BQzNCLE9BQVM7QUFDTCxlQUFPLE9BQU8sTUFBTTtNQUN4QjtJQUNBO0FBRUEsYUFBUyxvQkFBb0IsS0FBSztBQUNoQyxVQUFJLElBQUksbUJBQW1CLElBQUksb0JBQW9CLFFBQVE7QUFDekQsZUFBTztNQUNYLE9BQVM7QUFDTCxlQUFPLElBQUksb0JBQW9CLFVBQVUsQ0FBQyxJQUFJLFVBQVUsSUFBSSxPQUFPLFdBQVcsSUFBSSxLQUFLLElBQUksS0FBSyxlQUFlLElBQUksSUFBSSxFQUFFLGdCQUFlLEVBQUcsb0JBQW9CO01BQ25LO0lBQ0E7QUFNQSxRQUFJLHNCQUFtQywyQkFBWTtBQUNqRCxlQUFTQyxxQkFBb0IsTUFBTSxhQUFhLE1BQU07QUFDcEQsYUFBSyxRQUFRLEtBQUssU0FBUztBQUMzQixhQUFLLFFBQVEsS0FBSyxTQUFTO0FBRTNCLGFBQUs7QUFDRCxhQUFLO0FBQ0wsWUFBSSxZQUFZLDhCQUE4QixNQUFNLFVBQVU7QUFFbEUsWUFBSSxDQUFDLGVBQWUsT0FBTyxLQUFLLFNBQVMsRUFBRSxTQUFTLEdBQUc7QUFDckQsY0FBSSxXQUFXLFNBQVM7WUFDdEIsYUFBYTtVQUNyQixHQUFTLElBQUk7QUFFUCxjQUFJLEtBQUssUUFBUTtBQUFHLHFCQUFTLHVCQUF1QixLQUFLO0FBQ3pELGVBQUssTUFBTSxhQUFhLE1BQU0sUUFBUTtRQUM1QztNQUNBO0FBRUUsVUFBSSxTQUFTQSxxQkFBb0I7QUFFakMsYUFBTyxTQUFTLFNBQVMsT0FBTyxHQUFHO0FBQ2pDLFlBQUksS0FBSyxLQUFLO0FBQ1osY0FBSSxRQUFRLEtBQUssUUFBUSxLQUFLLE1BQU0sQ0FBQyxJQUFJO0FBQ3pDLGlCQUFPLEtBQUssSUFBSSxPQUFPLEtBQUs7UUFDbEMsT0FBVztBQUVMLGNBQUksU0FBUyxLQUFLLFFBQVEsS0FBSyxNQUFNLENBQUMsSUFBSSxRQUFRLEdBQUcsQ0FBQztBQUV0RCxpQkFBTyxTQUFTLFFBQVEsS0FBSyxLQUFLO1FBQ3hDO01BQ0E7QUFFRSxhQUFPQTtJQUNULEVBQUM7QUFNRCxRQUFJLG9CQUFpQywyQkFBWTtBQUMvQyxlQUFTQyxtQkFBa0IsSUFBSSxNQUFNLE1BQU07QUFDekMsYUFBSyxPQUFPO0FBQ1osWUFBSTtBQUVKLFlBQUksR0FBRyxLQUFLLGFBQWE7QUFPdkIsY0FBSSxZQUFZLE1BQU0sR0FBRyxTQUFTO0FBQ2xDLGNBQUksVUFBVSxhQUFhLElBQUksYUFBYSxZQUFZLFlBQVk7QUFFcEUsY0FBSSxHQUFHLFdBQVcsS0FBSyxTQUFTLE9BQU8sT0FBTyxFQUFFLE9BQU87QUFDckQsZ0JBQUk7QUFDSixpQkFBSyxLQUFLO1VBQ2xCLE9BQWE7QUFRTCxnQkFBSTtBQUVKLGdCQUFJLEtBQUssY0FBYztBQUNyQixtQkFBSyxLQUFLO1lBQ3BCLE9BQWU7QUFDTCxtQkFBSyxLQUFLLEdBQUcsV0FBVyxJQUFJLEtBQUssU0FBUyxXQUFXLEdBQUcsS0FBSyxHQUFHLFNBQVMsS0FBSyxHQUFJO1lBQzVGO1VBQ0E7UUFDQSxXQUFlLEdBQUcsS0FBSyxTQUFTLFVBQVU7QUFDcEMsZUFBSyxLQUFLO1FBQ2hCLE9BQVc7QUFDTCxlQUFLLEtBQUs7QUFDVixjQUFJLEdBQUcsS0FBSztRQUNsQjtBQUVJLFlBQUksV0FBVyxTQUFTLENBQUEsR0FBSSxLQUFLLElBQUk7QUFFckMsWUFBSSxHQUFHO0FBQ0wsbUJBQVMsV0FBVztRQUMxQjtBQUVJLGFBQUssTUFBTSxhQUFhLE1BQU0sUUFBUTtNQUMxQztBQUVFLFVBQUksVUFBVUEsbUJBQWtCO0FBRWhDLGNBQVEsU0FBUyxTQUFTLFNBQVM7QUFDakMsZUFBTyxLQUFLLElBQUksT0FBTyxLQUFLLEdBQUcsU0FBUSxDQUFFO01BQzdDO0FBRUUsY0FBUSxnQkFBZ0IsU0FBUyxnQkFBZ0I7QUFDL0MsZUFBTyxLQUFLLElBQUksY0FBYyxLQUFLLEdBQUcsU0FBUSxDQUFFO01BQ3BEO0FBRUUsY0FBUSxrQkFBa0IsU0FBUyxrQkFBa0I7QUFDbkQsZUFBTyxLQUFLLElBQUksZ0JBQWU7TUFDbkM7QUFFRSxhQUFPQTtJQUNULEVBQUM7QUFNRCxRQUFJLG1CQUFnQywyQkFBWTtBQUM5QyxlQUFTQyxrQkFBaUIsTUFBTSxXQUFXLE1BQU07QUFDL0MsYUFBSyxPQUFPLFNBQVM7VUFDbkIsT0FBTztRQUNiLEdBQU8sSUFBSTtBQUVQLFlBQUksQ0FBQyxhQUFhLFlBQVcsR0FBSTtBQUMvQixlQUFLLE1BQU0sYUFBYSxNQUFNLElBQUk7UUFDeEM7TUFDQTtBQUVFLFVBQUksVUFBVUEsa0JBQWlCO0FBRS9CLGNBQVEsU0FBUyxTQUFTLE9BQU8sT0FBTyxNQUFNO0FBQzVDLFlBQUksS0FBSyxLQUFLO0FBQ1osaUJBQU8sS0FBSyxJQUFJLE9BQU8sT0FBTyxJQUFJO1FBQ3hDLE9BQVc7QUFDTCxpQkFBTyxtQkFBbUIsTUFBTSxPQUFPLEtBQUssS0FBSyxTQUFTLEtBQUssS0FBSyxVQUFVLE1BQU07UUFDMUY7TUFDQTtBQUVFLGNBQVEsZ0JBQWdCLFNBQVMsY0FBYyxPQUFPLE1BQU07QUFDMUQsWUFBSSxLQUFLLEtBQUs7QUFDWixpQkFBTyxLQUFLLElBQUksY0FBYyxPQUFPLElBQUk7UUFDL0MsT0FBVztBQUNMLGlCQUFPLENBQUE7UUFDYjtNQUNBO0FBRUUsYUFBT0E7SUFDVCxFQUFDO0FBTUQsUUFBSSxTQUFzQiwyQkFBWTtBQUNwQyxNQUFBQyxRQUFPLFdBQVcsU0FBUyxTQUFTLE1BQU07QUFDeEMsZUFBT0EsUUFBTyxPQUFPLEtBQUssUUFBUSxLQUFLLGlCQUFpQixLQUFLLGdCQUFnQixLQUFLLFdBQVc7TUFDakc7QUFFRSxNQUFBQSxRQUFPLFNBQVMsU0FBUyxPQUFPLFFBQVEsaUJBQWlCLGdCQUFnQixhQUFhO0FBQ3BGLFlBQUksZ0JBQWdCLFFBQVE7QUFDMUIsd0JBQWM7UUFDcEI7QUFFSSxZQUFJLGtCQUFrQixVQUFVLFNBQVM7QUFFekMsWUFBSSxVQUFVLG9CQUFvQixjQUFjLFVBQVUsYUFBWTtBQUN0RSxZQUFJLG1CQUFtQixtQkFBbUIsU0FBUztBQUNuRCxZQUFJLGtCQUFrQixrQkFBa0IsU0FBUztBQUNqRCxlQUFPLElBQUlBLFFBQU8sU0FBUyxrQkFBa0IsaUJBQWlCLGVBQWU7TUFDakY7QUFFRSxNQUFBQSxRQUFPLGFBQWEsU0FBUyxhQUFhO0FBQ3hDLHlCQUFpQjtBQUNqQixzQkFBYyxDQUFBO0FBQ2QsdUJBQWUsQ0FBQTtBQUNmLHVCQUFlLENBQUE7TUFDbkI7QUFFRSxNQUFBQSxRQUFPLGFBQWEsU0FBUyxXQUFXLE9BQU87QUFDN0MsWUFBSSxPQUFPLFVBQVUsU0FBUyxDQUFBLElBQUssT0FDL0IsU0FBUyxLQUFLLFFBQ2Qsa0JBQWtCLEtBQUssaUJBQ3ZCLGlCQUFpQixLQUFLO0FBRTFCLGVBQU9BLFFBQU8sT0FBTyxRQUFRLGlCQUFpQixjQUFjO01BQ2hFO0FBRUUsZUFBU0EsUUFBTyxRQUFRLFdBQVcsZ0JBQWdCLGlCQUFpQjtBQUNsRSxZQUFJLHFCQUFxQixrQkFBa0IsTUFBTSxHQUM3QyxlQUFlLG1CQUFtQixJQUNsQyx3QkFBd0IsbUJBQW1CLElBQzNDLHVCQUF1QixtQkFBbUI7QUFFOUMsYUFBSyxTQUFTO0FBQ2QsYUFBSyxrQkFBa0IsYUFBYSx5QkFBeUI7QUFDN0QsYUFBSyxpQkFBaUIsa0JBQWtCLHdCQUF3QjtBQUNoRSxhQUFLLE9BQU8saUJBQWlCLEtBQUssUUFBUSxLQUFLLGlCQUFpQixLQUFLLGNBQWM7QUFDbkYsYUFBSyxnQkFBZ0I7VUFDbkIsUUFBUSxDQUFBO1VBQ1IsWUFBWSxDQUFBO1FBQ2xCO0FBQ0ksYUFBSyxjQUFjO1VBQ2pCLFFBQVEsQ0FBQTtVQUNSLFlBQVksQ0FBQTtRQUNsQjtBQUNJLGFBQUssZ0JBQWdCO0FBQ3JCLGFBQUssV0FBVyxDQUFBO0FBQ2hCLGFBQUssa0JBQWtCO0FBQ3ZCLGFBQUssb0JBQW9CO01BQzdCO0FBRUUsVUFBSSxVQUFVQSxRQUFPO0FBRXJCLGNBQVEsY0FBYyxTQUFTLGNBQWM7QUFDM0MsWUFBSSxlQUFlLEtBQUssVUFBUztBQUNqQyxZQUFJLGtCQUFrQixLQUFLLG9CQUFvQixRQUFRLEtBQUssb0JBQW9CLFlBQVksS0FBSyxtQkFBbUIsUUFBUSxLQUFLLG1CQUFtQjtBQUNwSixlQUFPLGdCQUFnQixpQkFBaUIsT0FBTztNQUNuRDtBQUVFLGNBQVEsUUFBUSxTQUFTQyxPQUFNLE1BQU07QUFDbkMsWUFBSSxDQUFDLFFBQVEsT0FBTyxvQkFBb0IsSUFBSSxFQUFFLFdBQVcsR0FBRztBQUMxRCxpQkFBTztRQUNiLE9BQVc7QUFDTCxpQkFBT0QsUUFBTyxPQUFPLEtBQUssVUFBVSxLQUFLLGlCQUFpQixLQUFLLG1CQUFtQixLQUFLLGlCQUFpQixLQUFLLGtCQUFrQixLQUFLLGdCQUFnQixLQUFLLGVBQWUsS0FBSztRQUNuTDtNQUNBO0FBRUUsY0FBUSxnQkFBZ0IsU0FBUyxjQUFjLE1BQU07QUFDbkQsWUFBSSxTQUFTLFFBQVE7QUFDbkIsaUJBQU8sQ0FBQTtRQUNiO0FBRUksZUFBTyxLQUFLLE1BQU0sU0FBUyxDQUFBLEdBQUksTUFBTTtVQUNuQyxhQUFhO1FBQ25CLENBQUssQ0FBQztNQUNOO0FBRUUsY0FBUSxvQkFBb0IsU0FBUyxrQkFBa0IsTUFBTTtBQUMzRCxZQUFJLFNBQVMsUUFBUTtBQUNuQixpQkFBTyxDQUFBO1FBQ2I7QUFFSSxlQUFPLEtBQUssTUFBTSxTQUFTLENBQUEsR0FBSSxNQUFNO1VBQ25DLGFBQWE7UUFDbkIsQ0FBSyxDQUFDO01BQ047QUFFRSxjQUFRLFNBQVMsU0FBUyxTQUFTLFFBQVEsUUFBUSxXQUFXO0FBQzVELFlBQUksUUFBUTtBQUVaLFlBQUksV0FBVyxRQUFRO0FBQ3JCLG1CQUFTO1FBQ2Y7QUFFSSxZQUFJLGNBQWMsUUFBUTtBQUN4QixzQkFBWTtRQUNsQjtBQUVJLGVBQU8sVUFBVSxNQUFNLFFBQVEsV0FBVyxRQUFRLFdBQVk7QUFDNUQsY0FBSSxPQUFPLFNBQVM7WUFDbEIsT0FBTztZQUNQLEtBQUs7VUFDYixJQUFVO1lBQ0YsT0FBTztVQUNmLEdBQ1UsWUFBWSxTQUFTLFdBQVc7QUFFcEMsY0FBSSxDQUFDLE1BQU0sWUFBWSxXQUFXLFNBQVM7QUFDekMsa0JBQU0sWUFBWSxXQUFXLFVBQVUsVUFBVSxTQUFVLElBQUk7QUFDN0QscUJBQU8sTUFBTSxRQUFRLElBQUksTUFBTSxPQUFPO1lBQ2hELENBQVM7VUFDVDtBQUVNLGlCQUFPLE1BQU0sWUFBWSxXQUFXO1FBQzFDLENBQUs7TUFDTDtBQUVFLGNBQVEsV0FBVyxTQUFTLFdBQVcsUUFBUSxRQUFRLFdBQVc7QUFDaEUsWUFBSSxTQUFTO0FBRWIsWUFBSSxXQUFXLFFBQVE7QUFDckIsbUJBQVM7UUFDZjtBQUVJLFlBQUksY0FBYyxRQUFRO0FBQ3hCLHNCQUFZO1FBQ2xCO0FBRUksZUFBTyxVQUFVLE1BQU0sUUFBUSxXQUFXLFVBQVUsV0FBWTtBQUM5RCxjQUFJLE9BQU8sU0FBUztZQUNsQixTQUFTO1lBQ1QsTUFBTTtZQUNOLE9BQU87WUFDUCxLQUFLO1VBQ2IsSUFBVTtZQUNGLFNBQVM7VUFDakIsR0FDVSxZQUFZLFNBQVMsV0FBVztBQUVwQyxjQUFJLENBQUMsT0FBTyxjQUFjLFdBQVcsU0FBUztBQUM1QyxtQkFBTyxjQUFjLFdBQVcsVUFBVSxZQUFZLFNBQVUsSUFBSTtBQUNsRSxxQkFBTyxPQUFPLFFBQVEsSUFBSSxNQUFNLFNBQVM7WUFDbkQsQ0FBUztVQUNUO0FBRU0saUJBQU8sT0FBTyxjQUFjLFdBQVc7UUFDN0MsQ0FBSztNQUNMO0FBRUUsY0FBUSxZQUFZLFNBQVMsWUFBWSxXQUFXO0FBQ2xELFlBQUksU0FBUztBQUViLFlBQUksY0FBYyxRQUFRO0FBQ3hCLHNCQUFZO1FBQ2xCO0FBRUksZUFBTyxVQUFVLE1BQU0sUUFBVyxXQUFXLFdBQVk7QUFDdkQsaUJBQU87UUFDYixHQUFPLFdBQVk7QUFHYixjQUFJLENBQUMsT0FBTyxlQUFlO0FBQ3pCLGdCQUFJLE9BQU87Y0FDVCxNQUFNO2NBQ04sV0FBVztZQUNyQjtBQUNRLG1CQUFPLGdCQUFnQixDQUFDLFNBQVMsSUFBSSxNQUFNLElBQUksSUFBSSxDQUFDLEdBQUcsU0FBUyxJQUFJLE1BQU0sSUFBSSxJQUFJLEVBQUUsQ0FBQyxFQUFFLElBQUksU0FBVSxJQUFJO0FBQ3ZHLHFCQUFPLE9BQU8sUUFBUSxJQUFJLE1BQU0sV0FBVztZQUNyRCxDQUFTO1VBQ1Q7QUFFTSxpQkFBTyxPQUFPO1FBQ3BCLENBQUs7TUFDTDtBQUVFLGNBQVEsT0FBTyxTQUFTLE9BQU8sUUFBUSxXQUFXO0FBQ2hELFlBQUksU0FBUztBQUViLFlBQUksY0FBYyxRQUFRO0FBQ3hCLHNCQUFZO1FBQ2xCO0FBRUksZUFBTyxVQUFVLE1BQU0sUUFBUSxXQUFXLE1BQU0sV0FBWTtBQUMxRCxjQUFJLE9BQU87WUFDVCxLQUFLO1VBQ2I7QUFHTSxjQUFJLENBQUMsT0FBTyxTQUFTLFNBQVM7QUFDNUIsbUJBQU8sU0FBUyxVQUFVLENBQUMsU0FBUyxJQUFJLEtBQUssR0FBRyxDQUFDLEdBQUcsU0FBUyxJQUFJLE1BQU0sR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLFNBQVUsSUFBSTtBQUM5RixxQkFBTyxPQUFPLFFBQVEsSUFBSSxNQUFNLEtBQUs7WUFDL0MsQ0FBUztVQUNUO0FBRU0saUJBQU8sT0FBTyxTQUFTO1FBQzdCLENBQUs7TUFDTDtBQUVFLGNBQVEsVUFBVSxTQUFTLFFBQVEsSUFBSSxVQUFVLE9BQU87QUFDdEQsWUFBSSxLQUFLLEtBQUssWUFBWSxJQUFJLFFBQVEsR0FDbEMsVUFBVSxHQUFHLGNBQWEsR0FDMUIsV0FBVyxRQUFRLEtBQUssU0FBVSxHQUFHO0FBQ3ZDLGlCQUFPLEVBQUUsS0FBSyxZQUFXLE1BQU87UUFDdEMsQ0FBSztBQUNELGVBQU8sV0FBVyxTQUFTLFFBQVE7TUFDdkM7QUFFRSxjQUFRLGtCQUFrQixTQUFTLGdCQUFnQixNQUFNO0FBQ3ZELFlBQUksU0FBUyxRQUFRO0FBQ25CLGlCQUFPLENBQUE7UUFDYjtBQUlJLGVBQU8sSUFBSSxvQkFBb0IsS0FBSyxNQUFNLEtBQUssZUFBZSxLQUFLLGFBQWEsSUFBSTtNQUN4RjtBQUVFLGNBQVEsY0FBYyxTQUFTLFlBQVksSUFBSSxVQUFVO0FBQ3ZELFlBQUksYUFBYSxRQUFRO0FBQ3ZCLHFCQUFXLENBQUE7UUFDakI7QUFFSSxlQUFPLElBQUksa0JBQWtCLElBQUksS0FBSyxNQUFNLFFBQVE7TUFDeEQ7QUFFRSxjQUFRLGVBQWUsU0FBUyxhQUFhLE1BQU07QUFDakQsWUFBSSxTQUFTLFFBQVE7QUFDbkIsaUJBQU8sQ0FBQTtRQUNiO0FBRUksZUFBTyxJQUFJLGlCQUFpQixLQUFLLE1BQU0sS0FBSyxVQUFTLEdBQUksSUFBSTtNQUNqRTtBQUVFLGNBQVEsZ0JBQWdCLFNBQVMsY0FBYyxNQUFNO0FBQ25ELFlBQUksU0FBUyxRQUFRO0FBQ25CLGlCQUFPLENBQUE7UUFDYjtBQUVJLGVBQU8sWUFBWSxLQUFLLE1BQU0sSUFBSTtNQUN0QztBQUVFLGNBQVEsWUFBWSxTQUFTLFlBQVk7QUFDdkMsZUFBTyxLQUFLLFdBQVcsUUFBUSxLQUFLLE9BQU8sWUFBVyxNQUFPLFdBQVcsSUFBSSxLQUFLLGVBQWUsS0FBSyxJQUFJLEVBQUUsZ0JBQWUsRUFBRyxPQUFPLFdBQVcsT0FBTztNQUMxSjtBQUVFLGNBQVEsU0FBUyxTQUFTLE9BQU8sT0FBTztBQUN0QyxlQUFPLEtBQUssV0FBVyxNQUFNLFVBQVUsS0FBSyxvQkFBb0IsTUFBTSxtQkFBbUIsS0FBSyxtQkFBbUIsTUFBTTtNQUMzSDtBQUVFLG1CQUFhQSxTQUFRLENBQUM7UUFDcEIsS0FBSztRQUNMLEtBQUssU0FBUyxNQUFNO0FBQ2xCLGNBQUksS0FBSyxxQkFBcUIsTUFBTTtBQUNsQyxpQkFBSyxvQkFBb0Isb0JBQW9CLElBQUk7VUFDekQ7QUFFTSxpQkFBTyxLQUFLO1FBQ2xCO01BQ0EsQ0FBRyxDQUFDO0FBRUYsYUFBT0E7SUFDVCxFQUFDO0FBWUQsYUFBUyxpQkFBaUI7QUFDeEIsZUFBUyxPQUFPLFVBQVUsUUFBUSxVQUFVLElBQUksTUFBTSxJQUFJLEdBQUcsT0FBTyxHQUFHLE9BQU8sTUFBTSxRQUFRO0FBQzFGLGdCQUFRLFFBQVEsVUFBVTtNQUM5QjtBQUVFLFVBQUksT0FBTyxRQUFRLE9BQU8sU0FBVSxHQUFHLEdBQUc7QUFDeEMsZUFBTyxJQUFJLEVBQUU7TUFDakIsR0FBSyxFQUFFO0FBQ0wsYUFBTyxPQUFPLE1BQU0sT0FBTyxHQUFHO0lBQ2hDO0FBRUEsYUFBUyxvQkFBb0I7QUFDM0IsZUFBUyxRQUFRLFVBQVUsUUFBUSxhQUFhLElBQUksTUFBTSxLQUFLLEdBQUcsUUFBUSxHQUFHLFFBQVEsT0FBTyxTQUFTO0FBQ25HLG1CQUFXLFNBQVMsVUFBVTtNQUNsQztBQUVFLGFBQU8sU0FBVSxHQUFHO0FBQ2xCLGVBQU8sV0FBVyxPQUFPLFNBQVUsTUFBTSxJQUFJO0FBQzNDLGNBQUksYUFBYSxLQUFLLElBQ2xCLGFBQWEsS0FBSyxJQUNsQixTQUFTLEtBQUs7QUFFbEIsY0FBSSxNQUFNLEdBQUcsR0FBRyxNQUFNLEdBQ2xCLE1BQU0sSUFBSSxJQUNWLE9BQU8sSUFBSSxJQUNYLE9BQU8sSUFBSTtBQUVmLGlCQUFPLENBQUMsU0FBUyxDQUFBLEdBQUksWUFBWSxHQUFHLEdBQUcsUUFBUSxZQUFZLElBQUk7UUFDckUsR0FBTyxDQUFDLENBQUEsR0FBSSxNQUFNLENBQUMsQ0FBQyxFQUFFLE1BQU0sR0FBRyxDQUFDO01BQ2hDO0lBQ0E7QUFFQSxhQUFTLE1BQU12QixJQUFHO0FBQ2hCLFVBQUlBLE1BQUssTUFBTTtBQUNiLGVBQU8sQ0FBQyxNQUFNLElBQUk7TUFDdEI7QUFFRSxlQUFTLFFBQVEsVUFBVSxRQUFRLFdBQVcsSUFBSSxNQUFNLFFBQVEsSUFBSSxRQUFRLElBQUksQ0FBQyxHQUFHLFFBQVEsR0FBRyxRQUFRLE9BQU8sU0FBUztBQUNySCxpQkFBUyxRQUFRLEtBQUssVUFBVTtNQUNwQztBQUVFLGVBQVMsS0FBSyxHQUFHLFlBQVksVUFBVSxLQUFLLFVBQVUsUUFBUSxNQUFNO0FBQ2xFLFlBQUksZUFBZSxVQUFVLEtBQ3pCLFFBQVEsYUFBYSxJQUNyQixZQUFZLGFBQWE7QUFDN0IsWUFBSSxJQUFJLE1BQU0sS0FBS0EsRUFBQztBQUVwQixZQUFJLEdBQUc7QUFDTCxpQkFBTyxVQUFVLENBQUM7UUFDeEI7TUFDQTtBQUVFLGFBQU8sQ0FBQyxNQUFNLElBQUk7SUFDcEI7QUFFQSxhQUFTLGNBQWM7QUFDckIsZUFBUyxRQUFRLFVBQVUsUUFBUSxPQUFPLElBQUksTUFBTSxLQUFLLEdBQUcsUUFBUSxHQUFHLFFBQVEsT0FBTyxTQUFTO0FBQzdGLGFBQUssU0FBUyxVQUFVO01BQzVCO0FBRUUsYUFBTyxTQUFVeUIsUUFBTyxRQUFRO0FBQzlCLFlBQUksTUFBTSxDQUFBO0FBQ1YsWUFBSTtBQUVKLGFBQUssSUFBSSxHQUFHLElBQUksS0FBSyxRQUFRLEtBQUs7QUFDaEMsY0FBSSxLQUFLLE1BQU0sYUFBYUEsT0FBTSxTQUFTLEVBQUU7UUFDbkQ7QUFFSSxlQUFPLENBQUMsS0FBSyxNQUFNLFNBQVMsQ0FBQztNQUNqQztJQUNBO0FBR0EsUUFBSSxjQUFjO0FBQ2xCLFFBQUksa0JBQWtCLFFBQVEsWUFBWSxTQUFTLGFBQWEsVUFBVSxTQUFTO0FBQ25GLFFBQUksbUJBQW1CO0FBQ3ZCLFFBQUksZUFBZSxPQUFPLEtBQUssaUJBQWlCLFNBQVMsZUFBZTtBQUN4RSxRQUFJLHdCQUF3QixPQUFPLFNBQVMsYUFBYSxTQUFTLElBQUk7QUFDdEUsUUFBSSxjQUFjO0FBQ2xCLFFBQUksZUFBZTtBQUNuQixRQUFJLGtCQUFrQjtBQUN0QixRQUFJLHFCQUFxQixZQUFZLFlBQVksY0FBYyxTQUFTO0FBQ3hFLFFBQUksd0JBQXdCLFlBQVksUUFBUSxTQUFTO0FBQ3pELFFBQUksY0FBYztBQUVsQixRQUFJLGVBQWUsT0FBTyxpQkFBaUIsU0FBUyxVQUFVLFlBQVksU0FBUyxPQUFPLFVBQVUsU0FBUyxLQUFLO0FBQ2xILFFBQUksd0JBQXdCLE9BQU8sU0FBUyxhQUFhLFNBQVMsSUFBSTtBQUV0RSxhQUFTLElBQUlBLFFBQU8sS0FBSyxVQUFVO0FBQ2pDLFVBQUksSUFBSUEsT0FBTTtBQUNkLGFBQU8sWUFBWSxDQUFDLElBQUksV0FBVyxhQUFhLENBQUM7SUFDbkQ7QUFFQSxhQUFTLGNBQWNBLFFBQU8sUUFBUTtBQUNwQyxVQUFJLE9BQU87UUFDVCxNQUFNLElBQUlBLFFBQU8sTUFBTTtRQUN2QixPQUFPLElBQUlBLFFBQU8sU0FBUyxHQUFHLENBQUM7UUFDL0IsS0FBSyxJQUFJQSxRQUFPLFNBQVMsR0FBRyxDQUFDO01BQ2pDO0FBQ0UsYUFBTyxDQUFDLE1BQU0sTUFBTSxTQUFTLENBQUM7SUFDaEM7QUFFQSxhQUFTLGVBQWVBLFFBQU8sUUFBUTtBQUNyQyxVQUFJLE9BQU87UUFDVCxPQUFPLElBQUlBLFFBQU8sUUFBUSxDQUFDO1FBQzNCLFNBQVMsSUFBSUEsUUFBTyxTQUFTLEdBQUcsQ0FBQztRQUNqQyxTQUFTLElBQUlBLFFBQU8sU0FBUyxHQUFHLENBQUM7UUFDakMsY0FBYyxZQUFZQSxPQUFNLFNBQVMsRUFBRTtNQUMvQztBQUNFLGFBQU8sQ0FBQyxNQUFNLE1BQU0sU0FBUyxDQUFDO0lBQ2hDO0FBRUEsYUFBUyxpQkFBaUJBLFFBQU8sUUFBUTtBQUN2QyxVQUFJLFFBQVEsQ0FBQ0EsT0FBTSxXQUFXLENBQUNBLE9BQU0sU0FBUyxJQUMxQyxhQUFhLGFBQWFBLE9BQU0sU0FBUyxJQUFJQSxPQUFNLFNBQVMsRUFBRSxHQUM5RCxPQUFPLFFBQVEsT0FBTyxnQkFBZ0IsU0FBUyxVQUFVO0FBQzdELGFBQU8sQ0FBQyxDQUFBLEdBQUksTUFBTSxTQUFTLENBQUM7SUFDOUI7QUFFQSxhQUFTLGdCQUFnQkEsUUFBTyxRQUFRO0FBQ3RDLFVBQUksT0FBT0EsT0FBTSxVQUFVLFNBQVMsT0FBT0EsT0FBTSxPQUFPLElBQUk7QUFDNUQsYUFBTyxDQUFDLENBQUEsR0FBSSxNQUFNLFNBQVMsQ0FBQztJQUM5QjtBQUdBLFFBQUksY0FBYyxPQUFPLFFBQVEsaUJBQWlCLFNBQVMsR0FBRztBQUU5RCxRQUFJLGNBQWM7QUFFbEIsYUFBUyxtQkFBbUJBLFFBQU87QUFDakMsVUFBSXpCLEtBQUl5QixPQUFNLElBQ1YsVUFBVUEsT0FBTSxJQUNoQixXQUFXQSxPQUFNLElBQ2pCLFVBQVVBLE9BQU0sSUFDaEIsU0FBU0EsT0FBTSxJQUNmLFVBQVVBLE9BQU0sSUFDaEIsWUFBWUEsT0FBTSxJQUNsQixZQUFZQSxPQUFNLElBQ2xCLGtCQUFrQkEsT0FBTTtBQUM1QixVQUFJLG9CQUFvQnpCLEdBQUUsT0FBTztBQUNqQyxVQUFJLGtCQUFrQixhQUFhLFVBQVUsT0FBTztBQUVwRCxVQUFJLGNBQWMsU0FBUzBCLGFBQVksS0FBSyxPQUFPO0FBQ2pELFlBQUksVUFBVSxRQUFRO0FBQ3BCLGtCQUFRO1FBQ2Q7QUFFSSxlQUFPLFFBQVEsV0FBYyxTQUFTLE9BQU8scUJBQXFCLENBQUMsTUFBTTtNQUM3RTtBQUVFLGFBQU8sQ0FBQztRQUNOLE9BQU8sWUFBWSxjQUFjLE9BQU8sQ0FBQztRQUN6QyxRQUFRLFlBQVksY0FBYyxRQUFRLENBQUM7UUFDM0MsT0FBTyxZQUFZLGNBQWMsT0FBTyxDQUFDO1FBQ3pDLE1BQU0sWUFBWSxjQUFjLE1BQU0sQ0FBQztRQUN2QyxPQUFPLFlBQVksY0FBYyxPQUFPLENBQUM7UUFDekMsU0FBUyxZQUFZLGNBQWMsU0FBUyxDQUFDO1FBQzdDLFNBQVMsWUFBWSxjQUFjLFNBQVMsR0FBRyxjQUFjLElBQUk7UUFDakUsY0FBYyxZQUFZLFlBQVksZUFBZSxHQUFHLGVBQWU7TUFDM0UsQ0FBRztJQUNIO0FBS0EsUUFBSSxhQUFhO01BQ2YsS0FBSztNQUNMLEtBQUssS0FBSztNQUNWLEtBQUssS0FBSztNQUNWLEtBQUssS0FBSztNQUNWLEtBQUssS0FBSztNQUNWLEtBQUssS0FBSztNQUNWLEtBQUssS0FBSztNQUNWLEtBQUssS0FBSztNQUNWLEtBQUssS0FBSztJQUNaO0FBRUEsYUFBUyxZQUFZLFlBQVksU0FBUyxVQUFVLFFBQVEsU0FBUyxXQUFXLFdBQVc7QUFDekYsVUFBSSxTQUFTO1FBQ1gsTUFBTSxRQUFRLFdBQVcsSUFBSSxlQUFlLGFBQWEsT0FBTyxDQUFDLElBQUksYUFBYSxPQUFPO1FBQ3pGLE9BQU8sWUFBWSxRQUFRLFFBQVEsSUFBSTtRQUN2QyxLQUFLLGFBQWEsTUFBTTtRQUN4QixNQUFNLGFBQWEsT0FBTztRQUMxQixRQUFRLGFBQWEsU0FBUztNQUNsQztBQUNFLFVBQUk7QUFBVyxlQUFPLFNBQVMsYUFBYSxTQUFTO0FBRXJELFVBQUksWUFBWTtBQUNkLGVBQU8sVUFBVSxXQUFXLFNBQVMsSUFBSSxhQUFhLFFBQVEsVUFBVSxJQUFJLElBQUksY0FBYyxRQUFRLFVBQVUsSUFBSTtNQUN4SDtBQUVFLGFBQU87SUFDVDtBQUdBLFFBQUksVUFBVTtBQUVkLGFBQVMsZUFBZUQsUUFBTztBQUM3QixVQUFJLGFBQWFBLE9BQU0sSUFDbkIsU0FBU0EsT0FBTSxJQUNmLFdBQVdBLE9BQU0sSUFDakIsVUFBVUEsT0FBTSxJQUNoQixVQUFVQSxPQUFNLElBQ2hCLFlBQVlBLE9BQU0sSUFDbEIsWUFBWUEsT0FBTSxJQUNsQixZQUFZQSxPQUFNLElBQ2xCLFlBQVlBLE9BQU0sSUFDbEIsYUFBYUEsT0FBTSxLQUNuQixlQUFlQSxPQUFNLEtBQ3JCLFNBQVMsWUFBWSxZQUFZLFNBQVMsVUFBVSxRQUFRLFNBQVMsV0FBVyxTQUFTO0FBQzdGLFVBQUkxQjtBQUVKLFVBQUksV0FBVztBQUNiLFFBQUFBLFVBQVMsV0FBVztNQUN4QixXQUFhLFdBQVc7QUFDcEIsUUFBQUEsVUFBUztNQUNiLE9BQVM7QUFDTCxRQUFBQSxVQUFTLGFBQWEsWUFBWSxZQUFZO01BQ2xEO0FBRUUsYUFBTyxDQUFDLFFBQVEsSUFBSSxnQkFBZ0JBLE9BQU0sQ0FBQztJQUM3QztBQUVBLGFBQVMsa0JBQWtCQyxJQUFHO0FBRTVCLGFBQU9BLEdBQUUsUUFBUSxxQkFBcUIsR0FBRyxFQUFFLFFBQVEsWUFBWSxHQUFHLEVBQUUsS0FBSTtJQUMxRTtBQUdBLFFBQUksVUFBVTtBQUFkLFFBQ0ksU0FBUztBQURiLFFBRUksUUFBUTtBQUVaLGFBQVMsb0JBQW9CeUIsUUFBTztBQUNsQyxVQUFJLGFBQWFBLE9BQU0sSUFDbkIsU0FBU0EsT0FBTSxJQUNmLFdBQVdBLE9BQU0sSUFDakIsVUFBVUEsT0FBTSxJQUNoQixVQUFVQSxPQUFNLElBQ2hCLFlBQVlBLE9BQU0sSUFDbEIsWUFBWUEsT0FBTSxJQUNsQixTQUFTLFlBQVksWUFBWSxTQUFTLFVBQVUsUUFBUSxTQUFTLFdBQVcsU0FBUztBQUM3RixhQUFPLENBQUMsUUFBUSxnQkFBZ0IsV0FBVztJQUM3QztBQUVBLGFBQVMsYUFBYUEsUUFBTztBQUMzQixVQUFJLGFBQWFBLE9BQU0sSUFDbkIsV0FBV0EsT0FBTSxJQUNqQixTQUFTQSxPQUFNLElBQ2YsVUFBVUEsT0FBTSxJQUNoQixZQUFZQSxPQUFNLElBQ2xCLFlBQVlBLE9BQU0sSUFDbEIsVUFBVUEsT0FBTSxJQUNoQixTQUFTLFlBQVksWUFBWSxTQUFTLFVBQVUsUUFBUSxTQUFTLFdBQVcsU0FBUztBQUM3RixhQUFPLENBQUMsUUFBUSxnQkFBZ0IsV0FBVztJQUM3QztBQUVBLFFBQUksK0JBQStCLGVBQWUsYUFBYSxxQkFBcUI7QUFDcEYsUUFBSSxnQ0FBZ0MsZUFBZSxjQUFjLHFCQUFxQjtBQUN0RixRQUFJLG1DQUFtQyxlQUFlLGlCQUFpQixxQkFBcUI7QUFDNUYsUUFBSSx1QkFBdUIsZUFBZSxZQUFZO0FBQ3RELFFBQUksNkJBQTZCLGtCQUFrQixlQUFlLGdCQUFnQixrQkFBa0IsZUFBZTtBQUNuSCxRQUFJLDhCQUE4QixrQkFBa0Isb0JBQW9CLGdCQUFnQixrQkFBa0IsZUFBZTtBQUN6SCxRQUFJLCtCQUErQixrQkFBa0IsdUJBQXVCLGdCQUFnQixrQkFBa0IsZUFBZTtBQUM3SCxRQUFJLDBCQUEwQixrQkFBa0IsZ0JBQWdCLGtCQUFrQixlQUFlO0FBS2pHLGFBQVMsYUFBYXpCLElBQUc7QUFDdkIsYUFBTyxNQUFNQSxJQUFHLENBQUMsOEJBQThCLDBCQUEwQixHQUFHLENBQUMsK0JBQStCLDJCQUEyQixHQUFHLENBQUMsa0NBQWtDLDRCQUE0QixHQUFHLENBQUMsc0JBQXNCLHVCQUF1QixDQUFDO0lBQzdQO0FBQ0EsYUFBUyxpQkFBaUJBLElBQUc7QUFDM0IsYUFBTyxNQUFNLGtCQUFrQkEsRUFBQyxHQUFHLENBQUMsU0FBUyxjQUFjLENBQUM7SUFDOUQ7QUFDQSxhQUFTLGNBQWNBLElBQUc7QUFDeEIsYUFBTyxNQUFNQSxJQUFHLENBQUMsU0FBUyxtQkFBbUIsR0FBRyxDQUFDLFFBQVEsbUJBQW1CLEdBQUcsQ0FBQyxPQUFPLFlBQVksQ0FBQztJQUN0RztBQUNBLGFBQVMsaUJBQWlCQSxJQUFHO0FBQzNCLGFBQU8sTUFBTUEsSUFBRyxDQUFDLGFBQWEsa0JBQWtCLENBQUM7SUFDbkQ7QUFDQSxRQUFJLHFCQUFxQixrQkFBa0IsY0FBYztBQUN6RCxhQUFTLGlCQUFpQkEsSUFBRztBQUMzQixhQUFPLE1BQU1BLElBQUcsQ0FBQyxhQUFhLGtCQUFrQixDQUFDO0lBQ25EO0FBQ0EsUUFBSSwrQkFBK0IsZUFBZSxhQUFhLHFCQUFxQjtBQUNwRixRQUFJLHVCQUF1QixlQUFlLFlBQVk7QUFDdEQsUUFBSSxrQ0FBa0Msa0JBQWtCLGdCQUFnQixrQkFBa0IsZUFBZTtBQUN6RyxhQUFTLFNBQVNBLElBQUc7QUFDbkIsYUFBTyxNQUFNQSxJQUFHLENBQUMsOEJBQThCLDBCQUEwQixHQUFHLENBQUMsc0JBQXNCLCtCQUErQixDQUFDO0lBQ3JJO0FBRUEsUUFBSSxZQUFZO0FBRWhCLFFBQUksaUJBQWlCO01BQ25CLE9BQU87UUFDTCxNQUFNO1FBQ04sT0FBTyxJQUFJO1FBQ1gsU0FBUyxJQUFJLEtBQUs7UUFDbEIsU0FBUyxJQUFJLEtBQUssS0FBSztRQUN2QixjQUFjLElBQUksS0FBSyxLQUFLLEtBQUs7TUFDckM7TUFDRSxNQUFNO1FBQ0osT0FBTztRQUNQLFNBQVMsS0FBSztRQUNkLFNBQVMsS0FBSyxLQUFLO1FBQ25CLGNBQWMsS0FBSyxLQUFLLEtBQUs7TUFDakM7TUFDRSxPQUFPO1FBQ0wsU0FBUztRQUNULFNBQVMsS0FBSztRQUNkLGNBQWMsS0FBSyxLQUFLO01BQzVCO01BQ0UsU0FBUztRQUNQLFNBQVM7UUFDVCxjQUFjLEtBQUs7TUFDdkI7TUFDRSxTQUFTO1FBQ1AsY0FBYztNQUNsQjtJQUNBO0FBMUJBLFFBMkJJLGVBQWUsU0FBUztNQUMxQixPQUFPO1FBQ0wsVUFBVTtRQUNWLFFBQVE7UUFDUixPQUFPO1FBQ1AsTUFBTTtRQUNOLE9BQU8sTUFBTTtRQUNiLFNBQVMsTUFBTSxLQUFLO1FBQ3BCLFNBQVMsTUFBTSxLQUFLLEtBQUs7UUFDekIsY0FBYyxNQUFNLEtBQUssS0FBSyxLQUFLO01BQ3ZDO01BQ0UsVUFBVTtRQUNSLFFBQVE7UUFDUixPQUFPO1FBQ1AsTUFBTTtRQUNOLE9BQU8sS0FBSztRQUNaLFNBQVMsS0FBSyxLQUFLO1FBQ25CLFNBQVMsS0FBSyxLQUFLLEtBQUs7UUFDeEIsY0FBYyxLQUFLLEtBQUssS0FBSyxLQUFLO01BQ3RDO01BQ0UsUUFBUTtRQUNOLE9BQU87UUFDUCxNQUFNO1FBQ04sT0FBTyxLQUFLO1FBQ1osU0FBUyxLQUFLLEtBQUs7UUFDbkIsU0FBUyxLQUFLLEtBQUssS0FBSztRQUN4QixjQUFjLEtBQUssS0FBSyxLQUFLLEtBQUs7TUFDdEM7SUFDQSxHQUFHLGNBQWM7QUF2RGpCLFFBd0RJLHFCQUFxQixTQUFXO0FBeERwQyxRQXlESSxzQkFBc0IsU0FBVztBQXpEckMsUUEwREksaUJBQWlCLFNBQVM7TUFDNUIsT0FBTztRQUNMLFVBQVU7UUFDVixRQUFRO1FBQ1IsT0FBTyxxQkFBcUI7UUFDNUIsTUFBTTtRQUNOLE9BQU8scUJBQXFCO1FBQzVCLFNBQVMscUJBQXFCLEtBQUs7UUFDbkMsU0FBUyxxQkFBcUIsS0FBSyxLQUFLO1FBQ3hDLGNBQWMscUJBQXFCLEtBQUssS0FBSyxLQUFLO01BQ3REO01BQ0UsVUFBVTtRQUNSLFFBQVE7UUFDUixPQUFPLHFCQUFxQjtRQUM1QixNQUFNLHFCQUFxQjtRQUMzQixPQUFPLHFCQUFxQixLQUFLO1FBQ2pDLFNBQVMscUJBQXFCLEtBQUssS0FBSztRQUN4QyxTQUFTLHFCQUFxQixLQUFLLEtBQUssS0FBSztRQUM3QyxjQUFjLHFCQUFxQixLQUFLLEtBQUssS0FBSyxNQUFPO01BQzdEO01BQ0UsUUFBUTtRQUNOLE9BQU8sc0JBQXNCO1FBQzdCLE1BQU07UUFDTixPQUFPLHNCQUFzQjtRQUM3QixTQUFTLHNCQUFzQixLQUFLO1FBQ3BDLFNBQVMsc0JBQXNCLEtBQUssS0FBSztRQUN6QyxjQUFjLHNCQUFzQixLQUFLLEtBQUssS0FBSztNQUN2RDtJQUNBLEdBQUcsY0FBYztBQUVqQixRQUFJLGlCQUFpQixDQUFDLFNBQVMsWUFBWSxVQUFVLFNBQVMsUUFBUSxTQUFTLFdBQVcsV0FBVyxjQUFjO0FBQ25ILFFBQUksZUFBZSxlQUFlLE1BQU0sQ0FBQyxFQUFFLFFBQU87QUFFbEQsYUFBUyxRQUFRLEtBQUssTUFBTSxPQUFPO0FBQ2pDLFVBQUksVUFBVSxRQUFRO0FBQ3BCLGdCQUFRO01BQ1o7QUFHRSxVQUFJLE9BQU87UUFDVCxRQUFRLFFBQVEsS0FBSyxTQUFTLFNBQVMsQ0FBQSxHQUFJLElBQUksUUFBUSxLQUFLLFVBQVUsQ0FBQSxDQUFFO1FBQ3hFLEtBQUssSUFBSSxJQUFJLE1BQU0sS0FBSyxHQUFHO1FBQzNCLG9CQUFvQixLQUFLLHNCQUFzQixJQUFJO01BQ3ZEO0FBQ0UsYUFBTyxJQUFJLFNBQVMsSUFBSTtJQUMxQjtBQUVBLGFBQVMsVUFBVVYsSUFBRztBQUNwQixhQUFPQSxLQUFJLElBQUksS0FBSyxNQUFNQSxFQUFDLElBQUksS0FBSyxLQUFLQSxFQUFDO0lBQzVDO0FBR0EsYUFBUyxRQUFRLFFBQVEsU0FBUyxVQUFVLE9BQU8sUUFBUTtBQUN6RCxVQUFJLE9BQU8sT0FBTyxRQUFRLFdBQ3RCLE1BQU0sUUFBUSxZQUFZLE1BQzFCLFdBQVcsS0FBSyxLQUFLLEdBQUcsTUFBTSxLQUFLLEtBQUssTUFBTSxPQUFPLEdBRXpELFFBQVEsQ0FBQyxZQUFZLE1BQU0sWUFBWSxLQUFLLEtBQUssSUFBSSxHQUFHLEtBQUssSUFBSSxVQUFVLEdBQUcsSUFBSSxLQUFLLE1BQU0sR0FBRztBQUNoRyxZQUFNLFdBQVc7QUFDakIsY0FBUSxhQUFhLFFBQVE7SUFDL0I7QUFHQSxhQUFTLGdCQUFnQixRQUFRLE1BQU07QUFDckMsbUJBQWEsT0FBTyxTQUFVLFVBQVUsU0FBUztBQUMvQyxZQUFJLENBQUMsWUFBWSxLQUFLLFFBQVEsR0FBRztBQUMvQixjQUFJLFVBQVU7QUFDWixvQkFBUSxRQUFRLE1BQU0sVUFBVSxNQUFNLE9BQU87VUFDckQ7QUFFTSxpQkFBTztRQUNiLE9BQVc7QUFDTCxpQkFBTztRQUNiO01BQ0EsR0FBSyxJQUFJO0lBQ1Q7QUFnQkEsUUFBSSxXQUF3QiwyQkFBWTtBQUl0QyxlQUFTcUMsVUFBUyxRQUFRO0FBQ3hCLFlBQUksV0FBVyxPQUFPLHVCQUF1QixjQUFjO0FBSzNELGFBQUssU0FBUyxPQUFPO0FBS3JCLGFBQUssTUFBTSxPQUFPLE9BQU8sT0FBTyxPQUFNO0FBS3RDLGFBQUsscUJBQXFCLFdBQVcsYUFBYTtBQUtsRCxhQUFLLFVBQVUsT0FBTyxXQUFXO0FBS2pDLGFBQUssU0FBUyxXQUFXLGlCQUFpQjtBQUsxQyxhQUFLLGtCQUFrQjtNQUMzQjtBQVlFLE1BQUFBLFVBQVMsYUFBYSxTQUFTLFdBQVcsT0FBTyxNQUFNO0FBQ3JELGVBQU9BLFVBQVMsV0FBVztVQUN6QixjQUFjO1FBQ3BCLEdBQU8sSUFBSTtNQUNYO0FBc0JFLE1BQUFBLFVBQVMsYUFBYSxTQUFTLFdBQVcsS0FBSyxNQUFNO0FBQ25ELFlBQUksU0FBUyxRQUFRO0FBQ25CLGlCQUFPLENBQUE7UUFDYjtBQUVJLFlBQUksT0FBTyxRQUFRLE9BQU8sUUFBUSxVQUFVO0FBQzFDLGdCQUFNLElBQUkscUJBQXFCLGtFQUFrRSxRQUFRLE9BQU8sU0FBUyxPQUFPLElBQUk7UUFDMUk7QUFFSSxlQUFPLElBQUlBLFVBQVM7VUFDbEIsUUFBUSxnQkFBZ0IsS0FBS0EsVUFBUyxhQUFhO1VBQ25ELEtBQUssT0FBTyxXQUFXLElBQUk7VUFDM0Isb0JBQW9CLEtBQUs7UUFDL0IsQ0FBSztNQUNMO0FBYUUsTUFBQUEsVUFBUyxtQkFBbUIsU0FBUyxpQkFBaUIsY0FBYztBQUNsRSxZQUFJLFNBQVMsWUFBWSxHQUFHO0FBQzFCLGlCQUFPQSxVQUFTLFdBQVcsWUFBWTtRQUM3QyxXQUFlQSxVQUFTLFdBQVcsWUFBWSxHQUFHO0FBQzVDLGlCQUFPO1FBQ2IsV0FBZSxPQUFPLGlCQUFpQixVQUFVO0FBQzNDLGlCQUFPQSxVQUFTLFdBQVcsWUFBWTtRQUM3QyxPQUFXO0FBQ0wsZ0JBQU0sSUFBSSxxQkFBcUIsK0JBQStCLGVBQWUsY0FBYyxPQUFPLFlBQVk7UUFDcEg7TUFDQTtBQWdCRSxNQUFBQSxVQUFTLFVBQVUsU0FBUyxRQUFRQyxPQUFNLE1BQU07QUFDOUMsWUFBSSxvQkFBb0IsaUJBQWlCQSxLQUFJLEdBQ3pDLFNBQVMsa0JBQWtCO0FBRS9CLFlBQUksUUFBUTtBQUNWLGlCQUFPRCxVQUFTLFdBQVcsUUFBUSxJQUFJO1FBQzdDLE9BQVc7QUFDTCxpQkFBT0EsVUFBUyxRQUFRLGNBQWMsZ0JBQWlCQyxRQUFPLCtCQUFnQztRQUNwRztNQUNBO0FBa0JFLE1BQUFELFVBQVMsY0FBYyxTQUFTLFlBQVlDLE9BQU0sTUFBTTtBQUN0RCxZQUFJLG9CQUFvQixpQkFBaUJBLEtBQUksR0FDekMsU0FBUyxrQkFBa0I7QUFFL0IsWUFBSSxRQUFRO0FBQ1YsaUJBQU9ELFVBQVMsV0FBVyxRQUFRLElBQUk7UUFDN0MsT0FBVztBQUNMLGlCQUFPQSxVQUFTLFFBQVEsY0FBYyxnQkFBaUJDLFFBQU8sK0JBQWdDO1FBQ3BHO01BQ0E7QUFTRSxNQUFBRCxVQUFTLFVBQVUsU0FBUyxRQUFRLFFBQVEsYUFBYTtBQUN2RCxZQUFJLGdCQUFnQixRQUFRO0FBQzFCLHdCQUFjO1FBQ3BCO0FBRUksWUFBSSxDQUFDLFFBQVE7QUFDWCxnQkFBTSxJQUFJLHFCQUFxQixrREFBa0Q7UUFDdkY7QUFFSSxZQUFJRSxXQUFVLGtCQUFrQixVQUFVLFNBQVMsSUFBSSxRQUFRLFFBQVEsV0FBVztBQUVsRixZQUFJLFNBQVMsZ0JBQWdCO0FBQzNCLGdCQUFNLElBQUkscUJBQXFCQSxRQUFPO1FBQzVDLE9BQVc7QUFDTCxpQkFBTyxJQUFJRixVQUFTO1lBQ2xCLFNBQVNFO1VBQ2pCLENBQU87UUFDUDtNQUNBO0FBTUUsTUFBQUYsVUFBUyxnQkFBZ0IsU0FBU0csZUFBYyxNQUFNO0FBQ3BELFlBQUksYUFBYTtVQUNmLE1BQU07VUFDTixPQUFPO1VBQ1AsU0FBUztVQUNULFVBQVU7VUFDVixPQUFPO1VBQ1AsUUFBUTtVQUNSLE1BQU07VUFDTixPQUFPO1VBQ1AsS0FBSztVQUNMLE1BQU07VUFDTixNQUFNO1VBQ04sT0FBTztVQUNQLFFBQVE7VUFDUixTQUFTO1VBQ1QsUUFBUTtVQUNSLFNBQVM7VUFDVCxhQUFhO1VBQ2IsY0FBYztRQUNwQixFQUFNLE9BQU8sS0FBSyxZQUFXLElBQUs7QUFDOUIsWUFBSSxDQUFDO0FBQVksZ0JBQU0sSUFBSSxpQkFBaUIsSUFBSTtBQUNoRCxlQUFPO01BQ1g7QUFRRSxNQUFBSCxVQUFTLGFBQWEsU0FBUyxXQUFXLEdBQUc7QUFDM0MsZUFBTyxLQUFLLEVBQUUsbUJBQW1CO01BQ3JDO0FBT0UsVUFBSSxTQUFTQSxVQUFTO0FBdUJ0QixhQUFPLFdBQVcsU0FBUyxTQUFTLEtBQUssTUFBTTtBQUM3QyxZQUFJLFNBQVMsUUFBUTtBQUNuQixpQkFBTyxDQUFBO1FBQ2I7QUFHSSxZQUFJLFVBQVUsU0FBUyxDQUFBLEdBQUksTUFBTTtVQUMvQixPQUFPLEtBQUssVUFBVSxTQUFTLEtBQUssVUFBVTtRQUNwRCxDQUFLO0FBRUQsZUFBTyxLQUFLLFVBQVUsVUFBVSxPQUFPLEtBQUssS0FBSyxPQUFPLEVBQUUseUJBQXlCLE1BQU0sR0FBRyxJQUFJO01BQ3BHO0FBZ0JFLGFBQU8sVUFBVSxTQUFTLFFBQVEsTUFBTTtBQUN0QyxZQUFJLFFBQVE7QUFFWixZQUFJLFNBQVMsUUFBUTtBQUNuQixpQkFBTyxDQUFBO1FBQ2I7QUFFSSxZQUFJSSxLQUFJLGVBQWUsSUFBSSxTQUFVLE1BQU07QUFDekMsY0FBSSxNQUFNLE1BQU0sT0FBTztBQUV2QixjQUFJLFlBQVksR0FBRyxHQUFHO0FBQ3BCLG1CQUFPO1VBQ2Y7QUFFTSxpQkFBTyxNQUFNLElBQUksZ0JBQWdCLFNBQVM7WUFDeEMsT0FBTztZQUNQLGFBQWE7VUFDckIsR0FBUyxNQUFNO1lBQ1AsTUFBTSxLQUFLLE1BQU0sR0FBRyxFQUFFO1VBQzlCLENBQU8sQ0FBQyxFQUFFLE9BQU8sR0FBRztRQUNwQixDQUFLLEVBQUUsT0FBTyxTQUFVekMsSUFBRztBQUNyQixpQkFBT0E7UUFDYixDQUFLO0FBQ0QsZUFBTyxLQUFLLElBQUksY0FBYyxTQUFTO1VBQ3JDLE1BQU07VUFDTixPQUFPLEtBQUssYUFBYTtRQUMvQixHQUFPLElBQUksQ0FBQyxFQUFFLE9BQU95QyxFQUFDO01BQ3RCO0FBUUUsYUFBTyxXQUFXLFNBQVMsV0FBVztBQUNwQyxZQUFJLENBQUMsS0FBSztBQUFTLGlCQUFPLENBQUE7QUFDMUIsZUFBTyxTQUFTLENBQUEsR0FBSSxLQUFLLE1BQU07TUFDbkM7QUFhRSxhQUFPLFFBQVEsU0FBUyxRQUFRO0FBRTlCLFlBQUksQ0FBQyxLQUFLO0FBQVMsaUJBQU87QUFDMUIsWUFBSS9CLEtBQUk7QUFDUixZQUFJLEtBQUssVUFBVTtBQUFHLFVBQUFBLE1BQUssS0FBSyxRQUFRO0FBQ3hDLFlBQUksS0FBSyxXQUFXLEtBQUssS0FBSyxhQUFhO0FBQUcsVUFBQUEsTUFBSyxLQUFLLFNBQVMsS0FBSyxXQUFXLElBQUk7QUFDckYsWUFBSSxLQUFLLFVBQVU7QUFBRyxVQUFBQSxNQUFLLEtBQUssUUFBUTtBQUN4QyxZQUFJLEtBQUssU0FBUztBQUFHLFVBQUFBLE1BQUssS0FBSyxPQUFPO0FBQ3RDLFlBQUksS0FBSyxVQUFVLEtBQUssS0FBSyxZQUFZLEtBQUssS0FBSyxZQUFZLEtBQUssS0FBSyxpQkFBaUI7QUFBRyxVQUFBQSxNQUFLO0FBQ2xHLFlBQUksS0FBSyxVQUFVO0FBQUcsVUFBQUEsTUFBSyxLQUFLLFFBQVE7QUFDeEMsWUFBSSxLQUFLLFlBQVk7QUFBRyxVQUFBQSxNQUFLLEtBQUssVUFBVTtBQUM1QyxZQUFJLEtBQUssWUFBWSxLQUFLLEtBQUssaUJBQWlCO0FBRTlDLFVBQUFBLE1BQUssUUFBUSxLQUFLLFVBQVUsS0FBSyxlQUFlLEtBQU0sQ0FBQyxJQUFJO0FBQzdELFlBQUlBLE9BQU07QUFBSyxVQUFBQSxNQUFLO0FBQ3BCLGVBQU9BO01BQ1g7QUFtQkUsYUFBTyxZQUFZLFNBQVMsVUFBVSxNQUFNO0FBQzFDLFlBQUksU0FBUyxRQUFRO0FBQ25CLGlCQUFPLENBQUE7UUFDYjtBQUVJLFlBQUksQ0FBQyxLQUFLO0FBQVMsaUJBQU87QUFDMUIsWUFBSSxTQUFTLEtBQUssU0FBUTtBQUMxQixZQUFJLFNBQVMsS0FBSyxVQUFVO0FBQVUsaUJBQU87QUFDN0MsZUFBTyxTQUFTO1VBQ2Qsc0JBQXNCO1VBQ3RCLGlCQUFpQjtVQUNqQixlQUFlO1VBQ2YsUUFBUTtRQUNkLEdBQU8sSUFBSTtBQUNQLFlBQUksUUFBUSxLQUFLLFFBQVEsU0FBUyxXQUFXLFdBQVcsY0FBYztBQUN0RSxZQUFJLE1BQU0sS0FBSyxXQUFXLFVBQVUsU0FBUztBQUU3QyxZQUFJLENBQUMsS0FBSyxtQkFBbUIsTUFBTSxZQUFZLEtBQUssTUFBTSxpQkFBaUIsR0FBRztBQUM1RSxpQkFBTyxLQUFLLFdBQVcsVUFBVSxPQUFPO0FBRXhDLGNBQUksQ0FBQyxLQUFLLHdCQUF3QixNQUFNLGlCQUFpQixHQUFHO0FBQzFELG1CQUFPO1VBQ2Y7UUFDQTtBQUVJLFlBQUksTUFBTSxNQUFNLFNBQVMsR0FBRztBQUU1QixZQUFJLEtBQUssZUFBZTtBQUN0QixnQkFBTSxNQUFNO1FBQ2xCO0FBRUksZUFBTztNQUNYO0FBT0UsYUFBTyxTQUFTLFNBQVMsU0FBUztBQUNoQyxlQUFPLEtBQUssTUFBSztNQUNyQjtBQU9FLGFBQU8sV0FBVyxTQUFTLFdBQVc7QUFDcEMsZUFBTyxLQUFLLE1BQUs7TUFDckI7QUFPRSxhQUFPLFdBQVcsU0FBUyxXQUFXO0FBQ3BDLGVBQU8sS0FBSyxHQUFHLGNBQWM7TUFDakM7QUFPRSxhQUFPLFVBQVUsU0FBUyxVQUFVO0FBQ2xDLGVBQU8sS0FBSyxTQUFRO01BQ3hCO0FBUUUsYUFBTyxPQUFPLFNBQVMsS0FBSyxVQUFVO0FBQ3BDLFlBQUksQ0FBQyxLQUFLO0FBQVMsaUJBQU87QUFDMUIsWUFBSSxNQUFNMkIsVUFBUyxpQkFBaUIsUUFBUSxHQUN4QyxTQUFTLENBQUE7QUFFYixpQkFBUyxZQUFZLGdDQUFnQyxjQUFjLEdBQUcsT0FBTyxFQUFFLFFBQVEsVUFBUyxHQUFJLFFBQU87QUFDekcsY0FBSSxJQUFJLE1BQU07QUFFZCxjQUFJLGVBQWUsSUFBSSxRQUFRLENBQUMsS0FBSyxlQUFlLEtBQUssUUFBUSxDQUFDLEdBQUc7QUFDbkUsbUJBQU8sS0FBSyxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssSUFBSSxDQUFDO1VBQzNDO1FBQ0E7QUFFSSxlQUFPLFFBQVEsTUFBTTtVQUNuQixRQUFRO1FBQ2QsR0FBTyxJQUFJO01BQ1g7QUFRRSxhQUFPLFFBQVEsU0FBUyxNQUFNLFVBQVU7QUFDdEMsWUFBSSxDQUFDLEtBQUs7QUFBUyxpQkFBTztBQUMxQixZQUFJLE1BQU1BLFVBQVMsaUJBQWlCLFFBQVE7QUFDNUMsZUFBTyxLQUFLLEtBQUssSUFBSSxPQUFNLENBQUU7TUFDakM7QUFVRSxhQUFPLFdBQVcsU0FBUyxTQUFTLElBQUk7QUFDdEMsWUFBSSxDQUFDLEtBQUs7QUFBUyxpQkFBTztBQUMxQixZQUFJLFNBQVMsQ0FBQTtBQUViLGlCQUFTLEtBQUssR0FBRyxlQUFlLE9BQU8sS0FBSyxLQUFLLE1BQU0sR0FBRyxLQUFLLGFBQWEsUUFBUSxNQUFNO0FBQ3hGLGNBQUksSUFBSSxhQUFhO0FBQ3JCLGlCQUFPLEtBQUssU0FBUyxHQUFHLEtBQUssT0FBTyxJQUFJLENBQUMsQ0FBQztRQUNoRDtBQUVJLGVBQU8sUUFBUSxNQUFNO1VBQ25CLFFBQVE7UUFDZCxHQUFPLElBQUk7TUFDWDtBQVdFLGFBQU8sTUFBTSxTQUFTLElBQUksTUFBTTtBQUM5QixlQUFPLEtBQUtBLFVBQVMsY0FBYyxJQUFJO01BQzNDO0FBVUUsYUFBTyxNQUFNLFNBQVMsSUFBSSxRQUFRO0FBQ2hDLFlBQUksQ0FBQyxLQUFLO0FBQVMsaUJBQU87QUFFMUIsWUFBSSxRQUFRLFNBQVMsQ0FBQSxHQUFJLEtBQUssUUFBUSxnQkFBZ0IsUUFBUUEsVUFBUyxhQUFhLENBQUM7QUFFckYsZUFBTyxRQUFRLE1BQU07VUFDbkIsUUFBUTtRQUNkLENBQUs7TUFDTDtBQVFFLGFBQU8sY0FBYyxTQUFTLFlBQVksT0FBTztBQUMvQyxZQUFJLE9BQU8sVUFBVSxTQUFTLENBQUEsSUFBSyxPQUMvQixTQUFTLEtBQUssUUFDZCxrQkFBa0IsS0FBSyxpQkFDdkIscUJBQXFCLEtBQUs7QUFFOUIsWUFBSSxNQUFNLEtBQUssSUFBSSxNQUFNO1VBQ3ZCO1VBQ0E7UUFDTixDQUFLLEdBQ0csT0FBTztVQUNUO1FBQ047QUFFSSxZQUFJLG9CQUFvQjtBQUN0QixlQUFLLHFCQUFxQjtRQUNoQztBQUVJLGVBQU8sUUFBUSxNQUFNLElBQUk7TUFDN0I7QUFXRSxhQUFPLEtBQUssU0FBUyxHQUFHLE1BQU07QUFDNUIsZUFBTyxLQUFLLFVBQVUsS0FBSyxRQUFRLElBQUksRUFBRSxJQUFJLElBQUksSUFBSTtNQUN6RDtBQVNFLGFBQU8sWUFBWSxTQUFTLFlBQVk7QUFDdEMsWUFBSSxDQUFDLEtBQUs7QUFBUyxpQkFBTztBQUMxQixZQUFJLE9BQU8sS0FBSyxTQUFRO0FBQ3hCLHdCQUFnQixLQUFLLFFBQVEsSUFBSTtBQUNqQyxlQUFPLFFBQVEsTUFBTTtVQUNuQixRQUFRO1FBQ2QsR0FBTyxJQUFJO01BQ1g7QUFRRSxhQUFPLFVBQVUsU0FBUyxVQUFVO0FBQ2xDLGlCQUFTLE9BQU8sVUFBVSxRQUFRLFFBQVEsSUFBSSxNQUFNLElBQUksR0FBRyxPQUFPLEdBQUcsT0FBTyxNQUFNLFFBQVE7QUFDeEYsZ0JBQU0sUUFBUSxVQUFVO1FBQzlCO0FBRUksWUFBSSxDQUFDLEtBQUs7QUFBUyxpQkFBTztBQUUxQixZQUFJLE1BQU0sV0FBVyxHQUFHO0FBQ3RCLGlCQUFPO1FBQ2I7QUFFSSxnQkFBUSxNQUFNLElBQUksU0FBVSxHQUFHO0FBQzdCLGlCQUFPQSxVQUFTLGNBQWMsQ0FBQztRQUNyQyxDQUFLO0FBQ0QsWUFBSSxRQUFRLENBQUEsR0FDUixjQUFjLENBQUEsR0FDZCxPQUFPLEtBQUssU0FBUTtBQUN4QixZQUFJO0FBRUosaUJBQVMsYUFBYSxnQ0FBZ0MsY0FBYyxHQUFHLFFBQVEsRUFBRSxTQUFTLFdBQVUsR0FBSSxRQUFPO0FBQzdHLGNBQUksSUFBSSxPQUFPO0FBRWYsY0FBSSxNQUFNLFFBQVEsQ0FBQyxLQUFLLEdBQUc7QUFDekIsdUJBQVc7QUFDWCxnQkFBSSxNQUFNO0FBRVYscUJBQVMsTUFBTSxhQUFhO0FBQzFCLHFCQUFPLEtBQUssT0FBTyxJQUFJLEtBQUssWUFBWTtBQUN4QywwQkFBWSxNQUFNO1lBQzVCO0FBR1EsZ0JBQUksU0FBUyxLQUFLLEVBQUUsR0FBRztBQUNyQixxQkFBTyxLQUFLO1lBQ3RCO0FBRVEsZ0JBQUksSUFBSSxLQUFLLE1BQU0sR0FBRztBQUN0QixrQkFBTSxLQUFLO0FBQ1gsd0JBQVksTUFBTSxNQUFNLE1BQU8sSUFBSSxPQUFRO0FBRTNDLHFCQUFTLFFBQVEsTUFBTTtBQUNyQixrQkFBSSxlQUFlLFFBQVEsSUFBSSxJQUFJLGVBQWUsUUFBUSxDQUFDLEdBQUc7QUFDNUQsd0JBQVEsS0FBSyxRQUFRLE1BQU0sTUFBTSxPQUFPLENBQUM7Y0FDckQ7WUFDQTtVQUVBLFdBQWlCLFNBQVMsS0FBSyxFQUFFLEdBQUc7QUFDNUIsd0JBQVksS0FBSyxLQUFLO1VBQzlCO1FBQ0E7QUFJSSxpQkFBUyxPQUFPLGFBQWE7QUFDM0IsY0FBSSxZQUFZLFNBQVMsR0FBRztBQUMxQixrQkFBTSxhQUFhLFFBQVEsV0FBVyxZQUFZLE9BQU8sWUFBWSxPQUFPLEtBQUssT0FBTyxVQUFVO1VBQzFHO1FBQ0E7QUFFSSxlQUFPLFFBQVEsTUFBTTtVQUNuQixRQUFRO1FBQ2QsR0FBTyxJQUFJLEVBQUUsVUFBUztNQUN0QjtBQVFFLGFBQU8sU0FBUyxTQUFTLFNBQVM7QUFDaEMsWUFBSSxDQUFDLEtBQUs7QUFBUyxpQkFBTztBQUMxQixZQUFJLFVBQVUsQ0FBQTtBQUVkLGlCQUFTLE1BQU0sR0FBRyxnQkFBZ0IsT0FBTyxLQUFLLEtBQUssTUFBTSxHQUFHLE1BQU0sY0FBYyxRQUFRLE9BQU87QUFDN0YsY0FBSSxJQUFJLGNBQWM7QUFDdEIsa0JBQVEsS0FBSyxLQUFLLE9BQU8sT0FBTyxJQUFJLElBQUksQ0FBQyxLQUFLLE9BQU87UUFDM0Q7QUFFSSxlQUFPLFFBQVEsTUFBTTtVQUNuQixRQUFRO1FBQ2QsR0FBTyxJQUFJO01BQ1g7QUFhRSxhQUFPLFNBQVMsU0FBUyxPQUFPLE9BQU87QUFDckMsWUFBSSxDQUFDLEtBQUssV0FBVyxDQUFDLE1BQU0sU0FBUztBQUNuQyxpQkFBTztRQUNiO0FBRUksWUFBSSxDQUFDLEtBQUssSUFBSSxPQUFPLE1BQU0sR0FBRyxHQUFHO0FBQy9CLGlCQUFPO1FBQ2I7QUFFSSxpQkFBUyxHQUFHLElBQUksSUFBSTtBQUVsQixjQUFJLE9BQU8sVUFBYSxPQUFPO0FBQUcsbUJBQU8sT0FBTyxVQUFhLE9BQU87QUFDcEUsaUJBQU8sT0FBTztRQUNwQjtBQUVJLGlCQUFTLGFBQWEsZ0NBQWdDLGNBQWMsR0FBRyxRQUFRLEVBQUUsU0FBUyxXQUFVLEdBQUksUUFBTztBQUM3RyxjQUFJLElBQUksT0FBTztBQUVmLGNBQUksQ0FBQyxHQUFHLEtBQUssT0FBTyxJQUFJLE1BQU0sT0FBTyxFQUFFLEdBQUc7QUFDeEMsbUJBQU87VUFDZjtRQUNBO0FBRUksZUFBTztNQUNYO0FBRUUsbUJBQWFBLFdBQVUsQ0FBQztRQUN0QixLQUFLO1FBQ0wsS0FBSyxTQUFTLE1BQU07QUFDbEIsaUJBQU8sS0FBSyxVQUFVLEtBQUssSUFBSSxTQUFTO1FBQzlDO01BT0EsR0FBSztRQUNELEtBQUs7UUFDTCxLQUFLLFNBQVMsTUFBTTtBQUNsQixpQkFBTyxLQUFLLFVBQVUsS0FBSyxJQUFJLGtCQUFrQjtRQUN2RDtNQUNBLEdBQUs7UUFDRCxLQUFLO1FBQ0wsS0FBSyxTQUFTLE1BQU07QUFDbEIsaUJBQU8sS0FBSyxVQUFVLEtBQUssT0FBTyxTQUFTLElBQUk7UUFDckQ7TUFNQSxHQUFLO1FBQ0QsS0FBSztRQUNMLEtBQUssU0FBUyxNQUFNO0FBQ2xCLGlCQUFPLEtBQUssVUFBVSxLQUFLLE9BQU8sWUFBWSxJQUFJO1FBQ3hEO01BTUEsR0FBSztRQUNELEtBQUs7UUFDTCxLQUFLLFNBQVMsTUFBTTtBQUNsQixpQkFBTyxLQUFLLFVBQVUsS0FBSyxPQUFPLFVBQVUsSUFBSTtRQUN0RDtNQU1BLEdBQUs7UUFDRCxLQUFLO1FBQ0wsS0FBSyxTQUFTLE1BQU07QUFDbEIsaUJBQU8sS0FBSyxVQUFVLEtBQUssT0FBTyxTQUFTLElBQUk7UUFDckQ7TUFNQSxHQUFLO1FBQ0QsS0FBSztRQUNMLEtBQUssU0FBUyxNQUFNO0FBQ2xCLGlCQUFPLEtBQUssVUFBVSxLQUFLLE9BQU8sUUFBUSxJQUFJO1FBQ3BEO01BTUEsR0FBSztRQUNELEtBQUs7UUFDTCxLQUFLLFNBQVMsTUFBTTtBQUNsQixpQkFBTyxLQUFLLFVBQVUsS0FBSyxPQUFPLFNBQVMsSUFBSTtRQUNyRDtNQU1BLEdBQUs7UUFDRCxLQUFLO1FBQ0wsS0FBSyxTQUFTLE1BQU07QUFDbEIsaUJBQU8sS0FBSyxVQUFVLEtBQUssT0FBTyxXQUFXLElBQUk7UUFDdkQ7TUFNQSxHQUFLO1FBQ0QsS0FBSztRQUNMLEtBQUssU0FBUyxNQUFNO0FBQ2xCLGlCQUFPLEtBQUssVUFBVSxLQUFLLE9BQU8sV0FBVyxJQUFJO1FBQ3ZEO01BTUEsR0FBSztRQUNELEtBQUs7UUFDTCxLQUFLLFNBQVMsTUFBTTtBQUNsQixpQkFBTyxLQUFLLFVBQVUsS0FBSyxPQUFPLGdCQUFnQixJQUFJO1FBQzVEO01BT0EsR0FBSztRQUNELEtBQUs7UUFDTCxLQUFLLFNBQVMsTUFBTTtBQUNsQixpQkFBTyxLQUFLLFlBQVk7UUFDOUI7TUFNQSxHQUFLO1FBQ0QsS0FBSztRQUNMLEtBQUssU0FBUyxNQUFNO0FBQ2xCLGlCQUFPLEtBQUssVUFBVSxLQUFLLFFBQVEsU0FBUztRQUNsRDtNQU1BLEdBQUs7UUFDRCxLQUFLO1FBQ0wsS0FBSyxTQUFTLE1BQU07QUFDbEIsaUJBQU8sS0FBSyxVQUFVLEtBQUssUUFBUSxjQUFjO1FBQ3ZEO01BQ0EsQ0FBRyxDQUFDO0FBRUYsYUFBT0E7SUFDVCxFQUFDO0FBRUQsUUFBSSxZQUFZO0FBRWhCLGFBQVMsaUJBQWlCLE9BQU8sS0FBSztBQUNwQyxVQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sU0FBUztBQUM1QixlQUFPLFNBQVMsUUFBUSwwQkFBMEI7TUFDdEQsV0FBYSxDQUFDLE9BQU8sQ0FBQyxJQUFJLFNBQVM7QUFDL0IsZUFBTyxTQUFTLFFBQVEsd0JBQXdCO01BQ3BELFdBQWEsTUFBTSxPQUFPO0FBQ3RCLGVBQU8sU0FBUyxRQUFRLG9CQUFvQix1RUFBdUUsTUFBTSxNQUFLLElBQUssY0FBYyxJQUFJLE1BQUssQ0FBRTtNQUNoSyxPQUFTO0FBQ0wsZUFBTztNQUNYO0lBQ0E7QUFlQSxRQUFJLFdBQXdCLDJCQUFZO0FBSXRDLGVBQVNLLFVBQVMsUUFBUTtBQUl4QixhQUFLLElBQUksT0FBTztBQUtoQixhQUFLLElBQUksT0FBTztBQUtoQixhQUFLLFVBQVUsT0FBTyxXQUFXO0FBS2pDLGFBQUssa0JBQWtCO01BQzNCO0FBU0UsTUFBQUEsVUFBUyxVQUFVLFNBQVMsUUFBUSxRQUFRLGFBQWE7QUFDdkQsWUFBSSxnQkFBZ0IsUUFBUTtBQUMxQix3QkFBYztRQUNwQjtBQUVJLFlBQUksQ0FBQyxRQUFRO0FBQ1gsZ0JBQU0sSUFBSSxxQkFBcUIsa0RBQWtEO1FBQ3ZGO0FBRUksWUFBSUgsV0FBVSxrQkFBa0IsVUFBVSxTQUFTLElBQUksUUFBUSxRQUFRLFdBQVc7QUFFbEYsWUFBSSxTQUFTLGdCQUFnQjtBQUMzQixnQkFBTSxJQUFJLHFCQUFxQkEsUUFBTztRQUM1QyxPQUFXO0FBQ0wsaUJBQU8sSUFBSUcsVUFBUztZQUNsQixTQUFTSDtVQUNqQixDQUFPO1FBQ1A7TUFDQTtBQVNFLE1BQUFHLFVBQVMsZ0JBQWdCLFNBQVMsY0FBYyxPQUFPLEtBQUs7QUFDMUQsWUFBSSxhQUFhLGlCQUFpQixLQUFLLEdBQ25DLFdBQVcsaUJBQWlCLEdBQUc7QUFDbkMsWUFBSSxnQkFBZ0IsaUJBQWlCLFlBQVksUUFBUTtBQUV6RCxZQUFJLGlCQUFpQixNQUFNO0FBQ3pCLGlCQUFPLElBQUlBLFVBQVM7WUFDbEIsT0FBTztZQUNQLEtBQUs7VUFDYixDQUFPO1FBQ1AsT0FBVztBQUNMLGlCQUFPO1FBQ2I7TUFDQTtBQVNFLE1BQUFBLFVBQVMsUUFBUSxTQUFTLE1BQU0sT0FBTyxVQUFVO0FBQy9DLFlBQUksTUFBTSxTQUFTLGlCQUFpQixRQUFRLEdBQ3hDLEtBQUssaUJBQWlCLEtBQUs7QUFDL0IsZUFBT0EsVUFBUyxjQUFjLElBQUksR0FBRyxLQUFLLEdBQUcsQ0FBQztNQUNsRDtBQVNFLE1BQUFBLFVBQVMsU0FBUyxTQUFTLE9BQU8sS0FBSyxVQUFVO0FBQy9DLFlBQUksTUFBTSxTQUFTLGlCQUFpQixRQUFRLEdBQ3hDLEtBQUssaUJBQWlCLEdBQUc7QUFDN0IsZUFBT0EsVUFBUyxjQUFjLEdBQUcsTUFBTSxHQUFHLEdBQUcsRUFBRTtNQUNuRDtBQVdFLE1BQUFBLFVBQVMsVUFBVSxTQUFTLFFBQVFKLE9BQU0sTUFBTTtBQUM5QyxZQUFJLFVBQVVBLFNBQVEsSUFBSSxNQUFNLEtBQUssQ0FBQyxHQUNsQzVCLEtBQUksT0FBTyxJQUNYLElBQUksT0FBTztBQUVmLFlBQUlBLE1BQUssR0FBRztBQUNWLGNBQUksT0FBTztBQUVYLGNBQUk7QUFDRixvQkFBUSxTQUFTLFFBQVFBLElBQUcsSUFBSTtBQUNoQywyQkFBZSxNQUFNO1VBQzdCLFNBQWVpQyxJQUFQO0FBQ0EsMkJBQWU7VUFDdkI7QUFFTSxjQUFJLEtBQUs7QUFFVCxjQUFJO0FBQ0Ysa0JBQU0sU0FBUyxRQUFRLEdBQUcsSUFBSTtBQUM5Qix5QkFBYSxJQUFJO1VBQ3pCLFNBQWVBLElBQVA7QUFDQSx5QkFBYTtVQUNyQjtBQUVNLGNBQUksZ0JBQWdCLFlBQVk7QUFDOUIsbUJBQU9ELFVBQVMsY0FBYyxPQUFPLEdBQUc7VUFDaEQ7QUFFTSxjQUFJLGNBQWM7QUFDaEIsZ0JBQUksTUFBTSxTQUFTLFFBQVEsR0FBRyxJQUFJO0FBRWxDLGdCQUFJLElBQUksU0FBUztBQUNmLHFCQUFPQSxVQUFTLE1BQU0sT0FBTyxHQUFHO1lBQzFDO1VBQ0EsV0FBaUIsWUFBWTtBQUNyQixnQkFBSSxPQUFPLFNBQVMsUUFBUWhDLElBQUcsSUFBSTtBQUVuQyxnQkFBSSxLQUFLLFNBQVM7QUFDaEIscUJBQU9nQyxVQUFTLE9BQU8sS0FBSyxJQUFJO1lBQzFDO1VBQ0E7UUFDQTtBQUVJLGVBQU9BLFVBQVMsUUFBUSxjQUFjLGdCQUFpQkosUUFBTywrQkFBZ0M7TUFDbEc7QUFRRSxNQUFBSSxVQUFTLGFBQWEsU0FBUyxXQUFXLEdBQUc7QUFDM0MsZUFBTyxLQUFLLEVBQUUsbUJBQW1CO01BQ3JDO0FBT0UsVUFBSSxTQUFTQSxVQUFTO0FBT3RCLGFBQU8sU0FBUyxTQUFTLE9BQU8sTUFBTTtBQUNwQyxZQUFJLFNBQVMsUUFBUTtBQUNuQixpQkFBTztRQUNiO0FBRUksZUFBTyxLQUFLLFVBQVUsS0FBSyxXQUFXLE1BQU0sTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLElBQUksSUFBSSxJQUFJO01BQzFFO0FBVUUsYUFBTyxRQUFRLFNBQVMsTUFBTSxNQUFNO0FBQ2xDLFlBQUksU0FBUyxRQUFRO0FBQ25CLGlCQUFPO1FBQ2I7QUFFSSxZQUFJLENBQUMsS0FBSztBQUFTLGlCQUFPO0FBQzFCLFlBQUksUUFBUSxLQUFLLE1BQU0sUUFBUSxJQUFJLEdBQy9CLE1BQU0sS0FBSyxJQUFJLFFBQVEsSUFBSTtBQUMvQixlQUFPLEtBQUssTUFBTSxJQUFJLEtBQUssT0FBTyxJQUFJLEVBQUUsSUFBSSxJQUFJLENBQUMsSUFBSTtNQUN6RDtBQVFFLGFBQU8sVUFBVSxTQUFTLFFBQVEsTUFBTTtBQUN0QyxlQUFPLEtBQUssVUFBVSxLQUFLLFFBQU8sS0FBTSxLQUFLLEVBQUUsTUFBTSxDQUFDLEVBQUUsUUFBUSxLQUFLLEdBQUcsSUFBSSxJQUFJO01BQ3BGO0FBT0UsYUFBTyxVQUFVLFNBQVMsVUFBVTtBQUNsQyxlQUFPLEtBQUssRUFBRSxRQUFPLE1BQU8sS0FBSyxFQUFFLFFBQU87TUFDOUM7QUFRRSxhQUFPLFVBQVUsU0FBUyxRQUFRLFVBQVU7QUFDMUMsWUFBSSxDQUFDLEtBQUs7QUFBUyxpQkFBTztBQUMxQixlQUFPLEtBQUssSUFBSTtNQUNwQjtBQVFFLGFBQU8sV0FBVyxTQUFTLFNBQVMsVUFBVTtBQUM1QyxZQUFJLENBQUMsS0FBSztBQUFTLGlCQUFPO0FBQzFCLGVBQU8sS0FBSyxLQUFLO01BQ3JCO0FBUUUsYUFBTyxXQUFXLFNBQVMsU0FBUyxVQUFVO0FBQzVDLFlBQUksQ0FBQyxLQUFLO0FBQVMsaUJBQU87QUFDMUIsZUFBTyxLQUFLLEtBQUssWUFBWSxLQUFLLElBQUk7TUFDMUM7QUFVRSxhQUFPLE1BQU0sU0FBUyxJQUFJLE9BQU87QUFDL0IsWUFBSSxPQUFPLFVBQVUsU0FBUyxDQUFBLElBQUssT0FDL0IsUUFBUSxLQUFLLE9BQ2IsTUFBTSxLQUFLO0FBRWYsWUFBSSxDQUFDLEtBQUs7QUFBUyxpQkFBTztBQUMxQixlQUFPQSxVQUFTLGNBQWMsU0FBUyxLQUFLLEdBQUcsT0FBTyxLQUFLLENBQUM7TUFDaEU7QUFRRSxhQUFPLFVBQVUsU0FBUyxVQUFVO0FBQ2xDLFlBQUksUUFBUTtBQUVaLFlBQUksQ0FBQyxLQUFLO0FBQVMsaUJBQU8sQ0FBQTtBQUUxQixpQkFBUyxPQUFPLFVBQVUsUUFBUSxZQUFZLElBQUksTUFBTSxJQUFJLEdBQUcsT0FBTyxHQUFHLE9BQU8sTUFBTSxRQUFRO0FBQzVGLG9CQUFVLFFBQVEsVUFBVTtRQUNsQztBQUVJLFlBQUksU0FBUyxVQUFVLElBQUksZ0JBQWdCLEVBQUUsT0FBTyxTQUFVLEdBQUc7QUFDL0QsaUJBQU8sTUFBTSxTQUFTLENBQUM7UUFDN0IsQ0FBSyxFQUFFLEtBQUksR0FDSCxVQUFVLENBQUE7QUFDZCxZQUFJaEMsS0FBSSxLQUFLLEdBQ1QsSUFBSTtBQUVSLGVBQU9BLEtBQUksS0FBSyxHQUFHO0FBQ2pCLGNBQUksUUFBUSxPQUFPLE1BQU0sS0FBSyxHQUMxQixPQUFPLENBQUMsUUFBUSxDQUFDLEtBQUssSUFBSSxLQUFLLElBQUk7QUFDdkMsa0JBQVEsS0FBS2dDLFVBQVMsY0FBY2hDLElBQUcsSUFBSSxDQUFDO0FBQzVDLFVBQUFBLEtBQUk7QUFDSixlQUFLO1FBQ1g7QUFFSSxlQUFPO01BQ1g7QUFTRSxhQUFPLFVBQVUsU0FBUyxRQUFRLFVBQVU7QUFDMUMsWUFBSSxNQUFNLFNBQVMsaUJBQWlCLFFBQVE7QUFFNUMsWUFBSSxDQUFDLEtBQUssV0FBVyxDQUFDLElBQUksV0FBVyxJQUFJLEdBQUcsY0FBYyxNQUFNLEdBQUc7QUFDakUsaUJBQU8sQ0FBQTtRQUNiO0FBRUksWUFBSUEsS0FBSSxLQUFLLEdBQ1QsTUFBTSxHQUNOO0FBQ0osWUFBSSxVQUFVLENBQUE7QUFFZCxlQUFPQSxLQUFJLEtBQUssR0FBRztBQUNqQixjQUFJLFFBQVEsS0FBSyxNQUFNLEtBQUssSUFBSSxTQUFTLFNBQVUsR0FBRztBQUNwRCxtQkFBTyxJQUFJO1VBQ25CLENBQU8sQ0FBQztBQUNGLGlCQUFPLENBQUMsUUFBUSxDQUFDLEtBQUssSUFBSSxLQUFLLElBQUk7QUFDbkMsa0JBQVEsS0FBS2dDLFVBQVMsY0FBY2hDLElBQUcsSUFBSSxDQUFDO0FBQzVDLFVBQUFBLEtBQUk7QUFDSixpQkFBTztRQUNiO0FBRUksZUFBTztNQUNYO0FBUUUsYUFBTyxnQkFBZ0IsU0FBUyxjQUFjLGVBQWU7QUFDM0QsWUFBSSxDQUFDLEtBQUs7QUFBUyxpQkFBTyxDQUFBO0FBQzFCLGVBQU8sS0FBSyxRQUFRLEtBQUssT0FBTSxJQUFLLGFBQWEsRUFBRSxNQUFNLEdBQUcsYUFBYTtNQUM3RTtBQVFFLGFBQU8sV0FBVyxTQUFTLFNBQVMsT0FBTztBQUN6QyxlQUFPLEtBQUssSUFBSSxNQUFNLEtBQUssS0FBSyxJQUFJLE1BQU07TUFDOUM7QUFRRSxhQUFPLGFBQWEsU0FBUyxXQUFXLE9BQU87QUFDN0MsWUFBSSxDQUFDLEtBQUs7QUFBUyxpQkFBTztBQUMxQixlQUFPLENBQUMsS0FBSyxNQUFNLENBQUMsTUFBTTtNQUM5QjtBQVFFLGFBQU8sV0FBVyxTQUFTLFNBQVMsT0FBTztBQUN6QyxZQUFJLENBQUMsS0FBSztBQUFTLGlCQUFPO0FBQzFCLGVBQU8sQ0FBQyxNQUFNLE1BQU0sQ0FBQyxLQUFLO01BQzlCO0FBUUUsYUFBTyxVQUFVLFNBQVMsUUFBUSxPQUFPO0FBQ3ZDLFlBQUksQ0FBQyxLQUFLO0FBQVMsaUJBQU87QUFDMUIsZUFBTyxLQUFLLEtBQUssTUFBTSxLQUFLLEtBQUssS0FBSyxNQUFNO01BQ2hEO0FBUUUsYUFBTyxTQUFTLFNBQVMsT0FBTyxPQUFPO0FBQ3JDLFlBQUksQ0FBQyxLQUFLLFdBQVcsQ0FBQyxNQUFNLFNBQVM7QUFDbkMsaUJBQU87UUFDYjtBQUVJLGVBQU8sS0FBSyxFQUFFLE9BQU8sTUFBTSxDQUFDLEtBQUssS0FBSyxFQUFFLE9BQU8sTUFBTSxDQUFDO01BQzFEO0FBVUUsYUFBTyxlQUFlLFNBQVMsYUFBYSxPQUFPO0FBQ2pELFlBQUksQ0FBQyxLQUFLO0FBQVMsaUJBQU87QUFDMUIsWUFBSUEsS0FBSSxLQUFLLElBQUksTUFBTSxJQUFJLEtBQUssSUFBSSxNQUFNLEdBQ3RDLElBQUksS0FBSyxJQUFJLE1BQU0sSUFBSSxLQUFLLElBQUksTUFBTTtBQUUxQyxZQUFJQSxNQUFLLEdBQUc7QUFDVixpQkFBTztRQUNiLE9BQVc7QUFDTCxpQkFBT2dDLFVBQVMsY0FBY2hDLElBQUcsQ0FBQztRQUN4QztNQUNBO0FBU0UsYUFBTyxRQUFRLFNBQVMsTUFBTSxPQUFPO0FBQ25DLFlBQUksQ0FBQyxLQUFLO0FBQVMsaUJBQU87QUFDMUIsWUFBSUEsS0FBSSxLQUFLLElBQUksTUFBTSxJQUFJLEtBQUssSUFBSSxNQUFNLEdBQ3RDLElBQUksS0FBSyxJQUFJLE1BQU0sSUFBSSxLQUFLLElBQUksTUFBTTtBQUMxQyxlQUFPZ0MsVUFBUyxjQUFjaEMsSUFBRyxDQUFDO01BQ3RDO0FBU0UsTUFBQWdDLFVBQVMsUUFBUSxTQUFTLE1BQU0sV0FBVztBQUN6QyxZQUFJLHdCQUF3QixVQUFVLEtBQUssU0FBVSxHQUFHLEdBQUc7QUFDekQsaUJBQU8sRUFBRSxJQUFJLEVBQUU7UUFDckIsQ0FBSyxFQUFFLE9BQU8sU0FBVSxPQUFPLE1BQU07QUFDL0IsY0FBSSxRQUFRLE1BQU0sSUFDZCxVQUFVLE1BQU07QUFFcEIsY0FBSSxDQUFDLFNBQVM7QUFDWixtQkFBTyxDQUFDLE9BQU8sSUFBSTtVQUMzQixXQUFpQixRQUFRLFNBQVMsSUFBSSxLQUFLLFFBQVEsV0FBVyxJQUFJLEdBQUc7QUFDN0QsbUJBQU8sQ0FBQyxPQUFPLFFBQVEsTUFBTSxJQUFJLENBQUM7VUFDMUMsT0FBYTtBQUNMLG1CQUFPLENBQUMsTUFBTSxPQUFPLENBQUMsT0FBTyxDQUFDLEdBQUcsSUFBSTtVQUM3QztRQUNBLEdBQU8sQ0FBQyxDQUFBLEdBQUksSUFBSSxDQUFDLEdBQ1QsUUFBUSxzQkFBc0IsSUFDOUIsUUFBUSxzQkFBc0I7QUFFbEMsWUFBSSxPQUFPO0FBQ1QsZ0JBQU0sS0FBSyxLQUFLO1FBQ3RCO0FBRUksZUFBTztNQUNYO0FBUUUsTUFBQUEsVUFBUyxNQUFNLFNBQVMsSUFBSSxXQUFXO0FBQ3JDLFlBQUk7QUFFSixZQUFJLFFBQVEsTUFDUixlQUFlO0FBRW5CLFlBQUksVUFBVSxDQUFBLEdBQ1YsT0FBTyxVQUFVLElBQUksU0FBVUUsSUFBRztBQUNwQyxpQkFBTyxDQUFDO1lBQ04sTUFBTUEsR0FBRTtZQUNSLE1BQU07VUFDZCxHQUFTO1lBQ0QsTUFBTUEsR0FBRTtZQUNSLE1BQU07VUFDZCxDQUFPO1FBQ1AsQ0FBSyxHQUNHLGFBQWEsbUJBQW1CLE1BQU0sV0FBVyxPQUFPLE1BQU0sa0JBQWtCLElBQUksR0FDcEYsTUFBTSxVQUFVLEtBQUssU0FBVSxHQUFHLEdBQUc7QUFDdkMsaUJBQU8sRUFBRSxPQUFPLEVBQUU7UUFDeEIsQ0FBSztBQUVELGlCQUFTLFlBQVksZ0NBQWdDLEdBQUcsR0FBRyxPQUFPLEVBQUUsUUFBUSxVQUFTLEdBQUksUUFBTztBQUM5RixjQUFJLElBQUksTUFBTTtBQUNkLDBCQUFnQixFQUFFLFNBQVMsTUFBTSxJQUFJO0FBRXJDLGNBQUksaUJBQWlCLEdBQUc7QUFDdEIsb0JBQVEsRUFBRTtVQUNsQixPQUFhO0FBQ0wsZ0JBQUksU0FBUyxDQUFDLFVBQVUsQ0FBQyxFQUFFLE1BQU07QUFDL0Isc0JBQVEsS0FBS0YsVUFBUyxjQUFjLE9BQU8sRUFBRSxJQUFJLENBQUM7WUFDNUQ7QUFFUSxvQkFBUTtVQUNoQjtRQUNBO0FBRUksZUFBT0EsVUFBUyxNQUFNLE9BQU87TUFDakM7QUFRRSxhQUFPLGFBQWEsU0FBUyxhQUFhO0FBQ3hDLFlBQUksU0FBUztBQUViLGlCQUFTLFFBQVEsVUFBVSxRQUFRLFlBQVksSUFBSSxNQUFNLEtBQUssR0FBRyxRQUFRLEdBQUcsUUFBUSxPQUFPLFNBQVM7QUFDbEcsb0JBQVUsU0FBUyxVQUFVO1FBQ25DO0FBRUksZUFBT0EsVUFBUyxJQUFJLENBQUMsSUFBSSxFQUFFLE9BQU8sU0FBUyxDQUFDLEVBQUUsSUFBSSxTQUFVLEdBQUc7QUFDN0QsaUJBQU8sT0FBTyxhQUFhLENBQUM7UUFDbEMsQ0FBSyxFQUFFLE9BQU8sU0FBVSxHQUFHO0FBQ3JCLGlCQUFPLEtBQUssQ0FBQyxFQUFFLFFBQU87UUFDNUIsQ0FBSztNQUNMO0FBT0UsYUFBTyxXQUFXLFNBQVMsV0FBVztBQUNwQyxZQUFJLENBQUMsS0FBSztBQUFTLGlCQUFPO0FBQzFCLGVBQU8sTUFBTSxLQUFLLEVBQUUsTUFBSyxJQUFLLGFBQWEsS0FBSyxFQUFFLE1BQUssSUFBSztNQUNoRTtBQVNFLGFBQU8sUUFBUSxTQUFTLE1BQU0sTUFBTTtBQUNsQyxZQUFJLENBQUMsS0FBSztBQUFTLGlCQUFPO0FBQzFCLGVBQU8sS0FBSyxFQUFFLE1BQU0sSUFBSSxJQUFJLE1BQU0sS0FBSyxFQUFFLE1BQU0sSUFBSTtNQUN2RDtBQVNFLGFBQU8sWUFBWSxTQUFTLFlBQVk7QUFDdEMsWUFBSSxDQUFDLEtBQUs7QUFBUyxpQkFBTztBQUMxQixlQUFPLEtBQUssRUFBRSxVQUFTLElBQUssTUFBTSxLQUFLLEVBQUUsVUFBUztNQUN0RDtBQVVFLGFBQU8sWUFBWSxTQUFTLFVBQVUsTUFBTTtBQUMxQyxZQUFJLENBQUMsS0FBSztBQUFTLGlCQUFPO0FBQzFCLGVBQU8sS0FBSyxFQUFFLFVBQVUsSUFBSSxJQUFJLE1BQU0sS0FBSyxFQUFFLFVBQVUsSUFBSTtNQUMvRDtBQVVFLGFBQU8sV0FBVyxTQUFTLFNBQVMsWUFBWSxRQUFRO0FBQ3RELFlBQUksUUFBUSxXQUFXLFNBQVMsQ0FBQSxJQUFLLFFBQ2pDLGtCQUFrQixNQUFNLFdBQ3hCLFlBQVksb0JBQW9CLFNBQVMsYUFBUTtBQUVyRCxZQUFJLENBQUMsS0FBSztBQUFTLGlCQUFPO0FBQzFCLGVBQU8sS0FBSyxLQUFLLEVBQUUsU0FBUyxVQUFVLElBQUksWUFBWSxLQUFLLEVBQUUsU0FBUyxVQUFVO01BQ3BGO0FBZUUsYUFBTyxhQUFhLFNBQVMsV0FBVyxNQUFNLE1BQU07QUFDbEQsWUFBSSxDQUFDLEtBQUssU0FBUztBQUNqQixpQkFBTyxTQUFTLFFBQVEsS0FBSyxhQUFhO1FBQ2hEO0FBRUksZUFBTyxLQUFLLEVBQUUsS0FBSyxLQUFLLEdBQUcsTUFBTSxJQUFJO01BQ3pDO0FBVUUsYUFBTyxlQUFlLFNBQVMsYUFBYSxPQUFPO0FBQ2pELGVBQU9BLFVBQVMsY0FBYyxNQUFNLEtBQUssQ0FBQyxHQUFHLE1BQU0sS0FBSyxDQUFDLENBQUM7TUFDOUQ7QUFFRSxtQkFBYUEsV0FBVSxDQUFDO1FBQ3RCLEtBQUs7UUFDTCxLQUFLLFNBQVMsTUFBTTtBQUNsQixpQkFBTyxLQUFLLFVBQVUsS0FBSyxJQUFJO1FBQ3JDO01BTUEsR0FBSztRQUNELEtBQUs7UUFDTCxLQUFLLFNBQVMsTUFBTTtBQUNsQixpQkFBTyxLQUFLLFVBQVUsS0FBSyxJQUFJO1FBQ3JDO01BTUEsR0FBSztRQUNELEtBQUs7UUFDTCxLQUFLLFNBQVMsTUFBTTtBQUNsQixpQkFBTyxLQUFLLGtCQUFrQjtRQUNwQztNQU1BLEdBQUs7UUFDRCxLQUFLO1FBQ0wsS0FBSyxTQUFTLE1BQU07QUFDbEIsaUJBQU8sS0FBSyxVQUFVLEtBQUssUUFBUSxTQUFTO1FBQ2xEO01BTUEsR0FBSztRQUNELEtBQUs7UUFDTCxLQUFLLFNBQVMsTUFBTTtBQUNsQixpQkFBTyxLQUFLLFVBQVUsS0FBSyxRQUFRLGNBQWM7UUFDdkQ7TUFDQSxDQUFHLENBQUM7QUFFRixhQUFPQTtJQUNULEVBQUM7QUFNRCxRQUFJLE9BQW9CLDJCQUFZO0FBQ2xDLGVBQVNHLFFBQU87TUFBQTtBQU9oQixNQUFBQSxNQUFLLFNBQVMsU0FBUyxPQUFPLE1BQU07QUFDbEMsWUFBSSxTQUFTLFFBQVE7QUFDbkIsaUJBQU8sU0FBUztRQUN0QjtBQUVJLFlBQUksUUFBUSxTQUFTLElBQUcsRUFBRyxRQUFRLElBQUksRUFBRSxJQUFJO1VBQzNDLE9BQU87UUFDYixDQUFLO0FBQ0QsZUFBTyxDQUFDLEtBQUssZUFBZSxNQUFNLFdBQVcsTUFBTSxJQUFJO1VBQ3JELE9BQU87UUFDYixDQUFLLEVBQUU7TUFDUDtBQVFFLE1BQUFBLE1BQUssa0JBQWtCLFNBQVMsZ0JBQWdCLE1BQU07QUFDcEQsZUFBTyxTQUFTLFlBQVksSUFBSTtNQUNwQztBQWlCRSxNQUFBQSxNQUFLLGdCQUFnQixTQUFTLGdCQUFnQixPQUFPO0FBQ25ELGVBQU8sY0FBYyxPQUFPLFNBQVMsV0FBVztNQUNwRDtBQW9CRSxNQUFBQSxNQUFLLFNBQVMsU0FBU0MsUUFBTyxRQUFRLE9BQU87QUFDM0MsWUFBSSxXQUFXLFFBQVE7QUFDckIsbUJBQVM7UUFDZjtBQUVJLFlBQUksT0FBTyxVQUFVLFNBQVMsQ0FBQSxJQUFLLE9BQy9CLGNBQWMsS0FBSyxRQUNuQixTQUFTLGdCQUFnQixTQUFTLE9BQU8sYUFDekMsdUJBQXVCLEtBQUssaUJBQzVCLGtCQUFrQix5QkFBeUIsU0FBUyxPQUFPLHNCQUMzRCxjQUFjLEtBQUssUUFDbkIsU0FBUyxnQkFBZ0IsU0FBUyxPQUFPLGFBQ3pDLHNCQUFzQixLQUFLLGdCQUMzQixpQkFBaUIsd0JBQXdCLFNBQVMsWUFBWTtBQUVsRSxnQkFBUSxVQUFVLE9BQU8sT0FBTyxRQUFRLGlCQUFpQixjQUFjLEdBQUcsT0FBTyxNQUFNO01BQzNGO0FBZ0JFLE1BQUFELE1BQUssZUFBZSxTQUFTLGFBQWEsUUFBUSxRQUFRO0FBQ3hELFlBQUksV0FBVyxRQUFRO0FBQ3JCLG1CQUFTO1FBQ2Y7QUFFSSxZQUFJLFFBQVEsV0FBVyxTQUFTLENBQUEsSUFBSyxRQUNqQyxlQUFlLE1BQU0sUUFDckIsU0FBUyxpQkFBaUIsU0FBUyxPQUFPLGNBQzFDLHdCQUF3QixNQUFNLGlCQUM5QixrQkFBa0IsMEJBQTBCLFNBQVMsT0FBTyx1QkFDNUQsZUFBZSxNQUFNLFFBQ3JCLFNBQVMsaUJBQWlCLFNBQVMsT0FBTyxjQUMxQyx1QkFBdUIsTUFBTSxnQkFDN0IsaUJBQWlCLHlCQUF5QixTQUFTLFlBQVk7QUFFbkUsZ0JBQVEsVUFBVSxPQUFPLE9BQU8sUUFBUSxpQkFBaUIsY0FBYyxHQUFHLE9BQU8sUUFBUSxJQUFJO01BQ2pHO0FBaUJFLE1BQUFBLE1BQUssV0FBVyxTQUFTRSxVQUFTLFFBQVEsUUFBUTtBQUNoRCxZQUFJLFdBQVcsUUFBUTtBQUNyQixtQkFBUztRQUNmO0FBRUksWUFBSSxRQUFRLFdBQVcsU0FBUyxDQUFBLElBQUssUUFDakMsZUFBZSxNQUFNLFFBQ3JCLFNBQVMsaUJBQWlCLFNBQVMsT0FBTyxjQUMxQyx3QkFBd0IsTUFBTSxpQkFDOUIsa0JBQWtCLDBCQUEwQixTQUFTLE9BQU8sdUJBQzVELGVBQWUsTUFBTSxRQUNyQixTQUFTLGlCQUFpQixTQUFTLE9BQU87QUFFOUMsZ0JBQVEsVUFBVSxPQUFPLE9BQU8sUUFBUSxpQkFBaUIsSUFBSSxHQUFHLFNBQVMsTUFBTTtNQUNuRjtBQWVFLE1BQUFGLE1BQUssaUJBQWlCLFNBQVMsZUFBZSxRQUFRLFFBQVE7QUFDNUQsWUFBSSxXQUFXLFFBQVE7QUFDckIsbUJBQVM7UUFDZjtBQUVJLFlBQUksUUFBUSxXQUFXLFNBQVMsQ0FBQSxJQUFLLFFBQ2pDLGVBQWUsTUFBTSxRQUNyQixTQUFTLGlCQUFpQixTQUFTLE9BQU8sY0FDMUMsd0JBQXdCLE1BQU0saUJBQzlCLGtCQUFrQiwwQkFBMEIsU0FBUyxPQUFPLHVCQUM1RCxlQUFlLE1BQU0sUUFDckIsU0FBUyxpQkFBaUIsU0FBUyxPQUFPO0FBRTlDLGdCQUFRLFVBQVUsT0FBTyxPQUFPLFFBQVEsaUJBQWlCLElBQUksR0FBRyxTQUFTLFFBQVEsSUFBSTtNQUN6RjtBQVdFLE1BQUFBLE1BQUssWUFBWSxTQUFTRyxXQUFVLFFBQVE7QUFDMUMsWUFBSSxRQUFRLFdBQVcsU0FBUyxDQUFBLElBQUssUUFDakMsZUFBZSxNQUFNLFFBQ3JCLFNBQVMsaUJBQWlCLFNBQVMsT0FBTztBQUU5QyxlQUFPLE9BQU8sT0FBTyxNQUFNLEVBQUUsVUFBUztNQUMxQztBQWFFLE1BQUFILE1BQUssT0FBTyxTQUFTSSxNQUFLLFFBQVEsUUFBUTtBQUN4QyxZQUFJLFdBQVcsUUFBUTtBQUNyQixtQkFBUztRQUNmO0FBRUksWUFBSSxRQUFRLFdBQVcsU0FBUyxDQUFBLElBQUssUUFDakMsZUFBZSxNQUFNLFFBQ3JCLFNBQVMsaUJBQWlCLFNBQVMsT0FBTztBQUU5QyxlQUFPLE9BQU8sT0FBTyxRQUFRLE1BQU0sU0FBUyxFQUFFLEtBQUssTUFBTTtNQUM3RDtBQVdFLE1BQUFKLE1BQUssV0FBVyxTQUFTLFdBQVc7QUFDbEMsZUFBTztVQUNMLFVBQVUsWUFBVztRQUMzQjtNQUNBO0FBRUUsYUFBT0E7SUFDVCxFQUFDO0FBRUQsYUFBUyxRQUFRLFNBQVMsT0FBTztBQUMvQixVQUFJLGNBQWMsU0FBU0ssYUFBWSxJQUFJO0FBQ3pDLGVBQU8sR0FBRyxNQUFNLEdBQUc7VUFDakIsZUFBZTtRQUNyQixDQUFLLEVBQUUsUUFBUSxLQUFLLEVBQUUsUUFBTztNQUM3QixHQUNNLEtBQUssWUFBWSxLQUFLLElBQUksWUFBWSxPQUFPO0FBRWpELGFBQU8sS0FBSyxNQUFNLFNBQVMsV0FBVyxFQUFFLEVBQUUsR0FBRyxNQUFNLENBQUM7SUFDdEQ7QUFFQSxhQUFTLGVBQWUsUUFBUSxPQUFPLE9BQU87QUFDNUMsVUFBSSxVQUFVLENBQUMsQ0FBQyxTQUFTLFNBQVUsR0FBRyxHQUFHO0FBQ3ZDLGVBQU8sRUFBRSxPQUFPLEVBQUU7TUFDdEIsQ0FBRyxHQUFHLENBQUMsWUFBWSxTQUFVLEdBQUcsR0FBRztBQUMvQixlQUFPLEVBQUUsVUFBVSxFQUFFO01BQ3pCLENBQUcsR0FBRyxDQUFDLFVBQVUsU0FBVSxHQUFHLEdBQUc7QUFDN0IsZUFBTyxFQUFFLFFBQVEsRUFBRSxTQUFTLEVBQUUsT0FBTyxFQUFFLFFBQVE7TUFDbkQsQ0FBRyxHQUFHLENBQUMsU0FBUyxTQUFVLEdBQUcsR0FBRztBQUM1QixZQUFJLE9BQU8sUUFBUSxHQUFHLENBQUM7QUFDdkIsZ0JBQVEsT0FBTyxPQUFPLEtBQUs7TUFDL0IsQ0FBRyxHQUFHLENBQUMsUUFBUSxPQUFPLENBQUM7QUFDckIsVUFBSSxVQUFVLENBQUE7QUFDZCxVQUFJLGFBQWE7QUFFakIsZUFBUyxLQUFLLEdBQUcsV0FBVyxTQUFTLEtBQUssU0FBUyxRQUFRLE1BQU07QUFDL0QsWUFBSSxjQUFjLFNBQVMsS0FDdkIsT0FBTyxZQUFZLElBQ25CLFNBQVMsWUFBWTtBQUV6QixZQUFJLE1BQU0sUUFBUSxJQUFJLEtBQUssR0FBRztBQUM1QixjQUFJO0FBRUosd0JBQWM7QUFDZCxjQUFJLFFBQVEsT0FBTyxRQUFRLEtBQUs7QUFDaEMsc0JBQVksT0FBTyxNQUFNLGVBQWUsQ0FBQSxHQUFJLGFBQWEsUUFBUSxPQUFPLGFBQVk7QUFFcEYsY0FBSSxZQUFZLE9BQU87QUFDckIsZ0JBQUk7QUFFSixxQkFBUyxPQUFPLE1BQU0sZ0JBQWdCLENBQUEsR0FBSSxjQUFjLFFBQVEsUUFBUSxHQUFHLGNBQWE7QUFDeEYscUJBQVM7VUFDakIsT0FBYTtBQUNMLHFCQUFTO1VBQ2pCO0FBRU0sa0JBQVEsUUFBUTtRQUN0QjtNQUNBO0FBRUUsYUFBTyxDQUFDLFFBQVEsU0FBUyxXQUFXLFdBQVc7SUFDakQ7QUFFQSxhQUFTLE1BQU8sU0FBUyxPQUFPLE9BQU8sTUFBTTtBQUMzQyxVQUFJLGtCQUFrQixlQUFlLFNBQVMsT0FBTyxLQUFLLEdBQ3RELFNBQVMsZ0JBQWdCLElBQ3pCLFVBQVUsZ0JBQWdCLElBQzFCLFlBQVksZ0JBQWdCLElBQzVCLGNBQWMsZ0JBQWdCO0FBRWxDLFVBQUksa0JBQWtCLFFBQVE7QUFDOUIsVUFBSSxrQkFBa0IsTUFBTSxPQUFPLFNBQVUsR0FBRztBQUM5QyxlQUFPLENBQUMsU0FBUyxXQUFXLFdBQVcsY0FBYyxFQUFFLFFBQVEsQ0FBQyxLQUFLO01BQ3pFLENBQUc7QUFFRCxVQUFJLGdCQUFnQixXQUFXLEdBQUc7QUFDaEMsWUFBSSxZQUFZLE9BQU87QUFDckIsY0FBSTtBQUVKLHNCQUFZLE9BQU8sTUFBTSxnQkFBZ0IsQ0FBQSxHQUFJLGNBQWMsZUFBZSxHQUFHLGNBQWE7UUFDaEc7QUFFSSxZQUFJLGNBQWMsUUFBUTtBQUN4QixrQkFBUSxnQkFBZ0IsUUFBUSxnQkFBZ0IsS0FBSyxtQkFBbUIsWUFBWTtRQUMxRjtNQUNBO0FBRUUsVUFBSSxXQUFXLFNBQVMsV0FBVyxTQUFTLElBQUk7QUFFaEQsVUFBSSxnQkFBZ0IsU0FBUyxHQUFHO0FBQzlCLFlBQUk7QUFFSixnQkFBUSx1QkFBdUIsU0FBUyxXQUFXLGlCQUFpQixJQUFJLEdBQUcsUUFBUSxNQUFNLHNCQUFzQixlQUFlLEVBQUUsS0FBSyxRQUFRO01BQ2pKLE9BQVM7QUFDTCxlQUFPO01BQ1g7SUFDQTtBQUVBLFFBQUksbUJBQW1CO01BQ3JCLE1BQU07TUFDTixTQUFTO01BQ1QsTUFBTTtNQUNOLE1BQU07TUFDTixNQUFNO01BQ04sVUFBVTtNQUNWLE1BQU07TUFDTixTQUFTO01BQ1QsTUFBTTtNQUNOLE1BQU07TUFDTixNQUFNO01BQ04sTUFBTTtNQUNOLE1BQU07TUFDTixNQUFNO01BQ04sTUFBTTtNQUNOLE1BQU07TUFDTixTQUFTO01BQ1QsTUFBTTtNQUNOLE1BQU07TUFDTixNQUFNO01BQ04sTUFBTTtJQUNSO0FBQ0EsUUFBSSx3QkFBd0I7TUFDMUIsTUFBTSxDQUFDLE1BQU0sSUFBSTtNQUNqQixTQUFTLENBQUMsTUFBTSxJQUFJO01BQ3BCLE1BQU0sQ0FBQyxNQUFNLElBQUk7TUFDakIsTUFBTSxDQUFDLE1BQU0sSUFBSTtNQUNqQixNQUFNLENBQUMsTUFBTSxJQUFJO01BQ2pCLFVBQVUsQ0FBQyxPQUFPLEtBQUs7TUFDdkIsTUFBTSxDQUFDLE1BQU0sSUFBSTtNQUNqQixNQUFNLENBQUMsTUFBTSxJQUFJO01BQ2pCLE1BQU0sQ0FBQyxNQUFNLElBQUk7TUFDakIsTUFBTSxDQUFDLE1BQU0sSUFBSTtNQUNqQixNQUFNLENBQUMsTUFBTSxJQUFJO01BQ2pCLE1BQU0sQ0FBQyxNQUFNLElBQUk7TUFDakIsTUFBTSxDQUFDLE1BQU0sSUFBSTtNQUNqQixNQUFNLENBQUMsTUFBTSxJQUFJO01BQ2pCLE1BQU0sQ0FBQyxNQUFNLElBQUk7TUFDakIsU0FBUyxDQUFDLE1BQU0sSUFBSTtNQUNwQixNQUFNLENBQUMsTUFBTSxJQUFJO01BQ2pCLE1BQU0sQ0FBQyxNQUFNLElBQUk7TUFDakIsTUFBTSxDQUFDLE1BQU0sSUFBSTtJQUNuQjtBQUNBLFFBQUksZUFBZSxpQkFBaUIsUUFBUSxRQUFRLFlBQVksRUFBRSxFQUFFLE1BQU0sRUFBRTtBQUM1RSxhQUFTLFlBQVksS0FBSztBQUN4QixVQUFJLFFBQVEsU0FBUyxLQUFLLEVBQUU7QUFFNUIsVUFBSSxNQUFNLEtBQUssR0FBRztBQUNoQixnQkFBUTtBQUVSLGlCQUFTLElBQUksR0FBRyxJQUFJLElBQUksUUFBUSxLQUFLO0FBQ25DLGNBQUksT0FBTyxJQUFJLFdBQVcsQ0FBQztBQUUzQixjQUFJLElBQUksR0FBRyxPQUFPLGlCQUFpQixPQUFPLE1BQU0sSUFBSTtBQUNsRCxxQkFBUyxhQUFhLFFBQVEsSUFBSSxFQUFFO1VBQzVDLE9BQWE7QUFDTCxxQkFBUyxPQUFPLHVCQUF1QjtBQUNyQyxrQkFBSSx1QkFBdUIsc0JBQXNCLE1BQzdDLE1BQU0scUJBQXFCLElBQzNCLE1BQU0scUJBQXFCO0FBRS9CLGtCQUFJLFFBQVEsT0FBTyxRQUFRLEtBQUs7QUFDOUIseUJBQVMsT0FBTztjQUM1QjtZQUNBO1VBQ0E7UUFDQTtBQUVJLGVBQU8sU0FBUyxPQUFPLEVBQUU7TUFDN0IsT0FBUztBQUNMLGVBQU87TUFDWDtJQUNBO0FBQ0EsYUFBUyxXQUFXLE1BQU1DLFNBQVE7QUFDaEMsVUFBSSxrQkFBa0IsS0FBSztBQUUzQixVQUFJQSxZQUFXLFFBQVE7QUFDckIsUUFBQUEsVUFBUztNQUNiO0FBRUUsYUFBTyxJQUFJLE9BQU8sS0FBSyxpQkFBaUIsbUJBQW1CLFVBQVVBLE9BQU07SUFDN0U7QUFFQSxRQUFJLGNBQWM7QUFFbEIsYUFBUyxRQUFRLE9BQU8sTUFBTTtBQUM1QixVQUFJLFNBQVMsUUFBUTtBQUNuQixlQUFPLFNBQVNDLE1BQUssR0FBRztBQUN0QixpQkFBTztRQUNiO01BQ0E7QUFFRSxhQUFPO1FBQ0w7UUFDQSxPQUFPLFNBQVMsTUFBTSxNQUFNO0FBQzFCLGNBQUkxQyxLQUFJLEtBQUs7QUFDYixpQkFBTyxLQUFLLFlBQVlBLEVBQUMsQ0FBQztRQUNoQztNQUNBO0lBQ0E7QUFFQSxRQUFJLE9BQU8sT0FBTyxhQUFhLEdBQUc7QUFDbEMsUUFBSSxjQUFjLE9BQU8sT0FBTztBQUNoQyxRQUFJLG9CQUFvQixJQUFJLE9BQU8sYUFBYSxHQUFHO0FBRW5ELGFBQVMsYUFBYUEsSUFBRztBQUd2QixhQUFPQSxHQUFFLFFBQVEsT0FBTyxNQUFNLEVBQUUsUUFBUSxtQkFBbUIsV0FBVztJQUN4RTtBQUVBLGFBQVMscUJBQXFCQSxJQUFHO0FBQy9CLGFBQU9BLEdBQUUsUUFBUSxPQUFPLEVBQUUsRUFDekIsUUFBUSxtQkFBbUIsR0FBRyxFQUM5QixZQUFXO0lBQ2Q7QUFFQSxhQUFTLE1BQU0sU0FBUyxZQUFZO0FBQ2xDLFVBQUksWUFBWSxNQUFNO0FBQ3BCLGVBQU87TUFDWCxPQUFTO0FBQ0wsZUFBTztVQUNMLE9BQU8sT0FBTyxRQUFRLElBQUksWUFBWSxFQUFFLEtBQUssR0FBRyxDQUFDO1VBQ2pELE9BQU8sU0FBUyxNQUFNLE9BQU87QUFDM0IsZ0JBQUlBLEtBQUksTUFBTTtBQUNkLG1CQUFPLFFBQVEsVUFBVSxTQUFVLEdBQUc7QUFDcEMscUJBQU8scUJBQXFCQSxFQUFDLE1BQU0scUJBQXFCLENBQUM7WUFDbkUsQ0FBUyxJQUFJO1VBQ2I7UUFDQTtNQUNBO0lBQ0E7QUFFQSxhQUFTLE9BQU8sT0FBTyxRQUFRO0FBQzdCLGFBQU87UUFDTDtRQUNBLE9BQU8sU0FBUyxNQUFNLE9BQU87QUFDM0IsY0FBSSxJQUFJLE1BQU0sSUFDVixJQUFJLE1BQU07QUFDZCxpQkFBTyxhQUFhLEdBQUcsQ0FBQztRQUM5QjtRQUNJO01BQ0o7SUFDQTtBQUVBLGFBQVMsT0FBTyxPQUFPO0FBQ3JCLGFBQU87UUFDTDtRQUNBLE9BQU8sU0FBUyxNQUFNLE9BQU87QUFDM0IsY0FBSUEsS0FBSSxNQUFNO0FBQ2QsaUJBQU9BO1FBQ2I7TUFDQTtJQUNBO0FBRUEsYUFBUyxZQUFZLE9BQU87QUFDMUIsYUFBTyxNQUFNLFFBQVEsK0JBQStCLE1BQU07SUFDNUQ7QUFFQSxhQUFTLGFBQWEsT0FBTyxLQUFLO0FBQ2hDLFVBQUksTUFBTSxXQUFXLEdBQUcsR0FDcEIsTUFBTSxXQUFXLEtBQUssS0FBSyxHQUMzQixRQUFRLFdBQVcsS0FBSyxLQUFLLEdBQzdCLE9BQU8sV0FBVyxLQUFLLEtBQUssR0FDNUIsTUFBTSxXQUFXLEtBQUssS0FBSyxHQUMzQixXQUFXLFdBQVcsS0FBSyxPQUFPLEdBQ2xDLGFBQWEsV0FBVyxLQUFLLE9BQU8sR0FDcEMsV0FBVyxXQUFXLEtBQUssT0FBTyxHQUNsQyxZQUFZLFdBQVcsS0FBSyxPQUFPLEdBQ25DLFlBQVksV0FBVyxLQUFLLE9BQU8sR0FDbkMsWUFBWSxXQUFXLEtBQUssT0FBTyxHQUNuQyxVQUFVLFNBQVMyQyxTQUFRLEdBQUc7QUFDaEMsZUFBTztVQUNMLE9BQU8sT0FBTyxZQUFZLEVBQUUsR0FBRyxDQUFDO1VBQ2hDLE9BQU8sU0FBUyxNQUFNLE9BQU87QUFDM0IsZ0JBQUkzQyxLQUFJLE1BQU07QUFDZCxtQkFBT0E7VUFDZjtVQUNNLFNBQVM7UUFDZjtNQUNBLEdBQ00sVUFBVSxTQUFTNEMsU0FBUSxHQUFHO0FBQ2hDLFlBQUksTUFBTSxTQUFTO0FBQ2pCLGlCQUFPLFFBQVEsQ0FBQztRQUN0QjtBQUVJLGdCQUFRLEVBQUU7ZUFFSDtBQUNILG1CQUFPLE1BQU0sSUFBSSxLQUFLLFNBQVMsS0FBSyxHQUFHLENBQUM7ZUFFckM7QUFDSCxtQkFBTyxNQUFNLElBQUksS0FBSyxRQUFRLEtBQUssR0FBRyxDQUFDO2VBR3BDO0FBQ0gsbUJBQU8sUUFBUSxRQUFRO2VBRXBCO0FBQ0gsbUJBQU8sUUFBUSxXQUFXLGNBQWM7ZUFFckM7QUFDSCxtQkFBTyxRQUFRLElBQUk7ZUFFaEI7QUFDSCxtQkFBTyxRQUFRLFNBQVM7ZUFFckI7QUFDSCxtQkFBTyxRQUFRLEdBQUc7ZUFHZjtBQUNILG1CQUFPLFFBQVEsUUFBUTtlQUVwQjtBQUNILG1CQUFPLFFBQVEsR0FBRztlQUVmO0FBQ0gsbUJBQU8sTUFBTSxJQUFJLE9BQU8sU0FBUyxNQUFNLEtBQUssR0FBRyxDQUFDO2VBRTdDO0FBQ0gsbUJBQU8sTUFBTSxJQUFJLE9BQU8sUUFBUSxNQUFNLEtBQUssR0FBRyxDQUFDO2VBRTVDO0FBQ0gsbUJBQU8sUUFBUSxRQUFRO2VBRXBCO0FBQ0gsbUJBQU8sUUFBUSxHQUFHO2VBRWY7QUFDSCxtQkFBTyxNQUFNLElBQUksT0FBTyxTQUFTLE9BQU8sS0FBSyxHQUFHLENBQUM7ZUFFOUM7QUFDSCxtQkFBTyxNQUFNLElBQUksT0FBTyxRQUFRLE9BQU8sS0FBSyxHQUFHLENBQUM7ZUFHN0M7QUFDSCxtQkFBTyxRQUFRLFFBQVE7ZUFFcEI7QUFDSCxtQkFBTyxRQUFRLEdBQUc7ZUFHZjtBQUNILG1CQUFPLFFBQVEsVUFBVTtlQUV0QjtBQUNILG1CQUFPLFFBQVEsS0FBSztlQUdqQjtBQUNILG1CQUFPLFFBQVEsR0FBRztlQUVmO0FBQ0gsbUJBQU8sUUFBUSxRQUFRO2VBRXBCO0FBQ0gsbUJBQU8sUUFBUSxHQUFHO2VBRWY7QUFDSCxtQkFBTyxRQUFRLFFBQVE7ZUFFcEI7QUFDSCxtQkFBTyxRQUFRLEdBQUc7ZUFFZjtBQUNILG1CQUFPLFFBQVEsUUFBUTtlQUVwQjtBQUNILG1CQUFPLFFBQVEsUUFBUTtlQUVwQjtBQUNILG1CQUFPLFFBQVEsR0FBRztlQUVmO0FBQ0gsbUJBQU8sUUFBUSxRQUFRO2VBRXBCO0FBQ0gsbUJBQU8sUUFBUSxHQUFHO2VBRWY7QUFDSCxtQkFBTyxRQUFRLFVBQVU7ZUFFdEI7QUFDSCxtQkFBTyxRQUFRLEtBQUs7ZUFFakI7QUFDSCxtQkFBTyxPQUFPLFNBQVM7ZUFFcEI7QUFDSCxtQkFBTyxPQUFPLFFBQVE7ZUFFbkI7QUFDSCxtQkFBTyxRQUFRLEdBQUc7ZUFHZjtBQUNILG1CQUFPLE1BQU0sSUFBSSxVQUFTLEdBQUksQ0FBQztlQUc1QjtBQUNILG1CQUFPLFFBQVEsSUFBSTtlQUVoQjtBQUNILG1CQUFPLFFBQVEsV0FBVyxjQUFjO2VBR3JDO0FBQ0gsbUJBQU8sUUFBUSxRQUFRO2VBRXBCO0FBQ0gsbUJBQU8sUUFBUSxHQUFHO2VBR2Y7ZUFDQTtBQUNILG1CQUFPLFFBQVEsR0FBRztlQUVmO0FBQ0gsbUJBQU8sTUFBTSxJQUFJLFNBQVMsU0FBUyxPQUFPLEtBQUssR0FBRyxDQUFDO2VBRWhEO0FBQ0gsbUJBQU8sTUFBTSxJQUFJLFNBQVMsUUFBUSxPQUFPLEtBQUssR0FBRyxDQUFDO2VBRS9DO0FBQ0gsbUJBQU8sTUFBTSxJQUFJLFNBQVMsU0FBUyxNQUFNLEtBQUssR0FBRyxDQUFDO2VBRS9DO0FBQ0gsbUJBQU8sTUFBTSxJQUFJLFNBQVMsUUFBUSxNQUFNLEtBQUssR0FBRyxDQUFDO2VBRzlDO2VBQ0E7QUFDSCxtQkFBTyxPQUFPLElBQUksT0FBTyxVQUFVLFNBQVMsU0FBUyxXQUFXLElBQUksU0FBUyxLQUFLLEdBQUcsQ0FBQztlQUVuRjtBQUNILG1CQUFPLE9BQU8sSUFBSSxPQUFPLFVBQVUsU0FBUyxTQUFTLE9BQU8sSUFBSSxTQUFTLElBQUksR0FBRyxDQUFDO2VBSTlFO0FBQ0gsbUJBQU8sT0FBTyxvQkFBb0I7O0FBR2xDLG1CQUFPLFFBQVEsQ0FBQzs7TUFFeEI7QUFFRSxVQUFJLE9BQU8sUUFBUSxLQUFLLEtBQUs7UUFDM0IsZUFBZTtNQUNuQjtBQUNFLFdBQUssUUFBUTtBQUNiLGFBQU87SUFDVDtBQUVBLFFBQUksMEJBQTBCO01BQzVCLE1BQU07UUFDSixXQUFXO1FBQ1gsU0FBUztNQUNiO01BQ0UsT0FBTztRQUNMLFNBQVM7UUFDVCxXQUFXO1FBQ1gsT0FBTztRQUNQLE1BQU07TUFDVjtNQUNFLEtBQUs7UUFDSCxTQUFTO1FBQ1QsV0FBVztNQUNmO01BQ0UsU0FBUztRQUNQLE9BQU87UUFDUCxNQUFNO01BQ1Y7TUFDRSxXQUFXO01BQ1gsV0FBVztNQUNYLE1BQU07UUFDSixTQUFTO1FBQ1QsV0FBVztNQUNmO01BQ0UsUUFBUTtRQUNOLFNBQVM7UUFDVCxXQUFXO01BQ2Y7TUFDRSxRQUFRO1FBQ04sU0FBUztRQUNULFdBQVc7TUFDZjtJQUNBO0FBRUEsYUFBUyxhQUFhLE1BQU0sUUFBUSxZQUFZO0FBQzlDLFVBQUksT0FBTyxLQUFLLE1BQ1osUUFBUSxLQUFLO0FBRWpCLFVBQUksU0FBUyxXQUFXO0FBQ3RCLGVBQU87VUFDTCxTQUFTO1VBQ1QsS0FBSztRQUNYO01BQ0E7QUFFRSxVQUFJLFFBQVEsV0FBVztBQUN2QixVQUFJLE1BQU0sd0JBQXdCO0FBRWxDLFVBQUksT0FBTyxRQUFRLFVBQVU7QUFDM0IsY0FBTSxJQUFJO01BQ2Q7QUFFRSxVQUFJLEtBQUs7QUFDUCxlQUFPO1VBQ0wsU0FBUztVQUNUO1FBQ047TUFDQTtBQUVFLGFBQU87SUFDVDtBQUVBLGFBQVMsV0FBVyxPQUFPO0FBQ3pCLFVBQUksS0FBSyxNQUFNLElBQUksU0FBVSxHQUFHO0FBQzlCLGVBQU8sRUFBRTtNQUNiLENBQUcsRUFBRSxPQUFPLFNBQVUsR0FBRyxHQUFHO0FBQ3hCLGVBQU8sSUFBSSxNQUFNLEVBQUUsU0FBUztNQUNoQyxHQUFLLEVBQUU7QUFDTCxhQUFPLENBQUMsTUFBTSxLQUFLLEtBQUssS0FBSztJQUMvQjtBQUVBLGFBQVMsTUFBTSxPQUFPLE9BQU8sVUFBVTtBQUNyQyxVQUFJLFVBQVUsTUFBTSxNQUFNLEtBQUs7QUFFL0IsVUFBSSxTQUFTO0FBQ1gsWUFBSSxNQUFNLENBQUE7QUFDVixZQUFJLGFBQWE7QUFFakIsaUJBQVMsS0FBSyxVQUFVO0FBQ3RCLGNBQUksZUFBZSxVQUFVLENBQUMsR0FBRztBQUMvQixnQkFBSSxJQUFJLFNBQVMsSUFDYixTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsSUFBSTtBQUV2QyxnQkFBSSxDQUFDLEVBQUUsV0FBVyxFQUFFLE9BQU87QUFDekIsa0JBQUksRUFBRSxNQUFNLElBQUksTUFBTSxFQUFFLE1BQU0sUUFBUSxNQUFNLFlBQVksYUFBYSxNQUFNLENBQUM7WUFDdEY7QUFFUSwwQkFBYztVQUN0QjtRQUNBO0FBRUksZUFBTyxDQUFDLFNBQVMsR0FBRztNQUN4QixPQUFTO0FBQ0wsZUFBTyxDQUFDLFNBQVMsQ0FBQSxDQUFFO01BQ3ZCO0lBQ0E7QUFFQSxhQUFTLG9CQUFvQixTQUFTO0FBQ3BDLFVBQUksVUFBVSxTQUFTQyxTQUFRLE9BQU87QUFDcEMsZ0JBQVE7ZUFDRDtBQUNILG1CQUFPO2VBRUo7QUFDSCxtQkFBTztlQUVKO0FBQ0gsbUJBQU87ZUFFSjtlQUNBO0FBQ0gsbUJBQU87ZUFFSjtBQUNILG1CQUFPO2VBRUo7QUFDSCxtQkFBTztlQUVKO2VBQ0E7QUFDSCxtQkFBTztlQUVKO0FBQ0gsbUJBQU87ZUFFSjtlQUNBO0FBQ0gsbUJBQU87ZUFFSjtBQUNILG1CQUFPO2VBRUo7QUFDSCxtQkFBTztlQUVKO0FBQ0gsbUJBQU87O0FBR1AsbUJBQU87O01BRWY7QUFFRSxVQUFJLE9BQU87QUFDWCxVQUFJO0FBRUosVUFBSSxDQUFDLFlBQVksUUFBUSxDQUFDLEdBQUc7QUFDM0IsZUFBTyxTQUFTLE9BQU8sUUFBUSxDQUFDO01BQ3BDO0FBRUUsVUFBSSxDQUFDLFlBQVksUUFBUSxDQUFDLEdBQUc7QUFDM0IsWUFBSSxDQUFDLE1BQU07QUFDVCxpQkFBTyxJQUFJLGdCQUFnQixRQUFRLENBQUM7UUFDMUM7QUFFSSx5QkFBaUIsUUFBUTtNQUM3QjtBQUVFLFVBQUksQ0FBQyxZQUFZLFFBQVEsQ0FBQyxHQUFHO0FBQzNCLGdCQUFRLEtBQUssUUFBUSxJQUFJLEtBQUssSUFBSTtNQUN0QztBQUVFLFVBQUksQ0FBQyxZQUFZLFFBQVEsQ0FBQyxHQUFHO0FBQzNCLFlBQUksUUFBUSxJQUFJLE1BQU0sUUFBUSxNQUFNLEdBQUc7QUFDckMsa0JBQVEsS0FBSztRQUNuQixXQUFlLFFBQVEsTUFBTSxNQUFNLFFBQVEsTUFBTSxHQUFHO0FBQzlDLGtCQUFRLElBQUk7UUFDbEI7TUFDQTtBQUVFLFVBQUksUUFBUSxNQUFNLEtBQUssUUFBUSxHQUFHO0FBQ2hDLGdCQUFRLElBQUksQ0FBQyxRQUFRO01BQ3pCO0FBRUUsVUFBSSxDQUFDLFlBQVksUUFBUSxDQUFDLEdBQUc7QUFDM0IsZ0JBQVEsSUFBSSxZQUFZLFFBQVEsQ0FBQztNQUNyQztBQUVFLFVBQUksT0FBTyxPQUFPLEtBQUssT0FBTyxFQUFFLE9BQU8sU0FBVSxHQUFHLEdBQUc7QUFDckQsWUFBSSxJQUFJLFFBQVEsQ0FBQztBQUVqQixZQUFJLEdBQUc7QUFDTCxZQUFFLEtBQUssUUFBUTtRQUNyQjtBQUVJLGVBQU87TUFDWCxHQUFLLENBQUEsQ0FBRTtBQUNMLGFBQU8sQ0FBQyxNQUFNLE1BQU0sY0FBYztJQUNwQztBQUVBLFFBQUkscUJBQXFCO0FBRXpCLGFBQVMsbUJBQW1CO0FBQzFCLFVBQUksQ0FBQyxvQkFBb0I7QUFDdkIsNkJBQXFCLFNBQVMsV0FBVyxhQUFhO01BQzFEO0FBRUUsYUFBTztJQUNUO0FBRUEsYUFBUyxzQkFBc0IsT0FBTyxRQUFRO0FBQzVDLFVBQUksTUFBTSxTQUFTO0FBQ2pCLGVBQU87TUFDWDtBQUVFLFVBQUksYUFBYSxVQUFVLHVCQUF1QixNQUFNLEdBQUc7QUFFM0QsVUFBSSxDQUFDLFlBQVk7QUFDZixlQUFPO01BQ1g7QUFFRSxVQUFJLFlBQVksVUFBVSxPQUFPLFFBQVEsVUFBVTtBQUNuRCxVQUFJLFFBQVEsVUFBVSxvQkFBb0IsaUJBQWdCLENBQUU7QUFDNUQsVUFBSSxTQUFTLE1BQU0sSUFBSSxTQUFVLEdBQUc7QUFDbEMsZUFBTyxhQUFhLEdBQUcsUUFBUSxVQUFVO01BQzdDLENBQUc7QUFFRCxVQUFJLE9BQU8sU0FBUyxNQUFTLEdBQUc7QUFDOUIsZUFBTztNQUNYO0FBRUUsYUFBTztJQUNUO0FBRUEsYUFBUyxrQkFBa0IsUUFBUSxRQUFRO0FBQ3pDLFVBQUk7QUFFSixjQUFRLG1CQUFtQixNQUFNLFdBQVcsT0FBTyxNQUFNLGtCQUFrQixPQUFPLElBQUksU0FBVSxHQUFHO0FBQ2pHLGVBQU8sc0JBQXNCLEdBQUcsTUFBTTtNQUMxQyxDQUFHLENBQUM7SUFDSjtBQU1BLGFBQVMsa0JBQWtCLFFBQVEsT0FBTyxRQUFRO0FBQ2hELFVBQUksU0FBUyxrQkFBa0IsVUFBVSxZQUFZLE1BQU0sR0FBRyxNQUFNLEdBQ2hFLFFBQVEsT0FBTyxJQUFJLFNBQVUsR0FBRztBQUNsQyxlQUFPLGFBQWEsR0FBRyxNQUFNO01BQ2pDLENBQUcsR0FDRyxvQkFBb0IsTUFBTSxLQUFLLFNBQVUsR0FBRztBQUM5QyxlQUFPLEVBQUU7TUFDYixDQUFHO0FBRUQsVUFBSSxtQkFBbUI7QUFDckIsZUFBTztVQUNMO1VBQ0E7VUFDQSxlQUFlLGtCQUFrQjtRQUN2QztNQUNBLE9BQVM7QUFDTCxZQUFJLGNBQWMsV0FBVyxLQUFLLEdBQzlCLGNBQWMsWUFBWSxJQUMxQixXQUFXLFlBQVksSUFDdkIsUUFBUSxPQUFPLGFBQWEsR0FBRyxHQUMvQixTQUFTLE1BQU0sT0FBTyxPQUFPLFFBQVEsR0FDckMsYUFBYSxPQUFPLElBQ3BCLFVBQVUsT0FBTyxJQUNqQixRQUFRLFVBQVUsb0JBQW9CLE9BQU8sSUFBSSxDQUFDLE1BQU0sTUFBTSxNQUFTLEdBQ3ZFLFNBQVMsTUFBTSxJQUNmLE9BQU8sTUFBTSxJQUNiLGlCQUFpQixNQUFNO0FBRTNCLFlBQUksZUFBZSxTQUFTLEdBQUcsS0FBSyxlQUFlLFNBQVMsR0FBRyxHQUFHO0FBQ2hFLGdCQUFNLElBQUksOEJBQThCLHVEQUF1RDtRQUNyRztBQUVJLGVBQU87VUFDTDtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1FBQ047TUFDQTtJQUNBO0FBQ0EsYUFBUyxnQkFBZ0IsUUFBUSxPQUFPLFFBQVE7QUFDOUMsVUFBSSxxQkFBcUIsa0JBQWtCLFFBQVEsT0FBTyxNQUFNLEdBQzVELFNBQVMsbUJBQW1CLFFBQzVCLE9BQU8sbUJBQW1CLE1BQzFCLGlCQUFpQixtQkFBbUIsZ0JBQ3BDLGdCQUFnQixtQkFBbUI7QUFFdkMsYUFBTyxDQUFDLFFBQVEsTUFBTSxnQkFBZ0IsYUFBYTtJQUNyRDtBQUVBLFFBQUksZ0JBQWdCLENBQUMsR0FBRyxJQUFJLElBQUksSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEdBQUc7QUFBMUUsUUFDSSxhQUFhLENBQUMsR0FBRyxJQUFJLElBQUksSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEdBQUc7QUFFdkUsYUFBUyxlQUFlLE1BQU0sT0FBTztBQUNuQyxhQUFPLElBQUksUUFBUSxxQkFBcUIsbUJBQW1CLFFBQVEsZUFBZSxPQUFPLFFBQVEsWUFBWSxPQUFPLG9CQUFvQjtJQUMxSTtBQUVBLGFBQVMsVUFBVSxNQUFNLE9BQU8sS0FBSztBQUNuQyxVQUFJLElBQUksSUFBSSxLQUFLLEtBQUssSUFBSSxNQUFNLFFBQVEsR0FBRyxHQUFHLENBQUM7QUFFL0MsVUFBSSxPQUFPLE9BQU8sUUFBUSxHQUFHO0FBQzNCLFVBQUUsZUFBZSxFQUFFLGVBQWMsSUFBSyxJQUFJO01BQzlDO0FBRUUsVUFBSSxLQUFLLEVBQUUsVUFBUztBQUNwQixhQUFPLE9BQU8sSUFBSSxJQUFJO0lBQ3hCO0FBRUEsYUFBUyxlQUFlLE1BQU0sT0FBTyxLQUFLO0FBQ3hDLGFBQU8sT0FBTyxXQUFXLElBQUksSUFBSSxhQUFhLGVBQWUsUUFBUTtJQUN2RTtBQUVBLGFBQVMsaUJBQWlCLE1BQU0sU0FBUztBQUN2QyxVQUFJLFFBQVEsV0FBVyxJQUFJLElBQUksYUFBYSxlQUN4QyxTQUFTLE1BQU0sVUFBVSxTQUFVLEdBQUc7QUFDeEMsZUFBTyxJQUFJO01BQ2YsQ0FBRyxHQUNHLE1BQU0sVUFBVSxNQUFNO0FBQzFCLGFBQU87UUFDTCxPQUFPLFNBQVM7UUFDaEI7TUFDSjtJQUNBO0FBTUEsYUFBUyxnQkFBZ0IsU0FBUztBQUNoQyxVQUFJLE9BQU8sUUFBUSxNQUNmLFFBQVEsUUFBUSxPQUNoQixNQUFNLFFBQVEsS0FDZCxVQUFVLGVBQWUsTUFBTSxPQUFPLEdBQUcsR0FDekMsVUFBVSxVQUFVLE1BQU0sT0FBTyxHQUFHO0FBQ3hDLFVBQUksYUFBYSxLQUFLLE9BQU8sVUFBVSxVQUFVLE1BQU0sQ0FBQyxHQUNwRDtBQUVKLFVBQUksYUFBYSxHQUFHO0FBQ2xCLG1CQUFXLE9BQU87QUFDbEIscUJBQWEsZ0JBQWdCLFFBQVE7TUFDekMsV0FBYSxhQUFhLGdCQUFnQixJQUFJLEdBQUc7QUFDN0MsbUJBQVcsT0FBTztBQUNsQixxQkFBYTtNQUNqQixPQUFTO0FBQ0wsbUJBQVc7TUFDZjtBQUVFLGFBQU8sU0FBUztRQUNkO1FBQ0E7UUFDQTtNQUNKLEdBQUssV0FBVyxPQUFPLENBQUM7SUFDeEI7QUFDQSxhQUFTLGdCQUFnQixVQUFVO0FBQ2pDLFVBQUksV0FBVyxTQUFTLFVBQ3BCLGFBQWEsU0FBUyxZQUN0QixVQUFVLFNBQVMsU0FDbkIsZ0JBQWdCLFVBQVUsVUFBVSxHQUFHLENBQUMsR0FDeEMsYUFBYSxXQUFXLFFBQVE7QUFDcEMsVUFBSSxVQUFVLGFBQWEsSUFBSSxVQUFVLGdCQUFnQixHQUNyRDtBQUVKLFVBQUksVUFBVSxHQUFHO0FBQ2YsZUFBTyxXQUFXO0FBQ2xCLG1CQUFXLFdBQVcsSUFBSTtNQUM5QixXQUFhLFVBQVUsWUFBWTtBQUMvQixlQUFPLFdBQVc7QUFDbEIsbUJBQVcsV0FBVyxRQUFRO01BQ2xDLE9BQVM7QUFDTCxlQUFPO01BQ1g7QUFFRSxVQUFJLG9CQUFvQixpQkFBaUIsTUFBTSxPQUFPLEdBQ2xELFFBQVEsa0JBQWtCLE9BQzFCLE1BQU0sa0JBQWtCO0FBRTVCLGFBQU8sU0FBUztRQUNkO1FBQ0E7UUFDQTtNQUNKLEdBQUssV0FBVyxRQUFRLENBQUM7SUFDekI7QUFDQSxhQUFTLG1CQUFtQixVQUFVO0FBQ3BDLFVBQUksT0FBTyxTQUFTLE1BQ2hCLFFBQVEsU0FBUyxPQUNqQixNQUFNLFNBQVM7QUFDbkIsVUFBSSxVQUFVLGVBQWUsTUFBTSxPQUFPLEdBQUc7QUFDN0MsYUFBTyxTQUFTO1FBQ2Q7UUFDQTtNQUNKLEdBQUssV0FBVyxRQUFRLENBQUM7SUFDekI7QUFDQSxhQUFTLG1CQUFtQixhQUFhO0FBQ3ZDLFVBQUksT0FBTyxZQUFZLE1BQ25CLFVBQVUsWUFBWTtBQUUxQixVQUFJLHFCQUFxQixpQkFBaUIsTUFBTSxPQUFPLEdBQ25ELFFBQVEsbUJBQW1CLE9BQzNCLE1BQU0sbUJBQW1CO0FBRTdCLGFBQU8sU0FBUztRQUNkO1FBQ0E7UUFDQTtNQUNKLEdBQUssV0FBVyxXQUFXLENBQUM7SUFDNUI7QUFDQSxhQUFTLG1CQUFtQixLQUFLO0FBQy9CLFVBQUksWUFBWSxVQUFVLElBQUksUUFBUSxHQUNsQyxZQUFZLGVBQWUsSUFBSSxZQUFZLEdBQUcsZ0JBQWdCLElBQUksUUFBUSxDQUFDLEdBQzNFLGVBQWUsZUFBZSxJQUFJLFNBQVMsR0FBRyxDQUFDO0FBRW5ELFVBQUksQ0FBQyxXQUFXO0FBQ2QsZUFBTyxlQUFlLFlBQVksSUFBSSxRQUFRO01BQ2xELFdBQWEsQ0FBQyxXQUFXO0FBQ3JCLGVBQU8sZUFBZSxRQUFRLElBQUksSUFBSTtNQUMxQyxXQUFhLENBQUMsY0FBYztBQUN4QixlQUFPLGVBQWUsV0FBVyxJQUFJLE9BQU87TUFDaEQ7QUFBUyxlQUFPO0lBQ2hCO0FBQ0EsYUFBUyxzQkFBc0IsS0FBSztBQUNsQyxVQUFJLFlBQVksVUFBVSxJQUFJLElBQUksR0FDOUIsZUFBZSxlQUFlLElBQUksU0FBUyxHQUFHLFdBQVcsSUFBSSxJQUFJLENBQUM7QUFFdEUsVUFBSSxDQUFDLFdBQVc7QUFDZCxlQUFPLGVBQWUsUUFBUSxJQUFJLElBQUk7TUFDMUMsV0FBYSxDQUFDLGNBQWM7QUFDeEIsZUFBTyxlQUFlLFdBQVcsSUFBSSxPQUFPO01BQ2hEO0FBQVMsZUFBTztJQUNoQjtBQUNBLGFBQVMsd0JBQXdCLEtBQUs7QUFDcEMsVUFBSSxZQUFZLFVBQVUsSUFBSSxJQUFJLEdBQzlCLGFBQWEsZUFBZSxJQUFJLE9BQU8sR0FBRyxFQUFFLEdBQzVDLFdBQVcsZUFBZSxJQUFJLEtBQUssR0FBRyxZQUFZLElBQUksTUFBTSxJQUFJLEtBQUssQ0FBQztBQUUxRSxVQUFJLENBQUMsV0FBVztBQUNkLGVBQU8sZUFBZSxRQUFRLElBQUksSUFBSTtNQUMxQyxXQUFhLENBQUMsWUFBWTtBQUN0QixlQUFPLGVBQWUsU0FBUyxJQUFJLEtBQUs7TUFDNUMsV0FBYSxDQUFDLFVBQVU7QUFDcEIsZUFBTyxlQUFlLE9BQU8sSUFBSSxHQUFHO01BQ3hDO0FBQVMsZUFBTztJQUNoQjtBQUNBLGFBQVMsbUJBQW1CLEtBQUs7QUFDL0IsVUFBSSxPQUFPLElBQUksTUFDWCxTQUFTLElBQUksUUFDYixTQUFTLElBQUksUUFDYixjQUFjLElBQUk7QUFDdEIsVUFBSSxZQUFZLGVBQWUsTUFBTSxHQUFHLEVBQUUsS0FBSyxTQUFTLE1BQU0sV0FBVyxLQUFLLFdBQVcsS0FBSyxnQkFBZ0IsR0FDMUcsY0FBYyxlQUFlLFFBQVEsR0FBRyxFQUFFLEdBQzFDLGNBQWMsZUFBZSxRQUFRLEdBQUcsRUFBRSxHQUMxQyxtQkFBbUIsZUFBZSxhQUFhLEdBQUcsR0FBRztBQUV6RCxVQUFJLENBQUMsV0FBVztBQUNkLGVBQU8sZUFBZSxRQUFRLElBQUk7TUFDdEMsV0FBYSxDQUFDLGFBQWE7QUFDdkIsZUFBTyxlQUFlLFVBQVUsTUFBTTtNQUMxQyxXQUFhLENBQUMsYUFBYTtBQUN2QixlQUFPLGVBQWUsVUFBVSxNQUFNO01BQzFDLFdBQWEsQ0FBQyxrQkFBa0I7QUFDNUIsZUFBTyxlQUFlLGVBQWUsV0FBVztNQUNwRDtBQUFTLGVBQU87SUFDaEI7QUFFQSxRQUFJLFVBQVU7QUFDZCxRQUFJLFdBQVc7QUFFZixhQUFTLGdCQUFnQixNQUFNO0FBQzdCLGFBQU8sSUFBSSxRQUFRLG9CQUFvQixlQUFnQixLQUFLLE9BQU8sb0JBQXFCO0lBQzFGO0FBR0EsYUFBUyx1QkFBdUIsSUFBSTtBQUNsQyxVQUFJLEdBQUcsYUFBYSxNQUFNO0FBQ3hCLFdBQUcsV0FBVyxnQkFBZ0IsR0FBRyxDQUFDO01BQ3RDO0FBRUUsYUFBTyxHQUFHO0lBQ1o7QUFJQSxhQUFTLE1BQU0sTUFBTSxNQUFNO0FBQ3pCLFVBQUksVUFBVTtRQUNaLElBQUksS0FBSztRQUNULE1BQU0sS0FBSztRQUNYLEdBQUcsS0FBSztRQUNSLEdBQUcsS0FBSztRQUNSLEtBQUssS0FBSztRQUNWLFNBQVMsS0FBSztNQUNsQjtBQUNFLGFBQU8sSUFBSSxTQUFTLFNBQVMsQ0FBQSxHQUFJLFNBQVMsTUFBTTtRQUM5QyxLQUFLO01BQ1QsQ0FBRyxDQUFDO0lBQ0o7QUFJQSxhQUFTLFVBQVUsU0FBUyxHQUFHLElBQUk7QUFFakMsVUFBSSxXQUFXLFVBQVUsSUFBSSxLQUFLO0FBRWxDLFVBQUksS0FBSyxHQUFHLE9BQU8sUUFBUTtBQUUzQixVQUFJLE1BQU0sSUFBSTtBQUNaLGVBQU8sQ0FBQyxVQUFVLENBQUM7TUFDdkI7QUFHRSxtQkFBYSxLQUFLLEtBQUssS0FBSztBQUU1QixVQUFJLEtBQUssR0FBRyxPQUFPLFFBQVE7QUFFM0IsVUFBSSxPQUFPLElBQUk7QUFDYixlQUFPLENBQUMsVUFBVSxFQUFFO01BQ3hCO0FBR0UsYUFBTyxDQUFDLFVBQVUsS0FBSyxJQUFJLElBQUksRUFBRSxJQUFJLEtBQUssS0FBTSxLQUFLLElBQUksSUFBSSxFQUFFLENBQUM7SUFDbEU7QUFHQSxhQUFTLFFBQVEsSUFBSTlDLFNBQVE7QUFDM0IsWUFBTUEsVUFBUyxLQUFLO0FBQ3BCLFVBQUksSUFBSSxJQUFJLEtBQUssRUFBRTtBQUNuQixhQUFPO1FBQ0wsTUFBTSxFQUFFLGVBQWM7UUFDdEIsT0FBTyxFQUFFLFlBQVcsSUFBSztRQUN6QixLQUFLLEVBQUUsV0FBVTtRQUNqQixNQUFNLEVBQUUsWUFBVztRQUNuQixRQUFRLEVBQUUsY0FBYTtRQUN2QixRQUFRLEVBQUUsY0FBYTtRQUN2QixhQUFhLEVBQUUsbUJBQWtCO01BQ3JDO0lBQ0E7QUFHQSxhQUFTLFFBQVEsS0FBS0EsU0FBUSxNQUFNO0FBQ2xDLGFBQU8sVUFBVSxhQUFhLEdBQUcsR0FBR0EsU0FBUSxJQUFJO0lBQ2xEO0FBR0EsYUFBUyxXQUFXLE1BQU0sS0FBSztBQUM3QixVQUFJLE9BQU8sS0FBSyxHQUNaLE9BQU8sS0FBSyxFQUFFLE9BQU8sS0FBSyxNQUFNLElBQUksS0FBSyxHQUN6QyxRQUFRLEtBQUssRUFBRSxRQUFRLEtBQUssTUFBTSxJQUFJLE1BQU0sSUFBSSxLQUFLLE1BQU0sSUFBSSxRQUFRLElBQUksR0FDM0UsSUFBSSxTQUFTLENBQUEsR0FBSSxLQUFLLEdBQUc7UUFDM0I7UUFDQTtRQUNBLEtBQUssS0FBSyxJQUFJLEtBQUssRUFBRSxLQUFLLFlBQVksTUFBTSxLQUFLLENBQUMsSUFBSSxLQUFLLE1BQU0sSUFBSSxJQUFJLElBQUksS0FBSyxNQUFNLElBQUksS0FBSyxJQUFJO01BQ3pHLENBQUcsR0FDRyxjQUFjLFNBQVMsV0FBVztRQUNwQyxPQUFPLElBQUksUUFBUSxLQUFLLE1BQU0sSUFBSSxLQUFLO1FBQ3ZDLFVBQVUsSUFBSSxXQUFXLEtBQUssTUFBTSxJQUFJLFFBQVE7UUFDaEQsUUFBUSxJQUFJLFNBQVMsS0FBSyxNQUFNLElBQUksTUFBTTtRQUMxQyxPQUFPLElBQUksUUFBUSxLQUFLLE1BQU0sSUFBSSxLQUFLO1FBQ3ZDLE1BQU0sSUFBSSxPQUFPLEtBQUssTUFBTSxJQUFJLElBQUk7UUFDcEMsT0FBTyxJQUFJO1FBQ1gsU0FBUyxJQUFJO1FBQ2IsU0FBUyxJQUFJO1FBQ2IsY0FBYyxJQUFJO01BQ3RCLENBQUcsRUFBRSxHQUFHLGNBQWMsR0FDaEIsVUFBVSxhQUFhLENBQUM7QUFFNUIsVUFBSSxhQUFhLFVBQVUsU0FBUyxNQUFNLEtBQUssSUFBSSxHQUMvQyxLQUFLLFdBQVcsSUFDaEIsSUFBSSxXQUFXO0FBRW5CLFVBQUksZ0JBQWdCLEdBQUc7QUFDckIsY0FBTTtBQUVOLFlBQUksS0FBSyxLQUFLLE9BQU8sRUFBRTtNQUMzQjtBQUVFLGFBQU87UUFDTDtRQUNBO01BQ0o7SUFDQTtBQUlBLGFBQVMsb0JBQW9CLFFBQVEsWUFBWSxNQUFNLFFBQVE2QixPQUFNLGdCQUFnQjtBQUNuRixVQUFJLFVBQVUsS0FBSyxTQUNmLE9BQU8sS0FBSztBQUVoQixVQUFJLFVBQVUsT0FBTyxLQUFLLE1BQU0sRUFBRSxXQUFXLEdBQUc7QUFDOUMsWUFBSSxxQkFBcUIsY0FBYyxNQUNuQyxPQUFPLFNBQVMsV0FBVyxRQUFRLFNBQVMsQ0FBQSxHQUFJLE1BQU07VUFDeEQsTUFBTTtVQUNOO1FBQ04sQ0FBSyxDQUFDO0FBQ0YsZUFBTyxVQUFVLE9BQU8sS0FBSyxRQUFRLElBQUk7TUFDN0MsT0FBUztBQUNMLGVBQU8sU0FBUyxRQUFRLElBQUksUUFBUSxjQUFjLGdCQUFpQkEsUUFBTywwQkFBMkIsTUFBTSxDQUFDO01BQ2hIO0lBQ0E7QUFJQSxhQUFTLGFBQWEsSUFBSSxRQUFRLFFBQVE7QUFDeEMsVUFBSSxXQUFXLFFBQVE7QUFDckIsaUJBQVM7TUFDYjtBQUVFLGFBQU8sR0FBRyxVQUFVLFVBQVUsT0FBTyxPQUFPLE9BQU8sT0FBTyxHQUFHO1FBQzNEO1FBQ0EsYUFBYTtNQUNqQixDQUFHLEVBQUUseUJBQXlCLElBQUksTUFBTSxJQUFJO0lBQzVDO0FBRUEsYUFBUyxXQUFXLEdBQUcsVUFBVTtBQUMvQixVQUFJLGFBQWEsRUFBRSxFQUFFLE9BQU8sUUFBUSxFQUFFLEVBQUUsT0FBTztBQUMvQyxVQUFJLElBQUk7QUFDUixVQUFJLGNBQWMsRUFBRSxFQUFFLFFBQVE7QUFBRyxhQUFLO0FBQ3RDLFdBQUssU0FBUyxFQUFFLEVBQUUsTUFBTSxhQUFhLElBQUksQ0FBQztBQUUxQyxVQUFJLFVBQVU7QUFDWixhQUFLO0FBQ0wsYUFBSyxTQUFTLEVBQUUsRUFBRSxLQUFLO0FBQ3ZCLGFBQUs7QUFDTCxhQUFLLFNBQVMsRUFBRSxFQUFFLEdBQUc7TUFDekIsT0FBUztBQUNMLGFBQUssU0FBUyxFQUFFLEVBQUUsS0FBSztBQUN2QixhQUFLLFNBQVMsRUFBRSxFQUFFLEdBQUc7TUFDekI7QUFFRSxhQUFPO0lBQ1Q7QUFFQSxhQUFTLFdBQVcsR0FBRyxVQUFVLGlCQUFpQixzQkFBc0IsZUFBZSxjQUFjO0FBQ25HLFVBQUksSUFBSSxTQUFTLEVBQUUsRUFBRSxJQUFJO0FBRXpCLFVBQUksVUFBVTtBQUNaLGFBQUs7QUFDTCxhQUFLLFNBQVMsRUFBRSxFQUFFLE1BQU07QUFFeEIsWUFBSSxFQUFFLEVBQUUsV0FBVyxLQUFLLENBQUMsaUJBQWlCO0FBQ3hDLGVBQUs7UUFDWDtNQUNBLE9BQVM7QUFDTCxhQUFLLFNBQVMsRUFBRSxFQUFFLE1BQU07TUFDNUI7QUFFRSxVQUFJLEVBQUUsRUFBRSxXQUFXLEtBQUssQ0FBQyxpQkFBaUI7QUFDeEMsYUFBSyxTQUFTLEVBQUUsRUFBRSxNQUFNO0FBRXhCLFlBQUksRUFBRSxFQUFFLGdCQUFnQixLQUFLLENBQUMsc0JBQXNCO0FBQ2xELGVBQUs7QUFDTCxlQUFLLFNBQVMsRUFBRSxFQUFFLGFBQWEsQ0FBQztRQUN0QztNQUNBO0FBRUUsVUFBSSxlQUFlO0FBQ2pCLFlBQUksRUFBRSxpQkFBaUIsRUFBRSxXQUFXLEtBQUssQ0FBQyxjQUFjO0FBQ3RELGVBQUs7UUFDWCxXQUFlLEVBQUUsSUFBSSxHQUFHO0FBQ2xCLGVBQUs7QUFDTCxlQUFLLFNBQVMsS0FBSyxNQUFNLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQztBQUNuQyxlQUFLO0FBQ0wsZUFBSyxTQUFTLEtBQUssTUFBTSxDQUFDLEVBQUUsSUFBSSxFQUFFLENBQUM7UUFDekMsT0FBVztBQUNMLGVBQUs7QUFDTCxlQUFLLFNBQVMsS0FBSyxNQUFNLEVBQUUsSUFBSSxFQUFFLENBQUM7QUFDbEMsZUFBSztBQUNMLGVBQUssU0FBUyxLQUFLLE1BQU0sRUFBRSxJQUFJLEVBQUUsQ0FBQztRQUN4QztNQUNBO0FBRUUsVUFBSSxjQUFjO0FBQ2hCLGFBQUssTUFBTSxFQUFFLEtBQUssV0FBVztNQUNqQztBQUVFLGFBQU87SUFDVDtBQUdBLFFBQUksb0JBQW9CO01BQ3RCLE9BQU87TUFDUCxLQUFLO01BQ0wsTUFBTTtNQUNOLFFBQVE7TUFDUixRQUFRO01BQ1IsYUFBYTtJQUNmO0FBUEEsUUFRSSx3QkFBd0I7TUFDMUIsWUFBWTtNQUNaLFNBQVM7TUFDVCxNQUFNO01BQ04sUUFBUTtNQUNSLFFBQVE7TUFDUixhQUFhO0lBQ2Y7QUFmQSxRQWdCSSwyQkFBMkI7TUFDN0IsU0FBUztNQUNULE1BQU07TUFDTixRQUFRO01BQ1IsUUFBUTtNQUNSLGFBQWE7SUFDZjtBQUVBLFFBQUksZUFBZSxDQUFDLFFBQVEsU0FBUyxPQUFPLFFBQVEsVUFBVSxVQUFVLGFBQWE7QUFBckYsUUFDSSxtQkFBbUIsQ0FBQyxZQUFZLGNBQWMsV0FBVyxRQUFRLFVBQVUsVUFBVSxhQUFhO0FBRHRHLFFBRUksc0JBQXNCLENBQUMsUUFBUSxXQUFXLFFBQVEsVUFBVSxVQUFVLGFBQWE7QUFFdkYsYUFBUyxjQUFjLE1BQU07QUFDM0IsVUFBSSxhQUFhO1FBQ2YsTUFBTTtRQUNOLE9BQU87UUFDUCxPQUFPO1FBQ1AsUUFBUTtRQUNSLEtBQUs7UUFDTCxNQUFNO1FBQ04sTUFBTTtRQUNOLE9BQU87UUFDUCxRQUFRO1FBQ1IsU0FBUztRQUNULFNBQVM7UUFDVCxVQUFVO1FBQ1YsUUFBUTtRQUNSLFNBQVM7UUFDVCxhQUFhO1FBQ2IsY0FBYztRQUNkLFNBQVM7UUFDVCxVQUFVO1FBQ1YsWUFBWTtRQUNaLGFBQWE7UUFDYixhQUFhO1FBQ2IsVUFBVTtRQUNWLFdBQVc7UUFDWCxTQUFTO01BQ2IsRUFBSSxLQUFLLFlBQVc7QUFDbEIsVUFBSSxDQUFDO0FBQVksY0FBTSxJQUFJLGlCQUFpQixJQUFJO0FBQ2hELGFBQU87SUFDVDtBQUtBLGFBQVMsUUFBUSxLQUFLLE1BQU07QUFDMUIsVUFBSSxPQUFPLGNBQWMsS0FBSyxNQUFNLFNBQVMsV0FBVyxHQUNwRCxNQUFNLE9BQU8sV0FBVyxJQUFJLEdBQzVCLFFBQVEsU0FBUyxJQUFHO0FBQ3hCLFVBQUksSUFBSTtBQUVSLFVBQUksQ0FBQyxZQUFZLElBQUksSUFBSSxHQUFHO0FBQzFCLGlCQUFTLFlBQVksZ0NBQWdDLFlBQVksR0FBRyxPQUFPLEVBQUUsUUFBUSxVQUFTLEdBQUksUUFBTztBQUN2RyxjQUFJLElBQUksTUFBTTtBQUVkLGNBQUksWUFBWSxJQUFJLEVBQUUsR0FBRztBQUN2QixnQkFBSSxLQUFLLGtCQUFrQjtVQUNuQztRQUNBO0FBRUksWUFBSSxVQUFVLHdCQUF3QixHQUFHLEtBQUssbUJBQW1CLEdBQUc7QUFFcEUsWUFBSSxTQUFTO0FBQ1gsaUJBQU8sU0FBUyxRQUFRLE9BQU87UUFDckM7QUFFSSxZQUFJLGVBQWUsS0FBSyxPQUFPLEtBQUs7QUFFcEMsWUFBSSxXQUFXLFFBQVEsS0FBSyxjQUFjLElBQUk7QUFFOUMsYUFBSyxTQUFTO0FBQ2QsWUFBSSxTQUFTO01BQ2pCLE9BQVM7QUFDTCxhQUFLO01BQ1Q7QUFFRSxhQUFPLElBQUksU0FBUztRQUNsQjtRQUNBO1FBQ0E7UUFDQTtNQUNKLENBQUc7SUFDSDtBQUVBLGFBQVMsYUFBYSxPQUFPLEtBQUssTUFBTTtBQUN0QyxVQUFJLFFBQVEsWUFBWSxLQUFLLEtBQUssSUFBSSxPQUFPLEtBQUssT0FDOUMsU0FBUyxTQUFTa0IsUUFBTyxHQUFHQyxPQUFNO0FBQ3BDLFlBQUksUUFBUSxHQUFHLFNBQVMsS0FBSyxZQUFZLElBQUksR0FBRyxJQUFJO0FBQ3BELFlBQUksWUFBWSxJQUFJLElBQUksTUFBTSxJQUFJLEVBQUUsYUFBYSxJQUFJO0FBQ3JELGVBQU8sVUFBVSxPQUFPLEdBQUdBLEtBQUk7TUFDbkMsR0FDTSxTQUFTLFNBQVNDLFFBQU9ELE9BQU07QUFDakMsWUFBSSxLQUFLLFdBQVc7QUFDbEIsY0FBSSxDQUFDLElBQUksUUFBUSxPQUFPQSxLQUFJLEdBQUc7QUFDN0IsbUJBQU8sSUFBSSxRQUFRQSxLQUFJLEVBQUUsS0FBSyxNQUFNLFFBQVFBLEtBQUksR0FBR0EsS0FBSSxFQUFFLElBQUlBLEtBQUk7VUFDekU7QUFBYSxtQkFBTztRQUNwQixPQUFXO0FBQ0wsaUJBQU8sSUFBSSxLQUFLLE9BQU9BLEtBQUksRUFBRSxJQUFJQSxLQUFJO1FBQzNDO01BQ0E7QUFFRSxVQUFJLEtBQUssTUFBTTtBQUNiLGVBQU8sT0FBTyxPQUFPLEtBQUssSUFBSSxHQUFHLEtBQUssSUFBSTtNQUM5QztBQUVFLGVBQVMsYUFBYSxnQ0FBZ0MsS0FBSyxLQUFLLEdBQUcsUUFBUSxFQUFFLFNBQVMsV0FBVSxHQUFJLFFBQU87QUFDekcsWUFBSSxPQUFPLE9BQU87QUFDbEIsWUFBSSxRQUFRLE9BQU8sSUFBSTtBQUV2QixZQUFJLEtBQUssSUFBSSxLQUFLLEtBQUssR0FBRztBQUN4QixpQkFBTyxPQUFPLE9BQU8sSUFBSTtRQUMvQjtNQUNBO0FBRUUsYUFBTyxPQUFPLFFBQVEsTUFBTSxLQUFLLEdBQUcsS0FBSyxNQUFNLEtBQUssTUFBTSxTQUFTLEVBQUU7SUFDdkU7QUFFQSxhQUFTLFNBQVMsU0FBUztBQUN6QixVQUFJLE9BQU8sQ0FBQSxHQUNQO0FBRUosVUFBSSxRQUFRLFNBQVMsS0FBSyxPQUFPLFFBQVEsUUFBUSxTQUFTLE9BQU8sVUFBVTtBQUN6RSxlQUFPLFFBQVEsUUFBUSxTQUFTO0FBQ2hDLGVBQU8sTUFBTSxLQUFLLE9BQU8sRUFBRSxNQUFNLEdBQUcsUUFBUSxTQUFTLENBQUM7TUFDMUQsT0FBUztBQUNMLGVBQU8sTUFBTSxLQUFLLE9BQU87TUFDN0I7QUFFRSxhQUFPLENBQUMsTUFBTSxJQUFJO0lBQ3BCO0FBdUJBLFFBQUksV0FBd0IsMkJBQVk7QUFJdEMsZUFBU0UsVUFBUyxRQUFRO0FBQ3hCLFlBQUksT0FBTyxPQUFPLFFBQVEsU0FBUztBQUNuQyxZQUFJLFVBQVUsT0FBTyxZQUFZLE9BQU8sTUFBTSxPQUFPLEVBQUUsSUFBSSxJQUFJLFFBQVEsZUFBZSxJQUFJLFVBQVUsQ0FBQyxLQUFLLFVBQVUsZ0JBQWdCLElBQUksSUFBSTtBQUs1SSxhQUFLLEtBQUssWUFBWSxPQUFPLEVBQUUsSUFBSSxTQUFTLElBQUcsSUFBSyxPQUFPO0FBQzNELFlBQUksSUFBSSxNQUNKLElBQUk7QUFFUixZQUFJLENBQUMsU0FBUztBQUNaLGNBQUksWUFBWSxPQUFPLE9BQU8sT0FBTyxJQUFJLE9BQU8sS0FBSyxNQUFNLE9BQU8sSUFBSSxLQUFLLE9BQU8sSUFBSTtBQUV0RixjQUFJLFdBQVc7QUFDYixnQkFBSSxPQUFPLENBQUMsT0FBTyxJQUFJLEdBQUcsT0FBTyxJQUFJLENBQUM7QUFDdEMsZ0JBQUksS0FBSztBQUNULGdCQUFJLEtBQUs7VUFDakIsT0FBYTtBQUNMLGdCQUFJLEtBQUssS0FBSyxPQUFPLEtBQUssRUFBRTtBQUM1QixnQkFBSSxRQUFRLEtBQUssSUFBSSxFQUFFO0FBQ3ZCLHNCQUFVLE9BQU8sTUFBTSxFQUFFLElBQUksSUFBSSxJQUFJLFFBQVEsZUFBZSxJQUFJO0FBQ2hFLGdCQUFJLFVBQVUsT0FBTztBQUNyQixnQkFBSSxVQUFVLE9BQU87VUFDN0I7UUFDQTtBQU1JLGFBQUssUUFBUTtBQUtiLGFBQUssTUFBTSxPQUFPLE9BQU8sT0FBTyxPQUFNO0FBS3RDLGFBQUssVUFBVTtBQUtmLGFBQUssV0FBVztBQUtoQixhQUFLLElBQUk7QUFLVCxhQUFLLElBQUk7QUFLVCxhQUFLLGtCQUFrQjtNQUMzQjtBQVdFLE1BQUFBLFVBQVMsTUFBTSxTQUFTL0IsT0FBTTtBQUM1QixlQUFPLElBQUkrQixVQUFTLENBQUEsQ0FBRTtNQUMxQjtBQXdCRSxNQUFBQSxVQUFTLFFBQVEsU0FBUyxRQUFRO0FBQ2hDLFlBQUksWUFBWSxTQUFTLFNBQVMsR0FDOUIsT0FBTyxVQUFVLElBQ2pCLE9BQU8sVUFBVSxJQUNqQixPQUFPLEtBQUssSUFDWixRQUFRLEtBQUssSUFDYixNQUFNLEtBQUssSUFDWCxPQUFPLEtBQUssSUFDWixTQUFTLEtBQUssSUFDZCxTQUFTLEtBQUssSUFDZCxjQUFjLEtBQUs7QUFFdkIsZUFBTyxRQUFRO1VBQ2I7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7UUFDTixHQUFPLElBQUk7TUFDWDtBQTJCRSxNQUFBQSxVQUFTLE1BQU0sU0FBUyxNQUFNO0FBQzVCLFlBQUksYUFBYSxTQUFTLFNBQVMsR0FDL0IsT0FBTyxXQUFXLElBQ2xCLE9BQU8sV0FBVyxJQUNsQixPQUFPLEtBQUssSUFDWixRQUFRLEtBQUssSUFDYixNQUFNLEtBQUssSUFDWCxPQUFPLEtBQUssSUFDWixTQUFTLEtBQUssSUFDZCxTQUFTLEtBQUssSUFDZCxjQUFjLEtBQUs7QUFFdkIsYUFBSyxPQUFPLGdCQUFnQjtBQUM1QixlQUFPLFFBQVE7VUFDYjtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtRQUNOLEdBQU8sSUFBSTtNQUNYO0FBVUUsTUFBQUEsVUFBUyxhQUFhLFNBQVMsV0FBVyxNQUFNLFNBQVM7QUFDdkQsWUFBSSxZQUFZLFFBQVE7QUFDdEIsb0JBQVUsQ0FBQTtRQUNoQjtBQUVJLFlBQUksS0FBSyxPQUFPLElBQUksSUFBSSxLQUFLLFFBQU8sSUFBSztBQUV6QyxZQUFJLE9BQU8sTUFBTSxFQUFFLEdBQUc7QUFDcEIsaUJBQU9BLFVBQVMsUUFBUSxlQUFlO1FBQzdDO0FBRUksWUFBSSxZQUFZLGNBQWMsUUFBUSxNQUFNLFNBQVMsV0FBVztBQUVoRSxZQUFJLENBQUMsVUFBVSxTQUFTO0FBQ3RCLGlCQUFPQSxVQUFTLFFBQVEsZ0JBQWdCLFNBQVMsQ0FBQztRQUN4RDtBQUVJLGVBQU8sSUFBSUEsVUFBUztVQUNsQjtVQUNBLE1BQU07VUFDTixLQUFLLE9BQU8sV0FBVyxPQUFPO1FBQ3BDLENBQUs7TUFDTDtBQWFFLE1BQUFBLFVBQVMsYUFBYSxTQUFTLFdBQVcsY0FBYyxTQUFTO0FBQy9ELFlBQUksWUFBWSxRQUFRO0FBQ3RCLG9CQUFVLENBQUE7UUFDaEI7QUFFSSxZQUFJLENBQUMsU0FBUyxZQUFZLEdBQUc7QUFDM0IsZ0JBQU0sSUFBSSxxQkFBcUIsMkRBQTJELE9BQU8sZUFBZSxpQkFBaUIsWUFBWTtRQUNuSixXQUFlLGVBQWUsQ0FBQyxZQUFZLGVBQWUsVUFBVTtBQUU5RCxpQkFBT0EsVUFBUyxRQUFRLHdCQUF3QjtRQUN0RCxPQUFXO0FBQ0wsaUJBQU8sSUFBSUEsVUFBUztZQUNsQixJQUFJO1lBQ0osTUFBTSxjQUFjLFFBQVEsTUFBTSxTQUFTLFdBQVc7WUFDdEQsS0FBSyxPQUFPLFdBQVcsT0FBTztVQUN0QyxDQUFPO1FBQ1A7TUFDQTtBQWFFLE1BQUFBLFVBQVMsY0FBYyxTQUFTLFlBQVksU0FBUyxTQUFTO0FBQzVELFlBQUksWUFBWSxRQUFRO0FBQ3RCLG9CQUFVLENBQUE7UUFDaEI7QUFFSSxZQUFJLENBQUMsU0FBUyxPQUFPLEdBQUc7QUFDdEIsZ0JBQU0sSUFBSSxxQkFBcUIsd0NBQXdDO1FBQzdFLE9BQVc7QUFDTCxpQkFBTyxJQUFJQSxVQUFTO1lBQ2xCLElBQUksVUFBVTtZQUNkLE1BQU0sY0FBYyxRQUFRLE1BQU0sU0FBUyxXQUFXO1lBQ3RELEtBQUssT0FBTyxXQUFXLE9BQU87VUFDdEMsQ0FBTztRQUNQO01BQ0E7QUErQkUsTUFBQUEsVUFBUyxhQUFhLFNBQVMsV0FBVyxLQUFLLE1BQU07QUFDbkQsWUFBSSxTQUFTLFFBQVE7QUFDbkIsaUJBQU8sQ0FBQTtRQUNiO0FBRUksY0FBTSxPQUFPLENBQUE7QUFDYixZQUFJLFlBQVksY0FBYyxLQUFLLE1BQU0sU0FBUyxXQUFXO0FBRTdELFlBQUksQ0FBQyxVQUFVLFNBQVM7QUFDdEIsaUJBQU9BLFVBQVMsUUFBUSxnQkFBZ0IsU0FBUyxDQUFDO1FBQ3hEO0FBRUksWUFBSSxRQUFRLFNBQVMsSUFBRyxHQUNwQixlQUFlLENBQUMsWUFBWSxLQUFLLGNBQWMsSUFBSSxLQUFLLGlCQUFpQixVQUFVLE9BQU8sS0FBSyxHQUMvRixhQUFhLGdCQUFnQixLQUFLLGFBQWEsR0FDL0Msa0JBQWtCLENBQUMsWUFBWSxXQUFXLE9BQU8sR0FDakQscUJBQXFCLENBQUMsWUFBWSxXQUFXLElBQUksR0FDakQsbUJBQW1CLENBQUMsWUFBWSxXQUFXLEtBQUssS0FBSyxDQUFDLFlBQVksV0FBVyxHQUFHLEdBQ2hGLGlCQUFpQixzQkFBc0Isa0JBQ3ZDLGtCQUFrQixXQUFXLFlBQVksV0FBVyxZQUNwRCxNQUFNLE9BQU8sV0FBVyxJQUFJO0FBTWhDLGFBQUssa0JBQWtCLG9CQUFvQixpQkFBaUI7QUFDMUQsZ0JBQU0sSUFBSSw4QkFBOEIscUVBQXFFO1FBQ25IO0FBRUksWUFBSSxvQkFBb0IsaUJBQWlCO0FBQ3ZDLGdCQUFNLElBQUksOEJBQThCLHdDQUF3QztRQUN0RjtBQUVJLFlBQUksY0FBYyxtQkFBbUIsV0FBVyxXQUFXLENBQUM7QUFFNUQsWUFBSSxPQUNBLGVBQ0EsU0FBUyxRQUFRLE9BQU8sWUFBWTtBQUV4QyxZQUFJLGFBQWE7QUFDZixrQkFBUTtBQUNSLDBCQUFnQjtBQUNoQixtQkFBUyxnQkFBZ0IsTUFBTTtRQUNyQyxXQUFlLGlCQUFpQjtBQUMxQixrQkFBUTtBQUNSLDBCQUFnQjtBQUNoQixtQkFBUyxtQkFBbUIsTUFBTTtRQUN4QyxPQUFXO0FBQ0wsa0JBQVE7QUFDUiwwQkFBZ0I7UUFDdEI7QUFHSSxZQUFJLGFBQWE7QUFFakIsaUJBQVMsYUFBYSxnQ0FBZ0MsS0FBSyxHQUFHLFFBQVEsRUFBRSxTQUFTLFdBQVUsR0FBSSxRQUFPO0FBQ3BHLGNBQUksSUFBSSxPQUFPO0FBQ2YsY0FBSSxJQUFJLFdBQVc7QUFFbkIsY0FBSSxDQUFDLFlBQVksQ0FBQyxHQUFHO0FBQ25CLHlCQUFhO1VBQ3JCLFdBQWlCLFlBQVk7QUFDckIsdUJBQVcsS0FBSyxjQUFjO1VBQ3RDLE9BQWE7QUFDTCx1QkFBVyxLQUFLLE9BQU87VUFDL0I7UUFDQTtBQUdJLFlBQUkscUJBQXFCLGNBQWMsbUJBQW1CLFVBQVUsSUFBSSxrQkFBa0Isc0JBQXNCLFVBQVUsSUFBSSx3QkFBd0IsVUFBVSxHQUM1SixVQUFVLHNCQUFzQixtQkFBbUIsVUFBVTtBQUVqRSxZQUFJLFNBQVM7QUFDWCxpQkFBT0EsVUFBUyxRQUFRLE9BQU87UUFDckM7QUFHSSxZQUFJLFlBQVksY0FBYyxnQkFBZ0IsVUFBVSxJQUFJLGtCQUFrQixtQkFBbUIsVUFBVSxJQUFJLFlBQzNHLFlBQVksUUFBUSxXQUFXLGNBQWMsU0FBUyxHQUN0RCxVQUFVLFVBQVUsSUFDcEIsY0FBYyxVQUFVLElBQ3hCLE9BQU8sSUFBSUEsVUFBUztVQUN0QixJQUFJO1VBQ0osTUFBTTtVQUNOLEdBQUc7VUFDSDtRQUNOLENBQUs7QUFHRCxZQUFJLFdBQVcsV0FBVyxrQkFBa0IsSUFBSSxZQUFZLEtBQUssU0FBUztBQUN4RSxpQkFBT0EsVUFBUyxRQUFRLHNCQUFzQix5Q0FBeUMsV0FBVyxVQUFVLG9CQUFvQixLQUFLLE1BQUssQ0FBRTtRQUNsSjtBQUVJLGVBQU87TUFDWDtBQW1CRSxNQUFBQSxVQUFTLFVBQVUsU0FBUyxRQUFRckIsT0FBTSxNQUFNO0FBQzlDLFlBQUksU0FBUyxRQUFRO0FBQ25CLGlCQUFPLENBQUE7UUFDYjtBQUVJLFlBQUksZ0JBQWdCLGFBQWFBLEtBQUksR0FDakMsT0FBTyxjQUFjLElBQ3JCLGFBQWEsY0FBYztBQUUvQixlQUFPLG9CQUFvQixNQUFNLFlBQVksTUFBTSxZQUFZQSxLQUFJO01BQ3ZFO0FBaUJFLE1BQUFxQixVQUFTLGNBQWMsU0FBUyxZQUFZckIsT0FBTSxNQUFNO0FBQ3RELFlBQUksU0FBUyxRQUFRO0FBQ25CLGlCQUFPLENBQUE7UUFDYjtBQUVJLFlBQUksb0JBQW9CLGlCQUFpQkEsS0FBSSxHQUN6QyxPQUFPLGtCQUFrQixJQUN6QixhQUFhLGtCQUFrQjtBQUVuQyxlQUFPLG9CQUFvQixNQUFNLFlBQVksTUFBTSxZQUFZQSxLQUFJO01BQ3ZFO0FBa0JFLE1BQUFxQixVQUFTLFdBQVcsU0FBUyxTQUFTckIsT0FBTSxNQUFNO0FBQ2hELFlBQUksU0FBUyxRQUFRO0FBQ25CLGlCQUFPLENBQUE7UUFDYjtBQUVJLFlBQUksaUJBQWlCLGNBQWNBLEtBQUksR0FDbkMsT0FBTyxlQUFlLElBQ3RCLGFBQWEsZUFBZTtBQUVoQyxlQUFPLG9CQUFvQixNQUFNLFlBQVksTUFBTSxRQUFRLElBQUk7TUFDbkU7QUFnQkUsTUFBQXFCLFVBQVMsYUFBYSxTQUFTLFdBQVdyQixPQUFNLEtBQUssTUFBTTtBQUN6RCxZQUFJLFNBQVMsUUFBUTtBQUNuQixpQkFBTyxDQUFBO1FBQ2I7QUFFSSxZQUFJLFlBQVlBLEtBQUksS0FBSyxZQUFZLEdBQUcsR0FBRztBQUN6QyxnQkFBTSxJQUFJLHFCQUFxQixrREFBa0Q7UUFDdkY7QUFFSSxZQUFJLFFBQVEsTUFDUixlQUFlLE1BQU0sUUFDckIsU0FBUyxpQkFBaUIsU0FBUyxPQUFPLGNBQzFDLHdCQUF3QixNQUFNLGlCQUM5QixrQkFBa0IsMEJBQTBCLFNBQVMsT0FBTyx1QkFDNUQsY0FBYyxPQUFPLFNBQVM7VUFDaEM7VUFDQTtVQUNBLGFBQWE7UUFDbkIsQ0FBSyxHQUNHLG1CQUFtQixnQkFBZ0IsYUFBYUEsT0FBTSxHQUFHLEdBQ3pELE9BQU8saUJBQWlCLElBQ3hCLGFBQWEsaUJBQWlCLElBQzlCLGlCQUFpQixpQkFBaUIsSUFDbEMsVUFBVSxpQkFBaUI7QUFFL0IsWUFBSSxTQUFTO0FBQ1gsaUJBQU9xQixVQUFTLFFBQVEsT0FBTztRQUNyQyxPQUFXO0FBQ0wsaUJBQU8sb0JBQW9CLE1BQU0sWUFBWSxNQUFNLFlBQVksS0FBS3JCLE9BQU0sY0FBYztRQUM5RjtNQUNBO0FBTUUsTUFBQXFCLFVBQVMsYUFBYSxTQUFTLFdBQVdyQixPQUFNLEtBQUssTUFBTTtBQUN6RCxZQUFJLFNBQVMsUUFBUTtBQUNuQixpQkFBTyxDQUFBO1FBQ2I7QUFFSSxlQUFPcUIsVUFBUyxXQUFXckIsT0FBTSxLQUFLLElBQUk7TUFDOUM7QUF1QkUsTUFBQXFCLFVBQVMsVUFBVSxTQUFTLFFBQVFyQixPQUFNLE1BQU07QUFDOUMsWUFBSSxTQUFTLFFBQVE7QUFDbkIsaUJBQU8sQ0FBQTtRQUNiO0FBRUksWUFBSSxZQUFZLFNBQVNBLEtBQUksR0FDekIsT0FBTyxVQUFVLElBQ2pCLGFBQWEsVUFBVTtBQUUzQixlQUFPLG9CQUFvQixNQUFNLFlBQVksTUFBTSxPQUFPQSxLQUFJO01BQ2xFO0FBU0UsTUFBQXFCLFVBQVMsVUFBVSxTQUFTLFFBQVEsUUFBUSxhQUFhO0FBQ3ZELFlBQUksZ0JBQWdCLFFBQVE7QUFDMUIsd0JBQWM7UUFDcEI7QUFFSSxZQUFJLENBQUMsUUFBUTtBQUNYLGdCQUFNLElBQUkscUJBQXFCLGtEQUFrRDtRQUN2RjtBQUVJLFlBQUlwQixXQUFVLGtCQUFrQixVQUFVLFNBQVMsSUFBSSxRQUFRLFFBQVEsV0FBVztBQUVsRixZQUFJLFNBQVMsZ0JBQWdCO0FBQzNCLGdCQUFNLElBQUkscUJBQXFCQSxRQUFPO1FBQzVDLE9BQVc7QUFDTCxpQkFBTyxJQUFJb0IsVUFBUztZQUNsQixTQUFTcEI7VUFDakIsQ0FBTztRQUNQO01BQ0E7QUFRRSxNQUFBb0IsVUFBUyxhQUFhLFNBQVMsV0FBVyxHQUFHO0FBQzNDLGVBQU8sS0FBSyxFQUFFLG1CQUFtQjtNQUNyQztBQVdFLFVBQUksU0FBU0EsVUFBUztBQUV0QixhQUFPLE1BQU0sU0FBUyxJQUFJLE1BQU07QUFDOUIsZUFBTyxLQUFLO01BQ2hCO0FBZUUsYUFBTyx3QkFBd0IsU0FBUyxzQkFBc0IsTUFBTTtBQUNsRSxZQUFJLFNBQVMsUUFBUTtBQUNuQixpQkFBTyxDQUFBO1FBQ2I7QUFFSSxZQUFJLHdCQUF3QixVQUFVLE9BQU8sS0FBSyxJQUFJLE1BQU0sSUFBSSxHQUFHLElBQUksRUFBRSxnQkFBZ0IsSUFBSSxHQUN6RixTQUFTLHNCQUFzQixRQUMvQixrQkFBa0Isc0JBQXNCLGlCQUN4QyxXQUFXLHNCQUFzQjtBQUVyQyxlQUFPO1VBQ0w7VUFDQTtVQUNBLGdCQUFnQjtRQUN0QjtNQUNBO0FBWUUsYUFBTyxRQUFRLFNBQVMsTUFBTWxELFNBQVEsTUFBTTtBQUMxQyxZQUFJQSxZQUFXLFFBQVE7QUFDckIsVUFBQUEsVUFBUztRQUNmO0FBRUksWUFBSSxTQUFTLFFBQVE7QUFDbkIsaUJBQU8sQ0FBQTtRQUNiO0FBRUksZUFBTyxLQUFLLFFBQVEsZ0JBQWdCLFNBQVNBLE9BQU0sR0FBRyxJQUFJO01BQzlEO0FBU0UsYUFBTyxVQUFVLFNBQVMsVUFBVTtBQUNsQyxlQUFPLEtBQUssUUFBUSxTQUFTLFdBQVc7TUFDNUM7QUFZRSxhQUFPLFVBQVUsU0FBUyxRQUFRLE1BQU0sT0FBTztBQUM3QyxZQUFJLFFBQVEsVUFBVSxTQUFTLENBQUEsSUFBSyxPQUNoQyxzQkFBc0IsTUFBTSxlQUM1QixnQkFBZ0Isd0JBQXdCLFNBQVMsUUFBUSxxQkFDekQsd0JBQXdCLE1BQU0sa0JBQzlCLG1CQUFtQiwwQkFBMEIsU0FBUyxRQUFRO0FBRWxFLGVBQU8sY0FBYyxNQUFNLFNBQVMsV0FBVztBQUUvQyxZQUFJLEtBQUssT0FBTyxLQUFLLElBQUksR0FBRztBQUMxQixpQkFBTztRQUNiLFdBQWUsQ0FBQyxLQUFLLFNBQVM7QUFDeEIsaUJBQU9rRCxVQUFTLFFBQVEsZ0JBQWdCLElBQUksQ0FBQztRQUNuRCxPQUFXO0FBQ0wsY0FBSSxRQUFRLEtBQUs7QUFFakIsY0FBSSxpQkFBaUIsa0JBQWtCO0FBQ3JDLGdCQUFJLGNBQWMsS0FBSyxPQUFPLEtBQUssRUFBRTtBQUNyQyxnQkFBSSxRQUFRLEtBQUssU0FBUTtBQUV6QixnQkFBSSxZQUFZLFFBQVEsT0FBTyxhQUFhLElBQUk7QUFFaEQsb0JBQVEsVUFBVTtVQUMxQjtBQUVNLGlCQUFPLE1BQU0sTUFBTTtZQUNqQixJQUFJO1lBQ0o7VUFDUixDQUFPO1FBQ1A7TUFDQTtBQVNFLGFBQU8sY0FBYyxTQUFTLFlBQVksUUFBUTtBQUNoRCxZQUFJLFFBQVEsV0FBVyxTQUFTLENBQUEsSUFBSyxRQUNqQyxTQUFTLE1BQU0sUUFDZixrQkFBa0IsTUFBTSxpQkFDeEIsaUJBQWlCLE1BQU07QUFFM0IsWUFBSSxNQUFNLEtBQUssSUFBSSxNQUFNO1VBQ3ZCO1VBQ0E7VUFDQTtRQUNOLENBQUs7QUFDRCxlQUFPLE1BQU0sTUFBTTtVQUNqQjtRQUNOLENBQUs7TUFDTDtBQVNFLGFBQU8sWUFBWSxTQUFTLFVBQVUsUUFBUTtBQUM1QyxlQUFPLEtBQUssWUFBWTtVQUN0QjtRQUNOLENBQUs7TUFDTDtBQWFFLGFBQU8sTUFBTSxTQUFTLElBQUksUUFBUTtBQUNoQyxZQUFJLENBQUMsS0FBSztBQUFTLGlCQUFPO0FBQzFCLFlBQUksYUFBYSxnQkFBZ0IsUUFBUSxhQUFhLEdBQ2xELG1CQUFtQixDQUFDLFlBQVksV0FBVyxRQUFRLEtBQUssQ0FBQyxZQUFZLFdBQVcsVUFBVSxLQUFLLENBQUMsWUFBWSxXQUFXLE9BQU8sR0FDOUgsa0JBQWtCLENBQUMsWUFBWSxXQUFXLE9BQU8sR0FDakQscUJBQXFCLENBQUMsWUFBWSxXQUFXLElBQUksR0FDakQsbUJBQW1CLENBQUMsWUFBWSxXQUFXLEtBQUssS0FBSyxDQUFDLFlBQVksV0FBVyxHQUFHLEdBQ2hGLGlCQUFpQixzQkFBc0Isa0JBQ3ZDLGtCQUFrQixXQUFXLFlBQVksV0FBVztBQUV4RCxhQUFLLGtCQUFrQixvQkFBb0IsaUJBQWlCO0FBQzFELGdCQUFNLElBQUksOEJBQThCLHFFQUFxRTtRQUNuSDtBQUVJLFlBQUksb0JBQW9CLGlCQUFpQjtBQUN2QyxnQkFBTSxJQUFJLDhCQUE4Qix3Q0FBd0M7UUFDdEY7QUFFSSxZQUFJO0FBRUosWUFBSSxrQkFBa0I7QUFDcEIsa0JBQVEsZ0JBQWdCLFNBQVMsQ0FBQSxHQUFJLGdCQUFnQixLQUFLLENBQUMsR0FBRyxVQUFVLENBQUM7UUFDL0UsV0FBZSxDQUFDLFlBQVksV0FBVyxPQUFPLEdBQUc7QUFDM0Msa0JBQVEsbUJBQW1CLFNBQVMsQ0FBQSxHQUFJLG1CQUFtQixLQUFLLENBQUMsR0FBRyxVQUFVLENBQUM7UUFDckYsT0FBVztBQUNMLGtCQUFRLFNBQVMsQ0FBQSxHQUFJLEtBQUssU0FBUSxHQUFJLFVBQVU7QUFHaEQsY0FBSSxZQUFZLFdBQVcsR0FBRyxHQUFHO0FBQy9CLGtCQUFNLE1BQU0sS0FBSyxJQUFJLFlBQVksTUFBTSxNQUFNLE1BQU0sS0FBSyxHQUFHLE1BQU0sR0FBRztVQUM1RTtRQUNBO0FBRUksWUFBSSxZQUFZLFFBQVEsT0FBTyxLQUFLLEdBQUcsS0FBSyxJQUFJLEdBQzVDLEtBQUssVUFBVSxJQUNmLElBQUksVUFBVTtBQUVsQixlQUFPLE1BQU0sTUFBTTtVQUNqQjtVQUNBO1FBQ04sQ0FBSztNQUNMO0FBZ0JFLGFBQU8sT0FBTyxTQUFTLEtBQUssVUFBVTtBQUNwQyxZQUFJLENBQUMsS0FBSztBQUFTLGlCQUFPO0FBQzFCLFlBQUksTUFBTSxTQUFTLGlCQUFpQixRQUFRO0FBQzVDLGVBQU8sTUFBTSxNQUFNLFdBQVcsTUFBTSxHQUFHLENBQUM7TUFDNUM7QUFTRSxhQUFPLFFBQVEsU0FBUyxNQUFNLFVBQVU7QUFDdEMsWUFBSSxDQUFDLEtBQUs7QUFBUyxpQkFBTztBQUMxQixZQUFJLE1BQU0sU0FBUyxpQkFBaUIsUUFBUSxFQUFFLE9BQU07QUFDcEQsZUFBTyxNQUFNLE1BQU0sV0FBVyxNQUFNLEdBQUcsQ0FBQztNQUM1QztBQWFFLGFBQU8sVUFBVSxTQUFTLFFBQVEsTUFBTTtBQUN0QyxZQUFJLENBQUMsS0FBSztBQUFTLGlCQUFPO0FBQzFCLFlBQUksSUFBSSxDQUFBLEdBQ0osaUJBQWlCLFNBQVMsY0FBYyxJQUFJO0FBRWhELGdCQUFRO2VBQ0Q7QUFDSCxjQUFFLFFBQVE7ZUFHUDtlQUNBO0FBQ0gsY0FBRSxNQUFNO2VBR0w7ZUFDQTtBQUNILGNBQUUsT0FBTztlQUdOO0FBQ0gsY0FBRSxTQUFTO2VBR1I7QUFDSCxjQUFFLFNBQVM7ZUFHUjtBQUNILGNBQUUsY0FBYztBQUNoQjs7QUFJSixZQUFJLG1CQUFtQixTQUFTO0FBQzlCLFlBQUUsVUFBVTtRQUNsQjtBQUVJLFlBQUksbUJBQW1CLFlBQVk7QUFDakMsY0FBSSxJQUFJLEtBQUssS0FBSyxLQUFLLFFBQVEsQ0FBQztBQUNoQyxZQUFFLFNBQVMsSUFBSSxLQUFLLElBQUk7UUFDOUI7QUFFSSxlQUFPLEtBQUssSUFBSSxDQUFDO01BQ3JCO0FBYUUsYUFBTyxRQUFRLFNBQVMsTUFBTSxNQUFNO0FBQ2xDLFlBQUk7QUFFSixlQUFPLEtBQUssVUFBVSxLQUFLLE1BQU0sYUFBYSxDQUFBLEdBQUksV0FBVyxRQUFRLEdBQUcsV0FBVSxFQUFHLFFBQVEsSUFBSSxFQUFFLE1BQU0sQ0FBQyxJQUFJO01BQ2xIO0FBZ0JFLGFBQU8sV0FBVyxTQUFTLFNBQVMsS0FBSyxNQUFNO0FBQzdDLFlBQUksU0FBUyxRQUFRO0FBQ25CLGlCQUFPLENBQUE7UUFDYjtBQUVJLGVBQU8sS0FBSyxVQUFVLFVBQVUsT0FBTyxLQUFLLElBQUksY0FBYyxJQUFJLENBQUMsRUFBRSx5QkFBeUIsTUFBTSxHQUFHLElBQUk7TUFDL0c7QUFzQkUsYUFBTyxpQkFBaUIsU0FBUyxlQUFlLFlBQVksTUFBTTtBQUNoRSxZQUFJLGVBQWUsUUFBUTtBQUN6Qix1QkFBYTtRQUNuQjtBQUVJLFlBQUksU0FBUyxRQUFRO0FBQ25CLGlCQUFPLENBQUE7UUFDYjtBQUVJLGVBQU8sS0FBSyxVQUFVLFVBQVUsT0FBTyxLQUFLLElBQUksTUFBTSxJQUFJLEdBQUcsVUFBVSxFQUFFLGVBQWUsSUFBSSxJQUFJO01BQ3BHO0FBZ0JFLGFBQU8sZ0JBQWdCLFNBQVMsY0FBYyxNQUFNO0FBQ2xELFlBQUksU0FBUyxRQUFRO0FBQ25CLGlCQUFPLENBQUE7UUFDYjtBQUVJLGVBQU8sS0FBSyxVQUFVLFVBQVUsT0FBTyxLQUFLLElBQUksTUFBTSxJQUFJLEdBQUcsSUFBSSxFQUFFLG9CQUFvQixJQUFJLElBQUksQ0FBQTtNQUNuRztBQWlCRSxhQUFPLFFBQVEsU0FBUyxNQUFNLFFBQVE7QUFDcEMsWUFBSSxRQUFRLFdBQVcsU0FBUyxDQUFBLElBQUssUUFDakMsZUFBZSxNQUFNLFFBQ3JCLFNBQVMsaUJBQWlCLFNBQVMsYUFBYSxjQUNoRCx3QkFBd0IsTUFBTSxpQkFDOUIsa0JBQWtCLDBCQUEwQixTQUFTLFFBQVEsdUJBQzdELHdCQUF3QixNQUFNLHNCQUM5Qix1QkFBdUIsMEJBQTBCLFNBQVMsUUFBUSx1QkFDbEUsc0JBQXNCLE1BQU0sZUFDNUIsZ0JBQWdCLHdCQUF3QixTQUFTLE9BQU8scUJBQ3hELHFCQUFxQixNQUFNLGNBQzNCLGVBQWUsdUJBQXVCLFNBQVMsUUFBUTtBQUUzRCxZQUFJLENBQUMsS0FBSyxTQUFTO0FBQ2pCLGlCQUFPO1FBQ2I7QUFFSSxZQUFJLE1BQU0sV0FBVztBQUVyQixZQUFJLElBQUksV0FBVyxNQUFNLEdBQUc7QUFFNUIsYUFBSztBQUNMLGFBQUssV0FBVyxNQUFNLEtBQUssaUJBQWlCLHNCQUFzQixlQUFlLFlBQVk7QUFDN0YsZUFBTztNQUNYO0FBV0UsYUFBTyxZQUFZLFNBQVMsVUFBVSxRQUFRO0FBQzVDLFlBQUksUUFBUSxXQUFXLFNBQVMsQ0FBQSxJQUFLLFFBQ2pDLGVBQWUsTUFBTSxRQUNyQixTQUFTLGlCQUFpQixTQUFTLGFBQWE7QUFFcEQsWUFBSSxDQUFDLEtBQUssU0FBUztBQUNqQixpQkFBTztRQUNiO0FBRUksZUFBTyxXQUFXLE1BQU0sV0FBVyxVQUFVO01BQ2pEO0FBUUUsYUFBTyxnQkFBZ0IsU0FBUyxnQkFBZ0I7QUFDOUMsZUFBTyxhQUFhLE1BQU0sY0FBYztNQUM1QztBQWtCRSxhQUFPLFlBQVksU0FBUyxVQUFVLFFBQVE7QUFDNUMsWUFBSSxRQUFRLFdBQVcsU0FBUyxDQUFBLElBQUssUUFDakMsd0JBQXdCLE1BQU0sc0JBQzlCLHVCQUF1QiwwQkFBMEIsU0FBUyxRQUFRLHVCQUNsRSx3QkFBd0IsTUFBTSxpQkFDOUIsa0JBQWtCLDBCQUEwQixTQUFTLFFBQVEsdUJBQzdELHNCQUFzQixNQUFNLGVBQzVCLGdCQUFnQix3QkFBd0IsU0FBUyxPQUFPLHFCQUN4RCxzQkFBc0IsTUFBTSxlQUM1QixnQkFBZ0Isd0JBQXdCLFNBQVMsUUFBUSxxQkFDekQscUJBQXFCLE1BQU0sY0FDM0IsZUFBZSx1QkFBdUIsU0FBUyxRQUFRLG9CQUN2RCxlQUFlLE1BQU0sUUFDckIsU0FBUyxpQkFBaUIsU0FBUyxhQUFhO0FBRXBELFlBQUksQ0FBQyxLQUFLLFNBQVM7QUFDakIsaUJBQU87UUFDYjtBQUVJLFlBQUksSUFBSSxnQkFBZ0IsTUFBTTtBQUM5QixlQUFPLElBQUksV0FBVyxNQUFNLFdBQVcsWUFBWSxpQkFBaUIsc0JBQXNCLGVBQWUsWUFBWTtNQUN6SDtBQVNFLGFBQU8sWUFBWSxTQUFTLFlBQVk7QUFDdEMsZUFBTyxhQUFhLE1BQU0saUNBQWlDLEtBQUs7TUFDcEU7QUFXRSxhQUFPLFNBQVMsU0FBUyxTQUFTO0FBQ2hDLGVBQU8sYUFBYSxLQUFLLE1BQUssR0FBSSxpQ0FBaUM7TUFDdkU7QUFRRSxhQUFPLFlBQVksU0FBUyxZQUFZO0FBQ3RDLFlBQUksQ0FBQyxLQUFLLFNBQVM7QUFDakIsaUJBQU87UUFDYjtBQUVJLGVBQU8sV0FBVyxNQUFNLElBQUk7TUFDaEM7QUFlRSxhQUFPLFlBQVksU0FBUyxVQUFVLFFBQVE7QUFDNUMsWUFBSSxRQUFRLFdBQVcsU0FBUyxDQUFBLElBQUssUUFDakMsc0JBQXNCLE1BQU0sZUFDNUIsZ0JBQWdCLHdCQUF3QixTQUFTLE9BQU8scUJBQ3hELG9CQUFvQixNQUFNLGFBQzFCLGNBQWMsc0JBQXNCLFNBQVMsUUFBUSxtQkFDckQsd0JBQXdCLE1BQU0sb0JBQzlCLHFCQUFxQiwwQkFBMEIsU0FBUyxPQUFPO0FBRW5FLFlBQUksTUFBTTtBQUVWLFlBQUksZUFBZSxlQUFlO0FBQ2hDLGNBQUksb0JBQW9CO0FBQ3RCLG1CQUFPO1VBQ2Y7QUFFTSxjQUFJLGFBQWE7QUFDZixtQkFBTztVQUNmLFdBQWlCLGVBQWU7QUFDeEIsbUJBQU87VUFDZjtRQUNBO0FBRUksZUFBTyxhQUFhLE1BQU0sS0FBSyxJQUFJO01BQ3ZDO0FBZUUsYUFBTyxRQUFRLFNBQVMsTUFBTSxNQUFNO0FBQ2xDLFlBQUksU0FBUyxRQUFRO0FBQ25CLGlCQUFPLENBQUE7UUFDYjtBQUVJLFlBQUksQ0FBQyxLQUFLLFNBQVM7QUFDakIsaUJBQU87UUFDYjtBQUVJLGVBQU8sS0FBSyxVQUFTLElBQUssTUFBTSxLQUFLLFVBQVUsSUFBSTtNQUN2RDtBQU9FLGFBQU8sV0FBVyxTQUFTLFdBQVc7QUFDcEMsZUFBTyxLQUFLLFVBQVUsS0FBSyxNQUFLLElBQUs7TUFDekM7QUFPRSxhQUFPLFVBQVUsU0FBUyxVQUFVO0FBQ2xDLGVBQU8sS0FBSyxTQUFRO01BQ3hCO0FBT0UsYUFBTyxXQUFXLFNBQVMsV0FBVztBQUNwQyxlQUFPLEtBQUssVUFBVSxLQUFLLEtBQUs7TUFDcEM7QUFPRSxhQUFPLFlBQVksU0FBUyxZQUFZO0FBQ3RDLGVBQU8sS0FBSyxVQUFVLEtBQUssS0FBSyxNQUFPO01BQzNDO0FBT0UsYUFBTyxnQkFBZ0IsU0FBUyxnQkFBZ0I7QUFDOUMsZUFBTyxLQUFLLFVBQVUsS0FBSyxNQUFNLEtBQUssS0FBSyxHQUFJLElBQUk7TUFDdkQ7QUFPRSxhQUFPLFNBQVMsU0FBUyxTQUFTO0FBQ2hDLGVBQU8sS0FBSyxNQUFLO01BQ3JCO0FBT0UsYUFBTyxTQUFTLFNBQVMsU0FBUztBQUNoQyxlQUFPLEtBQUssU0FBUTtNQUN4QjtBQVVFLGFBQU8sV0FBVyxTQUFTLFNBQVMsTUFBTTtBQUN4QyxZQUFJLFNBQVMsUUFBUTtBQUNuQixpQkFBTyxDQUFBO1FBQ2I7QUFFSSxZQUFJLENBQUMsS0FBSztBQUFTLGlCQUFPLENBQUE7QUFFMUIsWUFBSSxPQUFPLFNBQVMsQ0FBQSxHQUFJLEtBQUssQ0FBQztBQUU5QixZQUFJLEtBQUssZUFBZTtBQUN0QixlQUFLLGlCQUFpQixLQUFLO0FBQzNCLGVBQUssa0JBQWtCLEtBQUssSUFBSTtBQUNoQyxlQUFLLFNBQVMsS0FBSyxJQUFJO1FBQzdCO0FBRUksZUFBTztNQUNYO0FBT0UsYUFBTyxXQUFXLFNBQVMsV0FBVztBQUNwQyxlQUFPLElBQUksS0FBSyxLQUFLLFVBQVUsS0FBSyxLQUFLLEdBQUc7TUFDaEQ7QUFtQkUsYUFBTyxPQUFPLFNBQVMsS0FBSyxlQUFlLE1BQU0sTUFBTTtBQUNyRCxZQUFJLFNBQVMsUUFBUTtBQUNuQixpQkFBTztRQUNiO0FBRUksWUFBSSxTQUFTLFFBQVE7QUFDbkIsaUJBQU8sQ0FBQTtRQUNiO0FBRUksWUFBSSxDQUFDLEtBQUssV0FBVyxDQUFDLGNBQWMsU0FBUztBQUMzQyxpQkFBTyxTQUFTLFFBQVEsd0NBQXdDO1FBQ3RFO0FBRUksWUFBSSxVQUFVLFNBQVM7VUFDckIsUUFBUSxLQUFLO1VBQ2IsaUJBQWlCLEtBQUs7UUFDNUIsR0FBTyxJQUFJO0FBRVAsWUFBSSxRQUFRLFdBQVcsSUFBSSxFQUFFLElBQUksU0FBUyxhQUFhLEdBQ25ELGVBQWUsY0FBYyxRQUFPLElBQUssS0FBSyxRQUFPLEdBQ3JELFVBQVUsZUFBZSxPQUFPLGVBQ2hDLFFBQVEsZUFBZSxnQkFBZ0IsTUFDdkMsU0FBUyxNQUFNLFNBQVMsT0FBTyxPQUFPLE9BQU87QUFFakQsZUFBTyxlQUFlLE9BQU8sT0FBTSxJQUFLO01BQzVDO0FBV0UsYUFBTyxVQUFVLFNBQVMsUUFBUSxNQUFNLE1BQU07QUFDNUMsWUFBSSxTQUFTLFFBQVE7QUFDbkIsaUJBQU87UUFDYjtBQUVJLFlBQUksU0FBUyxRQUFRO0FBQ25CLGlCQUFPLENBQUE7UUFDYjtBQUVJLGVBQU8sS0FBSyxLQUFLQSxVQUFTLElBQUcsR0FBSSxNQUFNLElBQUk7TUFDL0M7QUFRRSxhQUFPLFFBQVEsU0FBUyxNQUFNLGVBQWU7QUFDM0MsZUFBTyxLQUFLLFVBQVUsU0FBUyxjQUFjLE1BQU0sYUFBYSxJQUFJO01BQ3hFO0FBWUUsYUFBTyxVQUFVLFNBQVMsUUFBUSxlQUFlLE1BQU07QUFDckQsWUFBSSxDQUFDLEtBQUs7QUFBUyxpQkFBTztBQUMxQixZQUFJLFVBQVUsY0FBYyxRQUFPO0FBQ25DLFlBQUksaUJBQWlCLEtBQUssUUFBUSxjQUFjLE1BQU07VUFDcEQsZUFBZTtRQUNyQixDQUFLO0FBQ0QsZUFBTyxlQUFlLFFBQVEsSUFBSSxLQUFLLFdBQVcsV0FBVyxlQUFlLE1BQU0sSUFBSTtNQUMxRjtBQVVFLGFBQU8sU0FBUyxTQUFTLE9BQU8sT0FBTztBQUNyQyxlQUFPLEtBQUssV0FBVyxNQUFNLFdBQVcsS0FBSyxRQUFPLE1BQU8sTUFBTSxRQUFPLEtBQU0sS0FBSyxLQUFLLE9BQU8sTUFBTSxJQUFJLEtBQUssS0FBSyxJQUFJLE9BQU8sTUFBTSxHQUFHO01BQzNJO0FBcUJFLGFBQU8sYUFBYSxTQUFTLFdBQVcsU0FBUztBQUMvQyxZQUFJLFlBQVksUUFBUTtBQUN0QixvQkFBVSxDQUFBO1FBQ2hCO0FBRUksWUFBSSxDQUFDLEtBQUs7QUFBUyxpQkFBTztBQUMxQixZQUFJLE9BQU8sUUFBUSxRQUFRQSxVQUFTLFdBQVcsQ0FBQSxHQUFJO1VBQ2pELE1BQU0sS0FBSztRQUNqQixDQUFLLEdBQ0csVUFBVSxRQUFRLFVBQVUsT0FBTyxPQUFPLENBQUMsUUFBUSxVQUFVLFFBQVEsVUFBVTtBQUNuRixZQUFJLFFBQVEsQ0FBQyxTQUFTLFVBQVUsUUFBUSxTQUFTLFdBQVcsU0FBUztBQUNyRSxZQUFJLE9BQU8sUUFBUTtBQUVuQixZQUFJLE1BQU0sUUFBUSxRQUFRLElBQUksR0FBRztBQUMvQixrQkFBUSxRQUFRO0FBQ2hCLGlCQUFPO1FBQ2I7QUFFSSxlQUFPLGFBQWEsTUFBTSxLQUFLLEtBQUssT0FBTyxHQUFHLFNBQVMsQ0FBQSxHQUFJLFNBQVM7VUFDbEUsU0FBUztVQUNUO1VBQ0E7UUFDTixDQUFLLENBQUM7TUFDTjtBQWdCRSxhQUFPLHFCQUFxQixTQUFTLG1CQUFtQixTQUFTO0FBQy9ELFlBQUksWUFBWSxRQUFRO0FBQ3RCLG9CQUFVLENBQUE7UUFDaEI7QUFFSSxZQUFJLENBQUMsS0FBSztBQUFTLGlCQUFPO0FBQzFCLGVBQU8sYUFBYSxRQUFRLFFBQVFBLFVBQVMsV0FBVyxDQUFBLEdBQUk7VUFDMUQsTUFBTSxLQUFLO1FBQ2pCLENBQUssR0FBRyxNQUFNLFNBQVMsQ0FBQSxHQUFJLFNBQVM7VUFDOUIsU0FBUztVQUNULE9BQU8sQ0FBQyxTQUFTLFVBQVUsTUFBTTtVQUNqQyxXQUFXO1FBQ2pCLENBQUssQ0FBQztNQUNOO0FBUUUsTUFBQUEsVUFBUyxNQUFNLFNBQVMsTUFBTTtBQUM1QixpQkFBUyxPQUFPLFVBQVUsUUFBUSxZQUFZLElBQUksTUFBTSxJQUFJLEdBQUcsT0FBTyxHQUFHLE9BQU8sTUFBTSxRQUFRO0FBQzVGLG9CQUFVLFFBQVEsVUFBVTtRQUNsQztBQUVJLFlBQUksQ0FBQyxVQUFVLE1BQU1BLFVBQVMsVUFBVSxHQUFHO0FBQ3pDLGdCQUFNLElBQUkscUJBQXFCLHlDQUF5QztRQUM5RTtBQUVJLGVBQU8sT0FBTyxXQUFXLFNBQVUsR0FBRztBQUNwQyxpQkFBTyxFQUFFLFFBQU87UUFDdEIsR0FBTyxLQUFLLEdBQUc7TUFDZjtBQVFFLE1BQUFBLFVBQVMsTUFBTSxTQUFTLE1BQU07QUFDNUIsaUJBQVMsUUFBUSxVQUFVLFFBQVEsWUFBWSxJQUFJLE1BQU0sS0FBSyxHQUFHLFFBQVEsR0FBRyxRQUFRLE9BQU8sU0FBUztBQUNsRyxvQkFBVSxTQUFTLFVBQVU7UUFDbkM7QUFFSSxZQUFJLENBQUMsVUFBVSxNQUFNQSxVQUFTLFVBQVUsR0FBRztBQUN6QyxnQkFBTSxJQUFJLHFCQUFxQix5Q0FBeUM7UUFDOUU7QUFFSSxlQUFPLE9BQU8sV0FBVyxTQUFVLEdBQUc7QUFDcEMsaUJBQU8sRUFBRSxRQUFPO1FBQ3RCLEdBQU8sS0FBSyxHQUFHO01BQ2Y7QUFXRSxNQUFBQSxVQUFTLG9CQUFvQixTQUFTLGtCQUFrQnJCLE9BQU0sS0FBSyxTQUFTO0FBQzFFLFlBQUksWUFBWSxRQUFRO0FBQ3RCLG9CQUFVLENBQUE7UUFDaEI7QUFFSSxZQUFJLFdBQVcsU0FDWCxrQkFBa0IsU0FBUyxRQUMzQixTQUFTLG9CQUFvQixTQUFTLE9BQU8saUJBQzdDLHdCQUF3QixTQUFTLGlCQUNqQyxrQkFBa0IsMEJBQTBCLFNBQVMsT0FBTyx1QkFDNUQsY0FBYyxPQUFPLFNBQVM7VUFDaEM7VUFDQTtVQUNBLGFBQWE7UUFDbkIsQ0FBSztBQUNELGVBQU8sa0JBQWtCLGFBQWFBLE9BQU0sR0FBRztNQUNuRDtBQU1FLE1BQUFxQixVQUFTLG9CQUFvQixTQUFTLGtCQUFrQnJCLE9BQU0sS0FBSyxTQUFTO0FBQzFFLFlBQUksWUFBWSxRQUFRO0FBQ3RCLG9CQUFVLENBQUE7UUFDaEI7QUFFSSxlQUFPcUIsVUFBUyxrQkFBa0JyQixPQUFNLEtBQUssT0FBTztNQUN4RDtBQVFFLG1CQUFhcUIsV0FBVSxDQUFDO1FBQ3RCLEtBQUs7UUFDTCxLQUFLLFNBQVMsTUFBTTtBQUNsQixpQkFBTyxLQUFLLFlBQVk7UUFDOUI7TUFNQSxHQUFLO1FBQ0QsS0FBSztRQUNMLEtBQUssU0FBUyxNQUFNO0FBQ2xCLGlCQUFPLEtBQUssVUFBVSxLQUFLLFFBQVEsU0FBUztRQUNsRDtNQU1BLEdBQUs7UUFDRCxLQUFLO1FBQ0wsS0FBSyxTQUFTLE1BQU07QUFDbEIsaUJBQU8sS0FBSyxVQUFVLEtBQUssUUFBUSxjQUFjO1FBQ3ZEO01BT0EsR0FBSztRQUNELEtBQUs7UUFDTCxLQUFLLFNBQVMsTUFBTTtBQUNsQixpQkFBTyxLQUFLLFVBQVUsS0FBSyxJQUFJLFNBQVM7UUFDOUM7TUFPQSxHQUFLO1FBQ0QsS0FBSztRQUNMLEtBQUssU0FBUyxNQUFNO0FBQ2xCLGlCQUFPLEtBQUssVUFBVSxLQUFLLElBQUksa0JBQWtCO1FBQ3ZEO01BT0EsR0FBSztRQUNELEtBQUs7UUFDTCxLQUFLLFNBQVMsTUFBTTtBQUNsQixpQkFBTyxLQUFLLFVBQVUsS0FBSyxJQUFJLGlCQUFpQjtRQUN0RDtNQU1BLEdBQUs7UUFDRCxLQUFLO1FBQ0wsS0FBSyxTQUFTLE1BQU07QUFDbEIsaUJBQU8sS0FBSztRQUNsQjtNQU1BLEdBQUs7UUFDRCxLQUFLO1FBQ0wsS0FBSyxTQUFTLE1BQU07QUFDbEIsaUJBQU8sS0FBSyxVQUFVLEtBQUssS0FBSyxPQUFPO1FBQzdDO01BT0EsR0FBSztRQUNELEtBQUs7UUFDTCxLQUFLLFNBQVMsTUFBTTtBQUNsQixpQkFBTyxLQUFLLFVBQVUsS0FBSyxFQUFFLE9BQU87UUFDMUM7TUFPQSxHQUFLO1FBQ0QsS0FBSztRQUNMLEtBQUssU0FBUyxNQUFNO0FBQ2xCLGlCQUFPLEtBQUssVUFBVSxLQUFLLEtBQUssS0FBSyxFQUFFLFFBQVEsQ0FBQyxJQUFJO1FBQzFEO01BT0EsR0FBSztRQUNELEtBQUs7UUFDTCxLQUFLLFNBQVMsTUFBTTtBQUNsQixpQkFBTyxLQUFLLFVBQVUsS0FBSyxFQUFFLFFBQVE7UUFDM0M7TUFPQSxHQUFLO1FBQ0QsS0FBSztRQUNMLEtBQUssU0FBUyxNQUFNO0FBQ2xCLGlCQUFPLEtBQUssVUFBVSxLQUFLLEVBQUUsTUFBTTtRQUN6QztNQU9BLEdBQUs7UUFDRCxLQUFLO1FBQ0wsS0FBSyxTQUFTLE1BQU07QUFDbEIsaUJBQU8sS0FBSyxVQUFVLEtBQUssRUFBRSxPQUFPO1FBQzFDO01BT0EsR0FBSztRQUNELEtBQUs7UUFDTCxLQUFLLFNBQVMsTUFBTTtBQUNsQixpQkFBTyxLQUFLLFVBQVUsS0FBSyxFQUFFLFNBQVM7UUFDNUM7TUFPQSxHQUFLO1FBQ0QsS0FBSztRQUNMLEtBQUssU0FBUyxNQUFNO0FBQ2xCLGlCQUFPLEtBQUssVUFBVSxLQUFLLEVBQUUsU0FBUztRQUM1QztNQU9BLEdBQUs7UUFDRCxLQUFLO1FBQ0wsS0FBSyxTQUFTLE1BQU07QUFDbEIsaUJBQU8sS0FBSyxVQUFVLEtBQUssRUFBRSxjQUFjO1FBQ2pEO01BUUEsR0FBSztRQUNELEtBQUs7UUFDTCxLQUFLLFNBQVMsTUFBTTtBQUNsQixpQkFBTyxLQUFLLFVBQVUsdUJBQXVCLElBQUksRUFBRSxXQUFXO1FBQ3BFO01BUUEsR0FBSztRQUNELEtBQUs7UUFDTCxLQUFLLFNBQVMsTUFBTTtBQUNsQixpQkFBTyxLQUFLLFVBQVUsdUJBQXVCLElBQUksRUFBRSxhQUFhO1FBQ3RFO01BU0EsR0FBSztRQUNELEtBQUs7UUFDTCxLQUFLLFNBQVMsTUFBTTtBQUNsQixpQkFBTyxLQUFLLFVBQVUsdUJBQXVCLElBQUksRUFBRSxVQUFVO1FBQ25FO01BT0EsR0FBSztRQUNELEtBQUs7UUFDTCxLQUFLLFNBQVMsTUFBTTtBQUNsQixpQkFBTyxLQUFLLFVBQVUsbUJBQW1CLEtBQUssQ0FBQyxFQUFFLFVBQVU7UUFDakU7TUFRQSxHQUFLO1FBQ0QsS0FBSztRQUNMLEtBQUssU0FBUyxNQUFNO0FBQ2xCLGlCQUFPLEtBQUssVUFBVSxLQUFLLE9BQU8sU0FBUztZQUN6QyxRQUFRLEtBQUs7VUFDckIsQ0FBTyxFQUFFLEtBQUssUUFBUSxLQUFLO1FBQzNCO01BUUEsR0FBSztRQUNELEtBQUs7UUFDTCxLQUFLLFNBQVMsTUFBTTtBQUNsQixpQkFBTyxLQUFLLFVBQVUsS0FBSyxPQUFPLFFBQVE7WUFDeEMsUUFBUSxLQUFLO1VBQ3JCLENBQU8sRUFBRSxLQUFLLFFBQVEsS0FBSztRQUMzQjtNQVFBLEdBQUs7UUFDRCxLQUFLO1FBQ0wsS0FBSyxTQUFTLE1BQU07QUFDbEIsaUJBQU8sS0FBSyxVQUFVLEtBQUssU0FBUyxTQUFTO1lBQzNDLFFBQVEsS0FBSztVQUNyQixDQUFPLEVBQUUsS0FBSyxVQUFVLEtBQUs7UUFDN0I7TUFRQSxHQUFLO1FBQ0QsS0FBSztRQUNMLEtBQUssU0FBUyxNQUFNO0FBQ2xCLGlCQUFPLEtBQUssVUFBVSxLQUFLLFNBQVMsUUFBUTtZQUMxQyxRQUFRLEtBQUs7VUFDckIsQ0FBTyxFQUFFLEtBQUssVUFBVSxLQUFLO1FBQzdCO01BUUEsR0FBSztRQUNELEtBQUs7UUFDTCxLQUFLLFNBQVMsTUFBTTtBQUNsQixpQkFBTyxLQUFLLFVBQVUsQ0FBQyxLQUFLLElBQUk7UUFDdEM7TUFPQSxHQUFLO1FBQ0QsS0FBSztRQUNMLEtBQUssU0FBUyxNQUFNO0FBQ2xCLGNBQUksS0FBSyxTQUFTO0FBQ2hCLG1CQUFPLEtBQUssS0FBSyxXQUFXLEtBQUssSUFBSTtjQUNuQyxRQUFRO2NBQ1IsUUFBUSxLQUFLO1lBQ3ZCLENBQVM7VUFDVCxPQUFhO0FBQ0wsbUJBQU87VUFDZjtRQUNBO01BT0EsR0FBSztRQUNELEtBQUs7UUFDTCxLQUFLLFNBQVMsTUFBTTtBQUNsQixjQUFJLEtBQUssU0FBUztBQUNoQixtQkFBTyxLQUFLLEtBQUssV0FBVyxLQUFLLElBQUk7Y0FDbkMsUUFBUTtjQUNSLFFBQVEsS0FBSztZQUN2QixDQUFTO1VBQ1QsT0FBYTtBQUNMLG1CQUFPO1VBQ2Y7UUFDQTtNQU1BLEdBQUs7UUFDRCxLQUFLO1FBQ0wsS0FBSyxTQUFTLE1BQU07QUFDbEIsaUJBQU8sS0FBSyxVQUFVLEtBQUssS0FBSyxjQUFjO1FBQ3BEO01BTUEsR0FBSztRQUNELEtBQUs7UUFDTCxLQUFLLFNBQVMsTUFBTTtBQUNsQixjQUFJLEtBQUssZUFBZTtBQUN0QixtQkFBTztVQUNmLE9BQWE7QUFDTCxtQkFBTyxLQUFLLFNBQVMsS0FBSyxJQUFJO2NBQzVCLE9BQU87Y0FDUCxLQUFLO1lBQ2YsQ0FBUyxFQUFFLFVBQVUsS0FBSyxTQUFTLEtBQUssSUFBSTtjQUNsQyxPQUFPO1lBQ2pCLENBQVMsRUFBRTtVQUNYO1FBQ0E7TUFRQSxHQUFLO1FBQ0QsS0FBSztRQUNMLEtBQUssU0FBUyxNQUFNO0FBQ2xCLGlCQUFPLFdBQVcsS0FBSyxJQUFJO1FBQ2pDO01BUUEsR0FBSztRQUNELEtBQUs7UUFDTCxLQUFLLFNBQVMsTUFBTTtBQUNsQixpQkFBTyxZQUFZLEtBQUssTUFBTSxLQUFLLEtBQUs7UUFDOUM7TUFRQSxHQUFLO1FBQ0QsS0FBSztRQUNMLEtBQUssU0FBUyxNQUFNO0FBQ2xCLGlCQUFPLEtBQUssVUFBVSxXQUFXLEtBQUssSUFBSSxJQUFJO1FBQ3BEO01BU0EsR0FBSztRQUNELEtBQUs7UUFDTCxLQUFLLFNBQVMsTUFBTTtBQUNsQixpQkFBTyxLQUFLLFVBQVUsZ0JBQWdCLEtBQUssUUFBUSxJQUFJO1FBQzdEO01BQ0EsQ0FBRyxHQUFHLENBQUM7UUFDSCxLQUFLO1FBQ0wsS0FBSyxTQUFTLE1BQU07QUFDbEIsaUJBQU87UUFDYjtNQU1BLEdBQUs7UUFDRCxLQUFLO1FBQ0wsS0FBSyxTQUFTLE1BQU07QUFDbEIsaUJBQU87UUFDYjtNQU1BLEdBQUs7UUFDRCxLQUFLO1FBQ0wsS0FBSyxTQUFTLE1BQU07QUFDbEIsaUJBQU87UUFDYjtNQU1BLEdBQUs7UUFDRCxLQUFLO1FBQ0wsS0FBSyxTQUFTLE1BQU07QUFDbEIsaUJBQU87UUFDYjtNQU1BLEdBQUs7UUFDRCxLQUFLO1FBQ0wsS0FBSyxTQUFTLE1BQU07QUFDbEIsaUJBQU87UUFDYjtNQU1BLEdBQUs7UUFDRCxLQUFLO1FBQ0wsS0FBSyxTQUFTLE1BQU07QUFDbEIsaUJBQU87UUFDYjtNQU1BLEdBQUs7UUFDRCxLQUFLO1FBQ0wsS0FBSyxTQUFTLE1BQU07QUFDbEIsaUJBQU87UUFDYjtNQU1BLEdBQUs7UUFDRCxLQUFLO1FBQ0wsS0FBSyxTQUFTLE1BQU07QUFDbEIsaUJBQU87UUFDYjtNQU1BLEdBQUs7UUFDRCxLQUFLO1FBQ0wsS0FBSyxTQUFTLE1BQU07QUFDbEIsaUJBQU87UUFDYjtNQU1BLEdBQUs7UUFDRCxLQUFLO1FBQ0wsS0FBSyxTQUFTLE1BQU07QUFDbEIsaUJBQU87UUFDYjtNQU1BLEdBQUs7UUFDRCxLQUFLO1FBQ0wsS0FBSyxTQUFTLE1BQU07QUFDbEIsaUJBQU87UUFDYjtNQU1BLEdBQUs7UUFDRCxLQUFLO1FBQ0wsS0FBSyxTQUFTLE1BQU07QUFDbEIsaUJBQU87UUFDYjtNQU1BLEdBQUs7UUFDRCxLQUFLO1FBQ0wsS0FBSyxTQUFTLE1BQU07QUFDbEIsaUJBQU87UUFDYjtNQU1BLEdBQUs7UUFDRCxLQUFLO1FBQ0wsS0FBSyxTQUFTLE1BQU07QUFDbEIsaUJBQU87UUFDYjtNQU1BLEdBQUs7UUFDRCxLQUFLO1FBQ0wsS0FBSyxTQUFTLE1BQU07QUFDbEIsaUJBQU87UUFDYjtNQU1BLEdBQUs7UUFDRCxLQUFLO1FBQ0wsS0FBSyxTQUFTLE1BQU07QUFDbEIsaUJBQU87UUFDYjtNQU1BLEdBQUs7UUFDRCxLQUFLO1FBQ0wsS0FBSyxTQUFTLE1BQU07QUFDbEIsaUJBQU87UUFDYjtNQU1BLEdBQUs7UUFDRCxLQUFL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LEVBQUUsT0FBTyxFQUFDLENBQUU7TUFDcEMsS0FBS0EsV0FBUyxXQUFXLEVBQUUsT0FBTyxFQUFDLENBQUU7TUFFckMsT0FBT0EsV0FBUyxXQUFXLEVBQUUsUUFBUSxFQUFDLENBQUU7TUFDeEMsUUFBUUEsV0FBUyxXQUFXLEVBQUUsUUFBUSxFQUFDLENBQUU7TUFDekMsSUFBSUEsV0FBUyxXQUFXLEVBQUUsUUFBUSxFQUFDLENBQUU7TUFDckMsS0FBS0EsV0FBUyxXQUFXLEVBQUUsUUFBUSxFQUFDLENBQUU7TUFFdEMsTUFBTUEsV0FBUyxXQUFXLEVBQUUsT0FBTyxFQUFDLENBQUU7TUFDdEMsT0FBT0EsV0FBUyxXQUFXLEVBQUUsT0FBTyxFQUFDLENBQUU7TUFDdkMsSUFBSUEsV0FBUyxXQUFXLEVBQUUsT0FBTyxFQUFDLENBQUU7TUFDcEMsS0FBS0EsV0FBUyxXQUFXLEVBQUUsT0FBTyxFQUFDLENBQUU7TUFDckMsR0FBR0EsV0FBUyxXQUFXLEVBQUUsT0FBTyxFQUFDLENBQUU7TUFFbkMsS0FBS0EsV0FBUyxXQUFXLEVBQUUsTUFBTSxFQUFDLENBQUU7TUFDcEMsTUFBTUEsV0FBUyxXQUFXLEVBQUUsTUFBTSxFQUFDLENBQUU7TUFDckMsR0FBR0EsV0FBUyxXQUFXLEVBQUUsTUFBTSxFQUFDLENBQUU7TUFFbEMsTUFBTUEsV0FBUyxXQUFXLEVBQUUsT0FBTyxFQUFDLENBQUU7TUFDdEMsT0FBT0EsV0FBUyxXQUFXLEVBQUUsT0FBTyxFQUFDLENBQUU7TUFDdkMsSUFBSUEsV0FBUyxXQUFXLEVBQUUsT0FBTyxFQUFDLENBQUU7TUFDcEMsS0FBS0EsV0FBUyxXQUFXLEVBQUUsT0FBTyxFQUFDLENBQUU7TUFDckMsR0FBR0EsV0FBUyxXQUFXLEVBQUUsT0FBTyxFQUFDLENBQUU7TUFFbkMsUUFBUUEsV0FBUyxXQUFXLEVBQUUsU0FBUyxFQUFDLENBQUU7TUFDMUMsU0FBU0EsV0FBUyxXQUFXLEVBQUUsU0FBUyxFQUFDLENBQUU7TUFDM0MsS0FBS0EsV0FBUyxXQUFXLEVBQUUsU0FBUyxFQUFDLENB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QkFBaUIsSUFBSSxJQUFJLFlBQVksaUJBQWlCLElBQUksQ0FBQztBQUV0RyxVQUFNLFdBQVcsS0FBSyxJQUFJLE1BQU0saUJBQWlCO0FBQ2pELFVBQU0sUUFBaUIsQ0FBQztBQUN4QixlQUFXLFFBQVEsVUFBVTtBQUU1QixVQUFJLGdCQUFnQjtBQUNuQixZQUFJLGlCQUFpQixLQUFLLElBQUksTUFBTSxtQkFBbUI7QUFDdEQsZ0JBQU0sS0FBSyxJQUFJO0FBQUEsUUFDaEI7QUFBQSxNQUNELE9BQU87QUFDTixZQUFJLFlBQVksaUJBQWlCLEtBQUssSUFBSSxDQUFDLE1BQU0sbUJBQW1CO0FBQ25FLGdCQUFNLEtBQUssSUFBSTtBQUFBLFFBQ2hCO0FBQUEsTUFDRDtBQUFBLElBQ0Q7QUFFQSxXQUFPO0FBQUEsRUFDUjtBQUFBLEVBRU0sZUFBOEI7QUFBQTtBQUNuQyxXQUFLLFdBQVcsT0FBTyxPQUFPLENBQUMsR0FBRyxrQkFBa0IsTUFBTSxLQUFLLFNBQVMsQ0FBQztBQUFBLElBQzFFO0FBQUE7QUFBQSxFQUVNLGVBQThCO0FBQUE7QUFDbkMsaUJBQVcsYUFBYSxLQUFLLFNBQVM7QUFDdEMsa0NBQTRCLGVBQWUsS0FBSyxTQUFTLGNBQWM7QUFDdkUsWUFBTSxLQUFLLFNBQVMsS0FBSyxRQUFRO0FBQUEsSUFDbEM7QUFBQTtBQUNEOyIsCiAgIm5hbWVzIjogWyJfZ2V0UHJvdG90eXBlT2YiLCAibyIsICJfc2V0UHJvdG90eXBlT2YiLCAicCIsICJfY29uc3RydWN0IiwgIlBhcmVudCIsICJhcmdzIiwgIkNsYXNzIiwgImluc3RhbmNlIiwgIl93cmFwTmF0aXZlU3VwZXIiLCAibiIsICJMdXhvbkVycm9yIiwgIkludmFsaWREYXRlVGltZUVycm9yIiwgIkludmFsaWRJbnRlcnZhbEVycm9yIiwgIkludmFsaWREdXJhdGlvbkVycm9yIiwgIkNvbmZsaWN0aW5nU3BlY2lmaWNhdGlvbkVycm9yIiwgIkludmFsaWRVbml0RXJyb3IiLCAiSW52YWxpZEFyZ3VtZW50RXJyb3IiLCAiWm9uZUlzQWJzdHJhY3RFcnJvciIsICJvZmZzZXQiLCAicyIsICJGb3JtYXR0ZXIiLCAic3RyaW5nIiwgImZvcm1hdE9mZnNldCIsICJtZXJpZGllbSIsICJtb250aCIsICJ3ZWVrZGF5IiwgIm1heWJlTWFjcm8iLCAiZXJhIiwgInRva2VuVG9TdHJpbmciLCAidG9rZW5Ub0ZpZWxkIiwgIkludmFsaWQiLCAiWm9uZSIsICJTeXN0ZW1ab25lIiwgIklBTkFab25lIiwgIkZpeGVkT2Zmc2V0Wm9uZSIsICJJbnZhbGlkWm9uZSIsICJkZWZhdWx0Wm9uZSIsICJub3ciLCAiU2V0dGluZ3MiLCAiUG9seU51bWJlckZvcm1hdHRlciIsICJQb2x5RGF0ZUZvcm1hdHRlciIsICJQb2x5UmVsRm9ybWF0dGVyIiwgIkxvY2FsZSIsICJjbG9uZSIsICJtYXRjaCIsICJtYXliZU5lZ2F0ZSIsICJEdXJhdGlvbiIsICJ0ZXh0IiwgImludmFsaWQiLCAibm9ybWFsaXplVW5pdCIsICJsIiwgIkludGVydmFsIiwgImUiLCAiaSIsICJJbmZvIiwgIm1vbnRocyIsICJ3ZWVrZGF5cyIsICJtZXJpZGllbXMiLCAiZXJhcyIsICJ1dGNEYXlTdGFydCIsICJhcHBlbmQiLCAicG9zdCIsICJsaXRlcmFsIiwgInVuaXRhdGUiLCAidG9GaWVsZCIsICJmb3JtYXQiLCAidW5pdCIsICJkaWZmZXIiLCAiRGF0ZVRpbWUiLCAiUmVzdWx0IiwgIm1vZHVsZSIsICJ0aGlzIiwgInQiLCAiciIsICJ1IiwgImEiLCAiZiIsICJjIiwgImgiLCAiZCIsICJ2IiwgImciLCAibSIsICJQLmFsdCIsICJQLnJlZ2V4IiwgIlAud2hpdGVzcGFjZSIsICJQLmFueSIsICJWYWx1ZXMiLCAiaXNOdW1iZXIiLCAiaXNTdHJpbmciLCAiaXNEYXRlIiwgImlzVHJ1dGh5IiwgIkdyb3VwaW5ncyIsICJlbGVtZW50IiwgIldpZGdldHMiLCAiRmllbGRzIiwgImluZGV4IiwgImZ1bmMiLCAiU291cmNlcyIsICJ0YWciLCAiZW1wdHkiLCAiUC5zZXFNYXAiLCAiUC5zZXEiLCAiUC5vcHRXaGl0ZXNwYWNlIiwgIlAuY3VzdG9tIiwgIlAuY3JlYXRlTGFuZ3VhZ2UiLCAiUC5yZWdleHAiLCAiUC5zdHJpbmciLCAiUC5ub25lT2YiLCAiXyIsICJQLnN1Y2NlZWQiLCAiUC5mYWlsIiwgIlF1ZXJ5RmllbGRzIiwgIlAuc2VwQnkiLCAiZ2V0QVBJIiwgInRyYXZlcnNlT2JqZWN0IiwgIkludGVybmFsIiwgInVwZGF0ZU9ySW5zZXJ0RmllbGRJblRGaWxlIiwgImdldEZyb250bWF0dGVyT2ZURmlsZSIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgIklucHV0RmllbGRUeXBlIiwgIklucHV0RmllbGRBcmd1bWVudFR5cGUiLCAiaW1wb3J0X29ic2lkaWFuIiwgImVsZW1lbnQiLCAiZWxlbWVudCIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJlbGVtZW50IiwgInRleHQiLCAiZWxlbWVudCIsICJkZXRhY2giLCAiY3JlYXRlX2VhY2hfYmxvY2siLCAiaW5zZXJ0IiwgImluc3RhbmNlIiwgImNyZWF0ZV9mcmFnbWVudCIsICJhcHBlbmRfc3R5bGVzIiwgImF0dHIiLCAiaW1wb3J0X29ic2lkaWFuIiwgImN0eCIsICJjdHgiLCAiY3R4IiwgImNyZWF0ZV9pZl9ibG9jayIsICJpbXBvcnRfb2JzaWRpYW4iLCAiY3R4IiwgImNyZWF0ZV9pZl9ibG9jayIsICJjdHgiLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9VdGlscyIsICJJbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZCIsICJ2YWxpZGF0ZU9iamVjdFBhdGgiLCAiaW1wb3J0X1V0aWxzIiwgImVsZW1lbnQiLCAidGV4dCIsICJJbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZCJdCn0K
