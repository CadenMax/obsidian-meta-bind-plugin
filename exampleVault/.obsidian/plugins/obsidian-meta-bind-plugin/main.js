/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod2) => __copyProps(__defProp({}, "__esModule", { value: true }), mod2);
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => MetaBindPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian9 = require("obsidian");

// src/settings/Settings.ts
var import_obsidian = require("obsidian");

// src/parsers/DateParser.ts
var Date = class {
  constructor() {
    this._monthMap = {
      1: "January",
      2: "February",
      3: "March",
      4: "April",
      5: "May",
      6: "June",
      7: "July",
      8: "August",
      9: "September",
      10: "October",
      11: "November",
      12: "December"
    };
    this._monthMapShort = {
      1: "Jan",
      2: "Feb",
      3: "Mar",
      4: "Apr",
      5: "May",
      6: "Jun",
      7: "Jul",
      8: "Aug",
      9: "Sep",
      10: "Oct",
      11: "Nov",
      12: "Dec"
    };
    this.setDay(DateParser.getDefaultDay());
    this.setMonth(DateParser.getDefaultMonth());
    this.setYear(DateParser.getDefaultYear());
  }
  getDay() {
    return this._day;
  }
  setDay(value) {
    if (value < 1 || value > 31) {
      return;
    }
    this._day = value;
  }
  getMonth() {
    return this._month;
  }
  setMonth(value) {
    if (value < 1 || value > 12) {
      return;
    }
    this._month = value;
  }
  getYear() {
    return this._year;
  }
  setYear(value) {
    this._year = value;
  }
  getUniformDay() {
    return ("00" + this.getDay().toString()).slice(-2);
  }
  getUniformMonth() {
    return ("00" + this.getMonth().toString()).slice(-2);
  }
  getUniformYear() {
    return ("0000" + this.getYear().toString()).slice(-4);
  }
  setDayFromString(str) {
    let v = Number.parseInt(str);
    this.setDay(Number.isNaN(v) ? DateParser.getDefaultDay() : v);
  }
  setMonthFromString(str) {
    let v = Number.parseInt(str);
    this.setMonth(Number.isNaN(v) ? DateParser.getDefaultMonth() : v);
  }
  setYearFromString(str) {
    let v = Number.parseInt(str);
    this.setYear(Number.isNaN(v) ? DateParser.getDefaultYear() : v);
  }
  getMonthName() {
    return this._monthMap[this.getMonth()];
  }
  getMonthNameShort() {
    return this._monthMapShort[this.getMonth()];
  }
  setMonthFromName(name) {
    for (const [key, value] of Object.entries(this._monthMap)) {
      if (value === name) {
        this.setMonthFromString(key);
        return;
      }
    }
    for (const [key, value] of Object.entries(this._monthMapShort)) {
      if (value === name) {
        this.setMonthFromString(key);
        return;
      }
    }
  }
};
var DateParser = class {
  static stringify(date) {
    if (DateParser.dateFormat === "us" /* US */) {
      return DateParser.stringifyUsDate(date);
    } else if (DateParser.dateFormat === "eu" /* EU */) {
      return DateParser.stringifyEuDate(date);
    } else if (DateParser.dateFormat === "f_us" /* FANCY_US */) {
      return DateParser.stringifyUsFancyDate(date);
    } else if (DateParser.dateFormat === "fs_us" /* FANCY_SHORT_US */) {
      return DateParser.stringifyUsFancyDateShort(date);
    }
  }
  static parse(dateString) {
    if (DateParser.dateFormat === "us" /* US */) {
      return DateParser.parseUsDate(dateString);
    } else if (DateParser.dateFormat === "eu" /* EU */) {
      return DateParser.parseEuDate(dateString);
    } else if (DateParser.dateFormat === "f_us" /* FANCY_US */) {
      return DateParser.parseUsFancyDate(dateString);
    } else if (DateParser.dateFormat === "fs_us" /* FANCY_SHORT_US */) {
      return DateParser.parseUsFancyDate(dateString);
    }
  }
  static stringifyEuDate(date) {
    return `${date.getUniformDay()}/${date.getUniformMonth()}/${date.getUniformYear()}`;
  }
  static parseEuDate(dateString) {
    const date = DateParser.getDefaultDate();
    const dateParts = dateString.split("/");
    if (dateParts.length !== 3) {
      return null;
    }
    date.setDayFromString(dateParts[0]);
    date.setMonthFromString(dateParts[1]);
    date.setYearFromString(dateParts[2]);
    return date;
  }
  static stringifyUsDate(date) {
    return `${date.getUniformMonth()}/${date.getUniformDay()}/${date.getUniformYear()}`;
  }
  static parseUsDate(dateString) {
    const date = DateParser.getDefaultDate();
    const dateParts = dateString.split("/");
    if (dateParts.length !== 3) {
      return null;
    }
    date.setMonthFromString(dateParts[0]);
    date.setDayFromString(dateParts[1]);
    date.setYearFromString(dateParts[2]);
    return date;
  }
  static stringifyUsFancyDate(date) {
    return `${date.getMonthName()} ${date.getDay().toString()}, ${date.getYear().toString()}`;
  }
  static stringifyUsFancyDateShort(date) {
    return `${date.getMonthNameShort()} ${date.getDay().toString()}, ${date.getYear().toString()}`;
  }
  static parseUsFancyDate(dateString) {
    const date = DateParser.getDefaultDate();
    const dateParts = dateString.split(",").map((x) => x.trim());
    if (dateParts.length !== 2) {
      return null;
    }
    const datePartsParts = dateParts[0].split(" ");
    if (datePartsParts.length !== 2) {
      return null;
    }
    date.setMonthFromName(datePartsParts[0]);
    date.setDayFromString(datePartsParts[1]);
    date.setYearFromString(dateParts[1]);
    return date;
  }
  static getDefaultDate() {
    return new Date();
  }
  static getDefaultDay() {
    return 1;
  }
  static getDefaultMonth() {
    return 1;
  }
  static getDefaultYear() {
    return 2022;
  }
};

// src/settings/Settings.ts
var DEFAULT_SETTINGS = {
  devMode: false,
  dateFormat: "us" /* US */,
  syncInterval: 200,
  minSyncInterval: 50,
  maxSyncInterval: 1e3
};
var MetaBindSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Meta Bind Plugin Settings" });
    new import_obsidian.Setting(containerEl).setName("Sync Interval").setDesc(`The interval in milli-seconds between disk writes. Changing this number is not recommended except if your hard drive is exceptionally slow. Standard: ${DEFAULT_SETTINGS.syncInterval}; Minimum: ${DEFAULT_SETTINGS.minSyncInterval}; Maximum: ${DEFAULT_SETTINGS.maxSyncInterval}`).addText((cb) => {
      cb.setValue(this.plugin.settings.syncInterval.toString());
      cb.onChange((data) => {
        this.plugin.settings.syncInterval = Number.parseInt(data);
        if (Number.isNaN(this.plugin.settings.syncInterval)) {
          this.plugin.settings.syncInterval = DEFAULT_SETTINGS.syncInterval;
        }
        if (this.plugin.settings.syncInterval < DEFAULT_SETTINGS.minSyncInterval) {
          this.plugin.settings.syncInterval = DEFAULT_SETTINGS.minSyncInterval;
        }
        if (this.plugin.settings.syncInterval > DEFAULT_SETTINGS.maxSyncInterval) {
          this.plugin.settings.syncInterval = DEFAULT_SETTINGS.maxSyncInterval;
        }
        this.plugin.saveSettings();
      });
    });
    new import_obsidian.Setting(containerEl).setName("Date format").setDesc(`The date format to be used by this plugin.`).addDropdown((cb) => {
      cb.addOptions({
        "us": "US date format (1/30/2022)",
        "eu": "EU date format (30/1/2022)",
        "f_us": "US date format (January 30, 2022)",
        "fs_us": "US date format (Jan 30, 2022)"
      });
      cb.onChange((data) => {
        this.plugin.settings.dateFormat = data;
        this.plugin.saveSettings();
      });
    });
    new import_obsidian.Setting(containerEl).setName("Dev Mode").setDesc("Enable dev mode. Not recommended unless you want to debug this plugin.").addToggle((cb) => {
      cb.setValue(this.plugin.settings.devMode);
      cb.onChange((data) => {
        this.plugin.settings.devMode = data;
        this.plugin.saveSettings();
      });
    });
  }
};

// src/InputFieldMarkdownRenderChild.ts
var import_obsidian8 = require("obsidian");

// src/utils/Logger.ts
var _Logger = class {
  static log(...data) {
    console.log(this.prefix, ...data);
  }
  static logDebug(...data) {
    if (this.devMode) {
      _Logger.log(...data);
    }
  }
  static logWarning(...data) {
    console.warn(this.prefix, data);
  }
  static logError(...data) {
    console.error(this.prefix, data);
  }
};
var Logger = _Logger;
Logger.prefix = "meta-bind |";

// src/inputFields/AbstractInputField.ts
var AbstractInputField = class {
  constructor(inputFieldMarkdownRenderChild, onValueChange) {
    this.inputFieldMarkdownRenderChild = inputFieldMarkdownRenderChild;
    this.onValueChange = onValueChange;
  }
};
AbstractInputField.allowCodeBlock = true;
AbstractInputField.allowInlineCodeBlock = true;

// src/inputFields/ToggleInputField.ts
var import_obsidian2 = require("obsidian");
var ToggleInputField = class extends AbstractInputField {
  getValue() {
    return this.toggleComponent.getValue();
  }
  setValue(value) {
    if (value != null && typeof value == "boolean") {
      this.toggleComponent.setValue(value);
    } else {
      Logger.logWarning(`can not set value of toggle to '${value}'`);
      this.toggleComponent.setValue(false);
    }
  }
  isEqualValue(value) {
    return this.getValue() == value;
  }
  getDefaultValue() {
    return false;
  }
  getHtmlElement() {
    return this.toggleComponent.toggleEl;
  }
  render(container) {
    const component = new import_obsidian2.ToggleComponent(container);
    component.setValue(this.inputFieldMarkdownRenderChild.getInitialValue());
    component.onChange(this.onValueChange);
    this.toggleComponent = component;
  }
};

// src/inputFields/TextInputField.ts
var import_obsidian3 = require("obsidian");
var TextInputField = class extends AbstractInputField {
  getValue() {
    return this.textComponent.getValue();
  }
  setValue(value) {
    if (value != null && typeof value == "string") {
      this.textComponent.setValue(value);
    } else {
      Logger.logWarning(`can not set value of text input to '${value}'`);
      this.textComponent.setValue("");
    }
  }
  isEqualValue(value) {
    return this.getValue() == value;
  }
  getDefaultValue() {
    return "";
  }
  getHtmlElement() {
    return this.textComponent.inputEl;
  }
  render(container) {
    const component = new import_obsidian3.TextComponent(container);
    component.setValue(this.inputFieldMarkdownRenderChild.getInitialValue());
    component.onChange(this.onValueChange);
    this.textComponent = component;
  }
};

// src/inputFields/SliderInputField.ts
var import_obsidian4 = require("obsidian");
var SliderInputField = class extends AbstractInputField {
  constructor(inputFieldMarkdownRenderChild, onValueChange) {
    var _a, _b, _c, _d;
    super(inputFieldMarkdownRenderChild, onValueChange);
    this.minValue = (_b = (_a = inputFieldMarkdownRenderChild.getArgument("minValue")) == null ? void 0 : _a.value) != null ? _b : 0;
    this.maxValue = (_d = (_c = inputFieldMarkdownRenderChild.getArgument("maxValue")) == null ? void 0 : _c.value) != null ? _d : 100;
  }
  getValue() {
    return this.sliderComponent.getValue();
  }
  setValue(value) {
    if (value != null && typeof value == "number") {
      if (value >= this.minValue && value <= this.maxValue) {
        this.sliderComponent.setValue(value);
      }
    } else {
      Logger.logWarning(`can not set value of slider to '${value}'`);
      this.sliderComponent.setValue(this.getDefaultValue());
    }
  }
  isEqualValue(value) {
    return this.getValue() == value;
  }
  getDefaultValue() {
    return this.minValue;
  }
  getHtmlElement() {
    return this.sliderComponent.sliderEl;
  }
  render(container) {
    container.removeClass("meta-bind-plugin-input-wrapper");
    container.addClass("meta-bind-plugin-flex-input-wrapper");
    let labelArgument = this.inputFieldMarkdownRenderChild.getArgument("labels");
    if (labelArgument && labelArgument.value === true) {
      container.createSpan({ text: this.minValue.toString(), cls: "meta-bind-plugin-slider-input-label" });
    }
    const component = new import_obsidian4.SliderComponent(container);
    component.setValue(this.inputFieldMarkdownRenderChild.getInitialValue());
    component.onChange(this.onValueChange);
    component.setDynamicTooltip();
    component.setLimits(this.minValue, this.maxValue, 1);
    component.sliderEl.addClass("meta-bind-plugin-slider-input");
    if (labelArgument && labelArgument.value === true) {
      container.createSpan({ text: this.maxValue.toString(), cls: "meta-bind-plugin-slider-input-label" });
    }
    this.sliderComponent = component;
  }
};

// src/inputFields/TextAreaInputField.ts
var import_obsidian5 = require("obsidian");
var TextAreaInputField = class extends AbstractInputField {
  getValue() {
    return this.textAreaComponent.getValue();
  }
  setValue(value) {
    if (value != null && typeof value == "string") {
      this.textAreaComponent.setValue(value);
    } else {
      Logger.logWarning(`can not set value of text area input to '${value}'`);
      this.textAreaComponent.setValue("");
    }
  }
  isEqualValue(value) {
    return this.getValue() == value;
  }
  getDefaultValue() {
    return "";
  }
  getHtmlElement() {
    return this.textAreaComponent.inputEl;
  }
  render(container) {
    const component = new import_obsidian5.TextAreaComponent(container);
    component.setValue(this.inputFieldMarkdownRenderChild.getInitialValue());
    component.onChange(this.onValueChange);
    this.textAreaComponent = component;
  }
};

// src/inputFields/SelectInputFieldElement.ts
var SelectInputFieldElement = class {
  constructor(value, parentElement, id, multiSelectInputField, active = false) {
    this.value = value;
    this.id = id;
    this.active = active;
    this.selectInputField = multiSelectInputField;
    this.cssClass = "meta-bind-plugin-select-input-element";
    this.activeClass = "meta-bind-plugin-select-input-element-selected";
    this.hoverClass = "meta-bind-plugin-select-input-element-hover";
    this.element = parentElement.createDiv({ cls: this.cssClass });
    this.element.id = this.getHTMLId();
    this.element.on("click", "#" + this.getHTMLId(), () => {
      this.setActive(!this.active);
      if (!this.selectInputField.allowMultiSelect) {
        this.selectInputField.disableAllOtherElements(this.id);
      }
    });
    this.element.on("mouseenter", "#" + this.getHTMLId(), () => {
      this.setHighlighted(true);
    });
    this.element.on("mouseleave", "#" + this.getHTMLId(), () => {
      this.setHighlighted(false);
    });
  }
  getHTMLId() {
    return `meta-bind-select-input-element-${this.selectInputField.inputFieldMarkdownRenderChild.uid}-${this.id}`;
  }
  isHighlighted() {
    return this.highlighted;
  }
  setHighlighted(value) {
    this.highlighted = value;
    if (this.highlighted) {
      this.addClass(this.hoverClass);
      this.selectInputField.deHighlightAllOtherElements(this.id);
    } else {
      this.removeClass(this.hoverClass);
    }
  }
  isActive() {
    return this.active;
  }
  setActive(active, updateParent = true) {
    this.active = active;
    this.update(updateParent);
  }
  update(updateParent) {
    if (this.active) {
      this.addClass(this.activeClass);
    } else {
      this.removeClass(this.activeClass);
    }
    if (updateParent) {
      this.selectInputField.onChange();
    }
  }
  addClass(cssClass) {
    if (!this.element.hasClass(cssClass)) {
      this.element.addClass(cssClass);
    }
  }
  removeClass(cssClass) {
    if (this.element.hasClass(cssClass)) {
      this.element.removeClass(cssClass);
    }
  }
  render() {
    this.element.createEl("div", { text: this.value });
  }
};

// src/utils/Utils.ts
var MetaBindInternalError = class extends Error {
  constructor(message) {
    super(`[MB_INTERNAL_ERROR - please report this error here https://github.com/mProjectsCode/obsidian-meta-bind-plugin/issues] ${message}`);
  }
};
var MetaBindParsingError = class extends Error {
  constructor(message) {
    super(`[MB_PARSING_ERROR] ${message}`);
  }
};
var MetaBindBindTargetError = class extends Error {
  constructor(message) {
    super(`[MB_BIND_TARGET_ERROR] ${message}`);
  }
};
function getFileName(path) {
  return path.split("/").at(-1);
}
function isPath(path) {
  return path.split("/").length > 1;
}
function removeFileEnding(fileName) {
  const fileNameParts = fileName.split(".");
  if (fileNameParts.length === 1) {
    return fileName;
  } else {
    let newFileName = fileNameParts[0];
    for (let i = 1; i < fileNameParts.length - 1; i++) {
      newFileName += "." + fileNameParts[i];
    }
    return newFileName;
  }
}
function mod(n, m) {
  return (n % m + m) % m;
}
function arrayEquals(arr1, arr2) {
  if (arr1.length !== arr2.length) {
    return false;
  }
  for (const arr1Element of arr1) {
    if (!arr2.contains(arr1Element)) {
      return false;
    }
  }
  return true;
}
function isTruthy(value) {
  return !!value;
}
function isFalsy(value) {
  return !value;
}
function equalOrIncludes(str1, str2) {
  return str1 === str2 || str1.includes(str2) || str2.includes(str1);
}

// src/inputFields/SelectInputField.ts
var SelectInputField = class extends AbstractInputField {
  constructor(inputFieldMarkdownRenderChild, onValueChange) {
    super(inputFieldMarkdownRenderChild, onValueChange);
    this.elements = [];
    this.allowMultiSelect = false;
  }
  getHtmlElement() {
    return this.container;
  }
  getValue() {
    var _a, _b;
    return (_b = (_a = this.elements.filter((x) => x.isActive()).first()) == null ? void 0 : _a.value) != null ? _b : "";
  }
  setValue(value) {
    for (const element of this.elements) {
      if (value === element.value) {
        element.setActive(true, false);
      } else {
        element.setActive(false, false);
      }
    }
  }
  isEqualValue(value) {
    return this.getValue() == value;
  }
  getDefaultValue() {
    return "";
  }
  onChange() {
    this.onValueChange(this.getValue());
  }
  render(container) {
    container.addClass("meta-bind-plugin-select-input-bg");
    this.container = container;
    const elementWrapper = container.createDiv({ cls: "meta-bind-plugin-select-input-wrapper" });
    const titleArgument = this.inputFieldMarkdownRenderChild.getArgument("title");
    if (titleArgument) {
      elementWrapper.createEl("div", { text: titleArgument.value, cls: "meta-bind-plugin-select-input-header" });
    }
    const elementArguments = this.inputFieldMarkdownRenderChild.getArguments("option");
    let i = 0;
    for (const elementArgument of elementArguments) {
      const selectInputFieldElement = new SelectInputFieldElement(elementArgument.value, elementWrapper, i, this, false);
      this.elements.push(selectInputFieldElement);
      selectInputFieldElement.render();
      i += 1;
    }
    this.setValue(this.inputFieldMarkdownRenderChild.getInitialValue());
  }
  disableAllOtherElements(elementId) {
    for (const selectModalElement of this.elements) {
      if (selectModalElement.id !== elementId) {
        selectModalElement.setActive(false);
      }
    }
  }
  deHighlightAllOtherElements(elementId) {
    for (const selectModalElement of this.elements) {
      if (selectModalElement.id !== elementId) {
        selectModalElement.setHighlighted(false);
      }
    }
  }
  activateHighlighted() {
    for (const selectModalElement of this.elements) {
      if (selectModalElement.isHighlighted()) {
        selectModalElement.setActive(!selectModalElement.isActive());
        if (!this.allowMultiSelect) {
          this.disableAllOtherElements(selectModalElement.id);
        }
      }
    }
  }
  highlightUp() {
    for (const selectModalElement of this.elements) {
      if (selectModalElement.isHighlighted()) {
        this.getPreviousSelectModalElement(selectModalElement).setHighlighted(true);
        return;
      }
    }
    this.elements.last().setHighlighted(true);
  }
  highlightDown() {
    for (const selectModalElement of this.elements) {
      if (selectModalElement.isHighlighted()) {
        this.getNextSelectModalElement(selectModalElement).setHighlighted(true);
        return;
      }
    }
    this.elements.first().setHighlighted(true);
  }
  getNextSelectModalElement(element) {
    let nextId = element.id + 1;
    nextId = mod(nextId, this.elements.length);
    return this.elements.filter((x) => x.id === nextId).first();
  }
  getPreviousSelectModalElement(element) {
    let nextId = element.id - 1;
    nextId = mod(nextId, this.elements.length);
    return this.elements.filter((x) => x.id === nextId).first();
  }
};
SelectInputField.allowInlineCodeBlock = false;

// src/inputFields/MultiSelectInputField.ts
var MultiSelectInputField = class extends SelectInputField {
  constructor(inputFieldMarkdownRenderChild, onValueChange) {
    super(inputFieldMarkdownRenderChild, onValueChange);
    this.allowMultiSelect = true;
  }
  getValue() {
    return this.elements.filter((x) => x.isActive()).map((x) => x.value);
  }
  setValue(value) {
    if (value.length === 0) {
      for (const element of this.elements) {
        element.setActive(false, false);
      }
      return;
    }
    elementLoop:
      for (const element of this.elements) {
        for (const valueElement of value) {
          if (valueElement === element.value) {
            element.setActive(true, false);
            continue elementLoop;
          }
        }
        element.setActive(false, false);
      }
  }
  isEqualValue(value) {
    if (!Array.isArray(value)) {
      return false;
    }
    return arrayEquals(this.getValue(), value);
  }
  getDefaultValue() {
    return [];
  }
};

// src/inputFields/DateInputField.ts
var import_obsidian6 = require("obsidian");
var DateInputField = class extends AbstractInputField {
  constructor(inputFieldMarkdownRenderChild, onValueChange) {
    super(inputFieldMarkdownRenderChild, onValueChange);
    this.months = {
      "1": "January",
      "2": "February",
      "3": "March",
      "4": "April",
      "5": "May",
      "6": "June",
      "7": "July",
      "8": "August",
      "9": "September",
      "10": "October",
      "11": "November",
      "12": "December"
    };
    this.days = {};
    for (let i = 1; i <= 31; i++) {
      this.days[i.toString()] = i.toString();
    }
  }
  getHtmlElement() {
    return this.container;
  }
  getValue() {
    return DateParser.stringify(this.date);
  }
  setValue(value) {
    this.date = DateParser.parse(value);
    this.monthComponent.setValue(this.date.getMonth().toString());
    this.dayComponent.setValue(this.date.getDay().toString());
    this.yearComponent.setValue(this.date.getYear().toString());
  }
  isEqualValue(value) {
    return value == this.getValue();
  }
  getDefaultValue() {
    return DateParser.stringify(DateParser.getDefaultDate());
  }
  render(container) {
    var _a;
    this.date = (_a = DateParser.parse(this.inputFieldMarkdownRenderChild.getInitialValue())) != null ? _a : DateParser.getDefaultDate();
    container.removeClass("meta-bind-plugin-input-wrapper");
    container.addClass("meta-bind-plugin-flex-input-wrapper", "meta-bind-plugin-input-element-group");
    if (DateParser.dateFormat === "eu" /* EU */) {
      this.dayComponent = new import_obsidian6.DropdownComponent(container);
      this.dayComponent.addOptions(this.days);
      this.dayComponent.setValue(this.date.getDay().toString());
      this.dayComponent.onChange(this.onDayChange.bind(this));
      this.monthComponent = new import_obsidian6.DropdownComponent(container);
      this.monthComponent.addOptions(this.months);
      this.monthComponent.setValue(this.date.getMonth().toString());
      this.monthComponent.onChange(this.onMonthChange.bind(this));
      this.dayComponent.selectEl.addClass("meta-bind-plugin-input-element-group-element");
      this.monthComponent.selectEl.addClass("meta-bind-plugin-input-element-group-element");
    } else {
      this.monthComponent = new import_obsidian6.DropdownComponent(container);
      this.monthComponent.addOptions(this.months);
      this.monthComponent.setValue(this.date.getMonth().toString());
      this.monthComponent.onChange(this.onMonthChange.bind(this));
      this.dayComponent = new import_obsidian6.DropdownComponent(container);
      this.dayComponent.addOptions(this.days);
      this.dayComponent.setValue(this.date.getDay().toString());
      this.dayComponent.onChange(this.onDayChange.bind(this));
      this.dayComponent.selectEl.addClass("meta-bind-plugin-input-element-group-element");
      this.monthComponent.selectEl.addClass("meta-bind-plugin-input-element-group-element");
    }
    this.yearComponent = new import_obsidian6.TextComponent(container);
    this.yearComponent.setValue(this.date.getYear().toString());
    this.yearComponent.onChange(this.onYearChange.bind(this));
    this.yearComponent.inputEl.addClass("meta-bind-plugin-date-input-year-input");
    this.yearComponent.inputEl.addClass("meta-bind-plugin-input-element-group-element");
    this.yearComponent.inputEl.type = "number";
    this.yearComponent.inputEl.max = "9999";
    this.container = container;
  }
  onMonthChange(value) {
    this.date.setMonthFromString(value);
    this.onValueChange(this.getValue());
  }
  onDayChange(value) {
    this.date.setDayFromString(value);
    this.onValueChange(this.getValue());
  }
  onYearChange(value) {
    this.date.setYearFromString(value);
    this.onValueChange(this.getValue());
  }
};

// src/inputFields/TimeInputField.ts
var import_obsidian7 = require("obsidian");

// src/parsers/TimeParser.ts
var Time = class {
  constructor() {
    this.setHour(TimeParser.getDefaultHour());
    this.setMinute(TimeParser.getDefaultMinute());
  }
  getHour() {
    return this._hour;
  }
  setHour(value) {
    if (value < 0 || value > 24) {
      return;
    }
    this._hour = value;
  }
  getMinute() {
    return this._minute;
  }
  setMinute(value) {
    if (value < 0 || value > 59) {
      return;
    }
    this._minute = value;
  }
  getUniformHour() {
    return ("00" + this.getHour().toString()).slice(-2);
  }
  getUniformMinute() {
    return ("00" + this.getMinute().toString()).slice(-2);
  }
  setHourFromString(str) {
    let v = Number.parseInt(str);
    this.setHour(Number.isNaN(v) ? TimeParser.getDefaultHour() : v);
  }
  setMinuteFromString(str) {
    let v = Number.parseInt(str);
    this.setMinute(Number.isNaN(v) ? TimeParser.getDefaultMinute() : v);
  }
};
var TimeParser = class {
  static parse(timeString) {
    const time = TimeParser.getDefaultTime();
    const timeParts = timeString.split(":");
    if (timeParts.length !== 2) {
      return null;
    }
    time.setHourFromString(timeParts[0]);
    time.setMinuteFromString(timeParts[1]);
    return time;
  }
  static stringify(time) {
    return `${time.getUniformHour()}:${time.getUniformMinute()}`;
  }
  static getDefaultTime() {
    return new Time();
  }
  static getDefaultHour() {
    return 0;
  }
  static getDefaultMinute() {
    return 0;
  }
};

// src/inputFields/TimeInputField.ts
var TimeInputField = class extends AbstractInputField {
  constructor(inputFieldMarkdownRenderChild, onValueChange) {
    super(inputFieldMarkdownRenderChild, onValueChange);
    this.hours = {};
    for (let i = 0; i <= 24; i++) {
      this.hours[i.toString()] = i.toString();
    }
    this.minutes = {};
    for (let i = 0; i <= 59; i++) {
      this.minutes[i.toString()] = i.toString();
    }
  }
  getHtmlElement() {
    return this.container;
  }
  getValue() {
    return TimeParser.stringify(this.time);
  }
  setValue(value) {
    this.time = TimeParser.parse(value);
    this.hourComponent.setValue(this.time.getHour().toString());
    this.minuteComponent.setValue(this.time.getMinute().toString());
  }
  isEqualValue(value) {
    return value == this.getValue();
  }
  getDefaultValue() {
    return TimeParser.stringify(TimeParser.getDefaultTime());
  }
  render(container) {
    var _a;
    this.time = (_a = TimeParser.parse(this.inputFieldMarkdownRenderChild.getInitialValue())) != null ? _a : TimeParser.getDefaultTime();
    container.removeClass("meta-bind-plugin-input-wrapper");
    container.addClass("meta-bind-plugin-flex-input-wrapper", "meta-bind-plugin-input-element-group");
    this.hourComponent = new import_obsidian7.DropdownComponent(container);
    this.hourComponent.addOptions(this.hours);
    this.hourComponent.setValue(this.time.getHour().toString());
    this.hourComponent.onChange(this.onHourChange.bind(this));
    this.minuteComponent = new import_obsidian7.DropdownComponent(container);
    this.minuteComponent.addOptions(this.minutes);
    this.minuteComponent.setValue(this.time.getMinute().toString());
    this.minuteComponent.onChange(this.onMinuteChange.bind(this));
    this.hourComponent.selectEl.addClass("meta-bind-plugin-input-element-group-element");
    this.minuteComponent.selectEl.addClass("meta-bind-plugin-input-element-group-element");
    this.container = container;
  }
  onHourChange(value) {
    this.time.setHourFromString(value);
    this.onValueChange(this.getValue());
  }
  onMinuteChange(value) {
    this.time.setMinuteFromString(value);
    this.onValueChange(this.getValue());
  }
};

// src/utils/ParserUtils.ts
var EnclosingPair = class {
  constructor(openingString, closingString) {
    if (isFalsy(openingString)) {
      throw new MetaBindInternalError("opening string must not be empty");
    }
    this.openingEqualsClosing = isFalsy(closingString) || openingString === closingString;
    this._openingString = openingString;
    this._closingString = closingString;
  }
  get openingString() {
    return this._openingString;
  }
  get closingString() {
    return this.openingEqualsClosing ? this._openingString : this._closingString;
  }
  overlaps(other) {
    return equalOrIncludes(this.openingString, other.openingString) || equalOrIncludes(this.openingString, other.closingString) || equalOrIncludes(this.closingString, other.openingString) || equalOrIncludes(this.closingString, other.closingString);
  }
  equals(other) {
    if (isFalsy(other)) {
      return false;
    }
    return this.openingString === other.openingString && this.closingString === other.closingString;
  }
  toString() {
    return JSON.stringify(this);
  }
};
var ParserUtils = class {
  static split(str, separator, ignore) {
    if (!str) {
      throw new MetaBindInternalError("string must not be empty");
    }
    if (!separator) {
      throw new MetaBindInternalError("separator must not be empty");
    }
    let subStr = "";
    let subStrings = [];
    if (ignore) {
      let remainingOpeningStringCount = ParserUtils.numberOfOccurrences(str, ignore.openingString);
      let remainingClosingStringCount = ParserUtils.numberOfOccurrences(str, ignore.closingString);
      let enclosingLevel = 0;
      strLoop:
        for (let i = 0; i < str.length; i++) {
          if (enclosingLevel === 0 && ParserUtils.isStringAt(str, separator, i)) {
            subStrings.push(subStr);
            subStr = "";
            i += separator.length - 1;
          } else {
            subStr += str[i];
          }
          if (ignore.openingEqualsClosing) {
            if (ParserUtils.isStringAt(str, ignore.openingString, i)) {
              if (enclosingLevel % 2 === 0 && remainingOpeningStringCount === 1) {
              } else if (enclosingLevel % 2 === 0) {
                enclosingLevel += 1;
                for (let j = 1; j < ignore.openingString.length; j++) {
                  i += 1;
                  subStr += str[i];
                  if (i >= str.length) {
                    break strLoop;
                  }
                }
              } else {
                enclosingLevel -= 1;
                for (let j = 1; j < ignore.closingString.length; j++) {
                  i += 1;
                  subStr += str[i];
                  if (i >= str.length) {
                    break strLoop;
                  }
                }
              }
              remainingOpeningStringCount -= 1;
            }
          } else {
            if (ParserUtils.isStringAt(str, ignore.openingString, i)) {
              if (remainingOpeningStringCount <= remainingClosingStringCount) {
                enclosingLevel += 1;
                for (let j = 1; j < ignore.openingString.length; j++) {
                  i += 1;
                  subStr += str[i];
                  if (i >= str.length) {
                    break strLoop;
                  }
                }
              }
              remainingOpeningStringCount -= 1;
            } else if (ParserUtils.isStringAt(str, ignore.closingString, i)) {
              if (enclosingLevel > 0) {
                enclosingLevel -= 1;
                for (let j = 1; j < ignore.closingString.length; j++) {
                  i += 1;
                  subStr += str[i];
                  if (i >= str.length) {
                    break strLoop;
                  }
                }
              }
              remainingClosingStringCount -= 1;
            }
          }
        }
    } else {
      for (let i = 0; i < str.length; i++) {
        if (ParserUtils.isStringAt(str, separator, i)) {
          subStrings.push(subStr);
          subStr = "";
          i += separator.length - 1;
        } else {
          subStr += str[i];
        }
      }
    }
    subStrings.push(subStr);
    return subStrings;
  }
  static removeInBetween(str, enclosingPair) {
    if (!str) {
      throw new MetaBindInternalError("string must not be empty");
    }
    let remainingOpeningStringCount = ParserUtils.numberOfOccurrences(str, enclosingPair.openingString);
    let remainingClosingStringCount = ParserUtils.numberOfOccurrences(str, enclosingPair.closingString);
    let enclosingLevel = 0;
    let subStr = "";
    for (let i = 0; i < str.length; i++) {
      if (enclosingPair.openingEqualsClosing) {
        if (ParserUtils.isStringAt(str, enclosingPair.openingString, i)) {
          if (enclosingLevel % 2 === 0 && remainingOpeningStringCount === 1) {
          } else if (enclosingLevel % 2 === 0) {
            enclosingLevel += 1;
            i += enclosingPair.openingString.length;
            if (i >= str.length) {
              break;
            }
          } else {
            enclosingLevel -= 1;
            i += enclosingPair.closingString.length;
            if (i >= str.length) {
              break;
            }
          }
          remainingOpeningStringCount -= 1;
        }
      } else {
        if (ParserUtils.isStringAt(str, enclosingPair.openingString, i)) {
          if (remainingOpeningStringCount <= remainingClosingStringCount) {
            enclosingLevel += 1;
            i += enclosingPair.openingString.length;
            if (i >= str.length) {
              break;
            }
          }
          remainingOpeningStringCount -= 1;
        } else if (ParserUtils.isStringAt(str, enclosingPair.closingString, i)) {
          if (enclosingLevel > 0) {
            enclosingLevel -= 1;
            i += enclosingPair.closingString.length;
            if (i >= str.length) {
              break;
            }
          }
          remainingClosingStringCount -= 1;
        }
      }
      if (enclosingLevel === 0) {
        subStr += str[i];
      }
    }
    return subStr;
  }
  static getInBetween(str, enclosingPair) {
    if (!str) {
      throw new MetaBindInternalError("string must not be empty");
    }
    let remainingOpeningStringCount = ParserUtils.numberOfOccurrences(str, enclosingPair.openingString);
    let remainingClosingStringCount = ParserUtils.numberOfOccurrences(str, enclosingPair.closingString);
    let enclosingLevel = 0;
    let subStr = "";
    let subStrings = [];
    strLoop:
      for (let i = 0; i < str.length; i++) {
        if (enclosingPair.openingEqualsClosing) {
          if (ParserUtils.isStringAt(str, enclosingPair.openingString, i)) {
            if (enclosingLevel % 2 === 0 && remainingOpeningStringCount === 1) {
            } else if (enclosingLevel % 2 === 0) {
              enclosingLevel += 1;
              subStr += str[i];
              for (let j = 1; j < enclosingPair.openingString.length; j++) {
                i += 1;
                subStr += str[i];
                if (i >= str.length) {
                  break strLoop;
                }
              }
            } else {
              enclosingLevel -= 1;
              subStr += str[i];
              for (let j = 1; j < enclosingPair.closingString.length; j++) {
                i += 1;
                subStr += str[i];
                if (i > str.length) {
                  break strLoop;
                }
              }
              subStrings.push(subStr);
              subStr = "";
            }
            remainingOpeningStringCount -= 1;
          } else {
            if (enclosingLevel >= 1) {
              subStr += str[i];
            }
          }
        } else {
          if (ParserUtils.isStringAt(str, enclosingPair.openingString, i)) {
            if (remainingOpeningStringCount <= remainingClosingStringCount) {
              enclosingLevel += 1;
              subStr += str[i];
              for (let j = 1; j < enclosingPair.openingString.length; j++) {
                i += 1;
                subStr += str[i];
                if (i >= str.length) {
                  break strLoop;
                }
              }
            }
            remainingOpeningStringCount -= 1;
          } else if (ParserUtils.isStringAt(str, enclosingPair.closingString, i)) {
            if (enclosingLevel > 0) {
              enclosingLevel -= 1;
              subStr += str[i];
              for (let j = 1; j < enclosingPair.closingString.length; j++) {
                i += 1;
                subStr += str[i];
                if (i > str.length) {
                  break strLoop;
                }
              }
              if (enclosingLevel === 0) {
                subStrings.push(subStr);
                subStr = "";
              }
            }
            remainingClosingStringCount -= 1;
          } else {
            if (enclosingLevel >= 1) {
              subStr += str[i];
            }
          }
        }
      }
    if (subStrings.length === 0) {
      return "";
    } else if (subStrings.length === 1) {
      return subStrings[0].substring(enclosingPair.openingString.length, subStrings[0].length - enclosingPair.closingString.length);
    } else {
      return subStrings.map((x) => x.substring(enclosingPair.openingString.length, x.length - enclosingPair.closingString.length));
    }
  }
  static isStringAt(str, subStr, index) {
    if (index < 0) {
      throw new MetaBindInternalError("index must be greater than 0");
    }
    if (index >= str.length) {
      throw new MetaBindInternalError("index out of bounds of string");
    }
    if (!str) {
      throw new MetaBindInternalError("string must not be empty");
    }
    if (!subStr) {
      throw new MetaBindInternalError("sub string must not be empty");
    }
    for (let i = 0; i < subStr.length; i++) {
      if (str[i + index] !== subStr[i]) {
        return false;
      }
    }
    return true;
  }
  static contains(str, subStr) {
    return ParserUtils.numberOfOccurrences(str, subStr) > 0;
  }
  static numberOfOccurrences(str, subStr) {
    if (!str) {
      throw new MetaBindInternalError("string must not be empty");
    }
    if (!subStr) {
      throw new MetaBindInternalError("sub string must not be empty");
    }
    let occurrences = 0;
    for (let i = 0; i < str.length; i++) {
      if (ParserUtils.isStringAt(str, subStr, i)) {
        occurrences += 1;
      }
    }
    return occurrences;
  }
};

// src/parsers/InputFieldDeclarationParser.ts
var InputFieldType = /* @__PURE__ */ ((InputFieldType2) => {
  InputFieldType2["TOGGLE"] = "toggle";
  InputFieldType2["SLIDER"] = "slider";
  InputFieldType2["TEXT"] = "text";
  InputFieldType2["TEXT_AREA"] = "text_area";
  InputFieldType2["SELECT"] = "select";
  InputFieldType2["MULTI_SELECT"] = "multi_select";
  InputFieldType2["DATE"] = "date";
  InputFieldType2["TIME"] = "time";
  InputFieldType2["INVALID"] = "invalid";
  return InputFieldType2;
})(InputFieldType || {});
var _InputFieldDeclarationParser = class {
  static parse(fullDeclaration) {
    var _a;
    const inputFieldDeclaration = {};
    inputFieldDeclaration.fullDeclaration = fullDeclaration;
    inputFieldDeclaration.declaration = ParserUtils.getInBetween(fullDeclaration, _InputFieldDeclarationParser.squareBracesPair);
    const declarationParts = ParserUtils.split(inputFieldDeclaration.declaration, ":", _InputFieldDeclarationParser.squareBracesPair);
    inputFieldDeclaration.bindTarget = (_a = declarationParts[1]) != null ? _a : "";
    inputFieldDeclaration.isBound = isTruthy(inputFieldDeclaration.bindTarget);
    const inputFieldTypeWithArguments = declarationParts[0];
    const inputFieldTypeString = ParserUtils.removeInBetween(inputFieldTypeWithArguments, _InputFieldDeclarationParser.roundBracesPair);
    inputFieldDeclaration.inputFieldType = _InputFieldDeclarationParser.getInputFieldType(inputFieldTypeString);
    if (inputFieldDeclaration.inputFieldType === "invalid" /* INVALID */) {
      throw new MetaBindParsingError(`unknown input field type '${inputFieldTypeString}'`);
    }
    const inputFieldArgumentsString = ParserUtils.getInBetween(inputFieldTypeWithArguments, _InputFieldDeclarationParser.roundBracesPair);
    if (inputFieldArgumentsString) {
      inputFieldDeclaration.arguments = _InputFieldDeclarationParser.parseArguments(inputFieldArgumentsString, inputFieldDeclaration.inputFieldType);
    } else {
      inputFieldDeclaration.arguments = [];
    }
    return inputFieldDeclaration;
  }
  static parseArguments(inputFieldArgumentsString, inputFieldType) {
    let inputFieldArgumentStrings = ParserUtils.split(inputFieldArgumentsString, ",", _InputFieldDeclarationParser.roundBracesPair);
    inputFieldArgumentStrings = inputFieldArgumentStrings.map((x) => x.trim());
    const inputFieldArguments = [];
    for (const inputFieldArgumentString of inputFieldArgumentStrings) {
      const inputFieldArgumentName = _InputFieldDeclarationParser.extractInputFieldArgumentName(inputFieldArgumentString);
      if (inputFieldArgumentName === "class") {
        const inputFieldArgumentValue = _InputFieldDeclarationParser.extractInputFieldArgumentValue(inputFieldArgumentString);
        let inputFieldClassArgument = { name: inputFieldArgumentName, value: inputFieldArgumentValue };
        inputFieldArguments.push(inputFieldClassArgument);
      } else if (inputFieldArgumentName === "addLabels") {
        if (inputFieldType !== "slider" /* SLIDER */) {
          throw new MetaBindParsingError(`argument '${inputFieldArgumentName}' is only applicable to slider input fields`);
        }
        inputFieldArguments.push({ name: "labels", value: true });
      } else if (inputFieldArgumentName === "minValue") {
        if (inputFieldType !== "slider" /* SLIDER */) {
          throw new MetaBindParsingError(`argument '${inputFieldArgumentName}' is only applicable to slider input fields`);
        }
        const inputFieldArgumentValue = _InputFieldDeclarationParser.extractInputFieldArgumentValue(inputFieldArgumentString);
        const inputFieldArgumentValueAsNumber = Number.parseInt(inputFieldArgumentValue);
        if (Number.isNaN(inputFieldArgumentValueAsNumber)) {
          throw new MetaBindParsingError(`argument '${inputFieldArgumentName}' value must be of type number`);
        }
        let inputFieldArgumentObject = { name: inputFieldArgumentName, value: inputFieldArgumentValueAsNumber };
        inputFieldArguments.push(inputFieldArgumentObject);
      } else if (inputFieldArgumentName === "maxValue") {
        if (inputFieldType !== "slider" /* SLIDER */) {
          throw new MetaBindParsingError(`argument '${inputFieldArgumentName}' is only applicable to slider input fields`);
        }
        const inputFieldArgumentValue = _InputFieldDeclarationParser.extractInputFieldArgumentValue(inputFieldArgumentString);
        const inputFieldArgumentValueAsNumber = Number.parseInt(inputFieldArgumentValue);
        if (Number.isNaN(inputFieldArgumentValueAsNumber)) {
          throw new MetaBindParsingError(`argument '${inputFieldArgumentName}' value must be of type number`);
        }
        let inputFieldArgumentObject = { name: inputFieldArgumentName, value: inputFieldArgumentValueAsNumber };
        inputFieldArguments.push(inputFieldArgumentObject);
      } else if (inputFieldArgumentName === "option") {
        if (inputFieldType !== "select" /* SELECT */ && inputFieldType !== "multi_select" /* MULTI_SELECT */) {
          throw new MetaBindParsingError(`argument '${inputFieldArgumentName}' is only applicable to select and multi-select input fields`);
        }
        const inputFieldArgumentValue = _InputFieldDeclarationParser.extractInputFieldArgumentValue(inputFieldArgumentString);
        let inputFieldArgumentObject = { name: inputFieldArgumentName, value: inputFieldArgumentValue };
        inputFieldArguments.push(inputFieldArgumentObject);
      } else if (inputFieldArgumentName === "title") {
        if (inputFieldType !== "select" /* SELECT */ && inputFieldType !== "multi_select" /* MULTI_SELECT */) {
          throw new MetaBindParsingError(`argument '${inputFieldArgumentName}' is only applicable to select and multi-select input fields`);
        }
        const inputFieldArgumentValue = _InputFieldDeclarationParser.extractInputFieldArgumentValue(inputFieldArgumentString);
        let inputFieldArgumentObject = { name: inputFieldArgumentName, value: inputFieldArgumentValue };
        inputFieldArguments.push(inputFieldArgumentObject);
      } else {
        throw new MetaBindParsingError(`unknown argument '${inputFieldArgumentName}'`);
      }
    }
    return inputFieldArguments;
  }
  static extractInputFieldArgumentName(argumentString) {
    return ParserUtils.removeInBetween(argumentString, _InputFieldDeclarationParser.roundBracesPair);
  }
  static extractInputFieldArgumentValue(argumentString) {
    let argumentName = this.extractInputFieldArgumentName(argumentString);
    let argumentValue = ParserUtils.getInBetween(argumentString, _InputFieldDeclarationParser.roundBracesPair);
    if (!argumentValue) {
      throw new MetaBindParsingError(`argument '${argumentName}' requires a non empty value`);
    }
    return argumentValue;
  }
  static getInputFieldType(str) {
    for (const entry of Object.entries(InputFieldType)) {
      if (entry[1] === str) {
        return entry[1];
      }
    }
    return "invalid" /* INVALID */;
  }
};
var InputFieldDeclarationParser = _InputFieldDeclarationParser;
InputFieldDeclarationParser.roundBracesPair = new EnclosingPair("(", ")");
InputFieldDeclarationParser.squareBracesPair = new EnclosingPair("[", "]");
InputFieldDeclarationParser.curlyBracesPair = new EnclosingPair("{", "}");
InputFieldDeclarationParser.allBracesPairs = [
  _InputFieldDeclarationParser.roundBracesPair,
  _InputFieldDeclarationParser.squareBracesPair,
  _InputFieldDeclarationParser.curlyBracesPair
];

// src/inputFields/InputFieldFactory.ts
var _InputFieldFactory = class {
  static createInputField(inputFieldType, args) {
    if (inputFieldType === "toggle" /* TOGGLE */) {
      _InputFieldFactory.checkInputFieldMarkdownRenderChildTypeAllowed(inputFieldType, args.type);
      return new ToggleInputField(args.inputFieldMarkdownRenderChild, args.onValueChanged);
    } else if (inputFieldType === "slider" /* SLIDER */) {
      _InputFieldFactory.checkInputFieldMarkdownRenderChildTypeAllowed(inputFieldType, args.type);
      return new SliderInputField(args.inputFieldMarkdownRenderChild, args.onValueChanged);
    } else if (inputFieldType === "text" /* TEXT */) {
      _InputFieldFactory.checkInputFieldMarkdownRenderChildTypeAllowed(inputFieldType, args.type);
      return new TextInputField(args.inputFieldMarkdownRenderChild, args.onValueChanged);
    } else if (inputFieldType === "text_area" /* TEXT_AREA */) {
      _InputFieldFactory.checkInputFieldMarkdownRenderChildTypeAllowed(inputFieldType, args.type);
      return new TextAreaInputField(args.inputFieldMarkdownRenderChild, args.onValueChanged);
    } else if (inputFieldType === "select" /* SELECT */) {
      _InputFieldFactory.checkInputFieldMarkdownRenderChildTypeAllowed(inputFieldType, args.type);
      return new SelectInputField(args.inputFieldMarkdownRenderChild, args.onValueChanged);
    } else if (inputFieldType === "multi_select" /* MULTI_SELECT */) {
      _InputFieldFactory.checkInputFieldMarkdownRenderChildTypeAllowed(inputFieldType, args.type);
      return new MultiSelectInputField(args.inputFieldMarkdownRenderChild, args.onValueChanged);
    } else if (inputFieldType === "date" /* DATE */) {
      _InputFieldFactory.checkInputFieldMarkdownRenderChildTypeAllowed(inputFieldType, args.type);
      return new DateInputField(args.inputFieldMarkdownRenderChild, args.onValueChanged);
    } else if (inputFieldType === "time" /* TIME */) {
      _InputFieldFactory.checkInputFieldMarkdownRenderChildTypeAllowed(inputFieldType, args.type);
      return new TimeInputField(args.inputFieldMarkdownRenderChild, args.onValueChanged);
    }
    return null;
  }
  static checkInputFieldMarkdownRenderChildTypeAllowed(inputFieldType, type) {
    const allowCodeBlock = _InputFieldFactory.allowCodeBlockMap[inputFieldType];
    if (type === 1 /* CODE_BLOCK */ && !allowCodeBlock.codeBlock) {
      throw new MetaBindParsingError(`'${inputFieldType}' is not allowed as code block`);
    }
    if (type === 0 /* INLINE_CODE_BLOCK */ && !allowCodeBlock.inlineCodeBlock) {
      throw new MetaBindParsingError(`'${inputFieldType}' is not allowed as inline code block`);
    }
  }
};
var InputFieldFactory = _InputFieldFactory;
InputFieldFactory.allowCodeBlockMap = {
  ["toggle" /* TOGGLE */]: { codeBlock: ToggleInputField.allowCodeBlock, inlineCodeBlock: ToggleInputField.allowInlineCodeBlock },
  ["slider" /* SLIDER */]: { codeBlock: SliderInputField.allowCodeBlock, inlineCodeBlock: SliderInputField.allowInlineCodeBlock },
  ["text" /* TEXT */]: { codeBlock: TextInputField.allowCodeBlock, inlineCodeBlock: TextInputField.allowInlineCodeBlock },
  ["text_area" /* TEXT_AREA */]: { codeBlock: TextAreaInputField.allowCodeBlock, inlineCodeBlock: TextAreaInputField.allowInlineCodeBlock },
  ["select" /* SELECT */]: { codeBlock: SelectInputField.allowCodeBlock, inlineCodeBlock: SelectInputField.allowInlineCodeBlock },
  ["multi_select" /* MULTI_SELECT */]: { codeBlock: MultiSelectInputField.allowCodeBlock, inlineCodeBlock: MultiSelectInputField.allowInlineCodeBlock },
  ["date" /* DATE */]: { codeBlock: DateInputField.allowCodeBlock, inlineCodeBlock: DateInputField.allowInlineCodeBlock },
  ["time" /* TIME */]: { codeBlock: TimeInputField.allowCodeBlock, inlineCodeBlock: TimeInputField.allowInlineCodeBlock }
};

// src/InputFieldMarkdownRenderChild.ts
var InputFieldMarkdownRenderChild2 = class extends import_obsidian8.MarkdownRenderChild {
  constructor(containerEl, type, fullDeclaration, plugin, filePath, uid) {
    super(containerEl);
    this.error = "";
    this.filePath = filePath;
    this.uid = uid;
    this.plugin = plugin;
    this.valueQueue = [];
    this.intervalCounter = 0;
    this.limitInterval = window.setInterval(() => this.applyValueQueueToMetadata(), this.plugin.settings.syncInterval);
    try {
      this.inputFieldDeclaration = InputFieldDeclarationParser.parse(fullDeclaration);
      if (this.inputFieldDeclaration.isBound) {
        this.parseBindTarget();
        this.metaData = this.plugin.getMetaDataForFile(this.bindTargetFile);
      }
      this.inputField = InputFieldFactory.createInputField(this.inputFieldDeclaration.inputFieldType, {
        type,
        inputFieldMarkdownRenderChild: this,
        onValueChanged: this.pushToValueQueue.bind(this)
      });
    } catch (e) {
      this.error = e.message;
      Logger.logWarning(e);
    }
  }
  parseBindTarget() {
    let bindTargetParts = this.inputFieldDeclaration.bindTarget.split("#");
    if (bindTargetParts.length === 1) {
      this.bindTargetMetadataField = this.inputFieldDeclaration.bindTarget;
      const files = this.plugin.getFilesByName(this.filePath);
      if (files.length === 0) {
        throw new MetaBindBindTargetError("bind target file not found");
      } else if (files.length === 1) {
        this.bindTargetFile = files[0];
      } else {
        throw new MetaBindBindTargetError("bind target resolves to multiple files; please also specify the file path");
      }
    } else if (bindTargetParts.length === 2) {
      this.bindTargetMetadataField = bindTargetParts[1];
      const files = this.plugin.getFilesByName(bindTargetParts[0]);
      if (files.length === 0) {
        throw new MetaBindBindTargetError("bind target file not found");
      } else if (files.length === 1) {
        this.bindTargetFile = files[0];
      } else {
        throw new MetaBindBindTargetError("bind target resolves to multiple files; please also specify the file path");
      }
    } else {
      throw new MetaBindBindTargetError("bind target may only contain one '#' to specify the metadata field");
    }
  }
  applyValueQueueToMetadata() {
    return __async(this, null, function* () {
      if (this.valueQueue.length > 0) {
        yield this.plugin.updateMetaData(this.bindTargetMetadataField, this.valueQueue.at(-1), this.bindTargetFile);
        this.valueQueue = [];
      }
    });
  }
  pushToValueQueue(value) {
    return __async(this, null, function* () {
      if (this.inputFieldDeclaration.isBound) {
        this.valueQueue.push(value);
      }
    });
  }
  updateValue(value) {
    if (value == null) {
      value = this.inputField.getDefaultValue();
    }
    if (!this.inputField.isEqualValue(value) && this.valueQueue.length === 0) {
      Logger.logDebug(`updating input field ${this.uid} to`, value);
      this.inputField.setValue(value);
    }
  }
  getInitialValue() {
    var _a;
    if (this.inputFieldDeclaration.isBound) {
      return (_a = this.metaData[this.bindTargetMetadataField]) != null ? _a : this.inputField.getDefaultValue();
    }
  }
  getArguments(name) {
    return this.inputFieldDeclaration.arguments.filter((x) => x.name === name);
  }
  getArgument(name) {
    return this.getArguments(name).first();
  }
  onload() {
    return __async(this, null, function* () {
      Logger.logDebug("load", this);
      this.metaData = yield this.metaData;
      const container = this.containerEl.createDiv();
      container.addClass("meta-bind-plugin-input-wrapper");
      this.containerEl.addClass("meta-bind-plugin-input");
      if (this.error) {
        container.innerText = ` -> ERROR: ${this.error}`;
        container.addClass("meta-bind-plugin-error");
        this.containerEl.appendChild(container);
        return;
      }
      this.plugin.registerMarkdownInputField(this);
      this.inputField.render(container);
      const classArgument = this.getArguments("class");
      if (classArgument) {
        this.inputField.getHtmlElement().addClasses(classArgument.map((x) => x.value));
      }
      this.containerEl.empty();
      this.containerEl.appendChild(container);
    });
  }
  onunload() {
    Logger.logDebug("unload", this);
    this.plugin.unregisterMarkdownInputField(this);
    super.onunload();
    window.clearInterval(this.limitInterval);
  }
};

// src/main.ts
var MetaBindPlugin = class extends import_obsidian9.Plugin {
  onload() {
    return __async(this, null, function* () {
      yield this.loadSettings();
      Logger.devMode = this.settings.devMode;
      DateParser.dateFormat = this.settings.dateFormat;
      this.activeMarkdownInputFields = [];
      this.markDownInputFieldIndex = 0;
      this.registerMarkdownPostProcessor((element, context) => {
        const codeBlocks = element.querySelectorAll("code");
        for (let index = 0; index < codeBlocks.length; index++) {
          const codeBlock = codeBlocks.item(index);
          const text = codeBlock.innerText;
          const isInputField = text.startsWith("INPUT[") && text.endsWith("]");
          if (isInputField) {
            context.addChild(new InputFieldMarkdownRenderChild2(codeBlock, 0 /* INLINE_CODE_BLOCK */, text, this, context.sourcePath, this.markDownInputFieldIndex));
            this.markDownInputFieldIndex += 1;
          }
        }
      });
      this.registerMarkdownCodeBlockProcessor("meta-bind", (source, el, ctx) => {
        const codeBlock = el;
        const text = source.replace(/\n/g, "");
        const isInputField = text.startsWith("INPUT[") && text.endsWith("]");
        if (isInputField) {
          ctx.addChild(new InputFieldMarkdownRenderChild2(codeBlock, 1 /* CODE_BLOCK */, text, this, ctx.sourcePath, this.markDownInputFieldIndex));
          this.markDownInputFieldIndex += 1;
        }
      });
      this.registerEvent(this.app.vault.on("modify", (abstractFile) => __async(this, null, function* () {
        if (abstractFile instanceof import_obsidian9.TFile) {
          yield this.updateMarkdownInputFieldsOnFileChange(abstractFile);
        }
      })));
      this.addSettingTab(new MetaBindSettingTab(this.app, this));
    });
  }
  onunload() {
    for (const activeMarkdownInputField of this.activeMarkdownInputFields) {
      activeMarkdownInputField.unload();
    }
  }
  registerMarkdownInputField(markdownInputField) {
    this.activeMarkdownInputFields.push(markdownInputField);
  }
  unregisterMarkdownInputField(markdownInputField) {
    this.activeMarkdownInputFields = this.activeMarkdownInputFields.filter((x) => x.uid !== markdownInputField.uid);
  }
  updateMarkdownInputFieldsOnFileChange(file) {
    return __async(this, null, function* () {
      let metadata = void 0;
      for (const activeMarkdownInputField of this.activeMarkdownInputFields) {
        if (!activeMarkdownInputField.bindTargetFile || !activeMarkdownInputField.inputFieldDeclaration.isBound) {
          continue;
        }
        if (activeMarkdownInputField.bindTargetFile.path === file.path) {
          if (metadata === void 0) {
            metadata = yield this.getMetaDataForFile(file);
          }
          activeMarkdownInputField.updateValue(metadata[activeMarkdownInputField.bindTargetMetadataField]);
        }
      }
    });
  }
  updateMetaData(key, value, file) {
    return __async(this, null, function* () {
      Logger.logDebug(`updating `, key, `: `, value, ` in '${file.path}'`);
      if (!file) {
        console.log("no file");
        return;
      }
      let fileContent = yield this.app.vault.read(file);
      const regExp = new RegExp("^(---)\\n[\\s\\S]*\\n---");
      fileContent = fileContent.replace(regExp, "");
      let metadata = yield this.getMetaDataForFile(file);
      if (!metadata) {
        return;
      }
      metadata[key] = value;
      fileContent = `---
${(0, import_obsidian9.stringifyYaml)(metadata)}---` + fileContent;
      yield this.app.vault.modify(file, fileContent);
    });
  }
  getFilesByName(name) {
    const fileNameIsPath = isPath(name);
    let processedFileName = fileNameIsPath ? removeFileEnding(name) : getFileName(removeFileEnding(name));
    const allFiles = this.app.vault.getFiles();
    const files = [];
    for (const file of allFiles) {
      if (fileNameIsPath) {
        if (removeFileEnding(file.path) === processedFileName) {
          files.push(file);
        }
      } else {
        if (getFileName(removeFileEnding(file.name)) === processedFileName) {
          files.push(file);
        }
      }
    }
    return files;
  }
  getMetaDataForFile(file) {
    return __async(this, null, function* () {
      let metadata;
      let fileContent = yield this.app.vault.read(file);
      const regExp = new RegExp("^(---)\\n[\\s\\S]*\\n---");
      let frontMatterRegExpResult = regExp.exec(fileContent);
      if (!frontMatterRegExpResult) {
        return {};
      }
      let frontMatter = frontMatterRegExpResult[0];
      if (!frontMatter) {
        return {};
      }
      frontMatter = frontMatter.substring(4);
      frontMatter = frontMatter.substring(0, frontMatter.length - 3);
      metadata = (0, import_obsidian9.parseYaml)(frontMatter);
      if (!metadata) {
        metadata = {};
      }
      return metadata;
    });
  }
  loadSettings() {
    return __async(this, null, function* () {
      this.settings = Object.assign({}, DEFAULT_SETTINGS, yield this.loadData());
    });
  }
  saveSettings() {
    return __async(this, null, function* () {
      DateParser.dateFormat = this.settings.dateFormat;
      Logger.devMode = this.settings.devMode;
      yield this.saveData(this.settings);
    });
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vLi4vc3JjL21haW4udHMiLCAiLi4vLi4vLi4vLi4vc3JjL3NldHRpbmdzL1NldHRpbmdzLnRzIiwgIi4uLy4uLy4uLy4uL3NyYy9wYXJzZXJzL0RhdGVQYXJzZXIudHMiLCAiLi4vLi4vLi4vLi4vc3JjL0lucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkLnRzIiwgIi4uLy4uLy4uLy4uL3NyYy91dGlscy9Mb2dnZXIudHMiLCAiLi4vLi4vLi4vLi4vc3JjL2lucHV0RmllbGRzL0Fic3RyYWN0SW5wdXRGaWVsZC50cyIsICIuLi8uLi8uLi8uLi9zcmMvaW5wdXRGaWVsZHMvVG9nZ2xlSW5wdXRGaWVsZC50cyIsICIuLi8uLi8uLi8uLi9zcmMvaW5wdXRGaWVsZHMvVGV4dElucHV0RmllbGQudHMiLCAiLi4vLi4vLi4vLi4vc3JjL2lucHV0RmllbGRzL1NsaWRlcklucHV0RmllbGQudHMiLCAiLi4vLi4vLi4vLi4vc3JjL2lucHV0RmllbGRzL1RleHRBcmVhSW5wdXRGaWVsZC50cyIsICIuLi8uLi8uLi8uLi9zcmMvaW5wdXRGaWVsZHMvU2VsZWN0SW5wdXRGaWVsZEVsZW1lbnQudHMiLCAiLi4vLi4vLi4vLi4vc3JjL3V0aWxzL1V0aWxzLnRzIiwgIi4uLy4uLy4uLy4uL3NyYy9pbnB1dEZpZWxkcy9TZWxlY3RJbnB1dEZpZWxkLnRzIiwgIi4uLy4uLy4uLy4uL3NyYy9pbnB1dEZpZWxkcy9NdWx0aVNlbGVjdElucHV0RmllbGQudHMiLCAiLi4vLi4vLi4vLi4vc3JjL2lucHV0RmllbGRzL0RhdGVJbnB1dEZpZWxkLnRzIiwgIi4uLy4uLy4uLy4uL3NyYy9pbnB1dEZpZWxkcy9UaW1lSW5wdXRGaWVsZC50cyIsICIuLi8uLi8uLi8uLi9zcmMvcGFyc2Vycy9UaW1lUGFyc2VyLnRzIiwgIi4uLy4uLy4uLy4uL3NyYy91dGlscy9QYXJzZXJVdGlscy50cyIsICIuLi8uLi8uLi8uLi9zcmMvcGFyc2Vycy9JbnB1dEZpZWxkRGVjbGFyYXRpb25QYXJzZXIudHMiLCAiLi4vLi4vLi4vLi4vc3JjL2lucHV0RmllbGRzL0lucHV0RmllbGRGYWN0b3J5LnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQge3BhcnNlWWFtbCwgUGx1Z2luLCBzdHJpbmdpZnlZYW1sLCBURmlsZX0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHtERUZBVUxUX1NFVFRJTkdTLCBNZXRhQmluZFBsdWdpblNldHRpbmdzLCBNZXRhQmluZFNldHRpbmdUYWJ9IGZyb20gJy4vc2V0dGluZ3MvU2V0dGluZ3MnO1xuaW1wb3J0IHtJbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZCwgSW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGRUeXBlfSBmcm9tICcuL0lucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkJztcbmltcG9ydCB7Z2V0RmlsZU5hbWUsIGlzUGF0aCwgcmVtb3ZlRmlsZUVuZGluZ30gZnJvbSAnLi91dGlscy9VdGlscyc7XG5pbXBvcnQge0xvZ2dlcn0gZnJvbSAnLi91dGlscy9Mb2dnZXInO1xuaW1wb3J0IHtEYXRlUGFyc2VyfSBmcm9tICcuL3BhcnNlcnMvRGF0ZVBhcnNlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1ldGFCaW5kUGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcblx0c2V0dGluZ3M6IE1ldGFCaW5kUGx1Z2luU2V0dGluZ3M7XG5cblx0YWN0aXZlTWFya2Rvd25JbnB1dEZpZWxkczogSW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGRbXTtcblx0bWFya0Rvd25JbnB1dEZpZWxkSW5kZXg6IG51bWJlcjtcblxuXHRhc3luYyBvbmxvYWQoKSB7XG5cdFx0YXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcblxuXHRcdExvZ2dlci5kZXZNb2RlID0gdGhpcy5zZXR0aW5ncy5kZXZNb2RlO1xuXHRcdERhdGVQYXJzZXIuZGF0ZUZvcm1hdCA9IHRoaXMuc2V0dGluZ3MuZGF0ZUZvcm1hdDtcblxuXHRcdHRoaXMuYWN0aXZlTWFya2Rvd25JbnB1dEZpZWxkcyA9IFtdO1xuXHRcdHRoaXMubWFya0Rvd25JbnB1dEZpZWxkSW5kZXggPSAwO1xuXG5cdFx0dGhpcy5yZWdpc3Rlck1hcmtkb3duUG9zdFByb2Nlc3NvcigoZWxlbWVudCwgY29udGV4dCkgPT4ge1xuXHRcdFx0Y29uc3QgY29kZUJsb2NrcyA9IGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnY29kZScpO1xuXHRcdFx0Zm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGNvZGVCbG9ja3MubGVuZ3RoOyBpbmRleCsrKSB7XG5cdFx0XHRcdGNvbnN0IGNvZGVCbG9jayA9IGNvZGVCbG9ja3MuaXRlbShpbmRleCk7XG5cdFx0XHRcdGNvbnN0IHRleHQgPSBjb2RlQmxvY2suaW5uZXJUZXh0O1xuXHRcdFx0XHRjb25zdCBpc0lucHV0RmllbGQgPSB0ZXh0LnN0YXJ0c1dpdGgoJ0lOUFVUWycpICYmIHRleHQuZW5kc1dpdGgoJ10nKTtcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coY29udGV4dC5zb3VyY2VQYXRoKTtcblx0XHRcdFx0aWYgKGlzSW5wdXRGaWVsZCkge1xuXHRcdFx0XHRcdGNvbnRleHQuYWRkQ2hpbGQobmV3IElucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkKGNvZGVCbG9jaywgSW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGRUeXBlLklOTElORV9DT0RFX0JMT0NLLCB0ZXh0LCB0aGlzLCBjb250ZXh0LnNvdXJjZVBhdGgsIHRoaXMubWFya0Rvd25JbnB1dEZpZWxkSW5kZXgpKTtcblx0XHRcdFx0XHR0aGlzLm1hcmtEb3duSW5wdXRGaWVsZEluZGV4ICs9IDE7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdHRoaXMucmVnaXN0ZXJNYXJrZG93bkNvZGVCbG9ja1Byb2Nlc3NvcignbWV0YS1iaW5kJywgKHNvdXJjZSwgZWwsIGN0eCkgPT4ge1xuXHRcdFx0Y29uc3QgY29kZUJsb2NrID0gZWw7XG5cdFx0XHRjb25zdCB0ZXh0ID0gc291cmNlLnJlcGxhY2UoL1xcbi9nLCAnJyk7XG5cdFx0XHRjb25zdCBpc0lucHV0RmllbGQgPSB0ZXh0LnN0YXJ0c1dpdGgoJ0lOUFVUWycpICYmIHRleHQuZW5kc1dpdGgoJ10nKTtcblx0XHRcdC8vIGNvbnNvbGUubG9nKGNvbnRleHQuc291cmNlUGF0aCk7XG5cdFx0XHRpZiAoaXNJbnB1dEZpZWxkKSB7XG5cdFx0XHRcdGN0eC5hZGRDaGlsZChuZXcgSW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQoY29kZUJsb2NrLCBJbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZFR5cGUuQ09ERV9CTE9DSywgdGV4dCwgdGhpcywgY3R4LnNvdXJjZVBhdGgsIHRoaXMubWFya0Rvd25JbnB1dEZpZWxkSW5kZXgpKTtcblx0XHRcdFx0dGhpcy5tYXJrRG93bklucHV0RmllbGRJbmRleCArPSAxO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0dGhpcy5yZWdpc3RlckV2ZW50KHRoaXMuYXBwLnZhdWx0Lm9uKCdtb2RpZnknLCBhc3luYyBhYnN0cmFjdEZpbGUgPT4ge1xuXHRcdFx0aWYgKGFic3RyYWN0RmlsZSBpbnN0YW5jZW9mIFRGaWxlKSB7XG5cdFx0XHRcdGF3YWl0IHRoaXMudXBkYXRlTWFya2Rvd25JbnB1dEZpZWxkc09uRmlsZUNoYW5nZShhYnN0cmFjdEZpbGUgYXMgVEZpbGUpO1xuXHRcdFx0fVxuXHRcdH0pKTtcblxuXHRcdHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgTWV0YUJpbmRTZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSk7XG5cdH1cblxuXHRvbnVubG9hZCgpIHtcblx0XHRmb3IgKGNvbnN0IGFjdGl2ZU1hcmtkb3duSW5wdXRGaWVsZCBvZiB0aGlzLmFjdGl2ZU1hcmtkb3duSW5wdXRGaWVsZHMpIHtcblx0XHRcdGFjdGl2ZU1hcmtkb3duSW5wdXRGaWVsZC51bmxvYWQoKTtcblx0XHR9XG5cdH1cblxuXHRyZWdpc3Rlck1hcmtkb3duSW5wdXRGaWVsZChtYXJrZG93bklucHV0RmllbGQ6IElucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkKSB7XG5cdFx0dGhpcy5hY3RpdmVNYXJrZG93bklucHV0RmllbGRzLnB1c2gobWFya2Rvd25JbnB1dEZpZWxkKTtcblx0fVxuXG5cdHVucmVnaXN0ZXJNYXJrZG93bklucHV0RmllbGQobWFya2Rvd25JbnB1dEZpZWxkOiBJbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZCkge1xuXHRcdHRoaXMuYWN0aXZlTWFya2Rvd25JbnB1dEZpZWxkcyA9IHRoaXMuYWN0aXZlTWFya2Rvd25JbnB1dEZpZWxkcy5maWx0ZXIoeCA9PiB4LnVpZCAhPT0gbWFya2Rvd25JbnB1dEZpZWxkLnVpZCk7XG5cdH1cblxuXHRhc3luYyB1cGRhdGVNYXJrZG93bklucHV0RmllbGRzT25GaWxlQ2hhbmdlKGZpbGU6IFRGaWxlKSB7XG5cdFx0bGV0IG1ldGFkYXRhOiBhbnkgPSB1bmRlZmluZWQ7XG5cblx0XHRmb3IgKGNvbnN0IGFjdGl2ZU1hcmtkb3duSW5wdXRGaWVsZCBvZiB0aGlzLmFjdGl2ZU1hcmtkb3duSW5wdXRGaWVsZHMpIHtcblx0XHRcdGlmICghYWN0aXZlTWFya2Rvd25JbnB1dEZpZWxkLmJpbmRUYXJnZXRGaWxlIHx8ICFhY3RpdmVNYXJrZG93bklucHV0RmllbGQuaW5wdXRGaWVsZERlY2xhcmF0aW9uLmlzQm91bmQpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChhY3RpdmVNYXJrZG93bklucHV0RmllbGQuYmluZFRhcmdldEZpbGUucGF0aCA9PT0gZmlsZS5wYXRoKSB7XG5cdFx0XHRcdGlmIChtZXRhZGF0YSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0bWV0YWRhdGEgPSBhd2FpdCB0aGlzLmdldE1ldGFEYXRhRm9yRmlsZShmaWxlKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRhY3RpdmVNYXJrZG93bklucHV0RmllbGQudXBkYXRlVmFsdWUobWV0YWRhdGFbYWN0aXZlTWFya2Rvd25JbnB1dEZpZWxkLmJpbmRUYXJnZXRNZXRhZGF0YUZpZWxkXSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0YXN5bmMgdXBkYXRlTWV0YURhdGEoa2V5OiBzdHJpbmcsIHZhbHVlOiBhbnksIGZpbGU6IFRGaWxlKSB7XG5cdFx0TG9nZ2VyLmxvZ0RlYnVnKGB1cGRhdGluZyBgLCBrZXksIGA6IGAsIHZhbHVlLCBgIGluICcke2ZpbGUucGF0aH0nYCk7XG5cblx0XHRpZiAoIWZpbGUpIHtcblx0XHRcdGNvbnNvbGUubG9nKCdubyBmaWxlJyk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0bGV0IGZpbGVDb250ZW50OiBzdHJpbmcgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5yZWFkKGZpbGUpO1xuXHRcdGNvbnN0IHJlZ0V4cCA9IG5ldyBSZWdFeHAoJ14oLS0tKVxcXFxuW1xcXFxzXFxcXFNdKlxcXFxuLS0tJyk7XG5cdFx0ZmlsZUNvbnRlbnQgPSBmaWxlQ29udGVudC5yZXBsYWNlKHJlZ0V4cCwgJycpO1xuXG5cdFx0bGV0IG1ldGFkYXRhOiBhbnkgPSBhd2FpdCB0aGlzLmdldE1ldGFEYXRhRm9yRmlsZShmaWxlKTtcblx0XHQvLyBjb25zb2xlLmxvZyhtZXRhZGF0YSk7XG5cdFx0aWYgKCFtZXRhZGF0YSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdG1ldGFkYXRhW2tleV0gPSB2YWx1ZTtcblx0XHQvLyBjb25zb2xlLmxvZyhtZXRhZGF0YSk7XG5cblx0XHRmaWxlQ29udGVudCA9IGAtLS1cXG4ke3N0cmluZ2lmeVlhbWwobWV0YWRhdGEpfS0tLWAgKyBmaWxlQ29udGVudDtcblx0XHRhd2FpdCB0aGlzLmFwcC52YXVsdC5tb2RpZnkoZmlsZSwgZmlsZUNvbnRlbnQpO1xuXHR9XG5cblx0Z2V0RmlsZXNCeU5hbWUobmFtZTogc3RyaW5nKTogVEZpbGVbXSB7XG5cdFx0Ly8gY29uc29sZS5sb2coZ2V0RmlsZU5hbWUocmVtb3ZlRmlsZUVuZGluZyhuYW1lKSkpXG5cdFx0Y29uc3QgZmlsZU5hbWVJc1BhdGggPSBpc1BhdGgobmFtZSk7XG5cdFx0bGV0IHByb2Nlc3NlZEZpbGVOYW1lID0gZmlsZU5hbWVJc1BhdGggPyByZW1vdmVGaWxlRW5kaW5nKG5hbWUpIDogZ2V0RmlsZU5hbWUocmVtb3ZlRmlsZUVuZGluZyhuYW1lKSk7XG5cblx0XHRjb25zdCBhbGxGaWxlcyA9IHRoaXMuYXBwLnZhdWx0LmdldEZpbGVzKCk7XG5cdFx0Y29uc3QgZmlsZXM6IFRGaWxlW10gPSBbXTtcblx0XHRmb3IgKGNvbnN0IGZpbGUgb2YgYWxsRmlsZXMpIHtcblx0XHRcdC8vIGNvbnNvbGUubG9nKHJlbW92ZUZpbGVFbmRpbmcoZmlsZS5wYXRoKSk7XG5cdFx0XHRpZiAoZmlsZU5hbWVJc1BhdGgpIHtcblx0XHRcdFx0aWYgKHJlbW92ZUZpbGVFbmRpbmcoZmlsZS5wYXRoKSA9PT0gcHJvY2Vzc2VkRmlsZU5hbWUpIHtcblx0XHRcdFx0XHRmaWxlcy5wdXNoKGZpbGUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAoZ2V0RmlsZU5hbWUocmVtb3ZlRmlsZUVuZGluZyhmaWxlLm5hbWUpKSA9PT0gcHJvY2Vzc2VkRmlsZU5hbWUpIHtcblx0XHRcdFx0XHRmaWxlcy5wdXNoKGZpbGUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZpbGVzO1xuXHR9XG5cblx0YXN5bmMgZ2V0TWV0YURhdGFGb3JGaWxlKGZpbGU6IFRGaWxlKTogUHJvbWlzZTxhbnk+IHtcblx0XHQvLyBMb2dnZXIubG9nRGVidWcoYHJlYWRpbmcgbWV0YWRhdGEgZm9yICR7ZmlsZS5wYXRofWApO1xuXHRcdGxldCBtZXRhZGF0YTogYW55O1xuXG5cdFx0bGV0IGZpbGVDb250ZW50OiBzdHJpbmcgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5yZWFkKGZpbGUpO1xuXHRcdGNvbnN0IHJlZ0V4cCA9IG5ldyBSZWdFeHAoJ14oLS0tKVxcXFxuW1xcXFxzXFxcXFNdKlxcXFxuLS0tJyk7XG5cdFx0bGV0IGZyb250TWF0dGVyUmVnRXhwUmVzdWx0ID0gcmVnRXhwLmV4ZWMoZmlsZUNvbnRlbnQpO1xuXHRcdGlmICghZnJvbnRNYXR0ZXJSZWdFeHBSZXN1bHQpIHtcblx0XHRcdHJldHVybiB7fTtcblx0XHR9XG5cdFx0bGV0IGZyb250TWF0dGVyID0gZnJvbnRNYXR0ZXJSZWdFeHBSZXN1bHRbMF07XG5cdFx0aWYgKCFmcm9udE1hdHRlcikge1xuXHRcdFx0cmV0dXJuIHt9O1xuXHRcdH1cblx0XHQvLyBjb25zb2xlLmxvZyhmcm9udE1hdHRlcik7XG5cdFx0ZnJvbnRNYXR0ZXIgPSBmcm9udE1hdHRlci5zdWJzdHJpbmcoNCk7XG5cdFx0ZnJvbnRNYXR0ZXIgPSBmcm9udE1hdHRlci5zdWJzdHJpbmcoMCwgZnJvbnRNYXR0ZXIubGVuZ3RoIC0gMyk7XG5cdFx0Ly8gY29uc29sZS5sb2coZnJvbnRNYXR0ZXIpO1xuXG5cdFx0bWV0YWRhdGEgPSBwYXJzZVlhbWwoZnJvbnRNYXR0ZXIpO1xuXG5cdFx0aWYgKCFtZXRhZGF0YSkge1xuXHRcdFx0bWV0YWRhdGEgPSB7fTtcblx0XHR9XG5cblx0XHQvL2NvbnNvbGUubG9nKG1ldGFkYXRhKTtcblxuXHRcdHJldHVybiBtZXRhZGF0YTtcblx0fVxuXG5cdGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcblx0XHR0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcblx0fVxuXG5cdGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcblx0XHREYXRlUGFyc2VyLmRhdGVGb3JtYXQgPSB0aGlzLnNldHRpbmdzLmRhdGVGb3JtYXQ7XG5cdFx0TG9nZ2VyLmRldk1vZGUgPSB0aGlzLnNldHRpbmdzLmRldk1vZGU7XG5cdFx0YXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcblx0fVxufVxuIiwgImltcG9ydCB7QXBwLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgTWV0YUJpbmRQbHVnaW4gZnJvbSAnLi4vbWFpbic7XG5pbXBvcnQge0RhdGVGb3JtYXR9IGZyb20gJy4uL3BhcnNlcnMvRGF0ZVBhcnNlcic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWV0YUJpbmRQbHVnaW5TZXR0aW5ncyB7XG5cdGRldk1vZGU6IGJvb2xlYW47XG5cdGRhdGVGb3JtYXQ6IERhdGVGb3JtYXQ7XG5cdHN5bmNJbnRlcnZhbDogbnVtYmVyO1xuXHRtYXhTeW5jSW50ZXJ2YWw6IG51bWJlcjtcblx0bWluU3luY0ludGVydmFsOiBudW1iZXI7XG59XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX1NFVFRJTkdTOiBNZXRhQmluZFBsdWdpblNldHRpbmdzID0ge1xuXHRkZXZNb2RlOiBmYWxzZSxcblx0ZGF0ZUZvcm1hdDogRGF0ZUZvcm1hdC5VUyxcblx0c3luY0ludGVydmFsOiAyMDAsXG5cdG1pblN5bmNJbnRlcnZhbDogNTAsXG5cdG1heFN5bmNJbnRlcnZhbDogMTAwMCxcbn07XG5cbmV4cG9ydCBjbGFzcyBNZXRhQmluZFNldHRpbmdUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcblx0cGx1Z2luOiBNZXRhQmluZFBsdWdpbjtcblxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBNZXRhQmluZFBsdWdpbikge1xuXHRcdHN1cGVyKGFwcCwgcGx1Z2luKTtcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcblx0fVxuXG5cdGRpc3BsYXkoKTogdm9pZCB7XG5cdFx0Y29uc3Qge2NvbnRhaW5lckVsfSA9IHRoaXM7XG5cblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xuXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ2gyJywge3RleHQ6ICdNZXRhIEJpbmQgUGx1Z2luIFNldHRpbmdzJ30pO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnU3luYyBJbnRlcnZhbCcpXG5cdFx0XHQuc2V0RGVzYyhgVGhlIGludGVydmFsIGluIG1pbGxpLXNlY29uZHMgYmV0d2VlbiBkaXNrIHdyaXRlcy4gQ2hhbmdpbmcgdGhpcyBudW1iZXIgaXMgbm90IHJlY29tbWVuZGVkIGV4Y2VwdCBpZiB5b3VyIGhhcmQgZHJpdmUgaXMgZXhjZXB0aW9uYWxseSBzbG93LiBTdGFuZGFyZDogJHtERUZBVUxUX1NFVFRJTkdTLnN5bmNJbnRlcnZhbH07IE1pbmltdW06ICR7REVGQVVMVF9TRVRUSU5HUy5taW5TeW5jSW50ZXJ2YWx9OyBNYXhpbXVtOiAke0RFRkFVTFRfU0VUVElOR1MubWF4U3luY0ludGVydmFsfWApXG5cdFx0XHQuYWRkVGV4dChjYiA9PiB7XG5cdFx0XHRcdGNiLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnN5bmNJbnRlcnZhbC50b1N0cmluZygpKTtcblx0XHRcdFx0Y2Iub25DaGFuZ2UoZGF0YSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Muc3luY0ludGVydmFsID0gTnVtYmVyLnBhcnNlSW50KGRhdGEpO1xuXHRcdFx0XHRcdGlmIChOdW1iZXIuaXNOYU4odGhpcy5wbHVnaW4uc2V0dGluZ3Muc3luY0ludGVydmFsKSkge1xuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Muc3luY0ludGVydmFsID0gREVGQVVMVF9TRVRUSU5HUy5zeW5jSW50ZXJ2YWw7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zeW5jSW50ZXJ2YWwgPCBERUZBVUxUX1NFVFRJTkdTLm1pblN5bmNJbnRlcnZhbCkge1xuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Muc3luY0ludGVydmFsID0gREVGQVVMVF9TRVRUSU5HUy5taW5TeW5jSW50ZXJ2YWw7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zeW5jSW50ZXJ2YWwgPiBERUZBVUxUX1NFVFRJTkdTLm1heFN5bmNJbnRlcnZhbCkge1xuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Muc3luY0ludGVydmFsID0gREVGQVVMVF9TRVRUSU5HUy5tYXhTeW5jSW50ZXJ2YWw7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnRGF0ZSBmb3JtYXQnKVxuXHRcdFx0LnNldERlc2MoYFRoZSBkYXRlIGZvcm1hdCB0byBiZSB1c2VkIGJ5IHRoaXMgcGx1Z2luLmApXG5cdFx0XHQuYWRkRHJvcGRvd24oY2IgPT4ge1xuXHRcdFx0XHRjYi5hZGRPcHRpb25zKHtcblx0XHRcdFx0XHQndXMnOiAnVVMgZGF0ZSBmb3JtYXQgKDEvMzAvMjAyMiknLFxuXHRcdFx0XHRcdCdldSc6ICdFVSBkYXRlIGZvcm1hdCAoMzAvMS8yMDIyKScsXG5cdFx0XHRcdFx0J2ZfdXMnOiAnVVMgZGF0ZSBmb3JtYXQgKEphbnVhcnkgMzAsIDIwMjIpJyxcblx0XHRcdFx0XHQnZnNfdXMnOiAnVVMgZGF0ZSBmb3JtYXQgKEphbiAzMCwgMjAyMiknLFxuXHRcdFx0XHR9KTtcblx0XHRcdFx0Y2Iub25DaGFuZ2UoZGF0YSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZGF0ZUZvcm1hdCA9IGRhdGEgYXMgRGF0ZUZvcm1hdDtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ0RldiBNb2RlJylcblx0XHRcdC5zZXREZXNjKCdFbmFibGUgZGV2IG1vZGUuIE5vdCByZWNvbW1lbmRlZCB1bmxlc3MgeW91IHdhbnQgdG8gZGVidWcgdGhpcyBwbHVnaW4uJylcblx0XHRcdC5hZGRUb2dnbGUoY2IgPT4ge1xuXHRcdFx0XHRjYi5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kZXZNb2RlKTtcblx0XHRcdFx0Y2Iub25DaGFuZ2UoZGF0YSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZGV2TW9kZSA9IGRhdGE7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdH1cbn1cbiIsICJleHBvcnQgY2xhc3MgRGF0ZSB7XHJcblx0cHJpdmF0ZSBfZGF5OiBudW1iZXI7XHJcblx0cHJpdmF0ZSBfbW9udGg6IG51bWJlcjtcclxuXHRwcml2YXRlIF95ZWFyOiBudW1iZXI7XHJcblxyXG5cdHByaXZhdGUgX21vbnRoTWFwOiBSZWNvcmQ8bnVtYmVyLCBzdHJpbmc+ID0ge1xyXG5cdFx0MTogJ0phbnVhcnknLFxyXG5cdFx0MjogJ0ZlYnJ1YXJ5JyxcclxuXHRcdDM6ICdNYXJjaCcsXHJcblx0XHQ0OiAnQXByaWwnLFxyXG5cdFx0NTogJ01heScsXHJcblx0XHQ2OiAnSnVuZScsXHJcblx0XHQ3OiAnSnVseScsXHJcblx0XHQ4OiAnQXVndXN0JyxcclxuXHRcdDk6ICdTZXB0ZW1iZXInLFxyXG5cdFx0MTA6ICdPY3RvYmVyJyxcclxuXHRcdDExOiAnTm92ZW1iZXInLFxyXG5cdFx0MTI6ICdEZWNlbWJlcicsXHJcblx0fTtcclxuXHJcblx0cHJpdmF0ZSBfbW9udGhNYXBTaG9ydDogUmVjb3JkPG51bWJlciwgc3RyaW5nPiA9IHtcclxuXHRcdDE6ICdKYW4nLFxyXG5cdFx0MjogJ0ZlYicsXHJcblx0XHQzOiAnTWFyJyxcclxuXHRcdDQ6ICdBcHInLFxyXG5cdFx0NTogJ01heScsXHJcblx0XHQ2OiAnSnVuJyxcclxuXHRcdDc6ICdKdWwnLFxyXG5cdFx0ODogJ0F1ZycsXHJcblx0XHQ5OiAnU2VwJyxcclxuXHRcdDEwOiAnT2N0JyxcclxuXHRcdDExOiAnTm92JyxcclxuXHRcdDEyOiAnRGVjJyxcclxuXHR9O1xyXG5cclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdHRoaXMuc2V0RGF5KERhdGVQYXJzZXIuZ2V0RGVmYXVsdERheSgpKTtcclxuXHRcdHRoaXMuc2V0TW9udGgoRGF0ZVBhcnNlci5nZXREZWZhdWx0TW9udGgoKSk7XHJcblx0XHR0aGlzLnNldFllYXIoRGF0ZVBhcnNlci5nZXREZWZhdWx0WWVhcigpKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXREYXkoKTogbnVtYmVyIHtcclxuXHRcdHJldHVybiB0aGlzLl9kYXk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc2V0RGF5KHZhbHVlOiBudW1iZXIpIHtcclxuXHRcdGlmICh2YWx1ZSA8IDEgfHwgdmFsdWUgPiAzMSkge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblx0XHR0aGlzLl9kYXkgPSB2YWx1ZTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRNb250aCgpOiBudW1iZXIge1xyXG5cdFx0cmV0dXJuIHRoaXMuX21vbnRoO1xyXG5cdH1cclxuXHJcblx0cHVibGljIHNldE1vbnRoKHZhbHVlOiBudW1iZXIpIHtcclxuXHRcdGlmICh2YWx1ZSA8IDEgfHwgdmFsdWUgPiAxMikge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblx0XHR0aGlzLl9tb250aCA9IHZhbHVlO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldFllYXIoKTogbnVtYmVyIHtcclxuXHRcdHJldHVybiB0aGlzLl95ZWFyO1xyXG5cdH1cclxuXHJcblx0cHVibGljIHNldFllYXIodmFsdWU6IG51bWJlcikge1xyXG5cdFx0dGhpcy5feWVhciA9IHZhbHVlO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldFVuaWZvcm1EYXkoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiAoJzAwJyArIHRoaXMuZ2V0RGF5KCkudG9TdHJpbmcoKSkuc2xpY2UoLTIpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldFVuaWZvcm1Nb250aCgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuICgnMDAnICsgdGhpcy5nZXRNb250aCgpLnRvU3RyaW5nKCkpLnNsaWNlKC0yKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRVbmlmb3JtWWVhcigpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuICgnMDAwMCcgKyB0aGlzLmdldFllYXIoKS50b1N0cmluZygpKS5zbGljZSgtNCk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc2V0RGF5RnJvbVN0cmluZyhzdHI6IHN0cmluZykge1xyXG5cdFx0bGV0IHYgPSBOdW1iZXIucGFyc2VJbnQoc3RyKTtcclxuXHRcdHRoaXMuc2V0RGF5KE51bWJlci5pc05hTih2KSA/IERhdGVQYXJzZXIuZ2V0RGVmYXVsdERheSgpIDogdik7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc2V0TW9udGhGcm9tU3RyaW5nKHN0cjogc3RyaW5nKSB7XHJcblx0XHRsZXQgdiA9IE51bWJlci5wYXJzZUludChzdHIpO1xyXG5cdFx0dGhpcy5zZXRNb250aChOdW1iZXIuaXNOYU4odikgPyBEYXRlUGFyc2VyLmdldERlZmF1bHRNb250aCgpIDogdik7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc2V0WWVhckZyb21TdHJpbmcoc3RyOiBzdHJpbmcpIHtcclxuXHRcdGxldCB2ID0gTnVtYmVyLnBhcnNlSW50KHN0cik7XHJcblx0XHR0aGlzLnNldFllYXIoTnVtYmVyLmlzTmFOKHYpID8gRGF0ZVBhcnNlci5nZXREZWZhdWx0WWVhcigpIDogdik7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0TW9udGhOYW1lKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy5fbW9udGhNYXBbdGhpcy5nZXRNb250aCgpXTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRNb250aE5hbWVTaG9ydCgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuX21vbnRoTWFwU2hvcnRbdGhpcy5nZXRNb250aCgpXTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzZXRNb250aEZyb21OYW1lKG5hbWU6IHN0cmluZykge1xyXG5cdFx0Zm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXModGhpcy5fbW9udGhNYXApKSB7XHJcblx0XHRcdGlmICh2YWx1ZSA9PT0gbmFtZSkge1xyXG5cdFx0XHRcdHRoaXMuc2V0TW9udGhGcm9tU3RyaW5nKGtleSk7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Zm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXModGhpcy5fbW9udGhNYXBTaG9ydCkpIHtcclxuXHRcdFx0aWYgKHZhbHVlID09PSBuYW1lKSB7XHJcblx0XHRcdFx0dGhpcy5zZXRNb250aEZyb21TdHJpbmcoa2V5KTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIERhdGVGb3JtYXQge1xyXG5cdFVTID0gJ3VzJyxcclxuXHRFVSA9ICdldScsXHJcblx0RkFOQ1lfVVMgPSAnZl91cycsXHJcblx0RkFOQ1lfU0hPUlRfVVMgPSAnZnNfdXMnLFxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRGF0ZVBhcnNlciB7XHJcblx0cHVibGljIHN0YXRpYyBkYXRlRm9ybWF0OiBEYXRlRm9ybWF0O1xyXG5cclxuXHRwdWJsaWMgc3RhdGljIHN0cmluZ2lmeShkYXRlOiBEYXRlKTogc3RyaW5nIHtcclxuXHRcdGlmIChEYXRlUGFyc2VyLmRhdGVGb3JtYXQgPT09IERhdGVGb3JtYXQuVVMpIHtcclxuXHRcdFx0cmV0dXJuIERhdGVQYXJzZXIuc3RyaW5naWZ5VXNEYXRlKGRhdGUpO1xyXG5cdFx0fSBlbHNlIGlmIChEYXRlUGFyc2VyLmRhdGVGb3JtYXQgPT09IERhdGVGb3JtYXQuRVUpIHtcclxuXHRcdFx0cmV0dXJuIERhdGVQYXJzZXIuc3RyaW5naWZ5RXVEYXRlKGRhdGUpO1xyXG5cdFx0fSBlbHNlIGlmIChEYXRlUGFyc2VyLmRhdGVGb3JtYXQgPT09IERhdGVGb3JtYXQuRkFOQ1lfVVMpIHtcclxuXHRcdFx0cmV0dXJuIERhdGVQYXJzZXIuc3RyaW5naWZ5VXNGYW5jeURhdGUoZGF0ZSk7XHJcblx0XHR9IGVsc2UgaWYgKERhdGVQYXJzZXIuZGF0ZUZvcm1hdCA9PT0gRGF0ZUZvcm1hdC5GQU5DWV9TSE9SVF9VUykge1xyXG5cdFx0XHRyZXR1cm4gRGF0ZVBhcnNlci5zdHJpbmdpZnlVc0ZhbmN5RGF0ZVNob3J0KGRhdGUpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHVibGljIHN0YXRpYyBwYXJzZShkYXRlU3RyaW5nOiBzdHJpbmcpOiBEYXRlIHtcclxuXHRcdGlmIChEYXRlUGFyc2VyLmRhdGVGb3JtYXQgPT09IERhdGVGb3JtYXQuVVMpIHtcclxuXHRcdFx0cmV0dXJuIERhdGVQYXJzZXIucGFyc2VVc0RhdGUoZGF0ZVN0cmluZyk7XHJcblx0XHR9IGVsc2UgaWYgKERhdGVQYXJzZXIuZGF0ZUZvcm1hdCA9PT0gRGF0ZUZvcm1hdC5FVSkge1xyXG5cdFx0XHRyZXR1cm4gRGF0ZVBhcnNlci5wYXJzZUV1RGF0ZShkYXRlU3RyaW5nKTtcclxuXHRcdH0gZWxzZSBpZiAoRGF0ZVBhcnNlci5kYXRlRm9ybWF0ID09PSBEYXRlRm9ybWF0LkZBTkNZX1VTKSB7XHJcblx0XHRcdHJldHVybiBEYXRlUGFyc2VyLnBhcnNlVXNGYW5jeURhdGUoZGF0ZVN0cmluZyk7XHJcblx0XHR9IGVsc2UgaWYgKERhdGVQYXJzZXIuZGF0ZUZvcm1hdCA9PT0gRGF0ZUZvcm1hdC5GQU5DWV9TSE9SVF9VUykge1xyXG5cdFx0XHRyZXR1cm4gRGF0ZVBhcnNlci5wYXJzZVVzRmFuY3lEYXRlKGRhdGVTdHJpbmcpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHVibGljIHN0YXRpYyBzdHJpbmdpZnlFdURhdGUoZGF0ZTogRGF0ZSk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gYCR7ZGF0ZS5nZXRVbmlmb3JtRGF5KCl9LyR7ZGF0ZS5nZXRVbmlmb3JtTW9udGgoKX0vJHtkYXRlLmdldFVuaWZvcm1ZZWFyKCl9YDtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzdGF0aWMgcGFyc2VFdURhdGUoZGF0ZVN0cmluZzogc3RyaW5nKTogRGF0ZSB7XHJcblx0XHRjb25zdCBkYXRlOiBEYXRlID0gRGF0ZVBhcnNlci5nZXREZWZhdWx0RGF0ZSgpO1xyXG5cclxuXHRcdGNvbnN0IGRhdGVQYXJ0cyA9IGRhdGVTdHJpbmcuc3BsaXQoJy8nKTtcclxuXHRcdGlmIChkYXRlUGFydHMubGVuZ3RoICE9PSAzKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdGRhdGUuc2V0RGF5RnJvbVN0cmluZyhkYXRlUGFydHNbMF0pO1xyXG5cdFx0ZGF0ZS5zZXRNb250aEZyb21TdHJpbmcoZGF0ZVBhcnRzWzFdKTtcclxuXHRcdGRhdGUuc2V0WWVhckZyb21TdHJpbmcoZGF0ZVBhcnRzWzJdKTtcclxuXHJcblx0XHRyZXR1cm4gZGF0ZTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzdGF0aWMgc3RyaW5naWZ5VXNEYXRlKGRhdGU6IERhdGUpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIGAke2RhdGUuZ2V0VW5pZm9ybU1vbnRoKCl9LyR7ZGF0ZS5nZXRVbmlmb3JtRGF5KCl9LyR7ZGF0ZS5nZXRVbmlmb3JtWWVhcigpfWA7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc3RhdGljIHBhcnNlVXNEYXRlKGRhdGVTdHJpbmc6IHN0cmluZyk6IERhdGUge1xyXG5cdFx0Y29uc3QgZGF0ZTogRGF0ZSA9IERhdGVQYXJzZXIuZ2V0RGVmYXVsdERhdGUoKTtcclxuXHJcblx0XHRjb25zdCBkYXRlUGFydHMgPSBkYXRlU3RyaW5nLnNwbGl0KCcvJyk7XHJcblx0XHRpZiAoZGF0ZVBhcnRzLmxlbmd0aCAhPT0gMykge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRkYXRlLnNldE1vbnRoRnJvbVN0cmluZyhkYXRlUGFydHNbMF0pO1xyXG5cdFx0ZGF0ZS5zZXREYXlGcm9tU3RyaW5nKGRhdGVQYXJ0c1sxXSk7XHJcblx0XHRkYXRlLnNldFllYXJGcm9tU3RyaW5nKGRhdGVQYXJ0c1syXSk7XHJcblxyXG5cdFx0cmV0dXJuIGRhdGU7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc3RhdGljIHN0cmluZ2lmeVVzRmFuY3lEYXRlKGRhdGU6IERhdGUpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIGAke2RhdGUuZ2V0TW9udGhOYW1lKCl9ICR7ZGF0ZS5nZXREYXkoKS50b1N0cmluZygpfSwgJHtkYXRlLmdldFllYXIoKS50b1N0cmluZygpfWA7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc3RhdGljIHN0cmluZ2lmeVVzRmFuY3lEYXRlU2hvcnQoZGF0ZTogRGF0ZSk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gYCR7ZGF0ZS5nZXRNb250aE5hbWVTaG9ydCgpfSAke2RhdGUuZ2V0RGF5KCkudG9TdHJpbmcoKX0sICR7ZGF0ZS5nZXRZZWFyKCkudG9TdHJpbmcoKX1gO1xyXG5cdH1cclxuXHJcblx0cHVibGljIHN0YXRpYyBwYXJzZVVzRmFuY3lEYXRlKGRhdGVTdHJpbmc6IHN0cmluZyk6IERhdGUge1xyXG5cdFx0Y29uc3QgZGF0ZTogRGF0ZSA9IERhdGVQYXJzZXIuZ2V0RGVmYXVsdERhdGUoKTtcclxuXHJcblx0XHRjb25zdCBkYXRlUGFydHMgPSBkYXRlU3RyaW5nLnNwbGl0KCcsJykubWFwKHggPT4geC50cmltKCkpO1xyXG5cdFx0aWYgKGRhdGVQYXJ0cy5sZW5ndGggIT09IDIpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblx0XHRjb25zdCBkYXRlUGFydHNQYXJ0cyA9IGRhdGVQYXJ0c1swXS5zcGxpdCgnICcpO1xyXG5cdFx0aWYgKGRhdGVQYXJ0c1BhcnRzLmxlbmd0aCAhPT0gMikge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBjb25zb2xlLmxvZyhkYXRlUGFydHNQYXJ0cylcclxuXHJcblx0XHRkYXRlLnNldE1vbnRoRnJvbU5hbWUoZGF0ZVBhcnRzUGFydHNbMF0pO1xyXG5cdFx0ZGF0ZS5zZXREYXlGcm9tU3RyaW5nKGRhdGVQYXJ0c1BhcnRzWzFdKTtcclxuXHRcdGRhdGUuc2V0WWVhckZyb21TdHJpbmcoZGF0ZVBhcnRzWzFdKTtcclxuXHJcblx0XHRyZXR1cm4gZGF0ZTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzdGF0aWMgZ2V0RGVmYXVsdERhdGUoKTogRGF0ZSB7XHJcblx0XHRyZXR1cm4gbmV3IERhdGUoKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzdGF0aWMgZ2V0RGVmYXVsdERheSgpOiBudW1iZXIge1xyXG5cdFx0cmV0dXJuIDE7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc3RhdGljIGdldERlZmF1bHRNb250aCgpOiBudW1iZXIge1xyXG5cdFx0cmV0dXJuIDE7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc3RhdGljIGdldERlZmF1bHRZZWFyKCk6IG51bWJlciB7XHJcblx0XHRyZXR1cm4gMjAyMjtcclxuXHR9XHJcbn1cclxuIiwgImltcG9ydCB7TWFya2Rvd25SZW5kZXJDaGlsZCwgVEZpbGV9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCBNZXRhQmluZFBsdWdpbiBmcm9tICcuL21haW4nO1xuaW1wb3J0IHtMb2dnZXJ9IGZyb20gJy4vdXRpbHMvTG9nZ2VyJztcbmltcG9ydCB7QWJzdHJhY3RJbnB1dEZpZWxkfSBmcm9tICcuL2lucHV0RmllbGRzL0Fic3RyYWN0SW5wdXRGaWVsZCc7XG5pbXBvcnQge0lucHV0RmllbGRGYWN0b3J5fSBmcm9tICcuL2lucHV0RmllbGRzL0lucHV0RmllbGRGYWN0b3J5JztcbmltcG9ydCB7SW5wdXRGaWVsZERlY2xhcmF0aW9uLCBJbnB1dEZpZWxkRGVjbGFyYXRpb25QYXJzZXJ9IGZyb20gJy4vcGFyc2Vycy9JbnB1dEZpZWxkRGVjbGFyYXRpb25QYXJzZXInO1xuaW1wb3J0IHtNZXRhQmluZEJpbmRUYXJnZXRFcnJvcn0gZnJvbSAnLi91dGlscy9VdGlscyc7XG5cbmV4cG9ydCBlbnVtIElucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkVHlwZSB7XG5cdElOTElORV9DT0RFX0JMT0NLLFxuXHRDT0RFX0JMT0NLLFxufVxuXG5leHBvcnQgY2xhc3MgSW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQgZXh0ZW5kcyBNYXJrZG93blJlbmRlckNoaWxkIHtcblx0cGx1Z2luOiBNZXRhQmluZFBsdWdpbjtcblx0bWV0YURhdGE6IGFueTtcblx0ZmlsZVBhdGg6IHN0cmluZztcblx0dWlkOiBudW1iZXI7XG5cdGlucHV0RmllbGQ6IEFic3RyYWN0SW5wdXRGaWVsZDtcblx0ZXJyb3I6IHN0cmluZztcblxuXHRpbnB1dEZpZWxkRGVjbGFyYXRpb246IElucHV0RmllbGREZWNsYXJhdGlvbjtcblx0YmluZFRhcmdldEZpbGU6IFRGaWxlO1xuXHRiaW5kVGFyZ2V0TWV0YWRhdGFGaWVsZDogc3RyaW5nO1xuXG5cdGxpbWl0SW50ZXJ2YWw6IG51bWJlcjtcblx0aW50ZXJ2YWxDb3VudGVyOiBudW1iZXI7XG5cdHZhbHVlUXVldWU6IGFueVtdO1xuXG5cdGNvbnN0cnVjdG9yKGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudCwgdHlwZTogSW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGRUeXBlLCBmdWxsRGVjbGFyYXRpb246IHN0cmluZywgcGx1Z2luOiBNZXRhQmluZFBsdWdpbiwgZmlsZVBhdGg6IHN0cmluZywgdWlkOiBudW1iZXIpIHtcblx0XHRzdXBlcihjb250YWluZXJFbCk7XG5cblx0XHR0aGlzLmVycm9yID0gJyc7XG5cdFx0dGhpcy5maWxlUGF0aCA9IGZpbGVQYXRoO1xuXHRcdHRoaXMudWlkID0gdWlkO1xuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xuXG5cdFx0dGhpcy52YWx1ZVF1ZXVlID0gW107XG5cdFx0dGhpcy5pbnRlcnZhbENvdW50ZXIgPSAwO1xuXHRcdHRoaXMubGltaXRJbnRlcnZhbCA9IHdpbmRvdy5zZXRJbnRlcnZhbCgoKSA9PiB0aGlzLmFwcGx5VmFsdWVRdWV1ZVRvTWV0YWRhdGEoKSwgdGhpcy5wbHVnaW4uc2V0dGluZ3Muc3luY0ludGVydmFsKTtcblxuXHRcdHRyeSB7XG5cdFx0XHR0aGlzLmlucHV0RmllbGREZWNsYXJhdGlvbiA9IElucHV0RmllbGREZWNsYXJhdGlvblBhcnNlci5wYXJzZShmdWxsRGVjbGFyYXRpb24pO1xuXG5cdFx0XHRpZiAodGhpcy5pbnB1dEZpZWxkRGVjbGFyYXRpb24uaXNCb3VuZCkge1xuXHRcdFx0XHR0aGlzLnBhcnNlQmluZFRhcmdldCgpO1xuXHRcdFx0XHR0aGlzLm1ldGFEYXRhID0gdGhpcy5wbHVnaW4uZ2V0TWV0YURhdGFGb3JGaWxlKHRoaXMuYmluZFRhcmdldEZpbGUpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLmlucHV0RmllbGQgPSBJbnB1dEZpZWxkRmFjdG9yeS5jcmVhdGVJbnB1dEZpZWxkKHRoaXMuaW5wdXRGaWVsZERlY2xhcmF0aW9uLmlucHV0RmllbGRUeXBlLCB7XG5cdFx0XHRcdHR5cGU6IHR5cGUsXG5cdFx0XHRcdGlucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkOiB0aGlzLFxuXHRcdFx0XHRvblZhbHVlQ2hhbmdlZDogdGhpcy5wdXNoVG9WYWx1ZVF1ZXVlLmJpbmQodGhpcyksXG5cdFx0XHR9KTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHR0aGlzLmVycm9yID0gZS5tZXNzYWdlO1xuXHRcdFx0TG9nZ2VyLmxvZ1dhcm5pbmcoZSk7XG5cdFx0fVxuXHR9XG5cblx0cGFyc2VCaW5kVGFyZ2V0KCkge1xuXHRcdGxldCBiaW5kVGFyZ2V0UGFydHMgPSB0aGlzLmlucHV0RmllbGREZWNsYXJhdGlvbi5iaW5kVGFyZ2V0LnNwbGl0KCcjJyk7XG5cblx0XHRpZiAoYmluZFRhcmdldFBhcnRzLmxlbmd0aCA9PT0gMSkge1xuXHRcdFx0Ly8gdGhlIGJpbmQgdGFyZ2V0IGlzIGluIHRoZSBzYW1lIGZpbGVcblx0XHRcdHRoaXMuYmluZFRhcmdldE1ldGFkYXRhRmllbGQgPSB0aGlzLmlucHV0RmllbGREZWNsYXJhdGlvbi5iaW5kVGFyZ2V0O1xuXG5cdFx0XHRjb25zdCBmaWxlcyA9IHRoaXMucGx1Z2luLmdldEZpbGVzQnlOYW1lKHRoaXMuZmlsZVBhdGgpO1xuXHRcdFx0aWYgKGZpbGVzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgTWV0YUJpbmRCaW5kVGFyZ2V0RXJyb3IoJ2JpbmQgdGFyZ2V0IGZpbGUgbm90IGZvdW5kJyk7XG5cdFx0XHR9IGVsc2UgaWYgKGZpbGVzLmxlbmd0aCA9PT0gMSkge1xuXHRcdFx0XHR0aGlzLmJpbmRUYXJnZXRGaWxlID0gZmlsZXNbMF07XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aHJvdyBuZXcgTWV0YUJpbmRCaW5kVGFyZ2V0RXJyb3IoJ2JpbmQgdGFyZ2V0IHJlc29sdmVzIHRvIG11bHRpcGxlIGZpbGVzOyBwbGVhc2UgYWxzbyBzcGVjaWZ5IHRoZSBmaWxlIHBhdGgnKTtcblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKGJpbmRUYXJnZXRQYXJ0cy5sZW5ndGggPT09IDIpIHtcblx0XHRcdC8vIHRoZSBiaW5kIHRhcmdldCBpcyBpbiBhbm90aGVyIGZpbGVcblx0XHRcdHRoaXMuYmluZFRhcmdldE1ldGFkYXRhRmllbGQgPSBiaW5kVGFyZ2V0UGFydHNbMV07XG5cblx0XHRcdGNvbnN0IGZpbGVzID0gdGhpcy5wbHVnaW4uZ2V0RmlsZXNCeU5hbWUoYmluZFRhcmdldFBhcnRzWzBdKTtcblx0XHRcdGlmIChmaWxlcy5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGFCaW5kQmluZFRhcmdldEVycm9yKCdiaW5kIHRhcmdldCBmaWxlIG5vdCBmb3VuZCcpO1xuXHRcdFx0fSBlbHNlIGlmIChmaWxlcy5sZW5ndGggPT09IDEpIHtcblx0XHRcdFx0dGhpcy5iaW5kVGFyZ2V0RmlsZSA9IGZpbGVzWzBdO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGFCaW5kQmluZFRhcmdldEVycm9yKCdiaW5kIHRhcmdldCByZXNvbHZlcyB0byBtdWx0aXBsZSBmaWxlczsgcGxlYXNlIGFsc28gc3BlY2lmeSB0aGUgZmlsZSBwYXRoJyk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRocm93IG5ldyBNZXRhQmluZEJpbmRUYXJnZXRFcnJvcignYmluZCB0YXJnZXQgbWF5IG9ubHkgY29udGFpbiBvbmUgXFwnI1xcJyB0byBzcGVjaWZ5IHRoZSBtZXRhZGF0YSBmaWVsZCcpO1xuXHRcdH1cblxuXG5cdH1cblxuXHQvLyB1c2UgdGhpcyBpbnRlcnZhbCB0byByZWR1Y2Ugd3JpdGluZyBvcGVyYXRpb25zXG5cdGFzeW5jIGFwcGx5VmFsdWVRdWV1ZVRvTWV0YWRhdGEoKSB7XG5cdFx0aWYgKHRoaXMudmFsdWVRdWV1ZS5sZW5ndGggPiAwKSB7XG5cdFx0XHQvLyBjb25zb2xlLmxvZyh0aGlzLnZhbHVlUXVldWUuYXQoLTEpKVxuXHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4udXBkYXRlTWV0YURhdGEodGhpcy5iaW5kVGFyZ2V0TWV0YWRhdGFGaWVsZCwgdGhpcy52YWx1ZVF1ZXVlLmF0KC0xKSwgdGhpcy5iaW5kVGFyZ2V0RmlsZSk7XG5cdFx0XHR0aGlzLnZhbHVlUXVldWUgPSBbXTtcblx0XHR9XG5cdH1cblxuXHRhc3luYyBwdXNoVG9WYWx1ZVF1ZXVlKHZhbHVlOiBhbnkpIHtcblx0XHRpZiAodGhpcy5pbnB1dEZpZWxkRGVjbGFyYXRpb24uaXNCb3VuZCkge1xuXHRcdFx0dGhpcy52YWx1ZVF1ZXVlLnB1c2godmFsdWUpO1xuXHRcdH1cblx0fVxuXG5cdHVwZGF0ZVZhbHVlKHZhbHVlOiBhbnkpIHtcblx0XHRpZiAodmFsdWUgPT0gbnVsbCkge1xuXHRcdFx0dmFsdWUgPSB0aGlzLmlucHV0RmllbGQuZ2V0RGVmYXVsdFZhbHVlKCk7XG5cdFx0fVxuXG5cdFx0aWYgKCF0aGlzLmlucHV0RmllbGQuaXNFcXVhbFZhbHVlKHZhbHVlKSAmJiB0aGlzLnZhbHVlUXVldWUubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRMb2dnZXIubG9nRGVidWcoYHVwZGF0aW5nIGlucHV0IGZpZWxkICR7dGhpcy51aWR9IHRvYCwgdmFsdWUpO1xuXHRcdFx0dGhpcy5pbnB1dEZpZWxkLnNldFZhbHVlKHZhbHVlKTtcblx0XHR9XG5cdH1cblxuXHRnZXRJbml0aWFsVmFsdWUoKSB7XG5cdFx0Ly8gY29uc29sZS5sb2codGhpcyk7XG5cdFx0aWYgKHRoaXMuaW5wdXRGaWVsZERlY2xhcmF0aW9uLmlzQm91bmQpIHtcblx0XHRcdHJldHVybiB0aGlzLm1ldGFEYXRhW3RoaXMuYmluZFRhcmdldE1ldGFkYXRhRmllbGRdID8/IHRoaXMuaW5wdXRGaWVsZC5nZXREZWZhdWx0VmFsdWUoKTtcblx0XHR9XG5cdH1cblxuXHRnZXRBcmd1bWVudHMobmFtZTogc3RyaW5nKSB7XG5cdFx0cmV0dXJuIHRoaXMuaW5wdXRGaWVsZERlY2xhcmF0aW9uLmFyZ3VtZW50cy5maWx0ZXIoeCA9PiB4Lm5hbWUgPT09IG5hbWUpO1xuXHR9XG5cblx0Z2V0QXJndW1lbnQobmFtZTogc3RyaW5nKSB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0QXJndW1lbnRzKG5hbWUpLmZpcnN0KCk7XG5cdH1cblxuXHRhc3luYyBvbmxvYWQoKSB7XG5cdFx0TG9nZ2VyLmxvZ0RlYnVnKCdsb2FkJywgdGhpcyk7XG5cblx0XHR0aGlzLm1ldGFEYXRhID0gYXdhaXQgdGhpcy5tZXRhRGF0YTtcblxuXHRcdGNvbnN0IGNvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQgPSB0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZURpdigpO1xuXHRcdGNvbnRhaW5lci5hZGRDbGFzcygnbWV0YS1iaW5kLXBsdWdpbi1pbnB1dC13cmFwcGVyJyk7XG5cdFx0dGhpcy5jb250YWluZXJFbC5hZGRDbGFzcygnbWV0YS1iaW5kLXBsdWdpbi1pbnB1dCcpO1xuXG5cdFx0aWYgKHRoaXMuZXJyb3IpIHtcblx0XHRcdGNvbnRhaW5lci5pbm5lclRleHQgPSBgIC0+IEVSUk9SOiAke3RoaXMuZXJyb3J9YDtcblx0XHRcdGNvbnRhaW5lci5hZGRDbGFzcygnbWV0YS1iaW5kLXBsdWdpbi1lcnJvcicpO1xuXHRcdFx0dGhpcy5jb250YWluZXJFbC5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRoaXMucGx1Z2luLnJlZ2lzdGVyTWFya2Rvd25JbnB1dEZpZWxkKHRoaXMpO1xuXG5cdFx0dGhpcy5pbnB1dEZpZWxkLnJlbmRlcihjb250YWluZXIpO1xuXG5cdFx0Y29uc3QgY2xhc3NBcmd1bWVudCA9IHRoaXMuZ2V0QXJndW1lbnRzKCdjbGFzcycpO1xuXHRcdGlmIChjbGFzc0FyZ3VtZW50KSB7XG5cdFx0XHR0aGlzLmlucHV0RmllbGQuZ2V0SHRtbEVsZW1lbnQoKS5hZGRDbGFzc2VzKGNsYXNzQXJndW1lbnQubWFwKHggPT4geC52YWx1ZSkpO1xuXHRcdH1cblxuXG5cdFx0dGhpcy5jb250YWluZXJFbC5lbXB0eSgpO1xuXHRcdHRoaXMuY29udGFpbmVyRWwuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcblx0fVxuXG5cdG9udW5sb2FkKCkge1xuXHRcdExvZ2dlci5sb2dEZWJ1ZygndW5sb2FkJywgdGhpcyk7XG5cblx0XHR0aGlzLnBsdWdpbi51bnJlZ2lzdGVyTWFya2Rvd25JbnB1dEZpZWxkKHRoaXMpO1xuXG5cdFx0c3VwZXIub251bmxvYWQoKTtcblxuXHRcdC8vY29uc29sZS5sb2coJ3VubG9hZCcsIHRoaXMpO1xuXHRcdHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMubGltaXRJbnRlcnZhbCk7XG5cdH1cbn1cbiIsICJleHBvcnQgY2xhc3MgTG9nZ2VyIHtcclxuXHRzdGF0aWMgZGV2TW9kZTogYm9vbGVhbjtcclxuXHRzdGF0aWMgcHJlZml4OiBzdHJpbmcgPSAnbWV0YS1iaW5kIHwnO1xyXG5cclxuXHQvKipcclxuXHQgKiBMb2dzIHRvIHRoZSBjb25zb2xlIHdpdGggdGhlIHBsdWdpbiBwcmVmaXhcclxuXHQgKlxyXG5cdCAqIEBwYXJhbSBkYXRhXHJcblx0ICovXHJcblx0c3RhdGljIGxvZyguLi5kYXRhOiBhbnkpOiB2b2lkIHtcclxuXHRcdGNvbnNvbGUubG9nKHRoaXMucHJlZml4LCAuLi5kYXRhKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIExvZ3MgdG8gdGhlIGNvbnNvbGUgd2l0aCB0aGUgcGx1Z2luIHByZWZpeCwgaWYgZGV2IG1vZGUgaXMgdHVybmVkIG9uIGluIHRoZSBwbHVnaW4gc2V0dGluZ3NcclxuXHQgKlxyXG5cdCAqIEBwYXJhbSBkYXRhXHJcblx0ICovXHJcblx0c3RhdGljIGxvZ0RlYnVnKC4uLmRhdGE6IGFueSk6IHZvaWQge1xyXG5cdFx0aWYgKHRoaXMuZGV2TW9kZSkge1xyXG5cdFx0XHRMb2dnZXIubG9nKC4uLmRhdGEpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTG9ncyBhIHdhcm5pbmcgdG8gdGhlIGNvbnNvbGUgd2l0aCB0aGUgcGx1Z2luIHByZWZpeFxyXG5cdCAqXHJcblx0ICogQHBhcmFtIGRhdGFcclxuXHQgKi9cclxuXHRzdGF0aWMgbG9nV2FybmluZyguLi5kYXRhOiBhbnkpOiB2b2lkIHtcclxuXHRcdGNvbnNvbGUud2Fybih0aGlzLnByZWZpeCwgZGF0YSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBMb2dzIGFuIGVycm9yIHRvIHRoZSBjb25zb2xlIHdpdGggdGhlIHBsdWdpbiBwcmVmaXhcclxuXHQgKlxyXG5cdCAqIEBwYXJhbSBkYXRhXHJcblx0ICovXHJcblx0c3RhdGljIGxvZ0Vycm9yKC4uLmRhdGE6IGFueSk6IHZvaWQge1xyXG5cdFx0Y29uc29sZS5lcnJvcih0aGlzLnByZWZpeCwgZGF0YSk7XHJcblx0fVxyXG59XHJcbiIsICJpbXBvcnQge0lucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkfSBmcm9tICcuLi9JbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZCc7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQWJzdHJhY3RJbnB1dEZpZWxkIHtcclxuXHRzdGF0aWMgYWxsb3dDb2RlQmxvY2s6IGJvb2xlYW4gPSB0cnVlO1xyXG5cdHN0YXRpYyBhbGxvd0lubGluZUNvZGVCbG9jazogYm9vbGVhbiA9IHRydWU7XHJcblx0aW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQ6IElucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkO1xyXG5cdG9uVmFsdWVDaGFuZ2U6ICh2YWx1ZTogYW55KSA9PiB2b2lkIHwgUHJvbWlzZTx2b2lkPjtcclxuXHJcblx0Y29uc3RydWN0b3IoaW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQ6IElucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkLCBvblZhbHVlQ2hhbmdlOiAodmFsdWU6IGFueSkgPT4gdm9pZCB8IFByb21pc2U8dm9pZD4pIHtcclxuXHRcdHRoaXMuaW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQgPSBpbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZDtcclxuXHRcdHRoaXMub25WYWx1ZUNoYW5nZSA9IG9uVmFsdWVDaGFuZ2U7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBSZXR1cm5zIHRoZSBjdXJyZW50IGNvbnRlbnQgb2YgdGhlIGlucHV0IGZpZWxkXHJcblx0ICovXHJcblx0YWJzdHJhY3QgZ2V0VmFsdWUoKTogYW55O1xyXG5cclxuXHQvKipcclxuXHQgKiBTZXRzIHRoZSB2YWx1ZSBvbiB0aGlzIGlucHV0IGZpZWxkLCBvdmVycmlkaW5nIHRoZSBjdXJyZW50IGNvbnRlbnRcclxuXHQgKlxyXG5cdCAqIEBwYXJhbSB2YWx1ZVxyXG5cdCAqL1xyXG5cdGFic3RyYWN0IHNldFZhbHVlKHZhbHVlOiBhbnkpOiB2b2lkO1xyXG5cclxuXHQvKipcclxuXHQgKiBDaGVja3MgaWYgdGhlIHZhbHVlIGlzIHRoZSBzYW1lIGFzIHRoZSB2YWx1ZSBvZiB0aGlzIGlucHV0IGZpZWxkXHJcblx0ICpcclxuXHQgKiBAcGFyYW0gdmFsdWVcclxuXHQgKi9cclxuXHRhYnN0cmFjdCBpc0VxdWFsVmFsdWUodmFsdWU6IGFueSk6IGJvb2xlYW47XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJldHVybnMgdGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhpcyBpbnB1dCBmaWVsZFxyXG5cdCAqL1xyXG5cdGFic3RyYWN0IGdldERlZmF1bHRWYWx1ZSgpOiBhbnk7XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJldHVybnMgdGhlIEhUTUwgZWxlbWVudCB0aGlzIGlucHV0IGZpZWxkIGlzIHdyYXBwZWQgaW5cclxuXHQgKi9cclxuXHRhYnN0cmFjdCBnZXRIdG1sRWxlbWVudCgpOiBIVE1MRWxlbWVudDtcclxuXHJcblx0LyoqXHJcblx0ICogUmVuZGVycyB0aGUgaW5wdXQgZmllbGQgYXMgYSBjaGlsZCBvZiB0aGUgY29udGFpbmVyXHJcblx0ICpcclxuXHQgKiBAcGFyYW0gY29udGFpbmVyXHJcblx0ICovXHJcblx0YWJzdHJhY3QgcmVuZGVyKGNvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQpOiB2b2lkO1xyXG59XHJcbiIsICJpbXBvcnQge0Fic3RyYWN0SW5wdXRGaWVsZH0gZnJvbSAnLi9BYnN0cmFjdElucHV0RmllbGQnO1xuaW1wb3J0IHtUb2dnbGVDb21wb25lbnR9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7TG9nZ2VyfSBmcm9tICcuLi91dGlscy9Mb2dnZXInO1xuXG5leHBvcnQgY2xhc3MgVG9nZ2xlSW5wdXRGaWVsZCBleHRlbmRzIEFic3RyYWN0SW5wdXRGaWVsZCB7XG5cdHRvZ2dsZUNvbXBvbmVudDogVG9nZ2xlQ29tcG9uZW50O1xuXG5cdGdldFZhbHVlKCk6IGFueSB7XG5cdFx0cmV0dXJuIHRoaXMudG9nZ2xlQ29tcG9uZW50LmdldFZhbHVlKCk7XG5cdH1cblxuXHRzZXRWYWx1ZSh2YWx1ZTogYW55KTogdm9pZCB7XG5cdFx0aWYgKHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlID09ICdib29sZWFuJykge1xuXHRcdFx0dGhpcy50b2dnbGVDb21wb25lbnQuc2V0VmFsdWUodmFsdWUpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRMb2dnZXIubG9nV2FybmluZyhgY2FuIG5vdCBzZXQgdmFsdWUgb2YgdG9nZ2xlIHRvIFxcJyR7dmFsdWV9XFwnYCk7XG5cdFx0XHR0aGlzLnRvZ2dsZUNvbXBvbmVudC5zZXRWYWx1ZShmYWxzZSk7XG5cdFx0fVxuXHR9XG5cblx0aXNFcXVhbFZhbHVlKHZhbHVlOiBhbnkpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdGhpcy5nZXRWYWx1ZSgpID09IHZhbHVlO1xuXHR9XG5cblx0Z2V0RGVmYXVsdFZhbHVlKCk6IGFueSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0Z2V0SHRtbEVsZW1lbnQoKTogSFRNTEVsZW1lbnQge1xuXHRcdHJldHVybiB0aGlzLnRvZ2dsZUNvbXBvbmVudC50b2dnbGVFbDtcblx0fVxuXG5cdHJlbmRlcihjb250YWluZXI6IEhUTUxEaXZFbGVtZW50KTogdm9pZCB7XG5cdFx0Y29uc3QgY29tcG9uZW50ID0gbmV3IFRvZ2dsZUNvbXBvbmVudChjb250YWluZXIpO1xuXHRcdGNvbXBvbmVudC5zZXRWYWx1ZSh0aGlzLmlucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkLmdldEluaXRpYWxWYWx1ZSgpKTtcblx0XHRjb21wb25lbnQub25DaGFuZ2UodGhpcy5vblZhbHVlQ2hhbmdlKTtcblx0XHR0aGlzLnRvZ2dsZUNvbXBvbmVudCA9IGNvbXBvbmVudDtcblx0fVxuXG59XG4iLCAiaW1wb3J0IHtBYnN0cmFjdElucHV0RmllbGR9IGZyb20gJy4vQWJzdHJhY3RJbnB1dEZpZWxkJztcclxuaW1wb3J0IHtUZXh0Q29tcG9uZW50fSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCB7TG9nZ2VyfSBmcm9tICcuLi91dGlscy9Mb2dnZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRleHRJbnB1dEZpZWxkIGV4dGVuZHMgQWJzdHJhY3RJbnB1dEZpZWxkIHtcclxuXHR0ZXh0Q29tcG9uZW50OiBUZXh0Q29tcG9uZW50O1xyXG5cclxuXHRnZXRWYWx1ZSgpOiBhbnkge1xyXG5cdFx0cmV0dXJuIHRoaXMudGV4dENvbXBvbmVudC5nZXRWYWx1ZSgpO1xyXG5cdH1cclxuXHJcblx0c2V0VmFsdWUodmFsdWU6IGFueSk6IHZvaWQge1xyXG5cdFx0aWYgKHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKSB7XHJcblx0XHRcdHRoaXMudGV4dENvbXBvbmVudC5zZXRWYWx1ZSh2YWx1ZSk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRMb2dnZXIubG9nV2FybmluZyhgY2FuIG5vdCBzZXQgdmFsdWUgb2YgdGV4dCBpbnB1dCB0byBcXCcke3ZhbHVlfVxcJ2ApO1xyXG5cdFx0XHR0aGlzLnRleHRDb21wb25lbnQuc2V0VmFsdWUoJycpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0aXNFcXVhbFZhbHVlKHZhbHVlOiBhbnkpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiB0aGlzLmdldFZhbHVlKCkgPT0gdmFsdWU7XHJcblx0fVxyXG5cclxuXHRnZXREZWZhdWx0VmFsdWUoKTogYW55IHtcclxuXHRcdHJldHVybiAnJztcclxuXHR9XHJcblxyXG5cdGdldEh0bWxFbGVtZW50KCk6IEhUTUxFbGVtZW50IHtcclxuXHRcdHJldHVybiB0aGlzLnRleHRDb21wb25lbnQuaW5wdXRFbDtcclxuXHR9XHJcblxyXG5cdHJlbmRlcihjb250YWluZXI6IEhUTUxEaXZFbGVtZW50KTogdm9pZCB7XHJcblx0XHRjb25zdCBjb21wb25lbnQgPSBuZXcgVGV4dENvbXBvbmVudChjb250YWluZXIpO1xyXG5cdFx0Y29tcG9uZW50LnNldFZhbHVlKHRoaXMuaW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQuZ2V0SW5pdGlhbFZhbHVlKCkpO1xyXG5cdFx0Y29tcG9uZW50Lm9uQ2hhbmdlKHRoaXMub25WYWx1ZUNoYW5nZSk7XHJcblx0XHR0aGlzLnRleHRDb21wb25lbnQgPSBjb21wb25lbnQ7XHJcblx0fVxyXG5cclxufVxyXG4iLCAiaW1wb3J0IHtBYnN0cmFjdElucHV0RmllbGR9IGZyb20gJy4vQWJzdHJhY3RJbnB1dEZpZWxkJztcbmltcG9ydCB7U2xpZGVyQ29tcG9uZW50fSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQge0xvZ2dlcn0gZnJvbSAnLi4vdXRpbHMvTG9nZ2VyJztcbmltcG9ydCB7SW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGR9IGZyb20gJy4uL0lucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkJztcblxuZXhwb3J0IGNsYXNzIFNsaWRlcklucHV0RmllbGQgZXh0ZW5kcyBBYnN0cmFjdElucHV0RmllbGQge1xuXHRzbGlkZXJDb21wb25lbnQ6IFNsaWRlckNvbXBvbmVudDtcblx0bWluVmFsdWU6IG51bWJlcjtcblx0bWF4VmFsdWU6IG51bWJlcjtcblxuXG5cdGNvbnN0cnVjdG9yKGlucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkOiBJbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZCwgb25WYWx1ZUNoYW5nZTogKHZhbHVlOiBhbnkpID0+ICh2b2lkIHwgUHJvbWlzZTx2b2lkPikpIHtcblx0XHRzdXBlcihpbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZCwgb25WYWx1ZUNoYW5nZSk7XG5cdFx0dGhpcy5taW5WYWx1ZSA9IGlucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkLmdldEFyZ3VtZW50KCdtaW5WYWx1ZScpPy52YWx1ZSA/PyAwO1xuXHRcdHRoaXMubWF4VmFsdWUgPSBpbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZC5nZXRBcmd1bWVudCgnbWF4VmFsdWUnKT8udmFsdWUgPz8gMTAwO1xuXHR9XG5cblx0Z2V0VmFsdWUoKTogYW55IHtcblx0XHRyZXR1cm4gdGhpcy5zbGlkZXJDb21wb25lbnQuZ2V0VmFsdWUoKTtcblx0fVxuXG5cdHNldFZhbHVlKHZhbHVlOiBhbnkpOiB2b2lkIHtcblx0XHRpZiAodmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicpIHtcblx0XHRcdGlmICh2YWx1ZSA+PSB0aGlzLm1pblZhbHVlICYmIHZhbHVlIDw9IHRoaXMubWF4VmFsdWUpIHtcblx0XHRcdFx0dGhpcy5zbGlkZXJDb21wb25lbnQuc2V0VmFsdWUodmFsdWUpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRMb2dnZXIubG9nV2FybmluZyhgY2FuIG5vdCBzZXQgdmFsdWUgb2Ygc2xpZGVyIHRvIFxcJyR7dmFsdWV9XFwnYCk7XG5cdFx0XHR0aGlzLnNsaWRlckNvbXBvbmVudC5zZXRWYWx1ZSh0aGlzLmdldERlZmF1bHRWYWx1ZSgpKTtcblx0XHR9XG5cdH1cblxuXHRpc0VxdWFsVmFsdWUodmFsdWU6IGFueSk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiB0aGlzLmdldFZhbHVlKCkgPT0gdmFsdWU7XG5cdH1cblxuXHRnZXREZWZhdWx0VmFsdWUoKTogYW55IHtcblx0XHRyZXR1cm4gdGhpcy5taW5WYWx1ZTtcblx0fVxuXG5cdGdldEh0bWxFbGVtZW50KCk6IEhUTUxFbGVtZW50IHtcblx0XHRyZXR1cm4gdGhpcy5zbGlkZXJDb21wb25lbnQuc2xpZGVyRWw7XG5cdH1cblxuXHRyZW5kZXIoY29udGFpbmVyOiBIVE1MRGl2RWxlbWVudCk6IHZvaWQge1xuXHRcdGNvbnRhaW5lci5yZW1vdmVDbGFzcygnbWV0YS1iaW5kLXBsdWdpbi1pbnB1dC13cmFwcGVyJyk7XG5cdFx0Y29udGFpbmVyLmFkZENsYXNzKCdtZXRhLWJpbmQtcGx1Z2luLWZsZXgtaW5wdXQtd3JhcHBlcicpO1xuXG5cdFx0bGV0IGxhYmVsQXJndW1lbnQgPSB0aGlzLmlucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkLmdldEFyZ3VtZW50KCdsYWJlbHMnKTtcblx0XHRpZiAobGFiZWxBcmd1bWVudCAmJiBsYWJlbEFyZ3VtZW50LnZhbHVlID09PSB0cnVlKSB7XG5cdFx0XHRjb250YWluZXIuY3JlYXRlU3Bhbih7dGV4dDogdGhpcy5taW5WYWx1ZS50b1N0cmluZygpLCBjbHM6ICdtZXRhLWJpbmQtcGx1Z2luLXNsaWRlci1pbnB1dC1sYWJlbCd9KTtcblx0XHR9XG5cblx0XHRjb25zdCBjb21wb25lbnQgPSBuZXcgU2xpZGVyQ29tcG9uZW50KGNvbnRhaW5lcik7XG5cdFx0Y29tcG9uZW50LnNldFZhbHVlKHRoaXMuaW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQuZ2V0SW5pdGlhbFZhbHVlKCkpO1xuXHRcdGNvbXBvbmVudC5vbkNoYW5nZSh0aGlzLm9uVmFsdWVDaGFuZ2UpO1xuXHRcdGNvbXBvbmVudC5zZXREeW5hbWljVG9vbHRpcCgpO1xuXHRcdGNvbXBvbmVudC5zZXRMaW1pdHModGhpcy5taW5WYWx1ZSwgdGhpcy5tYXhWYWx1ZSwgMSk7XG5cdFx0Y29tcG9uZW50LnNsaWRlckVsLmFkZENsYXNzKCdtZXRhLWJpbmQtcGx1Z2luLXNsaWRlci1pbnB1dCcpO1xuXG5cdFx0aWYgKGxhYmVsQXJndW1lbnQgJiYgbGFiZWxBcmd1bWVudC52YWx1ZSA9PT0gdHJ1ZSkge1xuXHRcdFx0Y29udGFpbmVyLmNyZWF0ZVNwYW4oe3RleHQ6IHRoaXMubWF4VmFsdWUudG9TdHJpbmcoKSwgY2xzOiAnbWV0YS1iaW5kLXBsdWdpbi1zbGlkZXItaW5wdXQtbGFiZWwnfSk7XG5cdFx0fVxuXG5cdFx0dGhpcy5zbGlkZXJDb21wb25lbnQgPSBjb21wb25lbnQ7XG5cdH1cblxufVxuIiwgImltcG9ydCB7QWJzdHJhY3RJbnB1dEZpZWxkfSBmcm9tICcuL0Fic3RyYWN0SW5wdXRGaWVsZCc7XHJcbmltcG9ydCB7VGV4dEFyZWFDb21wb25lbnR9IGZyb20gJ29ic2lkaWFuJztcclxuaW1wb3J0IHtMb2dnZXJ9IGZyb20gJy4uL3V0aWxzL0xvZ2dlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgVGV4dEFyZWFJbnB1dEZpZWxkIGV4dGVuZHMgQWJzdHJhY3RJbnB1dEZpZWxkIHtcclxuXHR0ZXh0QXJlYUNvbXBvbmVudDogVGV4dEFyZWFDb21wb25lbnQ7XHJcblxyXG5cdGdldFZhbHVlKCk6IGFueSB7XHJcblx0XHRyZXR1cm4gdGhpcy50ZXh0QXJlYUNvbXBvbmVudC5nZXRWYWx1ZSgpO1xyXG5cdH1cclxuXHJcblx0c2V0VmFsdWUodmFsdWU6IGFueSk6IHZvaWQge1xyXG5cdFx0aWYgKHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKSB7XHJcblx0XHRcdHRoaXMudGV4dEFyZWFDb21wb25lbnQuc2V0VmFsdWUodmFsdWUpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0TG9nZ2VyLmxvZ1dhcm5pbmcoYGNhbiBub3Qgc2V0IHZhbHVlIG9mIHRleHQgYXJlYSBpbnB1dCB0byBcXCcke3ZhbHVlfVxcJ2ApO1xyXG5cdFx0XHR0aGlzLnRleHRBcmVhQ29tcG9uZW50LnNldFZhbHVlKCcnKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGlzRXF1YWxWYWx1ZSh2YWx1ZTogYW55KTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdGhpcy5nZXRWYWx1ZSgpID09IHZhbHVlO1xyXG5cdH1cclxuXHJcblx0Z2V0RGVmYXVsdFZhbHVlKCk6IGFueSB7XHJcblx0XHRyZXR1cm4gJyc7XHJcblx0fVxyXG5cclxuXHRnZXRIdG1sRWxlbWVudCgpOiBIVE1MRWxlbWVudCB7XHJcblx0XHRyZXR1cm4gdGhpcy50ZXh0QXJlYUNvbXBvbmVudC5pbnB1dEVsO1xyXG5cdH1cclxuXHJcblx0cmVuZGVyKGNvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQpOiB2b2lkIHtcclxuXHRcdGNvbnN0IGNvbXBvbmVudCA9IG5ldyBUZXh0QXJlYUNvbXBvbmVudChjb250YWluZXIpO1xyXG5cdFx0Y29tcG9uZW50LnNldFZhbHVlKHRoaXMuaW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQuZ2V0SW5pdGlhbFZhbHVlKCkpO1xyXG5cdFx0Y29tcG9uZW50Lm9uQ2hhbmdlKHRoaXMub25WYWx1ZUNoYW5nZSk7XHJcblx0XHR0aGlzLnRleHRBcmVhQ29tcG9uZW50ID0gY29tcG9uZW50O1xyXG5cdH1cclxuXHJcbn1cclxuIiwgImltcG9ydCB7U2VsZWN0SW5wdXRGaWVsZH0gZnJvbSAnLi9TZWxlY3RJbnB1dEZpZWxkJztcclxuXHJcbmV4cG9ydCBjbGFzcyBTZWxlY3RJbnB1dEZpZWxkRWxlbWVudCB7XHJcblx0dmFsdWU6IHN0cmluZztcclxuXHRzZWxlY3RJbnB1dEZpZWxkOiBTZWxlY3RJbnB1dEZpZWxkO1xyXG5cdHJlYWRvbmx5IGlkOiBudW1iZXI7XHJcblx0ZWxlbWVudDogSFRNTERpdkVsZW1lbnQ7XHJcblxyXG5cdGNzc0NsYXNzOiBzdHJpbmc7XHJcblx0YWN0aXZlQ2xhc3M6IHN0cmluZztcclxuXHRob3ZlckNsYXNzOiBzdHJpbmc7XHJcblxyXG5cdHByaXZhdGUgYWN0aXZlOiBib29sZWFuO1xyXG5cdHByaXZhdGUgaGlnaGxpZ2h0ZWQ6IGJvb2xlYW47XHJcblxyXG5cdGNvbnN0cnVjdG9yKHZhbHVlOiBzdHJpbmcsIHBhcmVudEVsZW1lbnQ6IEhUTUxFbGVtZW50LCBpZDogbnVtYmVyLCBtdWx0aVNlbGVjdElucHV0RmllbGQ6IFNlbGVjdElucHV0RmllbGQsIGFjdGl2ZTogYm9vbGVhbiA9IGZhbHNlKSB7XHJcblx0XHR0aGlzLnZhbHVlID0gdmFsdWU7XHJcblx0XHR0aGlzLmlkID0gaWQ7XHJcblx0XHR0aGlzLmFjdGl2ZSA9IGFjdGl2ZTtcclxuXHRcdHRoaXMuc2VsZWN0SW5wdXRGaWVsZCA9IG11bHRpU2VsZWN0SW5wdXRGaWVsZDtcclxuXHJcblx0XHR0aGlzLmNzc0NsYXNzID0gJ21ldGEtYmluZC1wbHVnaW4tc2VsZWN0LWlucHV0LWVsZW1lbnQnO1xyXG5cdFx0dGhpcy5hY3RpdmVDbGFzcyA9ICdtZXRhLWJpbmQtcGx1Z2luLXNlbGVjdC1pbnB1dC1lbGVtZW50LXNlbGVjdGVkJztcclxuXHRcdHRoaXMuaG92ZXJDbGFzcyA9ICdtZXRhLWJpbmQtcGx1Z2luLXNlbGVjdC1pbnB1dC1lbGVtZW50LWhvdmVyJztcclxuXHJcblx0XHR0aGlzLmVsZW1lbnQgPSBwYXJlbnRFbGVtZW50LmNyZWF0ZURpdih7Y2xzOiB0aGlzLmNzc0NsYXNzfSk7XHJcblx0XHR0aGlzLmVsZW1lbnQuaWQgPSB0aGlzLmdldEhUTUxJZCgpO1xyXG5cdFx0dGhpcy5lbGVtZW50Lm9uKCdjbGljaycsICcjJyArIHRoaXMuZ2V0SFRNTElkKCksICgpID0+IHtcclxuXHRcdFx0dGhpcy5zZXRBY3RpdmUoIXRoaXMuYWN0aXZlKTtcclxuXHRcdFx0aWYgKCF0aGlzLnNlbGVjdElucHV0RmllbGQuYWxsb3dNdWx0aVNlbGVjdCkge1xyXG5cdFx0XHRcdHRoaXMuc2VsZWN0SW5wdXRGaWVsZC5kaXNhYmxlQWxsT3RoZXJFbGVtZW50cyh0aGlzLmlkKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHR0aGlzLmVsZW1lbnQub24oJ21vdXNlZW50ZXInLCAnIycgKyB0aGlzLmdldEhUTUxJZCgpLCAoKSA9PiB7XHJcblx0XHRcdHRoaXMuc2V0SGlnaGxpZ2h0ZWQodHJ1ZSk7XHJcblx0XHR9KTtcclxuXHRcdHRoaXMuZWxlbWVudC5vbignbW91c2VsZWF2ZScsICcjJyArIHRoaXMuZ2V0SFRNTElkKCksICgpID0+IHtcclxuXHRcdFx0dGhpcy5zZXRIaWdobGlnaHRlZChmYWxzZSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdGdldEhUTUxJZCgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIGBtZXRhLWJpbmQtc2VsZWN0LWlucHV0LWVsZW1lbnQtJHt0aGlzLnNlbGVjdElucHV0RmllbGQuaW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQudWlkfS0ke3RoaXMuaWR9YDtcclxuXHR9XHJcblxyXG5cdGlzSGlnaGxpZ2h0ZWQoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdGhpcy5oaWdobGlnaHRlZDtcclxuXHR9XHJcblxyXG5cdHNldEhpZ2hsaWdodGVkKHZhbHVlOiBib29sZWFuKSB7XHJcblx0XHR0aGlzLmhpZ2hsaWdodGVkID0gdmFsdWU7XHJcblx0XHRpZiAodGhpcy5oaWdobGlnaHRlZCkge1xyXG5cdFx0XHR0aGlzLmFkZENsYXNzKHRoaXMuaG92ZXJDbGFzcyk7XHJcblx0XHRcdHRoaXMuc2VsZWN0SW5wdXRGaWVsZC5kZUhpZ2hsaWdodEFsbE90aGVyRWxlbWVudHModGhpcy5pZCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLnJlbW92ZUNsYXNzKHRoaXMuaG92ZXJDbGFzcyk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRpc0FjdGl2ZSgpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiB0aGlzLmFjdGl2ZTtcclxuXHR9XHJcblxyXG5cdHNldEFjdGl2ZShhY3RpdmU6IGJvb2xlYW4sIHVwZGF0ZVBhcmVudDogYm9vbGVhbiA9IHRydWUpOiB2b2lkIHtcclxuXHRcdHRoaXMuYWN0aXZlID0gYWN0aXZlO1xyXG5cdFx0dGhpcy51cGRhdGUodXBkYXRlUGFyZW50KTtcclxuXHR9XHJcblxyXG5cdHVwZGF0ZSh1cGRhdGVQYXJlbnQ6IGJvb2xlYW4pOiB2b2lkIHtcclxuXHRcdGlmICh0aGlzLmFjdGl2ZSkge1xyXG5cdFx0XHR0aGlzLmFkZENsYXNzKHRoaXMuYWN0aXZlQ2xhc3MpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhpcy5yZW1vdmVDbGFzcyh0aGlzLmFjdGl2ZUNsYXNzKTtcclxuXHRcdH1cclxuXHRcdGlmICh1cGRhdGVQYXJlbnQpIHtcclxuXHRcdFx0dGhpcy5zZWxlY3RJbnB1dEZpZWxkLm9uQ2hhbmdlKCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRhZGRDbGFzcyhjc3NDbGFzczogc3RyaW5nKTogdm9pZCB7XHJcblx0XHRpZiAoIXRoaXMuZWxlbWVudC5oYXNDbGFzcyhjc3NDbGFzcykpIHtcclxuXHRcdFx0dGhpcy5lbGVtZW50LmFkZENsYXNzKGNzc0NsYXNzKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHJlbW92ZUNsYXNzKGNzc0NsYXNzOiBzdHJpbmcpOiB2b2lkIHtcclxuXHRcdGlmICh0aGlzLmVsZW1lbnQuaGFzQ2xhc3MoY3NzQ2xhc3MpKSB7XHJcblx0XHRcdHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyhjc3NDbGFzcyk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRyZW5kZXIoKSB7XHJcblx0XHR0aGlzLmVsZW1lbnQuY3JlYXRlRWwoJ2RpdicsIHt0ZXh0OiB0aGlzLnZhbHVlfSk7XHJcblx0fVxyXG59XHJcbiIsICJleHBvcnQgY2xhc3MgTWV0YUJpbmRJbnRlcm5hbEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuXHRjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcpIHtcblx0XHRzdXBlcihgW01CX0lOVEVSTkFMX0VSUk9SIC0gcGxlYXNlIHJlcG9ydCB0aGlzIGVycm9yIGhlcmUgaHR0cHM6Ly9naXRodWIuY29tL21Qcm9qZWN0c0NvZGUvb2JzaWRpYW4tbWV0YS1iaW5kLXBsdWdpbi9pc3N1ZXNdICR7bWVzc2FnZX1gKTtcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgTWV0YUJpbmRQYXJzaW5nRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG5cdGNvbnN0cnVjdG9yKG1lc3NhZ2U6IHN0cmluZykge1xuXHRcdHN1cGVyKGBbTUJfUEFSU0lOR19FUlJPUl0gJHttZXNzYWdlfWApO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBNZXRhQmluZEJpbmRUYXJnZXRFcnJvciBleHRlbmRzIEVycm9yIHtcblx0Y29uc3RydWN0b3IobWVzc2FnZTogc3RyaW5nKSB7XG5cdFx0c3VwZXIoYFtNQl9CSU5EX1RBUkdFVF9FUlJPUl0gJHttZXNzYWdlfWApO1xuXHR9XG59XG5cbi8qKlxuICogR2V0cyB0aGUgZmlsZSBuYW1lIGZyb20gYSBwYXRoXG4gKlxuICogQHBhcmFtIHBhdGhcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEZpbGVOYW1lKHBhdGg6IHN0cmluZykge1xuXHRyZXR1cm4gcGF0aC5zcGxpdCgnLycpLmF0KC0xKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBwYXRoIGlzIGEgcGF0aCBvciBhIGZpbGUgbmFtZVxuICpcbiAqIEBwYXJhbSBwYXRoXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1BhdGgocGF0aDogc3RyaW5nKSB7XG5cdHJldHVybiBwYXRoLnNwbGl0KCcvJykubGVuZ3RoID4gMTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIHRoZSBmaWxlIGVuZGluZyBvZiBhIGZpbGUgbmFtZVxuICpcbiAqIEBwYXJhbSBmaWxlTmFtZVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlRmlsZUVuZGluZyhmaWxlTmFtZTogc3RyaW5nKSB7XG5cdGNvbnN0IGZpbGVOYW1lUGFydHMgPSBmaWxlTmFtZS5zcGxpdCgnLicpO1xuXHRpZiAoZmlsZU5hbWVQYXJ0cy5sZW5ndGggPT09IDEpIHtcblx0XHRyZXR1cm4gZmlsZU5hbWU7XG5cdH0gZWxzZSB7XG5cdFx0bGV0IG5ld0ZpbGVOYW1lID0gZmlsZU5hbWVQYXJ0c1swXTtcblx0XHRmb3IgKGxldCBpID0gMTsgaSA8IGZpbGVOYW1lUGFydHMubGVuZ3RoIC0gMTsgaSsrKSB7XG5cdFx0XHRuZXdGaWxlTmFtZSArPSAnLicgKyBmaWxlTmFtZVBhcnRzW2ldO1xuXHRcdH1cblx0XHRyZXR1cm4gbmV3RmlsZU5hbWU7XG5cdH1cbn1cblxuLyoqXG4gKiBDbGFtcCwgdW51c2VkXG4gKlxuICogQHBhcmFtIG51bVxuICogQHBhcmFtIG1pblxuICogQHBhcmFtIG1heFxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xhbXAobnVtOiBudW1iZXIsIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcik6IG51bWJlciB7XG5cdHJldHVybiBNYXRoLm1pbihNYXRoLm1heChudW0sIG1pbiksIG1heCk7XG59XG5cbi8qKlxuICoganMgY2FuJ3QgZXZlbiBpbXBsZW1lbnQgbW9kdWxvIGNvcnJlY3RseS4uLlxuICpcbiAqIEBwYXJhbSBuXG4gKiBAcGFyYW0gbVxuICovXG5leHBvcnQgZnVuY3Rpb24gbW9kKG46IG51bWJlciwgbTogbnVtYmVyKTogbnVtYmVyIHtcblx0cmV0dXJuICgobiAlIG0pICsgbSkgJSBtO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiAyIGFycmF5cyBhcmUgZXF1YWwsIHRoZSBhcnJheXMgc2hvdWxkIGhhdmUgdGhlIHNhbWUgZGF0YXR5cGVcbiAqXG4gKiBAcGFyYW0gYXJyMVxuICogQHBhcmFtIGFycjJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFycmF5RXF1YWxzKGFycjE6IGFueVtdLCBhcnIyOiBhbnlbXSkge1xuXHRpZiAoYXJyMS5sZW5ndGggIT09IGFycjIubGVuZ3RoKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0Zm9yIChjb25zdCBhcnIxRWxlbWVudCBvZiBhcnIxKSB7XG5cdFx0aWYgKCFhcnIyLmNvbnRhaW5zKGFycjFFbGVtZW50KSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIFRlbXBsYXRlIFwiZW5naW5lXCIgZnJvbSBteSBtZWRpYSBkYiBwbHVnaW5cbiAqXG4gKiBAcGFyYW0gdGVtcGxhdGVcbiAqIEBwYXJhbSBkYXRhTW9kZWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlcGxhY2VUYWdzKHRlbXBsYXRlOiBzdHJpbmcsIGRhdGFNb2RlbDogYW55KTogc3RyaW5nIHtcblx0Y29uc3QgcmVzb2x2ZWRUZW1wbGF0ZSA9IHRlbXBsYXRlLnJlcGxhY2UobmV3IFJlZ0V4cCgne3suKj99fScsICdnJyksIChtYXRjaDogc3RyaW5nKSA9PiByZXBsYWNlVGFnKG1hdGNoLCBkYXRhTW9kZWwpKTtcblxuXHRyZXR1cm4gcmVzb2x2ZWRUZW1wbGF0ZTtcbn1cblxuLyoqXG4gKiBUYWtlcyBpbiBhIHRlbXBsYXRlIG1hdGNoIGFuZCByZXR1cm5zIHRoZSByZXBsYWNlbWVudCBkYXRhXG4gKlxuICogQHBhcmFtIG1hdGNoXG4gKiBAcGFyYW0gZGF0YU1vZGVsXG4gKi9cbmZ1bmN0aW9uIHJlcGxhY2VUYWcobWF0Y2g6IHN0cmluZywgZGF0YU1vZGVsOiBhbnkpOiBzdHJpbmcge1xuXHRsZXQgdGFnID0gbWF0Y2g7XG5cdHRhZyA9IHRhZy5zdWJzdHJpbmcoMik7XG5cdHRhZyA9IHRhZy5zdWJzdHJpbmcoMCwgdGFnLmxlbmd0aCAtIDIpO1xuXHR0YWcgPSB0YWcudHJpbSgpO1xuXG5cdGxldCBwYXJ0cyA9IHRhZy5zcGxpdCgnOicpO1xuXHRpZiAocGFydHMubGVuZ3RoID09PSAxKSB7XG5cdFx0bGV0IHBhdGggPSBwYXJ0c1swXS5zcGxpdCgnLicpO1xuXG5cdFx0bGV0IG9iaiA9IHRyYXZlcnNlT2JqZWN0KHBhdGgsIGRhdGFNb2RlbCk7XG5cblx0XHRpZiAob2JqID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiAne3sgSU5WQUxJRCBURU1QTEFURSBUQUcgLSBvYmplY3QgdW5kZWZpbmVkIH19Jztcblx0XHR9XG5cblx0XHRyZXR1cm4gb2JqO1xuXHR9IGVsc2UgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikge1xuXHRcdGxldCBvcGVyYXRvciA9IHBhcnRzWzBdO1xuXG5cdFx0bGV0IHBhdGggPSBwYXJ0c1sxXS5zcGxpdCgnLicpO1xuXG5cdFx0bGV0IG9iaiA9IHRyYXZlcnNlT2JqZWN0KHBhdGgsIGRhdGFNb2RlbCk7XG5cblx0XHRpZiAob2JqID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiAne3sgSU5WQUxJRCBURU1QTEFURSBUQUcgLSBvYmplY3QgdW5kZWZpbmVkIH19Jztcblx0XHR9XG5cblx0XHRpZiAob3BlcmF0b3IgPT09ICdMSVNUJykge1xuXHRcdFx0aWYgKCFBcnJheS5pc0FycmF5KG9iaikpIHtcblx0XHRcdFx0cmV0dXJuICd7eyBJTlZBTElEIFRFTVBMQVRFIFRBRyAtIG9wZXJhdG9yIExJU1QgaXMgb25seSBhcHBsaWNhYmxlIG9uIGFuIGFycmF5IH19Jztcblx0XHRcdH1cblx0XHRcdHJldHVybiBvYmoubWFwKChlOiBhbnkpID0+IGAtICR7ZX1gKS5qb2luKCdcXG4nKTtcblx0XHR9IGVsc2UgaWYgKG9wZXJhdG9yID09PSAnRU5VTScpIHtcblx0XHRcdGlmICghQXJyYXkuaXNBcnJheShvYmopKSB7XG5cdFx0XHRcdHJldHVybiAne3sgSU5WQUxJRCBURU1QTEFURSBUQUcgLSBvcGVyYXRvciBFTlVNIGlzIG9ubHkgYXBwbGljYWJsZSBvbiBhbiBhcnJheSB9fSc7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gb2JqLmpvaW4oJywgJyk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGB7eyBJTlZBTElEIFRFTVBMQVRFIFRBRyAtIHVua25vd24gb3BlcmF0b3IgJHtvcGVyYXRvcn0gfX1gO1xuXHR9XG5cblx0cmV0dXJuICd7eyBJTlZBTElEIFRFTVBMQVRFIFRBRyB9fSc7XG59XG5cbi8qKlxuICogVHJhdmVyc2VzIHRoZSBvYmplY3QgYWxvbmcgYSBwcm9wZXJ0eSBwYXRoXG4gKlxuICogQHBhcmFtIHBhdGhcbiAqIEBwYXJhbSBvYmpcbiAqL1xuZnVuY3Rpb24gdHJhdmVyc2VPYmplY3QocGF0aDogQXJyYXk8c3RyaW5nPiwgb2JqOiBhbnkpOiBhbnkge1xuXHRmb3IgKGxldCBwYXJ0IG9mIHBhdGgpIHtcblx0XHRpZiAob2JqICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdG9iaiA9IG9ialtwYXJ0XTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gb2JqO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNUcnV0aHkodmFsdWU6IGFueSk6IGJvb2xlYW4ge1xuXHRyZXR1cm4gISF2YWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRmFsc3kodmFsdWU6IGFueSk6IGJvb2xlYW4ge1xuXHRyZXR1cm4gIXZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxPckluY2x1ZGVzKHN0cjE6IHN0cmluZywgc3RyMjogc3RyaW5nKTogYm9vbGVhbiB7XG5cdHJldHVybiBzdHIxID09PSBzdHIyIHx8IHN0cjEuaW5jbHVkZXMoc3RyMikgfHwgc3RyMi5pbmNsdWRlcyhzdHIxKTtcbn1cbiIsICJpbXBvcnQge0Fic3RyYWN0SW5wdXRGaWVsZH0gZnJvbSAnLi9BYnN0cmFjdElucHV0RmllbGQnO1xyXG5pbXBvcnQge1NlbGVjdElucHV0RmllbGRFbGVtZW50fSBmcm9tICcuL1NlbGVjdElucHV0RmllbGRFbGVtZW50JztcclxuaW1wb3J0IHttb2R9IGZyb20gJy4uL3V0aWxzL1V0aWxzJztcclxuaW1wb3J0IHtJbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZH0gZnJvbSAnLi4vSW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNlbGVjdElucHV0RmllbGQgZXh0ZW5kcyBBYnN0cmFjdElucHV0RmllbGQge1xyXG5cdHN0YXRpYyBhbGxvd0lubGluZUNvZGVCbG9jazogYm9vbGVhbiA9IGZhbHNlO1xyXG5cdGVsZW1lbnRzOiBTZWxlY3RJbnB1dEZpZWxkRWxlbWVudFtdO1xyXG5cdGFsbG93TXVsdGlTZWxlY3Q6IGJvb2xlYW47XHJcblx0Y29udGFpbmVyOiBIVE1MRGl2RWxlbWVudDtcclxuXHJcblx0Y29uc3RydWN0b3IoaW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQ6IElucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkLCBvblZhbHVlQ2hhbmdlOiAodmFsdWU6IGFueSkgPT4gKHZvaWQgfCBQcm9taXNlPHZvaWQ+KSkge1xyXG5cdFx0c3VwZXIoaW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQsIG9uVmFsdWVDaGFuZ2UpO1xyXG5cdFx0dGhpcy5lbGVtZW50cyA9IFtdO1xyXG5cdFx0dGhpcy5hbGxvd011bHRpU2VsZWN0ID0gZmFsc2U7XHJcblx0fVxyXG5cclxuXHRnZXRIdG1sRWxlbWVudCgpOiBIVE1MRWxlbWVudCB7XHJcblx0XHRyZXR1cm4gdGhpcy5jb250YWluZXI7XHJcblx0fVxyXG5cclxuXHRnZXRWYWx1ZSgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuZWxlbWVudHMuZmlsdGVyKHggPT4geC5pc0FjdGl2ZSgpKS5maXJzdCgpPy52YWx1ZSA/PyAnJztcclxuXHR9XHJcblxyXG5cdHNldFZhbHVlKHZhbHVlOiBhbnkpOiB2b2lkIHtcclxuXHRcdGZvciAoY29uc3QgZWxlbWVudCBvZiB0aGlzLmVsZW1lbnRzKSB7XHJcblx0XHRcdGlmICh2YWx1ZSA9PT0gZWxlbWVudC52YWx1ZSkge1xyXG5cdFx0XHRcdGVsZW1lbnQuc2V0QWN0aXZlKHRydWUsIGZhbHNlKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRlbGVtZW50LnNldEFjdGl2ZShmYWxzZSwgZmFsc2UpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRpc0VxdWFsVmFsdWUodmFsdWU6IGFueSk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuZ2V0VmFsdWUoKSA9PSB2YWx1ZTtcclxuXHR9XHJcblxyXG5cdGdldERlZmF1bHRWYWx1ZSgpOiBhbnkge1xyXG5cdFx0cmV0dXJuICcnO1xyXG5cdH1cclxuXHJcblx0b25DaGFuZ2UoKTogdm9pZCB7XHJcblx0XHR0aGlzLm9uVmFsdWVDaGFuZ2UodGhpcy5nZXRWYWx1ZSgpKTtcclxuXHR9XHJcblxyXG5cdHJlbmRlcihjb250YWluZXI6IEhUTUxEaXZFbGVtZW50KTogdm9pZCB7XHJcblx0XHRjb250YWluZXIuYWRkQ2xhc3MoJ21ldGEtYmluZC1wbHVnaW4tc2VsZWN0LWlucHV0LWJnJyk7XHJcblx0XHR0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcclxuXHJcblx0XHRjb25zdCBlbGVtZW50V3JhcHBlciA9IGNvbnRhaW5lci5jcmVhdGVEaXYoe2NsczogJ21ldGEtYmluZC1wbHVnaW4tc2VsZWN0LWlucHV0LXdyYXBwZXInfSk7XHJcblxyXG5cdFx0Y29uc3QgdGl0bGVBcmd1bWVudCA9IHRoaXMuaW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQuZ2V0QXJndW1lbnQoJ3RpdGxlJyk7XHJcblx0XHRpZiAodGl0bGVBcmd1bWVudCkge1xyXG5cdFx0XHRlbGVtZW50V3JhcHBlci5jcmVhdGVFbCgnZGl2Jywge3RleHQ6IHRpdGxlQXJndW1lbnQudmFsdWUsIGNsczogJ21ldGEtYmluZC1wbHVnaW4tc2VsZWN0LWlucHV0LWhlYWRlcid9KTtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBlbGVtZW50QXJndW1lbnRzOiB7IG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZyB9W10gPSB0aGlzLmlucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkLmdldEFyZ3VtZW50cygnb3B0aW9uJyk7XHJcblxyXG5cdFx0bGV0IGkgPSAwO1xyXG5cdFx0Zm9yIChjb25zdCBlbGVtZW50QXJndW1lbnQgb2YgZWxlbWVudEFyZ3VtZW50cykge1xyXG5cdFx0XHRjb25zdCBzZWxlY3RJbnB1dEZpZWxkRWxlbWVudCA9IG5ldyBTZWxlY3RJbnB1dEZpZWxkRWxlbWVudChlbGVtZW50QXJndW1lbnQudmFsdWUsIGVsZW1lbnRXcmFwcGVyLCBpLCB0aGlzLCBmYWxzZSk7XHJcblxyXG5cdFx0XHR0aGlzLmVsZW1lbnRzLnB1c2goc2VsZWN0SW5wdXRGaWVsZEVsZW1lbnQpO1xyXG5cclxuXHRcdFx0c2VsZWN0SW5wdXRGaWVsZEVsZW1lbnQucmVuZGVyKCk7XHJcblxyXG5cdFx0XHRpICs9IDE7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5zZXRWYWx1ZSh0aGlzLmlucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkLmdldEluaXRpYWxWYWx1ZSgpKTtcclxuXHR9XHJcblxyXG5cdGRpc2FibGVBbGxPdGhlckVsZW1lbnRzKGVsZW1lbnRJZDogbnVtYmVyKSB7XHJcblx0XHRmb3IgKGNvbnN0IHNlbGVjdE1vZGFsRWxlbWVudCBvZiB0aGlzLmVsZW1lbnRzKSB7XHJcblx0XHRcdGlmIChzZWxlY3RNb2RhbEVsZW1lbnQuaWQgIT09IGVsZW1lbnRJZCkge1xyXG5cdFx0XHRcdHNlbGVjdE1vZGFsRWxlbWVudC5zZXRBY3RpdmUoZmFsc2UpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRkZUhpZ2hsaWdodEFsbE90aGVyRWxlbWVudHMoZWxlbWVudElkOiBudW1iZXIpIHtcclxuXHRcdGZvciAoY29uc3Qgc2VsZWN0TW9kYWxFbGVtZW50IG9mIHRoaXMuZWxlbWVudHMpIHtcclxuXHRcdFx0aWYgKHNlbGVjdE1vZGFsRWxlbWVudC5pZCAhPT0gZWxlbWVudElkKSB7XHJcblx0XHRcdFx0c2VsZWN0TW9kYWxFbGVtZW50LnNldEhpZ2hsaWdodGVkKGZhbHNlKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0YWN0aXZhdGVIaWdobGlnaHRlZCgpIHtcclxuXHRcdGZvciAoY29uc3Qgc2VsZWN0TW9kYWxFbGVtZW50IG9mIHRoaXMuZWxlbWVudHMpIHtcclxuXHRcdFx0aWYgKHNlbGVjdE1vZGFsRWxlbWVudC5pc0hpZ2hsaWdodGVkKCkpIHtcclxuXHRcdFx0XHRzZWxlY3RNb2RhbEVsZW1lbnQuc2V0QWN0aXZlKCFzZWxlY3RNb2RhbEVsZW1lbnQuaXNBY3RpdmUoKSk7XHJcblx0XHRcdFx0aWYgKCF0aGlzLmFsbG93TXVsdGlTZWxlY3QpIHtcclxuXHRcdFx0XHRcdHRoaXMuZGlzYWJsZUFsbE90aGVyRWxlbWVudHMoc2VsZWN0TW9kYWxFbGVtZW50LmlkKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGhpZ2hsaWdodFVwKCkge1xyXG5cdFx0Zm9yIChjb25zdCBzZWxlY3RNb2RhbEVsZW1lbnQgb2YgdGhpcy5lbGVtZW50cykge1xyXG5cdFx0XHRpZiAoc2VsZWN0TW9kYWxFbGVtZW50LmlzSGlnaGxpZ2h0ZWQoKSkge1xyXG5cdFx0XHRcdHRoaXMuZ2V0UHJldmlvdXNTZWxlY3RNb2RhbEVsZW1lbnQoc2VsZWN0TW9kYWxFbGVtZW50KS5zZXRIaWdobGlnaHRlZCh0cnVlKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyBub3RoaW5nIGlzIGhpZ2hsaWdodGVkXHJcblx0XHR0aGlzLmVsZW1lbnRzLmxhc3QoKS5zZXRIaWdobGlnaHRlZCh0cnVlKTtcclxuXHR9XHJcblxyXG5cdGhpZ2hsaWdodERvd24oKSB7XHJcblx0XHRmb3IgKGNvbnN0IHNlbGVjdE1vZGFsRWxlbWVudCBvZiB0aGlzLmVsZW1lbnRzKSB7XHJcblx0XHRcdGlmIChzZWxlY3RNb2RhbEVsZW1lbnQuaXNIaWdobGlnaHRlZCgpKSB7XHJcblx0XHRcdFx0dGhpcy5nZXROZXh0U2VsZWN0TW9kYWxFbGVtZW50KHNlbGVjdE1vZGFsRWxlbWVudCkuc2V0SGlnaGxpZ2h0ZWQodHJ1ZSk7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gbm90aGluZyBpcyBoaWdobGlnaHRlZFxyXG5cdFx0dGhpcy5lbGVtZW50cy5maXJzdCgpLnNldEhpZ2hsaWdodGVkKHRydWUpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBnZXROZXh0U2VsZWN0TW9kYWxFbGVtZW50KGVsZW1lbnQ6IFNlbGVjdElucHV0RmllbGRFbGVtZW50KTogU2VsZWN0SW5wdXRGaWVsZEVsZW1lbnQge1xyXG5cdFx0bGV0IG5leHRJZCA9IGVsZW1lbnQuaWQgKyAxO1xyXG5cdFx0bmV4dElkID0gbW9kKG5leHRJZCwgdGhpcy5lbGVtZW50cy5sZW5ndGgpO1xyXG5cclxuXHRcdHJldHVybiB0aGlzLmVsZW1lbnRzLmZpbHRlcih4ID0+IHguaWQgPT09IG5leHRJZCkuZmlyc3QoKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZ2V0UHJldmlvdXNTZWxlY3RNb2RhbEVsZW1lbnQoZWxlbWVudDogU2VsZWN0SW5wdXRGaWVsZEVsZW1lbnQpOiBTZWxlY3RJbnB1dEZpZWxkRWxlbWVudCB7XHJcblx0XHRsZXQgbmV4dElkID0gZWxlbWVudC5pZCAtIDE7XHJcblx0XHRuZXh0SWQgPSBtb2QobmV4dElkLCB0aGlzLmVsZW1lbnRzLmxlbmd0aCk7XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMuZWxlbWVudHMuZmlsdGVyKHggPT4geC5pZCA9PT0gbmV4dElkKS5maXJzdCgpO1xyXG5cdH1cclxufVxyXG4iLCAiaW1wb3J0IHtTZWxlY3RJbnB1dEZpZWxkfSBmcm9tICcuL1NlbGVjdElucHV0RmllbGQnO1xuaW1wb3J0IHtJbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZH0gZnJvbSAnLi4vSW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQnO1xuaW1wb3J0IHthcnJheUVxdWFsc30gZnJvbSAnLi4vdXRpbHMvVXRpbHMnO1xuXG5leHBvcnQgY2xhc3MgTXVsdGlTZWxlY3RJbnB1dEZpZWxkIGV4dGVuZHMgU2VsZWN0SW5wdXRGaWVsZCB7XG5cblx0Y29uc3RydWN0b3IoaW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQ6IElucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkLCBvblZhbHVlQ2hhbmdlOiAodmFsdWU6IGFueSkgPT4gKHZvaWQgfCBQcm9taXNlPHZvaWQ+KSkge1xuXHRcdHN1cGVyKGlucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkLCBvblZhbHVlQ2hhbmdlKTtcblx0XHR0aGlzLmFsbG93TXVsdGlTZWxlY3QgPSB0cnVlO1xuXHR9XG5cblx0Z2V0VmFsdWUoKTogYW55IHtcblx0XHRyZXR1cm4gdGhpcy5lbGVtZW50cy5maWx0ZXIoeCA9PiB4LmlzQWN0aXZlKCkpLm1hcCh4ID0+IHgudmFsdWUpO1xuXHR9XG5cblx0c2V0VmFsdWUodmFsdWU6IHN0cmluZ1tdKTogdm9pZCB7XG5cdFx0aWYgKHZhbHVlLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0Zm9yIChjb25zdCBlbGVtZW50IG9mIHRoaXMuZWxlbWVudHMpIHtcblx0XHRcdFx0ZWxlbWVudC5zZXRBY3RpdmUoZmFsc2UsIGZhbHNlKTtcblx0XHRcdH1cblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRlbGVtZW50TG9vcCA6IGZvciAoY29uc3QgZWxlbWVudCBvZiB0aGlzLmVsZW1lbnRzKSB7XG5cdFx0XHRmb3IgKGNvbnN0IHZhbHVlRWxlbWVudCBvZiB2YWx1ZSkge1xuXHRcdFx0XHRpZiAodmFsdWVFbGVtZW50ID09PSBlbGVtZW50LnZhbHVlKSB7XG5cdFx0XHRcdFx0ZWxlbWVudC5zZXRBY3RpdmUodHJ1ZSwgZmFsc2UpO1xuXHRcdFx0XHRcdGNvbnRpbnVlIGVsZW1lbnRMb29wO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRlbGVtZW50LnNldEFjdGl2ZShmYWxzZSwgZmFsc2UpO1xuXHRcdH1cblx0fVxuXG5cdGlzRXF1YWxWYWx1ZSh2YWx1ZTogYW55KTogYm9vbGVhbiB7XG5cdFx0aWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHJldHVybiBhcnJheUVxdWFscyh0aGlzLmdldFZhbHVlKCksIHZhbHVlKTtcblx0fVxuXG5cdGdldERlZmF1bHRWYWx1ZSgpOiBzdHJpbmdbXSB7XG5cdFx0cmV0dXJuIFtdO1xuXHR9XG59XG4iLCAiaW1wb3J0IHtBYnN0cmFjdElucHV0RmllbGR9IGZyb20gJy4vQWJzdHJhY3RJbnB1dEZpZWxkJztcbmltcG9ydCB7RHJvcGRvd25Db21wb25lbnQsIFRleHRDb21wb25lbnR9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7SW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGR9IGZyb20gJy4uL0lucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkJztcbmltcG9ydCB7RGF0ZSwgRGF0ZUZvcm1hdCwgRGF0ZVBhcnNlcn0gZnJvbSAnLi4vcGFyc2Vycy9EYXRlUGFyc2VyJztcblxuZXhwb3J0IGNsYXNzIERhdGVJbnB1dEZpZWxkIGV4dGVuZHMgQWJzdHJhY3RJbnB1dEZpZWxkIHtcblx0Y29udGFpbmVyOiBIVE1MRGl2RWxlbWVudDtcblx0ZGF0ZTogRGF0ZTtcblxuXHRtb250aHM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG5cdFx0JzEnOiAnSmFudWFyeScsXG5cdFx0JzInOiAnRmVicnVhcnknLFxuXHRcdCczJzogJ01hcmNoJyxcblx0XHQnNCc6ICdBcHJpbCcsXG5cdFx0JzUnOiAnTWF5Jyxcblx0XHQnNic6ICdKdW5lJyxcblx0XHQnNyc6ICdKdWx5Jyxcblx0XHQnOCc6ICdBdWd1c3QnLFxuXHRcdCc5JzogJ1NlcHRlbWJlcicsXG5cdFx0JzEwJzogJ09jdG9iZXInLFxuXHRcdCcxMSc6ICdOb3ZlbWJlcicsXG5cdFx0JzEyJzogJ0RlY2VtYmVyJyxcblx0fTtcblx0ZGF5czogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcblxuXHRtb250aENvbXBvbmVudDogRHJvcGRvd25Db21wb25lbnQ7XG5cdGRheUNvbXBvbmVudDogRHJvcGRvd25Db21wb25lbnQ7XG5cdHllYXJDb21wb25lbnQ6IFRleHRDb21wb25lbnQ7XG5cblxuXHRjb25zdHJ1Y3RvcihpbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZDogSW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQsIG9uVmFsdWVDaGFuZ2U6ICh2YWx1ZTogYW55KSA9PiAodm9pZCB8IFByb21pc2U8dm9pZD4pKSB7XG5cdFx0c3VwZXIoaW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQsIG9uVmFsdWVDaGFuZ2UpO1xuXG5cdFx0dGhpcy5kYXlzID0ge307XG5cdFx0Zm9yIChsZXQgaSA9IDE7IGkgPD0gMzE7IGkrKykge1xuXHRcdFx0dGhpcy5kYXlzW2kudG9TdHJpbmcoKV0gPSBpLnRvU3RyaW5nKCk7XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIGdldEh0bWxFbGVtZW50KCk6IEhUTUxFbGVtZW50IHtcblx0XHRyZXR1cm4gdGhpcy5jb250YWluZXI7XG5cdH1cblxuXHRwdWJsaWMgZ2V0VmFsdWUoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gRGF0ZVBhcnNlci5zdHJpbmdpZnkodGhpcy5kYXRlKTtcblx0fVxuXG5cdHB1YmxpYyBzZXRWYWx1ZSh2YWx1ZTogc3RyaW5nKTogdm9pZCB7XG5cdFx0dGhpcy5kYXRlID0gRGF0ZVBhcnNlci5wYXJzZSh2YWx1ZSk7XG5cdFx0Ly8gY29uc29sZS5sb2codGhpcy5kYXRlKTtcblx0XHR0aGlzLm1vbnRoQ29tcG9uZW50LnNldFZhbHVlKHRoaXMuZGF0ZS5nZXRNb250aCgpLnRvU3RyaW5nKCkpO1xuXHRcdHRoaXMuZGF5Q29tcG9uZW50LnNldFZhbHVlKHRoaXMuZGF0ZS5nZXREYXkoKS50b1N0cmluZygpKTtcblx0XHR0aGlzLnllYXJDb21wb25lbnQuc2V0VmFsdWUodGhpcy5kYXRlLmdldFllYXIoKS50b1N0cmluZygpKTtcblx0fVxuXG5cdHB1YmxpYyBpc0VxdWFsVmFsdWUodmFsdWU6IGFueSk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiB2YWx1ZSA9PSB0aGlzLmdldFZhbHVlKCk7XG5cdH1cblxuXHRwdWJsaWMgZ2V0RGVmYXVsdFZhbHVlKCk6IGFueSB7XG5cdFx0cmV0dXJuIERhdGVQYXJzZXIuc3RyaW5naWZ5KERhdGVQYXJzZXIuZ2V0RGVmYXVsdERhdGUoKSk7XG5cdH1cblxuXHRwdWJsaWMgcmVuZGVyKGNvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQpOiB2b2lkIHtcblx0XHR0aGlzLmRhdGUgPSBEYXRlUGFyc2VyLnBhcnNlKHRoaXMuaW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQuZ2V0SW5pdGlhbFZhbHVlKCkpID8/IERhdGVQYXJzZXIuZ2V0RGVmYXVsdERhdGUoKTtcblx0XHQvLyBjb25zb2xlLmxvZyh0aGlzLmRhdGUpO1xuXG5cdFx0Y29udGFpbmVyLnJlbW92ZUNsYXNzKCdtZXRhLWJpbmQtcGx1Z2luLWlucHV0LXdyYXBwZXInKTtcblx0XHRjb250YWluZXIuYWRkQ2xhc3MoJ21ldGEtYmluZC1wbHVnaW4tZmxleC1pbnB1dC13cmFwcGVyJywgJ21ldGEtYmluZC1wbHVnaW4taW5wdXQtZWxlbWVudC1ncm91cCcpO1xuXG5cdFx0aWYgKERhdGVQYXJzZXIuZGF0ZUZvcm1hdCA9PT0gRGF0ZUZvcm1hdC5FVSkge1xuXHRcdFx0dGhpcy5kYXlDb21wb25lbnQgPSBuZXcgRHJvcGRvd25Db21wb25lbnQoY29udGFpbmVyKTtcblx0XHRcdHRoaXMuZGF5Q29tcG9uZW50LmFkZE9wdGlvbnModGhpcy5kYXlzKTtcblx0XHRcdHRoaXMuZGF5Q29tcG9uZW50LnNldFZhbHVlKHRoaXMuZGF0ZS5nZXREYXkoKS50b1N0cmluZygpKTtcblx0XHRcdHRoaXMuZGF5Q29tcG9uZW50Lm9uQ2hhbmdlKHRoaXMub25EYXlDaGFuZ2UuYmluZCh0aGlzKSk7XG5cblx0XHRcdHRoaXMubW9udGhDb21wb25lbnQgPSBuZXcgRHJvcGRvd25Db21wb25lbnQoY29udGFpbmVyKTtcblx0XHRcdHRoaXMubW9udGhDb21wb25lbnQuYWRkT3B0aW9ucyh0aGlzLm1vbnRocyk7XG5cdFx0XHR0aGlzLm1vbnRoQ29tcG9uZW50LnNldFZhbHVlKHRoaXMuZGF0ZS5nZXRNb250aCgpLnRvU3RyaW5nKCkpO1xuXHRcdFx0dGhpcy5tb250aENvbXBvbmVudC5vbkNoYW5nZSh0aGlzLm9uTW9udGhDaGFuZ2UuYmluZCh0aGlzKSk7XG5cblx0XHRcdHRoaXMuZGF5Q29tcG9uZW50LnNlbGVjdEVsLmFkZENsYXNzKCdtZXRhLWJpbmQtcGx1Z2luLWlucHV0LWVsZW1lbnQtZ3JvdXAtZWxlbWVudCcpO1xuXHRcdFx0dGhpcy5tb250aENvbXBvbmVudC5zZWxlY3RFbC5hZGRDbGFzcygnbWV0YS1iaW5kLXBsdWdpbi1pbnB1dC1lbGVtZW50LWdyb3VwLWVsZW1lbnQnKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5tb250aENvbXBvbmVudCA9IG5ldyBEcm9wZG93bkNvbXBvbmVudChjb250YWluZXIpO1xuXHRcdFx0dGhpcy5tb250aENvbXBvbmVudC5hZGRPcHRpb25zKHRoaXMubW9udGhzKTtcblx0XHRcdHRoaXMubW9udGhDb21wb25lbnQuc2V0VmFsdWUodGhpcy5kYXRlLmdldE1vbnRoKCkudG9TdHJpbmcoKSk7XG5cdFx0XHR0aGlzLm1vbnRoQ29tcG9uZW50Lm9uQ2hhbmdlKHRoaXMub25Nb250aENoYW5nZS5iaW5kKHRoaXMpKTtcblxuXHRcdFx0dGhpcy5kYXlDb21wb25lbnQgPSBuZXcgRHJvcGRvd25Db21wb25lbnQoY29udGFpbmVyKTtcblx0XHRcdHRoaXMuZGF5Q29tcG9uZW50LmFkZE9wdGlvbnModGhpcy5kYXlzKTtcblx0XHRcdHRoaXMuZGF5Q29tcG9uZW50LnNldFZhbHVlKHRoaXMuZGF0ZS5nZXREYXkoKS50b1N0cmluZygpKTtcblx0XHRcdHRoaXMuZGF5Q29tcG9uZW50Lm9uQ2hhbmdlKHRoaXMub25EYXlDaGFuZ2UuYmluZCh0aGlzKSk7XG5cblx0XHRcdHRoaXMuZGF5Q29tcG9uZW50LnNlbGVjdEVsLmFkZENsYXNzKCdtZXRhLWJpbmQtcGx1Z2luLWlucHV0LWVsZW1lbnQtZ3JvdXAtZWxlbWVudCcpO1xuXHRcdFx0dGhpcy5tb250aENvbXBvbmVudC5zZWxlY3RFbC5hZGRDbGFzcygnbWV0YS1iaW5kLXBsdWdpbi1pbnB1dC1lbGVtZW50LWdyb3VwLWVsZW1lbnQnKTtcblx0XHR9XG5cblx0XHR0aGlzLnllYXJDb21wb25lbnQgPSBuZXcgVGV4dENvbXBvbmVudChjb250YWluZXIpO1xuXHRcdHRoaXMueWVhckNvbXBvbmVudC5zZXRWYWx1ZSh0aGlzLmRhdGUuZ2V0WWVhcigpLnRvU3RyaW5nKCkpO1xuXHRcdHRoaXMueWVhckNvbXBvbmVudC5vbkNoYW5nZSh0aGlzLm9uWWVhckNoYW5nZS5iaW5kKHRoaXMpKTtcblxuXHRcdHRoaXMueWVhckNvbXBvbmVudC5pbnB1dEVsLmFkZENsYXNzKCdtZXRhLWJpbmQtcGx1Z2luLWRhdGUtaW5wdXQteWVhci1pbnB1dCcpO1xuXHRcdHRoaXMueWVhckNvbXBvbmVudC5pbnB1dEVsLmFkZENsYXNzKCdtZXRhLWJpbmQtcGx1Z2luLWlucHV0LWVsZW1lbnQtZ3JvdXAtZWxlbWVudCcpO1xuXHRcdHRoaXMueWVhckNvbXBvbmVudC5pbnB1dEVsLnR5cGUgPSAnbnVtYmVyJztcblx0XHR0aGlzLnllYXJDb21wb25lbnQuaW5wdXRFbC5tYXggPSAnOTk5OSc7XG5cblx0XHR0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcblx0fVxuXG5cdHByaXZhdGUgb25Nb250aENoYW5nZSh2YWx1ZTogc3RyaW5nKTogdm9pZCB7XG5cdFx0Ly8gY29uc29sZS5sb2codmFsdWUpO1xuXHRcdHRoaXMuZGF0ZS5zZXRNb250aEZyb21TdHJpbmcodmFsdWUpO1xuXHRcdHRoaXMub25WYWx1ZUNoYW5nZSh0aGlzLmdldFZhbHVlKCkpO1xuXHR9XG5cblx0cHJpdmF0ZSBvbkRheUNoYW5nZSh2YWx1ZTogc3RyaW5nKTogdm9pZCB7XG5cdFx0dGhpcy5kYXRlLnNldERheUZyb21TdHJpbmcodmFsdWUpO1xuXHRcdHRoaXMub25WYWx1ZUNoYW5nZSh0aGlzLmdldFZhbHVlKCkpO1xuXHR9XG5cblx0cHJpdmF0ZSBvblllYXJDaGFuZ2UodmFsdWU6IHN0cmluZyk6IHZvaWQge1xuXHRcdHRoaXMuZGF0ZS5zZXRZZWFyRnJvbVN0cmluZyh2YWx1ZSk7XG5cdFx0dGhpcy5vblZhbHVlQ2hhbmdlKHRoaXMuZ2V0VmFsdWUoKSk7XG5cdH1cblxufVxuIiwgImltcG9ydCB7QWJzdHJhY3RJbnB1dEZpZWxkfSBmcm9tICcuL0Fic3RyYWN0SW5wdXRGaWVsZCc7XG5pbXBvcnQge0Ryb3Bkb3duQ29tcG9uZW50fSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQge0lucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkfSBmcm9tICcuLi9JbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZCc7XG5pbXBvcnQge1RpbWUsIFRpbWVQYXJzZXJ9IGZyb20gJy4uL3BhcnNlcnMvVGltZVBhcnNlcic7XG5cbmV4cG9ydCBjbGFzcyBUaW1lSW5wdXRGaWVsZCBleHRlbmRzIEFic3RyYWN0SW5wdXRGaWVsZCB7XG5cdGNvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQ7XG5cdHRpbWU6IFRpbWU7XG5cblx0aG91cnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG5cdG1pbnV0ZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG5cblx0aG91ckNvbXBvbmVudDogRHJvcGRvd25Db21wb25lbnQ7XG5cdG1pbnV0ZUNvbXBvbmVudDogRHJvcGRvd25Db21wb25lbnQ7XG5cblxuXHRjb25zdHJ1Y3RvcihpbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZDogSW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQsIG9uVmFsdWVDaGFuZ2U6ICh2YWx1ZTogYW55KSA9PiAodm9pZCB8IFByb21pc2U8dm9pZD4pKSB7XG5cdFx0c3VwZXIoaW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQsIG9uVmFsdWVDaGFuZ2UpO1xuXG5cdFx0dGhpcy5ob3VycyA9IHt9O1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDw9IDI0OyBpKyspIHtcblx0XHRcdHRoaXMuaG91cnNbaS50b1N0cmluZygpXSA9IGkudG9TdHJpbmcoKTtcblx0XHR9XG5cblx0XHR0aGlzLm1pbnV0ZXMgPSB7fTtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8PSA1OTsgaSsrKSB7XG5cdFx0XHR0aGlzLm1pbnV0ZXNbaS50b1N0cmluZygpXSA9IGkudG9TdHJpbmcoKTtcblx0XHR9XG5cdH1cblxuXHRwdWJsaWMgZ2V0SHRtbEVsZW1lbnQoKTogSFRNTEVsZW1lbnQge1xuXHRcdHJldHVybiB0aGlzLmNvbnRhaW5lcjtcblx0fVxuXG5cdHB1YmxpYyBnZXRWYWx1ZSgpOiBzdHJpbmcge1xuXHRcdHJldHVybiBUaW1lUGFyc2VyLnN0cmluZ2lmeSh0aGlzLnRpbWUpO1xuXHR9XG5cblx0cHVibGljIHNldFZhbHVlKHZhbHVlOiBzdHJpbmcpOiB2b2lkIHtcblx0XHR0aGlzLnRpbWUgPSBUaW1lUGFyc2VyLnBhcnNlKHZhbHVlKTtcblx0XHQvLyBjb25zb2xlLmxvZyh0aGlzLnRpbWUpO1xuXHRcdHRoaXMuaG91ckNvbXBvbmVudC5zZXRWYWx1ZSh0aGlzLnRpbWUuZ2V0SG91cigpLnRvU3RyaW5nKCkpO1xuXHRcdHRoaXMubWludXRlQ29tcG9uZW50LnNldFZhbHVlKHRoaXMudGltZS5nZXRNaW51dGUoKS50b1N0cmluZygpKTtcblx0fVxuXG5cdHB1YmxpYyBpc0VxdWFsVmFsdWUodmFsdWU6IGFueSk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiB2YWx1ZSA9PSB0aGlzLmdldFZhbHVlKCk7XG5cdH1cblxuXHRwdWJsaWMgZ2V0RGVmYXVsdFZhbHVlKCk6IGFueSB7XG5cdFx0cmV0dXJuIFRpbWVQYXJzZXIuc3RyaW5naWZ5KFRpbWVQYXJzZXIuZ2V0RGVmYXVsdFRpbWUoKSk7XG5cdH1cblxuXHRwdWJsaWMgcmVuZGVyKGNvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQpOiB2b2lkIHtcblx0XHR0aGlzLnRpbWUgPSBUaW1lUGFyc2VyLnBhcnNlKHRoaXMuaW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQuZ2V0SW5pdGlhbFZhbHVlKCkpID8/IFRpbWVQYXJzZXIuZ2V0RGVmYXVsdFRpbWUoKTtcblx0XHQvLyBjb25zb2xlLmxvZyh0aGlzLmRhdGUpO1xuXG5cdFx0Y29udGFpbmVyLnJlbW92ZUNsYXNzKCdtZXRhLWJpbmQtcGx1Z2luLWlucHV0LXdyYXBwZXInKTtcblx0XHRjb250YWluZXIuYWRkQ2xhc3MoJ21ldGEtYmluZC1wbHVnaW4tZmxleC1pbnB1dC13cmFwcGVyJywgJ21ldGEtYmluZC1wbHVnaW4taW5wdXQtZWxlbWVudC1ncm91cCcpO1xuXG5cdFx0dGhpcy5ob3VyQ29tcG9uZW50ID0gbmV3IERyb3Bkb3duQ29tcG9uZW50KGNvbnRhaW5lcik7XG5cdFx0dGhpcy5ob3VyQ29tcG9uZW50LmFkZE9wdGlvbnModGhpcy5ob3Vycyk7XG5cdFx0dGhpcy5ob3VyQ29tcG9uZW50LnNldFZhbHVlKHRoaXMudGltZS5nZXRIb3VyKCkudG9TdHJpbmcoKSk7XG5cdFx0dGhpcy5ob3VyQ29tcG9uZW50Lm9uQ2hhbmdlKHRoaXMub25Ib3VyQ2hhbmdlLmJpbmQodGhpcykpO1xuXG5cdFx0dGhpcy5taW51dGVDb21wb25lbnQgPSBuZXcgRHJvcGRvd25Db21wb25lbnQoY29udGFpbmVyKTtcblx0XHR0aGlzLm1pbnV0ZUNvbXBvbmVudC5hZGRPcHRpb25zKHRoaXMubWludXRlcyk7XG5cdFx0dGhpcy5taW51dGVDb21wb25lbnQuc2V0VmFsdWUodGhpcy50aW1lLmdldE1pbnV0ZSgpLnRvU3RyaW5nKCkpO1xuXHRcdHRoaXMubWludXRlQ29tcG9uZW50Lm9uQ2hhbmdlKHRoaXMub25NaW51dGVDaGFuZ2UuYmluZCh0aGlzKSk7XG5cblx0XHR0aGlzLmhvdXJDb21wb25lbnQuc2VsZWN0RWwuYWRkQ2xhc3MoJ21ldGEtYmluZC1wbHVnaW4taW5wdXQtZWxlbWVudC1ncm91cC1lbGVtZW50Jyk7XG5cdFx0dGhpcy5taW51dGVDb21wb25lbnQuc2VsZWN0RWwuYWRkQ2xhc3MoJ21ldGEtYmluZC1wbHVnaW4taW5wdXQtZWxlbWVudC1ncm91cC1lbGVtZW50Jyk7XG5cblx0XHR0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcblx0fVxuXG5cdHByaXZhdGUgb25Ib3VyQ2hhbmdlKHZhbHVlOiBzdHJpbmcpOiB2b2lkIHtcblx0XHR0aGlzLnRpbWUuc2V0SG91ckZyb21TdHJpbmcodmFsdWUpO1xuXHRcdHRoaXMub25WYWx1ZUNoYW5nZSh0aGlzLmdldFZhbHVlKCkpO1xuXHR9XG5cblx0cHJpdmF0ZSBvbk1pbnV0ZUNoYW5nZSh2YWx1ZTogc3RyaW5nKTogdm9pZCB7XG5cdFx0dGhpcy50aW1lLnNldE1pbnV0ZUZyb21TdHJpbmcodmFsdWUpO1xuXHRcdHRoaXMub25WYWx1ZUNoYW5nZSh0aGlzLmdldFZhbHVlKCkpO1xuXHR9XG59XG4iLCAiZXhwb3J0IGNsYXNzIFRpbWUge1xuXHRwcml2YXRlIF9ob3VyOiBudW1iZXI7XG5cdHByaXZhdGUgX21pbnV0ZTogbnVtYmVyO1xuXG5cdGNvbnN0cnVjdG9yKCkge1xuXHRcdHRoaXMuc2V0SG91cihUaW1lUGFyc2VyLmdldERlZmF1bHRIb3VyKCkpO1xuXHRcdHRoaXMuc2V0TWludXRlKFRpbWVQYXJzZXIuZ2V0RGVmYXVsdE1pbnV0ZSgpKTtcblx0fVxuXG5cdHB1YmxpYyBnZXRIb3VyKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHRoaXMuX2hvdXI7XG5cdH1cblxuXHRwdWJsaWMgc2V0SG91cih2YWx1ZTogbnVtYmVyKSB7XG5cdFx0aWYgKHZhbHVlIDwgMCB8fCB2YWx1ZSA+IDI0KSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdHRoaXMuX2hvdXIgPSB2YWx1ZTtcblx0fVxuXG5cdHB1YmxpYyBnZXRNaW51dGUoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5fbWludXRlO1xuXHR9XG5cblx0cHVibGljIHNldE1pbnV0ZSh2YWx1ZTogbnVtYmVyKSB7XG5cdFx0aWYgKHZhbHVlIDwgMCB8fCB2YWx1ZSA+IDU5KSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdHRoaXMuX21pbnV0ZSA9IHZhbHVlO1xuXHR9XG5cblx0cHVibGljIGdldFVuaWZvcm1Ib3VyKCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuICgnMDAnICsgdGhpcy5nZXRIb3VyKCkudG9TdHJpbmcoKSkuc2xpY2UoLTIpO1xuXHR9XG5cblx0cHVibGljIGdldFVuaWZvcm1NaW51dGUoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gKCcwMCcgKyB0aGlzLmdldE1pbnV0ZSgpLnRvU3RyaW5nKCkpLnNsaWNlKC0yKTtcblx0fVxuXG5cdHB1YmxpYyBzZXRIb3VyRnJvbVN0cmluZyhzdHI6IHN0cmluZykge1xuXHRcdGxldCB2ID0gTnVtYmVyLnBhcnNlSW50KHN0cik7XG5cdFx0dGhpcy5zZXRIb3VyKE51bWJlci5pc05hTih2KSA/IFRpbWVQYXJzZXIuZ2V0RGVmYXVsdEhvdXIoKSA6IHYpO1xuXHR9XG5cblx0cHVibGljIHNldE1pbnV0ZUZyb21TdHJpbmcoc3RyOiBzdHJpbmcpIHtcblx0XHRsZXQgdiA9IE51bWJlci5wYXJzZUludChzdHIpO1xuXHRcdHRoaXMuc2V0TWludXRlKE51bWJlci5pc05hTih2KSA/IFRpbWVQYXJzZXIuZ2V0RGVmYXVsdE1pbnV0ZSgpIDogdik7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIFRpbWVQYXJzZXIge1xuXHRwdWJsaWMgc3RhdGljIHBhcnNlKHRpbWVTdHJpbmc6IHN0cmluZyk6IFRpbWUge1xuXHRcdGNvbnN0IHRpbWU6IFRpbWUgPSBUaW1lUGFyc2VyLmdldERlZmF1bHRUaW1lKCk7XG5cblx0XHRjb25zdCB0aW1lUGFydHMgPSB0aW1lU3RyaW5nLnNwbGl0KCc6Jyk7XG5cdFx0aWYgKHRpbWVQYXJ0cy5sZW5ndGggIT09IDIpIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblxuXHRcdHRpbWUuc2V0SG91ckZyb21TdHJpbmcodGltZVBhcnRzWzBdKTtcblx0XHR0aW1lLnNldE1pbnV0ZUZyb21TdHJpbmcodGltZVBhcnRzWzFdKTtcblxuXHRcdHJldHVybiB0aW1lO1xuXHR9XG5cblx0cHVibGljIHN0YXRpYyBzdHJpbmdpZnkodGltZTogVGltZSk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIGAke3RpbWUuZ2V0VW5pZm9ybUhvdXIoKX06JHt0aW1lLmdldFVuaWZvcm1NaW51dGUoKX1gO1xuXHR9XG5cblx0cHVibGljIHN0YXRpYyBnZXREZWZhdWx0VGltZSgpOiBUaW1lIHtcblx0XHRyZXR1cm4gbmV3IFRpbWUoKTtcblx0fVxuXG5cdHB1YmxpYyBzdGF0aWMgZ2V0RGVmYXVsdEhvdXIoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gMDtcblx0fVxuXG5cdHB1YmxpYyBzdGF0aWMgZ2V0RGVmYXVsdE1pbnV0ZSgpOiBudW1iZXIge1xuXHRcdHJldHVybiAwO1xuXHR9XG59XG4iLCAiaW1wb3J0IHtlcXVhbE9ySW5jbHVkZXMsIGlzRmFsc3ksIE1ldGFCaW5kSW50ZXJuYWxFcnJvcn0gZnJvbSAnLi9VdGlscyc7XG5cblxuZXhwb3J0IGNsYXNzIEVuY2xvc2luZ1BhaXIge1xuXHRyZWFkb25seSBvcGVuaW5nRXF1YWxzQ2xvc2luZzogYm9vbGVhbjtcblx0cHJpdmF0ZSByZWFkb25seSBfb3BlbmluZ1N0cmluZzogc3RyaW5nO1xuXHRwcml2YXRlIHJlYWRvbmx5IF9jbG9zaW5nU3RyaW5nOiBzdHJpbmc7XG5cblx0Y29uc3RydWN0b3Iob3BlbmluZ1N0cmluZzogc3RyaW5nLCBjbG9zaW5nU3RyaW5nPzogc3RyaW5nKSB7XG5cdFx0aWYgKGlzRmFsc3kob3BlbmluZ1N0cmluZykpIHtcblx0XHRcdHRocm93IG5ldyBNZXRhQmluZEludGVybmFsRXJyb3IoJ29wZW5pbmcgc3RyaW5nIG11c3Qgbm90IGJlIGVtcHR5Jyk7XG5cdFx0fVxuXG5cdFx0dGhpcy5vcGVuaW5nRXF1YWxzQ2xvc2luZyA9IGlzRmFsc3koY2xvc2luZ1N0cmluZykgfHwgb3BlbmluZ1N0cmluZyA9PT0gY2xvc2luZ1N0cmluZztcblxuXHRcdHRoaXMuX29wZW5pbmdTdHJpbmcgPSBvcGVuaW5nU3RyaW5nO1xuXHRcdHRoaXMuX2Nsb3NpbmdTdHJpbmcgPSBjbG9zaW5nU3RyaW5nO1xuXHR9XG5cblx0cHVibGljIGdldCBvcGVuaW5nU3RyaW5nKCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIHRoaXMuX29wZW5pbmdTdHJpbmc7XG5cdH1cblxuXHRwdWJsaWMgZ2V0IGNsb3NpbmdTdHJpbmcoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gdGhpcy5vcGVuaW5nRXF1YWxzQ2xvc2luZyA/IHRoaXMuX29wZW5pbmdTdHJpbmcgOiB0aGlzLl9jbG9zaW5nU3RyaW5nO1xuXHR9XG5cblx0b3ZlcmxhcHMob3RoZXI6IEVuY2xvc2luZ1BhaXIpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gZXF1YWxPckluY2x1ZGVzKHRoaXMub3BlbmluZ1N0cmluZywgb3RoZXIub3BlbmluZ1N0cmluZykgfHxcblx0XHRcdGVxdWFsT3JJbmNsdWRlcyh0aGlzLm9wZW5pbmdTdHJpbmcsIG90aGVyLmNsb3NpbmdTdHJpbmcpIHx8XG5cdFx0XHRlcXVhbE9ySW5jbHVkZXModGhpcy5jbG9zaW5nU3RyaW5nLCBvdGhlci5vcGVuaW5nU3RyaW5nKSB8fFxuXHRcdFx0ZXF1YWxPckluY2x1ZGVzKHRoaXMuY2xvc2luZ1N0cmluZywgb3RoZXIuY2xvc2luZ1N0cmluZyk7XG5cdH1cblxuXHRlcXVhbHMob3RoZXI6IEVuY2xvc2luZ1BhaXIpOiBib29sZWFuIHtcblx0XHRpZiAoaXNGYWxzeShvdGhlcikpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0cmV0dXJuICh0aGlzLm9wZW5pbmdTdHJpbmcgPT09IG90aGVyLm9wZW5pbmdTdHJpbmcpICYmICh0aGlzLmNsb3NpbmdTdHJpbmcgPT09IG90aGVyLmNsb3NpbmdTdHJpbmcpO1xuXHR9XG5cblx0dG9TdHJpbmcoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gSlNPTi5zdHJpbmdpZnkodGhpcyk7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIFBhcnNlclV0aWxzIHtcblxuXHQvLyBUT0RPOiByZW5hbWUgc3R1ZmZcblx0c3RhdGljIHNwbGl0KHN0cjogc3RyaW5nLCBzZXBhcmF0b3I6IHN0cmluZywgaWdub3JlPzogRW5jbG9zaW5nUGFpcik6IHN0cmluZ1tdIHtcblx0XHRpZiAoIXN0cikge1xuXHRcdFx0dGhyb3cgbmV3IE1ldGFCaW5kSW50ZXJuYWxFcnJvcignc3RyaW5nIG11c3Qgbm90IGJlIGVtcHR5Jyk7XG5cdFx0fVxuXHRcdGlmICghc2VwYXJhdG9yKSB7XG5cdFx0XHR0aHJvdyBuZXcgTWV0YUJpbmRJbnRlcm5hbEVycm9yKCdzZXBhcmF0b3IgbXVzdCBub3QgYmUgZW1wdHknKTtcblx0XHR9XG5cblx0XHRsZXQgc3ViU3RyOiBzdHJpbmcgPSAnJztcblx0XHRsZXQgc3ViU3RyaW5nczogc3RyaW5nW10gPSBbXTtcblxuXHRcdGlmIChpZ25vcmUpIHtcblx0XHRcdGxldCByZW1haW5pbmdPcGVuaW5nU3RyaW5nQ291bnQgPSBQYXJzZXJVdGlscy5udW1iZXJPZk9jY3VycmVuY2VzKHN0ciwgaWdub3JlLm9wZW5pbmdTdHJpbmcpO1xuXHRcdFx0bGV0IHJlbWFpbmluZ0Nsb3NpbmdTdHJpbmdDb3VudCA9IFBhcnNlclV0aWxzLm51bWJlck9mT2NjdXJyZW5jZXMoc3RyLCBpZ25vcmUuY2xvc2luZ1N0cmluZyk7XG5cblx0XHRcdGxldCBlbmNsb3NpbmdMZXZlbDogbnVtYmVyID0gMDtcblxuXHRcdFx0c3RyTG9vcCA6IGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdC8vIGlnbm9yZSBzcGVjaWZpZWRcblx0XHRcdFx0aWYgKGVuY2xvc2luZ0xldmVsID09PSAwICYmIFBhcnNlclV0aWxzLmlzU3RyaW5nQXQoc3RyLCBzZXBhcmF0b3IsIGkpKSB7XG5cdFx0XHRcdFx0c3ViU3RyaW5ncy5wdXNoKHN1YlN0cik7XG5cdFx0XHRcdFx0c3ViU3RyID0gJyc7XG5cdFx0XHRcdFx0aSArPSBzZXBhcmF0b3IubGVuZ3RoIC0gMTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzdWJTdHIgKz0gc3RyW2ldO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGlnbm9yZS5vcGVuaW5nRXF1YWxzQ2xvc2luZykge1xuXHRcdFx0XHRcdGlmIChQYXJzZXJVdGlscy5pc1N0cmluZ0F0KHN0ciwgaWdub3JlLm9wZW5pbmdTdHJpbmcsIGkpKSB7XG5cdFx0XHRcdFx0XHRpZiAoZW5jbG9zaW5nTGV2ZWwgJSAyID09PSAwICYmIHJlbWFpbmluZ09wZW5pbmdTdHJpbmdDb3VudCA9PT0gMSkge1xuXHRcdFx0XHRcdFx0XHQvLyBub3QgaW4gYSBwYXJ0IHRoYXQgc2hvdWxkIGJlIHJlbW92ZWQgYW5kIHRoZXJlIGlzIHN0aWxsIGFuIG9wZW5pbmcgc3RyaW5nIGxlZnQsIHNvIHdlIGlnbm9yZSBpdFxuXHRcdFx0XHRcdFx0fSBlbHNlIGlmIChlbmNsb3NpbmdMZXZlbCAlIDIgPT09IDApIHtcblx0XHRcdFx0XHRcdFx0Ly8gb3BlbmluZyBzdHJpbmdcblx0XHRcdFx0XHRcdFx0ZW5jbG9zaW5nTGV2ZWwgKz0gMTtcblxuXHRcdFx0XHRcdFx0XHQvLyBjb3B5IHRoZSBvcGVuaW5nIHN0cmluZ1xuXHRcdFx0XHRcdFx0XHRmb3IgKGxldCBqID0gMTsgaiA8IGlnbm9yZS5vcGVuaW5nU3RyaW5nLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdFx0XHRcdFx0aSArPSAxO1xuXHRcdFx0XHRcdFx0XHRcdHN1YlN0ciArPSBzdHJbaV07XG5cblx0XHRcdFx0XHRcdFx0XHRpZiAoaSA+PSBzdHIubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRicmVhayBzdHJMb29wO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0Ly8gY2xvc2luZyBzdHJpbmdcblx0XHRcdFx0XHRcdFx0ZW5jbG9zaW5nTGV2ZWwgLT0gMTtcblxuXHRcdFx0XHRcdFx0XHQvLyBjb3B5IHRoZSBjbG9zaW5nIHN0cmluZ1xuXHRcdFx0XHRcdFx0XHRmb3IgKGxldCBqID0gMTsgaiA8IGlnbm9yZS5jbG9zaW5nU3RyaW5nLmxlbmd0aDsgaisrKSB7IC8vIChvcGVuaW5nIGFuZCBjbG9zaW5nIHN0cmluZyBhcmUgdGhlIHNhbWUpXG5cdFx0XHRcdFx0XHRcdFx0aSArPSAxO1xuXHRcdFx0XHRcdFx0XHRcdHN1YlN0ciArPSBzdHJbaV07XG5cblx0XHRcdFx0XHRcdFx0XHRpZiAoaSA+PSBzdHIubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRicmVhayBzdHJMb29wO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cmVtYWluaW5nT3BlbmluZ1N0cmluZ0NvdW50IC09IDE7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmIChQYXJzZXJVdGlscy5pc1N0cmluZ0F0KHN0ciwgaWdub3JlLm9wZW5pbmdTdHJpbmcsIGkpKSB7XG5cdFx0XHRcdFx0XHQvLyBvcGVuaW5nIHN0cmluZ1xuXHRcdFx0XHRcdFx0aWYgKHJlbWFpbmluZ09wZW5pbmdTdHJpbmdDb3VudCA8PSByZW1haW5pbmdDbG9zaW5nU3RyaW5nQ291bnQpIHtcblx0XHRcdFx0XHRcdFx0Ly8gc3RyIHN0aWxsIGhhcyBzdWZmaWNpZW50IGNsb3Npbmcgc3RyaW5nIHRvIGZpbmQgdGhpcyBhIHBhcnRuZXJcblx0XHRcdFx0XHRcdFx0ZW5jbG9zaW5nTGV2ZWwgKz0gMTtcblxuXHRcdFx0XHRcdFx0XHQvLyBjb3B5IHRoZSBvcGVuaW5nIHN0cmluZ1xuXHRcdFx0XHRcdFx0XHRmb3IgKGxldCBqID0gMTsgaiA8IGlnbm9yZS5vcGVuaW5nU3RyaW5nLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdFx0XHRcdFx0aSArPSAxO1xuXHRcdFx0XHRcdFx0XHRcdHN1YlN0ciArPSBzdHJbaV07XG5cblx0XHRcdFx0XHRcdFx0XHRpZiAoaSA+PSBzdHIubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRicmVhayBzdHJMb29wO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cmVtYWluaW5nT3BlbmluZ1N0cmluZ0NvdW50IC09IDE7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChQYXJzZXJVdGlscy5pc1N0cmluZ0F0KHN0ciwgaWdub3JlLmNsb3NpbmdTdHJpbmcsIGkpKSB7XG5cdFx0XHRcdFx0XHQvLyBjbG9zaW5nIHN0cmluZ1xuXHRcdFx0XHRcdFx0aWYgKGVuY2xvc2luZ0xldmVsID4gMCkge1xuXHRcdFx0XHRcdFx0XHQvLyB0aGVyZSB3YXMgYW4gb3BlbmluZyBzdHJpbmcgYmVmb3JlIHRoaXNcblx0XHRcdFx0XHRcdFx0ZW5jbG9zaW5nTGV2ZWwgLT0gMTtcblxuXHRcdFx0XHRcdFx0XHQvLyBjb3B5IHRoZSBjbG9zaW5nIHN0cmluZ1xuXHRcdFx0XHRcdFx0XHRmb3IgKGxldCBqID0gMTsgaiA8IGlnbm9yZS5jbG9zaW5nU3RyaW5nLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdFx0XHRcdFx0aSArPSAxO1xuXHRcdFx0XHRcdFx0XHRcdHN1YlN0ciArPSBzdHJbaV07XG5cblx0XHRcdFx0XHRcdFx0XHRpZiAoaSA+PSBzdHIubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRicmVhayBzdHJMb29wO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cmVtYWluaW5nQ2xvc2luZ1N0cmluZ0NvdW50IC09IDE7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIG5vIGlnbm9yZSBzcGVjaWZpZWRcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG5cblx0XHRcdFx0aWYgKFBhcnNlclV0aWxzLmlzU3RyaW5nQXQoc3RyLCBzZXBhcmF0b3IsIGkpKSB7XG5cdFx0XHRcdFx0c3ViU3RyaW5ncy5wdXNoKHN1YlN0cik7XG5cdFx0XHRcdFx0c3ViU3RyID0gJyc7XG5cdFx0XHRcdFx0aSArPSBzZXBhcmF0b3IubGVuZ3RoIC0gMTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzdWJTdHIgKz0gc3RyW2ldO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0c3ViU3RyaW5ncy5wdXNoKHN1YlN0cik7XG5cblx0XHRyZXR1cm4gc3ViU3RyaW5ncztcblx0fVxuXG5cdC8vIFRPRE86IHJlbmFtZSBzdHVmZlxuXHRzdGF0aWMgcmVtb3ZlSW5CZXR3ZWVuKHN0cjogc3RyaW5nLCBlbmNsb3NpbmdQYWlyOiBFbmNsb3NpbmdQYWlyKSB7XG5cdFx0aWYgKCFzdHIpIHtcblx0XHRcdHRocm93IG5ldyBNZXRhQmluZEludGVybmFsRXJyb3IoJ3N0cmluZyBtdXN0IG5vdCBiZSBlbXB0eScpO1xuXHRcdH1cblxuXHRcdGxldCByZW1haW5pbmdPcGVuaW5nU3RyaW5nQ291bnQgPSBQYXJzZXJVdGlscy5udW1iZXJPZk9jY3VycmVuY2VzKHN0ciwgZW5jbG9zaW5nUGFpci5vcGVuaW5nU3RyaW5nKTtcblx0XHRsZXQgcmVtYWluaW5nQ2xvc2luZ1N0cmluZ0NvdW50ID0gUGFyc2VyVXRpbHMubnVtYmVyT2ZPY2N1cnJlbmNlcyhzdHIsIGVuY2xvc2luZ1BhaXIuY2xvc2luZ1N0cmluZyk7XG5cblx0XHRsZXQgZW5jbG9zaW5nTGV2ZWw6IG51bWJlciA9IDA7XG5cblx0XHRsZXQgc3ViU3RyOiBzdHJpbmcgPSAnJztcblxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZiAoZW5jbG9zaW5nUGFpci5vcGVuaW5nRXF1YWxzQ2xvc2luZykge1xuXHRcdFx0XHRpZiAoUGFyc2VyVXRpbHMuaXNTdHJpbmdBdChzdHIsIGVuY2xvc2luZ1BhaXIub3BlbmluZ1N0cmluZywgaSkpIHtcblx0XHRcdFx0XHRpZiAoZW5jbG9zaW5nTGV2ZWwgJSAyID09PSAwICYmIHJlbWFpbmluZ09wZW5pbmdTdHJpbmdDb3VudCA9PT0gMSkge1xuXHRcdFx0XHRcdFx0Ly8gbm90IGluIGEgcGFydCB0aGF0IHNob3VsZCBiZSByZW1vdmVkIGFuZCB0aGVyZSBpcyBzdGlsbCBhbiBvcGVuaW5nIHN0cmluZyBsZWZ0LCBzbyB3ZSBpZ25vcmUgaXRcblx0XHRcdFx0XHR9IGVsc2UgaWYgKGVuY2xvc2luZ0xldmVsICUgMiA9PT0gMCkge1xuXHRcdFx0XHRcdFx0Ly8gb3BlbmluZyBzdHJpbmdcblx0XHRcdFx0XHRcdGVuY2xvc2luZ0xldmVsICs9IDE7XG5cblx0XHRcdFx0XHRcdC8vIHNraXAgdGhlIG9wZW5pbmcgc3RyaW5nXG5cdFx0XHRcdFx0XHRpICs9IGVuY2xvc2luZ1BhaXIub3BlbmluZ1N0cmluZy5sZW5ndGg7XG5cdFx0XHRcdFx0XHRpZiAoaSA+PSBzdHIubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHQvLyBjbG9zaW5nIHN0cmluZ1xuXHRcdFx0XHRcdFx0ZW5jbG9zaW5nTGV2ZWwgLT0gMTtcblxuXHRcdFx0XHRcdFx0Ly8gc2tpcCB0aGUgY2xvc2luZyBzdHJpbmdcblx0XHRcdFx0XHRcdGkgKz0gZW5jbG9zaW5nUGFpci5jbG9zaW5nU3RyaW5nLmxlbmd0aDsgLy8gKG9wZW5pbmcgYW5kIGNsb3Npbmcgc3RyaW5nIGFyZSB0aGUgc2FtZSlcblx0XHRcdFx0XHRcdGlmIChpID49IHN0ci5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJlbWFpbmluZ09wZW5pbmdTdHJpbmdDb3VudCAtPSAxO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAoUGFyc2VyVXRpbHMuaXNTdHJpbmdBdChzdHIsIGVuY2xvc2luZ1BhaXIub3BlbmluZ1N0cmluZywgaSkpIHtcblx0XHRcdFx0XHQvLyBvcGVuaW5nIHN0cmluZ1xuXHRcdFx0XHRcdGlmIChyZW1haW5pbmdPcGVuaW5nU3RyaW5nQ291bnQgPD0gcmVtYWluaW5nQ2xvc2luZ1N0cmluZ0NvdW50KSB7XG5cdFx0XHRcdFx0XHQvLyBzdHIgc3RpbGwgaGFzIHN1ZmZpY2llbnQgY2xvc2luZyBzdHJpbmcgdG8gZmluZCB0aGlzIGEgcGFydG5lclxuXHRcdFx0XHRcdFx0ZW5jbG9zaW5nTGV2ZWwgKz0gMTtcblxuXHRcdFx0XHRcdFx0Ly8gc2tpcCB0aGUgb3BlbmluZyBzdHJpbmdcblx0XHRcdFx0XHRcdGkgKz0gZW5jbG9zaW5nUGFpci5vcGVuaW5nU3RyaW5nLmxlbmd0aDtcblx0XHRcdFx0XHRcdGlmIChpID49IHN0ci5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJlbWFpbmluZ09wZW5pbmdTdHJpbmdDb3VudCAtPSAxO1xuXHRcdFx0XHR9IGVsc2UgaWYgKFBhcnNlclV0aWxzLmlzU3RyaW5nQXQoc3RyLCBlbmNsb3NpbmdQYWlyLmNsb3NpbmdTdHJpbmcsIGkpKSB7XG5cdFx0XHRcdFx0Ly8gY2xvc2luZyBzdHJpbmdcblx0XHRcdFx0XHRpZiAoZW5jbG9zaW5nTGV2ZWwgPiAwKSB7XG5cdFx0XHRcdFx0XHQvLyB0aGVyZSB3YXMgYW4gb3BlbmluZyBzdHJpbmcgYmVmb3JlIHRoaXNcblx0XHRcdFx0XHRcdGVuY2xvc2luZ0xldmVsIC09IDE7XG5cblx0XHRcdFx0XHRcdC8vIHNraXAgdGhlIGNsb3Npbmcgc3RyaW5nXG5cdFx0XHRcdFx0XHRpICs9IGVuY2xvc2luZ1BhaXIuY2xvc2luZ1N0cmluZy5sZW5ndGg7XG5cdFx0XHRcdFx0XHRpZiAoaSA+PSBzdHIubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZW1haW5pbmdDbG9zaW5nU3RyaW5nQ291bnQgLT0gMTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoZW5jbG9zaW5nTGV2ZWwgPT09IDApIHtcblx0XHRcdFx0c3ViU3RyICs9IHN0cltpXTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gc3ViU3RyO1xuXHR9XG5cblx0c3RhdGljIGdldEluQmV0d2VlbihzdHI6IHN0cmluZywgZW5jbG9zaW5nUGFpcjogRW5jbG9zaW5nUGFpcik6IHN0cmluZyB8IHN0cmluZ1tdIHtcblx0XHRpZiAoIXN0cikge1xuXHRcdFx0dGhyb3cgbmV3IE1ldGFCaW5kSW50ZXJuYWxFcnJvcignc3RyaW5nIG11c3Qgbm90IGJlIGVtcHR5Jyk7XG5cdFx0fVxuXG5cdFx0bGV0IHJlbWFpbmluZ09wZW5pbmdTdHJpbmdDb3VudCA9IFBhcnNlclV0aWxzLm51bWJlck9mT2NjdXJyZW5jZXMoc3RyLCBlbmNsb3NpbmdQYWlyLm9wZW5pbmdTdHJpbmcpO1xuXHRcdGxldCByZW1haW5pbmdDbG9zaW5nU3RyaW5nQ291bnQgPSBQYXJzZXJVdGlscy5udW1iZXJPZk9jY3VycmVuY2VzKHN0ciwgZW5jbG9zaW5nUGFpci5jbG9zaW5nU3RyaW5nKTtcblxuXHRcdGxldCBlbmNsb3NpbmdMZXZlbDogbnVtYmVyID0gMDtcblxuXHRcdGxldCBzdWJTdHI6IHN0cmluZyA9ICcnO1xuXHRcdGxldCBzdWJTdHJpbmdzOiBzdHJpbmdbXSA9IFtdO1xuXG5cdFx0c3RyTG9vcCA6IGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZiAoZW5jbG9zaW5nUGFpci5vcGVuaW5nRXF1YWxzQ2xvc2luZykge1xuXHRcdFx0XHRpZiAoUGFyc2VyVXRpbHMuaXNTdHJpbmdBdChzdHIsIGVuY2xvc2luZ1BhaXIub3BlbmluZ1N0cmluZywgaSkpIHtcblx0XHRcdFx0XHRpZiAoZW5jbG9zaW5nTGV2ZWwgJSAyID09PSAwICYmIHJlbWFpbmluZ09wZW5pbmdTdHJpbmdDb3VudCA9PT0gMSkge1xuXHRcdFx0XHRcdFx0Ly8gbm90IGluIGEgcGFydCB0aGF0IHNob3VsZCBiZSByZW1vdmVkIGFuZCB0aGVyZSBpcyBzdGlsbCBhbiBvcGVuaW5nIHN0cmluZyBsZWZ0LCBzbyB3ZSBpZ25vcmUgaXRcblx0XHRcdFx0XHR9IGVsc2UgaWYgKGVuY2xvc2luZ0xldmVsICUgMiA9PT0gMCkge1xuXHRcdFx0XHRcdFx0Ly8gb3BlbmluZyBzdHJpbmdcblx0XHRcdFx0XHRcdGVuY2xvc2luZ0xldmVsICs9IDE7XG5cblx0XHRcdFx0XHRcdC8vIHNraXAgdGhlIG9wZW5pbmcgc3RyaW5nXG5cdFx0XHRcdFx0XHRzdWJTdHIgKz0gc3RyW2ldO1xuXHRcdFx0XHRcdFx0Zm9yIChsZXQgaiA9IDE7IGogPCBlbmNsb3NpbmdQYWlyLm9wZW5pbmdTdHJpbmcubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0XHRcdFx0aSArPSAxO1xuXHRcdFx0XHRcdFx0XHRzdWJTdHIgKz0gc3RyW2ldO1xuXG5cdFx0XHRcdFx0XHRcdGlmIChpID49IHN0ci5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdFx0XHRicmVhayBzdHJMb29wO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdC8vIGNsb3Npbmcgc3RyaW5nXG5cdFx0XHRcdFx0XHRlbmNsb3NpbmdMZXZlbCAtPSAxO1xuXG5cdFx0XHRcdFx0XHQvLyBza2lwIHRoZSBjbG9zaW5nIHN0cmluZ1xuXHRcdFx0XHRcdFx0c3ViU3RyICs9IHN0cltpXTtcblx0XHRcdFx0XHRcdGZvciAobGV0IGogPSAxOyBqIDwgZW5jbG9zaW5nUGFpci5jbG9zaW5nU3RyaW5nLmxlbmd0aDsgaisrKSB7IC8vIChvcGVuaW5nIGFuZCBjbG9zaW5nIHN0cmluZyBhcmUgdGhlIHNhbWUpXG5cdFx0XHRcdFx0XHRcdGkgKz0gMTtcblx0XHRcdFx0XHRcdFx0c3ViU3RyICs9IHN0cltpXTtcblxuXHRcdFx0XHRcdFx0XHRpZiAoaSA+IHN0ci5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdFx0XHRicmVhayBzdHJMb29wO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRzdWJTdHJpbmdzLnB1c2goc3ViU3RyKTtcblx0XHRcdFx0XHRcdHN1YlN0ciA9ICcnO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZW1haW5pbmdPcGVuaW5nU3RyaW5nQ291bnQgLT0gMTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpZiAoZW5jbG9zaW5nTGV2ZWwgPj0gMSkge1xuXHRcdFx0XHRcdFx0c3ViU3RyICs9IHN0cltpXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmIChQYXJzZXJVdGlscy5pc1N0cmluZ0F0KHN0ciwgZW5jbG9zaW5nUGFpci5vcGVuaW5nU3RyaW5nLCBpKSkge1xuXHRcdFx0XHRcdC8vIG9wZW5pbmcgc3RyaW5nXG5cdFx0XHRcdFx0aWYgKHJlbWFpbmluZ09wZW5pbmdTdHJpbmdDb3VudCA8PSByZW1haW5pbmdDbG9zaW5nU3RyaW5nQ291bnQpIHtcblx0XHRcdFx0XHRcdC8vIHN0ciBzdGlsbCBoYXMgc3VmZmljaWVudCBjbG9zaW5nIHN0cmluZyB0byBmaW5kIHRoaXMgYSBwYXJ0bmVyXG5cdFx0XHRcdFx0XHRlbmNsb3NpbmdMZXZlbCArPSAxO1xuXG5cdFx0XHRcdFx0XHQvLyBjb3B5IHRoZSBvcGVuaW5nIHN0cmluZ1xuXHRcdFx0XHRcdFx0c3ViU3RyICs9IHN0cltpXTtcblx0XHRcdFx0XHRcdGZvciAobGV0IGogPSAxOyBqIDwgZW5jbG9zaW5nUGFpci5vcGVuaW5nU3RyaW5nLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdFx0XHRcdGkgKz0gMTtcblx0XHRcdFx0XHRcdFx0c3ViU3RyICs9IHN0cltpXTtcblxuXHRcdFx0XHRcdFx0XHRpZiAoaSA+PSBzdHIubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRcdFx0YnJlYWsgc3RyTG9vcDtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZW1haW5pbmdPcGVuaW5nU3RyaW5nQ291bnQgLT0gMTtcblx0XHRcdFx0fSBlbHNlIGlmIChQYXJzZXJVdGlscy5pc1N0cmluZ0F0KHN0ciwgZW5jbG9zaW5nUGFpci5jbG9zaW5nU3RyaW5nLCBpKSkge1xuXHRcdFx0XHRcdC8vIGNsb3Npbmcgc3RyaW5nXG5cdFx0XHRcdFx0aWYgKGVuY2xvc2luZ0xldmVsID4gMCkge1xuXHRcdFx0XHRcdFx0Ly8gdGhlcmUgd2FzIGFuIG9wZW5pbmcgc3RyaW5nIGJlZm9yZSB0aGlzXG5cdFx0XHRcdFx0XHRlbmNsb3NpbmdMZXZlbCAtPSAxO1xuXG5cdFx0XHRcdFx0XHQvLyBjb3B5IHRoZSBjbG9zaW5nIHN0cmluZ1xuXHRcdFx0XHRcdFx0c3ViU3RyICs9IHN0cltpXTtcblx0XHRcdFx0XHRcdGZvciAobGV0IGogPSAxOyBqIDwgZW5jbG9zaW5nUGFpci5jbG9zaW5nU3RyaW5nLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdFx0XHRcdGkgKz0gMTtcblx0XHRcdFx0XHRcdFx0c3ViU3RyICs9IHN0cltpXTtcblxuXHRcdFx0XHRcdFx0XHRpZiAoaSA+IHN0ci5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdFx0XHRicmVhayBzdHJMb29wO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGlmIChlbmNsb3NpbmdMZXZlbCA9PT0gMCkge1xuXHRcdFx0XHRcdFx0XHRzdWJTdHJpbmdzLnB1c2goc3ViU3RyKTtcblx0XHRcdFx0XHRcdFx0c3ViU3RyID0gJyc7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJlbWFpbmluZ0Nsb3NpbmdTdHJpbmdDb3VudCAtPSAxO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmIChlbmNsb3NpbmdMZXZlbCA+PSAxKSB7XG5cdFx0XHRcdFx0XHRzdWJTdHIgKz0gc3RyW2ldO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChzdWJTdHJpbmdzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0cmV0dXJuICcnO1xuXHRcdH0gZWxzZSBpZiAoc3ViU3RyaW5ncy5sZW5ndGggPT09IDEpIHtcblx0XHRcdHJldHVybiBzdWJTdHJpbmdzWzBdLnN1YnN0cmluZyhlbmNsb3NpbmdQYWlyLm9wZW5pbmdTdHJpbmcubGVuZ3RoLCBzdWJTdHJpbmdzWzBdLmxlbmd0aCAtIGVuY2xvc2luZ1BhaXIuY2xvc2luZ1N0cmluZy5sZW5ndGgpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gc3ViU3RyaW5ncy5tYXAoeCA9PiB4LnN1YnN0cmluZyhlbmNsb3NpbmdQYWlyLm9wZW5pbmdTdHJpbmcubGVuZ3RoLCB4Lmxlbmd0aCAtIGVuY2xvc2luZ1BhaXIuY2xvc2luZ1N0cmluZy5sZW5ndGgpKTtcblx0XHR9XG5cdH1cblxuXHRzdGF0aWMgaXNTdHJpbmdBdChzdHI6IHN0cmluZywgc3ViU3RyOiBzdHJpbmcsIGluZGV4OiBudW1iZXIpOiBib29sZWFuIHtcblx0XHRpZiAoaW5kZXggPCAwKSB7XG5cdFx0XHR0aHJvdyBuZXcgTWV0YUJpbmRJbnRlcm5hbEVycm9yKCdpbmRleCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwJyk7XG5cdFx0fVxuXHRcdGlmIChpbmRleCA+PSBzdHIubGVuZ3RoKSB7XG5cdFx0XHR0aHJvdyBuZXcgTWV0YUJpbmRJbnRlcm5hbEVycm9yKCdpbmRleCBvdXQgb2YgYm91bmRzIG9mIHN0cmluZycpO1xuXHRcdH1cblx0XHRpZiAoIXN0cikge1xuXHRcdFx0dGhyb3cgbmV3IE1ldGFCaW5kSW50ZXJuYWxFcnJvcignc3RyaW5nIG11c3Qgbm90IGJlIGVtcHR5Jyk7XG5cdFx0fVxuXHRcdGlmICghc3ViU3RyKSB7XG5cdFx0XHR0aHJvdyBuZXcgTWV0YUJpbmRJbnRlcm5hbEVycm9yKCdzdWIgc3RyaW5nIG11c3Qgbm90IGJlIGVtcHR5Jyk7XG5cdFx0fVxuXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBzdWJTdHIubGVuZ3RoOyBpKyspIHtcblx0XHRcdGlmIChzdHJbaSArIGluZGV4XSAhPT0gc3ViU3RyW2ldKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdHN0YXRpYyBjb250YWlucyhzdHI6IHN0cmluZywgc3ViU3RyOiBzdHJpbmcpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gUGFyc2VyVXRpbHMubnVtYmVyT2ZPY2N1cnJlbmNlcyhzdHIsIHN1YlN0cikgPiAwO1xuXHR9XG5cblx0c3RhdGljIG51bWJlck9mT2NjdXJyZW5jZXMoc3RyOiBzdHJpbmcsIHN1YlN0cjogc3RyaW5nKTogbnVtYmVyIHtcblx0XHRpZiAoIXN0cikge1xuXHRcdFx0dGhyb3cgbmV3IE1ldGFCaW5kSW50ZXJuYWxFcnJvcignc3RyaW5nIG11c3Qgbm90IGJlIGVtcHR5Jyk7XG5cdFx0fVxuXHRcdGlmICghc3ViU3RyKSB7XG5cdFx0XHR0aHJvdyBuZXcgTWV0YUJpbmRJbnRlcm5hbEVycm9yKCdzdWIgc3RyaW5nIG11c3Qgbm90IGJlIGVtcHR5Jyk7XG5cdFx0fVxuXG5cdFx0bGV0IG9jY3VycmVuY2VzID0gMDtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuXHRcdFx0aWYgKFBhcnNlclV0aWxzLmlzU3RyaW5nQXQoc3RyLCBzdWJTdHIsIGkpKSB7XG5cdFx0XHRcdG9jY3VycmVuY2VzICs9IDE7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG9jY3VycmVuY2VzO1xuXHR9XG59XG4iLCAiaW1wb3J0IHtFbmNsb3NpbmdQYWlyLCBQYXJzZXJVdGlsc30gZnJvbSAnLi4vdXRpbHMvUGFyc2VyVXRpbHMnO1xuaW1wb3J0IHtpc1RydXRoeSwgTWV0YUJpbmRQYXJzaW5nRXJyb3J9IGZyb20gJy4uL3V0aWxzL1V0aWxzJztcblxuZXhwb3J0IGVudW0gSW5wdXRGaWVsZFR5cGUge1xuXHRUT0dHTEUgPSAndG9nZ2xlJyxcblx0U0xJREVSID0gJ3NsaWRlcicsXG5cdFRFWFQgPSAndGV4dCcsXG5cdFRFWFRfQVJFQSA9ICd0ZXh0X2FyZWEnLFxuXHRTRUxFQ1QgPSAnc2VsZWN0Jyxcblx0TVVMVElfU0VMRUNUID0gJ211bHRpX3NlbGVjdCcsXG5cdERBVEUgPSAnZGF0ZScsXG5cdFRJTUUgPSAndGltZScsXG5cdElOVkFMSUQgPSAnaW52YWxpZCcsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW5wdXRGaWVsZERlY2xhcmF0aW9uIHtcblx0ZnVsbERlY2xhcmF0aW9uOiBzdHJpbmc7XG5cdGRlY2xhcmF0aW9uOiBzdHJpbmc7XG5cdGlucHV0RmllbGRUeXBlOiBJbnB1dEZpZWxkVHlwZTtcblx0aXNCb3VuZDogYm9vbGVhbjtcblx0YmluZFRhcmdldDogc3RyaW5nO1xuXG5cdGFyZ3VtZW50czogSW5wdXRGaWVsZEFyZ3VtZW50W107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW5wdXRGaWVsZEFyZ3VtZW50IHtcblx0bmFtZTogc3RyaW5nO1xuXHR2YWx1ZTogYW55O1xufVxuXG5leHBvcnQgY2xhc3MgSW5wdXRGaWVsZERlY2xhcmF0aW9uUGFyc2VyIHtcblx0c3RhdGljIHJvdW5kQnJhY2VzUGFpcjogRW5jbG9zaW5nUGFpciA9IG5ldyBFbmNsb3NpbmdQYWlyKCcoJywgJyknKTtcblx0c3RhdGljIHNxdWFyZUJyYWNlc1BhaXI6IEVuY2xvc2luZ1BhaXIgPSBuZXcgRW5jbG9zaW5nUGFpcignWycsICddJyk7XG5cdHN0YXRpYyBjdXJseUJyYWNlc1BhaXI6IEVuY2xvc2luZ1BhaXIgPSBuZXcgRW5jbG9zaW5nUGFpcigneycsICd9Jyk7XG5cdHN0YXRpYyBhbGxCcmFjZXNQYWlyczogRW5jbG9zaW5nUGFpcltdID0gW1xuXHRcdElucHV0RmllbGREZWNsYXJhdGlvblBhcnNlci5yb3VuZEJyYWNlc1BhaXIsXG5cdFx0SW5wdXRGaWVsZERlY2xhcmF0aW9uUGFyc2VyLnNxdWFyZUJyYWNlc1BhaXIsXG5cdFx0SW5wdXRGaWVsZERlY2xhcmF0aW9uUGFyc2VyLmN1cmx5QnJhY2VzUGFpcixcblx0XTtcblxuXG5cdHN0YXRpYyBwYXJzZShmdWxsRGVjbGFyYXRpb246IHN0cmluZyk6IElucHV0RmllbGREZWNsYXJhdGlvbiB7XG5cdFx0Y29uc3QgaW5wdXRGaWVsZERlY2xhcmF0aW9uOiBJbnB1dEZpZWxkRGVjbGFyYXRpb24gPSB7fSBhcyBJbnB1dEZpZWxkRGVjbGFyYXRpb247XG5cblx0XHQvLyBkZWNsYXJhdGlvblxuXHRcdGlucHV0RmllbGREZWNsYXJhdGlvbi5mdWxsRGVjbGFyYXRpb24gPSBmdWxsRGVjbGFyYXRpb247XG5cdFx0aW5wdXRGaWVsZERlY2xhcmF0aW9uLmRlY2xhcmF0aW9uID0gUGFyc2VyVXRpbHMuZ2V0SW5CZXR3ZWVuKGZ1bGxEZWNsYXJhdGlvbiwgSW5wdXRGaWVsZERlY2xhcmF0aW9uUGFyc2VyLnNxdWFyZUJyYWNlc1BhaXIpIGFzIHN0cmluZztcblxuXHRcdC8vIGRlY2xhcmF0aW9uIHBhcnRzXG5cdFx0Y29uc3QgZGVjbGFyYXRpb25QYXJ0czogc3RyaW5nW10gPSBQYXJzZXJVdGlscy5zcGxpdChpbnB1dEZpZWxkRGVjbGFyYXRpb24uZGVjbGFyYXRpb24sICc6JywgSW5wdXRGaWVsZERlY2xhcmF0aW9uUGFyc2VyLnNxdWFyZUJyYWNlc1BhaXIpO1xuXG5cdFx0Ly8gYmluZCB0YXJnZXRcblx0XHRpbnB1dEZpZWxkRGVjbGFyYXRpb24uYmluZFRhcmdldCA9IGRlY2xhcmF0aW9uUGFydHNbMV0gPz8gJyc7XG5cdFx0aW5wdXRGaWVsZERlY2xhcmF0aW9uLmlzQm91bmQgPSBpc1RydXRoeShpbnB1dEZpZWxkRGVjbGFyYXRpb24uYmluZFRhcmdldCk7XG5cblx0XHQvLyBpbnB1dCBmaWVsZCB0eXBlIGFuZCBhcmd1bWVudHNcblx0XHRjb25zdCBpbnB1dEZpZWxkVHlwZVdpdGhBcmd1bWVudHM6IHN0cmluZyA9IGRlY2xhcmF0aW9uUGFydHNbMF07XG5cdFx0Ly8gaW5wdXQgZmllbGQgdHlwZVxuXHRcdGNvbnN0IGlucHV0RmllbGRUeXBlU3RyaW5nID0gUGFyc2VyVXRpbHMucmVtb3ZlSW5CZXR3ZWVuKGlucHV0RmllbGRUeXBlV2l0aEFyZ3VtZW50cywgSW5wdXRGaWVsZERlY2xhcmF0aW9uUGFyc2VyLnJvdW5kQnJhY2VzUGFpcik7XG5cdFx0aW5wdXRGaWVsZERlY2xhcmF0aW9uLmlucHV0RmllbGRUeXBlID0gSW5wdXRGaWVsZERlY2xhcmF0aW9uUGFyc2VyLmdldElucHV0RmllbGRUeXBlKGlucHV0RmllbGRUeXBlU3RyaW5nKTtcblx0XHRpZiAoaW5wdXRGaWVsZERlY2xhcmF0aW9uLmlucHV0RmllbGRUeXBlID09PSBJbnB1dEZpZWxkVHlwZS5JTlZBTElEKSB7XG5cdFx0XHR0aHJvdyBuZXcgTWV0YUJpbmRQYXJzaW5nRXJyb3IoYHVua25vd24gaW5wdXQgZmllbGQgdHlwZSBcXCcke2lucHV0RmllbGRUeXBlU3RyaW5nfVxcJ2ApO1xuXHRcdH1cblx0XHQvLyBhcmd1bWVudHNcblx0XHRjb25zdCBpbnB1dEZpZWxkQXJndW1lbnRzU3RyaW5nOiBzdHJpbmcgPSBQYXJzZXJVdGlscy5nZXRJbkJldHdlZW4oaW5wdXRGaWVsZFR5cGVXaXRoQXJndW1lbnRzLCBJbnB1dEZpZWxkRGVjbGFyYXRpb25QYXJzZXIucm91bmRCcmFjZXNQYWlyKSBhcyBzdHJpbmc7XG5cdFx0Ly8gY29uc29sZS5sb2coaW5wdXRGaWVsZEFyZ3VtZW50c1N0cmluZyk7XG5cdFx0aWYgKGlucHV0RmllbGRBcmd1bWVudHNTdHJpbmcpIHtcblx0XHRcdGlucHV0RmllbGREZWNsYXJhdGlvbi5hcmd1bWVudHMgPSBJbnB1dEZpZWxkRGVjbGFyYXRpb25QYXJzZXIucGFyc2VBcmd1bWVudHMoaW5wdXRGaWVsZEFyZ3VtZW50c1N0cmluZywgaW5wdXRGaWVsZERlY2xhcmF0aW9uLmlucHV0RmllbGRUeXBlKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aW5wdXRGaWVsZERlY2xhcmF0aW9uLmFyZ3VtZW50cyA9IFtdO1xuXHRcdH1cblx0XHQvLyBjb25zb2xlLmxvZyhpbnB1dEZpZWxkRGVjbGFyYXRpb24uYXJndW1lbnRzKTtcblxuXHRcdHJldHVybiBpbnB1dEZpZWxkRGVjbGFyYXRpb247XG5cdH1cblxuXHRzdGF0aWMgcGFyc2VBcmd1bWVudHMoaW5wdXRGaWVsZEFyZ3VtZW50c1N0cmluZzogc3RyaW5nLCBpbnB1dEZpZWxkVHlwZTogSW5wdXRGaWVsZFR5cGUpOiBJbnB1dEZpZWxkQXJndW1lbnRbXSB7XG5cdFx0Ly8gY29uc29sZS5sb2coJ2lucHV0RmllbGRBcmd1bWVudHNTdHJpbmcnLCBpbnB1dEZpZWxkQXJndW1lbnRzU3RyaW5nKTtcblx0XHRsZXQgaW5wdXRGaWVsZEFyZ3VtZW50U3RyaW5nczogc3RyaW5nW10gPSBQYXJzZXJVdGlscy5zcGxpdChpbnB1dEZpZWxkQXJndW1lbnRzU3RyaW5nLCAnLCcsIElucHV0RmllbGREZWNsYXJhdGlvblBhcnNlci5yb3VuZEJyYWNlc1BhaXIpO1xuXHRcdGlucHV0RmllbGRBcmd1bWVudFN0cmluZ3MgPSBpbnB1dEZpZWxkQXJndW1lbnRTdHJpbmdzLm1hcCh4ID0+IHgudHJpbSgpKTtcblxuXHRcdGNvbnN0IGlucHV0RmllbGRBcmd1bWVudHM6IElucHV0RmllbGRBcmd1bWVudFtdID0gW107XG5cblx0XHRmb3IgKGNvbnN0IGlucHV0RmllbGRBcmd1bWVudFN0cmluZyBvZiBpbnB1dEZpZWxkQXJndW1lbnRTdHJpbmdzKSB7XG5cdFx0XHRjb25zdCBpbnB1dEZpZWxkQXJndW1lbnROYW1lOiBzdHJpbmcgPSBJbnB1dEZpZWxkRGVjbGFyYXRpb25QYXJzZXIuZXh0cmFjdElucHV0RmllbGRBcmd1bWVudE5hbWUoaW5wdXRGaWVsZEFyZ3VtZW50U3RyaW5nKTtcblx0XHRcdC8vIGNvbnNvbGUubG9nKGlucHV0RmllbGRBcmd1bWVudE5hbWUpO1xuXG5cdFx0XHRpZiAoaW5wdXRGaWVsZEFyZ3VtZW50TmFtZSA9PT0gJ2NsYXNzJykge1xuXHRcdFx0XHRjb25zdCBpbnB1dEZpZWxkQXJndW1lbnRWYWx1ZTogc3RyaW5nID0gSW5wdXRGaWVsZERlY2xhcmF0aW9uUGFyc2VyLmV4dHJhY3RJbnB1dEZpZWxkQXJndW1lbnRWYWx1ZShpbnB1dEZpZWxkQXJndW1lbnRTdHJpbmcpO1xuXG5cdFx0XHRcdGxldCBpbnB1dEZpZWxkQ2xhc3NBcmd1bWVudDogSW5wdXRGaWVsZEFyZ3VtZW50ID0ge25hbWU6IGlucHV0RmllbGRBcmd1bWVudE5hbWUsIHZhbHVlOiBpbnB1dEZpZWxkQXJndW1lbnRWYWx1ZX07XG5cdFx0XHRcdGlucHV0RmllbGRBcmd1bWVudHMucHVzaChpbnB1dEZpZWxkQ2xhc3NBcmd1bWVudCk7XG5cdFx0XHR9XG5cblx0XHRcdGVsc2UgaWYgKGlucHV0RmllbGRBcmd1bWVudE5hbWUgPT09ICdhZGRMYWJlbHMnKSB7XG5cdFx0XHRcdGlmIChpbnB1dEZpZWxkVHlwZSAhPT0gSW5wdXRGaWVsZFR5cGUuU0xJREVSKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGFCaW5kUGFyc2luZ0Vycm9yKGBhcmd1bWVudCBcXCcke2lucHV0RmllbGRBcmd1bWVudE5hbWV9XFwnIGlzIG9ubHkgYXBwbGljYWJsZSB0byBzbGlkZXIgaW5wdXQgZmllbGRzYCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpbnB1dEZpZWxkQXJndW1lbnRzLnB1c2goe25hbWU6ICdsYWJlbHMnLCB2YWx1ZTogdHJ1ZX0pO1xuXHRcdFx0fVxuXG5cdFx0XHRlbHNlIGlmIChpbnB1dEZpZWxkQXJndW1lbnROYW1lID09PSAnbWluVmFsdWUnKSB7XG5cdFx0XHRcdGlmIChpbnB1dEZpZWxkVHlwZSAhPT0gSW5wdXRGaWVsZFR5cGUuU0xJREVSKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGFCaW5kUGFyc2luZ0Vycm9yKGBhcmd1bWVudCBcXCcke2lucHV0RmllbGRBcmd1bWVudE5hbWV9XFwnIGlzIG9ubHkgYXBwbGljYWJsZSB0byBzbGlkZXIgaW5wdXQgZmllbGRzYCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb25zdCBpbnB1dEZpZWxkQXJndW1lbnRWYWx1ZTogc3RyaW5nID0gSW5wdXRGaWVsZERlY2xhcmF0aW9uUGFyc2VyLmV4dHJhY3RJbnB1dEZpZWxkQXJndW1lbnRWYWx1ZShpbnB1dEZpZWxkQXJndW1lbnRTdHJpbmcpO1xuXHRcdFx0XHRjb25zdCBpbnB1dEZpZWxkQXJndW1lbnRWYWx1ZUFzTnVtYmVyOiBudW1iZXIgPSBOdW1iZXIucGFyc2VJbnQoaW5wdXRGaWVsZEFyZ3VtZW50VmFsdWUpO1xuXG5cdFx0XHRcdGlmIChOdW1iZXIuaXNOYU4oaW5wdXRGaWVsZEFyZ3VtZW50VmFsdWVBc051bWJlcikpIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0YUJpbmRQYXJzaW5nRXJyb3IoYGFyZ3VtZW50IFxcJyR7aW5wdXRGaWVsZEFyZ3VtZW50TmFtZX1cXCcgdmFsdWUgbXVzdCBiZSBvZiB0eXBlIG51bWJlcmApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0bGV0IGlucHV0RmllbGRBcmd1bWVudE9iamVjdDogSW5wdXRGaWVsZEFyZ3VtZW50ID0ge25hbWU6IGlucHV0RmllbGRBcmd1bWVudE5hbWUsIHZhbHVlOiBpbnB1dEZpZWxkQXJndW1lbnRWYWx1ZUFzTnVtYmVyfTtcblx0XHRcdFx0aW5wdXRGaWVsZEFyZ3VtZW50cy5wdXNoKGlucHV0RmllbGRBcmd1bWVudE9iamVjdCk7XG5cdFx0XHR9XG5cblx0XHRcdGVsc2UgaWYgKGlucHV0RmllbGRBcmd1bWVudE5hbWUgPT09ICdtYXhWYWx1ZScpIHtcblx0XHRcdFx0aWYgKGlucHV0RmllbGRUeXBlICE9PSBJbnB1dEZpZWxkVHlwZS5TTElERVIpIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0YUJpbmRQYXJzaW5nRXJyb3IoYGFyZ3VtZW50IFxcJyR7aW5wdXRGaWVsZEFyZ3VtZW50TmFtZX1cXCcgaXMgb25seSBhcHBsaWNhYmxlIHRvIHNsaWRlciBpbnB1dCBmaWVsZHNgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnN0IGlucHV0RmllbGRBcmd1bWVudFZhbHVlOiBzdHJpbmcgPSBJbnB1dEZpZWxkRGVjbGFyYXRpb25QYXJzZXIuZXh0cmFjdElucHV0RmllbGRBcmd1bWVudFZhbHVlKGlucHV0RmllbGRBcmd1bWVudFN0cmluZyk7XG5cdFx0XHRcdGNvbnN0IGlucHV0RmllbGRBcmd1bWVudFZhbHVlQXNOdW1iZXI6IG51bWJlciA9IE51bWJlci5wYXJzZUludChpbnB1dEZpZWxkQXJndW1lbnRWYWx1ZSk7XG5cblx0XHRcdFx0aWYgKE51bWJlci5pc05hTihpbnB1dEZpZWxkQXJndW1lbnRWYWx1ZUFzTnVtYmVyKSkge1xuXHRcdFx0XHRcdHRocm93IG5ldyBNZXRhQmluZFBhcnNpbmdFcnJvcihgYXJndW1lbnQgXFwnJHtpbnB1dEZpZWxkQXJndW1lbnROYW1lfVxcJyB2YWx1ZSBtdXN0IGJlIG9mIHR5cGUgbnVtYmVyYCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRsZXQgaW5wdXRGaWVsZEFyZ3VtZW50T2JqZWN0OiBJbnB1dEZpZWxkQXJndW1lbnQgPSB7bmFtZTogaW5wdXRGaWVsZEFyZ3VtZW50TmFtZSwgdmFsdWU6IGlucHV0RmllbGRBcmd1bWVudFZhbHVlQXNOdW1iZXJ9O1xuXHRcdFx0XHRpbnB1dEZpZWxkQXJndW1lbnRzLnB1c2goaW5wdXRGaWVsZEFyZ3VtZW50T2JqZWN0KTtcblx0XHRcdH1cblxuXHRcdFx0ZWxzZSBpZiAoaW5wdXRGaWVsZEFyZ3VtZW50TmFtZSA9PT0gJ29wdGlvbicpIHtcblx0XHRcdFx0aWYgKGlucHV0RmllbGRUeXBlICE9PSBJbnB1dEZpZWxkVHlwZS5TRUxFQ1QgJiYgaW5wdXRGaWVsZFR5cGUgIT09IElucHV0RmllbGRUeXBlLk1VTFRJX1NFTEVDVCkge1xuXHRcdFx0XHRcdHRocm93IG5ldyBNZXRhQmluZFBhcnNpbmdFcnJvcihgYXJndW1lbnQgXFwnJHtpbnB1dEZpZWxkQXJndW1lbnROYW1lfVxcJyBpcyBvbmx5IGFwcGxpY2FibGUgdG8gc2VsZWN0IGFuZCBtdWx0aS1zZWxlY3QgaW5wdXQgZmllbGRzYCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb25zdCBpbnB1dEZpZWxkQXJndW1lbnRWYWx1ZTogc3RyaW5nID0gSW5wdXRGaWVsZERlY2xhcmF0aW9uUGFyc2VyLmV4dHJhY3RJbnB1dEZpZWxkQXJndW1lbnRWYWx1ZShpbnB1dEZpZWxkQXJndW1lbnRTdHJpbmcpO1xuXG5cdFx0XHRcdGxldCBpbnB1dEZpZWxkQXJndW1lbnRPYmplY3Q6IElucHV0RmllbGRBcmd1bWVudCA9IHtuYW1lOiBpbnB1dEZpZWxkQXJndW1lbnROYW1lLCB2YWx1ZTogaW5wdXRGaWVsZEFyZ3VtZW50VmFsdWV9O1xuXHRcdFx0XHRpbnB1dEZpZWxkQXJndW1lbnRzLnB1c2goaW5wdXRGaWVsZEFyZ3VtZW50T2JqZWN0KTtcblx0XHRcdH1cblxuXHRcdFx0ZWxzZSBpZiAoaW5wdXRGaWVsZEFyZ3VtZW50TmFtZSA9PT0gJ3RpdGxlJykge1xuXHRcdFx0XHRpZiAoaW5wdXRGaWVsZFR5cGUgIT09IElucHV0RmllbGRUeXBlLlNFTEVDVCAmJiBpbnB1dEZpZWxkVHlwZSAhPT0gSW5wdXRGaWVsZFR5cGUuTVVMVElfU0VMRUNUKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGFCaW5kUGFyc2luZ0Vycm9yKGBhcmd1bWVudCBcXCcke2lucHV0RmllbGRBcmd1bWVudE5hbWV9XFwnIGlzIG9ubHkgYXBwbGljYWJsZSB0byBzZWxlY3QgYW5kIG11bHRpLXNlbGVjdCBpbnB1dCBmaWVsZHNgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnN0IGlucHV0RmllbGRBcmd1bWVudFZhbHVlOiBzdHJpbmcgPSBJbnB1dEZpZWxkRGVjbGFyYXRpb25QYXJzZXIuZXh0cmFjdElucHV0RmllbGRBcmd1bWVudFZhbHVlKGlucHV0RmllbGRBcmd1bWVudFN0cmluZyk7XG5cblx0XHRcdFx0bGV0IGlucHV0RmllbGRBcmd1bWVudE9iamVjdDogSW5wdXRGaWVsZEFyZ3VtZW50ID0ge25hbWU6IGlucHV0RmllbGRBcmd1bWVudE5hbWUsIHZhbHVlOiBpbnB1dEZpZWxkQXJndW1lbnRWYWx1ZX07XG5cdFx0XHRcdGlucHV0RmllbGRBcmd1bWVudHMucHVzaChpbnB1dEZpZWxkQXJndW1lbnRPYmplY3QpO1xuXHRcdFx0fVxuXG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGFCaW5kUGFyc2luZ0Vycm9yKGB1bmtub3duIGFyZ3VtZW50IFxcJyR7aW5wdXRGaWVsZEFyZ3VtZW50TmFtZX1cXCdgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gaW5wdXRGaWVsZEFyZ3VtZW50cztcblx0fVxuXG5cdHN0YXRpYyBleHRyYWN0SW5wdXRGaWVsZEFyZ3VtZW50TmFtZShhcmd1bWVudFN0cmluZzogc3RyaW5nKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gUGFyc2VyVXRpbHMucmVtb3ZlSW5CZXR3ZWVuKGFyZ3VtZW50U3RyaW5nLCBJbnB1dEZpZWxkRGVjbGFyYXRpb25QYXJzZXIucm91bmRCcmFjZXNQYWlyKTtcblx0fVxuXG5cdHN0YXRpYyBleHRyYWN0SW5wdXRGaWVsZEFyZ3VtZW50VmFsdWUoYXJndW1lbnRTdHJpbmc6IHN0cmluZyk6IHN0cmluZyB7XG5cdFx0bGV0IGFyZ3VtZW50TmFtZSA9IHRoaXMuZXh0cmFjdElucHV0RmllbGRBcmd1bWVudE5hbWUoYXJndW1lbnRTdHJpbmcpO1xuXG5cdFx0bGV0IGFyZ3VtZW50VmFsdWUgPSBQYXJzZXJVdGlscy5nZXRJbkJldHdlZW4oYXJndW1lbnRTdHJpbmcsIElucHV0RmllbGREZWNsYXJhdGlvblBhcnNlci5yb3VuZEJyYWNlc1BhaXIpIGFzIHN0cmluZztcblx0XHRpZiAoIWFyZ3VtZW50VmFsdWUpIHtcblx0XHRcdHRocm93IG5ldyBNZXRhQmluZFBhcnNpbmdFcnJvcihgYXJndW1lbnQgXFwnJHthcmd1bWVudE5hbWV9XFwnIHJlcXVpcmVzIGEgbm9uIGVtcHR5IHZhbHVlYCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGFyZ3VtZW50VmFsdWU7XG5cdH1cblxuXHRzdGF0aWMgZ2V0SW5wdXRGaWVsZFR5cGUoc3RyOiBzdHJpbmcpOiBJbnB1dEZpZWxkVHlwZSB7XG5cdFx0Zm9yIChjb25zdCBlbnRyeSBvZiBPYmplY3QuZW50cmllcyhJbnB1dEZpZWxkVHlwZSkpIHtcblx0XHRcdGlmIChlbnRyeVsxXSA9PT0gc3RyKSB7XG5cdFx0XHRcdHJldHVybiBlbnRyeVsxXTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gSW5wdXRGaWVsZFR5cGUuSU5WQUxJRDtcblx0fVxuXG59XG4iLCAiaW1wb3J0IHtUb2dnbGVJbnB1dEZpZWxkfSBmcm9tICcuL1RvZ2dsZUlucHV0RmllbGQnO1xuaW1wb3J0IHtJbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZCwgSW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGRUeXBlfSBmcm9tICcuLi9JbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZCc7XG5pbXBvcnQge1RleHRJbnB1dEZpZWxkfSBmcm9tICcuL1RleHRJbnB1dEZpZWxkJztcbmltcG9ydCB7U2xpZGVySW5wdXRGaWVsZH0gZnJvbSAnLi9TbGlkZXJJbnB1dEZpZWxkJztcbmltcG9ydCB7VGV4dEFyZWFJbnB1dEZpZWxkfSBmcm9tICcuL1RleHRBcmVhSW5wdXRGaWVsZCc7XG5pbXBvcnQge1NlbGVjdElucHV0RmllbGR9IGZyb20gJy4vU2VsZWN0SW5wdXRGaWVsZCc7XG5pbXBvcnQge011bHRpU2VsZWN0SW5wdXRGaWVsZH0gZnJvbSAnLi9NdWx0aVNlbGVjdElucHV0RmllbGQnO1xuaW1wb3J0IHtEYXRlSW5wdXRGaWVsZH0gZnJvbSAnLi9EYXRlSW5wdXRGaWVsZCc7XG5pbXBvcnQge1RpbWVJbnB1dEZpZWxkfSBmcm9tICcuL1RpbWVJbnB1dEZpZWxkJztcbmltcG9ydCB7TWV0YUJpbmRQYXJzaW5nRXJyb3J9IGZyb20gJy4uL3V0aWxzL1V0aWxzJztcbmltcG9ydCB7QWJzdHJhY3RJbnB1dEZpZWxkfSBmcm9tICcuL0Fic3RyYWN0SW5wdXRGaWVsZCc7XG5pbXBvcnQge0lucHV0RmllbGRUeXBlfSBmcm9tICcuLi9wYXJzZXJzL0lucHV0RmllbGREZWNsYXJhdGlvblBhcnNlcic7XG5cblxuZXhwb3J0IGNsYXNzIElucHV0RmllbGRGYWN0b3J5IHtcblx0c3RhdGljIGFsbG93Q29kZUJsb2NrTWFwOiBSZWNvcmQ8c3RyaW5nLCB7IGNvZGVCbG9jazogYm9vbGVhbiwgaW5saW5lQ29kZUJsb2NrOiBib29sZWFuIH0+ID0ge1xuXHRcdFtJbnB1dEZpZWxkVHlwZS5UT0dHTEVdOiB7IGNvZGVCbG9jazogVG9nZ2xlSW5wdXRGaWVsZC5hbGxvd0NvZGVCbG9jaywgaW5saW5lQ29kZUJsb2NrOiBUb2dnbGVJbnB1dEZpZWxkLmFsbG93SW5saW5lQ29kZUJsb2NrIH0sXG5cdFx0W0lucHV0RmllbGRUeXBlLlNMSURFUl06IHsgY29kZUJsb2NrOiBTbGlkZXJJbnB1dEZpZWxkLmFsbG93Q29kZUJsb2NrLCBpbmxpbmVDb2RlQmxvY2s6IFNsaWRlcklucHV0RmllbGQuYWxsb3dJbmxpbmVDb2RlQmxvY2sgfSxcblx0XHRbSW5wdXRGaWVsZFR5cGUuVEVYVF06IHsgY29kZUJsb2NrOiBUZXh0SW5wdXRGaWVsZC5hbGxvd0NvZGVCbG9jaywgaW5saW5lQ29kZUJsb2NrOiBUZXh0SW5wdXRGaWVsZC5hbGxvd0lubGluZUNvZGVCbG9jayB9LFxuXHRcdFtJbnB1dEZpZWxkVHlwZS5URVhUX0FSRUFdOiB7IGNvZGVCbG9jazogVGV4dEFyZWFJbnB1dEZpZWxkLmFsbG93Q29kZUJsb2NrLCBpbmxpbmVDb2RlQmxvY2s6IFRleHRBcmVhSW5wdXRGaWVsZC5hbGxvd0lubGluZUNvZGVCbG9jayB9LFxuXHRcdFtJbnB1dEZpZWxkVHlwZS5TRUxFQ1RdOiB7IGNvZGVCbG9jazogU2VsZWN0SW5wdXRGaWVsZC5hbGxvd0NvZGVCbG9jaywgaW5saW5lQ29kZUJsb2NrOiBTZWxlY3RJbnB1dEZpZWxkLmFsbG93SW5saW5lQ29kZUJsb2NrIH0sXG5cdFx0W0lucHV0RmllbGRUeXBlLk1VTFRJX1NFTEVDVF06IHsgY29kZUJsb2NrOiBNdWx0aVNlbGVjdElucHV0RmllbGQuYWxsb3dDb2RlQmxvY2ssIGlubGluZUNvZGVCbG9jazogTXVsdGlTZWxlY3RJbnB1dEZpZWxkLmFsbG93SW5saW5lQ29kZUJsb2NrIH0sXG5cdFx0W0lucHV0RmllbGRUeXBlLkRBVEVdOiB7IGNvZGVCbG9jazogRGF0ZUlucHV0RmllbGQuYWxsb3dDb2RlQmxvY2ssIGlubGluZUNvZGVCbG9jazogRGF0ZUlucHV0RmllbGQuYWxsb3dJbmxpbmVDb2RlQmxvY2sgfSxcblx0XHRbSW5wdXRGaWVsZFR5cGUuVElNRV06IHsgY29kZUJsb2NrOiBUaW1lSW5wdXRGaWVsZC5hbGxvd0NvZGVCbG9jaywgaW5saW5lQ29kZUJsb2NrOiBUaW1lSW5wdXRGaWVsZC5hbGxvd0lubGluZUNvZGVCbG9jayB9LFxuXHR9XG5cblx0c3RhdGljIGNyZWF0ZUlucHV0RmllbGQoaW5wdXRGaWVsZFR5cGU6IElucHV0RmllbGRUeXBlLCBhcmdzOiB7IHR5cGU6IElucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkVHlwZSwgaW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQ6IElucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkLCBvblZhbHVlQ2hhbmdlZDogKHZhbHVlOiBhbnkpID0+IHZvaWQgfCBQcm9taXNlPHZvaWQ+IH0pOiBBYnN0cmFjdElucHV0RmllbGQge1xuXHRcdGlmIChpbnB1dEZpZWxkVHlwZSA9PT0gSW5wdXRGaWVsZFR5cGUuVE9HR0xFKSB7XG5cdFx0XHRJbnB1dEZpZWxkRmFjdG9yeS5jaGVja0lucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkVHlwZUFsbG93ZWQoaW5wdXRGaWVsZFR5cGUsIGFyZ3MudHlwZSk7XG5cdFx0XHRyZXR1cm4gbmV3IFRvZ2dsZUlucHV0RmllbGQoYXJncy5pbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZCwgYXJncy5vblZhbHVlQ2hhbmdlZCk7XG5cdFx0fSBlbHNlIGlmIChpbnB1dEZpZWxkVHlwZSA9PT0gSW5wdXRGaWVsZFR5cGUuU0xJREVSKSB7XG5cdFx0XHRJbnB1dEZpZWxkRmFjdG9yeS5jaGVja0lucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkVHlwZUFsbG93ZWQoaW5wdXRGaWVsZFR5cGUsIGFyZ3MudHlwZSk7XG5cdFx0XHRyZXR1cm4gbmV3IFNsaWRlcklucHV0RmllbGQoYXJncy5pbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZCwgYXJncy5vblZhbHVlQ2hhbmdlZCk7XG5cdFx0fSBlbHNlIGlmIChpbnB1dEZpZWxkVHlwZSA9PT0gSW5wdXRGaWVsZFR5cGUuVEVYVCkge1xuXHRcdFx0SW5wdXRGaWVsZEZhY3RvcnkuY2hlY2tJbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZFR5cGVBbGxvd2VkKGlucHV0RmllbGRUeXBlLCBhcmdzLnR5cGUpO1xuXHRcdFx0cmV0dXJuIG5ldyBUZXh0SW5wdXRGaWVsZChhcmdzLmlucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkLCBhcmdzLm9uVmFsdWVDaGFuZ2VkKTtcblx0XHR9IGVsc2UgaWYgKGlucHV0RmllbGRUeXBlID09PSBJbnB1dEZpZWxkVHlwZS5URVhUX0FSRUEpIHtcblx0XHRcdElucHV0RmllbGRGYWN0b3J5LmNoZWNrSW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGRUeXBlQWxsb3dlZChpbnB1dEZpZWxkVHlwZSwgYXJncy50eXBlKTtcblx0XHRcdHJldHVybiBuZXcgVGV4dEFyZWFJbnB1dEZpZWxkKGFyZ3MuaW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQsIGFyZ3Mub25WYWx1ZUNoYW5nZWQpO1xuXHRcdH0gZWxzZSBpZiAoaW5wdXRGaWVsZFR5cGUgPT09IElucHV0RmllbGRUeXBlLlNFTEVDVCkge1xuXHRcdFx0SW5wdXRGaWVsZEZhY3RvcnkuY2hlY2tJbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZFR5cGVBbGxvd2VkKGlucHV0RmllbGRUeXBlLCBhcmdzLnR5cGUpO1xuXHRcdFx0cmV0dXJuIG5ldyBTZWxlY3RJbnB1dEZpZWxkKGFyZ3MuaW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQsIGFyZ3Mub25WYWx1ZUNoYW5nZWQpO1xuXHRcdH0gZWxzZSBpZiAoaW5wdXRGaWVsZFR5cGUgPT09IElucHV0RmllbGRUeXBlLk1VTFRJX1NFTEVDVCkge1xuXHRcdFx0SW5wdXRGaWVsZEZhY3RvcnkuY2hlY2tJbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZFR5cGVBbGxvd2VkKGlucHV0RmllbGRUeXBlLCBhcmdzLnR5cGUpO1xuXHRcdFx0cmV0dXJuIG5ldyBNdWx0aVNlbGVjdElucHV0RmllbGQoYXJncy5pbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZCwgYXJncy5vblZhbHVlQ2hhbmdlZCk7XG5cdFx0fSBlbHNlIGlmIChpbnB1dEZpZWxkVHlwZSA9PT0gSW5wdXRGaWVsZFR5cGUuREFURSkge1xuXHRcdFx0SW5wdXRGaWVsZEZhY3RvcnkuY2hlY2tJbnB1dEZpZWxkTWFya2Rvd25SZW5kZXJDaGlsZFR5cGVBbGxvd2VkKGlucHV0RmllbGRUeXBlLCBhcmdzLnR5cGUpO1xuXHRcdFx0cmV0dXJuIG5ldyBEYXRlSW5wdXRGaWVsZChhcmdzLmlucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkLCBhcmdzLm9uVmFsdWVDaGFuZ2VkKTtcblx0XHR9IGVsc2UgaWYgKGlucHV0RmllbGRUeXBlID09PSBJbnB1dEZpZWxkVHlwZS5USU1FKSB7XG5cdFx0XHRJbnB1dEZpZWxkRmFjdG9yeS5jaGVja0lucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkVHlwZUFsbG93ZWQoaW5wdXRGaWVsZFR5cGUsIGFyZ3MudHlwZSk7XG5cdFx0XHRyZXR1cm4gbmV3IFRpbWVJbnB1dEZpZWxkKGFyZ3MuaW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGQsIGFyZ3Mub25WYWx1ZUNoYW5nZWQpO1xuXHRcdH1cblxuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0c3RhdGljIGNoZWNrSW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGRUeXBlQWxsb3dlZChpbnB1dEZpZWxkVHlwZTogSW5wdXRGaWVsZFR5cGUsIHR5cGU6IElucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkVHlwZSkge1xuXHRcdGNvbnN0IGFsbG93Q29kZUJsb2NrOiB7IGNvZGVCbG9jazogYm9vbGVhbjsgaW5saW5lQ29kZUJsb2NrOiBib29sZWFuIH0gPSBJbnB1dEZpZWxkRmFjdG9yeS5hbGxvd0NvZGVCbG9ja01hcFtpbnB1dEZpZWxkVHlwZV07XG5cdFx0aWYgKHR5cGUgPT09IElucHV0RmllbGRNYXJrZG93blJlbmRlckNoaWxkVHlwZS5DT0RFX0JMT0NLICYmICFhbGxvd0NvZGVCbG9jay5jb2RlQmxvY2spIHtcblx0XHRcdHRocm93IG5ldyBNZXRhQmluZFBhcnNpbmdFcnJvcihgXFwnJHtpbnB1dEZpZWxkVHlwZX1cXCcgaXMgbm90IGFsbG93ZWQgYXMgY29kZSBibG9ja2ApO1xuXHRcdH1cblx0XHRpZiAodHlwZSA9PT0gSW5wdXRGaWVsZE1hcmtkb3duUmVuZGVyQ2hpbGRUeXBlLklOTElORV9DT0RFX0JMT0NLICYmICFhbGxvd0NvZGVCbG9jay5pbmxpbmVDb2RlQmxvY2spIHtcblx0XHRcdHRocm93IG5ldyBNZXRhQmluZFBhcnNpbmdFcnJvcihgXFwnJHtpbnB1dEZpZWxkVHlwZX1cXCcgaXMgbm90IGFsbG93ZWQgYXMgaW5saW5lIGNvZGUgYmxvY2tgKTtcblx0XHR9XG5cdH1cblxufVxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsdUJBQXNEOzs7QUNBdEQsc0JBQTZDOzs7QUNBdEMsSUFBTSxPQUFOLE1BQVc7QUFBQSxFQW1DakIsY0FBYztBQTlCZCxTQUFRLFlBQW9DO0FBQUEsTUFDM0MsR0FBRztBQUFBLE1BQ0gsR0FBRztBQUFBLE1BQ0gsR0FBRztBQUFBLE1BQ0gsR0FBRztBQUFBLE1BQ0gsR0FBRztBQUFBLE1BQ0gsR0FBRztBQUFBLE1BQ0gsR0FBRztBQUFBLE1BQ0gsR0FBRztBQUFBLE1BQ0gsR0FBRztBQUFBLE1BQ0gsSUFBSTtBQUFBLE1BQ0osSUFBSTtBQUFBLE1BQ0osSUFBSTtBQUFBLElBQ0w7QUFFQSxTQUFRLGlCQUF5QztBQUFBLE1BQ2hELEdBQUc7QUFBQSxNQUNILEdBQUc7QUFBQSxNQUNILEdBQUc7QUFBQSxNQUNILEdBQUc7QUFBQSxNQUNILEdBQUc7QUFBQSxNQUNILEdBQUc7QUFBQSxNQUNILEdBQUc7QUFBQSxNQUNILEdBQUc7QUFBQSxNQUNILEdBQUc7QUFBQSxNQUNILElBQUk7QUFBQSxNQUNKLElBQUk7QUFBQSxNQUNKLElBQUk7QUFBQSxJQUNMO0FBR0MsU0FB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
