/*
-------------------------------------------
Meta Bind - Publish Dev Build
-------------------------------------------
By: Moritz Jung (https://mprojectscode.github.io/)
Time: Mon, 18 Mar 2024 22:23:00 GMT
Version: Publish Dev Build
-------------------------------------------
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
-------------------------------------------
Copyright (C) 2024 Moritz Jung
-------------------------------------------
This file is part of Meta Bind.

Meta Bind is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.

Meta Bind is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.

You should have received a copy of the GNU General Public License along with Meta Bind. If not, see <https://www.gnu.org/licenses/>. 
*/

"use strict";var meta_bind_publish=(()=>{var qU=Object.create;var ul=Object.defineProperty,zU=Object.defineProperties,$U=Object.getOwnPropertyDescriptor,HU=Object.getOwnPropertyDescriptors,GU=Object.getOwnPropertyNames,DD=Object.getOwnPropertySymbols,WU=Object.getPrototypeOf,ND=Object.prototype.hasOwnProperty,YU=Object.prototype.propertyIsEnumerable;var lh=(r,e)=>(e=Symbol[r])?e:Symbol.for("Symbol."+r);var ch=(r,e,t)=>e in r?ul(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Me=(r,e)=>{for(var t in e||(e={}))ND.call(e,t)&&ch(r,t,e[t]);if(DD)for(var t of DD(e))YU.call(e,t)&&ch(r,t,e[t]);return r},_t=(r,e)=>zU(r,HU(e));var ll=(r=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(r,{get:(e,t)=>(typeof require!="undefined"?require:e)[t]}):r)(function(r){if(typeof require!="undefined")return require.apply(this,arguments);throw Error('Dynamic require of "'+r+'" is not supported')});var an=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),jU=(r,e)=>{for(var t in e)ul(r,t,{get:e[t],enumerable:!0})},AD=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of GU(e))!ND.call(r,i)&&i!==t&&ul(r,i,{get:()=>e[i],enumerable:!(n=$U(e,i))||n.enumerable});return r};var dr=(r,e,t)=>(t=r!=null?qU(WU(r)):{},AD(e||!r||!r.__esModule?ul(t,"default",{value:r,enumerable:!0}):t,r)),ZU=r=>AD(ul({},"__esModule",{value:!0}),r);var tn=(r,e,t)=>(ch(r,typeof e!="symbol"?e+"":e,t),t);var St=(r,e,t)=>new Promise((n,i)=>{var a=u=>{try{c(t.next(u))}catch(s){i(s)}},o=u=>{try{c(t.throw(u))}catch(s){i(s)}},c=u=>u.done?n(u.value):Promise.resolve(u.value).then(a,o);c((t=t.apply(r,e)).next())}),JU=function(r,e){this[0]=r,this[1]=e};var fh=r=>{var e=r[lh("asyncIterator")],t=!1,n,i={};return e==null?(e=r[lh("iterator")](),n=a=>i[a]=o=>e[a](o)):(e=e.call(r),n=a=>i[a]=o=>{if(t){if(t=!1,a==="throw")throw o;return o}return t=!0,{done:!1,value:new JU(new Promise(c=>{var u=e[a](o);if(!(u instanceof Object))throw TypeError("Object expected");c(u)}),1)}}),i[lh("iterator")]=()=>i,n("next"),"throw"in e?n("throw"):i.throw=a=>{throw a},"return"in e&&n("return"),i};var $c=an(ri=>{"use strict";Object.defineProperty(ri,"__esModule",{value:!0});ri.P_HELPERS=ri.ParserHelpers=ri.validateRegexFlags=ri.validateRange=ri.getIndex=ri.arrayUnion=void 0;var vh=Hc();function KU(r,e){if(r===void 0&&e===void 0)return;if(r===void 0)return e;if(e===void 0)return r;let t=[...r];for(let n of e)t.includes(n)||t.push(n);return t}ri.arrayUnion=KU;function eV(r){return r===void 0?-1:r.index}ri.getIndex=eV;function tV(r,e){if(e<r)throw new Error(`Invalid Range: max might not be smaller than min. Received [${r}, ${e}].`);if(r<0||e<0)throw new Error(`Invalid Range: max and min might not be smaller than 0. Received [${r}, ${e}].`);if(r===1/0||e===1/0)throw new Error(`Invalid Range: max and min might not be infinity. Received [${r}, ${e}].`);if(!Number.isInteger(r)||!Number.isInteger(e))throw new Error(`Invalid Range: max and min must be integers. Received [${r}, ${e}].`)}ri.validateRange=tV;function rV(r){for(let e of r)if(e!=="i"&&e!=="m"&&e!=="s"&&e!=="u")throw new Error(`RegExp flag '${e}' is not allowed. The only allowed flags are 'i', 'm', 's' and 'u'.`)}ri.validateRegexFlags=rV;var zc=class{followedBy(e){return new vh.Parser(function(n){return e.p(n.copy())})}notFollowedBy(e){return new vh.Parser(function(n){let i=n.copy(),a=e.p(i),o=n.sliceTo(i.position.index);return a.success?n.fail("not '"+o+"'"):n.succeed(void 0)})}test(e){return new vh.Parser(function(n){let i=n.input[n.position.index];return!n.atEOF()&&e(i)?n.succeedOffset(1,i):n.fail(`a character matching ${e}`)})}};ri.ParserHelpers=zc;ri.P_HELPERS=new zc});var ID=an(Gc=>{"use strict";Object.defineProperty(Gc,"__esModule",{value:!0});Gc.ParserContext=void 0;var yh=$c(),bh=class r{constructor(e,t){this.input=e,this.position=t}moveToPosition(e){return this.position=e,this}copy(){return new r(this.input,{index:this.position.index,column:this.position.column,line:this.position.line})}getPosition(){return{index:this.position.index,column:this.position.column,line:this.position.line}}atEOF(){return this.position.index>=this.input.length}advanceTo(e){if(e<this.position.index)throw new Error(`Can not advance backwards. Current pos ${this.position.index}. Advance target index ${e}.`);if(e!==this.position.index){for(let t=this.position.index;t<e;t++)this.input[t]===`
`?(this.position.line+=1,this.position.column=1):this.position.column+=1;this.position.index=e}}sliceTo(e){return this.input.slice(this.position.index,e)}succeedOffset(e,t){return this.succeedAt(this.position.index+e,t)}failOffset(e,t){return this.failAt(this.position.index+e,t)}succeed(e){return this.succeedAt(this.position.index,e)}fail(e){return this.failAt(this.position.index,e)}succeedAt(e,t){return this.advanceTo(e),{success:!0,value:t,furthest:void 0,expected:void 0}}failAt(e,t){return this.advanceTo(e),{success:!1,value:void 0,furthest:this.position,expected:Array.isArray(t)?t:[t]}}merge(e,t){if(e===void 0)return t;let n=(0,yh.getIndex)(e.furthest),i=(0,yh.getIndex)(t.furthest);if(i>n)return t;let a=i===n?(0,yh.arrayUnion)(e.expected,t.expected):e.expected;return t.furthest=e.furthest,t.expected=a,t}};Gc.ParserContext=bh});var ni=an(Yc=>{"use strict";Object.defineProperty(Yc,"__esModule",{value:!0});Yc.P=void 0;var hi=Hc(),Wc=$c(),xh=class r{static sequence(...e){if(e.length===0)throw new Error("sequence must have at least one parser argument");return new hi.Parser(function(n){let i,a=new Array(e.length);for(let o=0;o<e.length;o++){let u=e[o].p(n);if(i=n.merge(i,u),!i.success)return i;a[o]=i.value}return i.value=a,i})}static sequenceMap(e,...t){if(t.length===0)throw new Error("sequenceMap must have at least one parser argument");return new hi.Parser(function(i){let a,o=new Array(t.length);for(let c=0;c<t.length;c++){let s=t[c].p(i);if(a=i.merge(a,s),!a.success)return a;o[c]=a.value}return a.value=e(...o),a})}static createLanguage(e){let t={},n={},i={};for(let a in e)i[a]=r.reference(()=>e[a](t,i)),Object.defineProperty(n,a,{get:()=>{if(t[a]!==void 0)return t[a];throw new Error(`Can not access rule '${a}' in language. Rule is not yet defined. Try to access it via 'ref'.`)}});for(let a in e)t[a]=e[a](n,i);return t}static or(...e){if(e.length===0)throw new Error("or must have at least one alternative");return new hi.Parser(function(n){let i;for(let a of e){let o=a,c=n.copy(),u=o.p(c);if(i=n.merge(i,u),i.success)return n.moveToPosition(c.position),i}return i})}static separateBy(e,t){return this.separateByNotEmpty(e,t).or(r.succeed([]))}static separateByNotEmpty(e,t){return this.sequenceMap(function(i,a){return a.unshift(i),a},e,t.then(e).many())}static string(e){let t="'"+e+"'";return new hi.Parser(function(i){for(let a=0;a<e.length;a++)if(i.input[i.position.index+a]!==e[a])return i.fail(t);return i.succeedAt(i.position.index+e.length,e)})}static regexp(e,t){(0,Wc.validateRegexFlags)(e.flags);let n=e.source;return t!==void 0?new hi.Parser(function(a){let o=a.input.slice(a.position.index),c=e.exec(o);if(c!==null){let u=t!=null?t:0;if(u>=0&&u<=c.length){let l=c[0],f=c[u];return a.succeedOffset(l.length,f)}let s="expected valid match group (0 to "+c.length+") in "+n;return a.fail(s)}else return a.fail(n)}):new hi.Parser(function(a){let o=a.input.slice(a.position.index),c=e.exec(o);if(c!==null){let u=c[0];return a.succeedOffset(u.length,u)}else return a.fail(n)})}static succeed(e){return new hi.Parser(function(n){return n.succeed(e)})}static fail(e){return new hi.Parser(function(n){return n.fail(e)})}static oneOf(e){return Wc.P_HELPERS.test(function(n){return e.includes(n)}).describe(`one character of '${e}'`)}static noneOf(e){return Wc.P_HELPERS.test(function(n){return!e.includes(n)}).describe(`no character of '${e}'`)}static oneStringOf(e){return this.or(...e.map(t=>this.string(t))).describe(e.map(t=>`'${t}'`).join(" or "))}static manyOf(e){return new hi.Parser(function(n){let i=n.position.index;for(;i<n.input.length&&e.includes(n.input[i]);i++);return n.succeedAt(i,n.sliceTo(i))})}static manyNotOf(e){return new hi.Parser(function(n){let i=n.position.index;for(;i<n.input.length&&!e.includes(n.input[i]);i++);return n.succeedAt(i,n.sliceTo(i))})}static custom(e){return new hi.Parser(e)}static range(e,t){let n=e.charCodeAt(0),i=t.charCodeAt(0);return Wc.P_HELPERS.test(function(o){let c=o.charCodeAt(0);return n<=c&&c<=i}).describe(`${e}-${t}`)}static takeWhile(e){return new hi.Parser(function(n){let i=n.position.index;for(;i<n.input.length&&e(n.input[i]);)i++;return n.succeedAt(i,n.input.slice(n.position.index,i))})}static reference(e){return new hi.Parser(function(n){return e().p(n)})}};Yc.P=xh});var PD=an(Gs=>{"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});Gs.ParsingError=Gs.createParsingErrorMessage=void 0;function BD(r,e,t){let n=`Expected ${e.expected.sort().join(" or ")}`,i=`Parse Failure: ${n} at index ${e.furthest.index}, line ${e.furthest.line}, column ${e.furthest.column}.`;if(t){let o=r.split(`
`)[e.furthest.line-1],c=`${e.furthest.line} |   `;i+=`

${c}${o}`,i+=`
${" ".repeat(e.furthest.column-1+c.length)}^ (${n})`}return i}Gs.createParsingErrorMessage=BD;var wh=class extends Error{constructor(e,t){super(BD(e,t,!0))}};Gs.ParsingError=wh});var Hc=an(jc=>{"use strict";Object.defineProperty(jc,"__esModule",{value:!0});jc.Parser=void 0;var nV=ID(),Ii=ni(),_h=$c(),Ws=gi(),iV=PD(),Sh=class r{constructor(e){this.p=e}tryParse(e){return this.p(new nV.ParserContext(e,{index:0,line:1,column:1}))}parse(e){let t=this.tryParse(e);if(t.success)return t.value;throw new iV.ParsingError(e,t)}or(e){return Ii.P.or(this,e)}trim(e){return this.wrap(e,e)}trimString(e){return this.trim(Ii.P.string(e))}wrap(e,t){let n=this;return new r(function(a){let o=e.p(a);if(!o.success)return o;let c=a.merge(o,n.p(a));if(!c.success)return c;let u=a.merge(c,t.p(a));return u.success?a.merge(u,a.succeed(c.value)):u})}wrapString(e,t){return this.wrap(Ii.P.string(e),Ii.P.string(t))}then(e){let t=this;return new r(function(i){let a=t.p(i);if(!a.success)return a;let o=i.merge(a,e.p(i));return o.success,o})}skip(e){let t=this;return new r(function(i){let a=t.p(i);if(!a.success)return a;let o=i.merge(a,e.p(i));return o.success?i.merge(o,i.succeed(a.value)):o})}and(e){return Ii.P.sequence(this,e)}many(){let e=this;return new r(function(n){let i,a=n.position.index,o=[];for(;;){let c=n.copy(),u=e.p(c);if(i=n.merge(i,u),i.success){if(c.position.index===a)throw new Error("infinite loop in many() parser detected");n.moveToPosition(c.position),o.push(i.value)}else return n.merge(i,n.succeed(o))}})}repeat(e,t){(0,_h.validateRange)(e,t);let n=this;return new r(function(a){let o,c,u=[],s=0;for(;s<e;s++)if(o=n.p(a),c=a.merge(c,o),o.success)u.push(o.value);else return c;for(;s<t;s++){let l=a.copy();if(o=n.p(l),c=a.merge(c,o),o.success)a.moveToPosition(l.position),u.push(o.value);else break}return a.merge(c,a.succeed(u))})}atMost(e){return this.repeat(0,e)}atLeast(e){return Ii.P.sequenceMap((t,n)=>t.concat(n),this.repeat(e,e),this.many())}separateBy(e){return Ii.P.separateBy(this,e)}separateByNotEmpty(e){return Ii.P.separateByNotEmpty(this,e)}result(e){return this.map(()=>e)}map(e){let t=this;return new r(function(i){let a=t.p(i);return a.success&&(a.value=e(a.value)),a})}marker(){return Ii.P.sequenceMap(function(t,n,i){return{value:n,range:{from:t,to:i}}},Ws.P_UTILS.position(),this,Ws.P_UTILS.position())}namedMarker(e){return Ii.P.sequenceMap(function(n,i,a){return{value:i,name:e,range:{from:n,to:a}}},Ws.P_UTILS.position(),this,Ws.P_UTILS.position())}node(e){return Ii.P.sequenceMap(function(n,i,a){return e(i,{from:n,to:a})},Ws.P_UTILS.position(),this,Ws.P_UTILS.position())}followedBy(e){return this.skip(_h.P_HELPERS.followedBy(e))}notFollowedBy(e){return this.skip(_h.P_HELPERS.notFollowedBy(e))}describe(e){typeof e=="string"&&(e=[e]);let t=this;return new r(function(i){let a=t.p(i);return a.expected!==void 0&&a.expected.length!==0&&(a.expected=e),a})}box(e){let t=this;return new r(function(i){var a;let o=t.p(i);return o.expected!==void 0&&o.expected.length!==0&&(o.expected=[`(${(a=o.expected)===null||a===void 0?void 0:a.join(" or ")} as part of ${e})`]),o})}optional(e){return this.or(Ii.P.succeed(e))}chain(e){let t=this;return new r(function(i){let a=t.p(i);if(!a.success)return a;let c=e(a.value).p(i);return i.merge(a,c)})}thenEof(){let e=this;return new r(function(n){let i=e.p(n);return i.success?n.atEOF()?i:n.merge(i,n.fail("eof")):i})}memorize(){let e=this,t="",n=new Map,i=new Map;return new r(function(o){let c=o.position.index;if(o.input!==t)t=o.input,n.clear(),i.clear();else{let s=n.get(c),l=i.get(c);if(s!==void 0&&l!==void 0)return o.moveToPosition(Object.assign({},l)),Object.assign({},s)}let u=e.p(o);return n.set(c,Object.assign({},u)),i.set(c,o.getPosition()),u})}};jc.Parser=Sh});var gi=an(Jc=>{"use strict";Object.defineProperty(Jc,"__esModule",{value:!0});Jc.P_UTILS=void 0;var Zc=Hc(),Ar=ni(),Dh=class r{static position(){return new Zc.Parser(e=>e.succeed(e.getPosition()))}static any(){return new Zc.Parser(e=>e.atEOF()?e.fail("any character"):e.succeedOffset(1,e.input[e.position.index]))}static remaining(){return new Zc.Parser(e=>e.succeedAt(e.input.length,e.input.slice(e.position.index)))}static eof(){return new Zc.Parser(e=>e.atEOF()?e.succeed(void 0):e.fail("eof"))}static digit(){return Ar.P.regexp(/^[0-9]/).describe("a digit")}static digits(){return Ar.P.regexp(/^[0-9]+/).describe("multiple digits")}static letter(){return Ar.P.regexp(/^[a-z]/i).describe("a letter")}static letters(){return Ar.P.regexp(/^[a-z]+/i).describe("multiple letters")}static unicodeLetter(){return Ar.P.regexp(new RegExp("^\\p{L}","iu")).describe("a unicode letter")}static unicodeLetters(){return Ar.P.regexp(new RegExp("^\\p{L}+","iu")).describe("multiple unicode letters")}static unicodeAlphanumeric(){return Ar.P.regexp(/^[\p{L}\p{N}]/iu).describe("a unicode alphanumeric character")}static unicodeAlphanumerics(){return Ar.P.regexp(/^[\p{L}\p{N}]+/iu).describe("multiple unicode alphanumeric characters")}static optionalWhitespace(){return Ar.P.regexp(/^\s*/).describe("optional whitespace")}static whitespace(){return Ar.P.regexp(/^\s+/).describe("whitespace")}static cr(){return Ar.P.string("\r")}static lf(){return Ar.P.string(`
`)}static crlf(){return Ar.P.string(`\r
`)}static newline(){return Ar.P.or(this.crlf(),this.lf(),this.cr()).describe("newline")}static prefix(e,t,n){return Ar.P.sequenceMap((i,a)=>i.reduce((o,c)=>n(c,o),a),e.many(),t)}static postfix(e,t,n){return Ar.P.sequenceMap((i,a)=>a.reduce((o,c)=>n(c,o),i),t,e.many())}static binaryRight(e,t,n){return Ar.P.sequenceMap((i,a)=>i.reverse().reduce((o,c)=>{let[u,s]=c;return n(u,s,o)},a),Ar.P.sequence(t,e.trim(this.optionalWhitespace())).many(),t)}static binaryLeft(e,t,n){return Ar.P.sequenceMap((i,a)=>a.reduce((o,c)=>{let[u,s]=c;return n(o,u,s)},i),t,Ar.P.sequence(e.trim(this.optionalWhitespace()),t).many())}static binaryRightRange(e,t,n){return Ar.P.sequenceMap((i,a,o)=>i.reverse().reduce((c,u)=>{let[s,l,f]=u;return n({from:s,to:o},l,f,c)},a),Ar.P.sequence(r.position(),t,e.trim(this.optionalWhitespace())).many(),t,r.position())}static binaryLeftRange(e,t,n){return Ar.P.sequenceMap((i,a,o)=>o.reduce((c,u)=>{let[s,l,f]=u;return n({from:i,to:f},c,s,l)},a),r.position(),t,Ar.P.sequence(e.trim(this.optionalWhitespace()),t,r.position()).many())}static func(e,t,n){let i=typeof e=="string"?Ar.P.string(e):e;return Ar.P.sequenceMap((a,o,c,u,s,l)=>n(a,u),i,Ar.P.string("("),this.optionalWhitespace(),t,this.optionalWhitespace(),Ar.P.string(")"))}};Jc.P_UTILS=Dh});var yl=an((Hh,ou)=>{(function(r,e){typeof Hh=="object"&&typeof ou!="undefined"?ou.exports=e():typeof define=="function"&&define.amd?define(e):r.moment=e()})(Hh,function(){"use strict";var r;function e(){return r.apply(null,arguments)}function t(g){r=g}function n(g){return g instanceof Array||Object.prototype.toString.call(g)==="[object Array]"}function i(g){return g!=null&&Object.prototype.toString.call(g)==="[object Object]"}function a(g,D){return Object.prototype.hasOwnProperty.call(g,D)}function o(g){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(g).length===0;var D;for(D in g)if(a(g,D))return!1;return!0}function c(g){return g===void 0}function u(g){return typeof g=="number"||Object.prototype.toString.call(g)==="[object Number]"}function s(g){return g instanceof Date||Object.prototype.toString.call(g)==="[object Date]"}function l(g,D){var I=[],R,$=g.length;for(R=0;R<$;++R)I.push(D(g[R],R));return I}function f(g,D){for(var I in D)a(D,I)&&(g[I]=D[I]);return a(D,"toString")&&(g.toString=D.toString),a(D,"valueOf")&&(g.valueOf=D.valueOf),g}function p(g,D,I,R){return tD(g,D,I,R,!0).utc()}function m(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function h(g){return g._pf==null&&(g._pf=m()),g._pf}var d;Array.prototype.some?d=Array.prototype.some:d=function(g){var D=Object(this),I=D.length>>>0,R;for(R=0;R<I;R++)if(R in D&&g.call(this,D[R],R,D))return!0;return!1};function v(g){var D=null,I=!1,R=g._d&&!isNaN(g._d.getTime());if(R&&(D=h(g),I=d.call(D.parsedDateParts,function($){return $!=null}),R=D.overflow<0&&!D.empty&&!D.invalidEra&&!D.invalidMonth&&!D.invalidWeekday&&!D.weekdayMismatch&&!D.nullInput&&!D.invalidFormat&&!D.userInvalidated&&(!D.meridiem||D.meridiem&&I),g._strict&&(R=R&&D.charsLeftOver===0&&D.unusedTokens.length===0&&D.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(g))g._isValid=R;else return R;return g._isValid}function y(g){var D=p(NaN);return g!=null?f(h(D),g):h(D).userInvalidated=!0,D}var S=e.momentProperties=[],b=!1;function w(g,D){var I,R,$,oe=S.length;if(c(D._isAMomentObject)||(g._isAMomentObject=D._isAMomentObject),c(D._i)||(g._i=D._i),c(D._f)||(g._f=D._f),c(D._l)||(g._l=D._l),c(D._strict)||(g._strict=D._strict),c(D._tzm)||(g._tzm=D._tzm),c(D._isUTC)||(g._isUTC=D._isUTC),c(D._offset)||(g._offset=D._offset),c(D._pf)||(g._pf=h(D)),c(D._locale)||(g._locale=D._locale),oe>0)for(I=0;I<oe;I++)R=S[I],$=D[R],c($)||(g[R]=$);return g}function _(g){w(this,g),this._d=new Date(g._d!=null?g._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),b===!1&&(b=!0,e.updateOffset(this),b=!1)}function x(g){return g instanceof _||g!=null&&g._isAMomentObject!=null}function T(g){e.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+g)}function A(g,D){var I=!0;return f(function(){if(e.deprecationHandler!=null&&e.deprecationHandler(null,g),I){var R=[],$,oe,Ee,ct=arguments.length;for(oe=0;oe<ct;oe++){if($="",typeof arguments[oe]=="object"){$+=`
[`+oe+"] ";for(Ee in arguments[0])a(arguments[0],Ee)&&($+=Ee+": "+arguments[0][Ee]+", ");$=$.slice(0,-2)}else $=arguments[oe];R.push($)}T(g+`
Arguments: `+Array.prototype.slice.call(R).join("")+`
`+new Error().stack),I=!1}return D.apply(this,arguments)},D)}var N={};function E(g,D){e.deprecationHandler!=null&&e.deprecationHandler(g,D),N[g]||(T(D),N[g]=!0)}e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;function C(g){return typeof Function!="undefined"&&g instanceof Function||Object.prototype.toString.call(g)==="[object Function]"}function O(g){var D,I;for(I in g)a(g,I)&&(D=g[I],C(D)?this[I]=D:this["_"+I]=D);this._config=g,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function U(g,D){var I=f({},g),R;for(R in D)a(D,R)&&(i(g[R])&&i(D[R])?(I[R]={},f(I[R],g[R]),f(I[R],D[R])):D[R]!=null?I[R]=D[R]:delete I[R]);for(R in g)a(g,R)&&!a(D,R)&&i(g[R])&&(I[R]=f({},I[R]));return I}function q(g){g!=null&&this.set(g)}var L;Object.keys?L=Object.keys:L=function(g){var D,I=[];for(D in g)a(g,D)&&I.push(D);return I};var P={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function k(g,D,I){var R=this._calendar[g]||this._calendar.sameElse;return C(R)?R.call(D,I):R}function H(g,D,I){var R=""+Math.abs(g),$=D-R.length,oe=g>=0;return(oe?I?"+":"":"-")+Math.pow(10,Math.max(0,$)).toString().substr(1)+R}var B=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,W=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ie={},Q={};function V(g,D,I,R){var $=R;typeof R=="string"&&($=function(){return this[R]()}),g&&(Q[g]=$),D&&(Q[D[0]]=function(){return H($.apply(this,arguments),D[1],D[2])}),I&&(Q[I]=function(){return this.localeData().ordinal($.apply(this,arguments),g)})}function le(g){return g.match(/\[[\s\S]/)?g.replace(/^\[|\]$/g,""):g.replace(/\\/g,"")}function Se(g){var D=g.match(B),I,R;for(I=0,R=D.length;I<R;I++)Q[D[I]]?D[I]=Q[D[I]]:D[I]=le(D[I]);return function($){var oe="",Ee;for(Ee=0;Ee<R;Ee++)oe+=C(D[Ee])?D[Ee].call($,g):D[Ee];return oe}}function fe(g,D){return g.isValid()?(D=he(D,g.localeData()),ie[D]=ie[D]||Se(D),ie[D](g)):g.localeData().invalidDate()}function he(g,D){var I=5;function R($){return D.longDateFormat($)||$}for(W.lastIndex=0;I>=0&&W.test(g);)g=g.replace(W,R),W.lastIndex=0,I-=1;return g}var _e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function ge(g){var D=this._longDateFormat[g],I=this._longDateFormat[g.toUpperCase()];return D||!I?D:(this._longDateFormat[g]=I.match(B).map(function(R){return R==="MMMM"||R==="MM"||R==="DD"||R==="dddd"?R.slice(1):R}).join(""),this._longDateFormat[g])}var me="Invalid date";function we(){return this._invalidDate}var Te="%d",ze=/\d{1,2}/;function tt(g){return this._ordinal.replace("%d",g)}var Y={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function K(g,D,I,R){var $=this._relativeTime[I];return C($)?$(g,D,I,R):$.replace(/%d/i,g)}function ve(g,D){var I=this._relativeTime[g>0?"future":"past"];return C(I)?I(D):I.replace(/%s/i,D)}var J={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function te(g){return typeof g=="string"?J[g]||J[g.toLowerCase()]:void 0}function se(g){var D={},I,R;for(R in g)a(g,R)&&(I=te(R),I&&(D[I]=g[R]));return D}var De={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Ne(g){var D=[],I;for(I in g)a(g,I)&&D.push({unit:I,priority:De[I]});return D.sort(function(R,$){return R.priority-$.priority}),D}var Ge=/\d/,Ae=/\d\d/,xt=/\d{3}/,At=/\d{4}/,ye=/[+-]?\d{6}/,Ue=/\d\d?/,X=/\d\d\d\d?/,ce=/\d\d\d\d\d\d?/,be=/\d{1,3}/,Be=/\d{1,4}/,Ve=/[+-]?\d{1,6}/,Fe=/\d+/,Le=/[+-]?\d+/,$e=/Z|[+-]\d\d:?\d\d/gi,F=/Z|[+-]\d\d(?::?\d\d)?/gi,G=/[+-]?\d+(\.\d{1,3})?/,de=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Ie=/^[1-9]\d?/,ut=/^([1-9]\d|\d)/,yt;yt={};function We(g,D,I){yt[g]=C(D)?D:function(R,$){return R&&I?I:D}}function Wn(g,D){return a(yt,g)?yt[g](D._strict,D._locale):new RegExp(mi(g))}function mi(g){return In(g.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(D,I,R,$,oe){return I||R||$||oe}))}function In(g){return g.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Sn(g){return g<0?Math.ceil(g)||0:Math.floor(g)}function tr(g){var D=+g,I=0;return D!==0&&isFinite(D)&&(I=Sn(D)),I}var tl={};function wr(g,D){var I,R=D,$;for(typeof g=="string"&&(g=[g]),u(D)&&(R=function(oe,Ee){Ee[D]=tr(oe)}),$=g.length,I=0;I<$;I++)tl[g[I]]=R}function Ho(g,D){wr(g,function(I,R,$,oe){$._w=$._w||{},D(I,$._w,$,oe)})}function kd(g,D,I){D!=null&&a(tl,g)&&tl[g](D,I._a,I,g)}function ks(g){return g%4===0&&g%100!==0||g%400===0}var hn=0,Zi=1,Fi=2,en=3,di=4,Ji=5,Da=6,Rd=7,Ld=8;V("Y",0,0,function(){var g=this.year();return g<=9999?H(g,4):"+"+g}),V(0,["YY",2],0,function(){return this.year()%100}),V(0,["YYYY",4],0,"year"),V(0,["YYYYY",5],0,"year"),V(0,["YYYYYY",6,!0],0,"year"),We("Y",Le),We("YY",Ue,Ae),We("YYYY",Be,At),We("YYYYY",Ve,ye),We("YYYYYY",Ve,ye),wr(["YYYYY","YYYYYY"],hn),wr("YYYY",function(g,D){D[hn]=g.length===2?e.parseTwoDigitYear(g):tr(g)}),wr("YY",function(g,D){D[hn]=e.parseTwoDigitYear(g)}),wr("Y",function(g,D){D[hn]=parseInt(g,10)});function Go(g){return ks(g)?366:365}e.parseTwoDigitYear=function(g){return tr(g)+(tr(g)>68?1900:2e3)};var xc=Ka("FullYear",!0);function Ud(){return ks(this.year())}function Ka(g,D){return function(I){return I!=null?(wc(this,g,I),e.updateOffset(this,D),this):Wo(this,g)}}function Wo(g,D){if(!g.isValid())return NaN;var I=g._d,R=g._isUTC;switch(D){case"Milliseconds":return R?I.getUTCMilliseconds():I.getMilliseconds();case"Seconds":return R?I.getUTCSeconds():I.getSeconds();case"Minutes":return R?I.getUTCMinutes():I.getMinutes();case"Hours":return R?I.getUTCHours():I.getHours();case"Date":return R?I.getUTCDate():I.getDate();case"Day":return R?I.getUTCDay():I.getDay();case"Month":return R?I.getUTCMonth():I.getMonth();case"FullYear":return R?I.getUTCFullYear():I.getFullYear();default:return NaN}}function wc(g,D,I){var R,$,oe,Ee,ct;if(!(!g.isValid()||isNaN(I))){switch(R=g._d,$=g._isUTC,D){case"Milliseconds":return void($?R.setUTCMilliseconds(I):R.setMilliseconds(I));case"Seconds":return void($?R.setUTCSeconds(I):R.setSeconds(I));case"Minutes":return void($?R.setUTCMinutes(I):R.setMinutes(I));case"Hours":return void($?R.setUTCHours(I):R.setHours(I));case"Date":return void($?R.setUTCDate(I):R.setDate(I));case"FullYear":break;default:return}oe=I,Ee=g.month(),ct=g.date(),ct=ct===29&&Ee===1&&!ks(oe)?28:ct,$?R.setUTCFullYear(oe,Ee,ct):R.setFullYear(oe,Ee,ct)}}function Vd(g){return g=te(g),C(this[g])?this[g]():this}function qd(g,D){if(typeof g=="object"){g=se(g);var I=Ne(g),R,$=I.length;for(R=0;R<$;R++)this[I[R].unit](g[I[R].unit])}else if(g=te(g),C(this[g]))return this[g](D);return this}function zd(g,D){return(g%D+D)%D}var $r;Array.prototype.indexOf?$r=Array.prototype.indexOf:$r=function(g){var D;for(D=0;D<this.length;++D)if(this[D]===g)return D;return-1};function rl(g,D){if(isNaN(g)||isNaN(D))return NaN;var I=zd(D,12);return g+=(D-I)/12,I===1?ks(g)?29:28:31-I%7%2}V("M",["MM",2],"Mo",function(){return this.month()+1}),V("MMM",0,0,function(g){return this.localeData().monthsShort(this,g)}),V("MMMM",0,0,function(g){return this.localeData().months(this,g)}),We("M",Ue,Ie),We("MM",Ue,Ae),We("MMM",function(g,D){return D.monthsShortRegex(g)}),We("MMMM",function(g,D){return D.monthsRegex(g)}),wr(["M","MM"],function(g,D){D[Zi]=tr(g)-1}),wr(["MMM","MMMM"],function(g,D,I,R){var $=I._locale.monthsParse(g,R,I._strict);$!=null?D[Zi]=$:h(I).invalidMonth=g});var $d="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),_c="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),eo=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,br=de,Bn=de;function Hd(g,D){return g?n(this._months)?this._months[g.month()]:this._months[(this._months.isFormat||eo).test(D)?"format":"standalone"][g.month()]:n(this._months)?this._months:this._months.standalone}function Rs(g,D){return g?n(this._monthsShort)?this._monthsShort[g.month()]:this._monthsShort[eo.test(D)?"format":"standalone"][g.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Yo(g,D,I){var R,$,oe,Ee=g.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],R=0;R<12;++R)oe=p([2e3,R]),this._shortMonthsParse[R]=this.monthsShort(oe,"").toLocaleLowerCase(),this._longMonthsParse[R]=this.months(oe,"").toLocaleLowerCase();return I?D==="MMM"?($=$r.call(this._shortMonthsParse,Ee),$!==-1?$:null):($=$r.call(this._longMonthsParse,Ee),$!==-1?$:null):D==="MMM"?($=$r.call(this._shortMonthsParse,Ee),$!==-1?$:($=$r.call(this._longMonthsParse,Ee),$!==-1?$:null)):($=$r.call(this._longMonthsParse,Ee),$!==-1?$:($=$r.call(this._shortMonthsParse,Ee),$!==-1?$:null))}function Gd(g,D,I){var R,$,oe;if(this._monthsParseExact)return Yo.call(this,g,D,I);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),R=0;R<12;R++){if($=p([2e3,R]),I&&!this._longMonthsParse[R]&&(this._longMonthsParse[R]=new RegExp("^"+this.months($,"").replace(".","")+"$","i"),this._shortMonthsParse[R]=new RegExp("^"+this.monthsShort($,"").replace(".","")+"$","i")),!I&&!this._monthsParse[R]&&(oe="^"+this.months($,"")+"|^"+this.monthsShort($,""),this._monthsParse[R]=new RegExp(oe.replace(".",""),"i")),I&&D==="MMMM"&&this._longMonthsParse[R].test(g))return R;if(I&&D==="MMM"&&this._shortMonthsParse[R].test(g))return R;if(!I&&this._monthsParse[R].test(g))return R}}function $S(g,D){if(!g.isValid())return g;if(typeof D=="string"){if(/^\d+$/.test(D))D=tr(D);else if(D=g.localeData().monthsParse(D),!u(D))return g}var I=D,R=g.date();return R=R<29?R:Math.min(R,rl(g.year(),I)),g._isUTC?g._d.setUTCMonth(I,R):g._d.setMonth(I,R),g}function HS(g){return g!=null?($S(this,g),e.updateOffset(this,!0),this):Wo(this,"Month")}function D6(){return rl(this.year(),this.month())}function N6(g){return this._monthsParseExact?(a(this,"_monthsRegex")||GS.call(this),g?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=br),this._monthsShortStrictRegex&&g?this._monthsShortStrictRegex:this._monthsShortRegex)}function A6(g){return this._monthsParseExact?(a(this,"_monthsRegex")||GS.call(this),g?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=Bn),this._monthsStrictRegex&&g?this._monthsStrictRegex:this._monthsRegex)}function GS(){function g(Lt,sr){return sr.length-Lt.length}var D=[],I=[],R=[],$,oe,Ee,ct;for($=0;$<12;$++)oe=p([2e3,$]),Ee=In(this.monthsShort(oe,"")),ct=In(this.months(oe,"")),D.push(Ee),I.push(ct),R.push(ct),R.push(Ee);D.sort(g),I.sort(g),R.sort(g),this._monthsRegex=new RegExp("^("+R.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+I.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+D.join("|")+")","i")}function E6(g,D,I,R,$,oe,Ee){var ct;return g<100&&g>=0?(ct=new Date(g+400,D,I,R,$,oe,Ee),isFinite(ct.getFullYear())&&ct.setFullYear(g)):ct=new Date(g,D,I,R,$,oe,Ee),ct}function nl(g){var D,I;return g<100&&g>=0?(I=Array.prototype.slice.call(arguments),I[0]=g+400,D=new Date(Date.UTC.apply(null,I)),isFinite(D.getUTCFullYear())&&D.setUTCFullYear(g)):D=new Date(Date.UTC.apply(null,arguments)),D}function Sc(g,D,I){var R=7+D-I,$=(7+nl(g,0,R).getUTCDay()-D)%7;return-$+R-1}function WS(g,D,I,R,$){var oe=(7+I-R)%7,Ee=Sc(g,R,$),ct=1+7*(D-1)+oe+Ee,Lt,sr;return ct<=0?(Lt=g-1,sr=Go(Lt)+ct):ct>Go(g)?(Lt=g+1,sr=ct-Go(g)):(Lt=g,sr=ct),{year:Lt,dayOfYear:sr}}function il(g,D,I){var R=Sc(g.year(),D,I),$=Math.floor((g.dayOfYear()-R-1)/7)+1,oe,Ee;return $<1?(Ee=g.year()-1,oe=$+Na(Ee,D,I)):$>Na(g.year(),D,I)?(oe=$-Na(g.year(),D,I),Ee=g.year()+1):(Ee=g.year(),oe=$),{week:oe,year:Ee}}function Na(g,D,I){var R=Sc(g,D,I),$=Sc(g+1,D,I);return(Go(g)-R+$)/7}V("w",["ww",2],"wo","week"),V("W",["WW",2],"Wo","isoWeek"),We("w",Ue,Ie),We("ww",Ue,Ae),We("W",Ue,Ie),We("WW",Ue,Ae),Ho(["w","ww","W","WW"],function(g,D,I,R){D[R.substr(0,1)]=tr(g)});function T6(g){return il(g,this._week.dow,this._week.doy).week}var M6={dow:0,doy:6};function C6(){return this._week.dow}function F6(){return this._week.doy}function I6(g){var D=this.localeData().week(this);return g==null?D:this.add((g-D)*7,"d")}function B6(g){var D=il(this,1,4).week;return g==null?D:this.add((g-D)*7,"d")}V("d",0,"do","day"),V("dd",0,0,function(g){return this.localeData().weekdaysMin(this,g)}),V("ddd",0,0,function(g){return this.localeData().weekdaysShort(this,g)}),V("dddd",0,0,function(g){return this.localeData().weekdays(this,g)}),V("e",0,0,"weekday"),V("E",0,0,"isoWeekday"),We("d",Ue),We("e",Ue),We("E",Ue),We("dd",function(g,D){return D.weekdaysMinRegex(g)}),We("ddd",function(g,D){return D.weekdaysShortRegex(g)}),We("dddd",function(g,D){return D.weekdaysRegex(g)}),Ho(["dd","ddd","dddd"],function(g,D,I,R){var $=I._locale.weekdaysParse(g,R,I._strict);$!=null?D.d=$:h(I).invalidWeekday=g}),Ho(["d","e","E"],function(g,D,I,R){D[R]=tr(g)});function P6(g,D){return typeof g!="string"?g:isNaN(g)?(g=D.weekdaysParse(g),typeof g=="number"?g:null):parseInt(g,10)}function O6(g,D){return typeof g=="string"?D.weekdaysParse(g)%7||7:isNaN(g)?null:g}function Wd(g,D){return g.slice(D,7).concat(g.slice(0,D))}var k6="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),YS="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),R6="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),L6=de,U6=de,V6=de;function q6(g,D){var I=n(this._weekdays)?this._weekdays:this._weekdays[g&&g!==!0&&this._weekdays.isFormat.test(D)?"format":"standalone"];return g===!0?Wd(I,this._week.dow):g?I[g.day()]:I}function z6(g){return g===!0?Wd(this._weekdaysShort,this._week.dow):g?this._weekdaysShort[g.day()]:this._weekdaysShort}function $6(g){return g===!0?Wd(this._weekdaysMin,this._week.dow):g?this._weekdaysMin[g.day()]:this._weekdaysMin}function H6(g,D,I){var R,$,oe,Ee=g.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],R=0;R<7;++R)oe=p([2e3,1]).day(R),this._minWeekdaysParse[R]=this.weekdaysMin(oe,"").toLocaleLowerCase(),this._shortWeekdaysParse[R]=this.weekdaysShort(oe,"").toLocaleLowerCase(),this._weekdaysParse[R]=this.weekdays(oe,"").toLocaleLowerCase();return I?D==="dddd"?($=$r.call(this._weekdaysParse,Ee),$!==-1?$:null):D==="ddd"?($=$r.call(this._shortWeekdaysParse,Ee),$!==-1?$:null):($=$r.call(this._minWeekdaysParse,Ee),$!==-1?$:null):D==="dddd"?($=$r.call(this._weekdaysParse,Ee),$!==-1||($=$r.call(this._shortWeekdaysParse,Ee),$!==-1)?$:($=$r.call(this._minWeekdaysParse,Ee),$!==-1?$:null)):D==="ddd"?($=$r.call(this._shortWeekdaysParse,Ee),$!==-1||($=$r.call(this._weekdaysParse,Ee),$!==-1)?$:($=$r.call(this._minWeekdaysParse,Ee),$!==-1?$:null)):($=$r.call(this._minWeekdaysParse,Ee),$!==-1||($=$r.call(this._weekdaysParse,Ee),$!==-1)?$:($=$r.call(this._shortWeekdaysParse,Ee),$!==-1?$:null))}function G6(g,D,I){var R,$,oe;if(this._weekdaysParseExact)return H6.call(this,g,D,I);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),R=0;R<7;R++){if($=p([2e3,1]).day(R),I&&!this._fullWeekdaysParse[R]&&(this._fullWeekdaysParse[R]=new RegExp("^"+this.weekdays($,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[R]=new RegExp("^"+this.weekdaysShort($,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[R]=new RegExp("^"+this.weekdaysMin($,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[R]||(oe="^"+this.weekdays($,"")+"|^"+this.weekdaysShort($,"")+"|^"+this.weekdaysMin($,""),this._weekdaysParse[R]=new RegExp(oe.replace(".",""),"i")),I&&D==="dddd"&&this._fullWeekdaysParse[R].test(g))return R;if(I&&D==="ddd"&&this._shortWeekdaysParse[R].test(g))return R;if(I&&D==="dd"&&this._minWeekdaysParse[R].test(g))return R;if(!I&&this._weekdaysParse[R].test(g))return R}}function W6(g){if(!this.isValid())return g!=null?this:NaN;var D=Wo(this,"Day");return g!=null?(g=P6(g,this.localeData()),this.add(g-D,"d")):D}function Y6(g){if(!this.isValid())return g!=null?this:NaN;var D=(this.day()+7-this.localeData()._week.dow)%7;return g==null?D:this.add(g-D,"d")}function j6(g){if(!this.isValid())return g!=null?this:NaN;if(g!=null){var D=O6(g,this.localeData());return this.day(this.day()%7?D:D-7)}else return this.day()||7}function Z6(g){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Yd.call(this),g?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=L6),this._weekdaysStrictRegex&&g?this._weekdaysStrictRegex:this._weekdaysRegex)}function J6(g){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Yd.call(this),g?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=U6),this._weekdaysShortStrictRegex&&g?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function X6(g){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Yd.call(this),g?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=V6),this._weekdaysMinStrictRegex&&g?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Yd(){function g(Yn,Ca){return Ca.length-Yn.length}var D=[],I=[],R=[],$=[],oe,Ee,ct,Lt,sr;for(oe=0;oe<7;oe++)Ee=p([2e3,1]).day(oe),ct=In(this.weekdaysMin(Ee,"")),Lt=In(this.weekdaysShort(Ee,"")),sr=In(this.weekdays(Ee,"")),D.push(ct),I.push(Lt),R.push(sr),$.push(ct),$.push(Lt),$.push(sr);D.sort(g),I.sort(g),R.sort(g),$.sort(g),this._weekdaysRegex=new RegExp("^("+$.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+R.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+I.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+D.join("|")+")","i")}function jd(){return this.hours()%12||12}function Q6(){return this.hours()||24}V("H",["HH",2],0,"hour"),V("h",["hh",2],0,jd),V("k",["kk",2],0,Q6),V("hmm",0,0,function(){return""+jd.apply(this)+H(this.minutes(),2)}),V("hmmss",0,0,function(){return""+jd.apply(this)+H(this.minutes(),2)+H(this.seconds(),2)}),V("Hmm",0,0,function(){return""+this.hours()+H(this.minutes(),2)}),V("Hmmss",0,0,function(){return""+this.hours()+H(this.minutes(),2)+H(this.seconds(),2)});function jS(g,D){V(g,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),D)})}jS("a",!0),jS("A",!1);function ZS(g,D){return D._meridiemParse}We("a",ZS),We("A",ZS),We("H",Ue,ut),We("h",Ue,Ie),We("k",Ue,Ie),We("HH",Ue,Ae),We("hh",Ue,Ae),We("kk",Ue,Ae),We("hmm",X),We("hmmss",ce),We("Hmm",X),We("Hmmss",ce),wr(["H","HH"],en),wr(["k","kk"],function(g,D,I){var R=tr(g);D[en]=R===24?0:R}),wr(["a","A"],function(g,D,I){I._isPm=I._locale.isPM(g),I._meridiem=g}),wr(["h","hh"],function(g,D,I){D[en]=tr(g),h(I).bigHour=!0}),wr("hmm",function(g,D,I){var R=g.length-2;D[en]=tr(g.substr(0,R)),D[di]=tr(g.substr(R)),h(I).bigHour=!0}),wr("hmmss",function(g,D,I){var R=g.length-4,$=g.length-2;D[en]=tr(g.substr(0,R)),D[di]=tr(g.substr(R,2)),D[Ji]=tr(g.substr($)),h(I).bigHour=!0}),wr("Hmm",function(g,D,I){var R=g.length-2;D[en]=tr(g.substr(0,R)),D[di]=tr(g.substr(R))}),wr("Hmmss",function(g,D,I){var R=g.length-4,$=g.length-2;D[en]=tr(g.substr(0,R)),D[di]=tr(g.substr(R,2)),D[Ji]=tr(g.substr($))});function K6(g){return(g+"").toLowerCase().charAt(0)==="p"}var e5=/[ap]\.?m?\.?/i,t5=Ka("Hours",!0);function r5(g,D,I){return g>11?I?"pm":"PM":I?"am":"AM"}var JS={calendar:P,longDateFormat:_e,invalidDate:me,ordinal:Te,dayOfMonthOrdinalParse:ze,relativeTime:Y,months:$d,monthsShort:_c,week:M6,weekdays:k6,weekdaysMin:R6,weekdaysShort:YS,meridiemParse:e5},Ur={},al={},ol;function n5(g,D){var I,R=Math.min(g.length,D.length);for(I=0;I<R;I+=1)if(g[I]!==D[I])return I;return R}function XS(g){return g&&g.toLowerCase().replace("_","-")}function i5(g){for(var D=0,I,R,$,oe;D<g.length;){for(oe=XS(g[D]).split("-"),I=oe.length,R=XS(g[D+1]),R=R?R.split("-"):null;I>0;){if($=Dc(oe.slice(0,I).join("-")),$)return $;if(R&&R.length>=I&&n5(oe,R)>=I-1)break;I--}D++}return ol}function a5(g){return!!(g&&g.match("^[^/\\\\]*$"))}function Dc(g){var D=null,I;if(Ur[g]===void 0&&typeof ou!="undefined"&&ou&&ou.exports&&a5(g))try{D=ol._abbr,I=ll,I("./locale/"+g),to(D)}catch(R){Ur[g]=null}return Ur[g]}function to(g,D){var I;return g&&(c(D)?I=Aa(g):I=Zd(g,D),I?ol=I:typeof console!="undefined"&&console.warn&&console.warn("Locale "+g+" not found. Did you forget to load it?")),ol._abbr}function Zd(g,D){if(D!==null){var I,R=JS;if(D.abbr=g,Ur[g]!=null)E("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),R=Ur[g]._config;else if(D.parentLocale!=null)if(Ur[D.parentLocale]!=null)R=Ur[D.parentLocale]._config;else if(I=Dc(D.parentLocale),I!=null)R=I._config;else return al[D.parentLocale]||(al[D.parentLocale]=[]),al[D.parentLocale].push({name:g,config:D}),null;return Ur[g]=new q(U(R,D)),al[g]&&al[g].forEach(function($){Zd($.name,$.config)}),to(g),Ur[g]}else return delete Ur[g],null}function o5(g,D){if(D!=null){var I,R,$=JS;Ur[g]!=null&&Ur[g].parentLocale!=null?Ur[g].set(U(Ur[g]._config,D)):(R=Dc(g),R!=null&&($=R._config),D=U($,D),R==null&&(D.abbr=g),I=new q(D),I.parentLocale=Ur[g],Ur[g]=I),to(g)}else Ur[g]!=null&&(Ur[g].parentLocale!=null?(Ur[g]=Ur[g].parentLocale,g===to()&&to(g)):Ur[g]!=null&&delete Ur[g]);return Ur[g]}function Aa(g){var D;if(g&&g._locale&&g._locale._abbr&&(g=g._locale._abbr),!g)return ol;if(!n(g)){if(D=Dc(g),D)return D;g=[g]}return i5(g)}function s5(){return L(Ur)}function Jd(g){var D,I=g._a;return I&&h(g).overflow===-2&&(D=I[Zi]<0||I[Zi]>11?Zi:I[Fi]<1||I[Fi]>rl(I[hn],I[Zi])?Fi:I[en]<0||I[en]>24||I[en]===24&&(I[di]!==0||I[Ji]!==0||I[Da]!==0)?en:I[di]<0||I[di]>59?di:I[Ji]<0||I[Ji]>59?Ji:I[Da]<0||I[Da]>999?Da:-1,h(g)._overflowDayOfYear&&(D<hn||D>Fi)&&(D=Fi),h(g)._overflowWeeks&&D===-1&&(D=Rd),h(g)._overflowWeekday&&D===-1&&(D=Ld),h(g).overflow=D),g}var u5=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,l5=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,c5=/Z|[+-]\d\d(?::?\d\d)?/,Nc=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Xd=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],f5=/^\/?Date\((-?\d+)/i,p5=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,m5={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function QS(g){var D,I,R=g._i,$=u5.exec(R)||l5.exec(R),oe,Ee,ct,Lt,sr=Nc.length,Yn=Xd.length;if($){for(h(g).iso=!0,D=0,I=sr;D<I;D++)if(Nc[D][1].exec($[1])){Ee=Nc[D][0],oe=Nc[D][2]!==!1;break}if(Ee==null){g._isValid=!1;return}if($[3]){for(D=0,I=Yn;D<I;D++)if(Xd[D][1].exec($[3])){ct=($[2]||" ")+Xd[D][0];break}if(ct==null){g._isValid=!1;return}}if(!oe&&ct!=null){g._isValid=!1;return}if($[4])if(c5.exec($[4]))Lt="Z";else{g._isValid=!1;return}g._f=Ee+(ct||"")+(Lt||""),Kd(g)}else g._isValid=!1}function d5(g,D,I,R,$,oe){var Ee=[h5(g),_c.indexOf(D),parseInt(I,10),parseInt(R,10),parseInt($,10)];return oe&&Ee.push(parseInt(oe,10)),Ee}function h5(g){var D=parseInt(g,10);return D<=49?2e3+D:D<=999?1900+D:D}function g5(g){return g.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function v5(g,D,I){if(g){var R=YS.indexOf(g),$=new Date(D[0],D[1],D[2]).getDay();if(R!==$)return h(I).weekdayMismatch=!0,I._isValid=!1,!1}return!0}function y5(g,D,I){if(g)return m5[g];if(D)return 0;var R=parseInt(I,10),$=R%100,oe=(R-$)/100;return oe*60+$}function KS(g){var D=p5.exec(g5(g._i)),I;if(D){if(I=d5(D[4],D[3],D[2],D[5],D[6],D[7]),!v5(D[1],I,g))return;g._a=I,g._tzm=y5(D[8],D[9],D[10]),g._d=nl.apply(null,g._a),g._d.setUTCMinutes(g._d.getUTCMinutes()-g._tzm),h(g).rfc2822=!0}else g._isValid=!1}function b5(g){var D=f5.exec(g._i);if(D!==null){g._d=new Date(+D[1]);return}if(QS(g),g._isValid===!1)delete g._isValid;else return;if(KS(g),g._isValid===!1)delete g._isValid;else return;g._strict?g._isValid=!1:e.createFromInputFallback(g)}e.createFromInputFallback=A("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(g){g._d=new Date(g._i+(g._useUTC?" UTC":""))});function Ls(g,D,I){return g!=null?g:D!=null?D:I}function x5(g){var D=new Date(e.now());return g._useUTC?[D.getUTCFullYear(),D.getUTCMonth(),D.getUTCDate()]:[D.getFullYear(),D.getMonth(),D.getDate()]}function Qd(g){var D,I,R=[],$,oe,Ee;if(!g._d){for($=x5(g),g._w&&g._a[Fi]==null&&g._a[Zi]==null&&w5(g),g._dayOfYear!=null&&(Ee=Ls(g._a[hn],$[hn]),(g._dayOfYear>Go(Ee)||g._dayOfYear===0)&&(h(g)._overflowDayOfYear=!0),I=nl(Ee,0,g._dayOfYear),g._a[Zi]=I.getUTCMonth(),g._a[Fi]=I.getUTCDate()),D=0;D<3&&g._a[D]==null;++D)g._a[D]=R[D]=$[D];for(;D<7;D++)g._a[D]=R[D]=g._a[D]==null?D===2?1:0:g._a[D];g._a[en]===24&&g._a[di]===0&&g._a[Ji]===0&&g._a[Da]===0&&(g._nextDay=!0,g._a[en]=0),g._d=(g._useUTC?nl:E6).apply(null,R),oe=g._useUTC?g._d.getUTCDay():g._d.getDay(),g._tzm!=null&&g._d.setUTCMinutes(g._d.getUTCMinutes()-g._tzm),g._nextDay&&(g._a[en]=24),g._w&&typeof g._w.d!="undefined"&&g._w.d!==oe&&(h(g).weekdayMismatch=!0)}}function w5(g){var D,I,R,$,oe,Ee,ct,Lt,sr;D=g._w,D.GG!=null||D.W!=null||D.E!=null?(oe=1,Ee=4,I=Ls(D.GG,g._a[hn],il(Or(),1,4).year),R=Ls(D.W,1),$=Ls(D.E,1),($<1||$>7)&&(Lt=!0)):(oe=g._locale._week.dow,Ee=g._locale._week.doy,sr=il(Or(),oe,Ee),I=Ls(D.gg,g._a[hn],sr.year),R=Ls(D.w,sr.week),D.d!=null?($=D.d,($<0||$>6)&&(Lt=!0)):D.e!=null?($=D.e+oe,(D.e<0||D.e>6)&&(Lt=!0)):$=oe),R<1||R>Na(I,oe,Ee)?h(g)._overflowWeeks=!0:Lt!=null?h(g)._overflowWeekday=!0:(ct=WS(I,R,$,oe,Ee),g._a[hn]=ct.year,g._dayOfYear=ct.dayOfYear)}e.ISO_8601=function(){},e.RFC_2822=function(){};function Kd(g){if(g._f===e.ISO_8601){QS(g);return}if(g._f===e.RFC_2822){KS(g);return}g._a=[],h(g).empty=!0;var D=""+g._i,I,R,$,oe,Ee,ct=D.length,Lt=0,sr,Yn;for($=he(g._f,g._locale).match(B)||[],Yn=$.length,I=0;I<Yn;I++)oe=$[I],R=(D.match(Wn(oe,g))||[])[0],R&&(Ee=D.substr(0,D.indexOf(R)),Ee.length>0&&h(g).unusedInput.push(Ee),D=D.slice(D.indexOf(R)+R.length),Lt+=R.length),Q[oe]?(R?h(g).empty=!1:h(g).unusedTokens.push(oe),kd(oe,R,g)):g._strict&&!R&&h(g).unusedTokens.push(oe);h(g).charsLeftOver=ct-Lt,D.length>0&&h(g).unusedInput.push(D),g._a[en]<=12&&h(g).bigHour===!0&&g._a[en]>0&&(h(g).bigHour=void 0),h(g).parsedDateParts=g._a.slice(0),h(g).meridiem=g._meridiem,g._a[en]=_5(g._locale,g._a[en],g._meridiem),sr=h(g).era,sr!==null&&(g._a[hn]=g._locale.erasConvertYear(sr,g._a[hn])),Qd(g),Jd(g)}function _5(g,D,I){var R;return I==null?D:g.meridiemHour!=null?g.meridiemHour(D,I):(g.isPM!=null&&(R=g.isPM(I),R&&D<12&&(D+=12),!R&&D===12&&(D=0)),D)}function S5(g){var D,I,R,$,oe,Ee,ct=!1,Lt=g._f.length;if(Lt===0){h(g).invalidFormat=!0,g._d=new Date(NaN);return}for($=0;$<Lt;$++)oe=0,Ee=!1,D=w({},g),g._useUTC!=null&&(D._useUTC=g._useUTC),D._f=g._f[$],Kd(D),v(D)&&(Ee=!0),oe+=h(D).charsLeftOver,oe+=h(D).unusedTokens.length*10,h(D).score=oe,ct?oe<R&&(R=oe,I=D):(R==null||oe<R||Ee)&&(R=oe,I=D,Ee&&(ct=!0));f(g,I||D)}function D5(g){if(!g._d){var D=se(g._i),I=D.day===void 0?D.date:D.day;g._a=l([D.year,D.month,I,D.hour,D.minute,D.second,D.millisecond],function(R){return R&&parseInt(R,10)}),Qd(g)}}function N5(g){var D=new _(Jd(eD(g)));return D._nextDay&&(D.add(1,"d"),D._nextDay=void 0),D}function eD(g){var D=g._i,I=g._f;return g._locale=g._locale||Aa(g._l),D===null||I===void 0&&D===""?y({nullInput:!0}):(typeof D=="string"&&(g._i=D=g._locale.preparse(D)),x(D)?new _(Jd(D)):(s(D)?g._d=D:n(I)?S5(g):I?Kd(g):A5(g),v(g)||(g._d=null),g))}function A5(g){var D=g._i;c(D)?g._d=new Date(e.now()):s(D)?g._d=new Date(D.valueOf()):typeof D=="string"?b5(g):n(D)?(g._a=l(D.slice(0),function(I){return parseInt(I,10)}),Qd(g)):i(D)?D5(g):u(D)?g._d=new Date(D):e.createFromInputFallback(g)}function tD(g,D,I,R,$){var oe={};return(D===!0||D===!1)&&(R=D,D=void 0),(I===!0||I===!1)&&(R=I,I=void 0),(i(g)&&o(g)||n(g)&&g.length===0)&&(g=void 0),oe._isAMomentObject=!0,oe._useUTC=oe._isUTC=$,oe._l=I,oe._i=g,oe._f=D,oe._strict=R,N5(oe)}function Or(g,D,I,R){return tD(g,D,I,R,!1)}var E5=A("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var g=Or.apply(null,arguments);return this.isValid()&&g.isValid()?g<this?this:g:y()}),T5=A("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var g=Or.apply(null,arguments);return this.isValid()&&g.isValid()?g>this?this:g:y()});function rD(g,D){var I,R;if(D.length===1&&n(D[0])&&(D=D[0]),!D.length)return Or();for(I=D[0],R=1;R<D.length;++R)(!D[R].isValid()||D[R][g](I))&&(I=D[R]);return I}function M5(){var g=[].slice.call(arguments,0);return rD("isBefore",g)}function C5(){var g=[].slice.call(arguments,0);return rD("isAfter",g)}var F5=function(){return Date.now?Date.now():+new Date},sl=["year","quarter","month","week","day","hour","minute","second","millisecond"];function I5(g){var D,I=!1,R,$=sl.length;for(D in g)if(a(g,D)&&!($r.call(sl,D)!==-1&&(g[D]==null||!isNaN(g[D]))))return!1;for(R=0;R<$;++R)if(g[sl[R]]){if(I)return!1;parseFloat(g[sl[R]])!==tr(g[sl[R]])&&(I=!0)}return!0}function B5(){return this._isValid}function P5(){return Xi(NaN)}function Ac(g){var D=se(g),I=D.year||0,R=D.quarter||0,$=D.month||0,oe=D.week||D.isoWeek||0,Ee=D.day||0,ct=D.hour||0,Lt=D.minute||0,sr=D.second||0,Yn=D.millisecond||0;this._isValid=I5(D),this._milliseconds=+Yn+sr*1e3+Lt*6e4+ct*1e3*60*60,this._days=+Ee+oe*7,this._months=+$+R*3+I*12,this._data={},this._locale=Aa(),this._bubble()}function Ec(g){return g instanceof Ac}function eh(g){return g<0?Math.round(-1*g)*-1:Math.round(g)}function O5(g,D,I){var R=Math.min(g.length,D.length),$=Math.abs(g.length-D.length),oe=0,Ee;for(Ee=0;Ee<R;Ee++)(I&&g[Ee]!==D[Ee]||!I&&tr(g[Ee])!==tr(D[Ee]))&&oe++;return oe+$}function nD(g,D){V(g,0,0,function(){var I=this.utcOffset(),R="+";return I<0&&(I=-I,R="-"),R+H(~~(I/60),2)+D+H(~~I%60,2)})}nD("Z",":"),nD("ZZ",""),We("Z",F),We("ZZ",F),wr(["Z","ZZ"],function(g,D,I){I._useUTC=!0,I._tzm=th(F,g)});var k5=/([\+\-]|\d\d)/gi;function th(g,D){var I=(D||"").match(g),R,$,oe;return I===null?null:(R=I[I.length-1]||[],$=(R+"").match(k5)||["-",0,0],oe=+($[1]*60)+tr($[2]),oe===0?0:$[0]==="+"?oe:-oe)}function rh(g,D){var I,R;return D._isUTC?(I=D.clone(),R=(x(g)||s(g)?g.valueOf():Or(g).valueOf())-I.valueOf(),I._d.setTime(I._d.valueOf()+R),e.updateOffset(I,!1),I):Or(g).local()}function nh(g){return-Math.round(g._d.getTimezoneOffset())}e.updateOffset=function(){};function R5(g,D,I){var R=this._offset||0,$;if(!this.isValid())return g!=null?this:NaN;if(g!=null){if(typeof g=="string"){if(g=th(F,g),g===null)return this}else Math.abs(g)<16&&!I&&(g=g*60);return!this._isUTC&&D&&($=nh(this)),this._offset=g,this._isUTC=!0,$!=null&&this.add($,"m"),R!==g&&(!D||this._changeInProgress?sD(this,Xi(g-R,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?R:nh(this)}function L5(g,D){return g!=null?(typeof g!="string"&&(g=-g),this.utcOffset(g,D),this):-this.utcOffset()}function U5(g){return this.utcOffset(0,g)}function V5(g){return this._isUTC&&(this.utcOffset(0,g),this._isUTC=!1,g&&this.subtract(nh(this),"m")),this}function q5(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var g=th($e,this._i);g!=null?this.utcOffset(g):this.utcOffset(0,!0)}return this}function z5(g){return this.isValid()?(g=g?Or(g).utcOffset():0,(this.utcOffset()-g)%60===0):!1}function $5(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function H5(){if(!c(this._isDSTShifted))return this._isDSTShifted;var g={},D;return w(g,this),g=eD(g),g._a?(D=g._isUTC?p(g._a):Or(g._a),this._isDSTShifted=this.isValid()&&O5(g._a,D.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function G5(){return this.isValid()?!this._isUTC:!1}function W5(){return this.isValid()?this._isUTC:!1}function iD(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Y5=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,j5=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Xi(g,D){var I=g,R=null,$,oe,Ee;return Ec(g)?I={ms:g._milliseconds,d:g._days,M:g._months}:u(g)||!isNaN(+g)?(I={},D?I[D]=+g:I.milliseconds=+g):(R=Y5.exec(g))?($=R[1]==="-"?-1:1,I={y:0,d:tr(R[Fi])*$,h:tr(R[en])*$,m:tr(R[di])*$,s:tr(R[Ji])*$,ms:tr(eh(R[Da]*1e3))*$}):(R=j5.exec(g))?($=R[1]==="-"?-1:1,I={y:jo(R[2],$),M:jo(R[3],$),w:jo(R[4],$),d:jo(R[5],$),h:jo(R[6],$),m:jo(R[7],$),s:jo(R[8],$)}):I==null?I={}:typeof I=="object"&&("from"in I||"to"in I)&&(Ee=Z5(Or(I.from),Or(I.to)),I={},I.ms=Ee.milliseconds,I.M=Ee.months),oe=new Ac(I),Ec(g)&&a(g,"_locale")&&(oe._locale=g._locale),Ec(g)&&a(g,"_isValid")&&(oe._isValid=g._isValid),oe}Xi.fn=Ac.prototype,Xi.invalid=P5;function jo(g,D){var I=g&&parseFloat(g.replace(",","."));return(isNaN(I)?0:I)*D}function aD(g,D){var I={};return I.months=D.month()-g.month()+(D.year()-g.year())*12,g.clone().add(I.months,"M").isAfter(D)&&--I.months,I.milliseconds=+D-+g.clone().add(I.months,"M"),I}function Z5(g,D){var I;return g.isValid()&&D.isValid()?(D=rh(D,g),g.isBefore(D)?I=aD(g,D):(I=aD(D,g),I.milliseconds=-I.milliseconds,I.months=-I.months),I):{milliseconds:0,months:0}}function oD(g,D){return function(I,R){var $,oe;return R!==null&&!isNaN(+R)&&(E(D,"moment()."+D+"(period, number) is deprecated. Please use moment()."+D+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),oe=I,I=R,R=oe),$=Xi(I,R),sD(this,$,g),this}}function sD(g,D,I,R){var $=D._milliseconds,oe=eh(D._days),Ee=eh(D._months);g.isValid()&&(R=R==null?!0:R,Ee&&$S(g,Wo(g,"Month")+Ee*I),oe&&wc(g,"Date",Wo(g,"Date")+oe*I),$&&g._d.setTime(g._d.valueOf()+$*I),R&&e.updateOffset(g,oe||Ee))}var J5=oD(1,"add"),X5=oD(-1,"subtract");function uD(g){return typeof g=="string"||g instanceof String}function Q5(g){return x(g)||s(g)||uD(g)||u(g)||e8(g)||K5(g)||g===null||g===void 0}function K5(g){var D=i(g)&&!o(g),I=!1,R=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],$,oe,Ee=R.length;for($=0;$<Ee;$+=1)oe=R[$],I=I||a(g,oe);return D&&I}function e8(g){var D=n(g),I=!1;return D&&(I=g.filter(function(R){return!u(R)&&uD(g)}).length===0),D&&I}function t8(g){var D=i(g)&&!o(g),I=!1,R=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],$,oe;for($=0;$<R.length;$+=1)oe=R[$],I=I||a(g,oe);return D&&I}function r8(g,D){var I=g.diff(D,"days",!0);return I<-6?"sameElse":I<-1?"lastWeek":I<0?"lastDay":I<1?"sameDay":I<2?"nextDay":I<7?"nextWeek":"sameElse"}function n8(g,D){arguments.length===1&&(arguments[0]?Q5(arguments[0])?(g=arguments[0],D=void 0):t8(arguments[0])&&(D=arguments[0],g=void 0):(g=void 0,D=void 0));var I=g||Or(),R=rh(I,this).startOf("day"),$=e.calendarFormat(this,R)||"sameElse",oe=D&&(C(D[$])?D[$].call(this,I):D[$]);return this.format(oe||this.localeData().calendar($,this,Or(I)))}function i8(){return new _(this)}function a8(g,D){var I=x(g)?g:Or(g);return this.isValid()&&I.isValid()?(D=te(D)||"millisecond",D==="millisecond"?this.valueOf()>I.valueOf():I.valueOf()<this.clone().startOf(D).valueOf()):!1}function o8(g,D){var I=x(g)?g:Or(g);return this.isValid()&&I.isValid()?(D=te(D)||"millisecond",D==="millisecond"?this.valueOf()<I.valueOf():this.clone().endOf(D).valueOf()<I.valueOf()):!1}function s8(g,D,I,R){var $=x(g)?g:Or(g),oe=x(D)?D:Or(D);return this.isValid()&&$.isValid()&&oe.isValid()?(R=R||"()",(R[0]==="("?this.isAfter($,I):!this.isBefore($,I))&&(R[1]===")"?this.isBefore(oe,I):!this.isAfter(oe,I))):!1}function u8(g,D){var I=x(g)?g:Or(g),R;return this.isValid()&&I.isValid()?(D=te(D)||"millisecond",D==="millisecond"?this.valueOf()===I.valueOf():(R=I.valueOf(),this.clone().startOf(D).valueOf()<=R&&R<=this.clone().endOf(D).valueOf())):!1}function l8(g,D){return this.isSame(g,D)||this.isAfter(g,D)}function c8(g,D){return this.isSame(g,D)||this.isBefore(g,D)}function f8(g,D,I){var R,$,oe;if(!this.isValid())return NaN;if(R=rh(g,this),!R.isValid())return NaN;switch($=(R.utcOffset()-this.utcOffset())*6e4,D=te(D),D){case"year":oe=Tc(this,R)/12;break;case"month":oe=Tc(this,R);break;case"quarter":oe=Tc(this,R)/3;break;case"second":oe=(this-R)/1e3;break;case"minute":oe=(this-R)/6e4;break;case"hour":oe=(this-R)/36e5;break;case"day":oe=(this-R-$)/864e5;break;case"week":oe=(this-R-$)/6048e5;break;default:oe=this-R}return I?oe:Sn(oe)}function Tc(g,D){if(g.date()<D.date())return-Tc(D,g);var I=(D.year()-g.year())*12+(D.month()-g.month()),R=g.clone().add(I,"months"),$,oe;return D-R<0?($=g.clone().add(I-1,"months"),oe=(D-R)/(R-$)):($=g.clone().add(I+1,"months"),oe=(D-R)/($-R)),-(I+oe)||0}e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function p8(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function m8(g){if(!this.isValid())return null;var D=g!==!0,I=D?this.clone().utc():this;return I.year()<0||I.year()>9999?fe(I,D?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):C(Date.prototype.toISOString)?D?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",fe(I,"Z")):fe(I,D?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function d8(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var g="moment",D="",I,R,$,oe;return this.isLocal()||(g=this.utcOffset()===0?"moment.utc":"moment.parseZone",D="Z"),I="["+g+'("]',R=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",$="-MM-DD[T]HH:mm:ss.SSS",oe=D+'[")]',this.format(I+R+$+oe)}function h8(g){g||(g=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var D=fe(this,g);return this.localeData().postformat(D)}function g8(g,D){return this.isValid()&&(x(g)&&g.isValid()||Or(g).isValid())?Xi({to:this,from:g}).locale(this.locale()).humanize(!D):this.localeData().invalidDate()}function v8(g){return this.from(Or(),g)}function y8(g,D){return this.isValid()&&(x(g)&&g.isValid()||Or(g).isValid())?Xi({from:this,to:g}).locale(this.locale()).humanize(!D):this.localeData().invalidDate()}function b8(g){return this.to(Or(),g)}function lD(g){var D;return g===void 0?this._locale._abbr:(D=Aa(g),D!=null&&(this._locale=D),this)}var cD=A("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(g){return g===void 0?this.localeData():this.locale(g)});function fD(){return this._locale}var Mc=1e3,Us=60*Mc,Cc=60*Us,pD=(365*400+97)*24*Cc;function Vs(g,D){return(g%D+D)%D}function mD(g,D,I){return g<100&&g>=0?new Date(g+400,D,I)-pD:new Date(g,D,I).valueOf()}function dD(g,D,I){return g<100&&g>=0?Date.UTC(g+400,D,I)-pD:Date.UTC(g,D,I)}function x8(g){var D,I;if(g=te(g),g===void 0||g==="millisecond"||!this.isValid())return this;switch(I=this._isUTC?dD:mD,g){case"year":D=I(this.year(),0,1);break;case"quarter":D=I(this.year(),this.month()-this.month()%3,1);break;case"month":D=I(this.year(),this.month(),1);break;case"week":D=I(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":D=I(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":D=I(this.year(),this.month(),this.date());break;case"hour":D=this._d.valueOf(),D-=Vs(D+(this._isUTC?0:this.utcOffset()*Us),Cc);break;case"minute":D=this._d.valueOf(),D-=Vs(D,Us);break;case"second":D=this._d.valueOf(),D-=Vs(D,Mc);break}return this._d.setTime(D),e.updateOffset(this,!0),this}function w8(g){var D,I;if(g=te(g),g===void 0||g==="millisecond"||!this.isValid())return this;switch(I=this._isUTC?dD:mD,g){case"year":D=I(this.year()+1,0,1)-1;break;case"quarter":D=I(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":D=I(this.year(),this.month()+1,1)-1;break;case"week":D=I(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":D=I(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":D=I(this.year(),this.month(),this.date()+1)-1;break;case"hour":D=this._d.valueOf(),D+=Cc-Vs(D+(this._isUTC?0:this.utcOffset()*Us),Cc)-1;break;case"minute":D=this._d.valueOf(),D+=Us-Vs(D,Us)-1;break;case"second":D=this._d.valueOf(),D+=Mc-Vs(D,Mc)-1;break}return this._d.setTime(D),e.updateOffset(this,!0),this}function _8(){return this._d.valueOf()-(this._offset||0)*6e4}function S8(){return Math.floor(this.valueOf()/1e3)}function D8(){return new Date(this.valueOf())}function N8(){var g=this;return[g.year(),g.month(),g.date(),g.hour(),g.minute(),g.second(),g.millisecond()]}function A8(){var g=this;return{years:g.year(),months:g.month(),date:g.date(),hours:g.hours(),minutes:g.minutes(),seconds:g.seconds(),milliseconds:g.milliseconds()}}function E8(){return this.isValid()?this.toISOString():null}function T8(){return v(this)}function M8(){return f({},h(this))}function C8(){return h(this).overflow}function F8(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}V("N",0,0,"eraAbbr"),V("NN",0,0,"eraAbbr"),V("NNN",0,0,"eraAbbr"),V("NNNN",0,0,"eraName"),V("NNNNN",0,0,"eraNarrow"),V("y",["y",1],"yo","eraYear"),V("y",["yy",2],0,"eraYear"),V("y",["yyy",3],0,"eraYear"),V("y",["yyyy",4],0,"eraYear"),We("N",ih),We("NN",ih),We("NNN",ih),We("NNNN",z8),We("NNNNN",$8),wr(["N","NN","NNN","NNNN","NNNNN"],function(g,D,I,R){var $=I._locale.erasParse(g,R,I._strict);$?h(I).era=$:h(I).invalidEra=g}),We("y",Fe),We("yy",Fe),We("yyy",Fe),We("yyyy",Fe),We("yo",H8),wr(["y","yy","yyy","yyyy"],hn),wr(["yo"],function(g,D,I,R){var $;I._locale._eraYearOrdinalRegex&&($=g.match(I._locale._eraYearOrdinalRegex)),I._locale.eraYearOrdinalParse?D[hn]=I._locale.eraYearOrdinalParse(g,$):D[hn]=parseInt(g,10)});function I8(g,D){var I,R,$,oe=this._eras||Aa("en")._eras;for(I=0,R=oe.length;I<R;++I){switch(typeof oe[I].since){case"string":$=e(oe[I].since).startOf("day"),oe[I].since=$.valueOf();break}switch(typeof oe[I].until){case"undefined":oe[I].until=1/0;break;case"string":$=e(oe[I].until).startOf("day").valueOf(),oe[I].until=$.valueOf();break}}return oe}function B8(g,D,I){var R,$,oe=this.eras(),Ee,ct,Lt;for(g=g.toUpperCase(),R=0,$=oe.length;R<$;++R)if(Ee=oe[R].name.toUpperCase(),ct=oe[R].abbr.toUpperCase(),Lt=oe[R].narrow.toUpperCase(),I)switch(D){case"N":case"NN":case"NNN":if(ct===g)return oe[R];break;case"NNNN":if(Ee===g)return oe[R];break;case"NNNNN":if(Lt===g)return oe[R];break}else if([Ee,ct,Lt].indexOf(g)>=0)return oe[R]}function P8(g,D){var I=g.since<=g.until?1:-1;return D===void 0?e(g.since).year():e(g.since).year()+(D-g.offset)*I}function O8(){var g,D,I,R=this.localeData().eras();for(g=0,D=R.length;g<D;++g)if(I=this.clone().startOf("day").valueOf(),R[g].since<=I&&I<=R[g].until||R[g].until<=I&&I<=R[g].since)return R[g].name;return""}function k8(){var g,D,I,R=this.localeData().eras();for(g=0,D=R.length;g<D;++g)if(I=this.clone().startOf("day").valueOf(),R[g].since<=I&&I<=R[g].until||R[g].until<=I&&I<=R[g].since)return R[g].narrow;return""}function R8(){var g,D,I,R=this.localeData().eras();for(g=0,D=R.length;g<D;++g)if(I=this.clone().startOf("day").valueOf(),R[g].since<=I&&I<=R[g].until||R[g].until<=I&&I<=R[g].since)return R[g].abbr;return""}function L8(){var g,D,I,R,$=this.localeData().eras();for(g=0,D=$.length;g<D;++g)if(I=$[g].since<=$[g].until?1:-1,R=this.clone().startOf("day").valueOf(),$[g].since<=R&&R<=$[g].until||$[g].until<=R&&R<=$[g].since)return(this.year()-e($[g].since).year())*I+$[g].offset;return this.year()}function U8(g){return a(this,"_erasNameRegex")||ah.call(this),g?this._erasNameRegex:this._erasRegex}function V8(g){return a(this,"_erasAbbrRegex")||ah.call(this),g?this._erasAbbrRegex:this._erasRegex}function q8(g){return a(this,"_erasNarrowRegex")||ah.call(this),g?this._erasNarrowRegex:this._erasRegex}function ih(g,D){return D.erasAbbrRegex(g)}function z8(g,D){return D.erasNameRegex(g)}function $8(g,D){return D.erasNarrowRegex(g)}function H8(g,D){return D._eraYearOrdinalRegex||Fe}function ah(){var g=[],D=[],I=[],R=[],$,oe,Ee,ct,Lt,sr=this.eras();for($=0,oe=sr.length;$<oe;++$)Ee=In(sr[$].name),ct=In(sr[$].abbr),Lt=In(sr[$].narrow),D.push(Ee),g.push(ct),I.push(Lt),R.push(Ee),R.push(ct),R.push(Lt);this._erasRegex=new RegExp("^("+R.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+D.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+g.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+I.join("|")+")","i")}V(0,["gg",2],0,function(){return this.weekYear()%100}),V(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Fc(g,D){V(0,[g,g.length],0,D)}Fc("gggg","weekYear"),Fc("ggggg","weekYear"),Fc("GGGG","isoWeekYear"),Fc("GGGGG","isoWeekYear"),We("G",Le),We("g",Le),We("GG",Ue,Ae),We("gg",Ue,Ae),We("GGGG",Be,At),We("gggg",Be,At),We("GGGGG",Ve,ye),We("ggggg",Ve,ye),Ho(["gggg","ggggg","GGGG","GGGGG"],function(g,D,I,R){D[R.substr(0,2)]=tr(g)}),Ho(["gg","GG"],function(g,D,I,R){D[R]=e.parseTwoDigitYear(g)});function G8(g){return hD.call(this,g,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function W8(g){return hD.call(this,g,this.isoWeek(),this.isoWeekday(),1,4)}function Y8(){return Na(this.year(),1,4)}function j8(){return Na(this.isoWeekYear(),1,4)}function Z8(){var g=this.localeData()._week;return Na(this.year(),g.dow,g.doy)}function J8(){var g=this.localeData()._week;return Na(this.weekYear(),g.dow,g.doy)}function hD(g,D,I,R,$){var oe;return g==null?il(this,R,$).year:(oe=Na(g,R,$),D>oe&&(D=oe),X8.call(this,g,D,I,R,$))}function X8(g,D,I,R,$){var oe=WS(g,D,I,R,$),Ee=nl(oe.year,0,oe.dayOfYear);return this.year(Ee.getUTCFullYear()),this.month(Ee.getUTCMonth()),this.date(Ee.getUTCDate()),this}V("Q",0,"Qo","quarter"),We("Q",Ge),wr("Q",function(g,D){D[Zi]=(tr(g)-1)*3});function Q8(g){return g==null?Math.ceil((this.month()+1)/3):this.month((g-1)*3+this.month()%3)}V("D",["DD",2],"Do","date"),We("D",Ue,Ie),We("DD",Ue,Ae),We("Do",function(g,D){return g?D._dayOfMonthOrdinalParse||D._ordinalParse:D._dayOfMonthOrdinalParseLenient}),wr(["D","DD"],Fi),wr("Do",function(g,D){D[Fi]=tr(g.match(Ue)[0])});var gD=Ka("Date",!0);V("DDD",["DDDD",3],"DDDo","dayOfYear"),We("DDD",be),We("DDDD",xt),wr(["DDD","DDDD"],function(g,D,I){I._dayOfYear=tr(g)});function K8(g){var D=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return g==null?D:this.add(g-D,"d")}V("m",["mm",2],0,"minute"),We("m",Ue,ut),We("mm",Ue,Ae),wr(["m","mm"],di);var eU=Ka("Minutes",!1);V("s",["ss",2],0,"second"),We("s",Ue,ut),We("ss",Ue,Ae),wr(["s","ss"],Ji);var tU=Ka("Seconds",!1);V("S",0,0,function(){return~~(this.millisecond()/100)}),V(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),V(0,["SSS",3],0,"millisecond"),V(0,["SSSS",4],0,function(){return this.millisecond()*10}),V(0,["SSSSS",5],0,function(){return this.millisecond()*100}),V(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),V(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),V(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),V(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),We("S",be,Ge),We("SS",be,Ae),We("SSS",be,xt);var ro,vD;for(ro="SSSS";ro.length<=9;ro+="S")We(ro,Fe);function rU(g,D){D[Da]=tr(("0."+g)*1e3)}for(ro="S";ro.length<=9;ro+="S")wr(ro,rU);vD=Ka("Milliseconds",!1),V("z",0,0,"zoneAbbr"),V("zz",0,0,"zoneName");function nU(){return this._isUTC?"UTC":""}function iU(){return this._isUTC?"Coordinated Universal Time":""}var Ze=_.prototype;Ze.add=J5,Ze.calendar=n8,Ze.clone=i8,Ze.diff=f8,Ze.endOf=w8,Ze.format=h8,Ze.from=g8,Ze.fromNow=v8,Ze.to=y8,Ze.toNow=b8,Ze.get=Vd,Ze.invalidAt=C8,Ze.isAfter=a8,Ze.isBefore=o8,Ze.isBetween=s8,Ze.isSame=u8,Ze.isSameOrAfter=l8,Ze.isSameOrBefore=c8,Ze.isValid=T8,Ze.lang=cD,Ze.locale=lD,Ze.localeData=fD,Ze.max=T5,Ze.min=E5,Ze.parsingFlags=M8,Ze.set=qd,Ze.startOf=x8,Ze.subtract=X5,Ze.toArray=N8,Ze.toObject=A8,Ze.toDate=D8,Ze.toISOString=m8,Ze.inspect=d8,typeof Symbol!="undefined"&&Symbol.for!=null&&(Ze[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Ze.toJSON=E8,Ze.toString=p8,Ze.unix=S8,Ze.valueOf=_8,Ze.creationData=F8,Ze.eraName=O8,Ze.eraNarrow=k8,Ze.eraAbbr=R8,Ze.eraYear=L8,Ze.year=xc,Ze.isLeapYear=Ud,Ze.weekYear=G8,Ze.isoWeekYear=W8,Ze.quarter=Ze.quarters=Q8,Ze.month=HS,Ze.daysInMonth=D6,Ze.week=Ze.weeks=I6,Ze.isoWeek=Ze.isoWeeks=B6,Ze.weeksInYear=Z8,Ze.weeksInWeekYear=J8,Ze.isoWeeksInYear=Y8,Ze.isoWeeksInISOWeekYear=j8,Ze.date=gD,Ze.day=Ze.days=W6,Ze.weekday=Y6,Ze.isoWeekday=j6,Ze.dayOfYear=K8,Ze.hour=Ze.hours=t5,Ze.minute=Ze.minutes=eU,Ze.second=Ze.seconds=tU,Ze.millisecond=Ze.milliseconds=vD,Ze.utcOffset=R5,Ze.utc=U5,Ze.local=V5,Ze.parseZone=q5,Ze.hasAlignedHourOffset=z5,Ze.isDST=$5,Ze.isLocal=G5,Ze.isUtcOffset=W5,Ze.isUtc=iD,Ze.isUTC=iD,Ze.zoneAbbr=nU,Ze.zoneName=iU,Ze.dates=A("dates accessor is deprecated. Use date instead.",gD),Ze.months=A("months accessor is deprecated. Use month instead",HS),Ze.years=A("years accessor is deprecated. Use year instead",xc),Ze.zone=A("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",L5),Ze.isDSTShifted=A("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",H5);function aU(g){return Or(g*1e3)}function oU(){return Or.apply(null,arguments).parseZone()}function yD(g){return g}var gr=q.prototype;gr.calendar=k,gr.longDateFormat=ge,gr.invalidDate=we,gr.ordinal=tt,gr.preparse=yD,gr.postformat=yD,gr.relativeTime=K,gr.pastFuture=ve,gr.set=O,gr.eras=I8,gr.erasParse=B8,gr.erasConvertYear=P8,gr.erasAbbrRegex=V8,gr.erasNameRegex=U8,gr.erasNarrowRegex=q8,gr.months=Hd,gr.monthsShort=Rs,gr.monthsParse=Gd,gr.monthsRegex=A6,gr.monthsShortRegex=N6,gr.week=T6,gr.firstDayOfYear=F6,gr.firstDayOfWeek=C6,gr.weekdays=q6,gr.weekdaysMin=$6,gr.weekdaysShort=z6,gr.weekdaysParse=G6,gr.weekdaysRegex=Z6,gr.weekdaysShortRegex=J6,gr.weekdaysMinRegex=X6,gr.isPM=K6,gr.meridiem=r5;function Ic(g,D,I,R){var $=Aa(),oe=p().set(R,D);return $[I](oe,g)}function bD(g,D,I){if(u(g)&&(D=g,g=void 0),g=g||"",D!=null)return Ic(g,D,I,"month");var R,$=[];for(R=0;R<12;R++)$[R]=Ic(g,R,I,"month");return $}function oh(g,D,I,R){typeof g=="boolean"?(u(D)&&(I=D,D=void 0),D=D||""):(D=g,I=D,g=!1,u(D)&&(I=D,D=void 0),D=D||"");var $=Aa(),oe=g?$._week.dow:0,Ee,ct=[];if(I!=null)return Ic(D,(I+oe)%7,R,"day");for(Ee=0;Ee<7;Ee++)ct[Ee]=Ic(D,(Ee+oe)%7,R,"day");return ct}function sU(g,D){return bD(g,D,"months")}function uU(g,D){return bD(g,D,"monthsShort")}function lU(g,D,I){return oh(g,D,I,"weekdays")}function cU(g,D,I){return oh(g,D,I,"weekdaysShort")}function fU(g,D,I){return oh(g,D,I,"weekdaysMin")}to("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(g){var D=g%10,I=tr(g%100/10)===1?"th":D===1?"st":D===2?"nd":D===3?"rd":"th";return g+I}}),e.lang=A("moment.lang is deprecated. Use moment.locale instead.",to),e.langData=A("moment.langData is deprecated. Use moment.localeData instead.",Aa);var Ea=Math.abs;function pU(){var g=this._data;return this._milliseconds=Ea(this._milliseconds),this._days=Ea(this._days),this._months=Ea(this._months),g.milliseconds=Ea(g.milliseconds),g.seconds=Ea(g.seconds),g.minutes=Ea(g.minutes),g.hours=Ea(g.hours),g.months=Ea(g.months),g.years=Ea(g.years),this}function xD(g,D,I,R){var $=Xi(D,I);return g._milliseconds+=R*$._milliseconds,g._days+=R*$._days,g._months+=R*$._months,g._bubble()}function mU(g,D){return xD(this,g,D,1)}function dU(g,D){return xD(this,g,D,-1)}function wD(g){return g<0?Math.floor(g):Math.ceil(g)}function hU(){var g=this._milliseconds,D=this._days,I=this._months,R=this._data,$,oe,Ee,ct,Lt;return g>=0&&D>=0&&I>=0||g<=0&&D<=0&&I<=0||(g+=wD(sh(I)+D)*864e5,D=0,I=0),R.milliseconds=g%1e3,$=Sn(g/1e3),R.seconds=$%60,oe=Sn($/60),R.minutes=oe%60,Ee=Sn(oe/60),R.hours=Ee%24,D+=Sn(Ee/24),Lt=Sn(_D(D)),I+=Lt,D-=wD(sh(Lt)),ct=Sn(I/12),I%=12,R.days=D,R.months=I,R.years=ct,this}function _D(g){return g*4800/146097}function sh(g){return g*146097/4800}function gU(g){if(!this.isValid())return NaN;var D,I,R=this._milliseconds;if(g=te(g),g==="month"||g==="quarter"||g==="year")switch(D=this._days+R/864e5,I=this._months+_D(D),g){case"month":return I;case"quarter":return I/3;case"year":return I/12}else switch(D=this._days+Math.round(sh(this._months)),g){case"week":return D/7+R/6048e5;case"day":return D+R/864e5;case"hour":return D*24+R/36e5;case"minute":return D*1440+R/6e4;case"second":return D*86400+R/1e3;case"millisecond":return Math.floor(D*864e5)+R;default:throw new Error("Unknown unit "+g)}}function Ta(g){return function(){return this.as(g)}}var SD=Ta("ms"),vU=Ta("s"),yU=Ta("m"),bU=Ta("h"),xU=Ta("d"),wU=Ta("w"),_U=Ta("M"),SU=Ta("Q"),DU=Ta("y"),NU=SD;function AU(){return Xi(this)}function EU(g){return g=te(g),this.isValid()?this[g+"s"]():NaN}function Zo(g){return function(){return this.isValid()?this._data[g]:NaN}}var TU=Zo("milliseconds"),MU=Zo("seconds"),CU=Zo("minutes"),FU=Zo("hours"),IU=Zo("days"),BU=Zo("months"),PU=Zo("years");function OU(){return Sn(this.days()/7)}var Ma=Math.round,qs={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function kU(g,D,I,R,$){return $.relativeTime(D||1,!!I,g,R)}function RU(g,D,I,R){var $=Xi(g).abs(),oe=Ma($.as("s")),Ee=Ma($.as("m")),ct=Ma($.as("h")),Lt=Ma($.as("d")),sr=Ma($.as("M")),Yn=Ma($.as("w")),Ca=Ma($.as("y")),no=oe<=I.ss&&["s",oe]||oe<I.s&&["ss",oe]||Ee<=1&&["m"]||Ee<I.m&&["mm",Ee]||ct<=1&&["h"]||ct<I.h&&["hh",ct]||Lt<=1&&["d"]||Lt<I.d&&["dd",Lt];return I.w!=null&&(no=no||Yn<=1&&["w"]||Yn<I.w&&["ww",Yn]),no=no||sr<=1&&["M"]||sr<I.M&&["MM",sr]||Ca<=1&&["y"]||["yy",Ca],no[2]=D,no[3]=+g>0,no[4]=R,kU.apply(null,no)}function LU(g){return g===void 0?Ma:typeof g=="function"?(Ma=g,!0):!1}function UU(g,D){return qs[g]===void 0?!1:D===void 0?qs[g]:(qs[g]=D,g==="s"&&(qs.ss=D-1),!0)}function VU(g,D){if(!this.isValid())return this.localeData().invalidDate();var I=!1,R=qs,$,oe;return typeof g=="object"&&(D=g,g=!1),typeof g=="boolean"&&(I=g),typeof D=="object"&&(R=Object.assign({},qs,D),D.s!=null&&D.ss==null&&(R.ss=D.s-1)),$=this.localeData(),oe=RU(this,!I,R,$),I&&(oe=$.pastFuture(+this,oe)),$.postformat(oe)}var uh=Math.abs;function zs(g){return(g>0)-(g<0)||+g}function Bc(){if(!this.isValid())return this.localeData().invalidDate();var g=uh(this._milliseconds)/1e3,D=uh(this._days),I=uh(this._months),R,$,oe,Ee,ct=this.asSeconds(),Lt,sr,Yn,Ca;return ct?(R=Sn(g/60),$=Sn(R/60),g%=60,R%=60,oe=Sn(I/12),I%=12,Ee=g?g.toFixed(3).replace(/\.?0+$/,""):"",Lt=ct<0?"-":"",sr=zs(this._months)!==zs(ct)?"-":"",Yn=zs(this._days)!==zs(ct)?"-":"",Ca=zs(this._milliseconds)!==zs(ct)?"-":"",Lt+"P"+(oe?sr+oe+"Y":"")+(I?sr+I+"M":"")+(D?Yn+D+"D":"")+($||R||g?"T":"")+($?Ca+$+"H":"")+(R?Ca+R+"M":"")+(g?Ca+Ee+"S":"")):"P0D"}var lr=Ac.prototype;lr.isValid=B5,lr.abs=pU,lr.add=mU,lr.subtract=dU,lr.as=gU,lr.asMilliseconds=SD,lr.asSeconds=vU,lr.asMinutes=yU,lr.asHours=bU,lr.asDays=xU,lr.asWeeks=wU,lr.asMonths=_U,lr.asQuarters=SU,lr.asYears=DU,lr.valueOf=NU,lr._bubble=hU,lr.clone=AU,lr.get=EU,lr.milliseconds=TU,lr.seconds=MU,lr.minutes=CU,lr.hours=FU,lr.days=IU,lr.weeks=OU,lr.months=BU,lr.years=PU,lr.humanize=VU,lr.toISOString=Bc,lr.toString=Bc,lr.toJSON=Bc,lr.locale=lD,lr.localeData=fD,lr.toIsoString=A("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Bc),lr.lang=cD,V("X",0,0,"unix"),V("x",0,0,"valueOf"),We("x",Le),We("X",G),wr("X",function(g,D,I){I._d=new Date(parseFloat(g)*1e3)}),wr("x",function(g,D,I){I._d=new Date(tr(g))});return e.version="2.30.1",t(Or),e.fn=Ze,e.min=M5,e.max=C5,e.now=F5,e.utc=p,e.unix=aU,e.months=sU,e.isDate=s,e.locale=to,e.invalid=y,e.duration=Xi,e.isMoment=x,e.weekdays=lU,e.parseZone=oU,e.localeData=Aa,e.isDuration=Ec,e.monthsShort=uU,e.weekdaysMin=fU,e.defineLocale=Zd,e.updateLocale=o5,e.locales=s5,e.weekdaysShort=cU,e.normalizeUnits=te,e.relativeTimeRounding=LU,e.relativeTimeThreshold=UU,e.calendarFormat=r8,e.prototype=Ze,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e})});var Dg=an((_g,Sg)=>{(function(r,e){typeof _g=="object"&&typeof Sg!="undefined"?Sg.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis!="undefined"?globalThis:r||self,r["'typed'"]=e())})(_g,function(){"use strict";function r(){return!0}function e(){return!1}function t(){}let n="Argument is not a typed-function.";function i(){function o(X){return typeof X=="object"&&X!==null&&X.constructor===Object}let c=[{name:"number",test:function(X){return typeof X=="number"}},{name:"string",test:function(X){return typeof X=="string"}},{name:"boolean",test:function(X){return typeof X=="boolean"}},{name:"Function",test:function(X){return typeof X=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(X){return X instanceof Date}},{name:"RegExp",test:function(X){return X instanceof RegExp}},{name:"Object",test:o},{name:"null",test:function(X){return X===null}},{name:"undefined",test:function(X){return X===void 0}}],u={name:"any",test:r,isAny:!0},s,l,f=0,p={createCount:0};function m(X){let ce=s.get(X);if(ce)return ce;let be='Unknown type "'+X+'"',Be=X.toLowerCase(),Ve;for(Ve of l)if(Ve.toLowerCase()===Be){be+='. Did you mean "'+Ve+'" ?';break}throw new TypeError(be)}function h(X){let ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any",be=ce?m(ce).index:l.length,Be=[];for(let Fe=0;Fe<X.length;++Fe){if(!X[Fe]||typeof X[Fe].name!="string"||typeof X[Fe].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");let Le=X[Fe].name;if(s.has(Le))throw new TypeError('Duplicate type name "'+Le+'"');Be.push(Le),s.set(Le,{name:Le,test:X[Fe].test,isAny:X[Fe].isAny,index:be+Fe,conversionsTo:[]})}let Ve=l.slice(be);l=l.slice(0,be).concat(Be).concat(Ve);for(let Fe=be+Be.length;Fe<l.length;++Fe)s.get(l[Fe]).index=Fe}function d(){s=new Map,l=[],f=0,h([u],!1)}d(),h(c);function v(){let X;for(X of l)s.get(X).conversionsTo=[];f=0}function y(X){let ce=l.filter(be=>{let Be=s.get(be);return!Be.isAny&&Be.test(X)});return ce.length?ce:["any"]}function S(X){return X&&typeof X=="function"&&"_typedFunctionData"in X}function b(X,ce,be){if(!S(X))throw new TypeError(n);let Be=be&&be.exact,Ve=Array.isArray(ce)?ce.join(","):ce,Fe=E(Ve),Le=x(Fe);if(!Be||Le in X.signatures){let de=X._typedFunctionData.signatureMap.get(Le);if(de)return de}let $e=Fe.length,F;if(Be){F=[];let de;for(de in X.signatures)F.push(X._typedFunctionData.signatureMap.get(de))}else F=X._typedFunctionData.signatures;for(let de=0;de<$e;++de){let Ie=Fe[de],ut=[],yt;for(yt of F){let We=q(yt.params,de);if(!(!We||Ie.restParam&&!We.restParam)){if(!We.hasAny){let Wn=N(We);if(Ie.types.some(mi=>!Wn.has(mi.name)))continue}ut.push(yt)}}if(F=ut,F.length===0)break}let G;for(G of F)if(G.params.length<=$e)return G;throw new TypeError("Signature not found (signature: "+(X.name||"unnamed")+"("+x(Fe,", ")+"))")}function w(X,ce,be){return b(X,ce,be).implementation}function _(X,ce){let be=m(ce);if(be.test(X))return X;let Be=be.conversionsTo;if(Be.length===0)throw new Error("There are no conversions to "+ce+" defined.");for(let Ve=0;Ve<Be.length;Ve++)if(m(Be[Ve].from).test(X))return Be[Ve].convert(X);throw new Error("Cannot convert "+X+" to "+ce)}function x(X){let ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return X.map(be=>be.name).join(ce)}function T(X){let ce=X.indexOf("...")===0,Be=(ce?X.length>3?X.slice(3):"any":X).split("|").map($e=>m($e.trim())),Ve=!1,Fe=ce?"...":"";return{types:Be.map(function($e){return Ve=$e.isAny||Ve,Fe+=$e.name+"|",{name:$e.name,typeIndex:$e.index,test:$e.test,isAny:$e.isAny,conversion:null,conversionIndex:-1}}),name:Fe.slice(0,-1),hasAny:Ve,hasConversion:!1,restParam:ce}}function A(X){let ce=X.types.map(Le=>Le.name),be=V(ce),Be=X.hasAny,Ve=X.name,Fe=be.map(function(Le){let $e=m(Le.from);return Be=$e.isAny||Be,Ve+="|"+Le.from,{name:Le.from,typeIndex:$e.index,test:$e.test,isAny:$e.isAny,conversion:Le,conversionIndex:Le.index}});return{types:X.types.concat(Fe),name:Ve,hasAny:Be,hasConversion:Fe.length>0,restParam:X.restParam}}function N(X){return X.typeSet||(X.typeSet=new Set,X.types.forEach(ce=>X.typeSet.add(ce.name))),X.typeSet}function E(X){let ce=[];if(typeof X!="string")throw new TypeError("Signatures must be strings");let be=X.trim();if(be==="")return ce;let Be=be.split(",");for(let Ve=0;Ve<Be.length;++Ve){let Fe=T(Be[Ve].trim());if(Fe.restParam&&Ve!==Be.length-1)throw new SyntaxError('Unexpected rest parameter "'+Be[Ve]+'": only allowed for the last parameter');if(Fe.types.length===0)return null;ce.push(Fe)}return ce}function C(X){let ce=Y(X);return ce?ce.restParam:!1}function O(X){if(!X||X.types.length===0)return r;if(X.types.length===1)return m(X.types[0].name).test;if(X.types.length===2){let ce=m(X.types[0].name).test,be=m(X.types[1].name).test;return function(Ve){return ce(Ve)||be(Ve)}}else{let ce=X.types.map(function(be){return m(be.name).test});return function(Be){for(let Ve=0;Ve<ce.length;Ve++)if(ce[Ve](Be))return!0;return!1}}}function U(X){let ce,be,Be;if(C(X)){ce=tt(X).map(O);let Ve=ce.length,Fe=O(Y(X)),Le=function($e){for(let F=Ve;F<$e.length;F++)if(!Fe($e[F]))return!1;return!0};return function(F){for(let G=0;G<ce.length;G++)if(!ce[G](F[G]))return!1;return Le(F)&&F.length>=Ve+1}}else return X.length===0?function(Fe){return Fe.length===0}:X.length===1?(be=O(X[0]),function(Fe){return be(Fe[0])&&Fe.length===1}):X.length===2?(be=O(X[0]),Be=O(X[1]),function(Fe){return be(Fe[0])&&Be(Fe[1])&&Fe.length===2}):(ce=X.map(O),function(Fe){for(let Le=0;Le<ce.length;Le++)if(!ce[Le](Fe[Le]))return!1;return Fe.length===ce.length})}function q(X,ce){return ce<X.length?X[ce]:C(X)?Y(X):null}function L(X,ce){let be=q(X,ce);return be?N(be):new Set}function P(X){return X.conversion===null||X.conversion===void 0}function k(X,ce){let be=new Set;return X.forEach(Be=>{let Ve=L(Be.params,ce),Fe;for(Fe of Ve)be.add(Fe)}),be.has("any")?["any"]:Array.from(be)}function H(X,ce,be){let Be,Ve,Fe=X||"unnamed",Le=be,$e;for($e=0;$e<ce.length;$e++){let Ie=[];if(Le.forEach(ut=>{let yt=q(ut.params,$e),We=O(yt);($e<ut.params.length||C(ut.params))&&We(ce[$e])&&Ie.push(ut)}),Ie.length===0){if(Ve=k(Le,$e),Ve.length>0){let ut=y(ce[$e]);return Be=new TypeError("Unexpected type of argument in function "+Fe+" (expected: "+Ve.join(" or ")+", actual: "+ut.join(" | ")+", index: "+$e+")"),Be.data={category:"wrongType",fn:Fe,index:$e,actual:ut,expected:Ve},Be}}else Le=Ie}let F=Le.map(function(Ie){return C(Ie.params)?1/0:Ie.params.length});if(ce.length<Math.min.apply(null,F))return Ve=k(Le,$e),Be=new TypeError("Too few arguments in function "+Fe+" (expected: "+Ve.join(" or ")+", index: "+ce.length+")"),Be.data={category:"tooFewArgs",fn:Fe,index:ce.length,expected:Ve},Be;let G=Math.max.apply(null,F);if(ce.length>G)return Be=new TypeError("Too many arguments in function "+Fe+" (expected: "+G+", actual: "+ce.length+")"),Be.data={category:"tooManyArgs",fn:Fe,index:ce.length,expectedLength:G},Be;let de=[];for(let Ie=0;Ie<ce.length;++Ie)de.push(y(ce[Ie]).join("|"));return Be=new TypeError('Arguments of type "'+de.join(", ")+'" do not match any of the defined signatures of function '+Fe+"."),Be.data={category:"mismatch",actual:de},Be}function B(X){let ce=l.length+1;for(let be=0;be<X.types.length;be++)P(X.types[be])&&(ce=Math.min(ce,X.types[be].typeIndex));return ce}function W(X){let ce=f+1;for(let be=0;be<X.types.length;be++)P(X.types[be])||(ce=Math.min(ce,X.types[be].conversionIndex));return ce}function ie(X,ce){if(X.hasAny){if(!ce.hasAny)return 1}else if(ce.hasAny)return-1;if(X.restParam){if(!ce.restParam)return 1}else if(ce.restParam)return-1;if(X.hasConversion){if(!ce.hasConversion)return 1}else if(ce.hasConversion)return-1;let be=B(X)-B(ce);if(be<0)return-1;if(be>0)return 1;let Be=W(X)-W(ce);return Be<0?-1:Be>0?1:0}function Q(X,ce){let be=X.params,Be=ce.params,Ve=Y(be),Fe=Y(Be),Le=C(be),$e=C(Be);if(Le&&Ve.hasAny){if(!$e||!Fe.hasAny)return 1}else if($e&&Fe.hasAny)return-1;let F=0,G=0,de;for(de of be)de.hasAny&&++F,de.hasConversion&&++G;let Ie=0,ut=0;for(de of Be)de.hasAny&&++Ie,de.hasConversion&&++ut;if(F!==Ie)return F-Ie;if(Le&&Ve.hasConversion){if(!$e||!Fe.hasConversion)return 1}else if($e&&Fe.hasConversion)return-1;if(G!==ut)return G-ut;if(Le){if(!$e)return 1}else if($e)return-1;let yt=(be.length-Be.length)*(Le?-1:1);if(yt!==0)return yt;let We=[],Wn=0;for(let In=0;In<be.length;++In){let Sn=ie(be[In],Be[In]);We.push(Sn),Wn+=Sn}if(Wn!==0)return Wn;let mi;for(mi of We)if(mi!==0)return mi;return 0}function V(X){if(X.length===0)return[];let ce=X.map(m);X.length>1&&ce.sort((Ve,Fe)=>Ve.index-Fe.index);let be=ce[0].conversionsTo;if(X.length===1)return be;be=be.concat([]);let Be=new Set(X);for(let Ve=1;Ve<ce.length;++Ve){let Fe;for(Fe of ce[Ve].conversionsTo)Be.has(Fe.from)||(be.push(Fe),Be.add(Fe.from))}return be}function le(X,ce){let be=ce;if(X.some(Ve=>Ve.hasConversion)){let Ve=C(X),Fe=X.map(Se);be=function(){let $e=[],F=Ve?arguments.length-1:arguments.length;for(let G=0;G<F;G++)$e[G]=Fe[G](arguments[G]);return Ve&&($e[F]=arguments[F].map(Fe[F])),ce.apply(this,$e)}}let Be=be;if(C(X)){let Ve=X.length-1;Be=function(){return be.apply(this,K(arguments,0,Ve).concat([K(arguments,Ve)]))}}return Be}function Se(X){let ce,be,Be,Ve,Fe=[],Le=[];switch(X.types.forEach(function($e){$e.conversion&&(Fe.push(m($e.conversion.from).test),Le.push($e.conversion.convert))}),Le.length){case 0:return function(F){return F};case 1:return ce=Fe[0],Be=Le[0],function(F){return ce(F)?Be(F):F};case 2:return ce=Fe[0],be=Fe[1],Be=Le[0],Ve=Le[1],function(F){return ce(F)?Be(F):be(F)?Ve(F):F};default:return function(F){for(let G=0;G<Le.length;G++)if(Fe[G](F))return Le[G](F);return F}}}function fe(X){function ce(be,Be,Ve){if(Be<be.length){let Fe=be[Be],Le=[];if(Fe.restParam){let $e=Fe.types.filter(P);$e.length<Fe.types.length&&Le.push({types:$e,name:"..."+$e.map(F=>F.name).join("|"),hasAny:$e.some(F=>F.isAny),hasConversion:!1,restParam:!0}),Le.push(Fe)}else Le=Fe.types.map(function($e){return{types:[$e],name:$e.name,hasAny:$e.isAny,hasConversion:$e.conversion,restParam:!1}});return J(Le,function($e){return ce(be,Be+1,Ve.concat([$e]))})}else return[Ve]}return ce(X,0,[])}function he(X,ce){let be=Math.max(X.length,ce.length);for(let $e=0;$e<be;$e++){let F=L(X,$e),G=L(ce,$e),de=!1,Ie;for(Ie of G)if(F.has(Ie)){de=!0;break}if(!de)return!1}let Be=X.length,Ve=ce.length,Fe=C(X),Le=C(ce);return Fe?Le?Be===Ve:Ve>=Be:Le?Be>=Ve:Be===Ve}function _e(X){return X.map(ce=>Ge(ce)?De(ce.referToSelf.callback):Ne(ce)?se(ce.referTo.references,ce.referTo.callback):ce)}function ge(X,ce,be){let Be=[],Ve;for(Ve of X){let Fe=be[Ve];if(typeof Fe!="number")throw new TypeError('No definition for referenced signature "'+Ve+'"');if(Fe=ce[Fe],typeof Fe!="function")return!1;Be.push(Fe)}return Be}function me(X,ce,be){let Be=_e(X),Ve=new Array(Be.length).fill(!1),Fe=!0;for(;Fe;){Fe=!1;let Le=!0;for(let $e=0;$e<Be.length;++$e){if(Ve[$e])continue;let F=Be[$e];if(Ge(F))Be[$e]=F.referToSelf.callback(be),Be[$e].referToSelf=F.referToSelf,Ve[$e]=!0,Le=!1;else if(Ne(F)){let G=ge(F.referTo.references,Be,ce);G?(Be[$e]=F.referTo.callback.apply(this,G),Be[$e].referTo=F.referTo,Ve[$e]=!0,Le=!1):Fe=!0}}if(Le&&Fe)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return Be}function we(X){let ce=/\bthis(\(|\.signatures\b)/;Object.keys(X).forEach(be=>{let Be=X[be];if(ce.test(Be.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function Te(X,ce){if(p.createCount++,Object.keys(ce).length===0)throw new SyntaxError("No signatures provided");p.warnAgainstDeprecatedThis&&we(ce);let be=[],Be=[],Ve={},Fe=[],Le;for(Le in ce){if(!Object.prototype.hasOwnProperty.call(ce,Le))continue;let br=E(Le);if(!br)continue;be.forEach(function(Yo){if(he(Yo,br))throw new TypeError('Conflicting signatures "'+x(Yo)+'" and "'+x(br)+'".')}),be.push(br);let Bn=Be.length;Be.push(ce[Le]);let Hd=br.map(A),Rs;for(Rs of fe(Hd)){let Yo=x(Rs);Fe.push({params:Rs,name:Yo,fn:Bn}),Rs.every(Gd=>!Gd.hasConversion)&&(Ve[Yo]=Bn)}}Fe.sort(Q);let $e=me(Be,Ve,eo),F;for(F in Ve)Object.prototype.hasOwnProperty.call(Ve,F)&&(Ve[F]=$e[Ve[F]]);let G=[],de=new Map;for(F of Fe)de.has(F.name)||(F.fn=$e[F.fn],G.push(F),de.set(F.name,F));let Ie=G[0]&&G[0].params.length<=2&&!C(G[0].params),ut=G[1]&&G[1].params.length<=2&&!C(G[1].params),yt=G[2]&&G[2].params.length<=2&&!C(G[2].params),We=G[3]&&G[3].params.length<=2&&!C(G[3].params),Wn=G[4]&&G[4].params.length<=2&&!C(G[4].params),mi=G[5]&&G[5].params.length<=2&&!C(G[5].params),In=Ie&&ut&&yt&&We&&Wn&&mi;for(let br=0;br<G.length;++br)G[br].test=U(G[br].params);let Sn=Ie?O(G[0].params[0]):e,tr=ut?O(G[1].params[0]):e,tl=yt?O(G[2].params[0]):e,wr=We?O(G[3].params[0]):e,Ho=Wn?O(G[4].params[0]):e,kd=mi?O(G[5].params[0]):e,ks=Ie?O(G[0].params[1]):e,hn=ut?O(G[1].params[1]):e,Zi=yt?O(G[2].params[1]):e,Fi=We?O(G[3].params[1]):e,en=Wn?O(G[4].params[1]):e,di=mi?O(G[5].params[1]):e;for(let br=0;br<G.length;++br)G[br].implementation=le(G[br].params,G[br].fn);let Ji=Ie?G[0].implementation:t,Da=ut?G[1].implementation:t,Rd=yt?G[2].implementation:t,Ld=We?G[3].implementation:t,Go=Wn?G[4].implementation:t,xc=mi?G[5].implementation:t,Ud=Ie?G[0].params.length:-1,Ka=ut?G[1].params.length:-1,Wo=yt?G[2].params.length:-1,wc=We?G[3].params.length:-1,Vd=Wn?G[4].params.length:-1,qd=mi?G[5].params.length:-1,zd=In?6:0,$r=G.length,rl=G.map(br=>br.test),$d=G.map(br=>br.implementation),_c=function(){for(let Bn=zd;Bn<$r;Bn++)if(rl[Bn](arguments))return $d[Bn].apply(this,arguments);return p.onMismatch(X,arguments,G)};function eo(br,Bn){return arguments.length===Ud&&Sn(br)&&ks(Bn)?Ji.apply(this,arguments):arguments.length===Ka&&tr(br)&&hn(Bn)?Da.apply(this,arguments):arguments.length===Wo&&tl(br)&&Zi(Bn)?Rd.apply(this,arguments):arguments.length===wc&&wr(br)&&Fi(Bn)?Ld.apply(this,arguments):arguments.length===Vd&&Ho(br)&&en(Bn)?Go.apply(this,arguments):arguments.length===qd&&kd(br)&&di(Bn)?xc.apply(this,arguments):_c.apply(this,arguments)}try{Object.defineProperty(eo,"name",{value:X})}catch(br){}return eo.signatures=Ve,eo._typedFunctionData={signatures:G,signatureMap:de},eo}function ze(X,ce,be){throw H(X,ce,be)}function tt(X){return K(X,0,X.length-1)}function Y(X){return X[X.length-1]}function K(X,ce,be){return Array.prototype.slice.call(X,ce,be)}function ve(X,ce){for(let be=0;be<X.length;be++)if(ce(X[be]))return X[be]}function J(X,ce){return Array.prototype.concat.apply([],X.map(ce))}function te(){let X=tt(arguments).map(be=>x(E(be))),ce=Y(arguments);if(typeof ce!="function")throw new TypeError("Callback function expected as last argument");return se(X,ce)}function se(X,ce){return{referTo:{references:X,callback:ce}}}function De(X){if(typeof X!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:X}}}function Ne(X){return X&&typeof X.referTo=="object"&&Array.isArray(X.referTo.references)&&typeof X.referTo.callback=="function"}function Ge(X){return X&&typeof X.referToSelf=="object"&&typeof X.referToSelf.callback=="function"}function Ae(X,ce){if(!X)return ce;if(ce&&ce!==X){let be=new Error("Function names do not match (expected: "+X+", actual: "+ce+")");throw be.data={actual:ce,expected:X},be}return X}function xt(X){let ce;for(let be in X)Object.prototype.hasOwnProperty.call(X,be)&&(S(X[be])||typeof X[be].signature=="string")&&(ce=Ae(ce,X[be].name));return ce}function At(X,ce){let be;for(be in ce)if(Object.prototype.hasOwnProperty.call(ce,be)){if(be in X&&ce[be]!==X[be]){let Be=new Error('Signature "'+be+'" is defined twice');throw Be.data={signature:be,sourceFunction:ce[be],destFunction:X[be]},Be}X[be]=ce[be]}}let ye=p;p=function(X){let ce=typeof X=="string",be=ce?1:0,Be=ce?X:"",Ve={};for(let Fe=be;Fe<arguments.length;++Fe){let Le=arguments[Fe],$e={},F;if(typeof Le=="function"?(F=Le.name,typeof Le.signature=="string"?$e[Le.signature]=Le:S(Le)&&($e=Le.signatures)):o(Le)&&($e=Le,ce||(F=xt(Le))),Object.keys($e).length===0){let G=new TypeError("Argument to 'typed' at index "+Fe+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw G.data={index:Fe,argument:Le},G}ce||(Be=Ae(Be,F)),At(Ve,$e)}return Te(Be||"",Ve)},p.create=i,p.createCount=ye.createCount,p.onMismatch=ze,p.throwMismatchError=ze,p.createError=H,p.clear=d,p.clearConversions=v,p.addTypes=h,p._findType=m,p.referTo=te,p.referToSelf=De,p.convert=_,p.findSignature=b,p.find=w,p.isTypedFunction=S,p.warnAgainstDeprecatedThis=!0,p.addType=function(X,ce){let be="any";ce!==!1&&s.has("Object")&&(be="Object"),p.addTypes([X],be)};function Ue(X){if(!X||typeof X.from!="string"||typeof X.to!="string"||typeof X.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(X.to===X.from)throw new SyntaxError('Illegal to define conversion from "'+X.from+'" to itself.')}return p.addConversion=function(X){Ue(X);let ce=m(X.to);if(ce.conversionsTo.every(function(be){return be.from!==X.from}))ce.conversionsTo.push({from:X.from,convert:X.convert,index:f++});else throw new Error('There is already a conversion from "'+X.from+'" to "'+ce.name+'"')},p.addConversions=function(X){X.forEach(p.addConversion)},p.removeConversion=function(X){Ue(X);let ce=m(X.to),be=ve(ce.conversionsTo,Ve=>Ve.from===X.from);if(!be)throw new Error("Attempt to remove nonexistent conversion from "+X.from+" to "+X.to);if(be.convert!==X.convert)throw new Error("Conversion to remove does not match existing conversion");let Be=ce.conversionsTo.indexOf(be);ce.conversionsTo.splice(Be,1)},p.resolve=function(X,ce){if(!S(X))throw new TypeError(n);let be=X._typedFunctionData.signatures;for(let Be=0;Be<be.length;++Be)if(be[Be].test(ce))return be[Be];return null},p}var a=i();return a})});var IE=an((Yg,FE)=>{(function(r){"use strict";var e=Math.cosh||function(s){return Math.abs(s)<1e-9?1-s:(Math.exp(s)+Math.exp(-s))*.5},t=Math.sinh||function(s){return Math.abs(s)<1e-9?s:(Math.exp(s)-Math.exp(-s))*.5},n=function(s){var l=Math.PI/4;if(-l>s||s>l)return Math.cos(s)-1;var f=s*s;return f*(f*(f*(f*(f*(f*(f*(f/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},i=function(s,l){var f=Math.abs(s),p=Math.abs(l);return f<3e3&&p<3e3?Math.sqrt(f*f+p*p):(f<p?(f=p,p=s/l):p=l/s,f*Math.sqrt(1+p*p))},a=function(){throw SyntaxError("Invalid Param")};function o(s,l){var f=Math.abs(s),p=Math.abs(l);return s===0?Math.log(p):l===0?Math.log(f):f<3e3&&p<3e3?Math.log(s*s+l*l)*.5:(s=s/2,l=l/2,.5*Math.log(s*s+l*l)+Math.LN2)}var c=function(s,l){var f={re:0,im:0};if(s==null)f.re=f.im=0;else if(l!==void 0)f.re=s,f.im=l;else switch(typeof s){case"object":if("im"in s&&"re"in s)f.re=s.re,f.im=s.im;else if("abs"in s&&"arg"in s){if(!Number.isFinite(s.abs)&&Number.isFinite(s.arg))return u.INFINITY;f.re=s.abs*Math.cos(s.arg),f.im=s.abs*Math.sin(s.arg)}else if("r"in s&&"phi"in s){if(!Number.isFinite(s.r)&&Number.isFinite(s.phi))return u.INFINITY;f.re=s.r*Math.cos(s.phi),f.im=s.r*Math.sin(s.phi)}else s.length===2?(f.re=s[0],f.im=s[1]):a();break;case"string":f.im=f.re=0;var p=s.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),m=1,h=0;p===null&&a();for(var d=0;d<p.length;d++){var v=p[d];v===" "||v==="	"||v===`
`||(v==="+"?m++:v==="-"?h++:v==="i"||v==="I"?(m+h===0&&a(),p[d+1]!==" "&&!isNaN(p[d+1])?(f.im+=parseFloat((h%2?"-":"")+p[d+1]),d++):f.im+=parseFloat((h%2?"-":"")+"1"),m=h=0):((m+h===0||isNaN(v))&&a(),p[d+1]==="i"||p[d+1]==="I"?(f.im+=parseFloat((h%2?"-":"")+v),d++):f.re+=parseFloat((h%2?"-":"")+v),m=h=0))}m+h>0&&a();break;case"number":f.im=0,f.re=s;break;default:a()}return isNaN(f.re)||isNaN(f.im),f};function u(s,l){if(!(this instanceof u))return new u(s,l);var f=c(s,l);this.re=f.re,this.im=f.im}u.prototype={re:0,im:0,sign:function(){var s=this.abs();return new u(this.re/s,this.im/s)},add:function(s,l){var f=new u(s,l);return this.isInfinite()&&f.isInfinite()?u.NAN:this.isInfinite()||f.isInfinite()?u.INFINITY:new u(this.re+f.re,this.im+f.im)},sub:function(s,l){var f=new u(s,l);return this.isInfinite()&&f.isInfinite()?u.NAN:this.isInfinite()||f.isInfinite()?u.INFINITY:new u(this.re-f.re,this.im-f.im)},mul:function(s,l){var f=new u(s,l);return this.isInfinite()&&f.isZero()||this.isZero()&&f.isInfinite()?u.NAN:this.isInfinite()||f.isInfinite()?u.INFINITY:f.im===0&&this.im===0?new u(this.re*f.re,0):new u(this.re*f.re-this.im*f.im,this.re*f.im+this.im*f.re)},div:function(s,l){var f=new u(s,l);if(this.isZero()&&f.isZero()||this.isInfinite()&&f.isInfinite())return u.NAN;if(this.isInfinite()||f.isZero())return u.INFINITY;if(this.isZero()||f.isInfinite())return u.ZERO;s=this.re,l=this.im;var p=f.re,m=f.im,h,d;return m===0?new u(s/p,l/p):Math.abs(p)<Math.abs(m)?(d=p/m,h=p*d+m,new u((s*d+l)/h,(l*d-s)/h)):(d=m/p,h=m*d+p,new u((s+l*d)/h,(l-s*d)/h))},pow:function(s,l){var f=new u(s,l);if(s=this.re,l=this.im,f.isZero())return u.ONE;if(f.im===0){if(l===0&&s>0)return new u(Math.pow(s,f.re),0);if(s===0)switch((f.re%4+4)%4){case 0:return new u(Math.pow(l,f.re),0);case 1:return new u(0,Math.pow(l,f.re));case 2:return new u(-Math.pow(l,f.re),0);case 3:return new u(0,-Math.pow(l,f.re))}}if(s===0&&l===0&&f.re>0&&f.im>=0)return u.ZERO;var p=Math.atan2(l,s),m=o(s,l);return s=Math.exp(f.re*m-f.im*p),l=f.im*m+f.re*p,new u(s*Math.cos(l),s*Math.sin(l))},sqrt:function(){var s=this.re,l=this.im,f=this.abs(),p,m;if(s>=0){if(l===0)return new u(Math.sqrt(s),0);p=.5*Math.sqrt(2*(f+s))}else p=Math.abs(l)/Math.sqrt(2*(f-s));return s<=0?m=.5*Math.sqrt(2*(f-s)):m=Math.abs(l)/Math.sqrt(2*(f+s)),new u(p,l<0?-m:m)},exp:function(){var s=Math.exp(this.re);return this.im,new u(s*Math.cos(this.im),s*Math.sin(this.im))},expm1:function(){var s=this.re,l=this.im;return new u(Math.expm1(s)*Math.cos(l)+n(l),Math.exp(s)*Math.sin(l))},log:function(){var s=this.re,l=this.im;return l===0&&s>0,new u(o(s,l),Math.atan2(l,s))},abs:function(){return i(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var s=this.re,l=this.im;return new u(Math.sin(s)*e(l),Math.cos(s)*t(l))},cos:function(){var s=this.re,l=this.im;return new u(Math.cos(s)*e(l),-Math.sin(s)*t(l))},tan:function(){var s=2*this.re,l=2*this.im,f=Math.cos(s)+e(l);return new u(Math.sin(s)/f,t(l)/f)},cot:function(){var s=2*this.re,l=2*this.im,f=Math.cos(s)-e(l);return new u(-Math.sin(s)/f,t(l)/f)},sec:function(){var s=this.re,l=this.im,f=.5*e(2*l)+.5*Math.cos(2*s);return new u(Math.cos(s)*e(l)/f,Math.sin(s)*t(l)/f)},csc:function(){var s=this.re,l=this.im,f=.5*e(2*l)-.5*Math.cos(2*s);return new u(Math.sin(s)*e(l)/f,-Math.cos(s)*t(l)/f)},asin:function(){var s=this.re,l=this.im,f=new u(l*l-s*s+1,-2*s*l).sqrt(),p=new u(f.re-l,f.im+s).log();return new u(p.im,-p.re)},acos:function(){var s=this.re,l=this.im,f=new u(l*l-s*s+1,-2*s*l).sqrt(),p=new u(f.re-l,f.im+s).log();return new u(Math.PI/2-p.im,p.re)},atan:function(){var s=this.re,l=this.im;if(s===0){if(l===1)return new u(0,1/0);if(l===-1)return new u(0,-1/0)}var f=s*s+(1-l)*(1-l),p=new u((1-l*l-s*s)/f,-2*s/f).log();return new u(-.5*p.im,.5*p.re)},acot:function(){var s=this.re,l=this.im;if(l===0)return new u(Math.atan2(1,s),0);var f=s*s+l*l;return f!==0?new u(s/f,-l/f).atan():new u(s!==0?s/0:0,l!==0?-l/0:0).atan()},asec:function(){var s=this.re,l=this.im;if(s===0&&l===0)return new u(0,1/0);var f=s*s+l*l;return f!==0?new u(s/f,-l/f).acos():new u(s!==0?s/0:0,l!==0?-l/0:0).acos()},acsc:function(){var s=this.re,l=this.im;if(s===0&&l===0)return new u(Math.PI/2,1/0);var f=s*s+l*l;return f!==0?new u(s/f,-l/f).asin():new u(s!==0?s/0:0,l!==0?-l/0:0).asin()},sinh:function(){var s=this.re,l=this.im;return new u(t(s)*Math.cos(l),e(s)*Math.sin(l))},cosh:function(){var s=this.re,l=this.im;return new u(e(s)*Math.cos(l),t(s)*Math.sin(l))},tanh:function(){var s=2*this.re,l=2*this.im,f=e(s)+Math.cos(l);return new u(t(s)/f,Math.sin(l)/f)},coth:function(){var s=2*this.re,l=2*this.im,f=e(s)-Math.cos(l);return new u(t(s)/f,-Math.sin(l)/f)},csch:function(){var s=this.re,l=this.im,f=Math.cos(2*l)-e(2*s);return new u(-2*t(s)*Math.cos(l)/f,2*e(s)*Math.sin(l)/f)},sech:function(){var s=this.re,l=this.im,f=Math.cos(2*l)+e(2*s);return new u(2*e(s)*Math.cos(l)/f,-2*t(s)*Math.sin(l)/f)},asinh:function(){var s=this.im;this.im=-this.re,this.re=s;var l=this.asin();return this.re=-this.im,this.im=s,s=l.re,l.re=-l.im,l.im=s,l},acosh:function(){var s=this.acos();if(s.im<=0){var l=s.re;s.re=-s.im,s.im=l}else{var l=s.im;s.im=-s.re,s.re=l}return s},atanh:function(){var s=this.re,l=this.im,f=s>1&&l===0,p=1-s,m=1+s,h=p*p+l*l,d=h!==0?new u((m*p-l*l)/h,(l*p+m*l)/h):new u(s!==-1?s/0:0,l!==0?l/0:0),v=d.re;return d.re=o(d.re,d.im)/2,d.im=Math.atan2(d.im,v)/2,f&&(d.im=-d.im),d},acoth:function(){var s=this.re,l=this.im;if(s===0&&l===0)return new u(0,Math.PI/2);var f=s*s+l*l;return f!==0?new u(s/f,-l/f).atanh():new u(s!==0?s/0:0,l!==0?-l/0:0).atanh()},acsch:function(){var s=this.re,l=this.im;if(l===0)return new u(s!==0?Math.log(s+Math.sqrt(s*s+1)):1/0,0);var f=s*s+l*l;return f!==0?new u(s/f,-l/f).asinh():new u(s!==0?s/0:0,l!==0?-l/0:0).asinh()},asech:function(){var s=this.re,l=this.im;if(this.isZero())return u.INFINITY;var f=s*s+l*l;return f!==0?new u(s/f,-l/f).acosh():new u(s!==0?s/0:0,l!==0?-l/0:0).acosh()},inverse:function(){if(this.isZero())return u.INFINITY;if(this.isInfinite())return u.ZERO;var s=this.re,l=this.im,f=s*s+l*l;return new u(s/f,-l/f)},conjugate:function(){return new u(this.re,-this.im)},neg:function(){return new u(-this.re,-this.im)},ceil:function(s){return s=Math.pow(10,s||0),new u(Math.ceil(this.re*s)/s,Math.ceil(this.im*s)/s)},floor:function(s){return s=Math.pow(10,s||0),new u(Math.floor(this.re*s)/s,Math.floor(this.im*s)/s)},round:function(s){return s=Math.pow(10,s||0),new u(Math.round(this.re*s)/s,Math.round(this.im*s)/s)},equals:function(s,l){var f=new u(s,l);return Math.abs(f.re-this.re)<=u.EPSILON&&Math.abs(f.im-this.im)<=u.EPSILON},clone:function(){return new u(this.re,this.im)},toString:function(){var s=this.re,l=this.im,f="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(s)<u.EPSILON&&(s=0),Math.abs(l)<u.EPSILON&&(l=0),l===0?f+s:(s!==0?(f+=s,f+=" ",l<0?(l=-l,f+="-"):f+="+",f+=" "):l<0&&(l=-l,f+="-"),l!==1&&(f+=l),f+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},u.ZERO=new u(0,0),u.ONE=new u(1,0),u.I=new u(0,1),u.PI=new u(Math.PI,0),u.E=new u(Math.E,0),u.INFINITY=new u(1/0,1/0),u.NAN=new u(NaN,NaN),u.EPSILON=1e-15,typeof define=="function"&&define.amd?define([],function(){return u}):typeof Yg=="object"?(Object.defineProperty(u,"__esModule",{value:!0}),u.default=u,u.Complex=u,FE.exports=u):r.Complex=u})(Yg)});var PE=an((Zg,BE)=>{(function(r){"use strict";var e=2e3,t={s:1,n:0,d:1};function n(d,v){if(isNaN(d=parseInt(d,10)))throw m();return d*v}function i(d,v){if(v===0)throw p();var y=Object.create(f.prototype);y.s=d<0?-1:1,d=d<0?-d:d;var S=l(d,v);return y.n=d/S,y.d=v/S,y}function a(d){for(var v={},y=d,S=2,b=4;b<=y;){for(;y%S===0;)y/=S,v[S]=(v[S]||0)+1;b+=1+2*S++}return y!==d?y>1&&(v[y]=(v[y]||0)+1):v[d]=(v[d]||0)+1,v}var o=function(d,v){var y=0,S=1,b=1,w=0,_=0,x=0,T=1,A=1,N=0,E=1,C=1,O=1,U=1e7,q;if(d!=null)if(v!==void 0){if(y=d,S=v,b=y*S,y%1!==0||S%1!==0)throw h()}else switch(typeof d){case"object":{if("d"in d&&"n"in d)y=d.n,S=d.d,"s"in d&&(y*=d.s);else if(0 in d)y=d[0],1 in d&&(S=d[1]);else throw m();b=y*S;break}case"number":{if(d<0&&(b=d,d=-d),d%1===0)y=d;else if(d>0){for(d>=1&&(A=Math.pow(10,Math.floor(1+Math.log(d)/Math.LN10)),d/=A);E<=U&&O<=U;)if(q=(N+C)/(E+O),d===q){E+O<=U?(y=N+C,S=E+O):O>E?(y=C,S=O):(y=N,S=E);break}else d>q?(N+=C,E+=O):(C+=N,O+=E),E>U?(y=C,S=O):(y=N,S=E);y*=A}else(isNaN(d)||isNaN(v))&&(S=y=NaN);break}case"string":{if(E=d.match(/\d+|./g),E===null)throw m();if(E[N]==="-"?(b=-1,N++):E[N]==="+"&&N++,E.length===N+1?_=n(E[N++],b):E[N+1]==="."||E[N]==="."?(E[N]!=="."&&(w=n(E[N++],b)),N++,(N+1===E.length||E[N+1]==="("&&E[N+3]===")"||E[N+1]==="'"&&E[N+3]==="'")&&(_=n(E[N],b),T=Math.pow(10,E[N].length),N++),(E[N]==="("&&E[N+2]===")"||E[N]==="'"&&E[N+2]==="'")&&(x=n(E[N+1],b),A=Math.pow(10,E[N+1].length)-1,N+=3)):E[N+1]==="/"||E[N+1]===":"?(_=n(E[N],b),T=n(E[N+2],1),N+=3):E[N+3]==="/"&&E[N+1]===" "&&(w=n(E[N],b),_=n(E[N+2],b),T=n(E[N+4],1),N+=5),E.length<=N){S=T*A,b=y=x+S*w+A*_;break}}default:throw m()}if(S===0)throw p();t.s=b<0?-1:1,t.n=Math.abs(y),t.d=Math.abs(S)};function c(d,v,y){for(var S=1;v>0;d=d*d%y,v>>=1)v&1&&(S=S*d%y);return S}function u(d,v){for(;v%2===0;v/=2);for(;v%5===0;v/=5);if(v===1)return 0;for(var y=10%v,S=1;y!==1;S++)if(y=y*10%v,S>e)return 0;return S}function s(d,v,y){for(var S=1,b=c(10,y,v),w=0;w<300;w++){if(S===b)return w;S=S*10%v,b=b*10%v}return 0}function l(d,v){if(!d)return v;if(!v)return d;for(;;){if(d%=v,!d)return v;if(v%=d,!v)return d}}function f(d,v){if(o(d,v),this instanceof f)d=l(t.d,t.n),this.s=t.s,this.n=t.n/d,this.d=t.d/d;else return i(t.s*t.n,t.d)}var p=function(){return new Error("Division by Zero")},m=function(){return new Error("Invalid argument")},h=function(){return new Error("Parameters must be integer")};f.prototype={s:1,n:0,d:1,abs:function(){return i(this.n,this.d)},neg:function(){return i(-this.s*this.n,this.d)},add:function(d,v){return o(d,v),i(this.s*this.n*t.d+t.s*this.d*t.n,this.d*t.d)},sub:function(d,v){return o(d,v),i(this.s*this.n*t.d-t.s*this.d*t.n,this.d*t.d)},mul:function(d,v){return o(d,v),i(this.s*t.s*this.n*t.n,this.d*t.d)},div:function(d,v){return o(d,v),i(this.s*t.s*this.n*t.d,this.d*t.n)},clone:function(){return i(this.s*this.n,this.d)},mod:function(d,v){if(isNaN(this.n)||isNaN(this.d))return new f(NaN);if(d===void 0)return i(this.s*this.n%this.d,1);if(o(d,v),t.n===0&&this.d===0)throw p();return i(this.s*(t.d*this.n)%(t.n*this.d),t.d*this.d)},gcd:function(d,v){return o(d,v),i(l(t.n,this.n)*l(t.d,this.d),t.d*this.d)},lcm:function(d,v){return o(d,v),t.n===0&&this.n===0?i(0,1):i(t.n*this.n,l(t.n,this.n)*l(t.d,this.d))},ceil:function(d){return d=Math.pow(10,d||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):i(Math.ceil(d*this.s*this.n/this.d),d)},floor:function(d){return d=Math.pow(10,d||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):i(Math.floor(d*this.s*this.n/this.d),d)},round:function(d){return d=Math.pow(10,d||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):i(Math.round(d*this.s*this.n/this.d),d)},inverse:function(){return i(this.s*this.d,this.n)},pow:function(d,v){if(o(d,v),t.d===1)return t.s<0?i(Math.pow(this.s*this.d,t.n),Math.pow(this.n,t.n)):i(Math.pow(this.s*this.n,t.n),Math.pow(this.d,t.n));if(this.s<0)return null;var y=a(this.n),S=a(this.d),b=1,w=1;for(var _ in y)if(_!=="1"){if(_==="0"){b=0;break}if(y[_]*=t.n,y[_]%t.d===0)y[_]/=t.d;else return null;b*=Math.pow(_,y[_])}for(var _ in S)if(_!=="1"){if(S[_]*=t.n,S[_]%t.d===0)S[_]/=t.d;else return null;w*=Math.pow(_,S[_])}return t.s<0?i(w,b):i(b,w)},equals:function(d,v){return o(d,v),this.s*this.n*t.d===t.s*t.n*this.d},compare:function(d,v){o(d,v);var y=this.s*this.n*t.d-t.s*t.n*this.d;return(0<y)-(y<0)},simplify:function(d){if(isNaN(this.n)||isNaN(this.d))return this;d=d||.001;for(var v=this.abs(),y=v.toContinued(),S=1;S<y.length;S++){for(var b=i(y[S-1],1),w=S-2;w>=0;w--)b=b.inverse().add(y[w]);if(Math.abs(b.sub(v).valueOf())<d)return b.mul(this.s)}return this},divisible:function(d,v){return o(d,v),!(!(t.n*this.d)||this.n*t.d%(t.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(d){var v,y="",S=this.n,b=this.d;return this.s<0&&(y+="-"),b===1?y+=S:(d&&(v=Math.floor(S/b))>0&&(y+=v,y+=" ",S%=b),y+=S,y+="/",y+=b),y},toLatex:function(d){var v,y="",S=this.n,b=this.d;return this.s<0&&(y+="-"),b===1?y+=S:(d&&(v=Math.floor(S/b))>0&&(y+=v,S%=b),y+="\\frac{",y+=S,y+="}{",y+=b,y+="}"),y},toContinued:function(){var d,v=this.n,y=this.d,S=[];if(isNaN(v)||isNaN(y))return S;do S.push(Math.floor(v/y)),d=v%y,v=y,y=d;while(v!==1);return S},toString:function(d){var v=this.n,y=this.d;if(isNaN(v)||isNaN(y))return"NaN";d=d||15;var S=u(v,y),b=s(v,y,S),w=this.s<0?"-":"";if(w+=v/y|0,v%=y,v*=10,v&&(w+="."),S){for(var _=b;_--;)w+=v/y|0,v%=y,v*=10;w+="(";for(var _=S;_--;)w+=v/y|0,v%=y,v*=10;w+=")"}else for(var _=d;v&&_--;)w+=v/y|0,v%=y,v*=10;return w}},typeof Zg=="object"?(Object.defineProperty(f,"__esModule",{value:!0}),f.default=f,f.Fraction=f,BE.exports=f):r.Fraction=f})(Zg)});var ZM=an((sxe,jM)=>{jM.exports=function r(e,t){"use strict";var n=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,i=/(^[ ]*|[ ]*$)/g,a=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,o=/^0x[0-9a-f]+$/i,c=/^0/,u=function(b){return r.insensitive&&(""+b).toLowerCase()||""+b},s=u(e).replace(i,"")||"",l=u(t).replace(i,"")||"",f=s.replace(n,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=l.replace(n,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=parseInt(s.match(o),16)||f.length!==1&&s.match(a)&&Date.parse(s),h=parseInt(l.match(o),16)||m&&l.match(a)&&Date.parse(l)||null,d,v;if(h){if(m<h)return-1;if(m>h)return 1}for(var y=0,S=Math.max(f.length,p.length);y<S;y++){if(d=!(f[y]||"").match(c)&&parseFloat(f[y])||f[y]||0,v=!(p[y]||"").match(c)&&parseFloat(p[y])||p[y]||0,isNaN(d)!==isNaN(v))return isNaN(d)?1:-1;if(typeof d!=typeof v&&(d+="",v+=""),d<v)return-1;if(d>v)return 1}return 0}});var QC=an((DNe,XC)=>{"use strict";var g1=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},wY={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},_Y={"\u2013":"\\--","\u2014":"\\---"," ":"~","	":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},SY=function(e,t){return g1({},e,t)};XC.exports=function(r){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.preserveFormatting,n=t===void 0?!1:t,i=e.escapeMapFn,a=i===void 0?SY:i,o=String(r),c="",u=a(g1({},wY),n?g1({},_Y):{}),s=Object.keys(u),l=function(){var p=!1;s.forEach(function(m,h){p||o.length>=m.length&&o.slice(0,m.length)===m&&(c+=u[s[h]],o=o.slice(m.length,o.length),p=!0)}),p||(c+=o.slice(0,1),o=o.slice(1,o.length))};o;)l();return c}});var TO=an((EO,vx)=>{(function(r,e,t){function n(c){var u=this,s=o();u.next=function(){var l=2091639*u.s0+u.c*23283064365386963e-26;return u.s0=u.s1,u.s1=u.s2,u.s2=l-(u.c=l|0)},u.c=1,u.s0=s(" "),u.s1=s(" "),u.s2=s(" "),u.s0-=s(c),u.s0<0&&(u.s0+=1),u.s1-=s(c),u.s1<0&&(u.s1+=1),u.s2-=s(c),u.s2<0&&(u.s2+=1),s=null}function i(c,u){return u.c=c.c,u.s0=c.s0,u.s1=c.s1,u.s2=c.s2,u}function a(c,u){var s=new n(c),l=u&&u.state,f=s.next;return f.int32=function(){return s.next()*4294967296|0},f.double=function(){return f()+(f()*2097152|0)*11102230246251565e-32},f.quick=f,l&&(typeof l=="object"&&i(l,s),f.state=function(){return i(s,{})}),f}function o(){var c=4022871197,u=function(s){s=String(s);for(var l=0;l<s.length;l++){c+=s.charCodeAt(l);var f=.02519603282416938*c;c=f>>>0,f-=c,f*=c,c=f>>>0,f-=c,c+=f*4294967296}return(c>>>0)*23283064365386963e-26};return u}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.alea=a})(EO,typeof vx=="object"&&vx,typeof define=="function"&&define)});var CO=an((MO,yx)=>{(function(r,e,t){function n(o){var c=this,u="";c.x=0,c.y=0,c.z=0,c.w=0,c.next=function(){var l=c.x^c.x<<11;return c.x=c.y,c.y=c.z,c.z=c.w,c.w^=c.w>>>19^l^l>>>8},o===(o|0)?c.x=o:u+=o;for(var s=0;s<u.length+64;s++)c.x^=u.charCodeAt(s)|0,c.next()}function i(o,c){return c.x=o.x,c.y=o.y,c.z=o.z,c.w=o.w,c}function a(o,c){var u=new n(o),s=c&&c.state,l=function(){return(u.next()>>>0)/4294967296};return l.double=function(){do var f=u.next()>>>11,p=(u.next()>>>0)/4294967296,m=(f+p)/(1<<21);while(m===0);return m},l.int32=u.next,l.quick=l,s&&(typeof s=="object"&&i(s,u),l.state=function(){return i(u,{})}),l}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.xor128=a})(MO,typeof yx=="object"&&yx,typeof define=="function"&&define)});var IO=an((FO,bx)=>{(function(r,e,t){function n(o){var c=this,u="";c.next=function(){var l=c.x^c.x>>>2;return c.x=c.y,c.y=c.z,c.z=c.w,c.w=c.v,(c.d=c.d+362437|0)+(c.v=c.v^c.v<<4^(l^l<<1))|0},c.x=0,c.y=0,c.z=0,c.w=0,c.v=0,o===(o|0)?c.x=o:u+=o;for(var s=0;s<u.length+64;s++)c.x^=u.charCodeAt(s)|0,s==u.length&&(c.d=c.x<<10^c.x>>>4),c.next()}function i(o,c){return c.x=o.x,c.y=o.y,c.z=o.z,c.w=o.w,c.v=o.v,c.d=o.d,c}function a(o,c){var u=new n(o),s=c&&c.state,l=function(){return(u.next()>>>0)/4294967296};return l.double=function(){do var f=u.next()>>>11,p=(u.next()>>>0)/4294967296,m=(f+p)/(1<<21);while(m===0);return m},l.int32=u.next,l.quick=l,s&&(typeof s=="object"&&i(s,u),l.state=function(){return i(u,{})}),l}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.xorwow=a})(FO,typeof bx=="object"&&bx,typeof define=="function"&&define)});var PO=an((BO,xx)=>{(function(r,e,t){function n(o){var c=this;c.next=function(){var s=c.x,l=c.i,f,p,m;return f=s[l],f^=f>>>7,p=f^f<<24,f=s[l+1&7],p^=f^f>>>10,f=s[l+3&7],p^=f^f>>>3,f=s[l+4&7],p^=f^f<<7,f=s[l+7&7],f=f^f<<13,p^=f^f<<9,s[l]=p,c.i=l+1&7,p};function u(s,l){var f,p,m=[];if(l===(l|0))p=m[0]=l;else for(l=""+l,f=0;f<l.length;++f)m[f&7]=m[f&7]<<15^l.charCodeAt(f)+m[f+1&7]<<13;for(;m.length<8;)m.push(0);for(f=0;f<8&&m[f]===0;++f);for(f==8?p=m[7]=-1:p=m[f],s.x=m,s.i=0,f=256;f>0;--f)s.next()}u(c,o)}function i(o,c){return c.x=o.x.slice(),c.i=o.i,c}function a(o,c){o==null&&(o=+new Date);var u=new n(o),s=c&&c.state,l=function(){return(u.next()>>>0)/4294967296};return l.double=function(){do var f=u.next()>>>11,p=(u.next()>>>0)/4294967296,m=(f+p)/(1<<21);while(m===0);return m},l.int32=u.next,l.quick=l,s&&(s.x&&i(s,u),l.state=function(){return i(u,{})}),l}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.xorshift7=a})(BO,typeof xx=="object"&&xx,typeof define=="function"&&define)});var kO=an((OO,wx)=>{(function(r,e,t){function n(o){var c=this;c.next=function(){var s=c.w,l=c.X,f=c.i,p,m;return c.w=s=s+1640531527|0,m=l[f+34&127],p=l[f=f+1&127],m^=m<<13,p^=p<<17,m^=m>>>15,p^=p>>>12,m=l[f]=m^p,c.i=f,m+(s^s>>>16)|0};function u(s,l){var f,p,m,h,d,v=[],y=128;for(l===(l|0)?(p=l,l=null):(l=l+"\0",p=0,y=Math.max(y,l.length)),m=0,h=-32;h<y;++h)l&&(p^=l.charCodeAt((h+32)%l.length)),h===0&&(d=p),p^=p<<10,p^=p>>>15,p^=p<<4,p^=p>>>13,h>=0&&(d=d+1640531527|0,f=v[h&127]^=p+d,m=f==0?m+1:0);for(m>=128&&(v[(l&&l.length||0)&127]=-1),m=127,h=4*128;h>0;--h)p=v[m+34&127],f=v[m=m+1&127],p^=p<<13,f^=f<<17,p^=p>>>15,f^=f>>>12,v[m]=p^f;s.w=d,s.X=v,s.i=m}u(c,o)}function i(o,c){return c.i=o.i,c.w=o.w,c.X=o.X.slice(),c}function a(o,c){o==null&&(o=+new Date);var u=new n(o),s=c&&c.state,l=function(){return(u.next()>>>0)/4294967296};return l.double=function(){do var f=u.next()>>>11,p=(u.next()>>>0)/4294967296,m=(f+p)/(1<<21);while(m===0);return m},l.int32=u.next,l.quick=l,s&&(s.X&&i(s,u),l.state=function(){return i(u,{})}),l}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.xor4096=a})(OO,typeof wx=="object"&&wx,typeof define=="function"&&define)});var LO=an((RO,_x)=>{(function(r,e,t){function n(o){var c=this,u="";c.next=function(){var l=c.b,f=c.c,p=c.d,m=c.a;return l=l<<25^l>>>7^f,f=f-p|0,p=p<<24^p>>>8^m,m=m-l|0,c.b=l=l<<20^l>>>12^f,c.c=f=f-p|0,c.d=p<<16^f>>>16^m,c.a=m-l|0},c.a=0,c.b=0,c.c=-1640531527,c.d=1367130551,o===Math.floor(o)?(c.a=o/4294967296|0,c.b=o|0):u+=o;for(var s=0;s<u.length+20;s++)c.b^=u.charCodeAt(s)|0,c.next()}function i(o,c){return c.a=o.a,c.b=o.b,c.c=o.c,c.d=o.d,c}function a(o,c){var u=new n(o),s=c&&c.state,l=function(){return(u.next()>>>0)/4294967296};return l.double=function(){do var f=u.next()>>>11,p=(u.next()>>>0)/4294967296,m=(f+p)/(1<<21);while(m===0);return m},l.int32=u.next,l.quick=l,s&&(typeof s=="object"&&i(s,u),l.state=function(){return i(u,{})}),l}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.tychei=a})(RO,typeof _x=="object"&&_x,typeof define=="function"&&define)});var VO=an((UO,om)=>{(function(r,e,t){var n=256,i=6,a=52,o="random",c=t.pow(n,i),u=t.pow(2,a),s=u*2,l=n-1,f;function p(b,w,_){var x=[];w=w==!0?{entropy:!0}:w||{};var T=v(d(w.entropy?[b,S(e)]:b==null?y():b,3),x),A=new m(x),N=function(){for(var E=A.g(i),C=c,O=0;E<u;)E=(E+O)*n,C*=n,O=A.g(1);for(;E>=s;)E/=2,C/=2,O>>>=1;return(E+O)/C};return N.int32=function(){return A.g(4)|0},N.quick=function(){return A.g(4)/4294967296},N.double=N,v(S(A.S),e),(w.pass||_||function(E,C,O,U){return U&&(U.S&&h(U,A),E.state=function(){return h(A,{})}),O?(t[o]=E,C):E})(N,T,"global"in w?w.global:this==t,w.state)}function m(b){var w,_=b.length,x=this,T=0,A=x.i=x.j=0,N=x.S=[];for(_||(b=[_++]);T<n;)N[T]=T++;for(T=0;T<n;T++)N[T]=N[A=l&A+b[T%_]+(w=N[T])],N[A]=w;(x.g=function(E){for(var C,O=0,U=x.i,q=x.j,L=x.S;E--;)C=L[U=l&U+1],O=O*n+L[l&(L[U]=L[q=l&q+C])+(L[q]=C)];return x.i=U,x.j=q,O})(n)}function h(b,w){return w.i=b.i,w.j=b.j,w.S=b.S.slice(),w}function d(b,w){var _=[],x=typeof b,T;if(w&&x=="object")for(T in b)try{_.push(d(b[T],w-1))}catch(A){}return _.length?_:x=="string"?b:b+"\0"}function v(b,w){for(var _=b+"",x,T=0;T<_.length;)w[l&T]=l&(x^=w[l&T]*19)+_.charCodeAt(T++);return S(w)}function y(){try{var b;return f&&(b=f.randomBytes)?b=b(n):(b=new Uint8Array(n),(r.crypto||r.msCrypto).getRandomValues(b)),S(b)}catch(x){var w=r.navigator,_=w&&w.plugins;return[+new Date,r,_,r.screen,S(e)]}}function S(b){return String.fromCharCode.apply(0,b)}if(v(t.random(),e),typeof om=="object"&&om.exports){om.exports=p;try{f=ll("crypto")}catch(b){}}else typeof define=="function"&&define.amd?define(function(){return p}):t["seed"+o]=p})(typeof self!="undefined"?self:UO,[],Math)});var zO=an(($3e,qO)=>{var Vj=TO(),qj=CO(),zj=IO(),$j=PO(),Hj=kO(),Gj=LO(),gs=VO();gs.alea=Vj;gs.xor128=qj;gs.xorwow=zj;gs.xorshift7=$j;gs.xor4096=Hj;gs.tychei=Gj;qO.exports=gs});var AK={};jU(AK,{MetaBindPublishPlugin:()=>Od});var gn=class extends Error{constructor(e){super(""),this.errorLevel=e.errorLevel,this.effect=e.effect,this.cause=e.cause,this.tip=e.tip,this.docs=e.docs,this.context=e.context,this.positionContext=e.positionContext,this.updateMessage()}updateMessage(){this.cause instanceof Error?this.message=`[${this.getErrorType()}] "${this.effect}" caused by error "${this.cause.message}"`:this.message=`[${this.getErrorType()}] "${this.effect}" caused by "${this.cause}"`}log(){console.log(this.message,this.stack,this.context)}},vr=class extends gn{getErrorType(){return"MB_INTERNAL"}},Fa=class extends gn{getErrorType(){return"MB_PARSING"}},io=class extends gn{getErrorType(){return"MB_VALIDATION"}},Pc=class extends gn{getErrorType(){return"MB_BIND_TARGET"}};var Hr=class extends gn{getErrorType(){return"MB_ARGUMENT"}},cl=class extends gn{getErrorType(){return"MB_JS"}},Qi=class extends gn{getErrorType(){return"MB_EXPRESSION"}};var Jo=class extends gn{getErrorType(){return"MB_EMBED"}},Xo=class extends gn{getErrorType(){return"MB_BUTTON"}};var Ia=class{static get(e,t){return t.get(e).child}static tryGet(e,t){var n;return(n=t.tryGet(e))==null?void 0:n.child}static fullGet(e,t){return t.get(e)}static set(e,t,n){t.set(e,n)}static setAndCreate(e,t,n){t.setAndCreate(e,n)}};var $s=class{constructor(e,t){this.id=e,this.manager=t,this.cache=new Map}validateStoragePath(e,t,n,i){return i.validateStoragePathAsFilePath(e,n)}resolveBindTargetScope(e,t,n){return e}createCacheItem(e){let t=this.cache.get(e);if(t!==void 0)throw new vr({errorLevel:"CRITICAL",effect:"can not create cache item",cause:"cache item already exists"});return t=this.getDefaultCacheItem(e),this.cache.set(e,t),t}getOrCreateCacheItem(e){let t=this.getCacheItemForStoragePath(e);return t===void 0&&(t=this.getDefaultCacheItem(e),this.cache.set(e,t)),t}subscribe(e){if(e.bindTarget===void 0)throw new vr({errorLevel:"CRITICAL",effect:"can not subscribe",cause:"subscription bind target undefined"});let t=this.getOrCreateCacheItem(e.bindTarget.storagePath);return t.subscriptions.push(e),t}unsubscribe(e){if(e.bindTarget===void 0)throw new vr({errorLevel:"CRITICAL",effect:"can not unsubscribe",cause:"subscription bind target undefined"});let t=this.cache.get(e.bindTarget.storagePath);if(t===void 0)throw new vr({errorLevel:"CRITICAL",effect:"can not unsubscribe",cause:"cache item does not exist"});return t.subscriptions=t.subscriptions.filter(n=>n.uuid!==e.uuid),t}getCacheItemForStoragePath(e){return this.cache.get(e)}onCycle(e){}iterateCacheItems(){return this.cache.values()}shouldDelete(e){return!0}deleteCache(e){this.cache.delete(e.storagePath)}updateCache(e,t){let n=this.getOrCreateCacheItem(t.storagePath);return Ia.setAndCreate(n.data,t.storageProp,e),n}updateEntireCache(e,t){t.data=e}readCache(e){if(e.storageType!==this.id)throw new vr({errorLevel:"ERROR",effect:"can not read cache",cause:`Source "${e.storageType}" does not match`});let t=this.getCacheItemForStoragePath(e.storagePath);return t===void 0?Ia.tryGet(this.readExternal(e.storagePath),e.storageProp):this.readCacheItem(t,e.storageProp)}readCacheItem(e,t){return Ia.tryGet(e.data,t)}readEntireCacheItem(e){return e.data}};function Dn(r,e){let t=r.tryParse(e);if(t.success)return t.value;throw new fl("ERROR","parsiNOM parser",e,t)}var fl=class extends gn{constructor(e,t,n,i){super({errorLevel:e,effect:"failed to parse",cause:`expected ${i.expected.sort().join(" or ")}`}),this.str=n,this.parseFailure=i,this.source=t,this.updateMessage2()}getErrorType(){return"MB_PARSINOM"}updateMessage2(){this.cause instanceof Error?this.message=`[${this.getErrorType()}] "${this.effect}" caused by error "${this.cause.message}"
`:this.message=`[${this.getErrorType()}] "${this.effect}" caused by "${this.cause}"
`;let t=this.str.split(`
`)[this.parseFailure.furthest.line-1],n=`${this.parseFailure.furthest.line} |   `;this.positionContext=`${n}${t}`,this.positionContext+=`
${this.getUnderline(n.length)}
`,this.message+=`
`+this.positionContext}getUnderline(e){let t=" ".repeat(this.parseFailure.furthest.column+e-1),n=`^ (${this.cause})`;return t+n}},ln=class extends gn{constructor(e,t,n,i,a,o){super({errorLevel:e,effect:"failed to validate parser result",cause:n,docs:o}),this.str=i,this.position=a,this.source=t,this.updateMessage2()}getErrorType(){return"MB_VALIDATION"}updateMessage2(){if(this.cause instanceof Error?this.message=`[${this.getErrorType()}] "${this.effect}" caused by error "${this.cause.message}"
`:this.message=`[${this.getErrorType()}] "${this.effect}" caused by "${this.cause}"
`,this.str&&this.position){let t=this.str.split(`
`)[this.position.from.line-1],n=`${this.position.from.line} |   `;this.positionContext=`${n}${t}`,this.positionContext+=`
${this.getUnderline(n.length,t.length)}
`,this.message+=`
`+this.positionContext}}getUnderline(e,t){if(this.position===void 0)return"";let n=" ".repeat(this.position.from.column+e-1),i=this.position.to.line===this.position.from.line?this.position.to.column:t,a="^".repeat(i-this.position.from.column);return n+a}};var Oc=class extends $s{readExternal(e){return{}}getDefaultCacheItem(e){return Me({data:{},storagePath:e},this.manager.getDefaultCacheItem())}syncExternal(e){return St(this,null,function*(){})}},kc=class{constructor(e,t){this.id=e,this.manager=t,this.cache=Me({data:{}},this.manager.getDefaultCacheItem())}createCacheItem(e){return this.cache}getOrCreateCacheItem(e){return this.cache}validateStoragePath(e,t,n,i){if(t)throw new ln("ERROR","Bind Target Validator","Failed to parse bind target. Bind target storage type 'global_memory' does not support a storage path.",n,e.position);return""}resolveBindTargetScope(e,t,n){return e}deleteCache(e){}getCacheItemForStoragePath(e){return this.cache}iterateCacheItems(){return[this.cache][Symbol.iterator]()}onCycle(e){}readCache(e){return this.readCacheItem(this.cache,e.storageProp)}readCacheItem(e,t){return Ia.tryGet(e.data,t)}shouldDelete(e){return!1}subscribe(e){return this.cache.subscriptions.push(e),this.cache}syncExternal(e){}unsubscribe(e){return this.cache.subscriptions=this.cache.subscriptions.filter(t=>t.uuid!==e.uuid),this.cache}updateCache(e,t){return Ia.setAndCreate(this.cache.data,t.storageProp,e),this.cache}updateEntireCache(e,t){t.data=e}readEntireCacheItem(e){return e.data}};function pl(r,e,t){return Math.min(Math.max(r,e),t)}function Rc(r,e,t){return r!==void 0?Math.min(Math.max(r,e),t):void 0}function ph(r,e,t,n,i){return(r-e)/(t-e)*(i-n)+n}function mh(r,e){return(r%e+e)%e}function ED(r,e){if(r==null&&e==null)return!0;if(r==null||e==null||r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function dh(r,e){for(let t=0;t<e.length;t++)if(r[t]!==e[t])return!1;return!0}function TD(r){return!!r}function hh(r){let e=Reflect.ownKeys(r);for(let t of e){let n=r[t];(n&&typeof n=="object"||typeof n=="function")&&hh(n)}return Object.freeze(r)}function Tr(){return window.crypto.randomUUID()}function Hs(r){try{return new URL(r),!0}catch(e){return!1}}function Lc(r){window.open(r,"_blank")}function MD(r,e,t=", ",n="and"){return r.length===0?"":(r=r.map(e),r.length===1?r[0]:r.length===2?`${r[0]} ${n} ${r[1]}`:`${r.slice(0,-1).join(t)} ${n} ${r.slice(-1)}`)}function ti(r,e){r.innerHTML="",r.className="";let t=document.createElement("span");t.className="mb-warning mb-unloaded",t.innerText=`[MB_UNLOADED] ${e}`,r.appendChild(t)}var vt=class{static createElement(e,t,n){let i=document.createElement(t);return n!=null&&n.text&&(i.innerText=n.text),n!=null&&n.class&&(i.className=n.class),e.appendChild(i),i}static addClass(e,t){e.classList.add(...t.split(" "))}static addClasses(e,t){e.classList.add(...t)}static removeClass(e,t){e.classList.remove(...t.split(" "))}static hasClass(e,t){return e.classList.contains(t)}static removeAllClasses(e){e.className=""}static empty(e){for(;e.lastChild;)e.removeChild(e.lastChild)}};var Uc=class{constructor(e,t,n,i,a,o,c){this.uuid=e,this.callbackSignal=t,this.metadataManager=n,this.bindTarget=i,this.dependencies=a,this.dependencySubscriptions=[],this.computeFunction=o,this.onDelete=c,this.deleted=!1}init(){for(let e of this.dependencies){let t=this.uuid+"/"+Tr();this.dependencySubscriptions.push(this.metadataManager.subscribe(t,e.callbackSignal,e.bindTarget,()=>this.delete())),e.callbackSignal.registerListener({callback:()=>void this.computeValue()})}this.computeValue()}computeValue(){return St(this,null,function*(){let e=this.dependencySubscriptions.map(n=>n.callbackSignal.get()),t=yield this.computeFunction(e);this.callbackSignal.set(t),this.bindTarget!==void 0&&this.metadataManager.write(t,this.bindTarget,this.uuid)})}unsubscribe(){for(let e of this.dependencySubscriptions)e.unsubscribe();this.metadataManager.unsubscribe(this)}notify(e){}getDependencies(){return this.dependencies}delete(){this.deleted=!0;for(let e of this.dependencySubscriptions)e.deleted||e.delete();this.onDelete(),this.unsubscribe()}};var Vc=class{constructor(e,t,n,i,a){this.uuid=e,this.callbackSignal=t,this.metadataManager=n,this.bindTarget=i,this.onDelete=a,this.deleted=!1}unsubscribe(){this.metadataManager.unsubscribe(this)}update(e){this.metadataManager.write(e,this.bindTarget,this.uuid)}notify(e){this.callbackSignal.set(e)}getDependencies(){return[]}delete(){this.deleted=!0,this.onDelete()}};var CD=5,XU=5*60;function gh(r,e){return r===void 0||e===void 0||r.storageType!==e.storageType||r.storagePath!==e.storagePath?!1:FD(r.storageProp.toStringArray(),e.storageProp.toStringArray(),e.listenToChildren)}function FD(r,e,t){return ED(r,e)||dh(e,r)?!0:t&&dh(r,e)}function QU(r){return r===void 0?"undefined":`${r.storagePath}#${r.storageProp.toString()}`}var qc=class{constructor(){this.sources=new Map,this.defaultSource="CHANGE_THE_DEFAULT_SOURCE"}registerSource(e){this.sources.set(e.id,e)}setDefaultSource(e){if(this.sources.has(e))this.defaultSource=e;else throw new vr({errorLevel:"CRITICAL",effect:"can not set default source",cause:`Source "${e}" does not exist`})}unregisterSource(e){this.sources.delete(e.id)}getSource(e){return this.sources.get(e)}iterateSources(){return this.sources.keys()}subscribe(e,t,n,i){let a=new Vc(e,t,this,n,i);return this.subscribeSubscription(a),a}subscribeComputed(e,t,n,i,a,o){let c=new Uc(e,t,this,n,i,a,o);return this.checkForLoops(c),c.init(),this.subscribeSubscription(c),c}unsubscribe(e){if(e.bindTarget===void 0)return;let t=this.getSource(e.bindTarget.storageType);if(t===void 0)throw new vr({errorLevel:"ERROR",effect:"can not unsubscribe subscription",cause:`Source "${e.bindTarget.storageType}" does not exist`});let n=t.unsubscribe(e);n.subscriptions.length===0&&(n.inactive=!0)}subscribeSubscription(e){if(e.bindTarget===void 0)return;let t=this.getSource(e.bindTarget.storageType);if(t===void 0)throw new vr({errorLevel:"ERROR",effect:"can not subscribe subscription",cause:`Source "${e.bindTarget.storageType}" does not exist`});let n=t.subscribe(e);n.inactive=!1,n.cyclesSinceInactive=0,e.notify(t.readCacheItem(n,e.bindTarget.storageProp))}checkForLoops(e){for(let t of this.getAllSubscriptionsToDependencies(e))this.recCheckForLoops([e,t])}recCheckForLoops(e){let t=e.at(0),n=e.at(-1);if(!(n===void 0||t===void 0)){if(gh(t.bindTarget,n.bindTarget))throw new Pc({errorLevel:"ERROR",effect:"bind target dependency loop detected",cause:`the loop is as follows: ${e.map(i=>`"${QU(i.bindTarget)}"`).join(" -> ")}`,docs:["https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/guides/viewfields/#circular-dependencies"]});for(let i of this.getAllSubscriptionsToDependencies(n))this.recCheckForLoops([...e,i])}}getAllSubscriptionsToDependencies(e){return e.getDependencies().map(t=>this.getAllSubscriptionsToBindTarget(t.bindTarget)).flat()}getAllSubscriptionsToBindTarget(e){if(e===void 0)return[];let t=this.getCacheItemForBindTarget(e);if(!t)return[];let n=[];for(let i of t.subscriptions)gh(i.bindTarget,e)&&n.push(i);return t.subscriptions.filter(i=>gh(i.bindTarget,e))}getCacheItemForBindTarget(e){var t;return(t=this.getSource(e.storageType))==null?void 0:t.getCacheItemForStoragePath(e.storagePath)}cycle(){for(let e of this.sources.values()){let t=[];for(let n of e.iterateCacheItems()){if(e.onCycle(n),n.pendingInternalChange){try{e.syncExternal(n)}catch(i){console.warn("failed to update frontmatter",i)}n.pendingInternalChange=!1}n.cyclesSinceInternalChange+=1,n.inactive&&(n.cyclesSinceInactive+=1),n.cyclesSinceInactive>XU&&e.shouldDelete(n)&&t.push(n)}for(let n of t)e.deleteCache(n)}}write(e,t,n){let i=this.getSource(t.storageType);if(i===void 0)throw new vr({errorLevel:"ERROR",effect:"can not update metadata",cause:`Source "${t.storageType}" does not exist`});let a=i.updateCache(e,t);a.pendingInternalChange=!0,a.cyclesSinceInternalChange=0,this.notifyListeners(t,n)}read(e){let t=this.getSource(e.storageType);if(t===void 0)throw new vr({errorLevel:"ERROR",effect:"can not read metadata",cause:`Source "${e.storageType}" does not exist`});return t.readCache(e)}isCacheExternalWriteLocked(e){return e.cyclesSinceInternalChange<CD}notifyListeners(e,t){let n=this.getSource(e.storageType);if(n===void 0)throw new vr({errorLevel:"ERROR",effect:"can notify listeners metadata",cause:`Source "${e.storageType}" does not exist`});let i=n.getCacheItemForStoragePath(e.storagePath);if(i!==void 0){for(let a of i.subscriptions)if(!(t!==void 0&&t===a.uuid||a.bindTarget===void 0)&&FD(e.storageProp.toStringArray(),a.bindTarget.storageProp.toStringArray(),a.bindTarget.listenToChildren)){let o=n.readCache(a.bindTarget);a.notify(o)}}}notifyAllListeners(e,t){for(let n of t.subscriptions){if(n.bindTarget===void 0)continue;let i=e.readCache(n.bindTarget);n.notify(i)}}deleteCachesForStoragePath(e){for(let t of this.sources.values()){let n=t.getCacheItemForStoragePath(e);n!==void 0&&(n.subscriptions.forEach(i=>i.delete()),t.deleteCache(n))}}getDefaultCacheItem(){return{subscriptions:[],cyclesSinceInternalChange:CD+1,pendingInternalChange:!1,cyclesSinceInactive:0,inactive:!0}}onExternalUpdate(e,t,n){let i=e.getCacheItemForStoragePath(t);i===void 0||this.isCacheExternalWriteLocked(i)||(e.updateEntireCache(n,i),this.notifyAllListeners(e,i))}onStoragePathDeleted(e){this.deleteCachesForStoragePath(e)}onStoragePathRenamed(e,t){this.deleteCachesForStoragePath(e)}};var ZD=dr(gi());var Gr=dr(gi()),Mh=dr(ni());var UD=dr(gi()),Zn=dr(ni());var ml=dr(gi()),vi=dr(ni()),Pn=vi.P.sequence(vi.P.or(ml.P_UTILS.unicodeLetter(),vi.P.oneOf("_$")),vi.P.or(ml.P_UTILS.unicodeAlphanumeric(),vi.P.oneOf("-_$")).many()).map(r=>r[0]+r[1].join("")).describe("identifier"),OD=vi.P.sequenceMap((r,e)=>r+e.map(t=>t[0]+t[1]).join(""),Pn,vi.P.sequence(ml.P_UTILS.optionalWhitespace(),Pn).many()).describe("identifier with spaces"),aV=vi.P.string("\\").then(ml.P_UTILS.any()).map(r=>r==="'"?"'":r==="\\"?"\\":"\\"+r);function kD(r){return vi.P.or(aV,vi.P.noneOf(r+"\\")).many().map(e=>e.join("")).trim(vi.P.string(r))}var Xc=kD("'"),RD=kD('"'),Ys=vi.P.manyNotOf("{}[]#^|:?").box("file path");function jn(r,e){return{value:r,position:e}}var Ko=(t=>(t.OBJECT="object",t.ARRAY="array",t))(Ko||{}),Qc=class{constructor(e,t,n){this.parent=e,this.access=t,this.child=n}};function oV(r,e){return r[e]}function LD(r,e,t){r[e]=t}var Qo=class{constructor(e,t){if(this.type=e,this.prop=e==="object"?t:"",this.index=e==="array"?Number(t):0,Number.isNaN(this.index))throw new Error("can not access array with non number index")}get(e){if(this.type==="object"){if(typeof e!="object"||e==null)throw new Error("can not access property of non-object");return new Qc(e,this,oV(e,this.prop))}else{if(typeof e!="object"||e==null||!Array.isArray(e))throw new Error("can not access property of non-array");return new Qc(e,this,e[this.index])}}set(e,t){if(this.type==="object"){if(typeof e!="object"||e==null)throw new Error("can not access property of non-object");LD(e,this.prop,t)}else{if(typeof e!="object"||e==null||!Array.isArray(e))throw new Error("can not access property of non-array");e[this.index]=t}}create(e){if(this.type==="object"){if(typeof e!="object"||e==null)throw new Error("can not access property of non-object");LD(e,this.prop,void 0)}else{if(typeof e!="object"||e==null||!Array.isArray(e))throw new Error("can not access property of non-array");e[this.index]=void 0}}};var VD=Pn.node((r,e)=>({type:"object",prop:jn(r,e)})),Nh=Zn.P.or(UD.P_UTILS.digits().wrap(Zn.P.string("["),Zn.P.string("]")).node((r,e)=>({type:"array",prop:jn(r,e)})),RD.wrap(Zn.P.string("["),Zn.P.string("]")).node((r,e)=>({type:"object",prop:jn(r,e)}))),sV=Zn.P.or(Zn.P.sequenceMap(r=>({storagePath:void 0,listenToChildren:!1,storageProp:r}),Nh.atLeast(1)),Zn.P.sequenceMap((r,e)=>({storagePath:void 0,listenToChildren:!1,storageProp:[r,...e]}),VD,Nh.many())),uV=Zn.P.sequenceMap((r,e)=>[r,...e],VD,Nh.many()),Ah=Zn.P.sequenceMap((r,e)=>(r.storageProp=r.storageProp.concat(e.flat()),r),sV,Zn.P.string(".").then(uV).many()),fa=Zn.P.sequenceMap((r,e,t)=>(t.storageType=r,t.storagePath=e,t),Pn.describe("storage type").node(jn).skip(Zn.P.string("^").describe('storage type separator "^"')).optional(),Ys.describe("storage path").node(jn).skip(Zn.P.string("#").describe('storage/file path separator "#"')).optional(),Ah.describe("property path")).box("bind target");var yi=dr(gi()),cn=dr(ni());var pa=dr(ni()),Kc=dr(gi());var Eh=pa.P.regexp(/^[^()',]+/).describe("any character except parentheses, single quotation marks and commas"),lV=pa.P.or(Xc,Eh).node(jn),cV=pa.P.separateBy(lV,pa.P.string(",").describe('argument value separator ","').trim(Kc.P_UTILS.optionalWhitespace())),fV=pa.P.sequenceMap((r,e)=>({name:r,value:e}),Pn.node(jn),cV.trim(Kc.P_UTILS.optionalWhitespace()).wrap(pa.P.string("(").describe('argument value paren "("'),pa.P.string(")").describe('argument value paren ")"')).optional([])),dl=pa.P.separateBy(fV,pa.P.string(",").describe('argument separator ","').trim(Kc.P_UTILS.optionalWhitespace()));var pV=cn.P.string("\\").then(yi.P_UTILS.any()).map(r=>r==="["?"[":r==="]"?"]":r==="{"?"{":r==="}"?"}":r==="\\"?"\\":"\\"+r),ef=cn.P.sequenceMap((r,e)=>r+e.flat().join(""),cn.P.manyNotOf("{}[]\\"),cn.P.sequence(pV,cn.P.manyNotOf("{}[]\\")).many()).box("View Field Content"),mV=cn.P.sequenceMap((r,e)=>[r,...e.flat()],ef,cn.P.sequence(fa.wrapString("{","}"),ef).many()),dV=cn.P.sequenceMap((r,e,t)=>{let n=t===void 0?void 0:t[1];return{viewFieldType:r,writeToBindTarget:n,arguments:e,templateDeclaration:void 0}},Pn.node(jn).trim(yi.P_UTILS.optionalWhitespace()).optional().describe("input field type"),dl.trim(yi.P_UTILS.optionalWhitespace()).wrapString("(",")").trim(yi.P_UTILS.optionalWhitespace()).optional([]),cn.P.sequence(cn.P.string(":").trim(yi.P_UTILS.optionalWhitespace()),fa).trim(yi.P_UTILS.optionalWhitespace()).optional()),qD=cn.P.sequenceMap((r,e,t,n)=>n===void 0?{viewFieldType:void 0,writeToBindTarget:void 0,arguments:[],templateDeclaration:e}:(n.templateDeclaration=e,n),cn.P.string("VIEW"),mV.wrapString("[","]"),yi.P_UTILS.optionalWhitespace(),dV.wrapString("[","]").optional(),yi.P_UTILS.eof()),hV=cn.P.sequenceMap((r,e,t,n)=>(e!==void 0&&(r.listenToChildren=!0),{bindTarget:r,name:n}),fa.wrapString("{","}"),cn.P.string(" and children").optional(),cn.P.string(" as "),Pn),zD=cn.P.sequenceMap((r,e,t)=>({bindTargetMappings:r,writeToBindTarget:e,code:t}),hV.separateBy(yi.P_UTILS.whitespace()).skip(yi.P_UTILS.whitespace()),cn.P.string("save to ").then(fa.wrapString("{","}")).skip(yi.P_UTILS.whitespace()).optional(),cn.P.string("---").then(yi.P_UTILS.remaining()));var Th=dr(ni());var js=class{constructor(e,t){this.range=e,this.tokenClass=t}};var Ct=class r{static sequence(...e){return Th.P.sequenceMap((...t)=>t.flat(2).filter(n=>n!==void 0),...e)}static separateBy(e,t){return r.sequence(e,r.sequence(t,e).many()).optional([])}static highlight(e,t){return e.node((n,i)=>[new js(i,t)])}static highlightStr(e,t){return r.highlight(Th.P.string(e),t)}};var Ch=Ct.highlight(Pn,"ident"),tf=Ct.highlight(Pn,"keyword"),Fh=Ct.highlightStr(",","control"),rf=Ct.highlightStr("(","control"),nf=Ct.highlightStr(")","control"),Zs=Ct.highlightStr("[","control"),Js=Ct.highlightStr("]","control"),vV=Ct.highlight(Xc,"string"),yV=Ct.highlight(Eh,"ident"),bV=Mh.P.or(yV,vV),xV=Ct.separateBy(bV,Fh.trim(Gr.P_UTILS.optionalWhitespace())),wV=Ct.sequence(tf,Ct.sequence(rf,xV.trim(Gr.P_UTILS.optionalWhitespace()),nf).optional()),Ih=Ct.separateBy(wV,Fh.trim(Gr.P_UTILS.optionalWhitespace())),Xs=Ct.sequence(Ct.sequence(Ch,Ct.highlightStr("^","control")).optional(),Ct.sequence(Ct.highlight(Ys,"ident"),Ct.highlightStr("#","control")).optional(),Ct.highlight(Ah,"ident")),_V=Ct.sequence(tf.trim(Gr.P_UTILS.optionalWhitespace()),Ct.sequence(rf,Ih.trim(Gr.P_UTILS.optionalWhitespace()),nf).trim(Gr.P_UTILS.optionalWhitespace()).optional(),Ct.sequence(Ct.highlightStr(":","control").trim(Gr.P_UTILS.optionalWhitespace()),Xs).trim(Gr.P_UTILS.optionalWhitespace()).optional()),SV=Ct.sequence(tf.trim(Gr.P_UTILS.optionalWhitespace()).optional(),Ct.sequence(rf,Ih.trim(Gr.P_UTILS.optionalWhitespace()),nf).trim(Gr.P_UTILS.optionalWhitespace()).optional(),Ct.sequence(Ct.highlightStr(":","control").trim(Gr.P_UTILS.optionalWhitespace()),Xs).trim(Gr.P_UTILS.optionalWhitespace()).optional()),HD=Mh.P.or(Ct.sequence(Ct.highlightStr("INPUT","control"),Zs,Ch.trim(Gr.P_UTILS.optionalWhitespace()),Js.skip(Gr.P_UTILS.optionalWhitespace()),Zs,SV,Js),Ct.sequence(Ct.highlightStr("INPUT","control"),Zs,_V,Js)),$D=Ct.highlight(ef,"ident"),DV=Ct.sequence(Ct.highlightStr("{","string"),Xs,Ct.highlightStr("}","string")),NV=Ct.sequence($D,Ct.sequence(DV,$D).many()),AV=Ct.sequence(tf.trim(Gr.P_UTILS.optionalWhitespace()).optional(),Ct.sequence(rf,Ih.trim(Gr.P_UTILS.optionalWhitespace()).optional(),nf).trim(Gr.P_UTILS.optionalWhitespace()).optional(),Ct.sequence(Ct.highlightStr(":","control").trim(Gr.P_UTILS.optionalWhitespace()),Xs).trim(Gr.P_UTILS.optionalWhitespace()).optional()),GD=Ct.sequence(Ct.highlightStr("VIEW","control"),Zs,NV,Js,Ct.sequence(Zs.skip(Gr.P_UTILS.optionalWhitespace()),AV,Js).optional()),WD=Ct.sequence(Ct.highlightStr("BUTTON","control"),Zs,Ct.separateBy(Ch,Fh.trim(Gr.P_UTILS.optionalWhitespace())),Js);var es=class{constructor(e,t,n){this.str=e,this.highlights=t.filter(i=>i.range.from.index!==i.range.to.index),this.parsingError=n}getHighlights(){if(this.parsingError===void 0)return this.highlights;let e;return this.str[this.parsingError.parseFailure.furthest.index]===`
`?e={index:this.parsingError.parseFailure.furthest.index+1,column:1,line:this.parsingError.parseFailure.furthest.line+1}:e={index:this.parsingError.parseFailure.furthest.index+1,column:this.parsingError.parseFailure.furthest.column+1,line:this.parsingError.parseFailure.furthest.line},[new js({from:this.parsingError.parseFailure.furthest,to:e},"error")]}};var ao=(_=>(_.TOGGLE="toggle",_.SLIDER="slider",_.TEXT="text",_.TEXT_AREA="textArea",_.SELECT="select",_.MULTI_SELECT="multiSelect",_.DATE="date",_.TIME="time",_.DATE_PICKER="datePicker",_.NUMBER="number",_.SUGGESTER="suggester",_.EDITOR="editor",_.IMAGE_SUGGESTER="imageSuggester",_.PROGRESS_BAR="progressBar",_.INLINE_SELECT="inlineSelect",_.LIST="list",_.LIST_SUGGESTER="listSuggester",_.INLINE_LIST_SUGGESTER="inlineListSuggester",_.INLINE_LIST="inlineList",_.IMAGE_LIST_SUGGESTER="imageListSuggester",_.INVALID="invalid",_))(ao||{}),Zr=(S=>(S.CLASS="class",S.ADD_LABELS="addLabels",S.MIN_VALUE="minValue",S.MAX_VALUE="maxValue",S.STEP_SIZE="stepSize",S.OPTION="option",S.TITLE="title",S.OPTION_QUERY="optionQuery",S.SHOWCASE="showcase",S.ON_VALUE="onValue",S.OFF_VALUE="offValue",S.DEFAULT_VALUE="defaultValue",S.PLACEHOLDER="placeholder",S.USE_LINKS="useLinks",S.LIMIT="limit",S.MULTI_LINE="multiLine",S.ALLOW_OTHER="allowOther",S.INVALID="invalid",S))(Zr||{}),YD={toggle:{type:"toggle",allowInBlock:!0,allowInline:!0},slider:{type:"slider",allowInBlock:!0,allowInline:!0},text:{type:"text",allowInBlock:!0,allowInline:!0},textArea:{type:"textArea",allowInBlock:!0,allowInline:!0},select:{type:"select",allowInBlock:!0,allowInline:!1},multiSelect:{type:"multiSelect",allowInBlock:!0,allowInline:!1},date:{type:"date",allowInBlock:!0,allowInline:!0},time:{type:"time",allowInBlock:!0,allowInline:!0},datePicker:{type:"datePicker",allowInBlock:!0,allowInline:!0},number:{type:"number",allowInBlock:!0,allowInline:!0},suggester:{type:"suggester",allowInBlock:!0,allowInline:!0},editor:{type:"editor",allowInBlock:!0,allowInline:!1},imageSuggester:{type:"imageSuggester",allowInBlock:!0,allowInline:!1},progressBar:{type:"progressBar",allowInBlock:!0,allowInline:!1},inlineSelect:{type:"inlineSelect",allowInBlock:!0,allowInline:!0},list:{type:"list",allowInBlock:!0,allowInline:!1},listSuggester:{type:"listSuggester",allowInBlock:!0,allowInline:!1},inlineListSuggester:{type:"inlineListSuggester",allowInBlock:!0,allowInline:!0},inlineList:{type:"inlineList",allowInBlock:!0,allowInline:!0},imageListSuggester:{type:"imageListSuggester",allowInBlock:!0,allowInline:!1},invalid:{type:"invalid",allowInBlock:!1,allowInline:!1}};var fr={addLabels:{type:"addLabels",allowedFieldTypes:["slider","progressBar"],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},class:{type:"class",allowedFieldTypes:[],values:[[{name:"className",allowed:[],description:"the name of the css class to add"}]],allowMultiple:!0},defaultValue:{type:"defaultValue",allowedFieldTypes:[],values:[[{name:"value",allowed:[],description:""}]],allowMultiple:!1},maxValue:{type:"maxValue",allowedFieldTypes:["slider","progressBar"],values:[[{name:"value",allowed:["number"],description:"the maximally allowed value"}]],allowMultiple:!1},minValue:{type:"minValue",allowedFieldTypes:["slider","progressBar"],values:[[{name:"value",allowed:["number"],description:"the minimally allowed value"}]],allowMultiple:!1},stepSize:{type:"stepSize",allowedFieldTypes:["slider","progressBar"],values:[[{name:"value",allowed:["number"],description:"the step size for sliders"}]],allowMultiple:!1},offValue:{type:"offValue",allowedFieldTypes:["toggle"],values:[[{name:"value",allowed:[],description:"the value for the off state"}]],allowMultiple:!1},onValue:{type:"onValue",allowedFieldTypes:["toggle"],values:[[{name:"value",allowed:[],description:"the value for the off state"}]],allowMultiple:!1},option:{type:"option",allowedFieldTypes:["select","multiSelect","suggester","imageSuggester","inlineSelect","listSuggester","inlineListSuggester","imageListSuggester"],values:[[{name:"value",allowed:[],description:"the value and display name of the option"}],[{name:"value",allowed:[],description:"the value of the option"},{name:"name",allowed:[],description:"the display name of the option"}]],allowMultiple:!0},optionQuery:{type:"optionQuery",allowedFieldTypes:["suggester","imageSuggester","listSuggester","inlineListSuggester","imageListSuggester"],values:[[{name:"value",allowed:[],description:"the query for options"}]],allowMultiple:!0},placeholder:{type:"placeholder",allowedFieldTypes:["text","textArea","number","list","inlineList"],values:[[{name:"value",allowed:[],description:""}]],allowMultiple:!1},showcase:{type:"showcase",allowedFieldTypes:[],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},title:{type:"title",allowedFieldTypes:[],values:[[{name:"value",allowed:[],description:""}]],allowMultiple:!1},useLinks:{type:"useLinks",allowedFieldTypes:["suggester","listSuggester","inlineListSuggester"],values:[[],[{name:"value",allowed:["true","partial","false"],description:""}]],allowMultiple:!1},limit:{type:"limit",allowedFieldTypes:["text","textArea","list","inlineList"],values:[[{name:"value",allowed:["number"],description:"a character limit for text fields"}]],allowMultiple:!1},multiLine:{type:"multiLine",allowedFieldTypes:["list"],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},allowOther:{type:"allowOther",allowedFieldTypes:["suggester","listSuggester","inlineListSuggester"],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},invalid:{type:"invalid",allowedFieldTypes:[],values:[[]],allowMultiple:!0}},hl=(a=>(a.MATH="math",a.TEXT="text",a.LINK="link",a.IMAGE="image",a.INVALID="invalid",a))(hl||{}),Qs=(n=>(n.RENDER_MARKDOWN="renderMarkdown",n.HIDDEN="hidden",n.INVALID="invalid",n))(Qs||{}),af={renderMarkdown:{type:"renderMarkdown",allowedFieldTypes:["text"],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},hidden:{type:"hidden",allowedFieldTypes:[],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},invalid:{type:"invalid",allowedFieldTypes:[],values:[[]],allowMultiple:!0}},Bi=(t=>(t.INLINE="inline",t.BLOCK="block",t))(Bi||{}),of=8,Ks=(c=>(c.INPUT_FIELD="INPUT_FIELD",c.VIEW_FIELD="VIEW_FIELD",c.JS_VIEW_FIELD="JS_VIEW_FIELD",c.BUTTON_GROUP="BUTTON_GROUP",c.BUTTON="BUTTON",c.EMBED="EMBED",c.EXCLUDED="EXCLUDED",c))(Ks||{});function jD(r){return r==="INPUT_FIELD"||r==="VIEW_FIELD"||r==="BUTTON_GROUP"}var sf=class{constructor(e){this.plugin=e}highlightInputFieldDeclaration(e,t){return this.highlightWithParser(e,t,HD)}highlightViewFieldDeclaration(e,t){return this.highlightWithParser(e,t,GD)}highlightInlineButtonDeclaration(e,t){return this.highlightWithParser(e,t,WD)}highlight(e,t,n){if(t==="INPUT_FIELD")return this.highlightInputFieldDeclaration(e,n);if(t==="VIEW_FIELD")return this.highlightViewFieldDeclaration(e,n);if(t==="BUTTON_GROUP")return this.highlightInlineButtonDeclaration(e,n);throw new Error(`Unknown MDRCType ${t}`)}highlightBindTarget(e,t){return this.highlightWithParser(e,t,Xs)}highlightWithParser(e,t,n){try{return t?new es(e,Dn(n.trim(ZD.P_UTILS.optionalWhitespace()).thenEof(),e)):new es(e,Dn(n.thenEof(),e))}catch(i){return i instanceof fl?new es(e,[],i):(console.error(i),new es(e,[]))}}};var vn=(i=>(i.DEFAULT="default",i.PRIMARY="primary",i.DESTRUCTIVE="destructive",i.PLAIN="plain",i))(vn||{}),eu=(p=>(p.COMMAND="command",p.JS="js",p.OPEN="open",p.INPUT="input",p.SLEEP="sleep",p.TEMPLATER_CREATE_NOTE="templaterCreateNote",p.UPDATE_METADATA="updateMetadata",p.CREATE_NOTE="createNote",p.REPLACE_IN_NOTE="replaceInNote",p.REGEXP_REPLACE_IN_NOTE="regexpReplaceInNote",p.REPLACE_SELF="replaceSelf",p.INSERT_INTO_NOTE="insertIntoNote",p))(eu||{});var JD=dr(gi()),Jn=dr(ni());var EV=Jn.P.sequence(Ys,Jn.P.string("#").then(Jn.P.manyNotOf("[]#|^:")).optional(),Jn.P.string("|").then(Jn.P.manyNotOf("[]")).optional()),Bh=Jn.P.or(Jn.P.sequenceMap((r,e)=>({isEmbed:r!==void 0,target:e[0],block:e[1],alias:e[2],internal:!0}),Jn.P.string("!").optional(),EV.wrapString("[[","]]")),Jn.P.sequenceMap((r,e,t)=>{let n=!Hs(t);return{isEmbed:r!==void 0,target:t,block:void 0,alias:e,internal:n}},Jn.P.string("!").optional(),Jn.P.manyNotOf("[]").wrapString("[","]"),Jn.P.manyNotOf("()").wrapString("(",")"))),TV=Jn.P.separateBy(Bh,Jn.P.string(",").trim(JD.P_UTILS.optionalWhitespace())),rn=class r{static parseLink(e){return Dn(Bh.thenEof(),e)}static parseLinkList(e){return Dn(TV.thenEof(),e)}static isLink(e){return Bh.thenEof().tryParse(e).success}static urlToLink(e){return{isEmbed:!1,target:e.href,block:void 0,alias:e.hostname,internal:!1}}static parseLinkOrUrl(e){return Hs(e)?r.urlToLink(new URL(e)):r.parseLink(e)}static convertToLinkString(e){return r.isLink(e)?e:Hs(e)?`[${new URL(e).hostname}](${e})`:r.isLink(`[[${e}]]`)?`[[${e}]]`:""}};var gl=dr(gi()),oo=dr(ni());var QD=oo.P.sequenceMap((r,e)=>r===void 0?e:-e,oo.P.string("-").optional(),oo.P.or(oo.P.sequenceMap((r,e,t)=>Number(r+e+t),gl.P_UTILS.digits(),oo.P.string("."),gl.P_UTILS.digits()),gl.P_UTILS.digits().map(r=>Number(r)))).thenEof(),KD=oo.P.sequenceMap((r,e)=>r===void 0?e:-e,oo.P.string("-").optional(),gl.P_UTILS.digits().map(r=>Number(r))).thenEof();function bi(r){if(r.toLowerCase()==="null")return null;if(r==="true")return!0;if(r==="false")return!1;{let e=QD.tryParse(r);return e.success?e.value:r}}function Ba(r){return r===void 0||r===null?"":typeof r=="string"?r:typeof r=="boolean"?r?"true":"false":r.toString()}function so(r){return r===null||typeof r=="string"||typeof r=="boolean"||typeof r=="number"}function Pi(r){if(r!==void 0){if(so(r))return[r];if(typeof r=="object"&&Array.isArray(r))return r.filter(e=>so(e))}}function tu(r){if(typeof r=="number")return r;if(typeof r=="string"){let e=QD.tryParse(r);if(e.success)return e.value}}function ru(r){return so(r)?Ba(r):void 0}function uo(r){return so(r)?r:void 0}function uf(r,e){return Array.isArray(r)?r.map(t=>Ph(t,e)).filter(t=>t!=="").join(", "):Ph(r,e)}function Ph(r,e){return r==null?e?"":"null":typeof r=="function"?"<function>":typeof r=="object"||Array.isArray(r)?JSON.stringify(r):r.toString()}function eN(r,e){return Array.isArray(r)?r.map(t=>XD(t,e)).filter(t=>t!==""):XD(r,e)}function XD(r,e){return typeof r=="string"?rn.isLink(r)?rn.parseLink(r):Hs(r)?rn.urlToLink(new URL(r)):r:Ph(r,e)}var lf=class{constructor(e){this.plugin=e}createDefaultButtonConfig(){return{label:"This is a button",hidden:!1,class:"",tooltip:"",id:"",style:"default",actions:[]}}runButtonAction(e,t,n,i){return St(this,null,function*(){try{if(e.action)yield this.plugin.api.buttonActionRunner.runAction(e,e.action,t,n,i);else if(e.actions)for(let a of e.actions)yield this.plugin.api.buttonActionRunner.runAction(e,a,t,n,i);else console.warn("meta-bind | ButtonMDRC >> no action defined")}catch(a){console.warn("meta-bind | ButtonMDRC >> error while running action",a),this.plugin.internal.showNotice("meta-bind | Error while running button action. Check the console for details.")}})}createDefaultAction(e){if(e==="command")return{type:"command",command:""};if(e==="open")return{type:"open",link:""};if(e==="js")return{type:"js",file:"",args:{}};if(e==="input")return{type:"input",str:""};if(e==="sleep")return{type:"sleep",ms:0};if(e==="templaterCreateNote")return{type:"templaterCreateNote",templateFile:"",folderPath:"/",fileName:"",openNote:!0};if(e==="updateMetadata")return{type:"updateMetadata",bindTarget:"",evaluate:!1,value:""};if(e==="createNote")return{type:"createNote",folderPath:"/",fileName:"Untitled",openNote:!0};if(e==="replaceInNote")return{type:"replaceInNote",fromLine:0,toLine:0,replacement:"Replacement text"};if(e==="replaceSelf")return{type:"replaceSelf",replacement:"Replacement text"};if(e==="regexpReplaceInNote")return{type:"regexpReplaceInNote",regexp:"([A-Z])\\w+",replacement:"Replacement text"};if(e==="insertIntoNote")return{type:"insertIntoNote",line:0,value:"Some text"};throw new Error(`Unknown button action type: ${e}`)}runAction(e,t,n,i,a){return St(this,null,function*(){if(t.type==="command"){yield this.runCommandAction(t);return}else if(t.type==="js"){yield this.runJSAction(e,t,n);return}else if(t.type==="open"){yield this.runOpenAction(t,n);return}else if(t.type==="input"){yield this.runInputAction(t);return}else if(t.type==="sleep"){yield this.runSleepAction(t);return}else if(t.type==="templaterCreateNote"){yield this.runTemplaterCreateNoteAction(t);return}else if(t.type==="updateMetadata"){yield this.runUpdateMetadataAction(t,n);return}else if(t.type==="createNote"){yield this.runCreateNoteAction(t);return}else if(t.type==="replaceInNote"){yield this.runReplaceInNoteAction(t,n);return}else if(t.type==="replaceSelf"){yield this.runReplaceSelfAction(t,n,i,a);return}else if(t.type==="regexpReplaceInNote"){yield this.runRegexpReplaceInNotAction(t,n);return}else if(t.type==="insertIntoNote"){yield this.runInsertIntoNoteAction(t,n);return}throw new Error("Unknown button action type")})}runCommandAction(e){return St(this,null,function*(){this.plugin.internal.executeCommandById(e.command)})}runJSAction(e,t,n){return St(this,null,function*(){let i={buttonConfig:e,args:t.args};(yield this.plugin.internal.jsEngineRunFile(t.file,n,i))()})}runOpenAction(e,t){return St(this,null,function*(){var i;let n=rn.parseLinkOrUrl(e.link);n.internal?this.plugin.internal.openFile(n.target,t,(i=e.newTab)!=null?i:!1):Lc(n.target)})}runInputAction(e){return St(this,null,function*(){let t=document.activeElement;t&&t instanceof HTMLInputElement&&(t.setRangeText(e.str,t.selectionStart,t.selectionEnd,"end"),t.dispatchEvent(new Event("input",{bubbles:!0})))})}runSleepAction(e){return St(this,null,function*(){yield new Promise(t=>setTimeout(t,e.ms))})}runTemplaterCreateNoteAction(e){return St(this,null,function*(){yield this.plugin.internal.createNoteWithTemplater(e.templateFile,e.folderPath,e.fileName)})}runUpdateMetadataAction(e,t){return St(this,null,function*(){let n=this.plugin.api.bindTargetParser.fromStringAndValidate(e.bindTarget,t);if(e.evaluate){let i=new Function("x",`return ${e.value};`);this.plugin.api.updateMetadata(n,i)}else this.plugin.api.setMetadata(n,bi(e.value))})}runCreateNoteAction(e){return St(this,null,function*(){var t,n;yield this.plugin.internal.createFile((t=e.folderPath)!=null?t:"",e.fileName,"md",(n=e.openNote)!=null?n:!1)})}runReplaceInNoteAction(e,t){return St(this,null,function*(){let n=e.templater?yield this.plugin.internal.evaluateTemplaterTemplate(e.replacement,t):e.replacement,a=(yield this.plugin.internal.readFilePath(t)).split(`
`);a=[...a.slice(0,e.fromLine-1),n,...a.slice(e.toLine)],yield this.plugin.internal.writeFilePath(t,a.join(`
`))})}runReplaceSelfAction(e,t,n,i){return St(this,null,function*(){if(n)throw new Error("Replace self action not supported for inline buttons");if(i===void 0)throw new Error("Position of the button in the note is unknown");let a=e.templater?yield this.plugin.internal.evaluateTemplaterTemplate(e.replacement,t):e.replacement,c=(yield this.plugin.internal.readFilePath(t)).split(`
`);c=[...c.slice(0,i.lineStart),a,...c.slice(i.lineEnd+1)],yield this.plugin.internal.writeFilePath(t,c.join(`
`))})}runRegexpReplaceInNotAction(e,t){return St(this,null,function*(){if(e.regexp==="")throw new Error("Regexp cannot be empty");let n=yield this.plugin.internal.readFilePath(t);n=n.replace(new RegExp(e.regexp,"g"),e.replacement),yield this.plugin.internal.writeFilePath(t,n)})}runInsertIntoNoteAction(e,t){return St(this,null,function*(){let i=(yield this.plugin.internal.readFilePath(t)).split(`
`),a=e.templater?yield this.plugin.internal.evaluateTemplaterTemplate(e.value,t):e.value;i=[...i.slice(0,e.line-1),a,...i.slice(e.line-1)],yield this.plugin.internal.writeFilePath(t,i.join(`
`))})}};var ii=class{constructor(){this.mounted=!1,this.targetEl=void 0,this.onUnmountCbs=[]}isMounted(){return this.mounted}getTargetEl(){return this.targetEl}mount(e){if(this.mounted||this.targetEl)throw new Error("Mountable is already mounted");this.mounted=!0,this.targetEl=e,this.onMount(e)}unmount(){if(!this.mounted||!this.targetEl)throw new Error("Mountable is not mounted");this.mounted=!1,this.onUnmount(this.targetEl);for(let e of this.onUnmountCbs)e();this.targetEl=void 0}registerUnmountCb(e){this.onUnmountCbs.push(e)}};var On=class extends ii{constructor(e,t,n){super(),this.plugin=e,this.filePath=n,this.uuid=t}getUuid(){return this.uuid}getFilePath(){return this.filePath}};function Ke(){}function MV(r,e){for(let t in e)r[t]=e[t];return r}function Oh(r){return r()}function pf(){return Object.create(null)}function Et(r){r.forEach(Oh)}function ts(r){return typeof r=="function"}function nt(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}var ff;function Oi(r,e){return r===e?!0:(ff||(ff=document.createElement("a")),ff.href=e,r===ff.href)}function tN(r){return Object.keys(r).length===0}function Pa(r,e,t,n){if(r){let i=rN(r,e,t,n);return r[0](i)}}function rN(r,e,t,n){return r[1]&&n?MV(t.ctx.slice(),r[1](n(e))):t.ctx}function Oa(r,e,t,n){if(r[2]&&n){let i=r[2](n(t));if(e.dirty===void 0)return i;if(typeof i=="object"){let a=[],o=Math.max(e.dirty.length,i.length);for(let c=0;c<o;c+=1)a[c]=e.dirty[c]|i[c];return a}return e.dirty|i}return e.dirty}function ka(r,e,t,n,i,a){if(i){let o=rN(e,t,n,a);r.p(o,i)}}function Ra(r){if(r.ctx.length>32){let e=[],t=r.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}var vl=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;var mf=class r{constructor(e){tn(this,"_listeners","WeakMap"in vl?new WeakMap:void 0);tn(this,"_observer");tn(this,"options");this.options=e}observe(e,t){return this._listeners.set(e,t),this._getObserver().observe(e,this.options),()=>{this._listeners.delete(e),this._observer.unobserve(e)}}_getObserver(){var e;return(e=this._observer)!=null?e:this._observer=new ResizeObserver(t=>{var n;for(let i of t)r.entries.set(i.target,i),(n=this._listeners.get(i.target))==null||n(i)})}};mf.entries="WeakMap"in vl?new WeakMap:void 0;var nN=!1;function iN(){nN=!0}function aN(){nN=!1}function ae(r,e){r.appendChild(e)}function ai(r,e,t){let n=oN(r);if(!n.getElementById(e)){let i=re("style");i.id=e,i.textContent=t,IV(n,i)}}function oN(r){if(!r)return document;let e=r.getRootNode?r.getRootNode():r.ownerDocument;return e&&e.host?e:r.ownerDocument}function IV(r,e){return ae(r.head||r,e),e.sheet}function Z(r,e,t){r.insertBefore(e,t||null)}function j(r){r.parentNode&&r.parentNode.removeChild(r)}function Qt(r,e){for(let t=0;t<r.length;t+=1)r[t]&&r[t].d(e)}function re(r){return document.createElement(r)}function xi(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function je(r){return document.createTextNode(r)}function xe(){return je(" ")}function Mr(){return je("")}function Pe(r,e,t,n){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}function z(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function yn(r){return r===""?null:+r}function sN(r){return Array.from(r.childNodes)}function mt(r,e){e=""+e,r.data!==e&&(r.data=e)}function Je(r,e){r.value=e==null?"":e}function uN(r,e,t,n){t==null?r.style.removeProperty(e):r.style.setProperty(e,t,n?"important":"")}function Jr(r,e,t){for(let n=0;n<r.options.length;n+=1){let i=r.options[n];if(i.__value===e){i.selected=!0;return}}(!t||e!==void 0)&&(r.selectedIndex=-1)}function wi(r){let e=r.querySelector(":checked");return e&&e.__value}function Ut(r,e,t){r.classList.toggle(e,!!t)}function df(r,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(r,{detail:e,bubbles:t,cancelable:n})}function lN(r){let e={};return r.childNodes.forEach(t=>{e[t.slot||"default"]=!0}),e}var lo;function La(r){lo=r}function hf(){if(!lo)throw new Error("Function called outside component initialization");return lo}function Ki(r){hf().$$.on_mount.push(r)}function kh(r){hf().$$.on_destroy.push(r)}function Rh(){let r=hf();return(e,t,{cancelable:n=!1}={})=>{let i=r.$$.callbacks[e];if(i){let a=df(e,t,{cancelable:n});return i.slice().forEach(o=>{o.call(r,a)}),!a.defaultPrevented}return!0}}function cN(r,e){let t=r.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}var rs=[];var Nn=[],iu=[],Uh=[],LV=Promise.resolve(),Vh=!1;function fN(){Vh||(Vh=!0,LV.then(gf))}function bn(r){iu.push(r)}function ns(r){Uh.push(r)}var Lh=new Set,nu=0;function gf(){if(nu!==0)return;let r=lo;do{try{for(;nu<rs.length;){let e=rs[nu];nu++,La(e),UV(e.$$)}}catch(e){throw rs.length=0,nu=0,e}for(La(null),rs.length=0,nu=0;Nn.length;)Nn.pop()();for(let e=0;e<iu.length;e+=1){let t=iu[e];Lh.has(t)||(Lh.add(t),t())}iu.length=0}while(rs.length);for(;Uh.length;)Uh.pop()();Vh=!1,Lh.clear(),La(r)}function UV(r){if(r.fragment!==null){r.update(),Et(r.before_update);let e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(bn)}}function pN(r){let e=[],t=[];iu.forEach(n=>r.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),iu=e}var vf=new Set,is;function Bt(){is={r:0,c:[],p:is}}function Pt(){is.r||Et(is.c),is=is.p}function ne(r,e){r&&r.i&&(vf.delete(r),r.i(e))}function ue(r,e,t,n){if(r&&r.o){if(vf.has(r))return;vf.add(r),is.c.push(()=>{vf.delete(r),n&&(t&&r.d(1),n())}),r.o(e)}else n&&n()}function ft(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function mN(r,e){r.d(1),e.delete(r.key)}function dN(r,e){ue(r,1,1,()=>{e.delete(r.key)})}function yf(r,e,t,n,i,a,o,c,u,s,l,f){let p=r.length,m=a.length,h=p,d={};for(;h--;)d[r[h].key]=h;let v=[],y=new Map,S=new Map,b=[];for(h=m;h--;){let T=f(i,a,h),A=t(T),N=o.get(A);N?n&&b.push(()=>N.p(T,e)):(N=s(A,T),N.c()),y.set(A,v[h]=N),A in d&&S.set(A,Math.abs(h-d[A]))}let w=new Set,_=new Set;function x(T){ne(T,1),T.m(c,l),o.set(T.key,T),l=T.first,m--}for(;p&&m;){let T=v[m-1],A=r[p-1],N=T.key,E=A.key;T===A?(l=T.first,p--,m--):y.has(E)?!o.has(N)||w.has(N)?x(T):_.has(E)?p--:S.get(N)>S.get(E)?(_.add(N),x(T)):(w.add(E),p--):(u(A,o),p--)}for(;p--;){let T=r[p];y.has(T.key)||u(T,o)}for(;m;)x(v[m-1]);return Et(b),v}var VV=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],qV=new Set([...VV]);function as(r,e,t){let n=r.$$.props[e];n!==void 0&&(r.$$.bound[n]=t,t(r.$$.ctx[n]))}function Re(r){r&&r.c()}function Oe(r,e,t){let{fragment:n,after_update:i}=r.$$;n&&n.m(e,t),bn(()=>{let a=r.$$.on_mount.map(Oh).filter(ts);r.$$.on_destroy?r.$$.on_destroy.push(...a):Et(a),r.$$.on_mount=[]}),i.forEach(bn)}function ke(r,e){let t=r.$$;t.fragment!==null&&(pN(t.after_update),Et(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function $V(r,e){r.$$.dirty[0]===-1&&(rs.push(r),fN(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function it(r,e,t,n,i,a,o=null,c=[-1]){let u=lo;La(r);let s=r.$$={fragment:null,ctx:[],props:a,update:Ke,not_equal:i,bound:pf(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:pf(),dirty:c,skip_bound:!1,root:e.target||u.$$.root};o&&o(s.root);let l=!1;if(s.ctx=t?t(r,e.props||{},(f,p,...m)=>{let h=m.length?m[0]:p;return s.ctx&&i(s.ctx[f],s.ctx[f]=h)&&(!s.skip_bound&&s.bound[f]&&s.bound[f](h),l&&$V(r,f)),p}):[],s.update(),l=!0,Et(s.before_update),s.fragment=n?n(s.ctx):!1,e.target){if(e.hydrate){iN();let f=sN(e.target);s.fragment&&s.fragment.l(f),f.forEach(j)}else s.fragment&&s.fragment.c();e.intro&&ne(r.$$.fragment),Oe(r,e.target,e.anchor),aN(),gf()}La(u)}var HV;typeof HTMLElement=="function"&&(HV=class extends HTMLElement{constructor(e,t,n){super();tn(this,"$$ctor");tn(this,"$$s");tn(this,"$$c");tn(this,"$$cn",!1);tn(this,"$$d",{});tn(this,"$$r",!1);tn(this,"$$p_d",{});tn(this,"$$l",{});tn(this,"$$l_u",new Map);this.$$ctor=e,this.$$s=t,n&&this.attachShadow({mode:"open"})}addEventListener(e,t,n){if(this.$$l[e]=this.$$l[e]||[],this.$$l[e].push(t),this.$$c){let i=this.$$c.$on(e,t);this.$$l_u.set(t,i)}super.addEventListener(e,t,n)}removeEventListener(e,t,n){if(super.removeEventListener(e,t,n),this.$$c){let i=this.$$l_u.get(t);i&&(i(),this.$$l_u.delete(t))}}connectedCallback(){return St(this,null,function*(){if(this.$$cn=!0,!this.$$c){let e=function(a){return()=>{let o;return{c:function(){o=re("slot"),a!=="default"&&z(o,"name",a)},m:function(s,l){Z(s,o,l)},d:function(s){s&&j(o)}}}};if(yield Promise.resolve(),!this.$$cn||this.$$c)return;let t={},n=lN(this);for(let a of this.$$s)a in n&&(t[a]=[e(a)]);for(let a of this.attributes){let o=this.$$g_p(a.name);o in this.$$d||(this.$$d[o]=qh(o,a.value,this.$$p_d,"toProp"))}for(let a in this.$$p_d)!(a in this.$$d)&&this[a]!==void 0&&(this.$$d[a]=this[a],delete this[a]);this.$$c=new this.$$ctor({target:this.shadowRoot||this,props:_t(Me({},this.$$d),{$$slots:t,$$scope:{ctx:[]}})});let i=()=>{this.$$r=!0;for(let a in this.$$p_d)if(this.$$d[a]=this.$$c.$$.ctx[this.$$c.$$.props[a]],this.$$p_d[a].reflect){let o=qh(a,this.$$d[a],this.$$p_d,"toAttribute");o==null?this.removeAttribute(this.$$p_d[a].attribute||a):this.setAttribute(this.$$p_d[a].attribute||a,o)}this.$$r=!1};this.$$c.$$.after_update.push(i),i();for(let a in this.$$l)for(let o of this.$$l[a]){let c=this.$$c.$on(a,o);this.$$l_u.set(o,c)}this.$$l={}}})}attributeChangedCallback(e,t,n){var i;this.$$r||(e=this.$$g_p(e),this.$$d[e]=qh(e,n,this.$$p_d,"toProp"),(i=this.$$c)==null||i.$set({[e]:this.$$d[e]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{this.$$cn||(this.$$c.$destroy(),this.$$c=void 0)})}$$g_p(e){return Object.keys(this.$$p_d).find(t=>this.$$p_d[t].attribute===e||!this.$$p_d[t].attribute&&t.toLowerCase()===e)||e}});function qh(r,e,t,n){var a;let i=(a=t[r])==null?void 0:a.type;if(e=i==="Boolean"&&typeof e!="boolean"?e!=null:e,!n||!t[r])return e;if(n==="toAttribute")switch(i){case"Object":case"Array":return e==null?null:JSON.stringify(e);case"Boolean":return e?"":null;case"Number":return e==null?null:e;default:return e}else switch(i){case"Object":case"Array":return e&&JSON.parse(e);case"Boolean":return e;case"Number":return e!=null?+e:e;default:return e}}var et=class{constructor(){tn(this,"$$");tn(this,"$$set")}$destroy(){ke(this,1),this.$destroy=Ke}$on(e,t){if(!ts(t))return Ke;let n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{let i=n.indexOf(t);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!tN(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}};var hN="4";typeof window!="undefined"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(hN);function zh(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function c(l){try{s(n.next(l))}catch(f){o(f)}}function u(l){try{s(n.throw(l))}catch(f){o(f)}}function s(l){l.done?a(l.value):i(l.value).then(c,u)}s((n=n.apply(r,e||[])).next())})}function GV(r){ai(r,"svelte-12xcpmj","button.svelte-12xcpmj{gap:var(--size-4-1)}.mod-plain.svelte-12xcpmj{background:none;box-shadow:none;border:none;color:var(--text-muted)}.mod-plain.svelte-12xcpmj:hover{color:var(--text-normal)}.disabled.svelte-12xcpmj{opacity:0.6}")}function WV(r){let e,t,n,i;return{c(){e=re("button"),t=je(r[3]),z(e,"class","mb-button-inner svelte-12xcpmj"),z(e,"aria-label",r[2]),e.disabled=r[0],Ut(e,"mod-cta",r[1]==="primary"),Ut(e,"mod-warning",r[1]==="destructive"),Ut(e,"mod-plain",r[1]==="plain"),Ut(e,"disabled",r[0]),Ut(e,"mb-error",r[4])},m(a,o){Z(a,e,o),ae(e,t),n||(i=Pe(e,"click",r[7]),n=!0)},p(a,[o]){o&8&&mt(t,a[3]),o&4&&z(e,"aria-label",a[2]),o&1&&(e.disabled=a[0]),o&2&&Ut(e,"mod-cta",a[1]==="primary"),o&2&&Ut(e,"mod-warning",a[1]==="destructive"),o&2&&Ut(e,"mod-plain",a[1]==="plain"),o&1&&Ut(e,"disabled",a[0]),o&16&&Ut(e,"mb-error",a[4])},i:Ke,o:Ke,d(a){a&&j(e),n=!1,i()}}}function YV(r,e,t){let{variant:n="default"}=e,{disabled:i=!1}=e,{tooltip:a=""}=e,{label:o=""}=e,{error:c=!1}=e,{onClick:u=()=>zh(void 0,void 0,void 0,function*(){})}=e;function s(){return zh(this,void 0,void 0,function*(){if(!i){t(0,i=!0);try{yield u()}catch(f){console.warn("failed to run button component on click",f)}finally{t(0,i=!1)}}})}let l=()=>s();return r.$$set=f=>{"variant"in f&&t(1,n=f.variant),"disabled"in f&&t(0,i=f.disabled),"tooltip"in f&&t(2,a=f.tooltip),"label"in f&&t(3,o=f.label),"error"in f&&t(4,c=f.error),"onClick"in f&&t(6,u=f.onClick)},[i,n,a,o,c,s,u,l]}var $h=class extends et{constructor(e){super(),it(this,e,YV,WV,nt,{variant:1,disabled:0,tooltip:2,label:3,error:4,onClick:6},GV)}},bf=$h;var co=class extends ii{constructor(e,t,n,i,a,o){super(),this.plugin=e,this.config=t,this.filePath=n,this.inline=i==="inline",this.position=a,this.isPreview=o}onMount(e){vt.empty(e),vt.removeAllClasses(e),vt.addClasses(e,["mb-button",this.inline?"mb-button-inline":"mb-button-block"]),!(!this.inline&&!this.isPreview&&(this.config.id&&this.plugin.api.buttonManager.addButton(this.filePath,this.config),this.config.hidden))&&(this.config.class&&vt.addClasses(e,this.config.class.split(" ").filter(t=>t!=="")),this.buttonComponent=new bf({target:e,props:{variant:this.config.style,label:this.config.label,tooltip:TD(this.config.tooltip)?this.config.tooltip:this.config.label,onClick:()=>St(this,null,function*(){yield this.plugin.api.buttonActionRunner.runButtonAction(this.config,this.filePath,this.inline,this.position)})}}))}onUnmount(){var e,t;(e=this.buttonComponent)==null||e.$destroy(),!this.inline&&!this.isPreview&&(t=this.config)!=null&&t.id&&this.plugin.api.buttonManager.removeButton(this.filePath,this.config.id)}};var Kt=class{constructor(e){this.subject=e,this.errors=[]}add(e){e instanceof Error?(e instanceof gn?this.errors.push(e):this.otherError=e,console.warn(e)):console.warn("[MB_ERROR_CONTAINER] received invalid error type",e)}merge(e){return this.errors=this.errors.concat(e.errors),e.otherError&&(this.otherError=e.otherError),this}hasErrors(){if(this.otherError)return!0;for(let e of this.errors)if(e.errorLevel==="ERROR"||e.errorLevel==="CRITICAL")return!0;return!1}hasCriticalErrors(){if(this.otherError)return!0;for(let e of this.errors)if(e.errorLevel==="CRITICAL")return!0;return!1}hasWarnings(){for(let e of this.errors)if(e.errorLevel==="WARNING")return!0;return!1}isEmpty(){return this.errors.length===0&&!this.otherError}getErrors(){let e=this.errors.filter(t=>t.errorLevel==="ERROR"||t.errorLevel==="CRITICAL");return this.otherError?e.concat([this.otherError]):e}getWarnings(){return this.errors.filter(e=>e.errorLevel==="WARNING")}};var xf=class extends On{constructor(e,t,n,i,a,o){super(e,t,n),this.declaration=i,this.position=a,this.isPreview=o,this.errorCollection=new Kt(this.getUuid())}onMount(e){if(console.debug("meta-bind | ButtonBase >> mount",this.declaration.declarationString),vt.removeAllClasses(e),!this.declaration.config||!this.declaration.errorCollection.isEmpty()){this.plugin.internal.createErrorIndicator(e,{errorCollection:this.declaration.errorCollection,errorText:"Errors caused the creation of the field to fail. Sometimes one error only occurs because of another.",warningText:"Warnings will not cause the creation of a field to fail, but they indicate that a part of the declaration was invalid or uses deprecated functionality.",code:this.declaration.declarationString});return}this.buttonField=new co(this.plugin,this.declaration.config,this.getFilePath(),"block",this.position,this.isPreview),this.buttonField.mount(e)}onUnmount(e){var t;console.debug("meta-bind | ButtonBase >> destroy",this.declaration.declarationString),(t=this.buttonField)==null||t.unmount(),ti(e,"button")}};var wf=class{constructor(e){this.value=e,this.count=1}getValue(){return this.value}increment(){return this.count+=1,this.count}decrement(){return this.count-=1,this.count}getCount(){return this.count}isEmpty(){return this.count===0}};var _f=class{constructor(e){this.plugin=e,this.buttons=new Map,this.buttonLoadListeners=new Map,this.buttonTemplates=new Map}setButtonTemplates(e){let t=new Set,n=new Kt("ButtonManager");this.buttonTemplates.clear();for(let i of e)i.id===void 0||i.id===""?n.add(new Xo({errorLevel:"ERROR",cause:`Button with label "${i.label}" has no id, but button templates must have an id.`,effect:"Button templates could not be saved."})):t.has(i.id)?n.add(new Xo({errorLevel:"ERROR",cause:`Button id "${i.id}" is not unique. The same id is used by multiple buttons.`,effect:"Button templates could not be saved."})):(t.add(i.id),this.buttonTemplates.set(i.id,i));return n.hasErrors()&&this.buttonTemplates.clear(),n}registerButtonLoadListener(e,t,n){let i=this.getButton(e,t);i&&n(i),this.buttonLoadListeners.has(e)||this.buttonLoadListeners.set(e,new Map);let a=this.buttonLoadListeners.get(e);a.has(t)||a.set(t,new Map);let o=a.get(t),c=Tr();return o.set(c,n),()=>this.removeButtonLoadListener(e,t,c)}notifyButtonLoadListeners(e,t){let n=this.getButton(e,t);if(!n)throw new Error(`ButtonManager | button with id ${t} does not exist`);let i=this.buttonLoadListeners.get(e);if(!i)return;let a=i.get(t);if(a)for(let[o,c]of a)c(n)}removeButtonLoadListener(e,t,n){let i=this.buttonLoadListeners.get(e);if(!i)return;let a=i.get(t);a&&(a.delete(n),a.size===0&&i.delete(t),i.size===0&&this.buttonLoadListeners.delete(e))}addButton(e,t){if(t.id===void 0||t.id==="")throw new Error("ButtonManager | button id is undefined");if(this.buttonTemplates.has(t.id))throw new Error(`ButtonManager | button with id "${t.id}" already exists in the button templates`);this.buttons.has(e)||this.buttons.set(e,new Map),this.buttons.get(e).set(t.id,new wf(t)),this.notifyButtonLoadListeners(e,t.id)}getButton(e,t){var i;if(this.buttonTemplates.has(t))return this.buttonTemplates.get(t);let n=this.buttons.get(e);if(n)return(i=n.get(t))==null?void 0:i.getValue()}removeButton(e,t){var i,a;let n=this.buttons.get(e);n&&((i=n.get(t))==null||i.decrement(),(a=n.get(t))!=null&&a.isEmpty()&&n.delete(t),n.size===0&&this.buttons.delete(e))}};var Sf=class extends ii{constructor(e,t,n,i,a){super(),this.plugin=e,this.referencedIds=t,this.filePath=n,this.renderChildType=i,this.notePosition=a}renderInitialButton(e,t){return vt.removeAllClasses(e),vt.addClasses(e,["mb-button",this.renderChildType==="inline"?"mb-button-inline":"mb-button-block"]),new bf({target:e,props:{variant:"default",label:"Button ID not Found",tooltip:`No button with id '${t}' found`,error:!0,onClick:()=>St(this,null,function*(){})}})}onMount(e){vt.empty(e),vt.addClasses(e,["mb-button-group",this.renderChildType==="inline"?"mb-button-group-inline":"mb-button-group-block"]);for(let t of this.referencedIds){let n=vt.createElement(e,"span"),i=this.renderInitialButton(n,t),a,o=this.plugin.api.buttonManager.registerButtonLoadListener(this.filePath,t,c=>{i==null||i.$destroy(),a=new co(this.plugin,c,this.filePath,this.renderChildType,this.notePosition,!1),a.mount(n)});this.registerUnmountCb(()=>{i==null||i.$destroy(),a==null||a.unmount(),o()})}}onUnmount(e){vt.empty(e)}};var Df=class extends On{constructor(e,t,n,i,a,o){super(e,t,n),this.declaration=i,this.errorCollection=new Kt(this.getUuid()),this.errorCollection.merge(i.errorCollection),this.renderChildType=a,this.position=o}onMount(e){if(console.debug("meta-bind | InlineButtonBase >> mount",this.declaration),vt.removeAllClasses(e),!this.declaration.errorCollection.isEmpty()){this.plugin.internal.createErrorIndicator(e,{errorCollection:this.declaration.errorCollection,errorText:"Errors caused the creation of the field to fail. Sometimes one error only occurs because of another.",warningText:"Warnings will not cause the creation of a field to fail, but they indicate that a part of the declaration was invalid or uses deprecated functionality.",code:this.declaration.declarationString});return}this.buttonField=new Sf(this.plugin,this.declaration.referencedButtonIds,this.getFilePath(),this.renderChildType,this.position),this.buttonField.mount(e)}onUnmount(e){var t;console.debug("meta-bind | InlineButtonBase >> destroy",this.declaration),(t=this.buttonField)==null||t.unmount(),ti(e,"inline button")}};var kr=class{static linkToInputField(e){return`https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/reference/inputfields/${e.toLowerCase()}/`}static linkToInputFieldArgument(e){return`https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/reference/inputfieldarguments/${e.toLowerCase()}/`}static linkToViewField(e){return`https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/reference/viewfields/${e.toLowerCase()}/`}static linkToViewFieldArgument(e){return`https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/reference/viewfieldarguments/${e.toLowerCase()}/`}static linkToInputFields(){return"https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/guides/inputfields/"}static linkToViewFields(){return"https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/guides/viewfields/"}static linkToButtons(){return"https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/guides/buttons/#button-configuration"}static linkToButtonConfig(){return"https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/guides/buttons/#button-configuration"}static linkToSearch(e){return`https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/?s=${encodeURIComponent(e)}`}static linkToHome(){return"https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/"}static linkToGithub(){return"https://github.com/mProjectsCode/obsidian-meta-bind-plugin"}static linkToIssues(){return"https://github.com/mProjectsCode/obsidian-meta-bind-plugin/issues"}static linkToCanaryBuilds(){return"https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/guides/installation/#canary-builds"}static open(e){Lc(e)}};var Nf=class extends On{constructor(e,t,n,i,a){super(e,t,n),this.renderChildType=i,this.declaration=a,this.declarationString=a.declarationString,this.errorCollection=new Kt(this.getUuid()),this.errorCollection.merge(a.errorCollection)}hasArgument(e){return this.getArguments(e).length>0}getArgument(e){return this.getArguments(e).at(0)}getArguments(e){if(this.declaration.errorCollection.hasErrors())throw new vr({errorLevel:"CRITICAL",effect:"can not retrieve arguments",cause:"inputFieldDeclaration has errors"});return this.declaration.argumentContainer.getAll(e)}getBindTarget(){return this.declaration.bindTarget}shouldAddCardContainer(){let e=this.declaration.inputFieldType==="select"||this.declaration.inputFieldType==="multiSelect"||this.declaration.inputFieldType==="list",t=this.hasArgument("showcase")||this.hasArgument("title");return this.renderChildType==="block"&&(e||t)}createContainer(e){if(this.shouldAddCardContainer()){let t=vt.createElement(e,"div");vt.addClass(t,"mb-card");let n=this.getArgument("title");return n&&vt.createElement(t,"h3",{text:n.value}),t}return e}addShowcase(e){if(this.getArgument("showcase")&&this.shouldAddCardContainer()){let n=vt.createElement(e,"code",{class:"mb-none"}),i=vt.createElement(n,"a",{text:this.declarationString,class:"mb-no-link"});i.href=kr.linkToInputField(this.declaration.inputFieldType)}}createInputField(){if(!this.errorCollection.hasErrors())try{this.inputField=this.plugin.api.inputFieldFactory.createInputField(this)}catch(e){this.errorCollection.add(e)}!this.errorCollection.hasErrors()&&!this.inputField&&this.errorCollection.add(new vr({errorLevel:"CRITICAL",effect:"can't render input field",cause:"input field is undefined"}))}createErrorIndicator(e){this.plugin.internal.createErrorIndicator(e,{errorCollection:this.errorCollection,errorText:"Errors caused the creation of the field to fail. Sometimes one error only occurs because of another.",warningText:"Warnings will not cause the creation of a field to fail, but they indicate that a part of the declaration was invalid or uses deprecated functionality.",code:this.declarationString})}onMount(e){var a;if(console.debug("meta-bind | InputFieldBase >> mount",this.declaration),vt.empty(e),vt.addClass(e,"mb-input"),this.createInputField(),this.errorCollection.hasErrors()){this.createErrorIndicator(e);return}let t=this.createContainer(e);this.createErrorIndicator(t);let n=vt.createElement(t,"div",{class:"mb-input-wrapper"});(a=this.inputField)==null||a.mount(n);let i=this.getArguments("class");for(let o of i)vt.addClasses(n,o.value);vt.addClass(n,`mb-input-type-${this.declaration.inputFieldType}`),this.renderChildType==="block"?vt.addClass(e,"mb-input-block"):vt.addClass(e,"mb-input-inline"),this.addShowcase(t)}onUnmount(e){var t;console.debug("meta-bind | InputFieldBase >> unmount",this.declaration),(t=this.inputField)==null||t.destroy(),ti(e,"input field")}};var au=class{constructor(){this.listeners=[]}registerListener(e){let t=e;return t.uuid=Tr(),this.listeners.push(t),t}unregisterListener(e){this.unregisterListenerById(e.uuid)}unregisterListenerById(e){this.listeners=this.listeners.filter(t=>t.uuid!==e)}unregisterAllListeners(){this.listeners=[]}notifyListeners(e){for(let t of this.listeners)t.callback(e)}},Xr=class extends au{constructor(e){super(),this.value=e}get(){return this.value}set(e){this.value=e,this.notifyListeners(e)}},Af=class extends au{constructor(e,t){super(),this.dependency=e,this.value=t(e.get()),this.dependencyListener=e.registerListener({callback:n=>this.set(t(n))})}get(){return this.value}set(e){this.value=e,this.notifyListeners(e)}destroy(){this.dependency.unregisterListener(this.dependencyListener)}};var Ef=class extends au{constructor(e,t){super(),this.plugin=e,this.mounted=!1,this.svelteComponent=t}setValue(e){var t;(t=this.svelteComponentInstance)==null||t.setValue(e)}mount(e,t,n={}){let i=Object.assign({plugin:this.plugin,value:t,onValueChange:a=>{this.notifyListeners(a)}},n);this.svelteComponentInstance=new this.svelteComponent({target:e,props:i}),this.mounted=!0}unmount(){var e;this.unregisterAllListeners(),(e=this.svelteComponentInstance)==null||e.$destroy(),this.mounted=!1}isMounted(){return this.mounted}};var Yt=class extends ii{constructor(e){super(),this.base=e,this.inputSignal=new Xr(void 0),this.inputFieldComponent=new Ef(this.base.plugin,this.getSvelteComponent()),this.computedSignal=new Af(this.inputSignal,t=>{let n=this.filterValue(t);return n!==void 0?n:this.getDefaultValue()})}destroy(){this.inputFieldComponent.isMounted()&&this.unmount()}reverseMapValue(e){let t=this.rawReverseMapValue(e);if(t!==void 0)return t;let n=this.rawReverseMapValue(this.getDefaultValue());return n!==void 0?n:this.getFallbackDefaultValue()}mapValue(e){return this.rawMapValue(e)}getValue(){return this.computedSignal.get()}getInternalValue(){return this.reverseMapValue(this.getValue())}setValue(e){this.computedSignal.set(e),this.notifySubscription(e)}setInternalValue(e){this.setValue(this.mapValue(e))}notifySubscription(e){var t;(t=this.metadataSubscription)==null||t.update(e)}getDefaultValue(){let e=this.base.getArgument("defaultValue");if(e===void 0)return this.mapValue(this.getFallbackDefaultValue());let t=this.filterValue(e.value);return t!==void 0?t:this.mapValue(this.getFallbackDefaultValue())}getMountArgs(){return{}}onMount(e){this.computedSignal.registerListener({callback:n=>this.inputFieldComponent.setValue(this.reverseMapValue(n))});let t=this.base.getBindTarget();t&&(this.inputFieldComponent.registerListener({callback:n=>{this.notifySubscription(this.mapValue(n))}}),this.metadataSubscription=this.base.plugin.metadataManager.subscribe(this.base.getUuid(),this.inputSignal,t,()=>this.base.unmount())),this.inputFieldComponent.mount(e,this.reverseMapValue(this.getValue()),this.getMountArgs())}onUnmount(){var e;this.computedSignal.unregisterAllListeners(),(e=this.metadataSubscription)==null||e.unsubscribe(),this.inputFieldComponent.unmount()}};var Gh=dr(yl()),fn=class r{static stringify(e){return e.format(this.dateFormat)}static parse(e){return(0,Gh.default)(e,r.dateFormat)}static getDefaultDate(){return(0,Gh.default)(new Date)}static getDefaultDay(){return new Date().getDate()}static getDefaultMonth(){return 1}static getDefaultYear(){return new Date().getFullYear()}};function gN(r,e,t){let n=r.slice();return n[27]=e[t][0],n[28]=e[t][1],n}function vN(r,e,t){let n=r.slice();return n[24]=e[t],n}function yN(r,e,t){let n=r.slice();return n[24]=e[t],n}function bN(r,e,t){let n=r.slice();return n[27]=e[t][0],n[28]=e[t][1],n}function jV(r){let e,t,n,i,a,o=ft(Object.values(r[2])),c=[];for(let l=0;l<o.length;l+=1)c[l]=xN(vN(r,o,l));let u=ft(Object.entries(r[1])),s=[];for(let l=0;l<u.length;l+=1)s[l]=wN(gN(r,u,l));return{c(){e=re("select");for(let l=0;l<c.length;l+=1)c[l].c();t=xe(),n=re("select");for(let l=0;l<s.length;l+=1)s[l].c();z(e,"class","dropdown mb-input-element-group-element"),r[5]===void 0&&bn(()=>r[17].call(e)),z(n,"class","dropdown mb-input-element-group-element"),r[4]===void 0&&bn(()=>r[19].call(n))},m(l,f){Z(l,e,f);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(e,null);Jr(e,r[5],!0),Z(l,t,f),Z(l,n,f);for(let p=0;p<s.length;p+=1)s[p]&&s[p].m(n,null);Jr(n,r[4],!0),i||(a=[Pe(e,"change",r[17]),Pe(e,"change",r[18]),Pe(n,"change",r[19]),Pe(n,"change",r[20])],i=!0)},p(l,f){if(f[0]&4){o=ft(Object.values(l[2]));let p;for(p=0;p<o.length;p+=1){let m=vN(l,o,p);c[p]?c[p].p(m,f):(c[p]=xN(m),c[p].c(),c[p].m(e,null))}for(;p<c.length;p+=1)c[p].d(1);c.length=o.length}if(f[0]&36&&Jr(e,l[5]),f[0]&2){u=ft(Object.entries(l[1]));let p;for(p=0;p<u.length;p+=1){let m=gN(l,u,p);s[p]?s[p].p(m,f):(s[p]=wN(m),s[p].c(),s[p].m(n,null))}for(;p<s.length;p+=1)s[p].d(1);s.length=u.length}f[0]&18&&Jr(n,l[4])},d(l){l&&(j(e),j(t),j(n)),Qt(c,l),Qt(s,l),i=!1,Et(a)}}}function ZV(r){let e,t,n,i,a,o=ft(Object.entries(r[1])),c=[];for(let l=0;l<o.length;l+=1)c[l]=_N(bN(r,o,l));let u=ft(Object.values(r[2])),s=[];for(let l=0;l<u.length;l+=1)s[l]=SN(yN(r,u,l));return{c(){e=re("select");for(let l=0;l<c.length;l+=1)c[l].c();t=xe(),n=re("select");for(let l=0;l<s.length;l+=1)s[l].c();z(e,"class","dropdown mb-input-element-group-element"),r[4]===void 0&&bn(()=>r[13].call(e)),z(n,"class","dropdown mb-input-element-group-element"),r[5]===void 0&&bn(()=>r[15].call(n))},m(l,f){Z(l,e,f);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(e,null);Jr(e,r[4],!0),Z(l,t,f),Z(l,n,f);for(let p=0;p<s.length;p+=1)s[p]&&s[p].m(n,null);Jr(n,r[5],!0),i||(a=[Pe(e,"change",r[13]),Pe(e,"change",r[14]),Pe(n,"change",r[15]),Pe(n,"change",r[16])],i=!0)},p(l,f){if(f[0]&2){o=ft(Object.entries(l[1]));let p;for(p=0;p<o.length;p+=1){let m=bN(l,o,p);c[p]?c[p].p(m,f):(c[p]=_N(m),c[p].c(),c[p].m(e,null))}for(;p<c.length;p+=1)c[p].d(1);c.length=o.length}if(f[0]&18&&Jr(e,l[4]),f[0]&4){u=ft(Object.values(l[2]));let p;for(p=0;p<u.length;p+=1){let m=yN(l,u,p);s[p]?s[p].p(m,f):(s[p]=SN(m),s[p].c(),s[p].m(n,null))}for(;p<s.length;p+=1)s[p].d(1);s.length=u.length}f[0]&36&&Jr(n,l[5])},d(l){l&&(j(e),j(t),j(n)),Qt(c,l),Qt(s,l),i=!1,Et(a)}}}function xN(r){let e,t=r[24]+"",n,i;return{c(){e=re("option"),n=je(t),e.__value=i=r[24],Je(e,e.__value)},m(a,o){Z(a,e,o),ae(e,n)},p(a,o){o[0]&4&&t!==(t=a[24]+"")&&mt(n,t),o[0]&4&&i!==(i=a[24])&&(e.__value=i,Je(e,e.__value))},d(a){a&&j(e)}}}function wN(r){let e,t=r[28]+"",n,i;return{c(){e=re("option"),n=je(t),e.__value=i=r[27],Je(e,e.__value)},m(a,o){Z(a,e,o),ae(e,n)},p(a,o){o[0]&2&&t!==(t=a[28]+"")&&mt(n,t),o[0]&2&&i!==(i=a[27])&&(e.__value=i,Je(e,e.__value))},d(a){a&&j(e)}}}function _N(r){let e,t=r[28]+"",n,i;return{c(){e=re("option"),n=je(t),e.__value=i=r[27],Je(e,e.__value)},m(a,o){Z(a,e,o),ae(e,n)},p(a,o){o[0]&2&&t!==(t=a[28]+"")&&mt(n,t),o[0]&2&&i!==(i=a[27])&&(e.__value=i,Je(e,e.__value))},d(a){a&&j(e)}}}function SN(r){let e,t=r[24]+"",n,i;return{c(){e=re("option"),n=je(t),e.__value=i=r[24],Je(e,e.__value)},m(a,o){Z(a,e,o),ae(e,n)},p(a,o){o[0]&4&&t!==(t=a[24]+"")&&mt(n,t),o[0]&4&&i!==(i=a[24])&&(e.__value=i,Je(e,e.__value))},d(a){a&&j(e)}}}function JV(r){let e,t,n,i,a;function o(s,l){return s[0]?ZV:jV}let c=o(r,[-1,-1]),u=c(r);return{c(){e=re("div"),u.c(),t=xe(),n=re("input"),z(n,"class","mb-date-input-year-input mb-input-element-group-element"),z(n,"type","number"),z(n,"tabindex","0"),z(n,"max","9999"),z(n,"min","0"),z(e,"class","mb-input-element-group")},m(s,l){Z(s,e,l),u.m(e,null),ae(e,t),ae(e,n),Je(n,r[3]),i||(a=[Pe(n,"input",r[21]),Pe(n,"input",r[22])],i=!0)},p(s,l){c===(c=o(s,l))&&u?u.p(s,l):(u.d(1),u=c(s),u&&(u.c(),u.m(e,t))),l[0]&8&&yn(n.value)!==s[3]&&Je(n,s[3])},i:Ke,o:Ke,d(s){s&&j(e),u.d(),i=!1,Et(a)}}}function XV(r,e,t){let{plugin:n}=e,{value:i}=e,{useUsInputOrder:a}=e,{onValueChange:o}=e,c={},u={},s,l,f;Ki(()=>{t(1,c={0:"January",1:"February",2:"March",3:"April",4:"May",5:"June",6:"July",7:"August",8:"September",9:"October",10:"November",11:"December"});for(let C=1;C<=31;C++)t(2,u[C.toString()]=C.toString(),u);t(3,s=i.year().toString()),t(4,l=i.month().toString()),t(5,f=i.date().toString())});function p(C){t(9,i=C),t(3,s=i.year().toString()),t(4,l=i.month().toString()),t(5,f=i.date().toString())}function m(){let C=Number.parseInt(s),O=Number.isNaN(C)?fn.getDefaultYear():C;i.year(O),o(i)}function h(){i.month(l);let C=v(i.date());i.date(C),t(5,f=C.toString()),o(i)}function d(){let C=Number.parseInt(f),O=v(C);i.date(O),t(5,f=O.toString()),o(i)}function v(C){return Number.isNaN(C)?fn.getDefaultDay():C<1?1:C>i.daysInMonth()?i.daysInMonth():C}function y(){l=wi(this),t(4,l),t(1,c)}let S=()=>h();function b(){f=wi(this),t(5,f),t(2,u)}let w=()=>d();function _(){f=wi(this),t(5,f),t(2,u)}let x=()=>d();function T(){l=wi(this),t(4,l),t(1,c)}let A=()=>h();function N(){s=yn(this.value),t(3,s)}let E=()=>m();return r.$$set=C=>{"plugin"in C&&t(10,n=C.plugin),"value"in C&&t(9,i=C.value),"useUsInputOrder"in C&&t(0,a=C.useUsInputOrder),"onValueChange"in C&&t(11,o=C.onValueChange)},[a,c,u,s,l,f,m,h,d,i,n,o,p,y,S,b,w,_,x,T,A,N,E]}var Wh=class extends et{constructor(e){super(),it(this,e,XV,JV,nt,{plugin:10,value:9,useUsInputOrder:0,onValueChange:11,setValue:12},null,[-1,-1])}get setValue(){return this.$$.ctx[12]}},DN=Wh;var Tf=class extends Yt{filterValue(e){if(e==null||typeof e!="string")return;let t=fn.parse(e);if(t.isValid())return fn.stringify(t)}getFallbackDefaultValue(){return fn.getDefaultDate()}getSvelteComponent(){return DN}rawMapValue(e){return fn.stringify(e)}rawReverseMapValue(e){return fn.parse(e)}getMountArgs(){return{useUsInputOrder:this.base.plugin.settings.useUsDateInputOrder}}};function NN(r){let e;return{c(){e=re("div"),z(e,"class","mb-icon-wrapper")},m(t,n){Z(t,e,n),r[3](e)},p:Ke,d(t){t&&j(e),r[3](null)}}}function QV(r){let e,t=r[0].length>0&&NN(r);return{c(){t&&t.c(),e=Mr()},m(n,i){t&&t.m(n,i),Z(n,e,i)},p(n,[i]){n[0].length>0?t?t.p(n,i):(t=NN(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Ke,o:Ke,d(n){n&&j(e),t&&t.d(n)}}}function KV(r,e,t){let{iconName:n=""}=e,{plugin:i}=e,a;Ki(()=>{i.internal.setIcon(a,n)});function o(c){Nn[c?"unshift":"push"](()=>{a=c,t(1,a)})}return r.$$set=c=>{"iconName"in c&&t(0,n=c.iconName),"plugin"in c&&t(2,i=c.plugin)},[n,a,i,o]}var Yh=class extends et{constructor(e){super(),it(this,e,KV,QV,nt,{iconName:0,plugin:2})}},Pr=Yh;function e9(r){ai(r,"svelte-f2wb67",".date-picker-input.svelte-f2wb67{background:var(--background-modifier-form-field);border-radius:var(--mb-border-radius);border:var(--mb-border-width) solid var(--background-modifier-border);padding:5px 5px 5px 7px;cursor:pointer;position:relative;color:var(--text-normal);display:inline-flex;align-items:center;gap:5px;font-size:var(--font-ui-small)}.date-picker-text.svelte-f2wb67{display:inline-block}")}function t9(r){let e,t,n=(r[0]?r[0].format(r[2]):"none")+"",i,a,o,c,u,s;return o=new Pr({props:{plugin:r[1],iconName:"calendar"}}),{c(){e=re("div"),t=re("span"),i=je(n),a=xe(),Re(o.$$.fragment),z(t,"class","date-picker-text svelte-f2wb67"),z(e,"class","date-picker-input svelte-f2wb67"),z(e,"role","button"),z(e,"tabindex","0")},m(l,f){Z(l,e,f),ae(e,t),ae(t,i),ae(e,a),Oe(o,e,null),c=!0,u||(s=[Pe(e,"click",r[3]),Pe(e,"keydown",r[4])],u=!0)},p(l,[f]){(!c||f&5)&&n!==(n=(l[0]?l[0].format(l[2]):"none")+"")&&mt(i,n);let p={};f&2&&(p.plugin=l[1]),o.$set(p)},i(l){c||(ne(o.$$.fragment,l),c=!0)},o(l){ue(o.$$.fragment,l),c=!1},d(l){l&&j(e),ke(o),u=!1,Et(s)}}}function r9(r,e,t){let{plugin:n}=e,{value:i}=e,{dateFormat:a}=e,{showDatePicker:o}=e,{onValueChange:c}=e;function u(f){t(0,i=f)}function s(f){o()}function l(f){f.key===" "&&o()}return r.$$set=f=>{"plugin"in f&&t(1,n=f.plugin),"value"in f&&t(0,i=f.value),"dateFormat"in f&&t(2,a=f.dateFormat),"showDatePicker"in f&&t(5,o=f.showDatePicker),"onValueChange"in f&&t(6,c=f.onValueChange)},[i,n,a,s,l,o,c,u]}var jh=class extends et{constructor(e){super(),it(this,e,r9,t9,nt,{plugin:1,value:0,dateFormat:2,showDatePicker:5,onValueChange:6,setValue:7},e9)}get setValue(){return this.$$.ctx[7]}},AN=jh;var Mf=class extends Yt{constructor(e){super(e),this.options=this.base.getArguments("option")}filterValue(e){if(e===null)return null;if(e===void 0||typeof e!="string")return;let t=fn.parse(e);if(t.isValid())return fn.stringify(t)}getFallbackDefaultValue(){return fn.getDefaultDate()}getSvelteComponent(){return AN}rawMapValue(e){return e===null?null:fn.stringify(e)}rawReverseMapValue(e){if(e===null)return null;let t=fn.parse(e);if(t.isValid())return t}getMountArgs(){return{dateFormat:this.base.plugin.settings.preferredDateFormat,showDatePicker:()=>{this.base.plugin.internal.openDatePickerModal(this)}}}};function n9(r){ai(r,"svelte-1tfnqy0",".editor-input.svelte-1tfnqy0.svelte-1tfnqy0{background:var(--background-secondary);width:100%;height:500px;padding:0;position:relative;margin-left:0;overflow:scroll}.editor-input.svelte-1tfnqy0>textarea.svelte-1tfnqy0{background:var(--background-secondary);border:none;padding:var(--size-4-4) var(--size-4-8);margin:0;position:absolute;inset:0;resize:none;border-radius:0}.editor-input.svelte-1tfnqy0>div.svelte-1tfnqy0{padding:var(--size-4-4) var(--size-4-8);position:absolute;inset:0}")}function i9(r){let e,t,n,i,a,o;return{c(){e=re("div"),t=re("textarea"),n=xe(),i=re("div"),z(t,"class","svelte-1tfnqy0"),z(i,"class","svelte-1tfnqy0"),z(e,"class","editor-input card svelte-1tfnqy0"),z(e,"role","button"),z(e,"tabindex","0")},m(c,u){Z(c,e,u),ae(e,t),r[10](t),Je(t,r[0]),ae(e,n),ae(e,i),r[14](i),a||(o=[Pe(t,"input",r[11]),Pe(t,"focusout",r[12]),Pe(t,"input",r[13]),Pe(e,"click",r[15]),Pe(e,"keypress",r[16])],a=!0)},p(c,[u]){u&1&&Je(t,c[0])},i:Ke,o:Ke,d(c){c&&j(e),r[10](null),r[14](null),a=!1,Et(o)}}}function a9(r,e,t){let{plugin:n}=e,{value:i}=e,{onValueChange:a}=e,{render:o}=e,c,u;Ki(()=>{t(2,c.style.display="block",c),t(3,u.style.display="none",u),o(c,i)});function s(w){t(0,i=w),o(c,w)}function l(){t(2,c.style.display="block",c),t(3,u.style.display="none",u),o(c,i)}function f(){t(2,c.style.display="none",c),t(3,u.style.display="block",u),u.focus()}function p(w){w.key===" "&&f()}function m(w){Nn[w?"unshift":"push"](()=>{u=w,t(3,u)})}function h(){i=this.value,t(0,i)}let d=()=>l(),v=()=>a(i);function y(w){Nn[w?"unshift":"push"](()=>{c=w,t(2,c)})}let S=()=>f(),b=w=>p(w);return r.$$set=w=>{"plugin"in w&&t(7,n=w.plugin),"value"in w&&t(0,i=w.value),"onValueChange"in w&&t(1,a=w.onValueChange),"render"in w&&t(8,o=w.render)},[i,a,c,u,l,f,p,n,o,s,m,h,d,v,y,S,b]}var Zh=class extends et{constructor(e){super(),it(this,e,a9,i9,nt,{plugin:7,value:0,onValueChange:1,render:8,setValue:9},n9)}get setValue(){return this.$$.ctx[9]}},EN=Zh;var Cf=class extends Yt{filterValue(e){return so(e)?e==null?void 0:e.toString():void 0}getFallbackDefaultValue(){return""}getSvelteComponent(){return EN}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){return{render:(e,t)=>void this.renderInElement(e,t)}}renderInElement(e,t){return St(this,null,function*(){var n;(n=this.mdUnloadCallback)==null||n.call(this),e.innerHTML="",this.mdUnloadCallback=yield this.base.plugin.internal.renderMarkdown(t,e,this.base.getFilePath())})}onUnmount(){var e;super.onUnmount(),(e=this.mdUnloadCallback)==null||e.call(this)}};function o9(r){ai(r,"svelte-12xcpmj","button.svelte-12xcpmj{gap:var(--size-4-1)}.mod-plain.svelte-12xcpmj{background:none;box-shadow:none;border:none;color:var(--text-muted)}.mod-plain.svelte-12xcpmj:hover{color:var(--text-normal)}.disabled.svelte-12xcpmj{opacity:0.6}")}function s9(r){let e,t,n,i,a=r[4].default,o=Pa(a,r,r[3],null);return{c(){e=re("button"),o&&o.c(),z(e,"aria-label",r[2]),e.disabled=r[1],z(e,"class","svelte-12xcpmj"),Ut(e,"mod-cta",r[0]==="primary"),Ut(e,"mod-warning",r[0]==="destructive"),Ut(e,"mod-plain",r[0]==="plain"),Ut(e,"disabled",r[1])},m(c,u){Z(c,e,u),o&&o.m(e,null),t=!0,n||(i=Pe(e,"click",r[5]),n=!0)},p(c,[u]){o&&o.p&&(!t||u&8)&&ka(o,a,c,c[3],t?Oa(a,c[3],u,null):Ra(c[3]),null),(!t||u&4)&&z(e,"aria-label",c[2]),(!t||u&2)&&(e.disabled=c[1]),(!t||u&1)&&Ut(e,"mod-cta",c[0]==="primary"),(!t||u&1)&&Ut(e,"mod-warning",c[0]==="destructive"),(!t||u&1)&&Ut(e,"mod-plain",c[0]==="plain"),(!t||u&2)&&Ut(e,"disabled",c[1])},i(c){t||(ne(o,c),t=!0)},o(c){ue(o,c),t=!1},d(c){c&&j(e),o&&o.d(c),n=!1,i()}}}function u9(r,e,t){let{$$slots:n={},$$scope:i}=e,{variant:a="default"}=e,{disabled:o=!1}=e,{tooltip:c=""}=e;function u(s){cN.call(this,r,s)}return r.$$set=s=>{"variant"in s&&t(0,a=s.variant),"disabled"in s&&t(1,o=s.disabled),"tooltip"in s&&t(2,c=s.tooltip),"$$scope"in s&&t(3,i=s.$$scope)},[a,o,c,i,n,u]}var Jh=class extends et{constructor(e){super(),it(this,e,u9,s9,nt,{variant:0,disabled:1,tooltip:2},o9)}},jt=Jh;function TN(r){let e,t;return{c(){e=re("img"),z(e,"class","mb-image-card-image"),Oi(e.src,t=r[1].internal.imagePathToUri(r[0]))||z(e,"src",t),z(e,"alt",r[0])},m(n,i){Z(n,e,i)},p(n,i){i&3&&!Oi(e.src,t=n[1].internal.imagePathToUri(n[0]))&&z(e,"src",t),i&1&&z(e,"alt",n[0])},d(n){n&&j(e)}}}function l9(r){let e,t;return e=new Pr({props:{iconName:"pencil",plugin:r[1]}}),{c(){Re(e.$$.fragment)},m(n,i){Oe(e,n,i),t=!0},p(n,i){let a={};i&2&&(a.plugin=n[1]),e.$set(a)},i(n){t||(ne(e.$$.fragment,n),t=!0)},o(n){ue(e.$$.fragment,n),t=!1},d(n){ke(e,n)}}}function c9(r){let e,t,n,i,a=(r[0]||"no image selected")+"",o,c,u,s,l=r[0]&&TN(r);return u=new jt({props:{variant:"plain",$$slots:{default:[l9]},$$scope:{ctx:r}}}),u.$on("click",r[2]),{c(){e=re("div"),l&&l.c(),t=xe(),n=re("div"),i=re("span"),o=je(a),c=xe(),Re(u.$$.fragment),z(n,"class","mb-image-card-footer"),z(e,"class","mb-image-card")},m(f,p){Z(f,e,p),l&&l.m(e,null),ae(e,t),ae(e,n),ae(n,i),ae(i,o),ae(n,c),Oe(u,n,null),s=!0},p(f,[p]){f[0]?l?l.p(f,p):(l=TN(f),l.c(),l.m(e,t)):l&&(l.d(1),l=null),(!s||p&1)&&a!==(a=(f[0]||"no image selected")+"")&&mt(o,a);let m={};p&66&&(m.$$scope={dirty:p,ctx:f}),u.$set(m)},i(f){s||(ne(u.$$.fragment,f),s=!0)},o(f){ue(u.$$.fragment,f),s=!1},d(f){f&&j(e),l&&l.d(),ke(u)}}}function f9(r,e,t){let{plugin:n}=e,{value:i}=e,{showSuggester:a}=e,{onValueChange:o}=e;function c(s){t(0,i=s)}function u(s){a()}return r.$$set=s=>{"plugin"in s&&t(1,n=s.plugin),"value"in s&&t(0,i=s.value),"showSuggester"in s&&t(3,a=s.showSuggester),"onValueChange"in s&&t(4,o=s.onValueChange)},[i,n,u,a,o,c]}var Xh=class extends et{constructor(e){super(),it(this,e,f9,c9,nt,{plugin:1,value:0,showSuggester:3,onValueChange:4,setValue:5})}get setValue(){return this.$$.ctx[5]}},MN=Xh;var Ff=class extends Yt{filterValue(e){return so(e)?e:void 0}getFallbackDefaultValue(){return""}getSvelteComponent(){return MN}rawMapValue(e){return e}rawReverseMapValue(e){return Ba(e)}getMountArgs(){return{showSuggester:()=>this.openModal()}}openModal(){this.base.plugin.internal.openImageSuggesterModal(this,e=>this.setInternalValue(e))}};function p9(r){let e,t;return{c(){e=re("a"),t=je(r[2]),z(e,"data-href",r[2]),z(e,"href",r[2]),z(e,"class",r[1]),z(e,"target","_blank"),z(e,"rel","noopener")},m(n,i){Z(n,e,i),ae(e,t)},p(n,i){i&4&&mt(t,n[2]),i&4&&z(e,"data-href",n[2]),i&4&&z(e,"href",n[2]),i&2&&z(e,"class",n[1])},d(n){n&&j(e)}}}function m9(r){let e,t=r[0].alias+"",n;return{c(){e=re("a"),n=je(t),z(e,"data-href",r[2]),z(e,"href",r[2]),z(e,"class",r[1]),z(e,"target","_blank"),z(e,"rel","noopener"),z(e,"aria-label",r[2])},m(i,a){Z(i,e,a),ae(e,n)},p(i,a){a&1&&t!==(t=i[0].alias+"")&&mt(n,t),a&4&&z(e,"data-href",i[2]),a&4&&z(e,"href",i[2]),a&2&&z(e,"class",i[1]),a&4&&z(e,"aria-label",i[2])},d(i){i&&j(e)}}}function d9(r){let e;function t(a,o){return a[0].alias?m9:p9}let n=t(r,-1),i=n(r);return{c(){i.c(),e=Mr()},m(a,o){i.m(a,o),Z(a,e,o)},p(a,[o]){n===(n=t(a,o))&&i?i.p(a,o):(i.d(1),i=n(a),i&&(i.c(),i.m(e.parentNode,e)))},i:Ke,o:Ke,d(a){a&&j(e),i.d(a)}}}function h9(r,e,t){let n,i,{mdLink:a}=e;return r.$$set=o=>{"mdLink"in o&&t(0,a=o.mdLink)},r.$$.update=()=>{r.$$.dirty&1&&t(2,n=a.block?`${a.target}#${a.block}`:a.target),r.$$.dirty&1&&t(1,i=a.internal?"internal-link":"external-link")},[a,i,n]}var Qh=class extends et{constructor(e){super(),it(this,e,h9,d9,nt,{mdLink:0})}},fo=Qh;var g9=r=>({element:r&1}),CN=r=>({element:r[0][r[0].length-1]});function FN(r,e,t){let n=r.slice();return n[3]=e[t],n}var v9=r=>({element:r&1}),IN=r=>({element:r[3]});function BN(r){let e,t,n,i,a,o=r[2].default,c=Pa(o,r,r[1],IN);return{c(){c&&c.c(),e=xe(),t=re("span"),t.textContent=",",n=xe(),i=re("span")},m(u,s){c&&c.m(u,s),Z(u,e,s),Z(u,t,s),Z(u,n,s),Z(u,i,s),a=!0},p(u,s){c&&c.p&&(!a||s&3)&&ka(c,o,u,u[1],a?Oa(o,u[1],s,v9):Ra(u[1]),IN)},i(u){a||(ne(c,u),a=!0)},o(u){ue(c,u),a=!1},d(u){u&&(j(e),j(t),j(n),j(i)),c&&c.d(u)}}}function y9(r){let e,t,n=ft(r[0].slice(0,r[0].length-1)),i=[];for(let u=0;u<n.length;u+=1)i[u]=BN(FN(r,n,u));let a=u=>ue(i[u],1,1,()=>{i[u]=null}),o=r[2].default,c=Pa(o,r,r[1],CN);return{c(){for(let u=0;u<i.length;u+=1)i[u].c();e=xe(),c&&c.c()},m(u,s){for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(u,s);Z(u,e,s),c&&c.m(u,s),t=!0},p(u,[s]){if(s&3){n=ft(u[0].slice(0,u[0].length-1));let l;for(l=0;l<n.length;l+=1){let f=FN(u,n,l);i[l]?(i[l].p(f,s),ne(i[l],1)):(i[l]=BN(f),i[l].c(),ne(i[l],1),i[l].m(e.parentNode,e))}for(Bt(),l=n.length;l<i.length;l+=1)a(l);Pt()}c&&c.p&&(!t||s&3)&&ka(c,o,u,u[1],t?Oa(o,u[1],s,g9):Ra(u[1]),CN)},i(u){if(!t){for(let s=0;s<n.length;s+=1)ne(i[s]);ne(c,u),t=!0}},o(u){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)ue(i[s]);ue(c,u),t=!1},d(u){u&&j(e),Qt(i,u),c&&c.d(u)}}}function b9(r,e,t){let{$$slots:n={},$$scope:i}=e,{elements:a=[]}=e;return r.$$set=o=>{"elements"in o&&t(0,a=o.elements),"$$scope"in o&&t(1,i=o.$$scope)},[a,i,n]}var Kh=class extends et{constructor(e){super(),it(this,e,b9,y9,nt,{elements:0})}},If=Kh;function x9(r){let e,t,n;return t=new fo({props:{mdLink:r[0]}}),{c(){e=re("span"),Re(t.$$.fragment)},m(i,a){Z(i,e,a),Oe(t,e,null),n=!0},p(i,a){let o={};a&1&&(o.mdLink=i[0]),t.$set(o)},i(i){n||(ne(t.$$.fragment,i),n=!0)},o(i){ue(t.$$.fragment,i),n=!1},d(i){i&&j(e),ke(t)}}}function w9(r){let e,t,n;return t=new If({props:{elements:r[0],$$slots:{default:[N9,({element:i})=>({2:i}),({element:i})=>i?4:0]},$$scope:{ctx:r}}}),{c(){e=re("span"),Re(t.$$.fragment)},m(i,a){Z(i,e,a),Oe(t,e,null),n=!0},p(i,a){let o={};a&1&&(o.elements=i[0]),a&12&&(o.$$scope={dirty:a,ctx:i}),t.$set(o)},i(i){n||(ne(t.$$.fragment,i),n=!0)},o(i){ue(t.$$.fragment,i),n=!1},d(i){i&&j(e),ke(t)}}}function _9(r){let e,t;return{c(){e=re("span"),t=je(r[0]),uN(e,"white-space","pre")},m(n,i){Z(n,e,i),ae(e,t)},p(n,i){i&1&&mt(t,n[0])},i:Ke,o:Ke,d(n){n&&j(e)}}}function S9(r){let e,t;return e=new fo({props:{mdLink:r[2]}}),{c(){Re(e.$$.fragment)},m(n,i){Oe(e,n,i),t=!0},p(n,i){let a={};i&4&&(a.mdLink=n[2]),e.$set(a)},i(n){t||(ne(e.$$.fragment,n),t=!0)},o(n){ue(e.$$.fragment,n),t=!1},d(n){ke(e,n)}}}function D9(r){let e,t=r[2]+"",n;return{c(){e=re("span"),n=je(t)},m(i,a){Z(i,e,a),ae(e,n)},p(i,a){a&4&&t!==(t=i[2]+"")&&mt(n,t)},i:Ke,o:Ke,d(i){i&&j(e)}}}function N9(r){let e,t,n,i,a=[D9,S9],o=[];function c(u,s){return typeof u[2]=="string"?0:1}return e=c(r,-1),t=o[e]=a[e](r),{c(){t.c(),n=Mr()},m(u,s){o[e].m(u,s),Z(u,n,s),i=!0},p(u,s){let l=e;e=c(u,s),e===l?o[e].p(u,s):(Bt(),ue(o[l],1,1,()=>{o[l]=null}),Pt(),t=o[e],t?t.p(u,s):(t=o[e]=a[e](u),t.c()),ne(t,1),t.m(n.parentNode,n))},i(u){i||(ne(t),i=!0)},o(u){ue(t),i=!1},d(u){u&&j(n),o[e].d(u)}}}function A9(r){let e,t,n,i,a,o=[_9,w9,x9],c=[];function u(s,l){return l&1&&(e=null),typeof s[0]=="string"?0:(e==null&&(e=!!Array.isArray(s[0])),e?1:2)}return t=u(r,-1),n=c[t]=o[t](r),{c(){n.c(),i=Mr()},m(s,l){c[t].m(s,l),Z(s,i,l),a=!0},p(s,[l]){let f=t;t=u(s,l),t===f?c[t].p(s,l):(Bt(),ue(c[f],1,1,()=>{c[f]=null}),Pt(),n=c[t],n?n.p(s,l):(n=c[t]=o[t](s),n.c()),ne(n,1),n.m(i.parentNode,i))},i(s){a||(ne(n),a=!0)},o(s){ue(n),a=!1},d(s){s&&j(i),c[t].d(s)}}}function E9(r,e,t){let{value:n=void 0}=e,i;return r.$$set=a=>{"value"in a&&t(1,n=a.value)},r.$$.update=()=>{r.$$.dirty&2&&t(0,i=eN(n,!1))},[i,n]}var eg=class extends et{constructor(e){super(),it(this,e,E9,A9,nt,{value:1})}},ki=eg;function PN(r,e,t){let n=r.slice();return n[11]=e[t],n[13]=t,n}function T9(r){let e,t;return e=new Pr({props:{plugin:r[1],iconName:"more-vertical"}}),{c(){Re(e.$$.fragment)},m(n,i){Oe(e,n,i),t=!0},p(n,i){let a={};i&2&&(a.plugin=n[1]),e.$set(a)},i(n){t||(ne(e.$$.fragment,n),t=!0)},o(n){ue(e.$$.fragment,n),t=!1},d(n){ke(e,n)}}}function ON(r){let e,t,n,i,a;t=new ki({props:{value:r[11]}});function o(...c){return r[8](r[13],...c)}return i=new jt({props:{variant:"plain",$$slots:{default:[T9]},$$scope:{ctx:r}}}),i.$on("click",o),{c(){e=re("div"),Re(t.$$.fragment),n=xe(),Re(i.$$.fragment),z(e,"class","mb-inline-list-item")},m(c,u){Z(c,e,u),Oe(t,e,null),ae(e,n),Oe(i,e,null),a=!0},p(c,u){r=c;let s={};u&1&&(s.value=r[11]),t.$set(s);let l={};u&16386&&(l.$$scope={dirty:u,ctx:r}),i.$set(l)},i(c){a||(ne(t.$$.fragment,c),ne(i.$$.fragment,c),a=!0)},o(c){ue(t.$$.fragment,c),ue(i.$$.fragment,c),a=!1},d(c){c&&j(e),ke(t),ke(i)}}}function M9(r){let e,t,n,i,a,o,c,u,s,l=ft(r[0]),f=[];for(let m=0;m<l.length;m+=1)f[m]=ON(PN(r,l,m));let p=m=>ue(f[m],1,1,()=>{f[m]=null});return o=new Pr({props:{plugin:r[1],iconName:"plus"}}),{c(){e=re("div");for(let m=0;m<f.length;m+=1)f[m].c();t=xe(),n=re("div"),i=re("span"),i.textContent="\u200B",a=xe(),Re(o.$$.fragment),z(n,"class","mb-inline-list-add"),z(n,"role","button"),z(n,"tabindex","0"),z(e,"class","mb-inline-list")},m(m,h){Z(m,e,h);for(let d=0;d<f.length;d+=1)f[d]&&f[d].m(e,null);ae(e,t),ae(e,n),ae(n,i),ae(n,a),Oe(o,n,null),c=!0,u||(s=[Pe(n,"click",r[9]),Pe(n,"keydown",r[3])],u=!0)},p(m,[h]){if(h&19){l=ft(m[0]);let v;for(v=0;v<l.length;v+=1){let y=PN(m,l,v);f[v]?(f[v].p(y,h),ne(f[v],1)):(f[v]=ON(y),f[v].c(),ne(f[v],1),f[v].m(e,t))}for(Bt(),v=l.length;v<f.length;v+=1)p(v);Pt()}let d={};h&2&&(d.plugin=m[1]),o.$set(d)},i(m){if(!c){for(let h=0;h<l.length;h+=1)ne(f[h]);ne(o.$$.fragment,m),c=!0}},o(m){f=f.filter(Boolean);for(let h=0;h<f.length;h+=1)ue(f[h]);ue(o.$$.fragment,m),c=!1},d(m){m&&j(e),Qt(f,m),ke(o),u=!1,Et(s)}}}function C9(r,e,t){let{plugin:n}=e,{value:i}=e,{showInput:a}=e,{onValueChange:o}=e;function c(h){t(0,i=h)}function u(h){i.push(h),t(0,i)}function s(h){i.splice(h,1),o(i),t(0,i)}function l(h){h.key===" "&&a()}function f(h,d){let v=[];d>0&&v.push({name:"Move left",icon:"arrow-left",onclick:()=>{let y=i[d-1];t(0,i[d-1]=i[d],i),t(0,i[d]=y,i),o(i)}}),d<i.length-1&&v.push({name:"Move right",icon:"arrow-right",onclick:()=>{let y=i[d+1];t(0,i[d+1]=i[d],i),t(0,i[d]=y,i),o(i)}}),v.push({name:"Edit",icon:"pencil",onclick:()=>{n.internal.openTextPromptModal({title:"Meta Bind List",subTitle:"Edit the value of a list item.",value:Ba(i[d]),multiline:!1,onSubmit:y=>{t(0,i[d]=y,i),o(i)},onCancel:()=>{}})}}),v.push({name:"Remove",icon:"x",warning:!0,onclick:()=>s(d)}),n.internal.createContextMenu(v).showWithEvent(h)}let p=(h,d)=>f(d,h),m=()=>a();return r.$$set=h=>{"plugin"in h&&t(1,n=h.plugin),"value"in h&&t(0,i=h.value),"showInput"in h&&t(2,a=h.showInput),"onValueChange"in h&&t(5,o=h.onValueChange)},[i,n,a,l,f,o,c,u,p,m]}var tg=class extends et{constructor(e){super(),it(this,e,C9,M9,nt,{plugin:1,value:0,showInput:2,onValueChange:5,setValue:6,addValue:7})}get setValue(){return this.$$.ctx[6]}get addValue(){return this.$$.ctx[7]}},kN=tg;var Bf=class extends Yt{filterValue(e){return Pi(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return kN}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{showInput:()=>this.openModal()}}openModal(){this.base.plugin.internal.openTextPromptModal({title:"Meta Bind List",subTitle:"Create a new List Element.",value:"",multiline:!1,onSubmit:e=>{let t=this.getInternalValue();t.push(e),this.setInternalValue(t)},onCancel:()=>{}})}};function RN(r,e,t){let n=r.slice();return n[13]=e[t],n[15]=t,n}function F9(r){let e,t;return e=new Pr({props:{plugin:r[1],iconName:"more-vertical"}}),{c(){Re(e.$$.fragment)},m(n,i){Oe(e,n,i),t=!0},p(n,i){let a={};i&2&&(a.plugin=n[1]),e.$set(a)},i(n){t||(ne(e.$$.fragment,n),t=!0)},o(n){ue(e.$$.fragment,n),t=!1},d(n){ke(e,n)}}}function LN(r){let e,t,n,i,a;t=new ki({props:{value:r[13]}});function o(...c){return r[11](r[15],...c)}return i=new jt({props:{variant:"plain",$$slots:{default:[F9]},$$scope:{ctx:r}}}),i.$on("click",o),{c(){e=re("div"),Re(t.$$.fragment),n=xe(),Re(i.$$.fragment),z(e,"class","mb-inline-list-item")},m(c,u){Z(c,e,u),Oe(t,e,null),ae(e,n),Oe(i,e,null),a=!0},p(c,u){r=c;let s={};u&1&&(s.value=r[13]),t.$set(s);let l={};u&65538&&(l.$$scope={dirty:u,ctx:r}),i.$set(l)},i(c){a||(ne(t.$$.fragment,c),ne(i.$$.fragment,c),a=!0)},o(c){ue(t.$$.fragment,c),ue(i.$$.fragment,c),a=!1},d(c){c&&j(e),ke(t),ke(i)}}}function I9(r){let e,t,n,i,a,o,c,u,s,l=ft(r[0]),f=[];for(let m=0;m<l.length;m+=1)f[m]=LN(RN(r,l,m));let p=m=>ue(f[m],1,1,()=>{f[m]=null});return o=new Pr({props:{plugin:r[1],iconName:"plus"}}),{c(){e=re("div");for(let m=0;m<f.length;m+=1)f[m].c();t=xe(),n=re("div"),i=re("span"),i.textContent="\u200B",a=xe(),Re(o.$$.fragment),z(n,"class","mb-inline-list-add"),z(n,"role","button"),z(n,"tabindex","0"),z(e,"class","mb-inline-list")},m(m,h){Z(m,e,h);for(let d=0;d<f.length;d+=1)f[d]&&f[d].m(e,null);ae(e,t),ae(e,n),ae(n,i),ae(n,a),Oe(o,n,null),c=!0,u||(s=[Pe(n,"click",r[2]),Pe(n,"keydown",r[3])],u=!0)},p(m,[h]){if(h&19){l=ft(m[0]);let v;for(v=0;v<l.length;v+=1){let y=RN(m,l,v);f[v]?(f[v].p(y,h),ne(f[v],1)):(f[v]=LN(y),f[v].c(),ne(f[v],1),f[v].m(e,t))}for(Bt(),v=l.length;v<f.length;v+=1)p(v);Pt()}let d={};h&2&&(d.plugin=m[1]),o.$set(d)},i(m){if(!c){for(let h=0;h<l.length;h+=1)ne(f[h]);ne(o.$$.fragment,m),c=!0}},o(m){f=f.filter(Boolean);for(let h=0;h<f.length;h+=1)ue(f[h]);ue(o.$$.fragment,m),c=!1},d(m){m&&j(e),Qt(f,m),ke(o),u=!1,Et(s)}}}function B9(r,e,t){let{plugin:n}=e,{value:i}=e,{showSuggester:a}=e,{showTextPrompt:o}=e,{allowsOther:c}=e,{onValueChange:u}=e;function s(v){t(0,i=v)}function l(v){i.push(v),t(0,i)}function f(v){i.splice(v,1),u(i),t(0,i)}function p(v){if(!c){a();return}n.internal.createContextMenu([{name:"From Options",onclick:()=>a()},{name:"From Text",onclick:()=>o()}]).showWithEvent(v)}function m(v){v.key===" "&&a()}function h(v,y){let S=[];y>0&&S.push({name:"Move left",icon:"arrow-left",onclick:()=>{let b=i[y-1];t(0,i[y-1]=i[y],i),t(0,i[y]=b,i),u(i)}}),y<i.length-1&&S.push({name:"Move right",icon:"arrow-right",onclick:()=>{let b=i[y+1];t(0,i[y+1]=i[y],i),t(0,i[y]=b,i),u(i)}}),S.push({name:"Remove",icon:"x",warning:!0,onclick:()=>f(y)}),n.internal.createContextMenu(S).showWithEvent(v)}let d=(v,y)=>h(y,v);return r.$$set=v=>{"plugin"in v&&t(1,n=v.plugin),"value"in v&&t(0,i=v.value),"showSuggester"in v&&t(5,a=v.showSuggester),"showTextPrompt"in v&&t(6,o=v.showTextPrompt),"allowsOther"in v&&t(7,c=v.allowsOther),"onValueChange"in v&&t(8,u=v.onValueChange)},[i,n,p,m,h,a,o,c,u,s,l,d]}var rg=class extends et{constructor(e){super(),it(this,e,B9,I9,nt,{plugin:1,value:0,showSuggester:5,showTextPrompt:6,allowsOther:7,onValueChange:8,setValue:9,addValue:10})}get setValue(){return this.$$.ctx[9]}get addValue(){return this.$$.ctx[10]}},UN=rg;var Pf=class extends Yt{filterValue(e){return Pi(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return UN}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){var e;return{showSuggester:()=>this.openModal(),showTextPrompt:()=>this.openTextModal(),allowsOther:((e=this.base.getArgument("allowOther"))==null?void 0:e.value)===!0}}openModal(){this.base.plugin.internal.openSuggesterModal(this,e=>{let t=this.getInternalValue();t.push(e.value),this.setInternalValue(t)})}openTextModal(){this.base.plugin.internal.openTextPromptModal({title:"Meta Bind List Suggester",subTitle:"Create a new List Element.",value:"",multiline:!1,onSubmit:e=>{let t=this.getInternalValue();t.push(e),this.setInternalValue(t)},onCancel:()=>{}})}};function VN(r,e,t){let n=r.slice();return n[8]=e[t],n}function qN(r){let e,t=r[8].name+"",n,i;return{c(){e=re("option"),n=je(t),e.__value=i=r[8].value,Je(e,e.__value)},m(a,o){Z(a,e,o),ae(e,n)},p(a,o){o&2&&t!==(t=a[8].name+"")&&mt(n,t),o&2&&i!==(i=a[8].value)&&(e.__value=i,Je(e,e.__value))},d(a){a&&j(e)}}}function P9(r){let e,t,n,i=ft(r[1]),a=[];for(let o=0;o<i.length;o+=1)a[o]=qN(VN(r,i,o));return{c(){e=re("select");for(let o=0;o<a.length;o+=1)a[o].c();z(e,"class","dropdown"),r[0]===void 0&&bn(()=>r[6].call(e))},m(o,c){Z(o,e,c);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(e,null);Jr(e,r[0],!0),t||(n=[Pe(e,"change",r[6]),Pe(e,"change",r[7])],t=!0)},p(o,[c]){if(c&2){i=ft(o[1]);let u;for(u=0;u<i.length;u+=1){let s=VN(o,i,u);a[u]?a[u].p(s,c):(a[u]=qN(s),a[u].c(),a[u].m(e,null))}for(;u<a.length;u+=1)a[u].d(1);a.length=i.length}c&3&&Jr(e,o[0])},i:Ke,o:Ke,d(o){o&&j(e),Qt(a,o),t=!1,Et(n)}}}function O9(r,e,t){let{plugin:n}=e,{value:i}=e,{options:a}=e,{onValueChange:o}=e;function c(f){t(0,i=f)}function u(){o(i)}function s(){i=wi(this),t(0,i),t(1,a)}let l=()=>u();return r.$$set=f=>{"plugin"in f&&t(3,n=f.plugin),"value"in f&&t(0,i=f.value),"options"in f&&t(1,a=f.options),"onValueChange"in f&&t(4,o=f.onValueChange)},[i,a,u,n,o,c,s,l]}var ng=class extends et{constructor(e){super(),it(this,e,O9,P9,nt,{plugin:3,value:0,options:1,onValueChange:4,setValue:5})}get setValue(){return this.$$.ctx[5]}},zN=ng;var Of=class extends Yt{constructor(e){super(e),this.options=this.base.getArguments("option")}filterValue(e){return uo(e)}getFallbackDefaultValue(){return null}getSvelteComponent(){return zN}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{options:this.options}}};function $N(r,e,t){let n=r.slice();return n[15]=e[t],n[17]=t,n}function HN(r){let e;return{c(){e=re("span"),e.textContent="Empty",z(e,"class","mb-list-empty")},m(t,n){Z(t,e,n)},p:Ke,d(t){t&&j(e)}}}function k9(r){let e,t;return e=new Pr({props:{plugin:r[1],iconName:"more-vertical"}}),{c(){Re(e.$$.fragment)},m(n,i){Oe(e,n,i),t=!0},p(n,i){let a={};i&2&&(a.plugin=n[1]),e.$set(a)},i(n){t||(ne(e.$$.fragment,n),t=!0)},o(n){ue(e.$$.fragment,n),t=!1},d(n){ke(e,n)}}}function GN(r){let e,t,n,i,a,o;t=new ki({props:{value:r[15]}});function c(...u){return r[10](r[17],...u)}return i=new jt({props:{variant:"plain",$$slots:{default:[k9]},$$scope:{ctx:r}}}),i.$on("click",c),{c(){e=re("div"),Re(t.$$.fragment),n=xe(),Re(i.$$.fragment),a=xe(),z(e,"class","mb-list-item")},m(u,s){Z(u,e,s),Oe(t,e,null),ae(e,n),Oe(i,e,null),ae(e,a),o=!0},p(u,s){r=u;let l={};s&1&&(l.value=r[15]),t.$set(l);let f={};s&262146&&(f.$$scope={dirty:s,ctx:r}),i.$set(f)},i(u){o||(ne(t.$$.fragment,u),ne(i.$$.fragment,u),o=!0)},o(u){ue(t.$$.fragment,u),ue(i.$$.fragment,u),o=!1},d(u){u&&j(e),ke(t),ke(i)}}}function R9(r){let e,t,n;return{c(){e=re("input"),z(e,"type","text"),z(e,"tabindex","0"),z(e,"placeholder",r[3]),z(e,"maxlength",r[2])},m(i,a){Z(i,e,a),Je(e,r[5]),t||(n=Pe(e,"input",r[12]),t=!0)},p(i,a){a&8&&z(e,"placeholder",i[3]),a&4&&z(e,"maxlength",i[2]),a&32&&e.value!==i[5]&&Je(e,i[5])},d(i){i&&j(e),t=!1,n()}}}function L9(r){let e,t,n;return{c(){e=re("textarea"),z(e,"tabindex","0"),z(e,"placeholder",r[3]),z(e,"maxlength",r[2])},m(i,a){Z(i,e,a),Je(e,r[5]),t||(n=Pe(e,"input",r[11]),t=!0)},p(i,a){a&8&&z(e,"placeholder",i[3]),a&4&&z(e,"maxlength",i[2]),a&32&&Je(e,i[5])},d(i){i&&j(e),t=!1,n()}}}function WN(r){let e,t=YN(r[0].length,r[2])+"",n,i;return{c(){e=re("span"),n=je(t),z(e,"class",i=`mb-content-limit-indicator ${r[0].length>r[2]?"mb-content-limit-indicator-overflow":""}`)},m(a,o){Z(a,e,o),ae(e,n)},p(a,o){o&5&&t!==(t=YN(a[0].length,a[2])+"")&&mt(n,t),o&5&&i!==(i=`mb-content-limit-indicator ${a[0].length>a[2]?"mb-content-limit-indicator-overflow":""}`)&&z(e,"class",i)},d(a){a&&j(e)}}}function U9(r){let e,t;return e=new Pr({props:{plugin:r[1],iconName:"plus"}}),{c(){Re(e.$$.fragment)},m(n,i){Oe(e,n,i),t=!0},p(n,i){let a={};i&2&&(a.plugin=n[1]),e.$set(a)},i(n){t||(ne(e.$$.fragment,n),t=!0)},o(n){ue(e.$$.fragment,n),t=!1},d(n){ke(e,n)}}}function V9(r){let e,t,n,i,a,o,c,u=ft(r[0]),s=[];for(let v=0;v<u.length;v+=1)s[v]=GN($N(r,u,v));let l=v=>ue(s[v],1,1,()=>{s[v]=null}),f=null;u.length||(f=HN(r));function p(v,y){return v[4]?L9:R9}let m=p(r,-1),h=m(r),d=r[2]!==void 0&&WN(r);return o=new jt({props:{disabled:!r[5],$$slots:{default:[U9]},$$scope:{ctx:r}}}),o.$on("click",r[13]),{c(){e=re("div");for(let v=0;v<s.length;v+=1)s[v].c();f&&f.c(),t=xe(),n=re("div"),h.c(),i=xe(),d&&d.c(),a=xe(),Re(o.$$.fragment),z(e,"class","mb-list-items"),z(n,"class","mb-list-input")},m(v,y){Z(v,e,y);for(let S=0;S<s.length;S+=1)s[S]&&s[S].m(e,null);f&&f.m(e,null),Z(v,t,y),Z(v,n,y),h.m(n,null),ae(n,i),d&&d.m(n,null),ae(n,a),Oe(o,n,null),c=!0},p(v,[y]){if(y&131){u=ft(v[0]);let b;for(b=0;b<u.length;b+=1){let w=$N(v,u,b);s[b]?(s[b].p(w,y),ne(s[b],1)):(s[b]=GN(w),s[b].c(),ne(s[b],1),s[b].m(e,null))}for(Bt(),b=u.length;b<s.length;b+=1)l(b);Pt(),!u.length&&f?f.p(v,y):u.length?f&&(f.d(1),f=null):(f=HN(v),f.c(),f.m(e,null))}m===(m=p(v,y))&&h?h.p(v,y):(h.d(1),h=m(v),h&&(h.c(),h.m(n,i))),v[2]!==void 0?d?d.p(v,y):(d=WN(v),d.c(),d.m(n,a)):d&&(d.d(1),d=null);let S={};y&32&&(S.disabled=!v[5]),y&262146&&(S.$$scope={dirty:y,ctx:v}),o.$set(S)},i(v){if(!c){for(let y=0;y<u.length;y+=1)ne(s[y]);ne(o.$$.fragment,v),c=!0}},o(v){s=s.filter(Boolean);for(let y=0;y<s.length;y+=1)ue(s[y]);ue(o.$$.fragment,v),c=!1},d(v){v&&(j(e),j(t),j(n)),Qt(s,v),f&&f.d(),h.d(),d&&d.d(),ke(o)}}}function YN(r,e){let t=e.toString();return`${r.toString().padStart(t.length,"0")}/${t}`}function q9(r,e,t){let{plugin:n}=e,{value:i}=e,{limit:a}=e,{placeholder:o}=e,{multiLine:c}=e,{onValueChange:u}=e,s="";function l(S){t(0,i=S)}function f(){i.push(s),u(i),t(5,s=""),t(0,i)}function p(S){i.splice(S,1),u(i),t(0,i)}function m(S,b){let w=[];b>0&&w.push({name:"Move up",icon:"arrow-up",onclick:()=>{let _=i[b-1];t(0,i[b-1]=i[b],i),t(0,i[b]=_,i),u(i)}}),b<i.length-1&&w.push({name:"Move down",icon:"arrow-down",onclick:()=>{let _=i[b+1];t(0,i[b+1]=i[b],i),t(0,i[b]=_,i),u(i)}}),w.push({name:"Edit",icon:"pencil",onclick:()=>{n.internal.openTextPromptModal({title:"Meta Bind List",subTitle:"Edit the value of a list item.",value:Ba(i[b]),multiline:c,onSubmit:_=>{t(0,i[b]=_,i),u(i)},onCancel:()=>{}})}}),w.push({name:"Remove",icon:"x",warning:!0,onclick:()=>p(b)}),n.internal.createContextMenu(w).showWithEvent(S)}let h=(S,b)=>m(b,S);function d(){s=this.value,t(5,s)}function v(){s=this.value,t(5,s)}let y=()=>f();return r.$$set=S=>{"plugin"in S&&t(1,n=S.plugin),"value"in S&&t(0,i=S.value),"limit"in S&&t(2,a=S.limit),"placeholder"in S&&t(3,o=S.placeholder),"multiLine"in S&&t(4,c=S.multiLine),"onValueChange"in S&&t(8,u=S.onValueChange)},[i,n,a,o,c,s,f,m,u,l,h,d,v,y]}var ig=class extends et{constructor(e){super(),it(this,e,q9,V9,nt,{plugin:1,value:0,limit:2,placeholder:3,multiLine:4,onValueChange:8,setValue:9})}get setValue(){return this.$$.ctx[9]}},jN=ig;var kf=class extends Yt{filterValue(e){return Pi(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return jN}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){var e,t,n,i;return{placeholder:(t=(e=this.base.getArgument("placeholder"))==null?void 0:e.value)!=null?t:"New Entry...",limit:(n=this.base.getArgument("limit"))==null?void 0:n.value,multiLine:((i=this.base.getArgument("multiLine"))==null?void 0:i.value)===!0}}};function ZN(r,e,t){let n=r.slice();return n[14]=e[t],n[16]=t,n}function JN(r){let e;return{c(){e=re("span"),e.textContent="Empty",z(e,"class","mb-list-empty")},m(t,n){Z(t,e,n)},p:Ke,d(t){t&&j(e)}}}function z9(r){let e,t;return e=new Pr({props:{plugin:r[1],iconName:"more-vertical"}}),{c(){Re(e.$$.fragment)},m(n,i){Oe(e,n,i),t=!0},p(n,i){let a={};i&2&&(a.plugin=n[1]),e.$set(a)},i(n){t||(ne(e.$$.fragment,n),t=!0)},o(n){ue(e.$$.fragment,n),t=!1},d(n){ke(e,n)}}}function XN(r){let e,t,n,i,a,o;t=new ki({props:{value:r[14]}});function c(...u){return r[9](r[16],...u)}return i=new jt({props:{variant:"plain",$$slots:{default:[z9]},$$scope:{ctx:r}}}),i.$on("click",c),{c(){e=re("div"),Re(t.$$.fragment),n=xe(),Re(i.$$.fragment),a=xe(),z(e,"class","mb-list-item")},m(u,s){Z(u,e,s),Oe(t,e,null),ae(e,n),Oe(i,e,null),ae(e,a),o=!0},p(u,s){r=u;let l={};s&1&&(l.value=r[14]),t.$set(l);let f={};s&131074&&(f.$$scope={dirty:s,ctx:r}),i.$set(f)},i(u){o||(ne(t.$$.fragment,u),ne(i.$$.fragment,u),o=!0)},o(u){ue(t.$$.fragment,u),ue(i.$$.fragment,u),o=!1},d(u){u&&j(e),ke(t),ke(i)}}}function $9(r){let e;return{c(){e=je("Add new item")},m(t,n){Z(t,e,n)},d(t){t&&j(e)}}}function QN(r){let e,t;return e=new jt({props:{variant:"default",$$slots:{default:[H9]},$$scope:{ctx:r}}}),e.$on("click",r[11]),{c(){Re(e.$$.fragment)},m(n,i){Oe(e,n,i),t=!0},p(n,i){let a={};i&131072&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||(ne(e.$$.fragment,n),t=!0)},o(n){ue(e.$$.fragment,n),t=!1},d(n){ke(e,n)}}}function H9(r){let e;return{c(){e=je("Add other item")},m(t,n){Z(t,e,n)},d(t){t&&j(e)}}}function G9(r){let e,t,n,i,a,o,c=ft(r[0]),u=[];for(let p=0;p<c.length;p+=1)u[p]=XN(ZN(r,c,p));let s=p=>ue(u[p],1,1,()=>{u[p]=null}),l=null;c.length||(l=JN(r)),i=new jt({props:{variant:"default",$$slots:{default:[$9]},$$scope:{ctx:r}}}),i.$on("click",r[10]);let f=r[4]&&QN(r);return{c(){e=re("div");for(let p=0;p<u.length;p+=1)u[p].c();l&&l.c(),t=xe(),n=re("div"),Re(i.$$.fragment),a=xe(),f&&f.c(),z(e,"class","mb-list-items"),z(n,"class","mb-list-input")},m(p,m){Z(p,e,m);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(e,null);l&&l.m(e,null),Z(p,t,m),Z(p,n,m),Oe(i,n,null),ae(n,a),f&&f.m(n,null),o=!0},p(p,[m]){if(m&35){c=ft(p[0]);let d;for(d=0;d<c.length;d+=1){let v=ZN(p,c,d);u[d]?(u[d].p(v,m),ne(u[d],1)):(u[d]=XN(v),u[d].c(),ne(u[d],1),u[d].m(e,null))}for(Bt(),d=c.length;d<u.length;d+=1)s(d);Pt(),!c.length&&l?l.p(p,m):c.length?l&&(l.d(1),l=null):(l=JN(p),l.c(),l.m(e,null))}let h={};m&131072&&(h.$$scope={dirty:m,ctx:p}),i.$set(h),p[4]?f?(f.p(p,m),m&16&&ne(f,1)):(f=QN(p),f.c(),ne(f,1),f.m(n,null)):f&&(Bt(),ue(f,1,1,()=>{f=null}),Pt())},i(p){if(!o){for(let m=0;m<c.length;m+=1)ne(u[m]);ne(i.$$.fragment,p),ne(f),o=!0}},o(p){u=u.filter(Boolean);for(let m=0;m<u.length;m+=1)ue(u[m]);ue(i.$$.fragment,p),ue(f),o=!1},d(p){p&&(j(e),j(t),j(n)),Qt(u,p),l&&l.d(),ke(i),f&&f.d()}}}function W9(r,e,t){let{plugin:n}=e,{value:i}=e,{showSuggester:a}=e,{showTextPrompt:o}=e,{allowOther:c}=e,{onValueChange:u}=e;function s(y){t(0,i=y)}function l(y){i.push(y),t(0,i)}function f(y){i.splice(y,1),u(i),t(0,i)}function p(y){y.key===" "&&a()}function m(y,S){let b=[];S>0&&b.push({name:"Move up",icon:"arrow-up",onclick:()=>{let w=i[S-1];t(0,i[S-1]=i[S],i),t(0,i[S]=w,i),u(i)}}),S<i.length-1&&b.push({name:"Move down",icon:"arrow-down",onclick:()=>{let w=i[S+1];t(0,i[S+1]=i[S],i),t(0,i[S]=w,i),u(i)}}),b.push({name:"Remove",icon:"x",warning:!0,onclick:()=>f(S)}),n.internal.createContextMenu(b).showWithEvent(y)}let h=(y,S)=>m(S,y),d=()=>a(),v=()=>o();return r.$$set=y=>{"plugin"in y&&t(1,n=y.plugin),"value"in y&&t(0,i=y.value),"showSuggester"in y&&t(2,a=y.showSuggester),"showTextPrompt"in y&&t(3,o=y.showTextPrompt),"allowOther"in y&&t(4,c=y.allowOther),"onValueChange"in y&&t(6,u=y.onValueChange)},[i,n,a,o,c,m,u,s,l,h,d,v]}var ag=class extends et{constructor(e){super(),it(this,e,W9,G9,nt,{plugin:1,value:0,showSuggester:2,showTextPrompt:3,allowOther:4,onValueChange:6,setValue:7,addValue:8})}get setValue(){return this.$$.ctx[7]}get addValue(){return this.$$.ctx[8]}},KN=ag;var Rf=class extends Yt{filterValue(e){return Pi(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return KN}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){var e;return{showSuggester:()=>this.openModal(),showTextPrompt:()=>this.openTextModal(),allowOther:((e=this.base.getArgument("allowOther"))==null?void 0:e.value)===!0}}openModal(){this.base.plugin.internal.openSuggesterModal(this,e=>{let t=this.getInternalValue();t.push(e.value),this.setInternalValue(t)})}openTextModal(){this.base.plugin.internal.openTextPromptModal({title:"Meta Bind List Suggester",subTitle:"Create a new List Element.",value:"",multiline:!1,onSubmit:e=>{let t=this.getInternalValue();t.push(e),this.setInternalValue(t)},onCancel:()=>{}})}};function eA(r,e,t){let n=r.slice();return n[9]=e[t],n}function tA(r){let e,t,n,i,a,o;t=new ki({props:{value:r[9].name}});function c(){return r[7](r[9])}function u(...s){return r[8](r[9],...s)}return{c(){e=re("div"),Re(t.$$.fragment),n=xe(),z(e,"class","mb-select-input-element"),z(e,"role","button"),z(e,"tabindex","0"),Ut(e,"is-selected",r[0].includes(r[9].value))},m(s,l){Z(s,e,l),Oe(t,e,null),ae(e,n),i=!0,a||(o=[Pe(e,"click",c),Pe(e,"keypress",u)],a=!0)},p(s,l){r=s;let f={};l&2&&(f.value=r[9].name),t.$set(f),(!i||l&3)&&Ut(e,"is-selected",r[0].includes(r[9].value))},i(s){i||(ne(t.$$.fragment,s),i=!0)},o(s){ue(t.$$.fragment,s),i=!1},d(s){s&&j(e),ke(t),a=!1,Et(o)}}}function Y9(r){let e,t,n=ft(r[1]),i=[];for(let o=0;o<n.length;o+=1)i[o]=tA(eA(r,n,o));let a=o=>ue(i[o],1,1,()=>{i[o]=null});return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=Mr()},m(o,c){for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(o,c);Z(o,e,c),t=!0},p(o,[c]){if(c&15){n=ft(o[1]);let u;for(u=0;u<n.length;u+=1){let s=eA(o,n,u);i[u]?(i[u].p(s,c),ne(i[u],1)):(i[u]=tA(s),i[u].c(),ne(i[u],1),i[u].m(e.parentNode,e))}for(Bt(),u=n.length;u<i.length;u+=1)a(u);Pt()}},i(o){if(!t){for(let c=0;c<n.length;c+=1)ne(i[c]);t=!0}},o(o){i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)ue(i[c]);t=!1},d(o){o&&j(e),Qt(i,o)}}}function j9(r,e,t){let{plugin:n}=e,{value:i}=e,{options:a}=e,{onValueChange:o}=e;function c(p){t(0,i=p)}function u(p){i.includes(p)?t(0,i=i.filter(m=>m!==p)):(i.push(p),t(0,i)),o(i)}function s(p,m){p.key===" "&&u(m)}let l=p=>u(p.value),f=(p,m)=>s(m,p.value);return r.$$set=p=>{"plugin"in p&&t(4,n=p.plugin),"value"in p&&t(0,i=p.value),"options"in p&&t(1,a=p.options),"onValueChange"in p&&t(5,o=p.onValueChange)},[i,a,u,s,n,o,c,l,f]}var og=class extends et{constructor(e){super(),it(this,e,j9,Y9,nt,{plugin:4,value:0,options:1,onValueChange:5,setValue:6})}get setValue(){return this.$$.ctx[6]}},rA=og;var Lf=class extends Yt{constructor(e){super(e),this.options=this.base.getArguments("option")}filterValue(e){return Pi(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return rA}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{options:this.options}}};function Z9(r){let e,t,n;return{c(){e=re("input"),z(e,"type","number"),z(e,"tabindex","0"),z(e,"placeholder",r[1])},m(i,a){Z(i,e,a),Je(e,r[0]),t||(n=[Pe(e,"input",r[5]),Pe(e,"input",r[6])],t=!0)},p(i,[a]){a&2&&z(e,"placeholder",i[1]),a&1&&yn(e.value)!==i[0]&&Je(e,i[0])},i:Ke,o:Ke,d(i){i&&j(e),t=!1,Et(n)}}}function J9(r,e,t){let{plugin:n}=e,{value:i}=e,{placeholder:a}=e,{onValueChange:o}=e;function c(l){t(0,i=l)}function u(){i=yn(this.value),t(0,i)}let s=()=>o(i);return r.$$set=l=>{"plugin"in l&&t(3,n=l.plugin),"value"in l&&t(0,i=l.value),"placeholder"in l&&t(1,a=l.placeholder),"onValueChange"in l&&t(2,o=l.onValueChange)},[i,a,o,n,c,u,s]}var sg=class extends et{constructor(e){super(),it(this,e,J9,Z9,nt,{plugin:3,value:0,placeholder:1,onValueChange:2,setValue:4})}get setValue(){return this.$$.ctx[4]}},nA=sg;var Uf=class extends Yt{filterValue(e){return tu(e)}getFallbackDefaultValue(){return 0}getSvelteComponent(){return nA}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){var e;return{placeholder:(e=this.base.getArgument("placeholder"))!=null?e:"Number"}}};var{window:bl}=vl;function X9(r){let e,t,n,i,a,o,c,u,s,l,f,p,m,h;return{c(){e=re("div"),t=re("div"),i=xe(),a=re("span"),o=je(r[0]),c=xe(),u=re("span"),s=je(r[1]),l=xe(),f=re("span"),p=je(r[2]),z(t,"class","mb-progress-bar-progress"),z(t,"style",n=`width: ${r[5](r[0])}%`),z(t,"role","slider"),z(t,"aria-valuemin",r[1]),z(t,"aria-valuemax",r[2]),z(t,"aria-valuenow",r[0]),z(t,"tabindex","0"),z(a,"class","mb-progress-bar-value"),z(u,"class","mb-progress-bar-label-left"),z(f,"class","mb-progress-bar-label-right"),z(e,"class","mb-progress-bar-input"),z(e,"tabindex","0"),z(e,"role","button")},m(d,v){Z(d,e,v),ae(e,t),ae(e,i),ae(e,a),ae(a,o),ae(e,c),ae(e,u),ae(u,s),ae(e,l),ae(e,f),ae(f,p),r[15](e),m||(h=[Pe(bl,"touchmove",r[8],{passive:!1}),Pe(bl,"touchcancel",r[6]),Pe(bl,"touchend",r[6]),Pe(bl,"mousemove",r[8]),Pe(bl,"mouseup",r[6]),Pe(t,"dragstart",r[14]),Pe(e,"keydown",r[9]),Pe(e,"mousedown",r[7]),Pe(e,"touchstart",r[7])],m=!0)},p(d,[v]){v&1&&n!==(n=`width: ${d[5](d[0])}%`)&&z(t,"style",n),v&2&&z(t,"aria-valuemin",d[1]),v&4&&z(t,"aria-valuemax",d[2]),v&1&&z(t,"aria-valuenow",d[0]),v&1&&mt(o,d[0]),v&2&&mt(s,d[1]),v&4&&mt(p,d[2])},i:Ke,o:Ke,d(d){d&&j(e),r[15](null),m=!1,Et(h)}}}function Q9(r,e){return Number.parseFloat((Math.round(r/e)*e).toFixed(10))}function K9(r,e,t){let{plugin:n}=e,{onValueChange:i}=e,{value:a}=e,{minValue:o}=e,{maxValue:c}=e,{stepSize:u}=e,s=!1,l,f=0,p;function m(A){t(0,a=A)}function h(A){t(0,a=A),i(A)}function d(A){return A=pl(A,o,c),ph(A,o,c,0,100)}function v(){t(3,s=!0)}function y(){t(3,s=!1)}function S(A){v(),b(A)}function b(A){if(!s)return;A.stopPropagation&&A.stopPropagation(),A.preventDefault&&A.preventDefault();let N=A instanceof TouchEvent?A.touches[0].clientX:A.clientX;w(N)}function w(A){let N=l.getBoundingClientRect();A=pl(A,N.left,N.right);let E=ph(A,N.left,N.right,o,c);E=Q9(E,u),h(E)}function _(A){f<50&&(f+=1);let N=Math.ceil(f/5);if(A.key==="ArrowUp"||A.key==="ArrowRight"){let E=pl(a+N,o,c);h(E)}if(A.key==="ArrowDown"||A.key==="ArrowLeft"){let E=pl(a-N,o,c);h(E)}window.clearTimeout(p),p=window.setTimeout(()=>f=1,100)}let x=()=>t(3,s=!0);function T(A){Nn[A?"unshift":"push"](()=>{l=A,t(4,l)})}return r.$$set=A=>{"plugin"in A&&t(10,n=A.plugin),"onValueChange"in A&&t(11,i=A.onValueChange),"value"in A&&t(0,a=A.value),"minValue"in A&&t(1,o=A.minValue),"maxValue"in A&&t(2,c=A.maxValue),"stepSize"in A&&t(12,u=A.stepSize)},[a,o,c,s,l,d,y,S,b,_,n,i,u,m,x,T]}var ug=class extends et{constructor(e){super(),it(this,e,K9,X9,nt,{plugin:10,onValueChange:11,value:0,minValue:1,maxValue:2,stepSize:12,setValue:13})}get setValue(){return this.$$.ctx[13]}},iA=ug;var Vf=class extends Yt{constructor(e){var t,n,i,a,o,c;if(super(e),this.minValue=(n=(t=this.base.getArgument("minValue"))==null?void 0:t.value)!=null?n:0,this.maxValue=(a=(i=this.base.getArgument("maxValue"))==null?void 0:i.value)!=null?a:100,this.stepSize=(c=(o=this.base.getArgument("stepSize"))==null?void 0:o.value)!=null?c:1,this.minValue>=this.maxValue)throw new Hr({errorLevel:"ERROR",effect:"can not create progress bar input field",cause:`minValue (${this.maxValue}) must be less than maxValue (${this.maxValue})`})}filterValue(e){return Rc(tu(e),this.minValue,this.maxValue)}getFallbackDefaultValue(){return this.minValue}getSvelteComponent(){return iA}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){return{minValue:this.minValue,maxValue:this.maxValue,stepSize:this.stepSize}}};function aA(r,e,t){let n=r.slice();return n[9]=e[t],n}function oA(r){let e,t,n,i,a,o;t=new ki({props:{value:r[9].name}});function c(){return r[7](r[9])}function u(...s){return r[8](r[9],...s)}return{c(){e=re("div"),Re(t.$$.fragment),n=xe(),z(e,"class","mb-select-input-element"),z(e,"role","button"),z(e,"tabindex","0"),Ut(e,"is-selected",r[9].value===r[0])},m(s,l){Z(s,e,l),Oe(t,e,null),ae(e,n),i=!0,a||(o=[Pe(e,"click",c),Pe(e,"keypress",u)],a=!0)},p(s,l){r=s;let f={};l&2&&(f.value=r[9].name),t.$set(f),(!i||l&3)&&Ut(e,"is-selected",r[9].value===r[0])},i(s){i||(ne(t.$$.fragment,s),i=!0)},o(s){ue(t.$$.fragment,s),i=!1},d(s){s&&j(e),ke(t),a=!1,Et(o)}}}function e7(r){let e,t,n=ft(r[1]),i=[];for(let o=0;o<n.length;o+=1)i[o]=oA(aA(r,n,o));let a=o=>ue(i[o],1,1,()=>{i[o]=null});return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=Mr()},m(o,c){for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(o,c);Z(o,e,c),t=!0},p(o,[c]){if(c&15){n=ft(o[1]);let u;for(u=0;u<n.length;u+=1){let s=aA(o,n,u);i[u]?(i[u].p(s,c),ne(i[u],1)):(i[u]=oA(s),i[u].c(),ne(i[u],1),i[u].m(e.parentNode,e))}for(Bt(),u=n.length;u<i.length;u+=1)a(u);Pt()}},i(o){if(!t){for(let c=0;c<n.length;c+=1)ne(i[c]);t=!0}},o(o){i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)ue(i[c]);t=!1},d(o){o&&j(e),Qt(i,o)}}}function t7(r,e,t){let{plugin:n}=e,{value:i}=e,{options:a}=e,{onValueChange:o}=e;function c(p){t(0,i=p)}function u(p){i===p?t(0,i=null):t(0,i=p),o(i)}function s(p,m){p.key===" "&&u(m)}let l=p=>u(p.value),f=(p,m)=>s(m,p.value);return r.$$set=p=>{"plugin"in p&&t(4,n=p.plugin),"value"in p&&t(0,i=p.value),"options"in p&&t(1,a=p.options),"onValueChange"in p&&t(5,o=p.onValueChange)},[i,a,u,s,n,o,c,l,f]}var lg=class extends et{constructor(e){super(),it(this,e,t7,e7,nt,{plugin:4,value:0,options:1,onValueChange:5,setValue:6})}get setValue(){return this.$$.ctx[6]}},sA=lg;var qf=class extends Yt{constructor(e){super(e),this.options=this.base.getArguments("option")}filterValue(e){return uo(e)}getFallbackDefaultValue(){return null}getSvelteComponent(){return sA}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{options:this.options}}};function r7(r){let e,t,n;return{c(){e=re("input"),z(e,"class","mb-slider-input"),z(e,"type","range"),z(e,"tabindex","0"),z(e,"min",r[1]),z(e,"max",r[2]),z(e,"step",r[3])},m(i,a){Z(i,e,a),Je(e,r[0]),t||(n=[Pe(e,"change",r[9]),Pe(e,"input",r[9]),Pe(e,"input",r[10])],t=!0)},p(i,a){a&2&&z(e,"min",i[1]),a&4&&z(e,"max",i[2]),a&8&&z(e,"step",i[3]),a&1&&Je(e,i[0])},d(i){i&&j(e),t=!1,Et(n)}}}function n7(r){let e,t,n,i,a,o,c,u,s;return{c(){e=re("span"),t=je(r[1]),n=xe(),i=re("input"),a=xe(),o=re("span"),c=je(r[2]),z(e,"class","mb-slider-input-label"),z(i,"class","mb-slider-input"),z(i,"type","range"),z(i,"tabindex","0"),z(i,"min",r[1]),z(i,"max",r[2]),z(i,"step",r[3]),z(o,"class","mb-slider-input-label")},m(l,f){Z(l,e,f),ae(e,t),Z(l,n,f),Z(l,i,f),Je(i,r[0]),Z(l,a,f),Z(l,o,f),ae(o,c),u||(s=[Pe(i,"change",r[7]),Pe(i,"input",r[7]),Pe(i,"input",r[8])],u=!0)},p(l,f){f&2&&mt(t,l[1]),f&2&&z(i,"min",l[1]),f&4&&z(i,"max",l[2]),f&8&&z(i,"step",l[3]),f&1&&Je(i,l[0]),f&4&&mt(c,l[2])},d(l){l&&(j(e),j(n),j(i),j(a),j(o)),u=!1,Et(s)}}}function i7(r){let e;function t(a,o){return a[4]?n7:r7}let n=t(r,-1),i=n(r);return{c(){i.c(),e=Mr()},m(a,o){i.m(a,o),Z(a,e,o)},p(a,[o]){n===(n=t(a,o))&&i?i.p(a,o):(i.d(1),i=n(a),i&&(i.c(),i.m(e.parentNode,e)))},i:Ke,o:Ke,d(a){a&&j(e),i.d(a)}}}function a7(r,e,t){let{value:n}=e,{minValue:i}=e,{maxValue:a}=e,{stepSize:o}=e,{addLabels:c}=e,{onValueChange:u}=e;function s(h){t(0,n=h)}function l(){n=yn(this.value),t(0,n)}let f=()=>u(n);function p(){n=yn(this.value),t(0,n)}let m=()=>u(n);return r.$$set=h=>{"value"in h&&t(0,n=h.value),"minValue"in h&&t(1,i=h.minValue),"maxValue"in h&&t(2,a=h.maxValue),"stepSize"in h&&t(3,o=h.stepSize),"addLabels"in h&&t(4,c=h.addLabels),"onValueChange"in h&&t(5,u=h.onValueChange)},[n,i,a,o,c,u,s,l,f,p,m]}var cg=class extends et{constructor(e){super(),it(this,e,a7,i7,nt,{value:0,minValue:1,maxValue:2,stepSize:3,addLabels:4,onValueChange:5,setValue:6})}get setValue(){return this.$$.ctx[6]}},uA=cg;var zf=class extends Yt{constructor(e){var t,n,i,a,o,c;if(super(e),this.minValue=(n=(t=this.base.getArgument("minValue"))==null?void 0:t.value)!=null?n:0,this.maxValue=(a=(i=this.base.getArgument("maxValue"))==null?void 0:i.value)!=null?a:100,this.stepSize=(c=(o=this.base.getArgument("stepSize"))==null?void 0:o.value)!=null?c:1,this.minValue>=this.maxValue)throw new Hr({errorLevel:"ERROR",effect:"can not create slider input field",cause:`minValue (${this.maxValue}) must be less than maxValue (${this.maxValue})`})}filterValue(e){return Rc(tu(e),this.minValue,this.maxValue)}getFallbackDefaultValue(){return this.minValue}getSvelteComponent(){return uA}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){var e;return{minValue:this.minValue,maxValue:this.maxValue,stepSize:this.stepSize,addLabels:((e=this.base.getArgument("addLabels"))==null?void 0:e.value)===!0}}};function o7(r){let e,t;return{c(){e=re("span"),t=je(r[5])},m(n,i){Z(n,e,i),ae(e,t)},p(n,i){i&32&&mt(t,n[5])},i:Ke,o:Ke,d(n){n&&j(e)}}}function s7(r){let e,t,n;function i(o){r[10](o)}let a={};return r[4]!==void 0&&(a.mdLink=r[4]),e=new fo({props:a}),Nn.push(()=>as(e,"mdLink",i)),{c(){Re(e.$$.fragment)},m(o,c){Oe(e,o,c),n=!0},p(o,c){let u={};!t&&c&16&&(t=!0,u.mdLink=o[4],ns(()=>t=!1)),e.$set(u)},i(o){n||(ne(e.$$.fragment,o),n=!0)},o(o){ue(e.$$.fragment,o),n=!1},d(o){ke(e,o)}}}function u7(r){let e,t;return e=new Pr({props:{plugin:r[0],iconName:"list"}}),{c(){Re(e.$$.fragment)},m(n,i){Oe(e,n,i),t=!0},p(n,i){let a={};i&1&&(a.plugin=n[0]),e.$set(a)},i(n){t||(ne(e.$$.fragment,n),t=!0)},o(n){ue(e.$$.fragment,n),t=!1},d(n){ke(e,n)}}}function lA(r){let e,t;return e=new jt({props:{variant:"plain",$$slots:{default:[l7]},$$scope:{ctx:r}}}),e.$on("click",function(){ts(r[2])&&r[2].apply(this,arguments)}),{c(){Re(e.$$.fragment)},m(n,i){Oe(e,n,i),t=!0},p(n,i){r=n;let a={};i&2049&&(a.$$scope={dirty:i,ctx:r}),e.$set(a)},i(n){t||(ne(e.$$.fragment,n),t=!0)},o(n){ue(e.$$.fragment,n),t=!1},d(n){ke(e,n)}}}function l7(r){let e,t;return e=new Pr({props:{plugin:r[0],iconName:"pencil"}}),{c(){Re(e.$$.fragment)},m(n,i){Oe(e,n,i),t=!0},p(n,i){let a={};i&1&&(a.plugin=n[0]),e.$set(a)},i(n){t||(ne(e.$$.fragment,n),t=!0)},o(n){ue(e.$$.fragment,n),t=!1},d(n){ke(e,n)}}}function c7(r){let e,t,n,i,a,o,c,u,s=[s7,o7],l=[];function f(m,h){return m[6]?0:1}n=f(r,-1),i=l[n]=s[n](r),o=new jt({props:{variant:"plain",$$slots:{default:[u7]},$$scope:{ctx:r}}}),o.$on("click",function(){ts(r[1])&&r[1].apply(this,arguments)});let p=r[3]&&lA(r);return{c(){e=re("div"),t=re("div"),i.c(),a=xe(),Re(o.$$.fragment),c=xe(),p&&p.c(),z(t,"class","mb-suggest-text"),z(e,"class","mb-suggest-input")},m(m,h){Z(m,e,h),ae(e,t),l[n].m(t,null),ae(e,a),Oe(o,e,null),ae(e,c),p&&p.m(e,null),u=!0},p(m,[h]){r=m;let d=n;n=f(r,h),n===d?l[n].p(r,h):(Bt(),ue(l[d],1,1,()=>{l[d]=null}),Pt(),i=l[n],i?i.p(r,h):(i=l[n]=s[n](r),i.c()),ne(i,1),i.m(t,null));let v={};h&2049&&(v.$$scope={dirty:h,ctx:r}),o.$set(v),r[3]?p?(p.p(r,h),h&8&&ne(p,1)):(p=lA(r),p.c(),ne(p,1),p.m(e,null)):p&&(Bt(),ue(p,1,1,()=>{p=null}),Pt())},i(m){u||(ne(i),ne(o.$$.fragment,m),ne(p),u=!0)},o(m){ue(i),ue(o.$$.fragment,m),ue(p),u=!1},d(m){m&&j(e),l[n].d(),ke(o),p&&p.d()}}}function f7(r,e,t){let{plugin:n}=e,{value:i}=e,{showSuggester:a}=e,{showTextPrompt:o}=e,{allowOther:c}=e,{onValueChange:u}=e,s,l,f=!1;Ki(()=>{p(i)});function p(h){var d;let v=(d=h==null?void 0:h.toString())!==null&&d!==void 0?d:"null";if(t(6,f=rn.isLink(v)),f)try{t(4,s=rn.parseLink(v))}catch(y){console.warn(y)}else t(5,l=v)}function m(h){s=h,t(4,s)}return r.$$set=h=>{"plugin"in h&&t(0,n=h.plugin),"value"in h&&t(7,i=h.value),"showSuggester"in h&&t(1,a=h.showSuggester),"showTextPrompt"in h&&t(2,o=h.showTextPrompt),"allowOther"in h&&t(3,c=h.allowOther),"onValueChange"in h&&t(8,u=h.onValueChange)},[n,a,o,c,s,l,f,i,u,p,m]}var fg=class extends et{constructor(e){super(),it(this,e,f7,c7,nt,{plugin:0,value:7,showSuggester:1,showTextPrompt:2,allowOther:3,onValueChange:8,setValue:9})}get setValue(){return this.$$.ctx[9]}},cA=fg;var $f=class extends Yt{filterValue(e){return uo(e)}getFallbackDefaultValue(){return null}getSvelteComponent(){return cA}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){var e;return{showSuggester:()=>this.openModal(),showTextPrompt:()=>this.openTextModal(),allowOther:((e=this.base.getArgument("allowOther"))==null?void 0:e.value)===!0}}openModal(){this.base.plugin.internal.openSuggesterModal(this,e=>this.setInternalValue(e.value))}openTextModal(){this.base.plugin.internal.openTextPromptModal({title:"Meta Bind Suggester",subTitle:"Set the suggester value.",value:"",multiline:!1,onSubmit:e=>{this.setInternalValue(e)},onCancel:()=>{}})}};function fA(r){let e,t=pA(r[0].length,r[2])+"",n,i;return{c(){e=re("span"),n=je(t),z(e,"class",i=`mb-content-limit-indicator ${r[0].length>r[2]?"mb-content-limit-indicator-overflow":""}`)},m(a,o){Z(a,e,o),ae(e,n)},p(a,o){o&5&&t!==(t=pA(a[0].length,a[2])+"")&&mt(n,t),o&5&&i!==(i=`mb-content-limit-indicator ${a[0].length>a[2]?"mb-content-limit-indicator-overflow":""}`)&&z(e,"class",i)},d(a){a&&j(e)}}}function p7(r){let e,t,n,i,a,o=r[2]!==void 0&&fA(r);return{c(){e=re("input"),t=xe(),o&&o.c(),n=Mr(),z(e,"type","text"),z(e,"tabindex","0"),z(e,"placeholder",r[1]),z(e,"maxlength",r[2])},m(c,u){Z(c,e,u),Je(e,r[0]),Z(c,t,u),o&&o.m(c,u),Z(c,n,u),i||(a=[Pe(e,"input",r[6]),Pe(e,"input",r[7])],i=!0)},p(c,[u]){u&2&&z(e,"placeholder",c[1]),u&4&&z(e,"maxlength",c[2]),u&1&&e.value!==c[0]&&Je(e,c[0]),c[2]!==void 0?o?o.p(c,u):(o=fA(c),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},i:Ke,o:Ke,d(c){c&&(j(e),j(t),j(n)),o&&o.d(c),i=!1,Et(a)}}}function pA(r,e){let t=e.toString();return`${r.toString().padStart(t.length,"0")}/${t}`}function m7(r,e,t){let{plugin:n}=e,{value:i}=e,{placeholder:a}=e,{limit:o}=e,{onValueChange:c}=e;function u(f){t(0,i=f)}function s(){i=this.value,t(0,i)}let l=()=>c(i);return r.$$set=f=>{"plugin"in f&&t(4,n=f.plugin),"value"in f&&t(0,i=f.value),"placeholder"in f&&t(1,a=f.placeholder),"limit"in f&&t(2,o=f.limit),"onValueChange"in f&&t(3,c=f.onValueChange)},[i,a,o,c,n,u,s,l]}var pg=class extends et{constructor(e){super(),it(this,e,m7,p7,nt,{plugin:4,value:0,placeholder:1,limit:2,onValueChange:3,setValue:5})}get setValue(){return this.$$.ctx[5]}},mA=pg;var Hf=class extends Yt{filterValue(e){return ru(e)}getFallbackDefaultValue(){return""}getSvelteComponent(){return mA}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){var e,t,n;return{placeholder:(t=(e=this.base.getArgument("placeholder"))==null?void 0:e.value)!=null?t:"Text",limit:(n=this.base.getArgument("limit"))==null?void 0:n.value}}};function d7(r){let e,t,n;return{c(){e=re("textarea"),z(e,"tabindex","0"),z(e,"placeholder",r[1]),z(e,"maxlength",r[2])},m(i,a){Z(i,e,a),Je(e,r[0]),t||(n=[Pe(e,"input",r[5]),Pe(e,"input",r[6])],t=!0)},p(i,[a]){a&2&&z(e,"placeholder",i[1]),a&4&&z(e,"maxlength",i[2]),a&1&&Je(e,i[0])},i:Ke,o:Ke,d(i){i&&j(e),t=!1,Et(n)}}}function h7(r,e,t){let{value:n}=e,{placeholder:i}=e,{limit:a}=e,{onValueChange:o}=e;function c(l){t(0,n=l)}function u(){n=this.value,t(0,n)}let s=()=>o(n);return r.$$set=l=>{"value"in l&&t(0,n=l.value),"placeholder"in l&&t(1,i=l.placeholder),"limit"in l&&t(2,a=l.limit),"onValueChange"in l&&t(3,o=l.onValueChange)},[n,i,a,o,c,u,s]}var mg=class extends et{constructor(e){super(),it(this,e,h7,d7,nt,{value:0,placeholder:1,limit:2,onValueChange:3,setValue:4})}get setValue(){return this.$$.ctx[4]}},dA=mg;var Gf=class extends Yt{filterValue(e){return ru(e)}getFallbackDefaultValue(){return""}getSvelteComponent(){return dA}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){var e,t,n;return{placeholder:(t=(e=this.base.getArgument("placeholder"))==null?void 0:e.value)!=null?t:"Text",limit:(n=this.base.getArgument("limit"))==null?void 0:n.value}}};function hA(r,e,t){let n=r.slice();return n[13]=e[t][0],n[14]=e[t][1],n}function gA(r,e,t){let n=r.slice();return n[17]=e[t][0],n[18]=e[t][1],n}function vA(r){let e,t=r[18]+"",n,i;return{c(){e=re("option"),n=je(t),e.__value=i=r[17],Je(e,e.__value)},m(a,o){Z(a,e,o),ae(e,n)},p(a,o){o&1&&t!==(t=a[18]+"")&&mt(n,t),o&1&&i!==(i=a[17])&&(e.__value=i,Je(e,e.__value))},d(a){a&&j(e)}}}function yA(r){let e,t=r[14]+"",n,i;return{c(){e=re("option"),n=je(t),e.__value=i=r[13],Je(e,e.__value)},m(a,o){Z(a,e,o),ae(e,n)},p(a,o){o&2&&t!==(t=a[14]+"")&&mt(n,t),o&2&&i!==(i=a[13])&&(e.__value=i,Je(e,e.__value))},d(a){a&&j(e)}}}function g7(r){let e,t,n,i,a,o,c=ft(Object.entries(r[0])),u=[];for(let f=0;f<c.length;f+=1)u[f]=vA(gA(r,c,f));let s=ft(Object.entries(r[1])),l=[];for(let f=0;f<s.length;f+=1)l[f]=yA(hA(r,s,f));return{c(){e=re("div"),t=re("select");for(let f=0;f<u.length;f+=1)u[f].c();n=xe(),i=re("select");for(let f=0;f<l.length;f+=1)l[f].c();z(t,"class","dropdown mb-input-element-group-element"),r[2]===void 0&&bn(()=>r[9].call(t)),z(i,"class","dropdown mb-input-element-group-element"),r[3]===void 0&&bn(()=>r[11].call(i)),z(e,"class","mb-input-element-group")},m(f,p){Z(f,e,p),ae(e,t);for(let m=0;m<u.length;m+=1)u[m]&&u[m].m(t,null);Jr(t,r[2],!0),ae(e,n),ae(e,i);for(let m=0;m<l.length;m+=1)l[m]&&l[m].m(i,null);Jr(i,r[3],!0),a||(o=[Pe(t,"change",r[9]),Pe(t,"change",r[10]),Pe(i,"change",r[11]),Pe(i,"change",r[12])],a=!0)},p(f,[p]){if(p&1){c=ft(Object.entries(f[0]));let m;for(m=0;m<c.length;m+=1){let h=gA(f,c,m);u[m]?u[m].p(h,p):(u[m]=vA(h),u[m].c(),u[m].m(t,null))}for(;m<u.length;m+=1)u[m].d(1);u.length=c.length}if(p&5&&Jr(t,f[2]),p&2){s=ft(Object.entries(f[1]));let m;for(m=0;m<s.length;m+=1){let h=hA(f,s,m);l[m]?l[m].p(h,p):(l[m]=yA(h),l[m].c(),l[m].m(i,null))}for(;m<l.length;m+=1)l[m].d(1);l.length=s.length}p&10&&Jr(i,f[3])},i:Ke,o:Ke,d(f){f&&j(e),Qt(u,f),Qt(l,f),a=!1,Et(o)}}}function v7(r,e,t){let{value:n}=e,{onValueChange:i}=e,a={},o={},c,u;Ki(()=>{for(let v=0;v<=24;v++)t(0,a[v.toString()]=v.toString().padStart(2,"0"),a);for(let v=0;v<=59;v++)t(1,o[v.toString()]=v.toString().padStart(2,"0"),o);t(3,u=n.getMinute().toString()),t(2,c=n.getHour().toString())});function s(v){t(6,n=v),t(3,u=n.getMinute().toString()),t(2,c=n.getHour().toString())}function l(){n.setMinuteFromString(u),i(n)}function f(){n.setHourFromString(c),i(n)}function p(){c=wi(this),t(2,c),t(0,a)}let m=()=>f();function h(){u=wi(this),t(3,u),t(1,o)}let d=()=>l();return r.$$set=v=>{"value"in v&&t(6,n=v.value),"onValueChange"in v&&t(7,i=v.onValueChange)},[a,o,c,u,l,f,n,i,s,p,m,h,d]}var dg=class extends et{constructor(e){super(),it(this,e,v7,g7,nt,{value:6,onValueChange:7,setValue:8})}get setValue(){return this.$$.ctx[8]}},bA=dg;var xl=dr(gi()),hg=dr(ni()),gg=class{constructor(){this._hour=_i.getDefaultHour(),this._minute=_i.getDefaultHour()}getHour(){return this._hour}setHour(e){if(e<0||e>24){this._hour=_i.getDefaultHour();return}this._hour=e}getMinute(){return this._minute}setMinute(e){if(e<0||e>59){this._minute=_i.getDefaultMinute();return}this._minute=e}getUniformHour(){return this.getHour().toString().padStart(2,"0")}getUniformMinute(){return this.getMinute().toString().padStart(2,"0")}setHourFromString(e){let t=Number.parseInt(e);this.setHour(Number.isNaN(t)?_i.getDefaultHour():t)}setMinuteFromString(e){let t=Number.parseInt(e);this.setMinute(Number.isNaN(t)?_i.getDefaultMinute():t)}},y7=hg.P.sequenceMap((r,e,t,n,i)=>({hour:Number.parseInt(r+e),minute:Number.parseInt(n+i)}),xl.P_UTILS.digit(),xl.P_UTILS.digit(),hg.P.string(":"),xl.P_UTILS.digit(),xl.P_UTILS.digit()),_i=class r{static parse(e){if(!e)return;let t=r.getDefaultTime(),n=y7.tryParse(e);if(n.success&&!(Number.isNaN(n.value.hour)||Number.isNaN(n.value.minute))&&!(n.value.hour<0||n.value.hour>=24)&&!(n.value.minute<0||n.value.minute>=60))return t.setHour(n.value.hour),t.setMinute(n.value.minute),t}static stringify(e){return`${e.getUniformHour()}:${e.getUniformMinute()}`}static getDefaultTime(){return new gg}static getDefaultHour(){return 0}static getDefaultMinute(){return 0}};var Wf=class extends Yt{filterValue(e){let t=ru(e);return _i.parse(t)?t:void 0}getFallbackDefaultValue(){return _i.getDefaultTime()}getSvelteComponent(){return bA}rawMapValue(e){return _i.stringify(e)}rawReverseMapValue(e){return _i.parse(e)}};function b7(r){let e,t,n,i;return{c(){e=re("div"),t=re("input"),z(t,"type","checkbox"),z(t,"tabindex","-1"),t.checked=r[0],z(e,"class","checkbox-container"),z(e,"role","switch"),z(e,"tabindex","0"),z(e,"aria-checked",r[0]),Ut(e,"is-enabled",r[0])},m(a,o){Z(a,e,o),ae(e,t),n||(i=[Pe(e,"click",r[5]),Pe(e,"keypress",r[6])],n=!0)},p(a,[o]){o&1&&(t.checked=a[0]),o&1&&z(e,"aria-checked",a[0]),o&1&&Ut(e,"is-enabled",a[0])},i:Ke,o:Ke,d(a){a&&j(e),n=!1,Et(i)}}}function x7(r,e,t){let{value:n}=e,{onValueChange:i}=e;function a(l){t(0,n=l)}function o(){t(0,n=!n),i(n)}function c(l){l.key===" "&&o()}let u=()=>o(),s=l=>c(l);return r.$$set=l=>{"value"in l&&t(0,n=l.value),"onValueChange"in l&&t(3,i=l.onValueChange)},[n,o,c,i,a,u,s]}var vg=class extends et{constructor(e){super(),it(this,e,x7,b7,nt,{value:0,onValueChange:3,setValue:4})}get setValue(){return this.$$.ctx[4]}},xA=vg;var Yf=class extends Yt{constructor(e){var t,n,i,a;super(e),this.onValue=(n=(t=this.base.getArgument("onValue"))==null?void 0:t.value)!=null?n:!0,this.offValue=(a=(i=this.base.getArgument("offValue"))==null?void 0:i.value)!=null?a:!1}filterValue(e){return e===this.onValue||e===this.offValue?uo(e):void 0}getFallbackDefaultValue(){return!1}getSvelteComponent(){return xA}rawReverseMapValue(e){return e===this.onValue?!0:(e===this.offValue,!1)}rawMapValue(e){return e?this.onValue:this.offValue}};function wA(r,e,t){let n=r.slice();return n[11]=e[t],n[13]=t,n}function w7(r){let e,t;return e=new Pr({props:{iconName:"more-vertical",plugin:r[1]}}),{c(){Re(e.$$.fragment)},m(n,i){Oe(e,n,i),t=!0},p(n,i){let a={};i&2&&(a.plugin=n[1]),e.$set(a)},i(n){t||(ne(e.$$.fragment,n),t=!0)},o(n){ue(e.$$.fragment,n),t=!1},d(n){ke(e,n)}}}function _A(r){let e,t,n,i,a,o,c,u=r[11]+"",s,l,f,p,m;function h(...d){return r[7](r[13],...d)}return f=new jt({props:{variant:"plain",$$slots:{default:[w7]},$$scope:{ctx:r}}}),f.$on("click",h),{c(){e=re("div"),t=re("img"),a=xe(),o=re("div"),c=re("span"),s=je(u),l=xe(),Re(f.$$.fragment),p=xe(),z(t,"class","mb-image-card-image"),Oi(t.src,n=r[1].internal.imagePathToUri(r[11]))||z(t,"src",n),z(t,"alt",i=r[11]),z(o,"class","mb-image-card-footer"),z(e,"class","mb-image-card")},m(d,v){Z(d,e,v),ae(e,t),ae(e,a),ae(e,o),ae(o,c),ae(c,s),ae(o,l),Oe(f,o,null),ae(e,p),m=!0},p(d,v){r=d,(!m||v&3&&!Oi(t.src,n=r[1].internal.imagePathToUri(r[11])))&&z(t,"src",n),(!m||v&1&&i!==(i=r[11]))&&z(t,"alt",i),(!m||v&1)&&u!==(u=r[11]+"")&&mt(s,u);let y={};v&16386&&(y.$$scope={dirty:v,ctx:r}),f.$set(y)},i(d){m||(ne(f.$$.fragment,d),m=!0)},o(d){ue(f.$$.fragment,d),m=!1},d(d){d&&j(e),ke(f)}}}function _7(r){let e;return{c(){e=je("Add new image")},m(t,n){Z(t,e,n)},d(t){t&&j(e)}}}function S7(r){let e,t,n,i,a,o=ft(r[0]),c=[];for(let s=0;s<o.length;s+=1)c[s]=_A(wA(r,o,s));let u=s=>ue(c[s],1,1,()=>{c[s]=null});return i=new jt({props:{variant:"default",$$slots:{default:[_7]},$$scope:{ctx:r}}}),i.$on("click",r[8]),{c(){e=re("div");for(let s=0;s<c.length;s+=1)c[s].c();t=xe(),n=re("div"),Re(i.$$.fragment),z(e,"class","mb-image-card-grid"),z(n,"class","mb-list-input")},m(s,l){Z(s,e,l);for(let f=0;f<c.length;f+=1)c[f]&&c[f].m(e,null);Z(s,t,l),Z(s,n,l),Oe(i,n,null),a=!0},p(s,[l]){if(l&11){o=ft(s[0]);let p;for(p=0;p<o.length;p+=1){let m=wA(s,o,p);c[p]?(c[p].p(m,l),ne(c[p],1)):(c[p]=_A(m),c[p].c(),ne(c[p],1),c[p].m(e,null))}for(Bt(),p=o.length;p<c.length;p+=1)u(p);Pt()}let f={};l&16384&&(f.$$scope={dirty:l,ctx:s}),i.$set(f)},i(s){if(!a){for(let l=0;l<o.length;l+=1)ne(c[l]);ne(i.$$.fragment,s),a=!0}},o(s){c=c.filter(Boolean);for(let l=0;l<c.length;l+=1)ue(c[l]);ue(i.$$.fragment,s),a=!1},d(s){s&&(j(e),j(t),j(n)),Qt(c,s),ke(i)}}}function D7(r,e,t){let{plugin:n}=e,{value:i}=e,{showSuggester:a}=e,{onValueChange:o}=e;function c(h){t(0,i=h)}function u(h){i.push(h),t(0,i)}function s(h){i.splice(h,1),o(i),t(0,i)}function l(h){h.key===" "&&a()}function f(h,d){let v=[];d>0&&v.push({name:"Move left",icon:"arrow-left",onclick:()=>{let y=i[d-1];t(0,i[d-1]=i[d],i),t(0,i[d]=y,i),o(i)}}),d<i.length-1&&v.push({name:"Move right",icon:"arrow-right",onclick:()=>{let y=i[d+1];t(0,i[d+1]=i[d],i),t(0,i[d]=y,i),o(i)}}),v.push({name:"Remove",icon:"x",warning:!0,onclick:()=>s(d)}),n.internal.createContextMenu(v).showWithEvent(h)}let p=(h,d)=>f(d,h),m=()=>a();return r.$$set=h=>{"plugin"in h&&t(1,n=h.plugin),"value"in h&&t(0,i=h.value),"showSuggester"in h&&t(2,a=h.showSuggester),"onValueChange"in h&&t(4,o=h.onValueChange)},[i,n,a,f,o,c,u,p,m]}var yg=class extends et{constructor(e){super(),it(this,e,D7,S7,nt,{plugin:1,value:0,showSuggester:2,onValueChange:4,setValue:5,addValue:6})}get setValue(){return this.$$.ctx[5]}get addValue(){return this.$$.ctx[6]}},SA=yg;var jf=class extends Yt{filterValue(e){return Pi(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return SA}rawMapValue(e){return e}rawReverseMapValue(e){return e.map(t=>Ba(t)).filter(t=>t!==void 0)}getMountArgs(){return{showSuggester:()=>this.openModal()}}openModal(){this.base.plugin.internal.openImageSuggesterModal(this,e=>{let t=this.getInternalValue();t.push(e),this.setInternalValue(t)})}};var Zf=class{constructor(e){this.plugin=e}createInputField(e){let t=e.declaration.inputFieldType,n=e.renderChildType;if(t!=="invalid"&&this.checkRenderChildTypeAllowed(t,n),t==="toggle")return new Yf(e);if(t==="slider")return new zf(e);if(t==="text")return new Hf(e);if(t==="textArea")return new Gf(e);if(t==="select")return new qf(e);if(t==="multiSelect")return new Lf(e);if(t==="datePicker")return new Mf(e);if(t==="number")return new Uf(e);if(t==="suggester")return new $f(e);if(t==="editor")return new Cf(e);if(t==="progressBar")return new Vf(e);if(t==="inlineSelect")return new Of(e);if(t==="imageSuggester")return new Ff(e);if(t==="list")return new kf(e);if(t==="listSuggester")return new Rf(e);if(t==="date")return new Tf(e);if(t==="time")return new Wf(e);if(t==="inlineListSuggester")return new Pf(e);if(t==="inlineList")return new Bf(e);if(t==="imageListSuggester")return new jf(e);}checkRenderChildTypeAllowed(e,t){if(this.plugin.settings.ignoreCodeBlockRestrictions)return;let n=YD[e];if(t==="block"&&!n.allowInBlock)throw new Fa({errorLevel:"ERROR",effect:"can not create input field",cause:`input fields of type '${e}' are not allowed inside of code blocks`,docs:[kr.linkToInputField(e)]});if(t==="inline"&&!n.allowInline)throw new Fa({errorLevel:"ERROR",effect:"can not create input field",cause:`input fields of type '${e}' are not allowed inside of inline code blocks`,docs:[kr.linkToInputField(e)]})}};var Jf=class extends On{constructor(e,t,n,i){super(e,t,n),this.declaration=i,this.declarationString=i.declarationString,this.errorCollection=new Kt(this.getUuid()),this.errorCollection.merge(i.errorCollection),this.variables=[],this.buildVariables()}buildVariables(){var e;if(this.errorCollection.isEmpty())try{for(let t of(e=this.declaration.bindTargetMappings)!=null?e:[])this.variables.push({bindTargetDeclaration:t.bindTarget,inputSignal:new Xr(void 0),uuid:Tr(),contextName:t.name})}catch(t){this.errorCollection.add(t)}}buildContext(){var t,n;let e={};for(let i of(t=this.variables)!=null?t:[])!i.contextName||!i.inputSignal||(e[i.contextName]=(n=i.inputSignal.get())!=null?n:"");return e}evaluate(){return St(this,null,function*(){var e;return(e=this.jsRenderer)==null?void 0:e.evaluate({bound:this.buildContext()})})}registerSelfToMetadataManager(){let e=new Xr(void 0);this.metadataSubscription=this.plugin.metadataManager.subscribeComputed(this.getUuid(),e,this.declaration.writeToBindTarget,this.variables.map(t=>({bindTarget:t.bindTargetDeclaration,callbackSignal:t.inputSignal})),()=>St(this,null,function*(){return yield this.evaluate()}),()=>this.unmount())}unregisterSelfFromMetadataManager(){var e;(e=this.metadataSubscription)==null||e.unsubscribe()}createErrorIndicator(e){this.plugin.internal.createErrorIndicator(e,{errorCollection:this.errorCollection,errorText:"Errors caused the creation of the field to fail. Sometimes one error only occurs because of another.",warningText:"Warnings will not cause the creation of a field to fail, but they indicate that a part of the declaration was invalid or uses deprecated functionality.",code:this.declarationString})}onMount(e){if(console.debug("meta-bind | JsViewField >> mount",this.declaration),vt.addClass(e,"mb-view"),vt.empty(e),this.plugin.internal.isJsEngineAvailable()||this.errorCollection.add(new cl({errorLevel:"ERROR",effect:"can not create js view field",cause:"The JS Engine plugin is not installed and enabled."})),!this.plugin.settings.enableJs)throw new cl({errorLevel:"CRITICAL",effect:"Can't evaluate expression.",cause:"JS expressions are disabled in the plugin settings."});if(this.createErrorIndicator(e),this.errorCollection.hasErrors())return;let t=document.createElement("div");vt.addClass(t,"mb-view-wrapper"),this.jsRenderer=this.plugin.internal.createJsRenderer(t,this.getFilePath(),this.declaration.code),this.registerSelfToMetadataManager(),e.appendChild(t)}onUnmount(e){console.debug("meta-bind | JsViewField >> unmount",this.declaration),this.unregisterSelfFromMetadataManager(),ti(e,"js view field")}};var Xf=class extends On{constructor(e,t,n,i,a){super(e,t,n),this.renderChildType=i,this.declaration=a,this.declarationString=a.declarationString,this.errorCollection=new Kt(this.getUuid()),this.errorCollection.merge(a.errorCollection)}hasArgument(e){return this.getArguments(e).length>0}getArgument(e){return this.getArguments(e).at(0)}getArguments(e){if(this.declaration.errorCollection.hasErrors())throw new vr({errorLevel:"ERROR",effect:"an not retrieve arguments",cause:"viewFieldDeclaration has errors"});return this.declaration.argumentContainer.getAll(e)}getDeclaration(){return this.declaration}createViewField(){if(!this.errorCollection.hasErrors())try{this.viewField=this.plugin.api.viewFieldFactory.createViewField(this)}catch(e){this.errorCollection.add(e)}!this.errorCollection.hasErrors()&&!this.viewField&&this.errorCollection.add(new vr({errorLevel:"CRITICAL",effect:"can't render view field",cause:"view field is undefined"}))}createErrorIndicator(e){this.plugin.internal.createErrorIndicator(e,{errorCollection:this.errorCollection,errorText:"Errors caused the creation of the field to fail. Sometimes one error only occurs because of another.",warningText:"Warnings will not cause the creation of a field to fail, but they indicate that a part of the declaration was invalid or uses deprecated functionality.",code:this.declarationString})}onMount(e){var n;if(console.debug("meta-bind | ViewFieldBase >> mount",this.declaration),vt.empty(e),vt.addClass(e,"mb-view"),this.createViewField(),this.errorCollection.hasErrors()){this.createErrorIndicator(e);return}let t=document.createElement("div");vt.addClass(t,"mb-view-wrapper");try{(n=this.viewField)==null||n.mount(t)}catch(i){this.errorCollection.add(i)}this.createErrorIndicator(e),e.append(t),vt.addClass(t,`mb-view-type-${this.declaration.viewFieldType}`),this.renderChildType==="block"?vt.addClass(e,"mb-view-block"):vt.addClass(e,"mb-view-inline")}onUnmount(e){var t;console.debug("meta-bind | ViewFieldBase >> unmount",this.declaration),(t=this.viewField)==null||t.unmount(),ti(e,"view field")}};var ma=class extends ii{constructor(e){super(),this.base=e,this.inputSignal=new Xr(void 0),this.variables=[],this.hidden=!1}initialRender(e){return St(this,null,function*(){var t,n;vt.addClass(e,"mb-view-text"),this.hidden=(n=(t=this.base.getArgument("hidden"))==null?void 0:t.value)!=null?n:!1,this.hidden&&vt.addClass(e,"mb-view-hidden"),yield this.onInitialRender(e),yield this.rerender(e,"")})}rerender(e,t){return St(this,null,function*(){var n;if(!this.hidden){let i=(n=uf(t,this.base.plugin.settings.viewFieldDisplayNullAsEmpty))!=null?n:"";vt.empty(e),yield this.onRerender(e,i)}})}onMount(e){this.buildVariables(),this.inputSignal.registerListener({callback:t=>void this.rerender(e,t)}),this.metadataSubscription=this.base.plugin.metadataManager.subscribeComputed(this.base.getUuid(),this.inputSignal,this.base.getDeclaration().writeToBindTarget,this.variables.map(t=>({bindTarget:t.bindTargetDeclaration,callbackSignal:t.inputSignal})),()=>St(this,null,function*(){return yield this.computeValue()}),()=>this.base.unmount()),this.initialRender(e)}onUnmount(){var e;this.inputSignal.unregisterAllListeners(),(e=this.metadataSubscription)==null||e.unsubscribe()}};function N7(r){let e,t;return e=new If({props:{elements:r[0],$$slots:{default:[T7,({element:n})=>({1:n}),({element:n})=>n?2:0]},$$scope:{ctx:r}}}),{c(){Re(e.$$.fragment)},m(n,i){Oe(e,n,i),t=!0},p(n,i){let a={};i&1&&(a.elements=n[0]),i&6&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||(ne(e.$$.fragment,n),t=!0)},o(n){ue(e.$$.fragment,n),t=!1},d(n){ke(e,n)}}}function A7(r){let e,t;return e=new fo({props:{mdLink:r[0][0]}}),{c(){Re(e.$$.fragment)},m(n,i){Oe(e,n,i),t=!0},p(n,i){let a={};i&1&&(a.mdLink=n[0][0]),e.$set(a)},i(n){t||(ne(e.$$.fragment,n),t=!0)},o(n){ue(e.$$.fragment,n),t=!1},d(n){ke(e,n)}}}function E7(r){let e;return{c(){e=re("span")},m(t,n){Z(t,e,n)},p:Ke,i:Ke,o:Ke,d(t){t&&j(e)}}}function T7(r){let e,t;return e=new fo({props:{mdLink:r[1]}}),{c(){Re(e.$$.fragment)},m(n,i){Oe(e,n,i),t=!0},p(n,i){let a={};i&2&&(a.mdLink=n[1]),e.$set(a)},i(n){t||(ne(e.$$.fragment,n),t=!0)},o(n){ue(e.$$.fragment,n),t=!1},d(n){ke(e,n)}}}function M7(r){let e,t,n,i,a=[E7,A7,N7],o=[];function c(u,s){return u[0].length===0?0:u[0].length===1?1:2}return e=c(r,-1),t=o[e]=a[e](r),{c(){t.c(),n=Mr()},m(u,s){o[e].m(u,s),Z(u,n,s),i=!0},p(u,[s]){let l=e;e=c(u,s),e===l?o[e].p(u,s):(Bt(),ue(o[l],1,1,()=>{o[l]=null}),Pt(),t=o[e],t?t.p(u,s):(t=o[e]=a[e](u),t.c()),ne(t,1),t.m(n.parentNode,n))},i(u){i||(ne(t),i=!0)},o(u){ue(t),i=!1},d(u){u&&j(n),o[e].d(u)}}}function C7(r,e,t){let{mdLinkList:n}=e;return r.$$set=i=>{"mdLinkList"in i&&t(0,n=i.mdLinkList)},[n]}var bg=class extends et{constructor(e){super(),it(this,e,C7,M7,nt,{mdLinkList:0})}},xg=bg;var Qf=class extends ma{constructor(e){super(e)}buildVariables(){let e=this.base.getDeclaration().templateDeclaration.filter(n=>typeof n=="string"?n:!0);if(e.length!==1)throw new io({errorLevel:"ERROR",effect:"can not create view field",cause:"link view filed only supports exactly a single bind target and not text content"});let t=e[0];if(typeof t=="string")throw new io({errorLevel:"ERROR",effect:"can not create view field",cause:"link view filed only supports exactly a single bind target and not text content"});t.listenToChildren=!0,this.variables=[{bindTargetDeclaration:t,inputSignal:new Xr(void 0),uuid:Tr(),contextName:"MB_VAR_0"}]}computeValue(){if(this.variables.length!==1)throw new Qi({errorLevel:"CRITICAL",effect:"failed to evaluate link view field",cause:"there should be exactly one variable"});let t=this.variables[0].inputSignal.get();return typeof t=="string"?rn.convertToLinkString(t):Array.isArray(t)?t.filter(i=>typeof i=="string").map(i=>rn.convertToLinkString(i)).filter(i=>i!=="").join(", "):""}onInitialRender(e){this.component=new xg({target:e,props:{mdLinkList:[]}})}onRerender(e,t){return St(this,null,function*(){let n=rn.parseLinkList(t);this.component=new xg({target:e,props:{mdLinkList:n}})})}onUnmount(){var e;super.onUnmount(),(e=this.component)==null||e.$destroy()}};function Cr(){return Cr=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Cr.apply(this,arguments)}var wg={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function gt(r){return typeof r=="number"}function st(r){return!r||typeof r!="object"||typeof r.constructor!="function"?!1:r.isBigNumber===!0&&typeof r.constructor.prototype=="object"&&r.constructor.prototype.isBigNumber===!0||typeof r.constructor.isDecimal=="function"&&r.constructor.isDecimal(r)===!0}function Xn(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isComplex===!0||!1}function Ua(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isFraction===!0||!1}function An(r){return r&&r.constructor.prototype.isUnit===!0||!1}function Vr(r){return typeof r=="string"}var Gt=Array.isArray;function rt(r){return r&&r.constructor.prototype.isMatrix===!0||!1}function Wr(r){return Array.isArray(r)||rt(r)}function os(r){return r&&r.isDenseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function ea(r){return r&&r.isSparseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function su(r){return r&&r.constructor.prototype.isRange===!0||!1}function po(r){return r&&r.constructor.prototype.isIndex===!0||!1}function DA(r){return typeof r=="boolean"}function NA(r){return r&&r.constructor.prototype.isResultSet===!0||!1}function Kf(r){return r&&r.constructor.prototype.isHelp===!0||!1}function AA(r){return typeof r=="function"}function EA(r){return r instanceof Date}function TA(r){return r instanceof RegExp}function mo(r){return!!(r&&typeof r=="object"&&r.constructor===Object&&!Xn(r)&&!Ua(r))}function MA(r){return r===null}function CA(r){return r===void 0}function Si(r){return r&&r.isAccessorNode===!0&&r.constructor.prototype.isNode===!0||!1}function En(r){return r&&r.isArrayNode===!0&&r.constructor.prototype.isNode===!0||!1}function FA(r){return r&&r.isAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function IA(r){return r&&r.isBlockNode===!0&&r.constructor.prototype.isNode===!0||!1}function BA(r){return r&&r.isConditionalNode===!0&&r.constructor.prototype.isNode===!0||!1}function kt(r){return r&&r.isConstantNode===!0&&r.constructor.prototype.isNode===!0||!1}function wl(r){return kt(r)||Er(r)&&r.args.length===1&&kt(r.args[0])&&"-+~".includes(r.op)}function da(r){return r&&r.isFunctionAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function Qn(r){return r&&r.isFunctionNode===!0&&r.constructor.prototype.isNode===!0||!1}function Ri(r){return r&&r.isIndexNode===!0&&r.constructor.prototype.isNode===!0||!1}function Vt(r){return r&&r.isNode===!0&&r.constructor.prototype.isNode===!0||!1}function ho(r){return r&&r.isObjectNode===!0&&r.constructor.prototype.isNode===!0||!1}function Er(r){return r&&r.isOperatorNode===!0&&r.constructor.prototype.isNode===!0||!1}function Tn(r){return r&&r.isParenthesisNode===!0&&r.constructor.prototype.isNode===!0||!1}function PA(r){return r&&r.isRangeNode===!0&&r.constructor.prototype.isNode===!0||!1}function OA(r){return r&&r.isRelationalNode===!0&&r.constructor.prototype.isNode===!0||!1}function xr(r){return r&&r.isSymbolNode===!0&&r.constructor.prototype.isNode===!0||!1}function ep(r){return r&&r.constructor.prototype.isChain===!0||!1}function $t(r){var e=typeof r;return e==="object"?r===null?"null":st(r)?"BigNumber":r.constructor&&r.constructor.name?r.constructor.name:"Object":e}function pt(r){var e=typeof r;if(e==="number"||e==="string"||e==="boolean"||r===null||r===void 0)return r;if(typeof r.clone=="function")return r.clone();if(Array.isArray(r))return r.map(function(t){return pt(t)});if(r instanceof Date)return new Date(r.valueOf());if(st(r))return r;if(mo(r))return F7(r,pt);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(r,")"))}function F7(r,e){var t={};for(var n in r)at(r,n)&&(t[n]=e(r[n]));return t}function tp(r,e){for(var t in e)at(e,t)&&(r[t]=e[t]);return r}function ta(r,e){var t,n,i;if(Array.isArray(r)){if(!Array.isArray(e)||r.length!==e.length)return!1;for(n=0,i=r.length;n<i;n++)if(!ta(r[n],e[n]))return!1;return!0}else{if(typeof r=="function")return r===e;if(r instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(t in r)if(!(t in e)||!ta(r[t],e[t]))return!1;for(t in e)if(!(t in r))return!1;return!0}else return r===e}}function kA(r,e,t){var n=!0,i;Object.defineProperty(r,e,{get:function(){return n&&(i=t(),n=!1),i},set:function(o){i=o,n=!1},configurable:!0,enumerable:!0})}function at(r,e){return r&&Object.hasOwnProperty.call(r,e)}function RA(r,e){for(var t={},n=0;n<e.length;n++){var i=e[n],a=r[i];a!==void 0&&(t[i]=a)}return t}var LA=["Matrix","Array"],UA=["number","BigNumber","Fraction"];var Ce=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(wg)};Cr(Ce,wg,{MATRIX_OPTIONS:LA,NUMBER_OPTIONS:UA});var Rg=dr(Dg(),1);function Xe(r){return typeof r=="boolean"?!0:isFinite(r)?r===Math.round(r):!1}var Li=Math.sign||function(r){return r>0?1:r<0?-1:0},zA=Math.log2||function(e){return Math.log(e)/Math.LN2},$A=Math.log10||function(e){return Math.log(e)/Math.LN10},rp=Math.log1p||function(r){return Math.log(r+1)},HA=Math.cbrt||function(e){if(e===0)return e;var t=e<0,n;return t&&(e=-e),isFinite(e)?(n=Math.exp(Math.log(e)/3),n=(e/(n*n)+2*n)/3):n=e,t?-n:n},GA=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function Ng(r,e,t){var n={2:"0b",8:"0o",16:"0x"},i=n[e],a="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!Xe(t))throw new Error("size must be an integer");if(r>2**(t-1)-1||r<-(2**(t-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!Xe(r))throw new Error("Value must be an integer");r<0&&(r=r+2**t),a="i".concat(t)}var o="";return r<0&&(r=-r,o="-"),"".concat(o).concat(i).concat(r.toString(e)).concat(a)}function ra(r,e){if(typeof e=="function")return e(r);if(r===1/0)return"Infinity";if(r===-1/0)return"-Infinity";if(isNaN(r))return"NaN";var{notation:t,precision:n,wordSize:i}=Ag(e);switch(t){case"fixed":return Eg(r,n);case"exponential":return WA(r,n);case"engineering":return I7(r,n);case"bin":return Ng(r,2,i);case"oct":return Ng(r,8,i);case"hex":return Ng(r,16,i);case"auto":return B7(r,n,e).replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],o=arguments[4];return a!=="."?a+o:o});default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Ag(r){var e="auto",t,n;if(r!==void 0)if(gt(r))t=r;else if(st(r))t=r.toNumber();else if(mo(r))r.precision!==void 0&&(t=VA(r.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),r.wordSize!==void 0&&(n=VA(r.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),r.notation&&(e=r.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:e,precision:t,wordSize:n}}function lu(r){var e=String(r).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+r);var t=e[1],n=e[2],i=parseFloat(e[4]||"0"),a=n.indexOf(".");i+=a!==-1?a-1:n.length-1;var o=n.replace(".","").replace(/^0*/,function(c){return i-=c.length,""}).replace(/0*$/,"").split("").map(function(c){return parseInt(c)});return o.length===0&&(o.push(0),i++),{sign:t,coefficients:o,exponent:i}}function I7(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=lu(r),n=np(t,e),i=n.exponent,a=n.coefficients,o=i%3===0?i:i<0?i-3-i%3:i-i%3;if(gt(e))for(;e>a.length||i-o+1>a.length;)a.push(0);else for(var c=Math.abs(i-o)-(a.length-1),u=0;u<c;u++)a.push(0);for(var s=Math.abs(i-o),l=1;s>0;)l++,s--;var f=a.slice(l).join(""),p=gt(e)&&f.length||f.match(/[1-9]/)?"."+f:"",m=a.slice(0,l).join("")+p+"e"+(i>=0?"+":"")+o.toString();return n.sign+m}function Eg(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=lu(r),n=typeof e=="number"?np(t,t.exponent+1+e):t,i=n.coefficients,a=n.exponent+1,o=a+(e||0);return i.length<o&&(i=i.concat(uu(o-i.length))),a<0&&(i=uu(-a+1).concat(i),a=1),a<i.length&&i.splice(a,0,a===0?"0.":"."),n.sign+i.join("")}function WA(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=lu(r),n=e?np(t,e):t,i=n.coefficients,a=n.exponent;i.length<e&&(i=i.concat(uu(e-i.length)));var o=i.shift();return n.sign+o+(i.length>0?"."+i.join(""):"")+"e"+(a>=0?"+":"")+a}function B7(r,e,t){if(isNaN(r)||!isFinite(r))return String(r);var n=qA(t==null?void 0:t.lowerExp,-3),i=qA(t==null?void 0:t.upperExp,5),a=lu(r),o=e?np(a,e):a;if(o.exponent<n||o.exponent>=i)return WA(r,e);var c=o.coefficients,u=o.exponent;c.length<e&&(c=c.concat(uu(e-c.length))),c=c.concat(uu(u-c.length+1+(c.length<e?e-c.length:0))),c=uu(-u).concat(c);var s=u>0?u:0;return s<c.length-1&&c.splice(s+1,0,"."),o.sign+c.join("")}function np(r,e){for(var t={sign:r.sign,coefficients:r.coefficients,exponent:r.exponent},n=t.coefficients;e<=0;)n.unshift(0),t.exponent++,e++;if(n.length>e){var i=n.splice(e,n.length-e);if(i[0]>=5){var a=e-1;for(n[a]++;n[a]===10;)n.pop(),a===0&&(n.unshift(0),t.exponent++,a++),a--,n[a]++}}return t}function uu(r){for(var e=[],t=0;t<r;t++)e.push(0);return e}function YA(r){return r.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var P7=Number.EPSILON||2220446049250313e-31;function Rr(r,e,t){if(t==null)return r===e;if(r===e)return!0;if(isNaN(r)||isNaN(e))return!1;if(isFinite(r)&&isFinite(e)){var n=Math.abs(r-e);return n<=P7?!0:n<=Math.max(Math.abs(r),Math.abs(e))*t}return!1}var jA=Math.acosh||function(r){return Math.log(Math.sqrt(r*r-1)+r)},ZA=Math.asinh||function(r){return Math.log(Math.sqrt(r*r+1)+r)},JA=Math.atanh||function(r){return Math.log((1+r)/(1-r))/2},ip=Math.cosh||function(r){return(Math.exp(r)+Math.exp(-r))/2},XA=Math.sinh||function(r){return(Math.exp(r)-Math.exp(-r))/2},ap=Math.tanh||function(r){var e=Math.exp(2*r);return(e-1)/(e+1)};function QA(r,e){var t=r>0?!0:r<0?!1:1/r===1/0,n=e>0?!0:e<0?!1:1/e===1/0;return t^n?-r:r}function VA(r,e){if(gt(r))return r;if(st(r))return r.toNumber();e()}function qA(r,e){return gt(r)?r:st(r)?r.toNumber():e}function Tg(r,e,t){var n=r.constructor,i=new n(2),a="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!Xe(t))throw new Error("size must be an integer");if(r.greaterThan(i.pow(t-1).sub(1))||r.lessThan(i.pow(t-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!r.isInteger())throw new Error("Value must be an integer");r.lessThan(0)&&(r=r.add(i.pow(t))),a="i".concat(t)}switch(e){case 2:return"".concat(r.toBinary()).concat(a);case 8:return"".concat(r.toOctal()).concat(a);case 16:return"".concat(r.toHexadecimal()).concat(a);default:throw new Error("Base ".concat(e," not supported "))}}function tE(r,e){if(typeof e=="function")return e(r);if(!r.isFinite())return r.isNaN()?"NaN":r.gt(0)?"Infinity":"-Infinity";var{notation:t,precision:n,wordSize:i}=Ag(e);switch(t){case"fixed":return k7(r,n);case"exponential":return KA(r,n);case"engineering":return O7(r,n);case"bin":return Tg(r,2,i);case"oct":return Tg(r,8,i);case"hex":return Tg(r,16,i);case"auto":{var a=eE(e==null?void 0:e.lowerExp,-3),o=eE(e==null?void 0:e.upperExp,5);if(r.isZero())return"0";var c,u=r.toSignificantDigits(n),s=u.e;return s>=a&&s<o?c=u.toFixed():c=KA(r,n),c.replace(/((\.\d*?)(0+))($|e)/,function(){var l=arguments[2],f=arguments[4];return l!=="."?l+f:f})}default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function O7(r,e){var t=r.e,n=t%3===0?t:t<0?t-3-t%3:t-t%3,i=r.mul(Math.pow(10,-n)),a=i.toPrecision(e);if(a.indexOf("e")!==-1){var o=r.constructor;a=new o(a).toFixed()}return a+"e"+(t>=0?"+":"")+n.toString()}function KA(r,e){return e!==void 0?r.toExponential(e-1):r.toExponential()}function k7(r,e){return r.toFixed(e)}function eE(r,e){return gt(r)?r:st(r)?r.toNumber():e}function nE(r,e){var t=r.length-e.length,n=r.length;return r.substring(t,n)===e}function bt(r,e){var t=R7(r,e);return e&&typeof e=="object"&&"truncate"in e&&t.length>e.truncate?t.substring(0,e.truncate-3)+"...":t}function R7(r,e){if(typeof r=="number")return ra(r,e);if(st(r))return tE(r,e);if(L7(r))return!e||e.fraction!=="decimal"?r.s*r.n+"/"+r.d:r.toString();if(Array.isArray(r))return iE(r,e);if(Vr(r))return ss(r);if(typeof r=="function")return r.syntax?String(r.syntax):"function";if(r&&typeof r=="object"){if(typeof r.format=="function")return r.format(e);if(r&&r.toString(e)!=={}.toString())return r.toString(e);var t=Object.keys(r).map(n=>ss(n)+": "+bt(r[n],e));return"{"+t.join(", ")+"}"}return String(r)}function ss(r){for(var e=String(r),t="",n=0;n<e.length;){var i=e.charAt(n);t+=i in rE?rE[i]:i,n++}return'"'+t+'"'}var rE={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function pn(r){var e=String(r);return e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),e}function iE(r,e){if(Array.isArray(r)){for(var t="[",n=r.length,i=0;i<n;i++)i!==0&&(t+=", "),t+=iE(r[i],e);return t+="]",t}else return bt(r,e)}function L7(r){return r&&typeof r=="object"&&typeof r.s=="number"&&typeof r.n=="number"&&typeof r.d=="number"||!1}function op(r,e){if(!Vr(r))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+$t(r)+", index: 0)");if(!Vr(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+$t(e)+", index: 1)");return r===e?0:r>e?1:-1}function wt(r,e,t){if(!(this instanceof wt))throw new SyntaxError("Constructor must be called with the new operator");this.actual=r,this.expected=e,this.relation=t,this.message="Dimension mismatch ("+(Array.isArray(r)?"["+r.join(", ")+"]":r)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}wt.prototype=new RangeError;wt.prototype.constructor=RangeError;wt.prototype.name="DimensionError";wt.prototype.isDimensionError=!0;function Mn(r,e,t){if(!(this instanceof Mn))throw new SyntaxError("Constructor must be called with the new operator");this.index=r,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=t),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}Mn.prototype=new RangeError;Mn.prototype.constructor=RangeError;Mn.prototype.name="IndexError";Mn.prototype.isIndexError=!0;function ht(r){for(var e=[];Array.isArray(r);)e.push(r.length),r=r[0];return e}function aE(r,e,t){var n,i=r.length;if(i!==e[t])throw new wt(i,e[t]);if(t<e.length-1){var a=t+1;for(n=0;n<i;n++){var o=r[n];if(!Array.isArray(o))throw new wt(e.length-1,e.length,"<");aE(r[n],e,a)}}else for(n=0;n<i;n++)if(Array.isArray(r[n]))throw new wt(e.length+1,e.length,">")}function Cg(r,e){var t=e.length===0;if(t){if(Array.isArray(r))throw new wt(r.length,0)}else aE(r,e,0)}function _l(r,e){var t=r.isMatrix?r._size:ht(r),n=e._sourceSize;n.forEach((i,a)=>{if(i!==null&&i!==t[a])throw new wt(i,t[a])})}function pr(r,e){if(r!==void 0){if(!gt(r)||!Xe(r))throw new TypeError("Index must be an integer (value: "+r+")");if(r<0||typeof e=="number"&&r>=e)throw new Mn(r,e)}}function us(r){for(var e=0;e<r._dimensions.length;++e){var t=r._dimensions[e];if(t._data&&Gt(t._data)){if(t._size[0]===0)return!0}else if(t.isRange){if(t.start===t.end)return!0}else if(Vr(t)&&t.length===0)return!0}return!1}function na(r,e,t){if(!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(i){if(!gt(i)||!Xe(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+bt(e)+")")}),(gt(r)||st(r))&&(r=[r]);var n=t!==void 0?t:0;return Mg(r,e,0,n),r}function Mg(r,e,t,n){var i,a,o=r.length,c=e[t],u=Math.min(o,c);if(r.length=c,t<e.length-1){var s=t+1;for(i=0;i<u;i++)a=r[i],Array.isArray(a)||(a=[a],r[i]=a),Mg(a,e,s,n);for(i=u;i<c;i++)a=[],r[i]=a,Mg(a,e,s,n)}else{for(i=0;i<u;i++)for(;Array.isArray(r[i]);)r[i]=r[i][0];for(i=u;i<c;i++)r[i]=n}}function Sl(r,e){var t=Mt(r),n=t.length;if(!Array.isArray(r)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new wt(0,n,"!=");e=Dl(e,n);var i=oE(e);if(n!==i)throw new wt(i,n,"!=");try{return U7(t,e)}catch(a){throw a instanceof wt?new wt(i,n,"!="):a}}function Dl(r,e){var t=oE(r),n=r.slice(),i=-1,a=r.indexOf(i),o=r.indexOf(i,a+1)>=0;if(o)throw new Error("More than one wildcard in sizes");var c=a>=0,u=e%t===0;if(c)if(u)n[a]=-e/t;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-t);return n}function oE(r){return r.reduce((e,t)=>e*t,1)}function U7(r,e){for(var t=r,n,i=e.length-1;i>0;i--){var a=e[i];n=[];for(var o=t.length/a,c=0;c<o;c++)n.push(t.slice(c*a,(c+1)*a));t=n}return t}function cu(r,e){for(var t=e||ht(r);Array.isArray(r)&&r.length===1;)r=r[0],t.shift();for(var n=t.length;t[n-1]===1;)n--;return n<t.length&&(r=sE(r,n,0),t.length=n),r}function sE(r,e,t){var n,i;if(t<e){var a=t+1;for(n=0,i=r.length;n<i;n++)r[n]=sE(r[n],e,a)}else for(;Array.isArray(r);)r=r[0];return r}function sp(r,e,t,n){var i=n||ht(r);if(t)for(var a=0;a<t;a++)r=[r],i.unshift(1);for(r=uE(r,e,0);i.length<e;)i.push(1);return r}function uE(r,e,t){var n,i;if(Array.isArray(r)){var a=t+1;for(n=0,i=r.length;n<i;n++)r[n]=uE(r[n],e,a)}else for(var o=t;o<e;o++)r=[r];return r}function Mt(r){if(!Array.isArray(r))return r;var e=[];return r.forEach(function t(n){Array.isArray(n)?n.forEach(t):e.push(n)}),e}function oi(r,e){return Array.prototype.map.call(r,e)}function go(r,e){Array.prototype.forEach.call(r,e)}function up(r,e){if(ht(r).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(r,e)}function fu(r,e){if(ht(r).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(r,t=>e.test(t))}function Fg(r,e){return Array.prototype.join.call(r,e)}function Va(r){if(!Array.isArray(r))throw new TypeError("Array input expected");if(r.length===0)return r;var e=[],t=0;e[0]={value:r[0],identifier:0};for(var n=1;n<r.length;n++)r[n]===r[n-1]?t++:t=0,e.push({value:r[n],identifier:t});return e}function pu(r){if(!Array.isArray(r))throw new TypeError("Array input expected");if(r.length===0)return r;for(var e=[],t=0;t<r.length;t++)e.push(r[t].value);return e}function vo(r,e){for(var t,n=0,i=0;i<r.length;i++){var a=r[i],o=Array.isArray(a);if(i===0&&o&&(n=a.length),o&&a.length!==n)return;var c=o?vo(a,e):e(a);if(t===void 0)t=c;else if(t!==c)return"mixed"}return t}function lE(r,e,t,n){if(n<t){if(r.length!==e.length)throw new wt(r.length,e.length);for(var i=[],a=0;a<r.length;a++)i[a]=lE(r[a],e[a],t,n+1);return i}else return r.concat(e)}function Ig(){var r=Array.prototype.slice.call(arguments,0,-1),e=Array.prototype.slice.call(arguments,-1);if(r.length===1)return r[0];if(r.length>1)return r.slice(1).reduce(function(t,n){return lE(t,n,e,0)},r[0]);throw new Error("Wrong number of arguments in function concat")}function V7(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];for(var n=e.map(p=>p.length),i=Math.max(...n),a=new Array(i).fill(null),o=0;o<e.length;o++)for(var c=e[o],u=n[o],s=0;s<u;s++){var l=i-u+s;c[s]>a[l]&&(a[l]=c[s])}for(var f=0;f<e.length;f++)Nl(e[f],a);return a}function Nl(r,e){for(var t=e.length,n=r.length,i=0;i<n;i++){var a=t-n+i;if(r[i]<e[a]&&r[i]>1||r[i]>e[a])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(r,") not possible to broadcast dimension ").concat(n," with size ").concat(r[i]," to size ").concat(e[a]))}}function Bg(r,e){var t=ht(r);if(ta(t,e))return r;Nl(t,e);var n=V7(t,e),i=n.length,a=[...Array(i-t.length).fill(1),...t],o=z7(r);t.length<i&&(o=Sl(o,a),t=ht(o));for(var c=0;c<i;c++)t[c]<n[c]&&(o=q7(o,n[c],c),t=ht(o));return o}function q7(r,e,t){return Ig(...Array(e).fill(r),t)}function z7(r){return Cr([],r)}function M(r,e,t,n){function i(a){var o=RA(a,e.map(G7));return $7(r,e,a),t(o)}return i.isFactory=!0,i.fn=r,i.dependencies=e.slice().sort(),n&&(i.meta=n),i}function $7(r,e,t){var n=e.filter(a=>!H7(a)).every(a=>t[a]!==void 0);if(!n){var i=e.filter(a=>t[a]===void 0);throw new Error('Cannot create function "'.concat(r,'", ')+"some dependencies are missing: ".concat(i.map(a=>'"'.concat(a,'"')).join(", "),"."))}}function H7(r){return r&&r[0]==="?"}function G7(r){return r&&r[0]==="?"?r.slice(1):r}function Fr(r,e){if(mE(r)&&fE(r,e))return r[e];throw typeof r[e]=="function"&&lp(r,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function ha(r,e,t){if(mE(r)&&fE(r,e))return r[e]=t,t;throw new Error('No access to property "'+e+'"')}function cE(r,e){return e in r}function fE(r,e){return!r||typeof r!="object"?!1:at(W7,e)?!0:!(e in Object.prototype||e in Function.prototype)}function pE(r,e){if(!lp(r,e))throw new Error('No access to method "'+e+'"');return r[e]}function lp(r,e){return r==null||typeof r[e]!="function"||at(r,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(r)?!1:at(Y7,e)?!0:!(e in Object.prototype||e in Function.prototype)}function mE(r){return typeof r=="object"&&r&&r.constructor===Object}var W7={length:!0,name:!0},Y7={toString:!0,valueOf:!0,toLocaleString:!0};var ls=class{constructor(e){this.wrappedObject=e,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).values()}get(e){return Fr(this.wrappedObject,e)}set(e,t){return ha(this.wrappedObject,e,t),this}has(e){return cE(this.wrappedObject,e)}entries(){return dE(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var t of this.keys())e(this.get(t),t,this)}delete(e){delete this.wrappedObject[e]}clear(){for(var e of this.keys())this.delete(e)}get size(){return Object.keys(this.wrappedObject).length}},mu=class{constructor(e,t,n){this.a=e,this.b=t,this.bKeys=n,this[Symbol.iterator]=this.entries}get(e){return this.bKeys.has(e)?this.b.get(e):this.a.get(e)}set(e,t){return this.bKeys.has(e)?this.b.set(e,t):this.a.set(e,t),this}has(e){return this.b.has(e)||this.a.has(e)}keys(){return new Set([...this.a.keys(),...this.b.keys()])[Symbol.iterator]()}entries(){return dE(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var t of this.keys())e(this.get(t),t,this)}delete(e){return this.bKeys.has(e)?this.b.delete(e):this.a.delete(e)}clear(){this.a.clear(),this.b.clear()}get size(){return[...this.keys()].length}};function dE(r,e){return{next:()=>{var t=r.next();return t.done?t:{value:e(t.value),done:!1}}}}function yo(){return new Map}function qa(r){if(!r)return yo();if(Pg(r))return r;if(mo(r))return new ls(r);throw new Error("createMap can create maps from objects or Maps")}function hE(r){if(r instanceof ls)return r.wrappedObject;var e={};for(var t of r.keys()){var n=r.get(t);ha(e,t,n)}return e}function Pg(r){return r?r instanceof Map||r instanceof ls||typeof r.set=="function"&&typeof r.get=="function"&&typeof r.keys=="function"&&typeof r.has=="function":!1}var gE=function(){return gE=Rg.default.create,Rg.default},j7=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],Lg=M("typed",j7,function(e){var{BigNumber:t,Complex:n,DenseMatrix:i,Fraction:a}=e,o=gE();return o.clear(),o.addTypes([{name:"number",test:gt},{name:"Complex",test:Xn},{name:"BigNumber",test:st},{name:"Fraction",test:Ua},{name:"Unit",test:An},{name:"identifier",test:c=>Vr&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(c)},{name:"string",test:Vr},{name:"Chain",test:ep},{name:"Array",test:Gt},{name:"Matrix",test:rt},{name:"DenseMatrix",test:os},{name:"SparseMatrix",test:ea},{name:"Range",test:su},{name:"Index",test:po},{name:"boolean",test:DA},{name:"ResultSet",test:NA},{name:"Help",test:Kf},{name:"function",test:AA},{name:"Date",test:EA},{name:"RegExp",test:TA},{name:"null",test:MA},{name:"undefined",test:CA},{name:"AccessorNode",test:Si},{name:"ArrayNode",test:En},{name:"AssignmentNode",test:FA},{name:"BlockNode",test:IA},{name:"ConditionalNode",test:BA},{name:"ConstantNode",test:kt},{name:"FunctionNode",test:Qn},{name:"FunctionAssignmentNode",test:da},{name:"IndexNode",test:Ri},{name:"Node",test:Vt},{name:"ObjectNode",test:ho},{name:"OperatorNode",test:Er},{name:"ParenthesisNode",test:Tn},{name:"RangeNode",test:PA},{name:"RelationalNode",test:OA},{name:"SymbolNode",test:xr},{name:"Map",test:Pg},{name:"Object",test:mo}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(u){if(t||Og(u),YA(u)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+u+"). Use function bignumber(x) to convert to BigNumber.");return new t(u)}},{from:"number",to:"Complex",convert:function(u){return n||cp(u),new n(u,0)}},{from:"BigNumber",to:"Complex",convert:function(u){return n||cp(u),new n(u.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(u){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(u){return n||cp(u),new n(u.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(u){a||kg(u);var s=new a(u);if(s.valueOf()!==u)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+u+"). Use function fraction(x) to convert to Fraction.");return s}},{from:"string",to:"number",convert:function(u){var s=Number(u);if(isNaN(s))throw new Error('Cannot convert "'+u+'" to a number');return s}},{from:"string",to:"BigNumber",convert:function(u){t||Og(u);try{return new t(u)}catch(s){throw new Error('Cannot convert "'+u+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(u){a||kg(u);try{return new a(u)}catch(s){throw new Error('Cannot convert "'+u+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(u){n||cp(u);try{return new n(u)}catch(s){throw new Error('Cannot convert "'+u+'" to Complex')}}},{from:"boolean",to:"number",convert:function(u){return+u}},{from:"boolean",to:"BigNumber",convert:function(u){return t||Og(u),new t(+u)}},{from:"boolean",to:"Fraction",convert:function(u){return a||kg(u),new a(+u)}},{from:"boolean",to:"string",convert:function(u){return String(u)}},{from:"Array",to:"Matrix",convert:function(u){return i||Z7(),new i(u)}},{from:"Matrix",to:"Array",convert:function(u){return u.valueOf()}}]),o.onMismatch=(c,u,s)=>{var l=o.createError(c,u,s);if(["wrongType","mismatch"].includes(l.data.category)&&u.length===1&&Wr(u[0])&&s.some(p=>!p.params.includes(","))){var f=new TypeError("Function '".concat(c,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(c,")'."));throw f.data=l.data,f}throw l},o.onMismatch=(c,u,s)=>{var l=o.createError(c,u,s);if(["wrongType","mismatch"].includes(l.data.category)&&u.length===1&&Wr(u[0])&&s.some(p=>!p.params.includes(","))){var f=new TypeError("Function '".concat(c,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(c,")'."));throw f.data=l.data,f}throw l},o});function Og(r){throw new Error("Cannot convert value ".concat(r," into a BigNumber: no class 'BigNumber' provided"))}function cp(r){throw new Error("Cannot convert value ".concat(r," into a Complex number: no class 'Complex' provided"))}function Z7(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function kg(r){throw new Error("Cannot convert value ".concat(r," into a Fraction, no class 'Fraction' provided."))}var J7="ResultSet",X7=[],Ug=M(J7,X7,()=>{function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.entries=e||[]}return r.prototype.type="ResultSet",r.prototype.isResultSet=!0,r.prototype.valueOf=function(){return this.entries},r.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},r.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},r.fromJSON=function(e){return new r(e.entries)},r},{isClass:!0});var du=9e15,_o=1e9,Vg="0123456789abcdef",pp="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",mp="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",qg={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-du,maxE:du,crypto:!1},xE,za,qt=!0,hp="[DecimalError] ",wo=hp+"Invalid argument: ",wE=hp+"Precision limit exceeded",_E=hp+"crypto unavailable",SE="[object Decimal]",kn=Math.floor,mn=Math.pow,Q7=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,K7=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,eq=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,DE=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,aa=1e7,Ft=7,tq=9007199254740991,rq=pp.length-1,zg=mp.length-1,qe={toStringTag:SE};qe.absoluteValue=qe.abs=function(){var r=new this.constructor(this);return r.s<0&&(r.s=1),Dt(r)};qe.ceil=function(){return Dt(new this.constructor(this),this.e+1,2)};qe.clampedTo=qe.clamp=function(r,e){var t,n=this,i=n.constructor;if(r=new i(r),e=new i(e),!r.s||!e.s)return new i(NaN);if(r.gt(e))throw Error(wo+e);return t=n.cmp(r),t<0?r:n.cmp(e)>0?e:new i(n)};qe.comparedTo=qe.cmp=function(r){var e,t,n,i,a=this,o=a.d,c=(r=new a.constructor(r)).d,u=a.s,s=r.s;if(!o||!c)return!u||!s?NaN:u!==s?u:o===c?0:!o^u<0?1:-1;if(!o[0]||!c[0])return o[0]?u:c[0]?-s:0;if(u!==s)return u;if(a.e!==r.e)return a.e>r.e^u<0?1:-1;for(n=o.length,i=c.length,e=0,t=n<i?n:i;e<t;++e)if(o[e]!==c[e])return o[e]>c[e]^u<0?1:-1;return n===i?0:n>i^u<0?1:-1};qe.cosine=qe.cos=function(){var r,e,t=this,n=t.constructor;return t.d?t.d[0]?(r=n.precision,e=n.rounding,n.precision=r+Math.max(t.e,t.sd())+Ft,n.rounding=1,t=nq(n,ME(n,t)),n.precision=r,n.rounding=e,Dt(za==2||za==3?t.neg():t,r,e,!0)):new n(1):new n(NaN)};qe.cubeRoot=qe.cbrt=function(){var r,e,t,n,i,a,o,c,u,s,l=this,f=l.constructor;if(!l.isFinite()||l.isZero())return new f(l);for(qt=!1,a=l.s*mn(l.s*l,1/3),!a||Math.abs(a)==1/0?(t=Cn(l.d),r=l.e,(a=(r-t.length+1)%3)&&(t+=a==1||a==-2?"0":"00"),a=mn(t,1/3),r=kn((r+1)/3)-(r%3==(r<0?-1:2)),a==1/0?t="5e"+r:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+r),n=new f(t),n.s=l.s):n=new f(a.toString()),o=(r=f.precision)+3;;)if(c=n,u=c.times(c).times(c),s=u.plus(l),n=Ir(s.plus(l).times(c),s.plus(u),o+2,1),Cn(c.d).slice(0,o)===(t=Cn(n.d)).slice(0,o))if(t=t.slice(o-3,o+1),t=="9999"||!i&&t=="4999"){if(!i&&(Dt(c,r+1,0),c.times(c).times(c).eq(l))){n=c;break}o+=4,i=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(Dt(n,r+1,1),e=!n.times(n).times(n).eq(l));break}return qt=!0,Dt(n,r,f.rounding,e)};qe.decimalPlaces=qe.dp=function(){var r,e=this.d,t=NaN;if(e){if(r=e.length-1,t=(r-kn(this.e/Ft))*Ft,r=e[r],r)for(;r%10==0;r/=10)t--;t<0&&(t=0)}return t};qe.dividedBy=qe.div=function(r){return Ir(this,new this.constructor(r))};qe.dividedToIntegerBy=qe.divToInt=function(r){var e=this,t=e.constructor;return Dt(Ir(e,new t(r),0,1,1),t.precision,t.rounding)};qe.equals=qe.eq=function(r){return this.cmp(r)===0};qe.floor=function(){return Dt(new this.constructor(this),this.e+1,3)};qe.greaterThan=qe.gt=function(r){return this.cmp(r)>0};qe.greaterThanOrEqualTo=qe.gte=function(r){var e=this.cmp(r);return e==1||e===0};qe.hyperbolicCosine=qe.cosh=function(){var r,e,t,n,i,a=this,o=a.constructor,c=new o(1);if(!a.isFinite())return new o(a.s?1/0:NaN);if(a.isZero())return c;t=o.precision,n=o.rounding,o.precision=t+Math.max(a.e,a.sd())+4,o.rounding=1,i=a.d.length,i<32?(r=Math.ceil(i/3),e=(1/vp(4,r)).toString()):(r=16,e="2.3283064365386962890625e-10"),a=hu(o,1,a.times(e),new o(1),!0);for(var u,s=r,l=new o(8);s--;)u=a.times(a),a=c.minus(u.times(l.minus(u.times(l))));return Dt(a,o.precision=t,o.rounding=n,!0)};qe.hyperbolicSine=qe.sinh=function(){var r,e,t,n,i=this,a=i.constructor;if(!i.isFinite()||i.isZero())return new a(i);if(e=a.precision,t=a.rounding,a.precision=e+Math.max(i.e,i.sd())+4,a.rounding=1,n=i.d.length,n<3)i=hu(a,2,i,i,!0);else{r=1.4*Math.sqrt(n),r=r>16?16:r|0,i=i.times(1/vp(5,r)),i=hu(a,2,i,i,!0);for(var o,c=new a(5),u=new a(16),s=new a(20);r--;)o=i.times(i),i=i.times(c.plus(o.times(u.times(o).plus(s))))}return a.precision=e,a.rounding=t,Dt(i,e,t,!0)};qe.hyperbolicTangent=qe.tanh=function(){var r,e,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+7,n.rounding=1,Ir(t.sinh(),t.cosh(),n.precision=r,n.rounding=e)):new n(t.s)};qe.inverseCosine=qe.acos=function(){var r,e=this,t=e.constructor,n=e.abs().cmp(1),i=t.precision,a=t.rounding;return n!==-1?n===0?e.isNeg()?ia(t,i,a):new t(0):new t(NaN):e.isZero()?ia(t,i+4,a).times(.5):(t.precision=i+6,t.rounding=1,e=e.asin(),r=ia(t,i+4,a).times(.5),t.precision=i,t.rounding=a,r.minus(e))};qe.inverseHyperbolicCosine=qe.acosh=function(){var r,e,t=this,n=t.constructor;return t.lte(1)?new n(t.eq(1)?0:NaN):t.isFinite()?(r=n.precision,e=n.rounding,n.precision=r+Math.max(Math.abs(t.e),t.sd())+4,n.rounding=1,qt=!1,t=t.times(t).minus(1).sqrt().plus(t),qt=!0,n.precision=r,n.rounding=e,t.ln()):new n(t)};qe.inverseHyperbolicSine=qe.asinh=function(){var r,e,t=this,n=t.constructor;return!t.isFinite()||t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+2*Math.max(Math.abs(t.e),t.sd())+6,n.rounding=1,qt=!1,t=t.times(t).plus(1).sqrt().plus(t),qt=!0,n.precision=r,n.rounding=e,t.ln())};qe.inverseHyperbolicTangent=qe.atanh=function(){var r,e,t,n,i=this,a=i.constructor;return i.isFinite()?i.e>=0?new a(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(r=a.precision,e=a.rounding,n=i.sd(),Math.max(n,r)<2*-i.e-1?Dt(new a(i),r,e,!0):(a.precision=t=n-i.e,i=Ir(i.plus(1),new a(1).minus(i),t+r,1),a.precision=r+4,a.rounding=1,i=i.ln(),a.precision=r,a.rounding=e,i.times(.5))):new a(NaN)};qe.inverseSine=qe.asin=function(){var r,e,t,n,i=this,a=i.constructor;return i.isZero()?new a(i):(e=i.abs().cmp(1),t=a.precision,n=a.rounding,e!==-1?e===0?(r=ia(a,t+4,n).times(.5),r.s=i.s,r):new a(NaN):(a.precision=t+6,a.rounding=1,i=i.div(new a(1).minus(i.times(i)).sqrt().plus(1)).atan(),a.precision=t,a.rounding=n,i.times(2)))};qe.inverseTangent=qe.atan=function(){var r,e,t,n,i,a,o,c,u,s=this,l=s.constructor,f=l.precision,p=l.rounding;if(s.isFinite()){if(s.isZero())return new l(s);if(s.abs().eq(1)&&f+4<=zg)return o=ia(l,f+4,p).times(.25),o.s=s.s,o}else{if(!s.s)return new l(NaN);if(f+4<=zg)return o=ia(l,f+4,p).times(.5),o.s=s.s,o}for(l.precision=c=f+10,l.rounding=1,t=Math.min(28,c/Ft+2|0),r=t;r;--r)s=s.div(s.times(s).plus(1).sqrt().plus(1));for(qt=!1,e=Math.ceil(c/Ft),n=1,u=s.times(s),o=new l(s),i=s;r!==-1;)if(i=i.times(u),a=o.minus(i.div(n+=2)),i=i.times(u),o=a.plus(i.div(n+=2)),o.d[e]!==void 0)for(r=e;o.d[r]===a.d[r]&&r--;);return t&&(o=o.times(2<<t-1)),qt=!0,Dt(o,l.precision=f,l.rounding=p,!0)};qe.isFinite=function(){return!!this.d};qe.isInteger=qe.isInt=function(){return!!this.d&&kn(this.e/Ft)>this.d.length-2};qe.isNaN=function(){return!this.s};qe.isNegative=qe.isNeg=function(){return this.s<0};qe.isPositive=qe.isPos=function(){return this.s>0};qe.isZero=function(){return!!this.d&&this.d[0]===0};qe.lessThan=qe.lt=function(r){return this.cmp(r)<0};qe.lessThanOrEqualTo=qe.lte=function(r){return this.cmp(r)<1};qe.logarithm=qe.log=function(r){var e,t,n,i,a,o,c,u,s=this,l=s.constructor,f=l.precision,p=l.rounding,m=5;if(r==null)r=new l(10),e=!0;else{if(r=new l(r),t=r.d,r.s<0||!t||!t[0]||r.eq(1))return new l(NaN);e=r.eq(10)}if(t=s.d,s.s<0||!t||!t[0]||s.eq(1))return new l(t&&!t[0]?-1/0:s.s!=1?NaN:t?0:1/0);if(e)if(t.length>1)a=!0;else{for(i=t[0];i%10===0;)i/=10;a=i!==1}if(qt=!1,c=f+m,o=xo(s,c),n=e?dp(l,c+10):xo(r,c),u=Ir(o,n,c,1),Al(u.d,i=f,p))do if(c+=10,o=xo(s,c),n=e?dp(l,c+10):xo(r,c),u=Ir(o,n,c,1),!a){+Cn(u.d).slice(i+1,i+15)+1==1e14&&(u=Dt(u,f+1,0));break}while(Al(u.d,i+=10,p));return qt=!0,Dt(u,f,p)};qe.minus=qe.sub=function(r){var e,t,n,i,a,o,c,u,s,l,f,p,m=this,h=m.constructor;if(r=new h(r),!m.d||!r.d)return!m.s||!r.s?r=new h(NaN):m.d?r.s=-r.s:r=new h(r.d||m.s!==r.s?m:NaN),r;if(m.s!=r.s)return r.s=-r.s,m.plus(r);if(s=m.d,p=r.d,c=h.precision,u=h.rounding,!s[0]||!p[0]){if(p[0])r.s=-r.s;else if(s[0])r=new h(m);else return new h(u===3?-0:0);return qt?Dt(r,c,u):r}if(t=kn(r.e/Ft),l=kn(m.e/Ft),s=s.slice(),a=l-t,a){for(f=a<0,f?(e=s,a=-a,o=p.length):(e=p,t=l,o=s.length),n=Math.max(Math.ceil(c/Ft),o)+2,a>n&&(a=n,e.length=1),e.reverse(),n=a;n--;)e.push(0);e.reverse()}else{for(n=s.length,o=p.length,f=n<o,f&&(o=n),n=0;n<o;n++)if(s[n]!=p[n]){f=s[n]<p[n];break}a=0}for(f&&(e=s,s=p,p=e,r.s=-r.s),o=s.length,n=p.length-o;n>0;--n)s[o++]=0;for(n=p.length;n>a;){if(s[--n]<p[n]){for(i=n;i&&s[--i]===0;)s[i]=aa-1;--s[i],s[n]+=aa}s[n]-=p[n]}for(;s[--o]===0;)s.pop();for(;s[0]===0;s.shift())--t;return s[0]?(r.d=s,r.e=gp(s,t),qt?Dt(r,c,u):r):new h(u===3?-0:0)};qe.modulo=qe.mod=function(r){var e,t=this,n=t.constructor;return r=new n(r),!t.d||!r.s||r.d&&!r.d[0]?new n(NaN):!r.d||t.d&&!t.d[0]?Dt(new n(t),n.precision,n.rounding):(qt=!1,n.modulo==9?(e=Ir(t,r.abs(),0,3,1),e.s*=r.s):e=Ir(t,r,0,n.modulo,1),e=e.times(r),qt=!0,t.minus(e))};qe.naturalExponential=qe.exp=function(){return $g(this)};qe.naturalLogarithm=qe.ln=function(){return xo(this)};qe.negated=qe.neg=function(){var r=new this.constructor(this);return r.s=-r.s,Dt(r)};qe.plus=qe.add=function(r){var e,t,n,i,a,o,c,u,s,l,f=this,p=f.constructor;if(r=new p(r),!f.d||!r.d)return!f.s||!r.s?r=new p(NaN):f.d||(r=new p(r.d||f.s===r.s?f:NaN)),r;if(f.s!=r.s)return r.s=-r.s,f.minus(r);if(s=f.d,l=r.d,c=p.precision,u=p.rounding,!s[0]||!l[0])return l[0]||(r=new p(f)),qt?Dt(r,c,u):r;if(a=kn(f.e/Ft),n=kn(r.e/Ft),s=s.slice(),i=a-n,i){for(i<0?(t=s,i=-i,o=l.length):(t=l,n=a,o=s.length),a=Math.ceil(c/Ft),o=a>o?a+1:o+1,i>o&&(i=o,t.length=1),t.reverse();i--;)t.push(0);t.reverse()}for(o=s.length,i=l.length,o-i<0&&(i=o,t=l,l=s,s=t),e=0;i;)e=(s[--i]=s[i]+l[i]+e)/aa|0,s[i]%=aa;for(e&&(s.unshift(e),++n),o=s.length;s[--o]==0;)s.pop();return r.d=s,r.e=gp(s,n),qt?Dt(r,c,u):r};qe.precision=qe.sd=function(r){var e,t=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(wo+r);return t.d?(e=NE(t.d),r&&t.e+1>e&&(e=t.e+1)):e=NaN,e};qe.round=function(){var r=this,e=r.constructor;return Dt(new e(r),r.e+1,e.rounding)};qe.sine=qe.sin=function(){var r,e,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+Math.max(t.e,t.sd())+Ft,n.rounding=1,t=aq(n,ME(n,t)),n.precision=r,n.rounding=e,Dt(za>2?t.neg():t,r,e,!0)):new n(NaN)};qe.squareRoot=qe.sqrt=function(){var r,e,t,n,i,a,o=this,c=o.d,u=o.e,s=o.s,l=o.constructor;if(s!==1||!c||!c[0])return new l(!s||s<0&&(!c||c[0])?NaN:c?o:1/0);for(qt=!1,s=Math.sqrt(+o),s==0||s==1/0?(e=Cn(c),(e.length+u)%2==0&&(e+="0"),s=Math.sqrt(e),u=kn((u+1)/2)-(u<0||u%2),s==1/0?e="5e"+u:(e=s.toExponential(),e=e.slice(0,e.indexOf("e")+1)+u),n=new l(e)):n=new l(s.toString()),t=(u=l.precision)+3;;)if(a=n,n=a.plus(Ir(o,a,t+2,1)).times(.5),Cn(a.d).slice(0,t)===(e=Cn(n.d)).slice(0,t))if(e=e.slice(t-3,t+1),e=="9999"||!i&&e=="4999"){if(!i&&(Dt(a,u+1,0),a.times(a).eq(o))){n=a;break}t+=4,i=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(Dt(n,u+1,1),r=!n.times(n).eq(o));break}return qt=!0,Dt(n,u,l.rounding,r)};qe.tangent=qe.tan=function(){var r,e,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+10,n.rounding=1,t=t.sin(),t.s=1,t=Ir(t,new n(1).minus(t.times(t)).sqrt(),r+10,0),n.precision=r,n.rounding=e,Dt(za==2||za==4?t.neg():t,r,e,!0)):new n(NaN)};qe.times=qe.mul=function(r){var e,t,n,i,a,o,c,u,s,l=this,f=l.constructor,p=l.d,m=(r=new f(r)).d;if(r.s*=l.s,!p||!p[0]||!m||!m[0])return new f(!r.s||p&&!p[0]&&!m||m&&!m[0]&&!p?NaN:!p||!m?r.s/0:r.s*0);for(t=kn(l.e/Ft)+kn(r.e/Ft),u=p.length,s=m.length,u<s&&(a=p,p=m,m=a,o=u,u=s,s=o),a=[],o=u+s,n=o;n--;)a.push(0);for(n=s;--n>=0;){for(e=0,i=u+n;i>n;)c=a[i]+m[n]*p[i-n-1]+e,a[i--]=c%aa|0,e=c/aa|0;a[i]=(a[i]+e)%aa|0}for(;!a[--o];)a.pop();return e?++t:a.shift(),r.d=a,r.e=gp(a,t),qt?Dt(r,f.precision,f.rounding):r};qe.toBinary=function(r,e){return Gg(this,2,r,e)};qe.toDecimalPlaces=qe.toDP=function(r,e){var t=this,n=t.constructor;return t=new n(t),r===void 0?t:(si(r,0,_o),e===void 0?e=n.rounding:si(e,0,8),Dt(t,r+t.e+1,e))};qe.toExponential=function(r,e){var t,n=this,i=n.constructor;return r===void 0?t=ga(n,!0):(si(r,0,_o),e===void 0?e=i.rounding:si(e,0,8),n=Dt(new i(n),r+1,e),t=ga(n,!0,r+1)),n.isNeg()&&!n.isZero()?"-"+t:t};qe.toFixed=function(r,e){var t,n,i=this,a=i.constructor;return r===void 0?t=ga(i):(si(r,0,_o),e===void 0?e=a.rounding:si(e,0,8),n=Dt(new a(i),r+i.e+1,e),t=ga(n,!1,r+n.e+1)),i.isNeg()&&!i.isZero()?"-"+t:t};qe.toFraction=function(r){var e,t,n,i,a,o,c,u,s,l,f,p,m=this,h=m.d,d=m.constructor;if(!h)return new d(m);if(s=t=new d(1),n=u=new d(0),e=new d(n),a=e.e=NE(h)-m.e-1,o=a%Ft,e.d[0]=mn(10,o<0?Ft+o:o),r==null)r=a>0?e:s;else{if(c=new d(r),!c.isInt()||c.lt(s))throw Error(wo+c);r=c.gt(e)?a>0?e:s:c}for(qt=!1,c=new d(Cn(h)),l=d.precision,d.precision=a=h.length*Ft*2;f=Ir(c,e,0,1,1),i=t.plus(f.times(n)),i.cmp(r)!=1;)t=n,n=i,i=s,s=u.plus(f.times(i)),u=i,i=e,e=c.minus(f.times(i)),c=i;return i=Ir(r.minus(t),n,0,1,1),u=u.plus(i.times(s)),t=t.plus(i.times(n)),u.s=s.s=m.s,p=Ir(s,n,a,1).minus(m).abs().cmp(Ir(u,t,a,1).minus(m).abs())<1?[s,n]:[u,t],d.precision=l,qt=!0,p};qe.toHexadecimal=qe.toHex=function(r,e){return Gg(this,16,r,e)};qe.toNearest=function(r,e){var t=this,n=t.constructor;if(t=new n(t),r==null){if(!t.d)return t;r=new n(1),e=n.rounding}else{if(r=new n(r),e===void 0?e=n.rounding:si(e,0,8),!t.d)return r.s?t:r;if(!r.d)return r.s&&(r.s=t.s),r}return r.d[0]?(qt=!1,t=Ir(t,r,0,e,1).times(r),qt=!0,Dt(t)):(r.s=t.s,t=r),t};qe.toNumber=function(){return+this};qe.toOctal=function(r,e){return Gg(this,8,r,e)};qe.toPower=qe.pow=function(r){var e,t,n,i,a,o,c=this,u=c.constructor,s=+(r=new u(r));if(!c.d||!r.d||!c.d[0]||!r.d[0])return new u(mn(+c,s));if(c=new u(c),c.eq(1))return c;if(n=u.precision,a=u.rounding,r.eq(1))return Dt(c,n,a);if(e=kn(r.e/Ft),e>=r.d.length-1&&(t=s<0?-s:s)<=tq)return i=AE(u,c,t,n),r.s<0?new u(1).div(i):Dt(i,n,a);if(o=c.s,o<0){if(e<r.d.length-1)return new u(NaN);if(r.d[e]&1||(o=1),c.e==0&&c.d[0]==1&&c.d.length==1)return c.s=o,c}return t=mn(+c,s),e=t==0||!isFinite(t)?kn(s*(Math.log("0."+Cn(c.d))/Math.LN10+c.e+1)):new u(t+"").e,e>u.maxE+1||e<u.minE-1?new u(e>0?o/0:0):(qt=!1,u.rounding=c.s=1,t=Math.min(12,(e+"").length),i=$g(r.times(xo(c,n+t)),n),i.d&&(i=Dt(i,n+5,1),Al(i.d,n,a)&&(e=n+10,i=Dt($g(r.times(xo(c,e+t)),e),e+5,1),+Cn(i.d).slice(n+1,n+15)+1==1e14&&(i=Dt(i,n+1,0)))),i.s=o,qt=!0,u.rounding=a,Dt(i,n,a))};qe.toPrecision=function(r,e){var t,n=this,i=n.constructor;return r===void 0?t=ga(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(si(r,1,_o),e===void 0?e=i.rounding:si(e,0,8),n=Dt(new i(n),r,e),t=ga(n,r<=n.e||n.e<=i.toExpNeg,r)),n.isNeg()&&!n.isZero()?"-"+t:t};qe.toSignificantDigits=qe.toSD=function(r,e){var t=this,n=t.constructor;return r===void 0?(r=n.precision,e=n.rounding):(si(r,1,_o),e===void 0?e=n.rounding:si(e,0,8)),Dt(new n(t),r,e)};qe.toString=function(){var r=this,e=r.constructor,t=ga(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()&&!r.isZero()?"-"+t:t};qe.truncated=qe.trunc=function(){return Dt(new this.constructor(this),this.e+1,1)};qe.valueOf=qe.toJSON=function(){var r=this,e=r.constructor,t=ga(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()?"-"+t:t};function Cn(r){var e,t,n,i=r.length-1,a="",o=r[0];if(i>0){for(a+=o,e=1;e<i;e++)n=r[e]+"",t=Ft-n.length,t&&(a+=bo(t)),a+=n;o=r[e],n=o+"",t=Ft-n.length,t&&(a+=bo(t))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}function si(r,e,t){if(r!==~~r||r<e||r>t)throw Error(wo+r)}function Al(r,e,t,n){var i,a,o,c;for(a=r[0];a>=10;a/=10)--e;return--e<0?(e+=Ft,i=0):(i=Math.ceil((e+1)/Ft),e%=Ft),a=mn(10,Ft-e),c=r[i]%a|0,n==null?e<3?(e==0?c=c/100|0:e==1&&(c=c/10|0),o=t<4&&c==99999||t>3&&c==49999||c==5e4||c==0):o=(t<4&&c+1==a||t>3&&c+1==a/2)&&(r[i+1]/a/100|0)==mn(10,e-2)-1||(c==a/2||c==0)&&(r[i+1]/a/100|0)==0:e<4?(e==0?c=c/1e3|0:e==1?c=c/100|0:e==2&&(c=c/10|0),o=(n||t<4)&&c==9999||!n&&t>3&&c==4999):o=((n||t<4)&&c+1==a||!n&&t>3&&c+1==a/2)&&(r[i+1]/a/1e3|0)==mn(10,e-3)-1,o}function fp(r,e,t){for(var n,i=[0],a,o=0,c=r.length;o<c;){for(a=i.length;a--;)i[a]*=e;for(i[0]+=Vg.indexOf(r.charAt(o++)),n=0;n<i.length;n++)i[n]>t-1&&(i[n+1]===void 0&&(i[n+1]=0),i[n+1]+=i[n]/t|0,i[n]%=t)}return i.reverse()}function nq(r,e){var t,n,i;if(e.isZero())return e;n=e.d.length,n<32?(t=Math.ceil(n/3),i=(1/vp(4,t)).toString()):(t=16,i="2.3283064365386962890625e-10"),r.precision+=t,e=hu(r,1,e.times(i),new r(1));for(var a=t;a--;){var o=e.times(e);e=o.times(o).minus(o).times(8).plus(1)}return r.precision-=t,e}var Ir=function(){function r(n,i,a){var o,c=0,u=n.length;for(n=n.slice();u--;)o=n[u]*i+c,n[u]=o%a|0,c=o/a|0;return c&&n.unshift(c),n}function e(n,i,a,o){var c,u;if(a!=o)u=a>o?1:-1;else for(c=u=0;c<a;c++)if(n[c]!=i[c]){u=n[c]>i[c]?1:-1;break}return u}function t(n,i,a,o){for(var c=0;a--;)n[a]-=c,c=n[a]<i[a]?1:0,n[a]=c*o+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o,c,u){var s,l,f,p,m,h,d,v,y,S,b,w,_,x,T,A,N,E,C,O,U=n.constructor,q=n.s==i.s?1:-1,L=n.d,P=i.d;if(!L||!L[0]||!P||!P[0])return new U(!n.s||!i.s||(L?P&&L[0]==P[0]:!P)?NaN:L&&L[0]==0||!P?q*0:q/0);for(u?(m=1,l=n.e-i.e):(u=aa,m=Ft,l=kn(n.e/m)-kn(i.e/m)),C=P.length,N=L.length,y=new U(q),S=y.d=[],f=0;P[f]==(L[f]||0);f++);if(P[f]>(L[f]||0)&&l--,a==null?(x=a=U.precision,o=U.rounding):c?x=a+(n.e-i.e)+1:x=a,x<0)S.push(1),h=!0;else{if(x=x/m+2|0,f=0,C==1){for(p=0,P=P[0],x++;(f<N||p)&&x--;f++)T=p*u+(L[f]||0),S[f]=T/P|0,p=T%P|0;h=p||f<N}else{for(p=u/(P[0]+1)|0,p>1&&(P=r(P,p,u),L=r(L,p,u),C=P.length,N=L.length),A=C,b=L.slice(0,C),w=b.length;w<C;)b[w++]=0;O=P.slice(),O.unshift(0),E=P[0],P[1]>=u/2&&++E;do p=0,s=e(P,b,C,w),s<0?(_=b[0],C!=w&&(_=_*u+(b[1]||0)),p=_/E|0,p>1?(p>=u&&(p=u-1),d=r(P,p,u),v=d.length,w=b.length,s=e(d,b,v,w),s==1&&(p--,t(d,C<v?O:P,v,u))):(p==0&&(s=p=1),d=P.slice()),v=d.length,v<w&&d.unshift(0),t(b,d,w,u),s==-1&&(w=b.length,s=e(P,b,C,w),s<1&&(p++,t(b,C<w?O:P,w,u))),w=b.length):s===0&&(p++,b=[0]),S[f++]=p,s&&b[0]?b[w++]=L[A]||0:(b=[L[A]],w=1);while((A++<N||b[0]!==void 0)&&x--);h=b[0]!==void 0}S[0]||S.shift()}if(m==1)y.e=l,xE=h;else{for(f=1,p=S[0];p>=10;p/=10)f++;y.e=f+l*m-1,Dt(y,c?a+y.e+1:a,o,h)}return y}}();function Dt(r,e,t,n){var i,a,o,c,u,s,l,f,p,m=r.constructor;e:if(e!=null){if(f=r.d,!f)return r;for(i=1,c=f[0];c>=10;c/=10)i++;if(a=e-i,a<0)a+=Ft,o=e,l=f[p=0],u=l/mn(10,i-o-1)%10|0;else if(p=Math.ceil((a+1)/Ft),c=f.length,p>=c)if(n){for(;c++<=p;)f.push(0);l=u=0,i=1,a%=Ft,o=a-Ft+1}else break e;else{for(l=c=f[p],i=1;c>=10;c/=10)i++;a%=Ft,o=a-Ft+i,u=o<0?0:l/mn(10,i-o-1)%10|0}if(n=n||e<0||f[p+1]!==void 0||(o<0?l:l%mn(10,i-o-1)),s=t<4?(u||n)&&(t==0||t==(r.s<0?3:2)):u>5||u==5&&(t==4||n||t==6&&(a>0?o>0?l/mn(10,i-o):0:f[p-1])%10&1||t==(r.s<0?8:7)),e<1||!f[0])return f.length=0,s?(e-=r.e+1,f[0]=mn(10,(Ft-e%Ft)%Ft),r.e=-e||0):f[0]=r.e=0,r;if(a==0?(f.length=p,c=1,p--):(f.length=p+1,c=mn(10,Ft-a),f[p]=o>0?(l/mn(10,i-o)%mn(10,o)|0)*c:0),s)for(;;)if(p==0){for(a=1,o=f[0];o>=10;o/=10)a++;for(o=f[0]+=c,c=1;o>=10;o/=10)c++;a!=c&&(r.e++,f[0]==aa&&(f[0]=1));break}else{if(f[p]+=c,f[p]!=aa)break;f[p--]=0,c=1}for(a=f.length;f[--a]===0;)f.pop()}return qt&&(r.e>m.maxE?(r.d=null,r.e=NaN):r.e<m.minE&&(r.e=0,r.d=[0])),r}function ga(r,e,t){if(!r.isFinite())return TE(r);var n,i=r.e,a=Cn(r.d),o=a.length;return e?(t&&(n=t-o)>0?a=a.charAt(0)+"."+a.slice(1)+bo(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(r.e<0?"e":"e+")+r.e):i<0?(a="0."+bo(-i-1)+a,t&&(n=t-o)>0&&(a+=bo(n))):i>=o?(a+=bo(i+1-o),t&&(n=t-i-1)>0&&(a=a+"."+bo(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),t&&(n=t-o)>0&&(i+1===o&&(a+="."),a+=bo(n))),a}function gp(r,e){var t=r[0];for(e*=Ft;t>=10;t/=10)e++;return e}function dp(r,e,t){if(e>rq)throw qt=!0,t&&(r.precision=t),Error(wE);return Dt(new r(pp),e,1,!0)}function ia(r,e,t){if(e>zg)throw Error(wE);return Dt(new r(mp),e,t,!0)}function NE(r){var e=r.length-1,t=e*Ft+1;if(e=r[e],e){for(;e%10==0;e/=10)t--;for(e=r[0];e>=10;e/=10)t++}return t}function bo(r){for(var e="";r--;)e+="0";return e}function AE(r,e,t,n){var i,a=new r(1),o=Math.ceil(n/Ft+4);for(qt=!1;;){if(t%2&&(a=a.times(e),yE(a.d,o)&&(i=!0)),t=kn(t/2),t===0){t=a.d.length-1,i&&a.d[t]===0&&++a.d[t];break}e=e.times(e),yE(e.d,o)}return qt=!0,a}function vE(r){return r.d[r.d.length-1]&1}function EE(r,e,t){for(var n,i=new r(e[0]),a=0;++a<e.length;)if(n=new r(e[a]),n.s)i[t](n)&&(i=n);else{i=n;break}return i}function $g(r,e){var t,n,i,a,o,c,u,s=0,l=0,f=0,p=r.constructor,m=p.rounding,h=p.precision;if(!r.d||!r.d[0]||r.e>17)return new p(r.d?r.d[0]?r.s<0?0:1/0:1:r.s?r.s<0?0:r:NaN);for(e==null?(qt=!1,u=h):u=e,c=new p(.03125);r.e>-2;)r=r.times(c),f+=5;for(n=Math.log(mn(2,f))/Math.LN10*2+5|0,u+=n,t=a=o=new p(1),p.precision=u;;){if(a=Dt(a.times(r),u,1),t=t.times(++l),c=o.plus(Ir(a,t,u,1)),Cn(c.d).slice(0,u)===Cn(o.d).slice(0,u)){for(i=f;i--;)o=Dt(o.times(o),u,1);if(e==null)if(s<3&&Al(o.d,u-n,m,s))p.precision=u+=10,t=a=c=new p(1),l=0,s++;else return Dt(o,p.precision=h,m,qt=!0);else return p.precision=h,o}o=c}}function xo(r,e){var t,n,i,a,o,c,u,s,l,f,p,m=1,h=10,d=r,v=d.d,y=d.constructor,S=y.rounding,b=y.precision;if(d.s<0||!v||!v[0]||!d.e&&v[0]==1&&v.length==1)return new y(v&&!v[0]?-1/0:d.s!=1?NaN:v?0:d);if(e==null?(qt=!1,l=b):l=e,y.precision=l+=h,t=Cn(v),n=t.charAt(0),Math.abs(a=d.e)<15e14){for(;n<7&&n!=1||n==1&&t.charAt(1)>3;)d=d.times(r),t=Cn(d.d),n=t.charAt(0),m++;a=d.e,n>1?(d=new y("0."+t),a++):d=new y(n+"."+t.slice(1))}else return s=dp(y,l+2,b).times(a+""),d=xo(new y(n+"."+t.slice(1)),l-h).plus(s),y.precision=b,e==null?Dt(d,b,S,qt=!0):d;for(f=d,u=o=d=Ir(d.minus(1),d.plus(1),l,1),p=Dt(d.times(d),l,1),i=3;;){if(o=Dt(o.times(p),l,1),s=u.plus(Ir(o,new y(i),l,1)),Cn(s.d).slice(0,l)===Cn(u.d).slice(0,l))if(u=u.times(2),a!==0&&(u=u.plus(dp(y,l+2,b).times(a+""))),u=Ir(u,new y(m),l,1),e==null)if(Al(u.d,l-h,S,c))y.precision=l+=h,s=o=d=Ir(f.minus(1),f.plus(1),l,1),p=Dt(d.times(d),l,1),i=c=1;else return Dt(u,y.precision=b,S,qt=!0);else return y.precision=b,u;u=s,i+=2}}function TE(r){return String(r.s*r.s/0)}function Hg(r,e){var t,n,i;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(t<0&&(t=n),t+=+e.slice(n+1),e=e.substring(0,n)):t<0&&(t=e.length),n=0;e.charCodeAt(n)===48;n++);for(i=e.length;e.charCodeAt(i-1)===48;--i);if(e=e.slice(n,i),e){if(i-=n,r.e=t=t-n-1,r.d=[],n=(t+1)%Ft,t<0&&(n+=Ft),n<i){for(n&&r.d.push(+e.slice(0,n)),i-=Ft;n<i;)r.d.push(+e.slice(n,n+=Ft));e=e.slice(n),n=Ft-e.length}else n-=i;for(;n--;)e+="0";r.d.push(+e),qt&&(r.e>r.constructor.maxE?(r.d=null,r.e=NaN):r.e<r.constructor.minE&&(r.e=0,r.d=[0]))}else r.e=0,r.d=[0];return r}function iq(r,e){var t,n,i,a,o,c,u,s,l;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),DE.test(e))return Hg(r,e)}else if(e==="Infinity"||e==="NaN")return+e||(r.s=NaN),r.e=NaN,r.d=null,r;if(K7.test(e))t=16,e=e.toLowerCase();else if(Q7.test(e))t=2;else if(eq.test(e))t=8;else throw Error(wo+e);for(a=e.search(/p/i),a>0?(u=+e.slice(a+1),e=e.substring(2,a)):e=e.slice(2),a=e.indexOf("."),o=a>=0,n=r.constructor,o&&(e=e.replace(".",""),c=e.length,a=c-a,i=AE(n,new n(t),a,a*2)),s=fp(e,t,aa),l=s.length-1,a=l;s[a]===0;--a)s.pop();return a<0?new n(r.s*0):(r.e=gp(s,l),r.d=s,qt=!1,o&&(r=Ir(r,i,c*4)),u&&(r=r.times(Math.abs(u)<54?mn(2,u):El.pow(2,u))),qt=!0,r)}function aq(r,e){var t,n=e.d.length;if(n<3)return e.isZero()?e:hu(r,2,e,e);t=1.4*Math.sqrt(n),t=t>16?16:t|0,e=e.times(1/vp(5,t)),e=hu(r,2,e,e);for(var i,a=new r(5),o=new r(16),c=new r(20);t--;)i=e.times(e),e=e.times(a.plus(i.times(o.times(i).minus(c))));return e}function hu(r,e,t,n,i){var a,o,c,u,s=1,l=r.precision,f=Math.ceil(l/Ft);for(qt=!1,u=t.times(t),c=new r(n);;){if(o=Ir(c.times(u),new r(e++*e++),l,1),c=i?n.plus(o):n.minus(o),n=Ir(o.times(u),new r(e++*e++),l,1),o=c.plus(n),o.d[f]!==void 0){for(a=f;o.d[a]===c.d[a]&&a--;);if(a==-1)break}a=c,c=n,n=o,o=a,s++}return qt=!0,o.d.length=f+1,o}function vp(r,e){for(var t=r;--e;)t*=r;return t}function ME(r,e){var t,n=e.s<0,i=ia(r,r.precision,1),a=i.times(.5);if(e=e.abs(),e.lte(a))return za=n?4:1,e;if(t=e.divToInt(i),t.isZero())za=n?3:2;else{if(e=e.minus(t.times(i)),e.lte(a))return za=vE(t)?n?2:3:n?4:1,e;za=vE(t)?n?1:4:n?3:2}return e.minus(i).abs()}function Gg(r,e,t,n){var i,a,o,c,u,s,l,f,p,m=r.constructor,h=t!==void 0;if(h?(si(t,1,_o),n===void 0?n=m.rounding:si(n,0,8)):(t=m.precision,n=m.rounding),!r.isFinite())l=TE(r);else{for(l=ga(r),o=l.indexOf("."),h?(i=2,e==16?t=t*4-3:e==8&&(t=t*3-2)):i=e,o>=0&&(l=l.replace(".",""),p=new m(1),p.e=l.length-o,p.d=fp(ga(p),10,i),p.e=p.d.length),f=fp(l,10,i),a=u=f.length;f[--u]==0;)f.pop();if(!f[0])l=h?"0p+0":"0";else{if(o<0?a--:(r=new m(r),r.d=f,r.e=a,r=Ir(r,p,t,n,0,i),f=r.d,a=r.e,s=xE),o=f[t],c=i/2,s=s||f[t+1]!==void 0,s=n<4?(o!==void 0||s)&&(n===0||n===(r.s<0?3:2)):o>c||o===c&&(n===4||s||n===6&&f[t-1]&1||n===(r.s<0?8:7)),f.length=t,s)for(;++f[--t]>i-1;)f[t]=0,t||(++a,f.unshift(1));for(u=f.length;!f[u-1];--u);for(o=0,l="";o<u;o++)l+=Vg.charAt(f[o]);if(h){if(u>1)if(e==16||e==8){for(o=e==16?4:3,--u;u%o;u++)l+="0";for(f=fp(l,i,e),u=f.length;!f[u-1];--u);for(o=1,l="1.";o<u;o++)l+=Vg.charAt(f[o])}else l=l.charAt(0)+"."+l.slice(1);l=l+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)l="0"+l;l="0."+l}else if(++a>u)for(a-=u;a--;)l+="0";else a<u&&(l=l.slice(0,a)+"."+l.slice(a))}l=(e==16?"0x":e==2?"0b":e==8?"0o":"")+l}return r.s<0?"-"+l:l}function yE(r,e){if(r.length>e)return r.length=e,!0}function oq(r){return new this(r).abs()}function sq(r){return new this(r).acos()}function uq(r){return new this(r).acosh()}function lq(r,e){return new this(r).plus(e)}function cq(r){return new this(r).asin()}function fq(r){return new this(r).asinh()}function pq(r){return new this(r).atan()}function mq(r){return new this(r).atanh()}function dq(r,e){r=new this(r),e=new this(e);var t,n=this.precision,i=this.rounding,a=n+4;return!r.s||!e.s?t=new this(NaN):!r.d&&!e.d?(t=ia(this,a,1).times(e.s>0?.25:.75),t.s=r.s):!e.d||r.isZero()?(t=e.s<0?ia(this,n,i):new this(0),t.s=r.s):!r.d||e.isZero()?(t=ia(this,a,1).times(.5),t.s=r.s):e.s<0?(this.precision=a,this.rounding=1,t=this.atan(Ir(r,e,a,1)),e=ia(this,a,1),this.precision=n,this.rounding=i,t=r.s<0?t.minus(e):t.plus(e)):t=this.atan(Ir(r,e,a,1)),t}function hq(r){return new this(r).cbrt()}function gq(r){return Dt(r=new this(r),r.e+1,2)}function vq(r,e,t){return new this(r).clamp(e,t)}function yq(r){if(!r||typeof r!="object")throw Error(hp+"Object expected");var e,t,n,i=r.defaults===!0,a=["precision",1,_o,"rounding",0,8,"toExpNeg",-du,0,"toExpPos",0,du,"maxE",0,du,"minE",-du,0,"modulo",0,9];for(e=0;e<a.length;e+=3)if(t=a[e],i&&(this[t]=qg[t]),(n=r[t])!==void 0)if(kn(n)===n&&n>=a[e+1]&&n<=a[e+2])this[t]=n;else throw Error(wo+t+": "+n);if(t="crypto",i&&(this[t]=qg[t]),(n=r[t])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto!="undefined"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[t]=!0;else throw Error(_E);else this[t]=!1;else throw Error(wo+t+": "+n);return this}function bq(r){return new this(r).cos()}function xq(r){return new this(r).cosh()}function CE(r){var e,t,n;function i(a){var o,c,u,s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,bE(a)){s.s=a.s,qt?!a.d||a.e>i.maxE?(s.e=NaN,s.d=null):a.e<i.minE?(s.e=0,s.d=[0]):(s.e=a.e,s.d=a.d.slice()):(s.e=a.e,s.d=a.d?a.d.slice():a.d);return}if(u=typeof a,u==="number"){if(a===0){s.s=1/a<0?-1:1,s.e=0,s.d=[0];return}if(a<0?(a=-a,s.s=-1):s.s=1,a===~~a&&a<1e7){for(o=0,c=a;c>=10;c/=10)o++;qt?o>i.maxE?(s.e=NaN,s.d=null):o<i.minE?(s.e=0,s.d=[0]):(s.e=o,s.d=[a]):(s.e=o,s.d=[a]);return}else if(a*0!==0){a||(s.s=NaN),s.e=NaN,s.d=null;return}return Hg(s,a.toString())}else if(u!=="string")throw Error(wo+a);return(c=a.charCodeAt(0))===45?(a=a.slice(1),s.s=-1):(c===43&&(a=a.slice(1)),s.s=1),DE.test(a)?Hg(s,a):iq(s,a)}if(i.prototype=qe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=yq,i.clone=CE,i.isDecimal=bE,i.abs=oq,i.acos=sq,i.acosh=uq,i.add=lq,i.asin=cq,i.asinh=fq,i.atan=pq,i.atanh=mq,i.atan2=dq,i.cbrt=hq,i.ceil=gq,i.clamp=vq,i.cos=bq,i.cosh=xq,i.div=wq,i.exp=_q,i.floor=Sq,i.hypot=Dq,i.ln=Nq,i.log=Aq,i.log10=Tq,i.log2=Eq,i.max=Mq,i.min=Cq,i.mod=Fq,i.mul=Iq,i.pow=Bq,i.random=Pq,i.round=Oq,i.sign=kq,i.sin=Rq,i.sinh=Lq,i.sqrt=Uq,i.sub=Vq,i.sum=qq,i.tan=zq,i.tanh=$q,i.trunc=Hq,r===void 0&&(r={}),r&&r.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<n.length;)r.hasOwnProperty(t=n[e++])||(r[t]=this[t]);return i.config(r),i}function wq(r,e){return new this(r).div(e)}function _q(r){return new this(r).exp()}function Sq(r){return Dt(r=new this(r),r.e+1,3)}function Dq(){var r,e,t=new this(0);for(qt=!1,r=0;r<arguments.length;)if(e=new this(arguments[r++]),e.d)t.d&&(t=t.plus(e.times(e)));else{if(e.s)return qt=!0,new this(1/0);t=e}return qt=!0,t.sqrt()}function bE(r){return r instanceof El||r&&r.toStringTag===SE||!1}function Nq(r){return new this(r).ln()}function Aq(r,e){return new this(r).log(e)}function Eq(r){return new this(r).log(2)}function Tq(r){return new this(r).log(10)}function Mq(){return EE(this,arguments,"lt")}function Cq(){return EE(this,arguments,"gt")}function Fq(r,e){return new this(r).mod(e)}function Iq(r,e){return new this(r).mul(e)}function Bq(r,e){return new this(r).pow(e)}function Pq(r){var e,t,n,i,a=0,o=new this(1),c=[];if(r===void 0?r=this.precision:si(r,1,_o),n=Math.ceil(r/Ft),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(n));a<n;)i=e[a],i>=429e7?e[a]=crypto.getRandomValues(new Uint32Array(1))[0]:c[a++]=i%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(n*=4);a<n;)i=e[a]+(e[a+1]<<8)+(e[a+2]<<16)+((e[a+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(e,a):(c.push(i%1e7),a+=4);a=n/4}else throw Error(_E);else for(;a<n;)c[a++]=Math.random()*1e7|0;for(n=c[--a],r%=Ft,n&&r&&(i=mn(10,Ft-r),c[a]=(n/i|0)*i);c[a]===0;a--)c.pop();if(a<0)t=0,c=[0];else{for(t=-1;c[0]===0;t-=Ft)c.shift();for(n=1,i=c[0];i>=10;i/=10)n++;n<Ft&&(t-=Ft-n)}return o.e=t,o.d=c,o}function Oq(r){return Dt(r=new this(r),r.e+1,this.rounding)}function kq(r){return r=new this(r),r.d?r.d[0]?r.s:0*r.s:r.s||NaN}function Rq(r){return new this(r).sin()}function Lq(r){return new this(r).sinh()}function Uq(r){return new this(r).sqrt()}function Vq(r,e){return new this(r).sub(e)}function qq(){var r=0,e=arguments,t=new this(e[r]);for(qt=!1;t.s&&++r<e.length;)t=t.plus(e[r]);return qt=!0,Dt(t,this.precision,this.rounding)}function zq(r){return new this(r).tan()}function $q(r){return new this(r).tanh()}function Hq(r){return Dt(r=new this(r),r.e+1,1)}qe[Symbol.for("nodejs.util.inspect.custom")]=qe.toString;qe[Symbol.toStringTag]="Decimal";var El=qe.constructor=CE(qg);pp=new El(pp);mp=new El(mp);var cs=El;var Gq="BigNumber",Wq=["?on","config"],Wg=M(Gq,Wq,r=>{var{on:e,config:t}=r,n=cs.clone({precision:t.precision,modulo:cs.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(i){return new n(i.value)},e&&e("config",function(i,a){i.precision!==a.precision&&n.config({precision:i.precision})}),n},{isClass:!0});var xn=dr(IE(),1);var Yq="Complex",jq=[],jg=M(Yq,jq,()=>(Object.defineProperty(xn.default,"name",{value:"Complex"}),xn.default.prototype.constructor=xn.default,xn.default.prototype.type="Complex",xn.default.prototype.isComplex=!0,xn.default.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},xn.default.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},xn.default.prototype.format=function(r){var e="",t=this.im,n=this.re,i=ra(this.re,r),a=ra(this.im,r),o=gt(r)?r:r?r.precision:null;if(o!==null){var c=Math.pow(10,-o);Math.abs(n/t)<c&&(n=0),Math.abs(t/n)<c&&(t=0)}return t===0?e=i:n===0?t===1?e="i":t===-1?e="-i":e=a+"i":t<0?t===-1?e=i+" - i":e=i+" - "+a.substring(1)+"i":t===1?e=i+" + i":e=i+" + "+a+"i",e},xn.default.fromPolar=function(r){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return(0,xn.default)(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var t=arguments[0],n=arguments[1];if(gt(t)){if(An(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),gt(n))return new xn.default({r:t,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},xn.default.prototype.valueOf=xn.default.prototype.toString,xn.default.fromJSON=function(r){return new xn.default(r)},xn.default.compare=function(r,e){return r.re>e.re?1:r.re<e.re?-1:r.im>e.im?1:r.im<e.im?-1:0},xn.default),{isClass:!0});var va=dr(PE(),1);var Zq="Fraction",Jq=[],Jg=M(Zq,Jq,()=>(Object.defineProperty(va.default,"name",{value:"Fraction"}),va.default.prototype.constructor=va.default,va.default.prototype.type="Fraction",va.default.prototype.isFraction=!0,va.default.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},va.default.fromJSON=function(r){return new va.default(r)},va.default),{isClass:!0});var Xq="Range",Qq=[],Xg=M(Xq,Qq,()=>{function r(e,t,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");var i=e!=null,a=t!=null,o=n!=null;if(i){if(st(e))e=e.toNumber();else if(typeof e!="number")throw new TypeError("Parameter start must be a number")}if(a){if(st(t))t=t.toNumber();else if(typeof t!="number")throw new TypeError("Parameter end must be a number")}if(o){if(st(n))n=n.toNumber();else if(typeof n!="number")throw new TypeError("Parameter step must be a number")}this.start=i?parseFloat(e):0,this.end=a?parseFloat(t):0,this.step=o?parseFloat(n):1}return r.prototype.type="Range",r.prototype.isRange=!0,r.parse=function(e){if(typeof e!="string")return null;var t=e.split(":"),n=t.map(function(a){return parseFloat(a)}),i=n.some(function(a){return isNaN(a)});if(i)return null;switch(n.length){case 2:return new r(n[0],n[1]);case 3:return new r(n[0],n[2],n[1]);default:return null}},r.prototype.clone=function(){return new r(this.start,this.end,this.step)},r.prototype.size=function(){var e=0,t=this.start,n=this.step,i=this.end,a=i-t;return Li(n)===Li(a)?e=Math.ceil(a/n):a===0&&(e=0),isNaN(e)&&(e=0),[e]},r.prototype.min=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start:this.start+(e-1)*this.step},r.prototype.max=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start+(e-1)*this.step:this.start},r.prototype.forEach=function(e){var t=this.start,n=this.step,i=this.end,a=0;if(n>0)for(;t<i;)e(t,[a],this),t+=n,a++;else if(n<0)for(;t>i;)e(t,[a],this),t+=n,a++},r.prototype.map=function(e){var t=[];return this.forEach(function(n,i,a){t[i[0]]=e(n,i,a)}),t},r.prototype.toArray=function(){var e=[];return this.forEach(function(t,n){e[n[0]]=t}),e},r.prototype.valueOf=function(){return this.toArray()},r.prototype.format=function(e){var t=ra(this.start,e);return this.step!==1&&(t+=":"+ra(this.step,e)),t+=":"+ra(this.end,e),t},r.prototype.toString=function(){return this.format()},r.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},r.fromJSON=function(e){return new r(e.start,e.end,e.step)},r},{isClass:!0});var Kq="Matrix",ez=[],Qg=M(Kq,ez,()=>{function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator")}return r.prototype.type="Matrix",r.prototype.isMatrix=!0,r.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},r.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},r.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},r.prototype.subset=function(e,t,n){throw new Error("Cannot invoke subset on a Matrix interface")},r.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},r.prototype.set=function(e,t,n){throw new Error("Cannot invoke set on a Matrix interface")},r.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},r.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},r.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},r.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},r.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},r.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},r.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},r.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},r.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},r.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},r.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},r},{isClass:!0});function OE(r){var e=0,t=1,n=Object.create(null),i=Object.create(null),a=0,o=function(u){var s=i[u];if(s&&(delete n[s],delete i[u],--e,t===s)){if(!e){a=0,t=1;return}for(;!Object.prototype.hasOwnProperty.call(n,++t););}};return r=Math.abs(r),{hit:function(u){var s=i[u],l=++a;if(n[l]=u,i[u]=l,!s)return++e,e<=r?void 0:(u=n[t],o(u),u);if(delete n[s],t===s)for(;!Object.prototype.hasOwnProperty.call(n,++t););},delete:o,clear:function(){e=a=0,t=1,n=Object.create(null),i=Object.create(null)}}}function fs(r){var{hasher:e,limit:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t=t==null?Number.POSITIVE_INFINITY:t,e=e==null?JSON.stringify:e,function n(){typeof n.cache!="object"&&(n.cache={values:new Map,lru:OE(t||Number.POSITIVE_INFINITY)});for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var o=e(i);if(n.cache.values.has(o))return n.cache.lru.hit(o),n.cache.values.get(o);var c=r.apply(r,i);return n.cache.values.set(o,c),n.cache.values.delete(n.cache.lru.hit(o)),c}}function yp(r){return Object.keys(r.signatures||{}).reduce(function(e,t){var n=(t.match(/,/g)||[]).length+1;return Math.max(e,n)},-1)}var tz="DenseMatrix",rz=["Matrix"],Kg=M(tz,rz,r=>{var{Matrix:e}=r;function t(l,f){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(f&&!Vr(f))throw new Error("Invalid datatype: "+f);if(rt(l))l.type==="DenseMatrix"?(this._data=pt(l._data),this._size=pt(l._size),this._datatype=f||l._datatype):(this._data=l.toArray(),this._size=l.size(),this._datatype=f||l._datatype);else if(l&&Gt(l.data)&&Gt(l.size))this._data=l.data,this._size=l.size,Cg(this._data,this._size),this._datatype=f||l.datatype;else if(Gt(l))this._data=s(l),this._size=ht(this._data),Cg(this._data,this._size),this._datatype=f;else{if(l)throw new TypeError("Unsupported type of data ("+$t(l)+")");this._data=[],this._size=[0],this._datatype=f}}t.prototype=new e,t.prototype.createDenseMatrix=function(l,f){return new t(l,f)},Object.defineProperty(t,"name",{value:"DenseMatrix"}),t.prototype.constructor=t,t.prototype.type="DenseMatrix",t.prototype.isDenseMatrix=!0,t.prototype.getDataType=function(){return vo(this._data,$t)},t.prototype.storage=function(){return"dense"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(l,f){return new t(l,f)},t.prototype.subset=function(l,f,p){switch(arguments.length){case 1:return n(this,l);case 2:case 3:return a(this,l,f,p);default:throw new SyntaxError("Wrong number of arguments")}},t.prototype.get=function(l){if(!Gt(l))throw new TypeError("Array expected");if(l.length!==this._size.length)throw new wt(l.length,this._size.length);for(var f=0;f<l.length;f++)pr(l[f],this._size[f]);for(var p=this._data,m=0,h=l.length;m<h;m++){var d=l[m];pr(d,p.length),p=p[d]}return p},t.prototype.set=function(l,f,p){if(!Gt(l))throw new TypeError("Array expected");if(l.length<this._size.length)throw new wt(l.length,this._size.length,"<");var m,h,d,v=l.map(function(S){return S+1});u(this,v,p);var y=this._data;for(m=0,h=l.length-1;m<h;m++)d=l[m],pr(d,y.length),y=y[d];return d=l[l.length-1],pr(d,y.length),y[d]=f,this};function n(l,f){if(!po(f))throw new TypeError("Invalid index");var p=f.isScalar();if(p)return l.get(f.min());var m=f.size();if(m.length!==l._size.length)throw new wt(m.length,l._size.length);for(var h=f.min(),d=f.max(),v=0,y=l._size.length;v<y;v++)pr(h[v],l._size[v]),pr(d[v],l._size[v]);return new t(i(l._data,f,m.length,0),l._datatype)}function i(l,f,p,m){var h=m===p-1,d=f.dimension(m);return h?d.map(function(v){return pr(v,l.length),l[v]}).valueOf():d.map(function(v){pr(v,l.length);var y=l[v];return i(y,f,p,m+1)}).valueOf()}function a(l,f,p,m){if(!f||f.isIndex!==!0)throw new TypeError("Invalid index");var h=f.size(),d=f.isScalar(),v;if(rt(p)?(v=p.size(),p=p.valueOf()):v=ht(p),d){if(v.length!==0)throw new TypeError("Scalar expected");l.set(f.min(),p,m)}else{if(!ta(v,h))try{v.length===0?p=Bg([p],h):p=Bg(p,h),v=ht(p)}catch(x){}if(h.length<l._size.length)throw new wt(h.length,l._size.length,"<");if(v.length<h.length){for(var y=0,S=0;h[y]===1&&v[y]===1;)y++;for(;h[y]===1;)S++,y++;p=sp(p,h.length,S,v)}if(!ta(h,v))throw new wt(h,v,">");var b=f.max().map(function(x){return x+1});u(l,b,m);var w=h.length,_=0;o(l._data,f,p,w,_)}return l}function o(l,f,p,m,h){var d=h===m-1,v=f.dimension(h);d?v.forEach(function(y,S){pr(y),l[y]=p[S[0]]}):v.forEach(function(y,S){pr(y),o(l[y],f,p[S[0]],m,h+1)})}t.prototype.resize=function(l,f,p){if(!Wr(l))throw new TypeError("Array or Matrix expected");var m=l.valueOf().map(d=>Array.isArray(d)&&d.length===1?d[0]:d),h=p?this.clone():this;return c(h,m,f)};function c(l,f,p){if(f.length===0){for(var m=l._data;Gt(m);)m=m[0];return m}return l._size=f.slice(0),l._data=na(l._data,l._size,p),l}t.prototype.reshape=function(l,f){var p=f?this.clone():this;p._data=Sl(p._data,l);var m=p._size.reduce((h,d)=>h*d);return p._size=Dl(l,m),p};function u(l,f,p){for(var m=l._size.slice(0),h=!1;m.length<f.length;)m.push(0),h=!0;for(var d=0,v=f.length;d<v;d++)f[d]>m[d]&&(m[d]=f[d],h=!0);h&&c(l,m,p)}t.prototype.clone=function(){var l=new t({data:pt(this._data),size:pt(this._size),datatype:this._datatype});return l},t.prototype.size=function(){return this._size.slice(0)},t.prototype.map=function(l){var f=this,p=yp(l),m=function v(y,S){return Gt(y)?y.map(function(b,w){return v(b,S.concat(w))}):p===1?l(y):p===2?l(y,S):l(y,S,f)},h=m(this._data,[]),d=this._datatype!==void 0?vo(h,$t):void 0;return new t(h,d)},t.prototype.forEach=function(l){var f=this,p=function m(h,d){Gt(h)?h.forEach(function(v,y){m(v,d.concat(y))}):l(h,d,f)};p(this._data,[])},t.prototype[Symbol.iterator]=function*(){var l=function*f(p,m){if(Gt(p))for(var h=0;h<p.length;h++)yield*fh(f(p[h],m.concat(h)));else yield{value:p,index:m}};yield*fh(l(this._data,[]))},t.prototype.rows=function(){var l=[],f=this.size();if(f.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var p=this._data;for(var m of p)l.push(new t([m],this._datatype));return l},t.prototype.columns=function(){var l=this,f=[],p=this.size();if(p.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var m=this._data,h=function(y){var S=m.map(b=>[b[y]]);f.push(new t(S,l._datatype))},d=0;d<p[1];d++)h(d);return f},t.prototype.toArray=function(){return pt(this._data)},t.prototype.valueOf=function(){return this._data},t.prototype.format=function(l){return bt(this._data,l)},t.prototype.toString=function(){return bt(this._data)},t.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(l){if(l){if(st(l)&&(l=l.toNumber()),!gt(l)||!Xe(l))throw new TypeError("The parameter k must be an integer number")}else l=0;for(var f=l>0?l:0,p=l<0?-l:0,m=this._size[0],h=this._size[1],d=Math.min(m-p,h-f),v=[],y=0;y<d;y++)v[y]=this._data[y+p][y+f];return new t({data:v,size:[d],datatype:this._datatype})},t.diagonal=function(l,f,p,m){if(!Gt(l))throw new TypeError("Array expected, size parameter");if(l.length!==2)throw new Error("Only two dimensions matrix are supported");if(l=l.map(function(T){if(st(T)&&(T=T.toNumber()),!gt(T)||!Xe(T)||T<1)throw new Error("Size values must be positive integers");return T}),p){if(st(p)&&(p=p.toNumber()),!gt(p)||!Xe(p))throw new TypeError("The parameter k must be an integer number")}else p=0;var h=p>0?p:0,d=p<0?-p:0,v=l[0],y=l[1],S=Math.min(v-d,y-h),b;if(Gt(f)){if(f.length!==S)throw new Error("Invalid value array length");b=function(A){return f[A]}}else if(rt(f)){var w=f.size();if(w.length!==1||w[0]!==S)throw new Error("Invalid matrix length");b=function(A){return f.get([A])}}else b=function(){return f};m||(m=st(b(0))?b(0).mul(0):0);var _=[];if(l.length>0){_=na(_,l,m);for(var x=0;x<S;x++)_[x+d][x+h]=b(x)}return new t({data:_,size:[v,y]})},t.fromJSON=function(l){return new t(l)},t.prototype.swapRows=function(l,f){if(!gt(l)||!Xe(l)||!gt(f)||!Xe(f))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return pr(l,this._size[0]),pr(f,this._size[0]),t._swapRows(l,f,this._data),this},t._swapRows=function(l,f,p){var m=p[l];p[l]=p[f],p[f]=m};function s(l){return rt(l)?s(l.valueOf()):Gt(l)?l.map(s):l}return t},{isClass:!0});var kE="clone",nz=["typed"],ev=M(kE,nz,r=>{var{typed:e}=r;return e(kE,{any:pt})});function bp(r){var e=r.length,t=r[0].length,n,i,a=[];for(i=0;i<t;i++){var o=[];for(n=0;n<e;n++)o.push(r[n][i]);a.push(o)}return a}function Ui(r){for(var e=0;e<r.length;e++)if(Wr(r[e]))return!0;return!1}function Rn(r,e){rt(r)&&(r=r.valueOf());for(var t=0,n=r.length;t<n;t++){var i=r[t];Array.isArray(i)?Rn(i,e):e(i)}}function ot(r,e,t){return r&&typeof r.map=="function"?r.map(function(n){return ot(n,e,t)}):e(r)}function So(r,e,t){var n=Array.isArray(r)?ht(r):r.size();if(e<0||e>=n.length)throw new Mn(e,n.length);return rt(r)?r.create(xp(r.valueOf(),e,t)):xp(r,e,t)}function xp(r,e,t){var n,i,a,o;if(e<=0)if(Array.isArray(r[0])){for(o=bp(r),i=[],n=0;n<o.length;n++)i[n]=xp(o[n],e-1,t);return i}else{for(a=r[0],n=1;n<r.length;n++)a=t(a,r[n]);return a}else{for(i=[],n=0;n<r.length;n++)i[n]=xp(r[n],e-1,t);return i}}function tv(r,e,t,n,i,a,o,c,u,s,l){var f=r._values,p=r._index,m=r._ptr,h,d,v,y;if(n)for(d=m[e],v=m[e+1],h=d;h<v;h++)y=p[h],t[y]!==a?(t[y]=a,o.push(y),s?(n[y]=u?c(f[h],l):c(l,f[h]),i[y]=a):n[y]=f[h]):(n[y]=u?c(f[h],n[y]):c(n[y],f[h]),i[y]=a);else for(d=m[e],v=m[e+1],h=d;h<v;h++)y=p[h],t[y]!==a?(t[y]=a,o.push(y)):i[y]=a}var RE="isInteger",iz=["typed"],rv=M(RE,iz,r=>{var{typed:e}=r;return e(RE,{number:Xe,BigNumber:function(n){return n.isInt()},Fraction:function(n){return n.d===1&&isFinite(n.n)},"Array | Matrix":e.referToSelf(t=>n=>ot(n,t))})});var ui="number",$a="number, number";function nv(r){return Math.abs(r)}nv.signature=ui;function iv(r,e){return r+e}iv.signature=$a;function av(r,e){return r-e}av.signature=$a;function ov(r,e){return r*e}ov.signature=$a;function az(r,e){return r/e}az.signature=$a;function sv(r){return-r}sv.signature=ui;function uv(r){return r}uv.signature=ui;function gu(r){return HA(r)}gu.signature=ui;function lv(r){return r*r*r}lv.signature=ui;function cv(r){return Math.exp(r)}cv.signature=ui;function fv(r){return GA(r)}fv.signature=ui;function oz(r,e){if(!Xe(r)||!Xe(e))throw new Error("Parameters in function gcd must be integer numbers");for(var t;e!==0;)t=r%e,r=e,e=t;return r<0?-r:r}oz.signature=$a;function pv(r,e){if(!Xe(r)||!Xe(e))throw new Error("Parameters in function lcm must be integer numbers");if(r===0||e===0)return 0;for(var t,n=r*e;e!==0;)t=e,e=r%t,r=t;return Math.abs(n/r)}pv.signature=$a;function LE(r,e){return e?Math.log(r)/Math.log(e):Math.log(r)}function mv(r){return $A(r)}mv.signature=ui;function dv(r){return zA(r)}dv.signature=ui;function sz(r){return rp(r)}sz.signature=ui;function uz(r,e){return e===0?r:r-e*Math.floor(r/e)}uz.signature=$a;function hv(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,t=e<0;if(t&&(e=-e),e===0)throw new Error("Root must be non-zero");if(r<0&&Math.abs(e)%2!==1)throw new Error("Root must be odd when a is negative.");if(r===0)return t?1/0:0;if(!isFinite(r))return t?0:r;var n=Math.pow(Math.abs(r),1/e);return n=r<0?-n:n,t?1/n:n}function wp(r){return Li(r)}wp.signature=ui;function lz(r){return Math.sqrt(r)}lz.signature=ui;function gv(r){return r*r}gv.signature=ui;function vv(r,e){var t,n,i,a=0,o=1,c=1,u=0;if(!Xe(r)||!Xe(e))throw new Error("Parameters in function xgcd must be integer numbers");for(;e;)n=Math.floor(r/e),i=r-n*e,t=a,a=o-n*a,o=t,t=c,c=u-n*c,u=t,r=e,e=i;var s;return r<0?s=[-r,-o,-u]:s=[r,r?o:0,u],s}vv.signature=$a;function yv(r,e){return r*r<1&&e===1/0||r*r>1&&e===-1/0?0:Math.pow(r,e)}yv.signature=$a;function vu(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!Xe(e)||e<0||e>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(Eg(r,e))}function cz(r){return Math.abs(r)}cz.signature=ui;var fz="number",yu="number, number";function bv(r,e){if(!Xe(r)||!Xe(e))throw new Error("Integers expected in function bitAnd");return r&e}bv.signature=yu;function xv(r){if(!Xe(r))throw new Error("Integer expected in function bitNot");return~r}xv.signature=fz;function wv(r,e){if(!Xe(r)||!Xe(e))throw new Error("Integers expected in function bitOr");return r|e}wv.signature=yu;function _v(r,e){if(!Xe(r)||!Xe(e))throw new Error("Integers expected in function bitXor");return r^e}_v.signature=yu;function Sv(r,e){if(!Xe(r)||!Xe(e))throw new Error("Integers expected in function leftShift");return r<<e}Sv.signature=yu;function Dv(r,e){if(!Xe(r)||!Xe(e))throw new Error("Integers expected in function rightArithShift");return r>>e}Dv.signature=yu;function Nv(r,e){if(!Xe(r)||!Xe(e))throw new Error("Integers expected in function rightLogShift");return r>>>e}Nv.signature=yu;function Di(r,e){if(e<r)return 1;if(e===r)return e;var t=e+r>>1;return Di(r,t)*Di(t+1,e)}function Av(r,e){if(!Xe(r)||r<0)throw new TypeError("Positive integer value expected in function combinations");if(!Xe(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(e>r)throw new TypeError("k must be less than or equal to n");for(var t=r-e,n=1,i=e<t?t+1:e+1,a=2,o=e<t?e:t,c=i;c<=r;++c)for(n*=c;a<=o&&n%a===0;)n/=a,++a;return a<=o&&(n/=Di(a,o)),n}Av.signature="number, number";var UE=Math.PI,VE=2*Math.PI,qE=Math.E,zE=1.618033988749895;var pz="number",Ev="number, number";function Tv(r){return!r}Tv.signature=pz;function Mv(r,e){return!!(r||e)}Mv.signature=Ev;function Cv(r,e){return!!r!=!!e}Cv.signature=Ev;function Fv(r,e){return!!(r&&e)}Fv.signature=Ev;function Tl(r){var e;if(Xe(r))return r<=0?isFinite(r)?1/0:NaN:r>171?1/0:Di(1,r-1);if(r<.5)return Math.PI/(Math.sin(Math.PI*r)*Tl(1-r));if(r>=171.35)return 1/0;if(r>85){var t=r*r,n=t*r,i=n*r,a=i*r;return Math.sqrt(2*Math.PI/r)*Math.pow(r/Math.E,r)*(1+1/(12*r)+1/(288*t)-139/(51840*n)-571/(2488320*i)+163879/(209018880*a)+5246819/(75246796800*a*r))}--r,e=ps[0];for(var o=1;o<ps.length;++o)e+=ps[o]/(r+o);var c=r+Iv+.5;return Math.sqrt(2*Math.PI)*Math.pow(c,r+.5)*Math.exp(-c)*e}Tl.signature="number";var Iv=4.7421875,ps=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],Bv=.9189385332046728,mz=5,dz=7,$E=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function Ml(r){if(r<0)return NaN;if(r===0)return 1/0;if(!isFinite(r))return r;if(r<.5)return Math.log(Math.PI/Math.sin(Math.PI*r))-Ml(1-r);r=r-1;for(var e=r+mz+.5,t=$E[0],n=dz-1;n>=1;n--)t+=$E[n]/(r+n);return Bv+(r+.5)*Math.log(e)-e+Math.log(t)}Ml.signature="number";var qr="number",hz="number, number";function gz(r){return Math.acos(r)}gz.signature=qr;function Pv(r){return jA(r)}Pv.signature=qr;function Ov(r){return Math.atan(1/r)}Ov.signature=qr;function kv(r){return isFinite(r)?(Math.log((r+1)/r)+Math.log(r/(r-1)))/2:0}kv.signature=qr;function Rv(r){return Math.asin(1/r)}Rv.signature=qr;function Lv(r){var e=1/r;return Math.log(e+Math.sqrt(e*e+1))}Lv.signature=qr;function Uv(r){return Math.acos(1/r)}Uv.signature=qr;function Vv(r){var e=1/r,t=Math.sqrt(e*e-1);return Math.log(t+e)}Vv.signature=qr;function vz(r){return Math.asin(r)}vz.signature=qr;function qv(r){return ZA(r)}qv.signature=qr;function yz(r){return Math.atan(r)}yz.signature=qr;function bz(r,e){return Math.atan2(r,e)}bz.signature=hz;function zv(r){return JA(r)}zv.signature=qr;function xz(r){return Math.cos(r)}xz.signature=qr;function wz(r){return ip(r)}wz.signature=qr;function $v(r){return 1/Math.tan(r)}$v.signature=qr;function Hv(r){var e=Math.exp(2*r);return(e+1)/(e-1)}Hv.signature=qr;function Gv(r){return 1/Math.sin(r)}Gv.signature=qr;function Wv(r){return r===0?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(r)-Math.exp(-r)))*Li(r)}Wv.signature=qr;function Yv(r){return 1/Math.cos(r)}Yv.signature=qr;function jv(r){return 2/(Math.exp(r)+Math.exp(-r))}jv.signature=qr;function _z(r){return Math.sin(r)}_z.signature=qr;function Zv(r){return XA(r)}Zv.signature=qr;function Sz(r){return Math.tan(r)}Sz.signature=qr;function Dz(r){return ap(r)}Dz.signature=qr;var Cl="number";function Nz(r){return Xe(r)}Nz.signature=Cl;function Jv(r){return r<0}Jv.signature=Cl;function Xv(r){return r>0}Xv.signature=Cl;function Qv(r){return r===0}Qv.signature=Cl;function Kv(r){return Number.isNaN(r)}Kv.signature=Cl;var HE="isNegative",Az=["typed"],ey=M(HE,Az,r=>{var{typed:e}=r;return e(HE,{number:Jv,BigNumber:function(n){return n.isNeg()&&!n.isZero()&&!n.isNaN()},Fraction:function(n){return n.s<0},Unit:e.referToSelf(t=>n=>e.find(t,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(t=>n=>ot(n,t))})});var GE="isNumeric",Ez=["typed"],ty=M(GE,Ez,r=>{var{typed:e}=r;return e(GE,{"number | BigNumber | Fraction | boolean":()=>!0,"Complex | Unit | string | null | undefined | Node":()=>!1,"Array | Matrix":e.referToSelf(t=>n=>ot(n,t))})});var WE="hasNumericValue",Tz=["typed","isNumeric"],ry=M(WE,Tz,r=>{var{typed:e,isNumeric:t}=r;return e(WE,{boolean:()=>!0,string:function(i){return i.trim().length>0&&!isNaN(Number(i))},any:function(i){return t(i)}})});var YE="isPositive",Mz=["typed"],ny=M(YE,Mz,r=>{var{typed:e}=r;return e(YE,{number:Xv,BigNumber:function(n){return!n.isNeg()&&!n.isZero()&&!n.isNaN()},Fraction:function(n){return n.s>0&&n.n>0},Unit:e.referToSelf(t=>n=>e.find(t,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(t=>n=>ot(n,t))})});var jE="isZero",Cz=["typed"],iy=M(jE,Cz,r=>{var{typed:e}=r;return e(jE,{number:Qv,BigNumber:function(n){return n.isZero()},Complex:function(n){return n.re===0&&n.im===0},Fraction:function(n){return n.d===1&&n.n===0},Unit:e.referToSelf(t=>n=>e.find(t,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(t=>n=>ot(n,t))})});var ZE="isNaN",Fz=["typed"],ay=M(ZE,Fz,r=>{var{typed:e}=r;return e(ZE,{number:Kv,BigNumber:function(n){return n.isNaN()},Fraction:function(n){return!1},Complex:function(n){return n.isNaN()},Unit:function(n){return Number.isNaN(n.value)},"Array | Matrix":function(n){return ot(n,Number.isNaN)}})});var JE="typeOf",Iz=["typed"],oy=M(JE,Iz,r=>{var{typed:e}=r;return e(JE,{any:$t})});function nn(r,e,t){if(t==null)return r.eq(e);if(r.eq(e))return!0;if(r.isNaN()||e.isNaN())return!1;if(r.isFinite()&&e.isFinite()){var n=r.minus(e).abs();if(n.isZero())return!0;var i=r.constructor.max(r.abs(),e.abs());return n.lte(i.times(t))}return!1}function XE(r,e,t){return Rr(r.re,e.re,t)&&Rr(r.im,e.im,t)}var Vi=M("compareUnits",["typed"],r=>{var{typed:e}=r;return{"Unit, Unit":e.referToSelf(t=>(n,i)=>{if(!n.equalBase(i))throw new Error("Cannot compare units with different base");return e.find(t,[n.valueType(),i.valueType()])(n.value,i.value)})}});var _p="equalScalar",Bz=["typed","config"],sy=M(_p,Bz,r=>{var{typed:e,config:t}=r,n=Vi({typed:e});return e(_p,{"boolean, boolean":function(a,o){return a===o},"number, number":function(a,o){return Rr(a,o,t.epsilon)},"BigNumber, BigNumber":function(a,o){return a.eq(o)||nn(a,o,t.epsilon)},"Fraction, Fraction":function(a,o){return a.equals(o)},"Complex, Complex":function(a,o){return XE(a,o,t.epsilon)}},n)}),Bfe=M(_p,["typed","config"],r=>{var{typed:e,config:t}=r;return e(_p,{"number, number":function(i,a){return Rr(i,a,t.epsilon)}})});var Pz="SparseMatrix",Oz=["typed","equalScalar","Matrix"],uy=M(Pz,Oz,r=>{var{typed:e,equalScalar:t,Matrix:n}=r;function i(d,v){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(v&&!Vr(v))throw new Error("Invalid datatype: "+v);if(rt(d))a(this,d,v);else if(d&&Gt(d.index)&&Gt(d.ptr)&&Gt(d.size))this._values=d.values,this._index=d.index,this._ptr=d.ptr,this._size=d.size,this._datatype=v||d.datatype;else if(Gt(d))o(this,d,v);else{if(d)throw new TypeError("Unsupported type of data ("+$t(d)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=v}}function a(d,v,y){v.type==="SparseMatrix"?(d._values=v._values?pt(v._values):void 0,d._index=pt(v._index),d._ptr=pt(v._ptr),d._size=pt(v._size),d._datatype=y||v._datatype):o(d,v.valueOf(),y||v._datatype)}function o(d,v,y){d._values=[],d._index=[],d._ptr=[],d._datatype=y;var S=v.length,b=0,w=t,_=0;if(Vr(y)&&(w=e.find(t,[y,y])||t,_=e.convert(0,y)),S>0){var x=0;do{d._ptr.push(d._index.length);for(var T=0;T<S;T++){var A=v[T];if(Gt(A)){if(x===0&&b<A.length&&(b=A.length),x<A.length){var N=A[x];w(N,_)||(d._values.push(N),d._index.push(T))}}else x===0&&b<1&&(b=1),w(A,_)||(d._values.push(A),d._index.push(T))}x++}while(x<b)}d._ptr.push(d._index.length),d._size=[S,b]}i.prototype=new n,i.prototype.createSparseMatrix=function(d,v){return new i(d,v)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return vo(this._values,$t)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(d,v){return new i(d,v)},i.prototype.density=function(){var d=this._size[0],v=this._size[1];return d!==0&&v!==0?this._index.length/(d*v):0},i.prototype.subset=function(d,v,y){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return c(this,d);case 2:case 3:return u(this,d,v,y);default:throw new SyntaxError("Wrong number of arguments")}};function c(d,v){if(!po(v))throw new TypeError("Invalid index");var y=v.isScalar();if(y)return d.get(v.min());var S=v.size();if(S.length!==d._size.length)throw new wt(S.length,d._size.length);var b,w,_,x,T=v.min(),A=v.max();for(b=0,w=d._size.length;b<w;b++)pr(T[b],d._size[b]),pr(A[b],d._size[b]);var N=d._values,E=d._index,C=d._ptr,O=v.dimension(0),U=v.dimension(1),q=[],L=[];O.forEach(function(B,W){L[B]=W[0],q[B]=!0});var P=N?[]:void 0,k=[],H=[];return U.forEach(function(B){for(H.push(k.length),_=C[B],x=C[B+1];_<x;_++)b=E[_],q[b]===!0&&(k.push(L[b]),P&&P.push(N[_]))}),H.push(k.length),new i({values:P,index:k,ptr:H,size:S,datatype:d._datatype})}function u(d,v,y,S){if(!v||v.isIndex!==!0)throw new TypeError("Invalid index");var b=v.size(),w=v.isScalar(),_;if(rt(y)?(_=y.size(),y=y.toArray()):_=ht(y),w){if(_.length!==0)throw new TypeError("Scalar expected");d.set(v.min(),y,S)}else{if(b.length!==1&&b.length!==2)throw new wt(b.length,d._size.length,"<");if(_.length<b.length){for(var x=0,T=0;b[x]===1&&_[x]===1;)x++;for(;b[x]===1;)T++,x++;y=sp(y,b.length,T,_)}if(!ta(b,_))throw new wt(b,_,">");if(b.length===1){var A=v.dimension(0);A.forEach(function(C,O){pr(C),d.set([C,0],y[O[0]],S)})}else{var N=v.dimension(0),E=v.dimension(1);N.forEach(function(C,O){pr(C),E.forEach(function(U,q){pr(U),d.set([C,U],y[O[0]][q[0]],S)})})}}return d}i.prototype.get=function(d){if(!Gt(d))throw new TypeError("Array expected");if(d.length!==this._size.length)throw new wt(d.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var v=d[0],y=d[1];pr(v,this._size[0]),pr(y,this._size[1]);var S=s(v,this._ptr[y],this._ptr[y+1],this._index);return S<this._ptr[y+1]&&this._index[S]===v?this._values[S]:0},i.prototype.set=function(d,v,y){if(!Gt(d))throw new TypeError("Array expected");if(d.length!==this._size.length)throw new wt(d.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var S=d[0],b=d[1],w=this._size[0],_=this._size[1],x=t,T=0;Vr(this._datatype)&&(x=e.find(t,[this._datatype,this._datatype])||t,T=e.convert(0,this._datatype)),(S>w-1||b>_-1)&&(p(this,Math.max(S+1,w),Math.max(b+1,_),y),w=this._size[0],_=this._size[1]),pr(S,w),pr(b,_);var A=s(S,this._ptr[b],this._ptr[b+1],this._index);return A<this._ptr[b+1]&&this._index[A]===S?x(v,T)?l(A,b,this._values,this._index,this._ptr):this._values[A]=v:x(v,T)||f(A,S,b,v,this._values,this._index,this._ptr),this};function s(d,v,y,S){if(y-v===0)return y;for(var b=v;b<y;b++)if(S[b]===d)return b;return v}function l(d,v,y,S,b){y.splice(d,1),S.splice(d,1);for(var w=v+1;w<b.length;w++)b[w]--}function f(d,v,y,S,b,w,_){b.splice(d,0,S),w.splice(d,0,v);for(var x=y+1;x<_.length;x++)_[x]++}i.prototype.resize=function(d,v,y){if(!Wr(d))throw new TypeError("Array or Matrix expected");var S=d.valueOf().map(w=>Array.isArray(w)&&w.length===1?w[0]:w);if(S.length!==2)throw new Error("Only two dimensions matrix are supported");S.forEach(function(w){if(!gt(w)||!Xe(w)||w<0)throw new TypeError("Invalid size, must contain positive integers (size: "+bt(S)+")")});var b=y?this.clone():this;return p(b,S[0],S[1],v)};function p(d,v,y,S){var b=S||0,w=t,_=0;Vr(d._datatype)&&(w=e.find(t,[d._datatype,d._datatype])||t,_=e.convert(0,d._datatype),b=e.convert(b,d._datatype));var x=!w(b,_),T=d._size[0],A=d._size[1],N,E,C;if(y>A){for(E=A;E<y;E++)if(d._ptr[E]=d._values.length,x)for(N=0;N<T;N++)d._values.push(b),d._index.push(N);d._ptr[y]=d._values.length}else y<A&&(d._ptr.splice(y+1,A-y),d._values.splice(d._ptr[y],d._values.length),d._index.splice(d._ptr[y],d._index.length));if(A=y,v>T){if(x){var O=0;for(E=0;E<A;E++){d._ptr[E]=d._ptr[E]+O,C=d._ptr[E+1]+O;var U=0;for(N=T;N<v;N++,U++)d._values.splice(C+U,0,b),d._index.splice(C+U,0,N),O++}d._ptr[A]=d._values.length}}else if(v<T){var q=0;for(E=0;E<A;E++){d._ptr[E]=d._ptr[E]-q;var L=d._ptr[E],P=d._ptr[E+1]-q;for(C=L;C<P;C++)N=d._index[C],N>v-1&&(d._values.splice(C,1),d._index.splice(C,1),q++)}d._ptr[E]=d._values.length}return d._size[0]=v,d._size[1]=y,d}i.prototype.reshape=function(d,v){if(!Gt(d))throw new TypeError("Array expected");if(d.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");d.forEach(function(B){if(!gt(B)||!Xe(B)||B<=-2||B===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+bt(d)+")")});var y=this._size[0]*this._size[1];d=Dl(d,y);var S=d[0]*d[1];if(y!==S)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var b=v?this.clone():this;if(this._size[0]===d[0]&&this._size[1]===d[1])return b;for(var w=[],_=0;_<b._ptr.length;_++)for(var x=0;x<b._ptr[_+1]-b._ptr[_];x++)w.push(_);for(var T=b._values.slice(),A=b._index.slice(),N=0;N<b._index.length;N++){var E=A[N],C=w[N],O=E*b._size[1]+C;w[N]=O%d[1],A[N]=Math.floor(O/d[1])}b._values.length=0,b._index.length=0,b._ptr.length=d[1]+1,b._size=d.slice();for(var U=0;U<b._ptr.length;U++)b._ptr[U]=0;for(var q=0;q<T.length;q++){var L=A[q],P=w[q],k=T[q],H=s(L,b._ptr[P],b._ptr[P+1],b._index);f(H,L,P,k,b._values,b._index,b._ptr)}return b},i.prototype.clone=function(){var d=new i({values:this._values?pt(this._values):void 0,index:pt(this._index),ptr:pt(this._ptr),size:pt(this._size),datatype:this._datatype});return d},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(d,v){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var y=this,S=this._size[0],b=this._size[1],w=yp(d),_=function(T,A,N){return w===1?d(T):w===2?d(T,[A,N]):d(T,[A,N],y)};return m(this,0,S-1,0,b-1,_,v)};function m(d,v,y,S,b,w,_){var x=[],T=[],A=[],N=t,E=0;Vr(d._datatype)&&(N=e.find(t,[d._datatype,d._datatype])||t,E=e.convert(0,d._datatype));for(var C=function(V,le,Se){V=w(V,le,Se),N(V,E)||(x.push(V),T.push(le))},O=S;O<=b;O++){A.push(x.length);var U=d._ptr[O],q=d._ptr[O+1];if(_)for(var L=U;L<q;L++){var P=d._index[L];P>=v&&P<=y&&C(d._values[L],P-v,O-S)}else{for(var k={},H=U;H<q;H++){var B=d._index[H];k[B]=d._values[H]}for(var W=v;W<=y;W++){var ie=W in k?k[W]:0;C(ie,W-v,O-S)}}}return A.push(x.length),new i({values:x,index:T,ptr:A,size:[y-v+1,b-S+1]})}i.prototype.forEach=function(d,v){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var y=this,S=this._size[0],b=this._size[1],w=0;w<b;w++){var _=this._ptr[w],x=this._ptr[w+1];if(v)for(var T=_;T<x;T++){var A=this._index[T];d(this._values[T],[A,w],y)}else{for(var N={},E=_;E<x;E++){var C=this._index[E];N[C]=this._values[E]}for(var O=0;O<S;O++){var U=O in N?N[O]:0;d(U,[O,w],y)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var d=this._size[1],v=0;v<d;v++)for(var y=this._ptr[v],S=this._ptr[v+1],b=y;b<S;b++){var w=this._index[b];yield{value:this._values[b],index:[w,v]}}},i.prototype.toArray=function(){return h(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return h(this._values,this._index,this._ptr,this._size,!1)};function h(d,v,y,S,b){var w=S[0],_=S[1],x=[],T,A;for(T=0;T<w;T++)for(x[T]=[],A=0;A<_;A++)x[T][A]=0;for(A=0;A<_;A++)for(var N=y[A],E=y[A+1],C=N;C<E;C++)T=v[C],x[T][A]=d?b?pt(d[C]):d[C]:1;return x}return i.prototype.format=function(d){for(var v=this._size[0],y=this._size[1],S=this.density(),b="Sparse Matrix ["+bt(v,d)+" x "+bt(y,d)+"] density: "+bt(S,d)+`
`,w=0;w<y;w++)for(var _=this._ptr[w],x=this._ptr[w+1],T=_;T<x;T++){var A=this._index[T];b+=`
    (`+bt(A,d)+", "+bt(w,d)+") ==> "+(this._values?bt(this._values[T],d):"X")}return b},i.prototype.toString=function(){return bt(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(d){if(d){if(st(d)&&(d=d.toNumber()),!gt(d)||!Xe(d))throw new TypeError("The parameter k must be an integer number")}else d=0;var v=d>0?d:0,y=d<0?-d:0,S=this._size[0],b=this._size[1],w=Math.min(S-y,b-v),_=[],x=[],T=[];T[0]=0;for(var A=v;A<b&&_.length<w;A++)for(var N=this._ptr[A],E=this._ptr[A+1],C=N;C<E;C++){var O=this._index[C];if(O===A-v+y){_.push(this._values[C]),x[_.length-1]=O-y;break}}return T.push(_.length),new i({values:_,index:x,ptr:T,size:[w,1]})},i.fromJSON=function(d){return new i(d)},i.diagonal=function(d,v,y,S,b){if(!Gt(d))throw new TypeError("Array expected, size parameter");if(d.length!==2)throw new Error("Only two dimensions matrix are supported");if(d=d.map(function(B){if(st(B)&&(B=B.toNumber()),!gt(B)||!Xe(B)||B<1)throw new Error("Size values must be positive integers");return B}),y){if(st(y)&&(y=y.toNumber()),!gt(y)||!Xe(y))throw new TypeError("The parameter k must be an integer number")}else y=0;var w=t,_=0;Vr(b)&&(w=e.find(t,[b,b])||t,_=e.convert(0,b));var x=y>0?y:0,T=y<0?-y:0,A=d[0],N=d[1],E=Math.min(A-T,N-x),C;if(Gt(v)){if(v.length!==E)throw new Error("Invalid value array length");C=function(W){return v[W]}}else if(rt(v)){var O=v.size();if(O.length!==1||O[0]!==E)throw new Error("Invalid matrix length");C=function(W){return v.get([W])}}else C=function(){return v};for(var U=[],q=[],L=[],P=0;P<N;P++){L.push(U.length);var k=P-x;if(k>=0&&k<E){var H=C(k);w(H,_)||(q.push(k+T),U.push(H))}}return L.push(U.length),new i({values:U,index:q,ptr:L,size:[A,N]})},i.prototype.swapRows=function(d,v){if(!gt(d)||!Xe(d)||!gt(v)||!Xe(v))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return pr(d,this._size[0]),pr(v,this._size[0]),i._swapRows(d,v,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(d,v,y,S,b){for(var w=S[d],_=S[d+1],x=w;x<_;x++)b(y[x],v[x])},i._swapRows=function(d,v,y,S,b,w){for(var _=0;_<y;_++){var x=w[_],T=w[_+1],A=s(d,x,T,b),N=s(v,x,T,b);if(A<T&&N<T&&b[A]===d&&b[N]===v){if(S){var E=S[A];S[A]=S[N],S[N]=E}continue}if(A<T&&b[A]===d&&(N>=T||b[N]!==v)){var C=S?S[A]:void 0;b.splice(N,0,v),S&&S.splice(N,0,C),b.splice(N<=A?A+1:A,1),S&&S.splice(N<=A?A+1:A,1);continue}if(N<T&&b[N]===v&&(A>=T||b[A]!==d)){var O=S?S[N]:void 0;b.splice(A,0,d),S&&S.splice(A,0,O),b.splice(A<=N?N+1:N,1),S&&S.splice(A<=N?N+1:N,1)}}},i},{isClass:!0});var kz="number",Rz=["typed"];function Lz(r){var e=r.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(e){var t={"0b":2,"0o":8,"0x":16}[e[1]],n=e[2],i=e[3];return{input:r,radix:t,integerPart:n,fractionalPart:i}}else return null}function Uz(r){for(var e=parseInt(r.integerPart,r.radix),t=0,n=0;n<r.fractionalPart.length;n++){var i=parseInt(r.fractionalPart[n],r.radix);t+=i/Math.pow(r.radix,n+1)}var a=e+t;if(isNaN(a))throw new SyntaxError('String "'+r.input+'" is not a valid number');return a}var ly=M(kz,Rz,r=>{var{typed:e}=r,t=e("number",{"":function(){return 0},number:function(i){return i},string:function(i){if(i==="NaN")return NaN;var a=Lz(i);if(a)return Uz(a);var o=0,c=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);c&&(o=Number(c[2]),i=c[1]);var u=Number(i);if(isNaN(u))throw new SyntaxError('String "'+i+'" is not a valid number');if(c){if(u>2**o-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));u>=2**(o-1)&&(u=u-2**o)}return u},BigNumber:function(i){return i.toNumber()},Fraction:function(i){return i.valueOf()},Unit:e.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),null:function(i){return 0},"Unit, string | Unit":function(i,a){return i.toNumber(a)},"Array | Matrix":e.referToSelf(n=>i=>ot(i,n))});return t.fromJSON=function(n){return parseFloat(n.value)},t});var QE="string",Vz=["typed"],cy=M(QE,Vz,r=>{var{typed:e}=r;return e(QE,{"":function(){return""},number:ra,null:function(n){return"null"},boolean:function(n){return n+""},string:function(n){return n},"Array | Matrix":e.referToSelf(t=>n=>ot(n,t)),any:function(n){return String(n)}})});var KE="boolean",qz=["typed"],fy=M(KE,qz,r=>{var{typed:e}=r;return e(KE,{"":function(){return!1},boolean:function(n){return n},number:function(n){return!!n},null:function(n){return!1},BigNumber:function(n){return!n.isZero()},string:function(n){var i=n.toLowerCase();if(i==="true")return!0;if(i==="false")return!1;var a=Number(n);if(n!==""&&!isNaN(a))return!!a;throw new Error('Cannot convert "'+n+'" to a boolean')},"Array | Matrix":e.referToSelf(t=>n=>ot(n,t))})});var zz="bignumber",$z=["typed","BigNumber"],py=M(zz,$z,r=>{var{typed:e,BigNumber:t}=r;return e("bignumber",{"":function(){return new t(0)},number:function(i){return new t(i+"")},string:function(i){var a=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(a){var o=a[2],c=t(a[1]),u=new t(2).pow(Number(o));if(c.gt(u.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var s=new t(2).pow(Number(o)-1);return c.gte(s)?c.sub(u):c}return new t(i)},BigNumber:function(i){return i},Unit:e.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),Fraction:function(i){return new t(i.n).div(i.d).times(i.s)},null:function(i){return new t(0)},"Array | Matrix":e.referToSelf(n=>i=>ot(i,n))})});var Hz="complex",Gz=["typed","Complex"],my=M(Hz,Gz,r=>{var{typed:e,Complex:t}=r;return e("complex",{"":function(){return t.ZERO},number:function(i){return new t(i,0)},"number, number":function(i,a){return new t(i,a)},"BigNumber, BigNumber":function(i,a){return new t(i.toNumber(),a.toNumber())},Fraction:function(i){return new t(i.valueOf(),0)},Complex:function(i){return i.clone()},string:function(i){return t(i)},null:function(i){return t(0)},Object:function(i){if("re"in i&&"im"in i)return new t(i.re,i.im);if("r"in i&&"phi"in i||"abs"in i&&"arg"in i)return new t(i);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":e.referToSelf(n=>i=>ot(i,n))})});var Wz="fraction",Yz=["typed","Fraction"],dy=M(Wz,Yz,r=>{var{typed:e,Fraction:t}=r;return e("fraction",{number:function(i){if(!isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new t(i)},string:function(i){return new t(i)},"number, number":function(i,a){return new t(i,a)},null:function(i){return new t(0)},BigNumber:function(i){return new t(i.toString())},Fraction:function(i){return i},Unit:e.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),Object:function(i){return new t(i)},"Array | Matrix":e.referToSelf(n=>i=>ot(i,n))})});var eT="matrix",jz=["typed","Matrix","DenseMatrix","SparseMatrix"],hy=M(eT,jz,r=>{var{typed:e,Matrix:t,DenseMatrix:n,SparseMatrix:i}=r;return e(eT,{"":function(){return a([])},string:function(c){return a([],c)},"string, string":function(c,u){return a([],c,u)},Array:function(c){return a(c)},Matrix:function(c){return a(c,c.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(o,c,u){if(c==="dense"||c==="default"||c===void 0)return new n(o,u);if(c==="sparse")return new i(o,u);throw new TypeError("Unknown matrix type "+JSON.stringify(c)+".")}});var tT="matrixFromFunction",Zz=["typed","matrix","isZero"],gy=M(tT,Zz,r=>{var{typed:e,matrix:t,isZero:n}=r;return e(tT,{"Array | Matrix, function, string, string":function(o,c,u,s){return i(o,c,u,s)},"Array | Matrix, function, string":function(o,c,u){return i(o,c,u)},"Matrix, function":function(o,c){return i(o,c,"dense")},"Array, function":function(o,c){return i(o,c,"dense").toArray()},"Array | Matrix, string, function":function(o,c,u){return i(o,u,c)},"Array | Matrix, string, string, function":function(o,c,u,s){return i(o,s,c,u)}});function i(a,o,c,u){var s;return u!==void 0?s=t(c,u):s=t(c),s.resize(a),s.forEach(function(l,f){var p=o(f);n(p)||s.set(f,p)}),s}});var rT="matrixFromRows",Jz=["typed","matrix","flatten","size"],vy=M(rT,Jz,r=>{var{typed:e,matrix:t,flatten:n,size:i}=r;return e(rT,{"...Array":function(u){return a(u)},"...Matrix":function(u){return t(a(u.map(s=>s.toArray())))}});function a(c){if(c.length===0)throw new TypeError("At least one row is needed to construct a matrix.");var u=o(c[0]),s=[];for(var l of c){var f=o(l);if(f!==u)throw new TypeError("The vectors had different length: "+(u|0)+" \u2260 "+(f|0));s.push(n(l))}return s}function o(c){var u=i(c);if(u.length===1)return u[0];if(u.length===2){if(u[0]===1)return u[1];if(u[1]===1)return u[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}});var nT="matrixFromColumns",Xz=["typed","matrix","flatten","size"],yy=M(nT,Xz,r=>{var{typed:e,matrix:t,flatten:n,size:i}=r;return e(nT,{"...Array":function(u){return a(u)},"...Matrix":function(u){return t(a(u.map(s=>s.toArray())))}});function a(c){if(c.length===0)throw new TypeError("At least one column is needed to construct a matrix.");for(var u=o(c[0]),s=[],l=0;l<u;l++)s[l]=[];for(var f of c){var p=o(f);if(p!==u)throw new TypeError("The vectors had different length: "+(u|0)+" \u2260 "+(p|0));for(var m=n(f),h=0;h<u;h++)s[h].push(m[h])}return s}function o(c){var u=i(c);if(u.length===1)return u[0];if(u.length===2){if(u[0]===1)return u[1];if(u[1]===1)return u[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}});var iT="splitUnit",Qz=["typed"],by=M(iT,Qz,r=>{var{typed:e}=r;return e(iT,{"Unit, Array":function(n,i){return n.splitUnit(i)}})});var aT="unaryMinus",Kz=["typed"],xy=M(aT,Kz,r=>{var{typed:e}=r;return e(aT,{number:sv,"Complex | BigNumber | Fraction":t=>t.neg(),Unit:e.referToSelf(t=>n=>{var i=n.clone();return i.value=e.find(t,i.valueType())(n.value),i}),"Array | Matrix":e.referToSelf(t=>n=>ot(n,t,!0))})});var oT="unaryPlus",e$=["typed","config","BigNumber"],wy=M(oT,e$,r=>{var{typed:e,config:t,BigNumber:n}=r;return e(oT,{number:uv,Complex:function(a){return a},BigNumber:function(a){return a},Fraction:function(a){return a},Unit:function(a){return a.clone()},"Array | Matrix":e.referToSelf(i=>a=>ot(a,i,!0)),"boolean | string":function(a){return t.number==="BigNumber"?new n(+a):+a}})});var sT="abs",t$=["typed"],_y=M(sT,t$,r=>{var{typed:e}=r;return e(sT,{number:nv,"Complex | BigNumber | Fraction | Unit":t=>t.abs(),"Array | Matrix":e.referToSelf(t=>n=>ot(n,t,!0))})});var uT="apply",r$=["typed","isInteger"],ms=M(uT,r$,r=>{var{typed:e,isInteger:t}=r;return e(uT,{"Array | Matrix, number | BigNumber, function":function(i,a,o){if(!t(a))throw new TypeError("Integer number expected for dimension");var c=Array.isArray(i)?ht(i):i.size();if(a<0||a>=c.length)throw new Mn(a,c.length);return rt(i)?i.create(Sp(i.valueOf(),a,o)):Sp(i,a,o)}})});function Sp(r,e,t){var n,i,a;if(e<=0)if(Array.isArray(r[0])){for(a=n$(r),i=[],n=0;n<a.length;n++)i[n]=Sp(a[n],e-1,t);return i}else return t(r);else{for(i=[],n=0;n<r.length;n++)i[n]=Sp(r[n],e-1,t);return i}}function n$(r){var e=r.length,t=r[0].length,n,i,a=[];for(i=0;i<t;i++){var o=[];for(n=0;n<e;n++)o.push(r[n][i]);a.push(o)}return a}var lT="addScalar",i$=["typed"],Sy=M(lT,i$,r=>{var{typed:e}=r;return e(lT,{"number, number":iv,"Complex, Complex":function(n,i){return n.add(i)},"BigNumber, BigNumber":function(n,i){return n.plus(i)},"Fraction, Fraction":function(n,i){return n.add(i)},"Unit, Unit":e.referToSelf(t=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var a=n.clone();return a.value=e.find(t,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})});var cT="subtractScalar",a$=["typed"],Dy=M(cT,a$,r=>{var{typed:e}=r;return e(cT,{"number, number":av,"Complex, Complex":function(n,i){return n.sub(i)},"BigNumber, BigNumber":function(n,i){return n.minus(i)},"Fraction, Fraction":function(n,i){return n.sub(i)},"Unit, Unit":e.referToSelf(t=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var a=n.clone();return a.value=e.find(t,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})});var fT="cbrt",o$=["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],Ny=M(fT,o$,r=>{var{config:e,typed:t,isNegative:n,unaryMinus:i,matrix:a,Complex:o,BigNumber:c,Fraction:u}=r;return t(fT,{number:gu,Complex:s,"Complex, boolean":s,BigNumber:function(p){return p.cbrt()},Unit:l});function s(f,p){var m=f.arg()/3,h=f.abs(),d=new o(gu(h),0).mul(new o(0,m).exp());if(p){var v=[d,new o(gu(h),0).mul(new o(0,m+Math.PI*2/3).exp()),new o(gu(h),0).mul(new o(0,m-Math.PI*2/3).exp())];return e.matrix==="Array"?v:a(v)}else return d}function l(f){if(f.value&&Xn(f.value)){var p=f.clone();return p.value=1,p=p.pow(1/3),p.value=s(f.value),p}else{var m=n(f.value);m&&(f.value=i(f.value));var h;st(f.value)?h=new c(1).div(3):Ua(f.value)?h=new u(1,3):h=1/3;var d=f.pow(h);return m&&(d.value=i(d.value)),d}}});var s$="matAlgo11xS0s",u$=["typed","equalScalar"],mr=M(s$,u$,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o,c){var u=i._values,s=i._index,l=i._ptr,f=i._size,p=i._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=f[0],h=f[1],d,v=t,y=0,S=o;typeof p=="string"&&(d=p,v=e.find(t,[d,d]),y=e.convert(0,d),a=e.convert(a,d),S=e.find(o,[d,d]));for(var b=[],w=[],_=[],x=0;x<h;x++){_[x]=w.length;for(var T=l[x],A=l[x+1],N=T;N<A;N++){var E=s[N],C=c?S(a,u[N]):S(u[N],a);v(C,y)||(w.push(E),b.push(C))}}return _[h]=w.length,i.createSparseMatrix({values:b,index:w,ptr:_,size:[m,h],datatype:d})}});var l$="matAlgo12xSfs",c$=["typed","DenseMatrix"],rr=M(l$,c$,r=>{var{typed:e,DenseMatrix:t}=r;return function(i,a,o,c){var u=i._values,s=i._index,l=i._ptr,f=i._size,p=i._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=f[0],h=f[1],d,v=o;typeof p=="string"&&(d=p,a=e.convert(a,d),v=e.find(o,[d,d]));for(var y=[],S=[],b=[],w=0;w<h;w++){for(var _=w+1,x=l[w],T=l[w+1],A=x;A<T;A++){var N=s[A];S[N]=u[A],b[N]=_}for(var E=0;E<m;E++)w===0&&(y[E]=[]),b[E]===_?y[E][w]=c?v(a,S[E]):v(S[E],a):y[E][w]=c?v(a,0):v(0,a)}return new t({data:y,size:[m,h],datatype:d})}});var f$="matAlgo14xDs",p$=["typed"],Qr=M(f$,p$,r=>{var{typed:e}=r;return function(i,a,o,c){var u=i._data,s=i._size,l=i._datatype,f,p=o;typeof l=="string"&&(f=l,a=e.convert(a,f),p=e.find(o,[f,f]));var m=s.length>0?t(p,0,s,s[0],u,a,c):[];return i.createDenseMatrix({data:m,size:pt(s),datatype:f})};function t(n,i,a,o,c,u,s){var l=[];if(i===a.length-1)for(var f=0;f<o;f++)l[f]=s?n(u,c[f]):n(c[f],u);else for(var p=0;p<o;p++)l[p]=t(n,i+1,a,a[i+1],c[p],u,s);return l}});var Ay="ceil",m$=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],d$=M(Ay,["typed","config","round"],r=>{var{typed:e,config:t,round:n}=r;return e(Ay,{number:function(a){return Rr(a,n(a),t.epsilon)?n(a):Math.ceil(a)},"number, number":function(a,o){if(Rr(a,n(a,o),t.epsilon))return n(a,o);var[c,u]="".concat(a,"e").split("e"),s=Math.ceil(Number("".concat(c,"e").concat(Number(u)+o)));return[c,u]="".concat(s,"e").split("e"),Number("".concat(c,"e").concat(Number(u)-o))}})}),Ey=M(Ay,m$,r=>{var{typed:e,config:t,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:c}=r,u=mr({typed:e,equalScalar:a}),s=rr({typed:e,DenseMatrix:c}),l=Qr({typed:e}),f=d$({typed:e,config:t,round:n});return e("ceil",{number:f.signatures.number,"number,number":f.signatures["number,number"],Complex:function(m){return m.ceil()},"Complex, number":function(m,h){return m.ceil(h)},"Complex, BigNumber":function(m,h){return m.ceil(h.toNumber())},BigNumber:function(m){return nn(m,n(m),t.epsilon)?n(m):m.ceil()},"BigNumber, BigNumber":function(m,h){return nn(m,n(m,h),t.epsilon)?n(m,h):m.toDecimalPlaces(h.toNumber(),cs.ROUND_CEIL)},Fraction:function(m){return m.ceil()},"Fraction, number":function(m,h){return m.ceil(h)},"Fraction, BigNumber":function(m,h){return m.ceil(h.toNumber())},"Array | Matrix":e.referToSelf(p=>m=>ot(m,p,!0)),"Array, number | BigNumber":e.referToSelf(p=>(m,h)=>ot(m,d=>p(d,h),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(p=>(m,h)=>u(m,h,p,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(p=>(m,h)=>l(m,h,p,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(p=>(m,h)=>l(i(h),m,p,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(p=>(m,h)=>a(m,0)?o(h.size(),h.storage()):h.storage()==="dense"?l(h,m,p,!0):s(h,m,p,!0))})});var pT="cube",h$=["typed"],Ty=M(pT,h$,r=>{var{typed:e}=r;return e(pT,{number:lv,Complex:function(n){return n.mul(n).mul(n)},BigNumber:function(n){return n.times(n).times(n)},Fraction:function(n){return n.pow(3)},Unit:function(n){return n.pow(3)}})});var mT="exp",g$=["typed"],My=M(mT,g$,r=>{var{typed:e}=r;return e(mT,{number:cv,Complex:function(n){return n.exp()},BigNumber:function(n){return n.exp()}})});var dT="expm1",v$=["typed","Complex"],Cy=M(dT,v$,r=>{var{typed:e,Complex:t}=r;return e(dT,{number:fv,Complex:function(i){var a=Math.exp(i.re);return new t(a*Math.cos(i.im)-1,a*Math.sin(i.im))},BigNumber:function(i){return i.exp().minus(1)}})});var Fy="fix",y$=["typed","Complex","matrix","ceil","floor","equalScalar","zeros","DenseMatrix"],b$=M(Fy,["typed","ceil","floor"],r=>{var{typed:e,ceil:t,floor:n}=r;return e(Fy,{number:function(a){return a>0?n(a):t(a)},"number, number":function(a,o){return a>0?n(a,o):t(a,o)}})}),Iy=M(Fy,y$,r=>{var{typed:e,Complex:t,matrix:n,ceil:i,floor:a,equalScalar:o,zeros:c,DenseMatrix:u}=r,s=rr({typed:e,DenseMatrix:u}),l=Qr({typed:e}),f=b$({typed:e,ceil:i,floor:a});return e("fix",{number:f.signatures.number,"number, number | BigNumber":f.signatures["number,number"],Complex:function(m){return new t(m.re>0?Math.floor(m.re):Math.ceil(m.re),m.im>0?Math.floor(m.im):Math.ceil(m.im))},"Complex, number":function(m,h){return new t(m.re>0?a(m.re,h):i(m.re,h),m.im>0?a(m.im,h):i(m.im,h))},"Complex, BigNumber":function(m,h){var d=h.toNumber();return new t(m.re>0?a(m.re,d):i(m.re,d),m.im>0?a(m.im,d):i(m.im,d))},BigNumber:function(m){return m.isNegative()?i(m):a(m)},"BigNumber, number | BigNumber":function(m,h){return m.isNegative()?i(m,h):a(m,h)},Fraction:function(m){return m.s<0?m.ceil():m.floor()},"Fraction, number | BigNumber":function(m,h){return m.s<0?i(m,h):a(m,h)},"Array | Matrix":e.referToSelf(p=>m=>ot(m,p,!0)),"Array | Matrix, number | BigNumber":e.referToSelf(p=>(m,h)=>ot(m,d=>p(d,h),!0)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(p=>(m,h)=>l(n(h),m,p,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(p=>(m,h)=>o(m,0)?c(h.size(),h.storage()):h.storage()==="dense"?l(h,m,p,!0):s(h,m,p,!0))})});var By="floor",x$=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],w$=M(By,["typed","config","round"],r=>{var{typed:e,config:t,round:n}=r;return e(By,{number:function(a){return Rr(a,n(a),t.epsilon)?n(a):Math.floor(a)},"number, number":function(a,o){if(Rr(a,n(a,o),t.epsilon))return n(a,o);var[c,u]="".concat(a,"e").split("e"),s=Math.floor(Number("".concat(c,"e").concat(Number(u)+o)));return[c,u]="".concat(s,"e").split("e"),Number("".concat(c,"e").concat(Number(u)-o))}})}),Fl=M(By,x$,r=>{var{typed:e,config:t,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:c}=r,u=mr({typed:e,equalScalar:a}),s=rr({typed:e,DenseMatrix:c}),l=Qr({typed:e}),f=w$({typed:e,config:t,round:n});return e("floor",{number:f.signatures.number,"number,number":f.signatures["number,number"],Complex:function(m){return m.floor()},"Complex, number":function(m,h){return m.floor(h)},"Complex, BigNumber":function(m,h){return m.floor(h.toNumber())},BigNumber:function(m){return nn(m,n(m),t.epsilon)?n(m):m.floor()},"BigNumber, BigNumber":function(m,h){return nn(m,n(m,h),t.epsilon)?n(m,h):m.toDecimalPlaces(h.toNumber(),cs.ROUND_FLOOR)},Fraction:function(m){return m.floor()},"Fraction, number":function(m,h){return m.floor(h)},"Fraction, BigNumber":function(m,h){return m.floor(h.toNumber())},"Array | Matrix":e.referToSelf(p=>m=>ot(m,p,!0)),"Array, number | BigNumber":e.referToSelf(p=>(m,h)=>ot(m,d=>p(d,h),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(p=>(m,h)=>u(m,h,p,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(p=>(m,h)=>l(m,h,p,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(p=>(m,h)=>l(i(h),m,p,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(p=>(m,h)=>a(m,0)?o(h.size(),h.storage()):h.storage()==="dense"?l(h,m,p,!0):s(h,m,p,!0))})});var _$="matAlgo02xDS0",S$=["typed","equalScalar"],Kr=M(_$,S$,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o,c){var u=i._data,s=i._size,l=i._datatype||i.getDataType(),f=a._values,p=a._index,m=a._ptr,h=a._size,d=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(s.length!==h.length)throw new wt(s.length,h.length);if(s[0]!==h[0]||s[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+h+")");if(!f)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var v=s[0],y=s[1],S,b=t,w=0,_=o;typeof l=="string"&&l===d&&l!=="mixed"&&(S=l,b=e.find(t,[S,S]),w=e.convert(0,S),_=e.find(o,[S,S]));for(var x=[],T=[],A=[],N=0;N<y;N++){A[N]=T.length;for(var E=m[N],C=m[N+1],O=E;O<C;O++){var U=p[O],q=c?_(f[O],u[U][N]):_(u[U][N],f[O]);b(q,w)||(T.push(U),x.push(q))}}return A[y]=T.length,a.createSparseMatrix({values:x,index:T,ptr:A,size:[v,y],datatype:l===i._datatype&&d===a._datatype?S:void 0})}});var D$="matAlgo03xDSf",N$=["typed"],_r=M(D$,N$,r=>{var{typed:e}=r;return function(n,i,a,o){var c=n._data,u=n._size,s=n._datatype||n.getDataType(),l=i._values,f=i._index,p=i._ptr,m=i._size,h=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(u.length!==m.length)throw new wt(u.length,m.length);if(u[0]!==m[0]||u[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+m+")");if(!l)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d=u[0],v=u[1],y,S=0,b=a;typeof s=="string"&&s===h&&s!=="mixed"&&(y=s,S=e.convert(0,y),b=e.find(a,[y,y]));for(var w=[],_=0;_<d;_++)w[_]=[];for(var x=[],T=[],A=0;A<v;A++){for(var N=A+1,E=p[A],C=p[A+1],O=E;O<C;O++){var U=f[O];x[U]=o?b(l[O],c[U][A]):b(c[U][A],l[O]),T[U]=N}for(var q=0;q<d;q++)T[q]===N?w[q][A]=x[q]:w[q][A]=o?b(S,c[q][A]):b(c[q][A],S)}return n.createDenseMatrix({data:w,size:[d,v],datatype:s===n._datatype&&h===i._datatype?y:void 0})}});var A$="matAlgo05xSfSf",E$=["typed","equalScalar"],Do=M(A$,E$,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o){var c=i._values,u=i._index,s=i._ptr,l=i._size,f=i._datatype||i._data===void 0?i._datatype:i.getDataType(),p=a._values,m=a._index,h=a._ptr,d=a._size,v=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(l.length!==d.length)throw new wt(l.length,d.length);if(l[0]!==d[0]||l[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+d+")");var y=l[0],S=l[1],b,w=t,_=0,x=o;typeof f=="string"&&f===v&&f!=="mixed"&&(b=f,w=e.find(t,[b,b]),_=e.convert(0,b),x=e.find(o,[b,b]));var T=c&&p?[]:void 0,A=[],N=[],E=T?[]:void 0,C=T?[]:void 0,O=[],U=[],q,L,P,k;for(L=0;L<S;L++){N[L]=A.length;var H=L+1;for(P=s[L],k=s[L+1];P<k;P++)q=u[P],A.push(q),O[q]=H,E&&(E[q]=c[P]);for(P=h[L],k=h[L+1];P<k;P++)q=m[P],O[q]!==H&&A.push(q),U[q]=H,C&&(C[q]=p[P]);if(T)for(P=N[L];P<A.length;){q=A[P];var B=O[q],W=U[q];if(B===H||W===H){var ie=B===H?E[q]:_,Q=W===H?C[q]:_,V=x(ie,Q);w(V,_)?A.splice(P,1):(T.push(V),P++)}}}return N[S]=A.length,i.createSparseMatrix({values:T,index:A,ptr:N,size:[y,S],datatype:f===i._datatype&&v===a._datatype?b:void 0})}});var T$="matAlgo13xDD",M$=["typed"],hT=M(T$,M$,r=>{var{typed:e}=r;return function(i,a,o){var c=i._data,u=i._size,s=i._datatype,l=a._data,f=a._size,p=a._datatype,m=[];if(u.length!==f.length)throw new wt(u.length,f.length);for(var h=0;h<u.length;h++){if(u[h]!==f[h])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");m[h]=u[h]}var d,v=o;typeof s=="string"&&s===p&&(d=s,v=e.find(o,[d,d]));var y=m.length>0?t(v,0,m,m[0],c,l):[];return i.createDenseMatrix({data:y,size:m,datatype:d})};function t(n,i,a,o,c,u){var s=[];if(i===a.length-1)for(var l=0;l<o;l++)s[l]=n(c[l],u[l]);else for(var f=0;f<o;f++)s[f]=t(n,i+1,a,a[i+1],c[f],u[f]);return s}});var C$="broadcast",F$=["concat"],gT=M(C$,F$,r=>{var{concat:e}=r;return function(i,a){var o=Math.max(i._size.length,a._size.length);if(i._size.length===a._size.length&&i._size.every((h,d)=>h===a._size[d]))return[i,a];for(var c=t(i._size,o,0),u=t(a._size,o,0),s=[],l=0;l<o;l++)s[l]=Math.max(c[l],u[l]);Nl(c,s),Nl(u,s);var f=i.clone(),p=a.clone();f._size.length<o?f.reshape(t(f._size,o,1)):p._size.length<o&&p.reshape(t(p._size,o,1));for(var m=0;m<o;m++)f._size[m]<s[m]&&(f=n(f,s[m],m)),p._size[m]<s[m]&&(p=n(p,s[m],m));return[f,p]};function t(i,a,o){return[...Array(a-i.length).fill(o),...i]}function n(i,a,o){return e(...Array(a).fill(i),o)}});var I$="matrixAlgorithmSuite",B$=["typed","matrix","concat"],Nt=M(I$,B$,r=>{var{typed:e,matrix:t,concat:n}=r,i=hT({typed:e}),a=Qr({typed:e}),o=gT({concat:n});return function(u){var s=u.elop,l=u.SD||u.DS,f;s?(f={"DenseMatrix, DenseMatrix":(d,v)=>i(...o(d,v),s),"Array, Array":(d,v)=>i(...o(t(d),t(v)),s).valueOf(),"Array, DenseMatrix":(d,v)=>i(...o(t(d),v),s),"DenseMatrix, Array":(d,v)=>i(...o(d,t(v)),s)},u.SS&&(f["SparseMatrix, SparseMatrix"]=(d,v)=>u.SS(...o(d,v),s,!1)),u.DS&&(f["DenseMatrix, SparseMatrix"]=(d,v)=>u.DS(...o(d,v),s,!1),f["Array, SparseMatrix"]=(d,v)=>u.DS(...o(t(d),v),s,!1)),l&&(f["SparseMatrix, DenseMatrix"]=(d,v)=>l(...o(v,d),s,!0),f["SparseMatrix, Array"]=(d,v)=>l(...o(t(v),d),s,!0))):(f={"DenseMatrix, DenseMatrix":e.referToSelf(d=>(v,y)=>i(...o(v,y),d)),"Array, Array":e.referToSelf(d=>(v,y)=>i(...o(t(v),t(y)),d).valueOf()),"Array, DenseMatrix":e.referToSelf(d=>(v,y)=>i(...o(t(v),y),d)),"DenseMatrix, Array":e.referToSelf(d=>(v,y)=>i(...o(v,t(y)),d))},u.SS&&(f["SparseMatrix, SparseMatrix"]=e.referToSelf(d=>(v,y)=>u.SS(...o(v,y),d,!1))),u.DS&&(f["DenseMatrix, SparseMatrix"]=e.referToSelf(d=>(v,y)=>u.DS(...o(v,y),d,!1)),f["Array, SparseMatrix"]=e.referToSelf(d=>(v,y)=>u.DS(...o(t(v),y),d,!1))),l&&(f["SparseMatrix, DenseMatrix"]=e.referToSelf(d=>(v,y)=>l(...o(y,v),d,!0)),f["SparseMatrix, Array"]=e.referToSelf(d=>(v,y)=>l(...o(t(y),v),d,!0))));var p=u.scalar||"any",m=u.Ds||u.Ss;m&&(s?(f["DenseMatrix,"+p]=(d,v)=>a(d,v,s,!1),f[p+", DenseMatrix"]=(d,v)=>a(v,d,s,!0),f["Array,"+p]=(d,v)=>a(t(d),v,s,!1).valueOf(),f[p+", Array"]=(d,v)=>a(t(v),d,s,!0).valueOf()):(f["DenseMatrix,"+p]=e.referToSelf(d=>(v,y)=>a(v,y,d,!1)),f[p+", DenseMatrix"]=e.referToSelf(d=>(v,y)=>a(y,v,d,!0)),f["Array,"+p]=e.referToSelf(d=>(v,y)=>a(t(v),y,d,!1).valueOf()),f[p+", Array"]=e.referToSelf(d=>(v,y)=>a(t(y),v,d,!0).valueOf())));var h=u.sS!==void 0?u.sS:u.Ss;return s?(u.Ss&&(f["SparseMatrix,"+p]=(d,v)=>u.Ss(d,v,s,!1)),h&&(f[p+", SparseMatrix"]=(d,v)=>h(v,d,s,!0))):(u.Ss&&(f["SparseMatrix,"+p]=e.referToSelf(d=>(v,y)=>u.Ss(v,y,d,!1))),h&&(f[p+", SparseMatrix"]=e.referToSelf(d=>(v,y)=>h(y,v,d,!0)))),s&&s.signatures&&tp(f,s.signatures),f}});var vT="mod",P$=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix","concat"],Il=M(vT,P$,r=>{var{typed:e,config:t,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:c,concat:u}=r,s=Fl({typed:e,config:t,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:c}),l=Kr({typed:e,equalScalar:a}),f=_r({typed:e}),p=Do({typed:e,equalScalar:a}),m=mr({typed:e,equalScalar:a}),h=rr({typed:e,DenseMatrix:c}),d=Nt({typed:e,matrix:i,concat:u});return e(vT,{"number, number":v,"BigNumber, BigNumber":function(S,b){return b.isZero()?S:S.sub(b.mul(s(S.div(b))))},"Fraction, Fraction":function(S,b){return b.equals(0)?S:S.sub(b.mul(s(S.div(b))))}},d({SS:p,DS:f,SD:l,Ss:m,sS:h}));function v(y,S){return S===0?y:y-S*s(y/S)}});var O$="matAlgo01xDSid",k$=["typed"],Ln=M(O$,k$,r=>{var{typed:e}=r;return function(n,i,a,o){var c=n._data,u=n._size,s=n._datatype||n.getDataType(),l=i._values,f=i._index,p=i._ptr,m=i._size,h=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(u.length!==m.length)throw new wt(u.length,m.length);if(u[0]!==m[0]||u[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+m+")");if(!l)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d=u[0],v=u[1],y=typeof s=="string"&&s!=="mixed"&&s===h?s:void 0,S=y?e.find(a,[y,y]):a,b,w,_=[];for(b=0;b<d;b++)_[b]=[];var x=[],T=[];for(w=0;w<v;w++){for(var A=w+1,N=p[w],E=p[w+1],C=N;C<E;C++)b=f[C],x[b]=o?S(l[C],c[b][w]):S(c[b][w],l[C]),T[b]=A;for(b=0;b<d;b++)T[b]===A?_[b][w]=x[b]:_[b][w]=c[b][w]}return n.createDenseMatrix({data:_,size:[d,v],datatype:s===n._datatype&&h===i._datatype?y:void 0})}});var R$="matAlgo04xSidSid",L$=["typed","equalScalar"],bu=M(R$,L$,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o){var c=i._values,u=i._index,s=i._ptr,l=i._size,f=i._datatype||i._data===void 0?i._datatype:i.getDataType(),p=a._values,m=a._index,h=a._ptr,d=a._size,v=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(l.length!==d.length)throw new wt(l.length,d.length);if(l[0]!==d[0]||l[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+d+")");var y=l[0],S=l[1],b,w=t,_=0,x=o;typeof f=="string"&&f===v&&f!=="mixed"&&(b=f,w=e.find(t,[b,b]),_=e.convert(0,b),x=e.find(o,[b,b]));var T=c&&p?[]:void 0,A=[],N=[],E=c&&p?[]:void 0,C=c&&p?[]:void 0,O=[],U=[],q,L,P,k,H;for(L=0;L<S;L++){N[L]=A.length;var B=L+1;for(k=s[L],H=s[L+1],P=k;P<H;P++)q=u[P],A.push(q),O[q]=B,E&&(E[q]=c[P]);for(k=h[L],H=h[L+1],P=k;P<H;P++)if(q=m[P],O[q]===B){if(E){var W=x(E[q],p[P]);w(W,_)?O[q]=null:E[q]=W}}else A.push(q),U[q]=B,C&&(C[q]=p[P]);if(E&&C)for(P=N[L];P<A.length;)q=A[P],O[q]===B?(T[P]=E[q],P++):U[q]===B?(T[P]=C[q],P++):A.splice(P,1)}return N[S]=A.length,i.createSparseMatrix({values:T,index:A,ptr:N,size:[y,S],datatype:f===i._datatype&&v===a._datatype?b:void 0})}});var U$="matAlgo10xSids",V$=["typed","DenseMatrix"],li=M(U$,V$,r=>{var{typed:e,DenseMatrix:t}=r;return function(i,a,o,c){var u=i._values,s=i._index,l=i._ptr,f=i._size,p=i._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=f[0],h=f[1],d,v=o;typeof p=="string"&&(d=p,a=e.convert(a,d),v=e.find(o,[d,d]));for(var y=[],S=[],b=[],w=0;w<h;w++){for(var _=w+1,x=l[w],T=l[w+1],A=x;A<T;A++){var N=s[A];S[N]=u[A],b[N]=_}for(var E=0;E<m;E++)w===0&&(y[E]=[]),b[E]===_?y[E][w]=c?v(a,S[E]):v(S[E],a):y[E][w]=a}return new t({data:y,size:[m,h],datatype:d})}});function Ha(r,e,t,n){if(!(this instanceof Ha))throw new SyntaxError("Constructor must be called with the new operator");this.fn=r,this.count=e,this.min=t,this.max=n,this.message="Wrong number of arguments in function "+r+" ("+e+" provided, "+t+(n!=null?"-"+n:"")+" expected)",this.stack=new Error().stack}Ha.prototype=new Error;Ha.prototype.constructor=Error;Ha.prototype.name="ArgumentsError";Ha.prototype.isArgumentsError=!0;var yT="gcd",q$=["typed","config","round","matrix","equalScalar","zeros","BigNumber","DenseMatrix","concat"],Py="number | BigNumber | Fraction | Matrix | Array",z$="".concat(Py,", ").concat(Py,", ...").concat(Py);function bT(r){return!r.some(e=>Array.isArray(e))}var Oy=M(yT,q$,r=>{var{typed:e,matrix:t,config:n,round:i,equalScalar:a,zeros:o,BigNumber:c,DenseMatrix:u,concat:s}=r,l=Il({typed:e,config:n,round:i,matrix:t,equalScalar:a,zeros:o,DenseMatrix:u,concat:s}),f=Ln({typed:e}),p=bu({typed:e,equalScalar:a}),m=li({typed:e,DenseMatrix:u}),h=Nt({typed:e,matrix:t,concat:s});return e(yT,{"number, number":d,"BigNumber, BigNumber":v,"Fraction, Fraction":(y,S)=>y.gcd(S)},h({SS:p,DS:f,Ss:m}),{[z$]:e.referToSelf(y=>(S,b,w)=>{for(var _=y(S,b),x=0;x<w.length;x++)_=y(_,w[x]);return _}),Array:e.referToSelf(y=>S=>{if(S.length===1&&Array.isArray(S[0])&&bT(S[0]))return y(...S[0]);if(bT(S))return y(...S);throw new Ha("gcd() supports only 1d matrices!")}),Matrix:e.referToSelf(y=>S=>y(S.toArray()))});function d(y,S){if(!Xe(y)||!Xe(S))throw new Error("Parameters in function gcd must be integer numbers");for(var b;S!==0;)b=l(y,S),y=S,S=b;return y<0?-y:y}function v(y,S){if(!y.isInt()||!S.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var b=new c(0);!S.isZero();){var w=l(y,S);y=S,S=w}return y.lt(b)?y.neg():y}});var $$="matAlgo06xS0S0",H$=["typed","equalScalar"],No=M($$,H$,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o){var c=i._values,u=i._size,s=i._datatype||i._data===void 0?i._datatype:i.getDataType(),l=a._values,f=a._size,p=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(u.length!==f.length)throw new wt(u.length,f.length);if(u[0]!==f[0]||u[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");var m=u[0],h=u[1],d,v=t,y=0,S=o;typeof s=="string"&&s===p&&s!=="mixed"&&(d=s,v=e.find(t,[d,d]),y=e.convert(0,d),S=e.find(o,[d,d]));for(var b=c&&l?[]:void 0,w=[],_=[],x=b?[]:void 0,T=[],A=[],N=0;N<h;N++){_[N]=w.length;var E=N+1;if(tv(i,N,T,x,A,E,w,S),tv(a,N,T,x,A,E,w,S),x)for(var C=_[N];C<w.length;){var O=w[C];if(A[O]===E){var U=x[O];v(U,y)?w.splice(C,1):(b.push(U),C++)}else w.splice(C,1)}else for(var q=_[N];q<w.length;){var L=w[q];A[L]!==E?w.splice(q,1):q++}}return _[h]=w.length,i.createSparseMatrix({values:b,index:w,ptr:_,size:[m,h],datatype:s===i._datatype&&p===a._datatype?d:void 0})}});var xT="lcm",G$=["typed","matrix","equalScalar","concat"],ky=M(xT,G$,r=>{var{typed:e,matrix:t,equalScalar:n,concat:i}=r,a=Kr({typed:e,equalScalar:n}),o=No({typed:e,equalScalar:n}),c=mr({typed:e,equalScalar:n}),u=Nt({typed:e,matrix:t,concat:i}),s="number | BigNumber | Fraction | Matrix | Array",l={};return l["".concat(s,", ").concat(s,", ...").concat(s)]=e.referToSelf(p=>(m,h,d)=>{for(var v=p(m,h),y=0;y<d.length;y++)v=p(v,d[y]);return v}),e(xT,{"number, number":pv,"BigNumber, BigNumber":f,"Fraction, Fraction":(p,m)=>p.lcm(m)},u({SS:o,DS:a,Ss:c}),l);function f(p,m){if(!p.isInt()||!m.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(p.isZero())return p;if(m.isZero())return m;for(var h=p.times(m);!m.isZero();){var d=m;m=p.mod(d),p=d}return h.div(p).abs()}});var wT="log10",W$=["typed","config","Complex"],Ry=M(wT,W$,r=>{var{typed:e,config:t,Complex:n}=r;return e(wT,{number:function(a){return a>=0||t.predictable?mv(a):new n(a,0).log().div(Math.LN10)},Complex:function(a){return new n(a).log().div(Math.LN10)},BigNumber:function(a){return!a.isNegative()||t.predictable?a.log():new n(a.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":e.referToSelf(i=>a=>ot(a,i))})});var _T="log2",Y$=["typed","config","Complex"],Ly=M(_T,Y$,r=>{var{typed:e,config:t,Complex:n}=r;return e(_T,{number:function(o){return o>=0||t.predictable?dv(o):i(new n(o,0))},Complex:i,BigNumber:function(o){return!o.isNegative()||t.predictable?o.log(2):i(new n(o.toNumber(),0))},"Array | Matrix":e.referToSelf(a=>o=>ot(o,a))});function i(a){var o=Math.sqrt(a.re*a.re+a.im*a.im);return new n(Math.log2?Math.log2(o):Math.log(o)/Math.LN2,Math.atan2(a.im,a.re)/Math.LN2)}});var j$="multiplyScalar",Z$=["typed"],Uy=M(j$,Z$,r=>{var{typed:e}=r;return e("multiplyScalar",{"number, number":ov,"Complex, Complex":function(n,i){return n.mul(i)},"BigNumber, BigNumber":function(n,i){return n.times(i)},"Fraction, Fraction":function(n,i){return n.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(t,n)=>n.multiply(t),"Unit, number | Fraction | BigNumber | Complex | Unit":(t,n)=>t.multiply(n)})});var ST="multiply",J$=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],Vy=M(ST,J$,r=>{var{typed:e,matrix:t,addScalar:n,multiplyScalar:i,equalScalar:a,dot:o}=r,c=mr({typed:e,equalScalar:a}),u=Qr({typed:e});function s(_,x){switch(_.length){case 1:switch(x.length){case 1:if(_[0]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(_[0]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+_[0]+") must match Matrix rows ("+x[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+x.length+" dimensions)")}break;case 2:switch(x.length){case 1:if(_[1]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+_[1]+") must match Vector length ("+x[0]+")");break;case 2:if(_[1]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+_[1]+") must match Matrix B rows ("+x[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+x.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+_.length+" dimensions)")}}function l(_,x,T){if(T===0)throw new Error("Cannot multiply two empty vectors");return o(_,x)}function f(_,x){if(x.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return p(_,x)}function p(_,x){var T=_._data,A=_._size,N=_._datatype||_.getDataType(),E=x._data,C=x._size,O=x._datatype||x.getDataType(),U=A[0],q=C[1],L,P=n,k=i;N&&O&&N===O&&typeof N=="string"&&N!=="mixed"&&(L=N,P=e.find(n,[L,L]),k=e.find(i,[L,L]));for(var H=[],B=0;B<q;B++){for(var W=k(T[0],E[0][B]),ie=1;ie<U;ie++)W=P(W,k(T[ie],E[ie][B]));H[B]=W}return _.createDenseMatrix({data:H,size:[q],datatype:N===_._datatype&&O===x._datatype?L:void 0})}var m=e("_multiplyMatrixVector",{"DenseMatrix, any":d,"SparseMatrix, any":S}),h=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":v,"DenseMatrix, SparseMatrix":y,"SparseMatrix, DenseMatrix":b,"SparseMatrix, SparseMatrix":w});function d(_,x){var T=_._data,A=_._size,N=_._datatype||_.getDataType(),E=x._data,C=x._datatype||x.getDataType(),O=A[0],U=A[1],q,L=n,P=i;N&&C&&N===C&&typeof N=="string"&&N!=="mixed"&&(q=N,L=e.find(n,[q,q]),P=e.find(i,[q,q]));for(var k=[],H=0;H<O;H++){for(var B=T[H],W=P(B[0],E[0]),ie=1;ie<U;ie++)W=L(W,P(B[ie],E[ie]));k[H]=W}return _.createDenseMatrix({data:k,size:[O],datatype:N===_._datatype&&C===x._datatype?q:void 0})}function v(_,x){var T=_._data,A=_._size,N=_._datatype||_.getDataType(),E=x._data,C=x._size,O=x._datatype||x.getDataType(),U=A[0],q=A[1],L=C[1],P,k=n,H=i;N&&O&&N===O&&typeof N=="string"&&N!=="mixed"&&N!=="mixed"&&(P=N,k=e.find(n,[P,P]),H=e.find(i,[P,P]));for(var B=[],W=0;W<U;W++){var ie=T[W];B[W]=[];for(var Q=0;Q<L;Q++){for(var V=H(ie[0],E[0][Q]),le=1;le<q;le++)V=k(V,H(ie[le],E[le][Q]));B[W][Q]=V}}return _.createDenseMatrix({data:B,size:[U,L],datatype:N===_._datatype&&O===x._datatype?P:void 0})}function y(_,x){var T=_._data,A=_._size,N=_._datatype||_.getDataType(),E=x._values,C=x._index,O=x._ptr,U=x._size,q=x._datatype||x._data===void 0?x._datatype:x.getDataType();if(!E)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var L=A[0],P=U[1],k,H=n,B=i,W=a,ie=0;N&&q&&N===q&&typeof N=="string"&&N!=="mixed"&&(k=N,H=e.find(n,[k,k]),B=e.find(i,[k,k]),W=e.find(a,[k,k]),ie=e.convert(0,k));for(var Q=[],V=[],le=[],Se=x.createSparseMatrix({values:Q,index:V,ptr:le,size:[L,P],datatype:N===_._datatype&&q===x._datatype?k:void 0}),fe=0;fe<P;fe++){le[fe]=V.length;var he=O[fe],_e=O[fe+1];if(_e>he)for(var ge=0,me=0;me<L;me++){for(var we=me+1,Te=void 0,ze=he;ze<_e;ze++){var tt=C[ze];ge!==we?(Te=B(T[me][tt],E[ze]),ge=we):Te=H(Te,B(T[me][tt],E[ze]))}ge===we&&!W(Te,ie)&&(V.push(me),Q.push(Te))}}return le[P]=V.length,Se}function S(_,x){var T=_._values,A=_._index,N=_._ptr,E=_._datatype||_._data===void 0?_._datatype:_.getDataType();if(!T)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var C=x._data,O=x._datatype||x.getDataType(),U=_._size[0],q=x._size[0],L=[],P=[],k=[],H,B=n,W=i,ie=a,Q=0;E&&O&&E===O&&typeof E=="string"&&E!=="mixed"&&(H=E,B=e.find(n,[H,H]),W=e.find(i,[H,H]),ie=e.find(a,[H,H]),Q=e.convert(0,H));var V=[],le=[];k[0]=0;for(var Se=0;Se<q;Se++){var fe=C[Se];if(!ie(fe,Q))for(var he=N[Se],_e=N[Se+1],ge=he;ge<_e;ge++){var me=A[ge];le[me]?V[me]=B(V[me],W(fe,T[ge])):(le[me]=!0,P.push(me),V[me]=W(fe,T[ge]))}}for(var we=P.length,Te=0;Te<we;Te++){var ze=P[Te];L[Te]=V[ze]}return k[1]=P.length,_.createSparseMatrix({values:L,index:P,ptr:k,size:[U,1],datatype:E===_._datatype&&O===x._datatype?H:void 0})}function b(_,x){var T=_._values,A=_._index,N=_._ptr,E=_._datatype||_._data===void 0?_._datatype:_.getDataType();if(!T)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var C=x._data,O=x._datatype||x.getDataType(),U=_._size[0],q=x._size[0],L=x._size[1],P,k=n,H=i,B=a,W=0;E&&O&&E===O&&typeof E=="string"&&E!=="mixed"&&(P=E,k=e.find(n,[P,P]),H=e.find(i,[P,P]),B=e.find(a,[P,P]),W=e.convert(0,P));for(var ie=[],Q=[],V=[],le=_.createSparseMatrix({values:ie,index:Q,ptr:V,size:[U,L],datatype:E===_._datatype&&O===x._datatype?P:void 0}),Se=[],fe=[],he=0;he<L;he++){V[he]=Q.length;for(var _e=he+1,ge=0;ge<q;ge++){var me=C[ge][he];if(!B(me,W))for(var we=N[ge],Te=N[ge+1],ze=we;ze<Te;ze++){var tt=A[ze];fe[tt]!==_e?(fe[tt]=_e,Q.push(tt),Se[tt]=H(me,T[ze])):Se[tt]=k(Se[tt],H(me,T[ze]))}}for(var Y=V[he],K=Q.length,ve=Y;ve<K;ve++){var J=Q[ve];ie[ve]=Se[J]}}return V[L]=Q.length,le}function w(_,x){var T=_._values,A=_._index,N=_._ptr,E=_._datatype||_._data===void 0?_._datatype:_.getDataType(),C=x._values,O=x._index,U=x._ptr,q=x._datatype||x._data===void 0?x._datatype:x.getDataType(),L=_._size[0],P=x._size[1],k=T&&C,H,B=n,W=i;E&&q&&E===q&&typeof E=="string"&&E!=="mixed"&&(H=E,B=e.find(n,[H,H]),W=e.find(i,[H,H]));for(var ie=k?[]:void 0,Q=[],V=[],le=_.createSparseMatrix({values:ie,index:Q,ptr:V,size:[L,P],datatype:E===_._datatype&&q===x._datatype?H:void 0}),Se=k?[]:void 0,fe=[],he,_e,ge,me,we,Te,ze,tt,Y=0;Y<P;Y++){V[Y]=Q.length;var K=Y+1;for(we=U[Y],Te=U[Y+1],me=we;me<Te;me++)if(tt=O[me],k)for(_e=N[tt],ge=N[tt+1],he=_e;he<ge;he++)ze=A[he],fe[ze]!==K?(fe[ze]=K,Q.push(ze),Se[ze]=W(C[me],T[he])):Se[ze]=B(Se[ze],W(C[me],T[he]));else for(_e=N[tt],ge=N[tt+1],he=_e;he<ge;he++)ze=A[he],fe[ze]!==K&&(fe[ze]=K,Q.push(ze));if(k)for(var ve=V[Y],J=Q.length,te=ve;te<J;te++){var se=Q[te];ie[te]=Se[se]}}return V[P]=Q.length,le}return e(ST,i,{"Array, Array":e.referTo("Matrix, Matrix",_=>(x,T)=>{s(ht(x),ht(T));var A=_(t(x),t(T));return rt(A)?A.valueOf():A}),"Matrix, Matrix":function(x,T){var A=x.size(),N=T.size();return s(A,N),A.length===1?N.length===1?l(x,T,A[0]):f(x,T):N.length===1?m(x,T):h(x,T)},"Matrix, Array":e.referTo("Matrix,Matrix",_=>(x,T)=>_(x,t(T))),"Array, Matrix":e.referToSelf(_=>(x,T)=>_(t(x,T.storage()),T)),"SparseMatrix, any":function(x,T){return c(x,T,i,!1)},"DenseMatrix, any":function(x,T){return u(x,T,i,!1)},"any, SparseMatrix":function(x,T){return c(T,x,i,!0)},"any, DenseMatrix":function(x,T){return u(T,x,i,!0)},"Array, any":function(x,T){return u(t(x),T,i,!1).valueOf()},"any, Array":function(x,T){return u(t(T),x,i,!0).valueOf()},"any, any":i,"any, any, ...any":e.referToSelf(_=>(x,T,A)=>{for(var N=_(x,T),E=0;E<A.length;E++)N=_(N,A[E]);return N})})});var DT="nthRoot",X$=["typed","matrix","equalScalar","BigNumber","concat"],qy=M(DT,X$,r=>{var{typed:e,matrix:t,equalScalar:n,BigNumber:i,concat:a}=r,o=Ln({typed:e}),c=Kr({typed:e,equalScalar:n}),u=No({typed:e,equalScalar:n}),s=mr({typed:e,equalScalar:n}),l=Nt({typed:e,matrix:t,concat:a});function f(){throw new Error("Complex number not supported in function nthRoot. Use nthRoots instead.")}return e(DT,{number:hv,"number, number":hv,BigNumber:m=>p(m,new i(2)),"BigNumber, BigNumber":p,Complex:f,"Complex, number":f,Array:e.referTo("DenseMatrix,number",m=>h=>m(t(h),2).valueOf()),DenseMatrix:e.referTo("DenseMatrix,number",m=>h=>m(h,2)),SparseMatrix:e.referTo("SparseMatrix,number",m=>h=>m(h,2)),"SparseMatrix, SparseMatrix":e.referToSelf(m=>(h,d)=>{if(d.density()===1)return u(h,d,m);throw new Error("Root must be non-zero")}),"DenseMatrix, SparseMatrix":e.referToSelf(m=>(h,d)=>{if(d.density()===1)return o(h,d,m,!1);throw new Error("Root must be non-zero")}),"Array, SparseMatrix":e.referTo("DenseMatrix,SparseMatrix",m=>(h,d)=>m(t(h),d)),"number | BigNumber, SparseMatrix":e.referToSelf(m=>(h,d)=>{if(d.density()===1)return s(d,h,m,!0);throw new Error("Root must be non-zero")})},l({scalar:"number | BigNumber",SD:c,Ss:s,sS:!1}));function p(m,h){var d=i.precision,v=i.clone({precision:d+2}),y=new i(0),S=new v(1),b=h.isNegative();if(b&&(h=h.neg()),h.isZero())throw new Error("Root must be non-zero");if(m.isNegative()&&!h.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(m.isZero())return b?new v(1/0):0;if(!m.isFinite())return b?y:m;var w=m.abs().pow(S.div(h));return w=m.isNeg()?w.neg():w,new i((b?S.div(w):w).toPrecision(d))}});var NT="sign",Q$=["typed","BigNumber","Fraction","complex"],zy=M(NT,Q$,r=>{var{typed:e,BigNumber:t,complex:n,Fraction:i}=r;return e(NT,{number:wp,Complex:function(o){return o.im===0?n(wp(o.re)):o.sign()},BigNumber:function(o){return new t(o.cmp(0))},Fraction:function(o){return new i(o.s,1)},"Array | Matrix":e.referToSelf(a=>o=>ot(o,a,!0)),Unit:e.referToSelf(a=>o=>{if(!o._isDerived()&&o.units[0].unit.offset!==0)throw new TypeError("sign is ambiguous for units with offset");return e.find(a,o.valueType())(o.value)})})});var K$="sqrt",eH=["config","typed","Complex"],$y=M(K$,eH,r=>{var{config:e,typed:t,Complex:n}=r;return t("sqrt",{number:i,Complex:function(o){return o.sqrt()},BigNumber:function(o){return!o.isNegative()||e.predictable?o.sqrt():i(o.toNumber())},Unit:function(o){return o.pow(.5)}});function i(a){return isNaN(a)?NaN:a>=0||e.predictable?Math.sqrt(a):new n(a,0).sqrt()}});var AT="square",tH=["typed"],Hy=M(AT,tH,r=>{var{typed:e}=r;return e(AT,{number:gv,Complex:function(n){return n.mul(n)},BigNumber:function(n){return n.times(n)},Fraction:function(n){return n.mul(n)},Unit:function(n){return n.pow(2)}})});var ET="subtract",rH=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],Gy=M(ET,rH,r=>{var{typed:e,matrix:t,equalScalar:n,subtractScalar:i,unaryMinus:a,DenseMatrix:o,concat:c}=r,u=Ln({typed:e}),s=_r({typed:e}),l=Do({typed:e,equalScalar:n}),f=li({typed:e,DenseMatrix:o}),p=rr({typed:e,DenseMatrix:o}),m=Nt({typed:e,matrix:t,concat:c});return e(ET,{"any, any":i},m({elop:i,SS:l,DS:u,SD:s,Ss:p,sS:f}))});var TT="xgcd",nH=["typed","config","matrix","BigNumber"],Wy=M(TT,nH,r=>{var{typed:e,config:t,matrix:n,BigNumber:i}=r;return e(TT,{"number, number":function(c,u){var s=vv(c,u);return t.matrix==="Array"?s:n(s)},"BigNumber, BigNumber":a});function a(o,c){var u,s,l,f=new i(0),p=new i(1),m=f,h=p,d=p,v=f;if(!o.isInt()||!c.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!c.isZero();)s=o.div(c).floor(),l=o.mod(c),u=m,m=h.minus(s.times(m)),h=u,u=d,d=v.minus(s.times(d)),v=u,o=c,c=l;var y;return o.lt(f)?y=[o.neg(),h.neg(),v.neg()]:y=[o,o.isZero()?0:h,v],t.matrix==="Array"?y:n(y)}});var MT="invmod",iH=["typed","config","BigNumber","xgcd","equal","smaller","mod","add","isInteger"],Yy=M(MT,iH,r=>{var{typed:e,config:t,BigNumber:n,xgcd:i,equal:a,smaller:o,mod:c,add:u,isInteger:s}=r;return e(MT,{"number, number":l,"BigNumber, BigNumber":l});function l(f,p){if(!s(f)||!s(p))throw new Error("Parameters in function invmod must be integer numbers");if(f=c(f,p),a(p,0))throw new Error("Divisor must be non zero");var m=i(f,p);m=m.valueOf();var[h,d]=m;return a(h,n(1))?(d=c(d,p),o(d,n(0))&&(d=u(d,p)),d):NaN}});var aH="matAlgo09xS0Sf",oH=["typed","equalScalar"],Dp=M(aH,oH,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o){var c=i._values,u=i._index,s=i._ptr,l=i._size,f=i._datatype||i._data===void 0?i._datatype:i.getDataType(),p=a._values,m=a._index,h=a._ptr,d=a._size,v=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(l.length!==d.length)throw new wt(l.length,d.length);if(l[0]!==d[0]||l[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+d+")");var y=l[0],S=l[1],b,w=t,_=0,x=o;typeof f=="string"&&f===v&&f!=="mixed"&&(b=f,w=e.find(t,[b,b]),_=e.convert(0,b),x=e.find(o,[b,b]));var T=c&&p?[]:void 0,A=[],N=[],E=T?[]:void 0,C=[],O,U,q,L,P;for(U=0;U<S;U++){N[U]=A.length;var k=U+1;if(E)for(L=h[U],P=h[U+1],q=L;q<P;q++)O=m[q],C[O]=k,E[O]=p[q];for(L=s[U],P=s[U+1],q=L;q<P;q++)if(O=u[q],E){var H=C[O]===k?E[O]:_,B=x(c[q],H);w(B,_)||(A.push(O),T.push(B))}else A.push(O)}return N[S]=A.length,i.createSparseMatrix({values:T,index:A,ptr:N,size:[y,S],datatype:f===i._datatype&&v===a._datatype?b:void 0})}});var CT="dotMultiply",sH=["typed","matrix","equalScalar","multiplyScalar","concat"],jy=M(CT,sH,r=>{var{typed:e,matrix:t,equalScalar:n,multiplyScalar:i,concat:a}=r,o=Kr({typed:e,equalScalar:n}),c=Dp({typed:e,equalScalar:n}),u=mr({typed:e,equalScalar:n}),s=Nt({typed:e,matrix:t,concat:a});return e(CT,s({elop:i,SS:c,DS:o,Ss:u}))});function FT(r,e){if(r.isFinite()&&!r.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitAnd");var t=r.constructor;if(r.isNaN()||e.isNaN())return new t(NaN);if(r.isZero()||e.eq(-1)||r.eq(e))return r;if(e.isZero()||r.eq(-1))return e;if(!r.isFinite()||!e.isFinite()){if(!r.isFinite()&&!e.isFinite())return r.isNegative()===e.isNegative()?r:new t(0);if(!r.isFinite())return e.isNegative()?r:r.isNegative()?new t(0):e;if(!e.isFinite())return r.isNegative()?e:e.isNegative()?new t(0):r}return Zy(r,e,function(n,i){return n&i})}function xu(r){if(r.isFinite()&&!r.isInteger())throw new Error("Integer expected in function bitNot");var e=r.constructor,t=e.precision;e.config({precision:1e9});var n=r.plus(new e(1));return n.s=-n.s||null,e.config({precision:t}),n}function IT(r,e){if(r.isFinite()&&!r.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitOr");var t=r.constructor;if(r.isNaN()||e.isNaN())return new t(NaN);var n=new t(-1);return r.isZero()||e.eq(n)||r.eq(e)?e:e.isZero()||r.eq(n)?r:!r.isFinite()||!e.isFinite()?!r.isFinite()&&!r.isNegative()&&e.isNegative()||r.isNegative()&&!e.isNegative()&&!e.isFinite()?n:r.isNegative()&&e.isNegative()?r.isFinite()?r:e:r.isFinite()?e:r:Zy(r,e,function(i,a){return i|a})}function Zy(r,e,t){var n=r.constructor,i,a,o=+(r.s<0),c=+(e.s<0);if(o){i=Np(xu(r));for(var u=0;u<i.length;++u)i[u]^=1}else i=Np(r);if(c){a=Np(xu(e));for(var s=0;s<a.length;++s)a[s]^=1}else a=Np(e);var l,f,p;i.length<=a.length?(l=i,f=a,p=o):(l=a,f=i,p=c);var m=l.length,h=f.length,d=t(o,c)^1,v=new n(d^1),y=new n(1),S=new n(2),b=n.precision;for(n.config({precision:1e9});m>0;)t(l[--m],f[--h])===d&&(v=v.plus(y)),y=y.times(S);for(;h>0;)t(p,f[--h])===d&&(v=v.plus(y)),y=y.times(S);return n.config({precision:b}),d===0&&(v.s=-v.s),v}function Np(r){for(var e=r.d,t=e[0]+"",n=1;n<e.length;++n){for(var i=e[n]+"",a=7-i.length;a--;)i="0"+i;t+=i}for(var o=t.length;t.charAt(o)==="0";)o--;var c=r.e,u=t.slice(0,o+1||1),s=u.length;if(c>0)if(++c>s)for(c-=s;c--;)u+="0";else c<s&&(u=u.slice(0,c)+"."+u.slice(c));for(var l=[0],f=0;f<u.length;){for(var p=l.length;p--;)l[p]*=10;l[0]+=parseInt(u.charAt(f++));for(var m=0;m<l.length;++m)l[m]>1&&((l[m+1]===null||l[m+1]===void 0)&&(l[m+1]=0),l[m+1]+=l[m]>>1,l[m]&=1)}return l.reverse()}function BT(r,e){if(r.isFinite()&&!r.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitXor");var t=r.constructor;if(r.isNaN()||e.isNaN())return new t(NaN);if(r.isZero())return e;if(e.isZero())return r;if(r.eq(e))return new t(0);var n=new t(-1);return r.eq(n)?xu(e):e.eq(n)?xu(r):!r.isFinite()||!e.isFinite()?!r.isFinite()&&!e.isFinite()?n:new t(r.isNegative()===e.isNegative()?1/0:-1/0):Zy(r,e,function(i,a){return i^a})}function PT(r,e){if(r.isFinite()&&!r.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function leftShift");var t=r.constructor;return r.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new t(NaN):r.isZero()||e.isZero()?r:!r.isFinite()&&!e.isFinite()?new t(NaN):e.lt(55)?r.times(Math.pow(2,e.toNumber())+""):r.times(new t(2).pow(e))}function OT(r,e){if(r.isFinite()&&!r.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function rightArithShift");var t=r.constructor;return r.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new t(NaN):r.isZero()||e.isZero()?r:e.isFinite()?e.lt(55)?r.div(Math.pow(2,e.toNumber())+"").floor():r.div(new t(2).pow(e)).floor():r.isNegative()?new t(-1):r.isFinite()?new t(0):new t(NaN)}var kT="bitAnd",uH=["typed","matrix","equalScalar","concat"],Bl=M(kT,uH,r=>{var{typed:e,matrix:t,equalScalar:n,concat:i}=r,a=Kr({typed:e,equalScalar:n}),o=No({typed:e,equalScalar:n}),c=mr({typed:e,equalScalar:n}),u=Nt({typed:e,matrix:t,concat:i});return e(kT,{"number, number":bv,"BigNumber, BigNumber":FT},u({SS:o,DS:a,Ss:c}))});var RT="bitNot",lH=["typed"],Jy=M(RT,lH,r=>{var{typed:e}=r;return e(RT,{number:xv,BigNumber:xu,"Array | Matrix":e.referToSelf(t=>n=>ot(n,t))})});var LT="bitOr",cH=["typed","matrix","equalScalar","DenseMatrix","concat"],Pl=M(LT,cH,r=>{var{typed:e,matrix:t,equalScalar:n,DenseMatrix:i,concat:a}=r,o=Ln({typed:e}),c=bu({typed:e,equalScalar:n}),u=li({typed:e,DenseMatrix:i}),s=Nt({typed:e,matrix:t,concat:a});return e(LT,{"number, number":wv,"BigNumber, BigNumber":IT},s({SS:c,DS:o,Ss:u}))});var fH="matAlgo07xSSf",pH=["typed","DenseMatrix"],on=M(fH,pH,r=>{var{typed:e,DenseMatrix:t}=r;return function(a,o,c){var u=a._size,s=a._datatype||a._data===void 0?a._datatype:a.getDataType(),l=o._size,f=o._datatype||o._data===void 0?o._datatype:o.getDataType();if(u.length!==l.length)throw new wt(u.length,l.length);if(u[0]!==l[0]||u[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+l+")");var p=u[0],m=u[1],h,d=0,v=c;typeof s=="string"&&s===f&&s!=="mixed"&&(h=s,d=e.convert(0,h),v=e.find(c,[h,h]));var y,S,b=[];for(y=0;y<p;y++)b[y]=[];var w=[],_=[],x=[],T=[];for(S=0;S<m;S++){var A=S+1;for(n(a,S,x,w,A),n(o,S,T,_,A),y=0;y<p;y++){var N=x[y]===A?w[y]:d,E=T[y]===A?_[y]:d;b[y][S]=v(N,E)}}return new t({data:b,size:[p,m],datatype:s===a._datatype&&f===o._datatype?h:void 0})};function n(i,a,o,c,u){for(var s=i._values,l=i._index,f=i._ptr,p=f[a],m=f[a+1];p<m;p++){var h=l[p];o[h]=u,c[h]=s[p]}}});var UT="bitXor",mH=["typed","matrix","DenseMatrix","concat"],Xy=M(UT,mH,r=>{var{typed:e,matrix:t,DenseMatrix:n,concat:i}=r,a=_r({typed:e}),o=on({typed:e,DenseMatrix:n}),c=rr({typed:e,DenseMatrix:n}),u=Nt({typed:e,matrix:t,concat:i});return e(UT,{"number, number":_v,"BigNumber, BigNumber":BT},u({SS:o,DS:a,Ss:c}))});var VT="arg",dH=["typed"],Qy=M(VT,dH,r=>{var{typed:e}=r;return e(VT,{number:function(n){return Math.atan2(0,n)},BigNumber:function(n){return n.constructor.atan2(0,n)},Complex:function(n){return n.arg()},"Array | Matrix":e.referToSelf(t=>n=>ot(n,t))})});var qT="conj",hH=["typed"],Ky=M(qT,hH,r=>{var{typed:e}=r;return e(qT,{"number | BigNumber | Fraction":t=>t,Complex:t=>t.conjugate(),"Array | Matrix":e.referToSelf(t=>n=>ot(n,t))})});var zT="im",gH=["typed"],e0=M(zT,gH,r=>{var{typed:e}=r;return e(zT,{number:()=>0,"BigNumber | Fraction":t=>t.mul(0),Complex:t=>t.im,"Array | Matrix":e.referToSelf(t=>n=>ot(n,t))})});var $T="re",vH=["typed"],t0=M($T,vH,r=>{var{typed:e}=r;return e($T,{"number | BigNumber | Fraction":t=>t,Complex:t=>t.re,"Array | Matrix":e.referToSelf(t=>n=>ot(n,t))})});var HT="not",yH=["typed"],r0=M(HT,yH,r=>{var{typed:e}=r;return e(HT,{"null | undefined":()=>!0,number:Tv,Complex:function(n){return n.re===0&&n.im===0},BigNumber:function(n){return n.isZero()||n.isNaN()},Unit:e.referToSelf(t=>n=>e.find(t,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(t=>n=>ot(n,t))})});var GT="or",bH=["typed","matrix","equalScalar","DenseMatrix","concat"],Ol=M(GT,bH,r=>{var{typed:e,matrix:t,equalScalar:n,DenseMatrix:i,concat:a}=r,o=_r({typed:e}),c=Do({typed:e,equalScalar:n}),u=rr({typed:e,DenseMatrix:i}),s=Nt({typed:e,matrix:t,concat:a});return e(GT,{"number, number":Mv,"Complex, Complex":function(f,p){return f.re!==0||f.im!==0||p.re!==0||p.im!==0},"BigNumber, BigNumber":function(f,p){return!f.isZero()&&!f.isNaN()||!p.isZero()&&!p.isNaN()},"Unit, Unit":e.referToSelf(l=>(f,p)=>l(f.value||0,p.value||0))},s({SS:c,DS:o,Ss:u}))});var WT="xor",xH=["typed","matrix","DenseMatrix","concat"],n0=M(WT,xH,r=>{var{typed:e,matrix:t,DenseMatrix:n,concat:i}=r,a=_r({typed:e}),o=on({typed:e,DenseMatrix:n}),c=rr({typed:e,DenseMatrix:n}),u=Nt({typed:e,matrix:t,concat:i});return e(WT,{"number, number":Cv,"Complex, Complex":function(l,f){return(l.re!==0||l.im!==0)!=(f.re!==0||f.im!==0)},"BigNumber, BigNumber":function(l,f){return(!l.isZero()&&!l.isNaN())!=(!f.isZero()&&!f.isNaN())},"Unit, Unit":e.referToSelf(s=>(l,f)=>s(l.value||0,f.value||0))},u({SS:o,DS:a,Ss:c}))});var YT="concat",wH=["typed","matrix","isInteger"],kl=M(YT,wH,r=>{var{typed:e,matrix:t,isInteger:n}=r;return e(YT,{"...Array | Matrix | number | BigNumber":function(a){var o,c=a.length,u=-1,s,l=!1,f=[];for(o=0;o<c;o++){var p=a[o];if(rt(p)&&(l=!0),gt(p)||st(p)){if(o!==c-1)throw new Error("Dimension must be specified as last argument");if(s=u,u=p.valueOf(),!n(u))throw new TypeError("Integer number expected for dimension");if(u<0||o>0&&u>s)throw new Mn(u,s+1)}else{var m=pt(p).valueOf(),h=ht(m);if(f[o]=m,s=u,u=h.length-1,o>0&&u!==s)throw new wt(s+1,u+1)}}if(f.length===0)throw new SyntaxError("At least one matrix expected");for(var d=f.shift();f.length;)d=Ig(d,f.shift(),u);return l?t(d):d},"...string":function(a){return a.join("")}})});var jT="column",_H=["typed","Index","matrix","range"],Rl=M(jT,_H,r=>{var{typed:e,Index:t,matrix:n,range:i}=r;return e(jT,{"Matrix, number":a,"Array, number":function(c,u){return a(n(pt(c)),u).valueOf()}});function a(o,c){if(o.size().length!==2)throw new Error("Only two dimensional matrix is supported");pr(c,o.size()[1]);var u=i(0,o.size()[0]),s=new t(u,c),l=o.subset(s);return rt(l)?l:n([[l]])}});var ZT="count",SH=["typed","size","prod"],i0=M(ZT,SH,r=>{var{typed:e,size:t,prod:n}=r;return e(ZT,{string:function(a){return a.length},"Matrix | Array":function(a){return n(t(a))}})});var JT="cross",DH=["typed","matrix","subtract","multiply"],a0=M(JT,DH,r=>{var{typed:e,matrix:t,subtract:n,multiply:i}=r;return e(JT,{"Matrix, Matrix":function(c,u){return t(a(c.toArray(),u.toArray()))},"Matrix, Array":function(c,u){return t(a(c.toArray(),u))},"Array, Matrix":function(c,u){return t(a(c,u.toArray()))},"Array, Array":a});function a(o,c){var u=Math.max(ht(o).length,ht(c).length);o=cu(o),c=cu(c);var s=ht(o),l=ht(c);if(s.length!==1||l.length!==1||s[0]!==3||l[0]!==3)throw new RangeError("Vectors with length 3 expected (Size A = ["+s.join(", ")+"], B = ["+l.join(", ")+"])");var f=[n(i(o[1],c[2]),i(o[2],c[1])),n(i(o[2],c[0]),i(o[0],c[2])),n(i(o[0],c[1]),i(o[1],c[0]))];return u>1?[f]:f}});var XT="diag",NH=["typed","matrix","DenseMatrix","SparseMatrix"],o0=M(XT,NH,r=>{var{typed:e,matrix:t,DenseMatrix:n,SparseMatrix:i}=r;return e(XT,{Array:function(s){return a(s,0,ht(s),null)},"Array, number":function(s,l){return a(s,l,ht(s),null)},"Array, BigNumber":function(s,l){return a(s,l.toNumber(),ht(s),null)},"Array, string":function(s,l){return a(s,0,ht(s),l)},"Array, number, string":function(s,l,f){return a(s,l,ht(s),f)},"Array, BigNumber, string":function(s,l,f){return a(s,l.toNumber(),ht(s),f)},Matrix:function(s){return a(s,0,s.size(),s.storage())},"Matrix, number":function(s,l){return a(s,l,s.size(),s.storage())},"Matrix, BigNumber":function(s,l){return a(s,l.toNumber(),s.size(),s.storage())},"Matrix, string":function(s,l){return a(s,0,s.size(),l)},"Matrix, number, string":function(s,l,f){return a(s,l,s.size(),f)},"Matrix, BigNumber, string":function(s,l,f){return a(s,l.toNumber(),s.size(),f)}});function a(u,s,l,f){if(!Xe(s))throw new TypeError("Second parameter in function diag must be an integer");var p=s>0?s:0,m=s<0?-s:0;switch(l.length){case 1:return o(u,s,f,l[0],m,p);case 2:return c(u,s,f,l,m,p)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function o(u,s,l,f,p,m){var h=[f+p,f+m];if(l&&l!=="sparse"&&l!=="dense")throw new TypeError("Unknown matrix type ".concat(l,'"'));var d=l==="sparse"?i.diagonal(h,u,s):n.diagonal(h,u,s);return l!==null?d:d.valueOf()}function c(u,s,l,f,p,m){if(rt(u)){var h=u.diagonal(s);return l!==null?l!==h.storage()?t(h,l):h:h.valueOf()}for(var d=Math.min(f[0]-p,f[1]-m),v=[],y=0;y<d;y++)v[y]=u[y+p][y+m];return l!==null?t(v):v}});var Ll=dr(Dg(),1);function qi(r,e,t,n,i){if(Ll.default.isTypedFunction(r)){var a=[e,t,n],o=Ll.default.resolve(r,a);if(o)return f(o.implementation,a);var c=[e,t],u=Ll.default.resolve(r,c);if(u)return f(u.implementation,c);var s=[e],l=Ll.default.resolve(r,s);return l?f(l.implementation,s):f(r,a)}else return r(e,t,n);function f(p,m){try{return p.apply(p,m)}catch(v){var h;if(v instanceof TypeError&&((h=v.data)===null||h===void 0?void 0:h.category)==="wrongType"){var d=[];throw d.push("value: ".concat($t(e))),m.length>=2&&d.push("index: ".concat($t(t))),m.length>=3&&d.push("array: ".concat($t(n))),new TypeError("Function ".concat(i," cannot apply callback arguments ")+"".concat(r.name,"(").concat(d.join(", "),") at index ").concat(JSON.stringify(t)))}else throw new TypeError("Function ".concat(i," cannot apply callback arguments ")+"to function ".concat(r.name,": ").concat(v.message))}}}var AH="filter",EH=["typed"],s0=M(AH,EH,r=>{var{typed:e}=r;return e("filter",{"Array, function":QT,"Matrix, function":function(n,i){return n.create(QT(n.toArray(),i))},"Array, RegExp":fu,"Matrix, RegExp":function(n,i){return n.create(fu(n.toArray(),i))}})});function QT(r,e){return up(r,function(t,n,i){return qi(e,t,[n],i,"filter")})}var KT="flatten",TH=["typed","matrix"],u0=M(KT,TH,r=>{var{typed:e,matrix:t}=r;return e(KT,{Array:function(i){return Mt(i)},Matrix:function(i){var a=Mt(i.toArray());return t(a)}})});var eM="forEach",MH=["typed"],l0=M(eM,MH,r=>{var{typed:e}=r;return e(eM,{"Array, function":CH,"Matrix, function":function(n,i){n.forEach(i)}})});function CH(r,e){var t=function n(i,a){if(Array.isArray(i))go(i,function(o,c){n(o,a.concat(c))});else return qi(e,i,a,r,"forEach")};t(r,[])}var tM="getMatrixDataType",FH=["typed"],c0=M(tM,FH,r=>{var{typed:e}=r;return e(tM,{Array:function(n){return vo(n,$t)},Matrix:function(n){return n.getDataType()}})});var rM="identity",IH=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],f0=M(rM,IH,r=>{var{typed:e,config:t,matrix:n,BigNumber:i,DenseMatrix:a,SparseMatrix:o}=r;return e(rM,{"":function(){return t.matrix==="Matrix"?n([]):[]},string:function(l){return n(l)},"number | BigNumber":function(l){return u(l,l,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(l,f){return u(l,l,f)},"number | BigNumber, number | BigNumber":function(l,f){return u(l,f,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(l,f,p){return u(l,f,p)},Array:function(l){return c(l)},"Array, string":function(l,f){return c(l,f)},Matrix:function(l){return c(l.valueOf(),l.storage())},"Matrix, string":function(l,f){return c(l.valueOf(),f)}});function c(s,l){switch(s.length){case 0:return l?n(l):[];case 1:return u(s[0],s[0],l);case 2:return u(s[0],s[1],l);default:throw new Error("Vector containing two values expected")}}function u(s,l,f){var p=st(s)||st(l)?i:null;if(st(s)&&(s=s.toNumber()),st(l)&&(l=l.toNumber()),!Xe(s)||s<1)throw new Error("Parameters in function identity must be positive integers");if(!Xe(l)||l<1)throw new Error("Parameters in function identity must be positive integers");var m=p?new i(1):1,h=p?new p(0):0,d=[s,l];if(f){if(f==="sparse")return o.diagonal(d,m,0,h);if(f==="dense")return a.diagonal(d,m,0,h);throw new TypeError('Unknown matrix type "'.concat(f,'"'))}for(var v=na([],d,h),y=s<l?s:l,S=0;S<y;S++)v[S][S]=m;return v}});var nM="kron",BH=["typed","matrix","multiplyScalar"],p0=M(nM,BH,r=>{var{typed:e,matrix:t,multiplyScalar:n}=r;return e(nM,{"Matrix, Matrix":function(o,c){return t(i(o.toArray(),c.toArray()))},"Matrix, Array":function(o,c){return t(i(o.toArray(),c))},"Array, Matrix":function(o,c){return t(i(o,c.toArray()))},"Array, Array":i});function i(a,o){if(ht(a).length===1&&(a=[a]),ht(o).length===1&&(o=[o]),ht(a).length>2||ht(o).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(a.length)+", y = "+JSON.stringify(o.length)+")");var c=[],u=[];return a.map(function(s){return o.map(function(l){return u=[],c.push(u),s.map(function(f){return l.map(function(p){return u.push(n(f,p))})})})})&&c}});var iM="map",PH=["typed"],m0=M(iM,PH,r=>{var{typed:e}=r;return e(iM,{"Array, function":OH,"Matrix, function":function(n,i){return n.map(i)}})});function OH(r,e){var t=function n(i,a){return Array.isArray(i)?i.map(function(o,c){return n(o,a.concat(c))}):qi(e,i,a,r,"map")};return t(r,[])}var aM="diff",kH=["typed","matrix","subtract","number"],Ul=M(aM,kH,r=>{var{typed:e,matrix:t,subtract:n,number:i}=r;return e(aM,{"Array | Matrix":function(l){return rt(l)?t(o(l.toArray())):o(l)},"Array | Matrix, number":function(l,f){if(!Xe(f))throw new RangeError("Dimension must be a whole number");return rt(l)?t(a(l.toArray(),f)):a(l,f)},"Array, BigNumber":e.referTo("Array,number",s=>(l,f)=>s(l,i(f))),"Matrix, BigNumber":e.referTo("Matrix,number",s=>(l,f)=>s(l,i(f)))});function a(s,l){if(rt(s)&&(s=s.toArray()),!Array.isArray(s))throw RangeError("Array/Matrix does not have that many dimensions");if(l>0){var f=[];return s.forEach(p=>{f.push(a(p,l-1))}),f}else{if(l===0)return o(s);throw RangeError("Cannot have negative dimension")}}function o(s){for(var l=[],f=s.length,p=1;p<f;p++)l.push(c(s[p-1],s[p]));return l}function c(s,l){rt(s)&&(s=s.toArray()),rt(l)&&(l=l.toArray());var f=Array.isArray(s),p=Array.isArray(l);if(f&&p)return u(s,l);if(!f&&!p)return n(l,s);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}function u(s,l){if(s.length!==l.length)throw RangeError("Not all sub-arrays have the same length");for(var f=[],p=s.length,m=0;m<p;m++)f.push(c(s[m],l[m]));return f}});var RH="ones",LH=["typed","config","matrix","BigNumber"],d0=M(RH,LH,r=>{var{typed:e,config:t,matrix:n,BigNumber:i}=r;return e("ones",{"":function(){return t.matrix==="Array"?a([]):a([],"default")},"...number | BigNumber | string":function(s){var l=s[s.length-1];if(typeof l=="string"){var f=s.pop();return a(s,f)}else return t.matrix==="Array"?a(s):a(s,"default")},Array:a,Matrix:function(s){var l=s.storage();return a(s.valueOf(),l)},"Array | Matrix, string":function(s,l){return a(s.valueOf(),l)}});function a(u,s){var l=o(u),f=l?new i(1):1;if(c(u),s){var p=n(s);return u.length>0?p.resize(u,f):p}else{var m=[];return u.length>0?na(m,u,f):m}}function o(u){var s=!1;return u.forEach(function(l,f,p){st(l)&&(s=!0,p[f]=l.toNumber())}),s}function c(u){u.forEach(function(s){if(typeof s!="number"||!Xe(s)||s<0)throw new Error("Parameters in function ones must be positive integers")})}});function wu(){throw new Error('No "bignumber" implementation available')}function Ap(){throw new Error('No "fraction" implementation available')}function Ep(){throw new Error('No "matrix" implementation available')}var oM="range",UH=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],Vl=M(oM,UH,r=>{var{typed:e,config:t,matrix:n,bignumber:i,smaller:a,smallerEq:o,larger:c,largerEq:u,add:s,isPositive:l}=r;return e(oM,{string:p,"string, boolean":p,"number, number":function(v,y){return f(m(v,y,1,!1))},"number, number, number":function(v,y,S){return f(m(v,y,S,!1))},"number, number, boolean":function(v,y,S){return f(m(v,y,1,S))},"number, number, number, boolean":function(v,y,S,b){return f(m(v,y,S,b))},"BigNumber, BigNumber":function(v,y){var S=v.constructor;return f(m(v,y,new S(1),!1))},"BigNumber, BigNumber, BigNumber":function(v,y,S){return f(m(v,y,S,!1))},"BigNumber, BigNumber, boolean":function(v,y,S){var b=v.constructor;return f(m(v,y,new b(1),S))},"BigNumber, BigNumber, BigNumber, boolean":function(v,y,S,b){return f(m(v,y,S,b))},"Unit, Unit, Unit":function(v,y,S){return f(m(v,y,S,!1))},"Unit, Unit, Unit, boolean":function(v,y,S,b){return f(m(v,y,S,b))}});function f(d){return t.matrix==="Matrix"?n?n(d):Ep():d}function p(d,v){var y=h(d);if(!y)throw new SyntaxError('String "'+d+'" is no valid range');return t.number==="BigNumber"?(i===void 0&&wu(),f(m(i(y.start),i(y.end),i(y.step)),v)):f(m(y.start,y.end,y.step,v))}function m(d,v,y,S){for(var b=[],w=l(y)?S?o:a:S?u:c,_=d;w(_,v);)b.push(_),_=s(_,y);return b}function h(d){var v=d.split(":"),y=v.map(function(b){return Number(b)}),S=y.some(function(b){return isNaN(b)});if(S)return null;switch(y.length){case 2:return{start:y[0],end:y[1],step:1};case 3:return{start:y[0],end:y[2],step:y[1]};default:return null}}});var sM="reshape",VH=["typed","isInteger","matrix"],h0=M(sM,VH,r=>{var{typed:e,isInteger:t}=r;return e(sM,{"Matrix, Array":function(i,a){return i.reshape(a,!0)},"Array, Array":function(i,a){return a.forEach(function(o){if(!t(o))throw new TypeError("Invalid size for dimension: "+o)}),Sl(i,a)}})});var qH="resize",zH=["config","matrix"],g0=M(qH,zH,r=>{var{config:e,matrix:t}=r;return function(a,o,c){if(arguments.length!==2&&arguments.length!==3)throw new Ha("resize",arguments.length,2,3);if(rt(o)&&(o=o.valueOf()),st(o[0])&&(o=o.map(function(l){return st(l)?l.toNumber():l})),rt(a))return a.resize(o,c,!0);if(typeof a=="string")return n(a,o,c);var u=Array.isArray(a)?!1:e.matrix!=="Array";if(o.length===0){for(;Array.isArray(a);)a=a[0];return pt(a)}else{Array.isArray(a)||(a=[a]),a=pt(a);var s=na(a,o,c);return u?t(s):s}};function n(i,a,o){if(o!==void 0){if(typeof o!="string"||o.length!==1)throw new TypeError("Single character expected as defaultValue")}else o=" ";if(a.length!==1)throw new wt(a.length,1);var c=a[0];if(typeof c!="number"||!Xe(c))throw new TypeError("Invalid size, must contain positive integers (size: "+bt(a)+")");if(i.length>c)return i.substring(0,c);if(i.length<c){for(var u=i,s=0,l=c-i.length;s<l;s++)u+=o;return u}else return i}});var uM="rotate",$H=["typed","multiply","rotationMatrix"],v0=M(uM,$H,r=>{var{typed:e,multiply:t,rotationMatrix:n}=r;return e(uM,{"Array , number | BigNumber | Complex | Unit":function(o,c){i(o,2);var u=t(n(c),o);return u.toArray()},"Matrix , number | BigNumber | Complex | Unit":function(o,c){return i(o,2),t(n(c),o)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function(o,c,u){i(o,3);var s=t(n(c,u),o);return s},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function(o,c,u){return i(o,3),t(n(c,u),o)}});function i(a,o){var c=Array.isArray(a)?ht(a):a.size();if(c.length>2)throw new RangeError("Vector must be of dimensions 1x".concat(o));if(c.length===2&&c[1]!==1)throw new RangeError("Vector must be of dimensions 1x".concat(o));if(c[0]!==o)throw new RangeError("Vector must be of dimensions 1x".concat(o))}});var lM="rotationMatrix",HH=["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],y0=M(lM,HH,r=>{var{typed:e,config:t,multiplyScalar:n,addScalar:i,unaryMinus:a,norm:o,BigNumber:c,matrix:u,DenseMatrix:s,SparseMatrix:l,cos:f,sin:p}=r;return e(lM,{"":function(){return t.matrix==="Matrix"?u([]):[]},string:function(b){return u(b)},"number | BigNumber | Complex | Unit":function(b){return m(b,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(b,w){return m(b,w)},"number | BigNumber | Complex | Unit, Array":function(b,w){var _=u(w);return h(_),y(b,_,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(b,w){h(w);var _=w.storage()||(t.matrix==="Matrix"?"dense":void 0);return y(b,w,_)},"number | BigNumber | Complex | Unit, Array, string":function(b,w,_){var x=u(w);return h(x),y(b,x,_)},"number | BigNumber | Complex | Unit, Matrix, string":function(b,w,_){return h(w),y(b,w,_)}});function m(S,b){var w=st(S),_=w?new c(-1):-1,x=f(S),T=p(S),A=[[x,n(_,T)],[T,x]];return v(A,b)}function h(S){var b=S.size();if(b.length<1||b[0]!==3)throw new RangeError("Vector must be of dimensions 1x3")}function d(S){return S.reduce((b,w)=>n(b,w))}function v(S,b){if(b){if(b==="sparse")return new l(S);if(b==="dense")return new s(S);throw new TypeError('Unknown matrix type "'.concat(b,'"'))}return S}function y(S,b,w){var _=o(b);if(_===0)throw new RangeError("Rotation around zero vector");var x=st(S)?c:null,T=x?new x(1):1,A=x?new x(-1):-1,N=x?new x(b.get([0])/_):b.get([0])/_,E=x?new x(b.get([1])/_):b.get([1])/_,C=x?new x(b.get([2])/_):b.get([2])/_,O=f(S),U=i(T,a(O)),q=p(S),L=i(O,d([N,N,U])),P=i(d([N,E,U]),d([A,C,q])),k=i(d([N,C,U]),d([E,q])),H=i(d([N,E,U]),d([C,q])),B=i(O,d([E,E,U])),W=i(d([E,C,U]),d([A,N,q])),ie=i(d([N,C,U]),d([A,E,q])),Q=i(d([E,C,U]),d([N,q])),V=i(O,d([C,C,U])),le=[[L,P,k],[H,B,W],[ie,Q,V]];return v(le,w)}});var cM="row",GH=["typed","Index","matrix","range"],ql=M(cM,GH,r=>{var{typed:e,Index:t,matrix:n,range:i}=r;return e(cM,{"Matrix, number":a,"Array, number":function(c,u){return a(n(pt(c)),u).valueOf()}});function a(o,c){if(o.size().length!==2)throw new Error("Only two dimensional matrix is supported");pr(c,o.size()[0]);var u=i(0,o.size()[1]),s=new t(c,u),l=o.subset(s);return rt(l)?l:n([[l]])}});var fM="size",WH=["typed","config","?matrix"],b0=M(fM,WH,r=>{var{typed:e,config:t,matrix:n}=r;return e(fM,{Matrix:function(a){return a.create(a.size())},Array:ht,string:function(a){return t.matrix==="Array"?[a.length]:n([a.length])},"number | Complex | BigNumber | Unit | boolean | null":function(a){return t.matrix==="Array"?[]:n?n([]):Ep()}})});var pM="squeeze",YH=["typed","matrix"],x0=M(pM,YH,r=>{var{typed:e,matrix:t}=r;return e(pM,{Array:function(i){return cu(pt(i))},Matrix:function(i){var a=cu(i.toArray());return Array.isArray(a)?t(a):a},any:function(i){return pt(i)}})});var mM="subset",jH=["typed","matrix","zeros","add"],zl=M(mM,jH,r=>{var{typed:e,matrix:t,zeros:n,add:i}=r;return e(mM,{"Matrix, Index":function(c,u){return us(u)?t():(_l(c,u),c.subset(u))},"Array, Index":e.referTo("Matrix, Index",function(o){return function(c,u){var s=o(t(c),u);return u.isScalar()?s:s.valueOf()}}),"Object, Index":JH,"string, Index":ZH,"Matrix, Index, any, any":function(c,u,s,l){return us(u)?c:(_l(c,u),c.clone().subset(u,a(s,u),l))},"Array, Index, any, any":e.referTo("Matrix, Index, any, any",function(o){return function(c,u,s,l){var f=o(t(c),u,s,l);return f.isMatrix?f.valueOf():f}}),"Array, Index, any":e.referTo("Matrix, Index, any, any",function(o){return function(c,u,s){return o(t(c),u,s,void 0).valueOf()}}),"Matrix, Index, any":e.referTo("Matrix, Index, any, any",function(o){return function(c,u,s){return o(c,u,s,void 0)}}),"string, Index, string":dM,"string, Index, string, string":dM,"Object, Index, any":XH});function a(o,c){if(typeof o=="string")throw new Error("can't boradcast a string");if(c._isScalar)return o;var u=c.size();if(u.every(s=>s>0))try{return i(o,n(u))}catch(s){return o}else return o}});function ZH(r,e){if(!po(e))throw new TypeError("Index expected");if(us(e))return"";if(_l(Array.from(r),e),e.size().length!==1)throw new wt(e.size().length,1);var t=r.length;pr(e.min()[0],t),pr(e.max()[0],t);var n=e.dimension(0),i="";return n.forEach(function(a){i+=r.charAt(a)}),i}function dM(r,e,t,n){if(!e||e.isIndex!==!0)throw new TypeError("Index expected");if(us(e))return r;if(_l(Array.from(r),e),e.size().length!==1)throw new wt(e.size().length,1);if(n!==void 0){if(typeof n!="string"||n.length!==1)throw new TypeError("Single character expected as defaultValue")}else n=" ";var i=e.dimension(0),a=i.size()[0];if(a!==t.length)throw new wt(i.size()[0],t.length);var o=r.length;pr(e.min()[0]),pr(e.max()[0]);for(var c=[],u=0;u<o;u++)c[u]=r.charAt(u);if(i.forEach(function(f,p){c[f]=t.charAt(p[0])}),c.length>o)for(var s=o-1,l=c.length;s<l;s++)c[s]||(c[s]=n);return c.join("")}function JH(r,e){if(!us(e)){if(e.size().length!==1)throw new wt(e.size(),1);var t=e.dimension(0);if(typeof t!="string")throw new TypeError("String expected as index to retrieve an object property");return Fr(r,t)}}function XH(r,e,t){if(us(e))return r;if(e.size().length!==1)throw new wt(e.size(),1);var n=e.dimension(0);if(typeof n!="string")throw new TypeError("String expected as index to retrieve an object property");var i=pt(r);return ha(i,n,t),i}var hM="transpose",QH=["typed","matrix"],w0=M(hM,QH,r=>{var{typed:e,matrix:t}=r;return e(hM,{Array:o=>n(t(o)).valueOf(),Matrix:n,any:pt});function n(o){var c=o.size(),u;switch(c.length){case 1:u=o.clone();break;case 2:{var s=c[0],l=c[1];if(l===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+bt(c)+")");switch(o.storage()){case"dense":u=i(o,s,l);break;case"sparse":u=a(o,s,l);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+bt(c)+")")}return u}function i(o,c,u){for(var s=o._data,l=[],f,p=0;p<u;p++){f=l[p]=[];for(var m=0;m<c;m++)f[m]=pt(s[m][p])}return o.createDenseMatrix({data:l,size:[u,c],datatype:o._datatype})}function a(o,c,u){for(var s=o._values,l=o._index,f=o._ptr,p=s?[]:void 0,m=[],h=[],d=[],v=0;v<c;v++)d[v]=0;var y,S,b;for(y=0,S=l.length;y<S;y++)d[l[y]]++;for(var w=0,_=0;_<c;_++)h.push(w),w+=d[_],d[_]=h[_];for(h.push(w),b=0;b<u;b++)for(var x=f[b],T=f[b+1],A=x;A<T;A++){var N=d[l[A]]++;m[N]=b,s&&(p[N]=pt(s[A]))}return o.createSparseMatrix({values:p,index:m,ptr:h,size:[u,c],datatype:o._datatype})}});var gM="ctranspose",KH=["typed","transpose","conj"],_0=M(gM,KH,r=>{var{typed:e,transpose:t,conj:n}=r;return e(gM,{any:function(a){return n(t(a))}})});var vM="zeros",eG=["typed","config","matrix","BigNumber"],S0=M(vM,eG,r=>{var{typed:e,config:t,matrix:n,BigNumber:i}=r;return e(vM,{"":function(){return t.matrix==="Array"?a([]):a([],"default")},"...number | BigNumber | string":function(s){var l=s[s.length-1];if(typeof l=="string"){var f=s.pop();return a(s,f)}else return t.matrix==="Array"?a(s):a(s,"default")},Array:a,Matrix:function(s){var l=s.storage();return a(s.valueOf(),l)},"Array | Matrix, string":function(s,l){return a(s.valueOf(),l)}});function a(u,s){var l=o(u),f=l?new i(0):0;if(c(u),s){var p=n(s);return u.length>0?p.resize(u,f):p}else{var m=[];return u.length>0?na(m,u,f):m}}function o(u){var s=!1;return u.forEach(function(l,f,p){st(l)&&(s=!0,p[f]=l.toNumber())}),s}function c(u){u.forEach(function(s){if(typeof s!="number"||!Xe(s)||s<0)throw new Error("Parameters in function zeros must be positive integers")})}});var yM="fft",tG=["typed","matrix","addScalar","multiplyScalar","divideScalar","exp","tau","i","dotDivide","conj","pow","ceil","log2"],D0=M(yM,tG,r=>{var{typed:e,matrix:t,addScalar:n,multiplyScalar:i,divideScalar:a,exp:o,tau:c,i:u,dotDivide:s,conj:l,pow:f,ceil:p,log2:m}=r;return e(yM,{Array:h,Matrix:function(b){return b.create(h(b.toArray()))}});function h(S){var b=ht(S);return b.length===1?y(S,b[0]):d(S.map(w=>h(w,b.slice(1))),0)}function d(S,b){var w=ht(S);if(b!==0)return new Array(w[0]).fill(0).map((x,T)=>d(S[T],b-1));if(w.length===1)return y(S);function _(x){var T=ht(x);return new Array(T[1]).fill(0).map((A,N)=>new Array(T[0]).fill(0).map((E,C)=>x[C][N]))}return _(d(_(S),1))}function v(S){for(var b=S.length,w=o(a(i(-1,i(u,c)),b)),_=[],x=1-b;x<b;x++)_.push(f(w,a(f(x,2),2)));for(var T=f(2,p(m(b+b-1))),A=[...new Array(b).fill(0).map((P,k)=>i(S[k],_[b-1+k])),...new Array(T-b).fill(0)],N=[...new Array(b+b-1).fill(0).map((P,k)=>a(1,_[k])),...new Array(T-(b+b-1)).fill(0)],E=y(A),C=y(N),O=new Array(T).fill(0).map((P,k)=>i(E[k],C[k])),U=s(l(h(l(O))),T),q=[],L=b-1;L<b+b-1;L++)q.push(i(U[L],_[L]));return q}function y(S){var b=S.length;if(b===1)return[S[0]];if(b%2===0){for(var w=[...y(S.filter((A,N)=>N%2===0),b/2),...y(S.filter((A,N)=>N%2===1),b/2)],_=0;_<b/2;_++){var x=w[_],T=i(w[_+b/2],o(i(i(c,u),a(-_,b))));w[_]=n(x,T),w[_+b/2]=n(x,i(-1,T))}return w}else return v(S)}});var bM="ifft",rG=["typed","fft","dotDivide","conj"],N0=M(bM,rG,r=>{var{typed:e,fft:t,dotDivide:n,conj:i}=r;return e(bM,{"Array | Matrix":function(o){var c=rt(o)?o.size():ht(o);return n(i(t(i(o))),c.reduce((u,s)=>u*s,1))}})});function Ao(r){"@babel/helpers - typeof";return Ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ao(r)}function A0(r,e){if(Ao(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(Ao(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function E0(r){var e=A0(r,"string");return Ao(e)=="symbol"?e:String(e)}function nr(r,e,t){return e=E0(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function xM(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function nG(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xM(Object(t),!0).forEach(function(n){nr(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):xM(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var iG="solveODE",aG=["typed","add","subtract","multiply","divide","max","map","abs","isPositive","isNegative","larger","smaller","matrix","bignumber","unaryMinus"],T0=M(iG,aG,r=>{var{typed:e,add:t,subtract:n,multiply:i,divide:a,max:o,map:c,abs:u,isPositive:s,isNegative:l,larger:f,smaller:p,matrix:m,bignumber:h,unaryMinus:d}=r;function v(A){return function(N,E,C,O){var U=!(E.length===2&&(E.every(x)||E.every(An)));if(U)throw new Error('"tspan" must be an Array of two numeric values or two units [tStart, tEnd]');var q=E[0],L=E[1],P=f(L,q),k=O.firstStep;if(k!==void 0&&!s(k))throw new Error('"firstStep" must be positive');var H=O.maxStep;if(H!==void 0&&!s(H))throw new Error('"maxStep" must be positive');var B=O.minStep;if(B&&l(B))throw new Error('"minStep" must be positive or zero');var W=[q,L,k,B,H].filter(Ge=>Ge!==void 0);if(!(W.every(x)||W.every(An)))throw new Error('Inconsistent type of "t" dependant variables');for(var ie=1,Q=O.tol?O.tol:1e-4,V=O.minDelta?O.minDelta:.2,le=O.maxDelta?O.maxDelta:5,Se=O.maxIter?O.maxIter:1e4,fe=[q,L,...C,H,B].some(st),[he,_e,ge,me]=fe?[h(A.a),h(A.c),h(A.b),h(A.bp)]:[A.a,A.c,A.b,A.bp],we=k?P?k:d(k):a(n(L,q),ie),Te=[q],ze=[C],tt=n(ge,me),Y=0,K=0,ve=w(P),J=_(P);ve(Te[Y],L);){var te=[];we=J(Te[Y],L,we),te.push(N(Te[Y],ze[Y]));for(var se=1;se<_e.length;++se)te.push(N(t(Te[Y],i(_e[se],we)),t(ze[Y],i(we,he[se],te))));var De=o(u(c(i(tt,te),Ge=>An(Ge)?Ge.value:Ge)));De<Q&&Q/De>1/4&&(Te.push(t(Te[Y],we)),ze.push(t(ze[Y],i(we,ge,te))),Y++);var Ne=.84*(Q/De)**(1/5);if(p(Ne,V)?Ne=V:f(Ne,le)&&(Ne=le),Ne=fe?h(Ne):Ne,we=i(we,Ne),H&&f(u(we),H)?we=P?H:d(H):B&&p(u(we),B)&&(we=P?B:d(B)),K++,K>Se)throw new Error("Maximum number of iterations reached, try changing options")}return{t:Te,y:ze}}}function y(A,N,E,C){var O=[[],[.5],[0,.75],[.2222222222222222,.3333333333333333,.4444444444444444]],U=[null,1/2,3/4,1],q=[2/9,1/3,4/9,0],L=[7/24,1/4,1/3,1/8],P={a:O,c:U,b:q,bp:L};return v(P)(A,N,E,C)}function S(A,N,E,C){var O=[[],[.2],[.075,.225],[.9777777777777777,-3.7333333333333334,3.5555555555555554],[2.9525986892242035,-11.595793324188385,9.822892851699436,-.2908093278463649],[2.8462752525252526,-10.757575757575758,8.906422717743473,.2784090909090909,-.2735313036020583],[.09114583333333333,0,.44923629829290207,.6510416666666666,-.322376179245283,.13095238095238096]],U=[null,1/5,3/10,4/5,8/9,1,1],q=[35/384,0,500/1113,125/192,-2187/6784,11/84,0],L=[5179/57600,0,7571/16695,393/640,-92097/339200,187/2100,1/40],P={a:O,c:U,b:q,bp:L};return v(P)(A,N,E,C)}function b(A,N,E,C){var O=C.method?C.method:"RK45",U={RK23:y,RK45:S};if(O.toUpperCase()in U){var q=nG({},C);return delete q.method,U[O.toUpperCase()](A,N,E,q)}else{var L=Object.keys(U).map(k=>'"'.concat(k,'"')),P="".concat(L.slice(0,-1).join(", ")," and ").concat(L.slice(-1));throw new Error('Unavailable method "'.concat(O,'". Available methods are ').concat(P))}}function w(A){return A?p:f}function _(A){var N=A?f:p;return function(E,C,O){var U=t(E,O);return N(U,C)?n(C,E):O}}function x(A){return st(A)||gt(A)}function T(A,N,E,C){var O=b(A,N.toArray(),E.toArray(),C);return{t:m(O.t),y:m(O.y)}}return e("solveODE",{"function, Array, Array, Object":b,"function, Matrix, Matrix, Object":T,"function, Array, Array":(A,N,E)=>b(A,N,E,{}),"function, Matrix, Matrix":(A,N,E)=>T(A,N,E,{}),"function, Array, number | BigNumber | Unit":(A,N,E)=>{var C=b(A,N,[E],{});return{t:C.t,y:C.y.map(O=>O[0])}},"function, Matrix, number | BigNumber | Unit":(A,N,E)=>{var C=b(A,N.toArray(),[E],{});return{t:m(C.t),y:m(C.y.map(O=>O[0]))}},"function, Array, number | BigNumber | Unit, Object":(A,N,E,C)=>{var O=b(A,N,[E],C);return{t:O.t,y:O.y.map(U=>U[0])}},"function, Matrix, number | BigNumber | Unit, Object":(A,N,E,C)=>{var O=b(A,N.toArray(),[E],C);return{t:m(O.t),y:m(O.y.map(U=>U[0]))}}})});var oG="erf",sG=["typed"],M0=M(oG,sG,r=>{var{typed:e}=r;return e("name",{number:function(o){var c=Math.abs(o);return c>=cG?Li(o):c<=uG?Li(o)*t(c):c<=4?Li(o)*(1-n(c)):Li(o)*(1-i(c))},"Array | Matrix":e.referToSelf(a=>o=>ot(o,a))});function t(a){var o=a*a,c=Ga[0][4]*o,u=o,s;for(s=0;s<3;s+=1)c=(c+Ga[0][s])*o,u=(u+_u[0][s])*o;return a*(c+Ga[0][3])/(u+_u[0][3])}function n(a){var o=Ga[1][8]*a,c=a,u;for(u=0;u<7;u+=1)o=(o+Ga[1][u])*a,c=(c+_u[1][u])*a;var s=(o+Ga[1][7])/(c+_u[1][7]),l=parseInt(a*16)/16,f=(a-l)*(a+l);return Math.exp(-l*l)*Math.exp(-f)*s}function i(a){var o=1/(a*a),c=Ga[2][5]*o,u=o,s;for(s=0;s<4;s+=1)c=(c+Ga[2][s])*o,u=(u+_u[2][s])*o;var l=o*(c+Ga[2][4])/(u+_u[2][4]);l=(lG-l)/a,o=parseInt(a*16)/16;var f=(a-o)*(a+o);return Math.exp(-o*o)*Math.exp(-f)*l}}),uG=.46875,lG=.5641895835477563,Ga=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,21531153547440383e-24],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],_u=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],cG=Math.pow(2,53);var wM="zeta",fG=["typed","config","multiply","pow","divide","factorial","equal","smallerEq","isNegative","gamma","sin","subtract","add","?Complex","?BigNumber","pi"],C0=M(wM,fG,r=>{var{typed:e,config:t,multiply:n,pow:i,divide:a,factorial:o,equal:c,smallerEq:u,isNegative:s,gamma:l,sin:f,subtract:p,add:m,Complex:h,BigNumber:d,pi:v}=r;return e(wM,{number:x=>y(x,T=>T,()=>20),BigNumber:x=>y(x,T=>new d(T),()=>Math.abs(Math.log10(t.epsilon))),Complex:S});function y(x,T,A){return c(x,0)?T(-.5):c(x,1)?T(NaN):isFinite(x)?b(x,T,A,N=>N):s(x)?T(NaN):T(1)}function S(x){return x.re===0&&x.im===0?new h(-.5):x.re===1?new h(NaN,NaN):x.re===1/0&&x.im===0?new h(1):x.im===1/0||x.re===-1/0?new h(NaN,NaN):b(x,T=>T,T=>Math.round(1.3*15+.9*Math.abs(T.im)),T=>T.re)}function b(x,T,A,N){var E=A(x);if(N(x)>-(E-1)/2)return _(x,T(E),T);var C=n(i(2,x),i(T(v),p(x,1)));return C=n(C,f(n(a(T(v),2),x))),C=n(C,l(p(1,x))),n(C,b(p(1,x),T,A,N))}function w(x,T){for(var A=x,N=x;u(N,T);N=m(N,1)){var E=a(n(o(m(T,p(N,1))),i(4,N)),n(o(p(T,N)),o(n(2,N))));A=m(A,E)}return n(T,A)}function _(x,T,A){for(var N=a(1,n(w(A(0),T),p(1,i(2,p(1,x))))),E=A(0),C=A(1);u(C,T);C=m(C,1))E=m(E,a(n((-1)**(C-1),w(C,T)),i(C,x)));return n(N,E)}});var _M="mode",pG=["typed","isNaN","isNumeric"],F0=M(_M,pG,r=>{var{typed:e,isNaN:t,isNumeric:n}=r;return e(_M,{"Array | Matrix":i,"...":function(o){return i(o)}});function i(a){a=Mt(a.valueOf());var o=a.length;if(o===0)throw new Error("Cannot calculate mode of an empty array");for(var c={},u=[],s=0,l=0;l<a.length;l++){var f=a[l];if(n(f)&&t(f))throw new Error("Cannot calculate mode of an array containing NaN values");f in c||(c[f]=0),c[f]++,c[f]===s?u.push(f):c[f]>s&&(s=c[f],u=[f])}return u}});function zr(r,e,t){var n;return String(r).indexOf("Unexpected type")!==-1?(n=arguments.length>2?" (type: "+$t(t)+", value: "+JSON.stringify(t)+")":" (type: "+r.data.actual+")",new TypeError("Cannot calculate "+e+", unexpected type of argument"+n)):String(r).indexOf("complex numbers")!==-1?(n=arguments.length>2?" (type: "+$t(t)+", value: "+JSON.stringify(t)+")":"",new TypeError("Cannot calculate "+e+", no ordering relation is defined for complex numbers"+n)):r}var SM="prod",mG=["typed","config","multiplyScalar","numeric"],I0=M(SM,mG,r=>{var{typed:e,config:t,multiplyScalar:n,numeric:i}=r;return e(SM,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(c,u){throw new Error("prod(A, dim) is not yet supported")},"...":function(c){return a(c)}});function a(o){var c;if(Rn(o,function(u){try{c=c===void 0?u:n(c,u)}catch(s){throw zr(s,"prod",u)}}),typeof c=="string"&&(c=i(c,t.number)),c===void 0)throw new Error("Cannot calculate prod of an empty array");return c}});var DM="format",dG=["typed"],B0=M(DM,dG,r=>{var{typed:e}=r;return e(DM,{any:bt,"any, Object | function | number | BigNumber":bt})});var NM="bin",hG=["typed","format"],P0=M(NM,hG,r=>{var{typed:e,format:t}=r;return e(NM,{"number | BigNumber":function(i){return t(i,{notation:"bin"})},"number | BigNumber, number | BigNumber":function(i,a){return t(i,{notation:"bin",wordSize:a})}})});var AM="oct",gG=["typed","format"],O0=M(AM,gG,r=>{var{typed:e,format:t}=r;return e(AM,{"number | BigNumber":function(i){return t(i,{notation:"oct"})},"number | BigNumber, number | BigNumber":function(i,a){return t(i,{notation:"oct",wordSize:a})}})});var EM="hex",vG=["typed","format"],k0=M(EM,vG,r=>{var{typed:e,format:t}=r;return e(EM,{"number | BigNumber":function(i){return t(i,{notation:"hex"})},"number | BigNumber, number | BigNumber":function(i,a){return t(i,{notation:"hex",wordSize:a})}})});var Tp=/\$([\w.]+)/g;var TM="print",yG=["typed"],$l=M(TM,yG,r=>{var{typed:e}=r;return e(TM,{"string, Object | Array":MM,"string, Object | Array, number | Object":MM})});function MM(r,e,t){return r.replace(Tp,function(n,i){var a=i.split("."),o=e[a.shift()];for(o!==void 0&&o.isMatrix&&(o=o.toArray());a.length&&o!==void 0;){var c=a.shift();o=c?o[c]:o+"."}return o!==void 0?Vr(o)?o:bt(o,t):n})}var CM="to",bG=["typed","matrix","concat"],R0=M(CM,bG,r=>{var{typed:e,matrix:t,concat:n}=r,i=Nt({typed:e,matrix:t,concat:n});return e(CM,{"Unit, Unit | string":(a,o)=>a.to(o)},i({Ds:!0}))});var FM="isPrime",xG=["typed"],L0=M(FM,xG,r=>{var{typed:e}=r;return e(FM,{number:function(n){if(n*0!==0)return!1;if(n<=3)return n>1;if(n%2===0||n%3===0)return!1;for(var i=5;i*i<=n;i+=6)if(n%i===0||n%(i+2)===0)return!1;return!0},BigNumber:function(n){if(n.toNumber()*0!==0)return!1;if(n.lte(3))return n.gt(1);if(n.mod(2).eq(0)||n.mod(3).eq(0))return!1;if(n.lt(Math.pow(2,32))){for(var i=n.toNumber(),a=5;a*a<=i;a+=6)if(i%a===0||i%(a+2)===0)return!1;return!0}function o(S,b,w){for(var _=1;!b.eq(0);)b.mod(2).eq(0)?(b=b.div(2),S=S.mul(S).mod(w)):(b=b.sub(1),_=S.mul(_).mod(w));return _}var c=n.constructor.clone({precision:n.toFixed(0).length*2});n=new c(n);for(var u=0,s=n.sub(1);s.mod(2).eq(0);)s=s.div(2),u+=1;var l=null;if(n.lt("3317044064679887385961981"))l=[2,3,5,7,11,13,17,19,23,29,31,37,41].filter(S=>S<n);else{var f=Math.min(n.toNumber()-2,Math.floor(2*Math.pow(n.toFixed(0).length*Math.log(10),2)));l=[];for(var p=2;p<=f;p+=1)l.push(f)}for(var m=0;m<l.length;m+=1){var h=l[m],d=o(n.sub(n).add(h),s,n);if(!d.eq(1)){for(var v=0,y=d;!y.eq(n.sub(1));v+=1,y=y.mul(y).mod(n))if(v===u-1)return!1}}return!0},"Array | Matrix":e.referToSelf(t=>n=>ot(n,t))})});var wG="numeric",_G=["number","?bignumber","?fraction"],U0=M(wG,_G,r=>{var{number:e,bignumber:t,fraction:n}=r,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},a={number:o=>e(o),BigNumber:t?o=>t(o):wu,Fraction:n?o=>n(o):Ap};return function(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",s=arguments.length>2?arguments[2]:void 0;if(s!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var l=$t(c);if(!(l in i))throw new TypeError("Cannot convert "+c+' of type "'+l+'"; valid input types are '+Object.keys(i).join(", "));if(!(u in a))throw new TypeError("Cannot convert "+c+' to type "'+u+'"; valid output types are '+Object.keys(a).join(", "));return u===l?c:a[u](c)}});var IM="divideScalar",SG=["typed","numeric"],V0=M(IM,SG,r=>{var{typed:e,numeric:t}=r;return e(IM,{"number, number":function(i,a){return i/a},"Complex, Complex":function(i,a){return i.div(a)},"BigNumber, BigNumber":function(i,a){return i.div(a)},"Fraction, Fraction":function(i,a){return i.div(a)},"Unit, number | Complex | Fraction | BigNumber | Unit":(n,i)=>n.divide(i),"number | Fraction | Complex | BigNumber, Unit":(n,i)=>i.divideInto(n)})});var BM="pow",DG=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],q0=M(BM,DG,r=>{var{typed:e,config:t,identity:n,multiply:i,matrix:a,inv:o,number:c,fraction:u,Complex:s}=r;return e(BM,{"number, number":l,"Complex, Complex":function(h,d){return h.pow(d)},"BigNumber, BigNumber":function(h,d){return d.isInteger()||h>=0||t.predictable?h.pow(d):new s(h.toNumber(),0).pow(d.toNumber(),0)},"Fraction, Fraction":function(h,d){var v=h.pow(d);if(v!=null)return v;if(t.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return l(h.valueOf(),d.valueOf())},"Array, number":f,"Array, BigNumber":function(h,d){return f(h,d.toNumber())},"Matrix, number":p,"Matrix, BigNumber":function(h,d){return p(h,d.toNumber())},"Unit, number | BigNumber":function(h,d){return h.pow(d)}});function l(m,h){if(t.predictable&&!Xe(h)&&m<0)try{var d=u(h),v=c(d);if((h===v||Math.abs((h-v)/h)<1e-14)&&d.d%2===1)return(d.n%2===0?1:-1)*Math.pow(-m,h)}catch(y){}return t.predictable&&(m<-1&&h===1/0||m>-1&&m<0&&h===-1/0)?NaN:Xe(h)||m>=0||t.predictable?yv(m,h):m*m<1&&h===1/0||m*m>1&&h===-1/0?0:new s(m,0).pow(h,0)}function f(m,h){if(!Xe(h))throw new TypeError("For A^b, b must be an integer (value is "+h+")");var d=ht(m);if(d.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+d.length+" dimensions)");if(d[0]!==d[1])throw new Error("For A^b, A must be square (size is "+d[0]+"x"+d[1]+")");if(h<0)try{return f(o(m),-h)}catch(S){throw S.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+h+")"):S}for(var v=n(d[0]).valueOf(),y=m;h>=1;)(h&1)===1&&(v=i(y,v)),h>>=1,y=i(y,y);return v}function p(m,h){return a(f(m.valueOf(),h))}});var Su="Number of decimals in function round must be an integer",PM="round",NG=["typed","config","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],z0=M(PM,NG,r=>{var{typed:e,config:t,matrix:n,equalScalar:i,zeros:a,BigNumber:o,DenseMatrix:c}=r,u=mr({typed:e,equalScalar:i}),s=rr({typed:e,DenseMatrix:c}),l=Qr({typed:e});function f(p){return Math.abs(lu(p).exponent)}return e(PM,{number:function(m){var h=vu(m,f(t.epsilon)),d=Rr(m,h,t.epsilon)?h:m;return vu(d)},"number, number":function(m,h){var d=f(t.epsilon);if(h>=d)return vu(m,h);var v=vu(m,d),y=Rr(m,v,t.epsilon)?v:m;return vu(y,h)},"number, BigNumber":function(m,h){if(!h.isInteger())throw new TypeError(Su);return new o(m).toDecimalPlaces(h.toNumber())},Complex:function(m){return m.round()},"Complex, number":function(m,h){if(h%1)throw new TypeError(Su);return m.round(h)},"Complex, BigNumber":function(m,h){if(!h.isInteger())throw new TypeError(Su);var d=h.toNumber();return m.round(d)},BigNumber:function(m){var h=new o(m).toDecimalPlaces(f(t.epsilon)),d=nn(m,h,t.epsilon)?h:m;return d.toDecimalPlaces(0)},"BigNumber, BigNumber":function(m,h){if(!h.isInteger())throw new TypeError(Su);var d=f(t.epsilon);if(h>=d)return m.toDecimalPlaces(h.toNumber());var v=m.toDecimalPlaces(d),y=nn(m,v,t.epsilon)?v:m;return y.toDecimalPlaces(h.toNumber())},Fraction:function(m){return m.round()},"Fraction, number":function(m,h){if(h%1)throw new TypeError(Su);return m.round(h)},"Fraction, BigNumber":function(m,h){if(!h.isInteger())throw new TypeError(Su);return m.round(h.toNumber())},"Unit, number, Unit":e.referToSelf(p=>function(m,h,d){var v=m.toNumeric(d);return d.multiply(p(v,h))}),"Unit, BigNumber, Unit":e.referToSelf(p=>(m,h,d)=>p(m,h.toNumber(),d)),"Unit, Unit":e.referToSelf(p=>(m,h)=>p(m,0,h)),"Array | Matrix, number, Unit":e.referToSelf(p=>(m,h,d)=>ot(m,v=>p(v,h,d),!0)),"Array | Matrix, BigNumber, Unit":e.referToSelf(p=>(m,h,d)=>p(m,h.toNumber(),d)),"Array | Matrix, Unit":e.referToSelf(p=>(m,h)=>p(m,0,h)),"Array | Matrix":e.referToSelf(p=>m=>ot(m,p,!0)),"SparseMatrix, number | BigNumber":e.referToSelf(p=>(m,h)=>u(m,h,p,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(p=>(m,h)=>l(m,h,p,!1)),"Array, number | BigNumber":e.referToSelf(p=>(m,h)=>l(n(m),h,p,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":e.referToSelf(p=>(m,h)=>i(m,0)?a(h.size(),h.storage()):s(h,m,p,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":e.referToSelf(p=>(m,h)=>i(m,0)?a(h.size(),h.storage()):l(h,m,p,!0)),"number | Complex | BigNumber | Fraction, Array":e.referToSelf(p=>(m,h)=>l(n(h),m,p,!0).valueOf())})});var OM="log",AG=["config","typed","divideScalar","Complex"],$0=M(OM,AG,r=>{var{typed:e,config:t,divideScalar:n,Complex:i}=r;return e(OM,{number:function(o){return o>=0||t.predictable?LE(o):new i(o,0).log()},Complex:function(o){return o.log()},BigNumber:function(o){return!o.isNegative()||t.predictable?o.ln():new i(o.toNumber(),0).log()},"any, any":e.referToSelf(a=>(o,c)=>n(a(o),a(c)))})});var kM="log1p",EG=["typed","config","divideScalar","log","Complex"],H0=M(kM,EG,r=>{var{typed:e,config:t,divideScalar:n,log:i,Complex:a}=r;return e(kM,{number:function(u){return u>=-1||t.predictable?rp(u):o(new a(u,0))},Complex:o,BigNumber:function(u){var s=u.plus(1);return!s.isNegative()||t.predictable?s.ln():o(new a(u.toNumber(),0))},"Array | Matrix":e.referToSelf(c=>u=>ot(u,c)),"any, any":e.referToSelf(c=>(u,s)=>n(c(u),i(s)))});function o(c){var u=c.re+1;return new a(Math.log(Math.sqrt(u*u+c.im*c.im)),Math.atan2(c.im,u))}});var RM="nthRoots",TG=["config","typed","divideScalar","Complex"],G0=M(RM,TG,r=>{var{typed:e,config:t,divideScalar:n,Complex:i}=r,a=[function(u){return new i(u,0)},function(u){return new i(0,u)},function(u){return new i(-u,0)},function(u){return new i(0,-u)}];function o(c,u){if(u<0)throw new Error("Root must be greater than zero");if(u===0)throw new Error("Root must be non-zero");if(u%1!==0)throw new Error("Root must be an integer");if(c===0||c.abs()===0)return[new i(0,0)];var s=typeof c=="number",l;(s||c.re===0||c.im===0)&&(s?l=2*+(c<0):c.im===0?l=2*+(c.re<0):l=2*+(c.im<0)+1);for(var f=c.arg(),p=c.abs(),m=[],h=Math.pow(p,1/u),d=0;d<u;d++){var v=(l+4*d)/u;if(v===Math.round(v)){m.push(a[v%4](h));continue}m.push(new i({r:h,phi:(f+2*Math.PI*d)/u}))}return m}return e(RM,{Complex:function(u){return o(u,2)},"Complex, number":o})});var LM="dotPow",MG=["typed","equalScalar","matrix","pow","DenseMatrix","concat"],W0=M(LM,MG,r=>{var{typed:e,equalScalar:t,matrix:n,pow:i,DenseMatrix:a,concat:o}=r,c=_r({typed:e}),u=on({typed:e,DenseMatrix:a}),s=mr({typed:e,equalScalar:t}),l=rr({typed:e,DenseMatrix:a}),f=Nt({typed:e,matrix:n,concat:o}),p={};for(var m in i.signatures)Object.prototype.hasOwnProperty.call(i.signatures,m)&&!m.includes("Matrix")&&!m.includes("Array")&&(p[m]=i.signatures[m]);var h=e(p);return e(LM,f({elop:h,SS:u,DS:c,Ss:s,sS:l}))});var UM="dotDivide",CG=["typed","matrix","equalScalar","divideScalar","DenseMatrix","concat"],Y0=M(UM,CG,r=>{var{typed:e,matrix:t,equalScalar:n,divideScalar:i,DenseMatrix:a,concat:o}=r,c=Kr({typed:e,equalScalar:n}),u=_r({typed:e}),s=on({typed:e,DenseMatrix:a}),l=mr({typed:e,equalScalar:n}),f=rr({typed:e,DenseMatrix:a}),p=Nt({typed:e,matrix:t,concat:o});return e(UM,p({elop:i,SS:s,DS:u,SD:c,Ss:l,sS:f}))});function ya(r){var{DenseMatrix:e}=r;return function(n,i,a){var o=n.size();if(o.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+bt(o)+")");var c=o[0],u=o[1];if(c!==u)throw new RangeError("Matrix must be square (size: "+bt(o)+")");var s=[];if(rt(i)){var l=i.size(),f=i._data;if(l.length===1){if(l[0]!==c)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var p=0;p<c;p++)s[p]=[f[p]];return new e({data:s,size:[c,1],datatype:i._datatype})}if(l.length===2){if(l[0]!==c||l[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(os(i)){if(a){s=[];for(var m=0;m<c;m++)s[m]=[f[m][0]];return new e({data:s,size:[c,1],datatype:i._datatype})}return i}if(ea(i)){for(var h=0;h<c;h++)s[h]=[0];for(var d=i._values,v=i._index,y=i._ptr,S=y[1],b=y[0];b<S;b++){var w=v[b];s[w][0]=d[b]}return new e({data:s,size:[c,1],datatype:i._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(Gt(i)){var _=ht(i);if(_.length===1){if(_[0]!==c)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var x=0;x<c;x++)s[x]=[i[x]];return new e({data:s,size:[c,1]})}if(_.length===2){if(_[0]!==c||_[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var T=0;T<c;T++)s[T]=[i[T][0]];return new e({data:s,size:[c,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var VM="lsolve",FG=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],j0=M(VM,FG,r=>{var{typed:e,matrix:t,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:c}=r,u=ya({DenseMatrix:c});return e(VM,{"SparseMatrix, Array | Matrix":function(p,m){return l(p,m)},"DenseMatrix, Array | Matrix":function(p,m){return s(p,m)},"Array, Array | Matrix":function(p,m){var h=t(p),d=s(h,m);return d.valueOf()}});function s(f,p){p=u(f,p,!0);for(var m=p._data,h=f._size[0],d=f._size[1],v=[],y=f._data,S=0;S<d;S++){var b=m[S][0]||0,w=void 0;if(o(b,0))w=0;else{var _=y[S][S];if(o(_,0))throw new Error("Linear system cannot be solved since matrix is singular");w=n(b,_);for(var x=S+1;x<h;x++)m[x]=[a(m[x][0]||0,i(w,y[x][S]))]}v[S]=[w]}return new c({data:v,size:[h,1]})}function l(f,p){p=u(f,p,!0);for(var m=p._data,h=f._size[0],d=f._size[1],v=f._values,y=f._index,S=f._ptr,b=[],w=0;w<d;w++){var _=m[w][0]||0;if(o(_,0))b[w]=[0];else{for(var x=0,T=[],A=[],N=S[w],E=S[w+1],C=N;C<E;C++){var O=y[C];O===w?x=v[C]:O>w&&(T.push(v[C]),A.push(O))}if(o(x,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var U=n(_,x),q=0,L=A.length;q<L;q++){var P=A[q];m[P]=[a(m[P][0]||0,i(U,T[q]))]}b[w]=[U]}}return new c({data:b,size:[h,1]})}});var qM="usolve",IG=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],Z0=M(qM,IG,r=>{var{typed:e,matrix:t,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:c}=r,u=ya({DenseMatrix:c});return e(qM,{"SparseMatrix, Array | Matrix":function(p,m){return l(p,m)},"DenseMatrix, Array | Matrix":function(p,m){return s(p,m)},"Array, Array | Matrix":function(p,m){var h=t(p),d=s(h,m);return d.valueOf()}});function s(f,p){p=u(f,p,!0);for(var m=p._data,h=f._size[0],d=f._size[1],v=[],y=f._data,S=d-1;S>=0;S--){var b=m[S][0]||0,w=void 0;if(o(b,0))w=0;else{var _=y[S][S];if(o(_,0))throw new Error("Linear system cannot be solved since matrix is singular");w=n(b,_);for(var x=S-1;x>=0;x--)m[x]=[a(m[x][0]||0,i(w,y[x][S]))]}v[S]=[w]}return new c({data:v,size:[h,1]})}function l(f,p){p=u(f,p,!0);for(var m=p._data,h=f._size[0],d=f._size[1],v=f._values,y=f._index,S=f._ptr,b=[],w=d-1;w>=0;w--){var _=m[w][0]||0;if(o(_,0))b[w]=[0];else{for(var x=0,T=[],A=[],N=S[w],E=S[w+1],C=E-1;C>=N;C--){var O=y[C];O===w?x=v[C]:O<w&&(T.push(v[C]),A.push(O))}if(o(x,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var U=n(_,x),q=0,L=A.length;q<L;q++){var P=A[q];m[P]=[a(m[P][0],i(U,T[q]))]}b[w]=[U]}}return new c({data:b,size:[h,1]})}});var zM="lsolveAll",BG=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],J0=M(zM,BG,r=>{var{typed:e,matrix:t,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:c}=r,u=ya({DenseMatrix:c});return e(zM,{"SparseMatrix, Array | Matrix":function(p,m){return l(p,m)},"DenseMatrix, Array | Matrix":function(p,m){return s(p,m)},"Array, Array | Matrix":function(p,m){var h=t(p),d=s(h,m);return d.map(v=>v.valueOf())}});function s(f,p){for(var m=[u(f,p,!0)._data.map(A=>A[0])],h=f._data,d=f._size[0],v=f._size[1],y=0;y<v;y++)for(var S=m.length,b=0;b<S;b++){var w=m[b];if(o(h[y][y],0))if(o(w[y],0)){if(b===0){var x=[...w];x[y]=1;for(var T=y+1;T<v;T++)x[T]=a(x[T],h[T][y]);m.push(x)}}else{if(b===0)return[];m.splice(b,1),b-=1,S-=1}else{w[y]=n(w[y],h[y][y]);for(var _=y+1;_<v;_++)w[_]=a(w[_],i(w[y],h[_][y]))}}return m.map(A=>new c({data:A.map(N=>[N]),size:[d,1]}))}function l(f,p){for(var m=[u(f,p,!0)._data.map(ie=>ie[0])],h=f._size[0],d=f._size[1],v=f._values,y=f._index,S=f._ptr,b=0;b<d;b++)for(var w=m.length,_=0;_<w;_++){for(var x=m[_],T=[],A=[],N=S[b],E=S[b+1],C=0,O=N;O<E;O++){var U=y[O];U===b?C=v[O]:U>b&&(T.push(v[O]),A.push(U))}if(o(C,0))if(o(x[b],0)){if(_===0){var k=[...x];k[b]=1;for(var H=0,B=A.length;H<B;H++){var W=A[H];k[W]=a(k[W],T[H])}m.push(k)}}else{if(_===0)return[];m.splice(_,1),_-=1,w-=1}else{x[b]=n(x[b],C);for(var q=0,L=A.length;q<L;q++){var P=A[q];x[P]=a(x[P],i(x[b],T[q]))}}}return m.map(ie=>new c({data:ie.map(Q=>[Q]),size:[h,1]}))}});var $M="usolveAll",PG=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],X0=M($M,PG,r=>{var{typed:e,matrix:t,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:c}=r,u=ya({DenseMatrix:c});return e($M,{"SparseMatrix, Array | Matrix":function(p,m){return l(p,m)},"DenseMatrix, Array | Matrix":function(p,m){return s(p,m)},"Array, Array | Matrix":function(p,m){var h=t(p),d=s(h,m);return d.map(v=>v.valueOf())}});function s(f,p){for(var m=[u(f,p,!0)._data.map(A=>A[0])],h=f._data,d=f._size[0],v=f._size[1],y=v-1;y>=0;y--)for(var S=m.length,b=0;b<S;b++){var w=m[b];if(o(h[y][y],0))if(o(w[y],0)){if(b===0){var x=[...w];x[y]=1;for(var T=y-1;T>=0;T--)x[T]=a(x[T],h[T][y]);m.push(x)}}else{if(b===0)return[];m.splice(b,1),b-=1,S-=1}else{w[y]=n(w[y],h[y][y]);for(var _=y-1;_>=0;_--)w[_]=a(w[_],i(w[y],h[_][y]))}}return m.map(A=>new c({data:A.map(N=>[N]),size:[d,1]}))}function l(f,p){for(var m=[u(f,p,!0)._data.map(ie=>ie[0])],h=f._size[0],d=f._size[1],v=f._values,y=f._index,S=f._ptr,b=d-1;b>=0;b--)for(var w=m.length,_=0;_<w;_++){for(var x=m[_],T=[],A=[],N=S[b],E=S[b+1],C=0,O=E-1;O>=N;O--){var U=y[O];U===b?C=v[O]:U<b&&(T.push(v[O]),A.push(U))}if(o(C,0))if(o(x[b],0)){if(_===0){var k=[...x];k[b]=1;for(var H=0,B=A.length;H<B;H++){var W=A[H];k[W]=a(k[W],T[H])}m.push(k)}}else{if(_===0)return[];m.splice(_,1),_-=1,w-=1}else{x[b]=n(x[b],C);for(var q=0,L=A.length;q<L;q++){var P=A[q];x[P]=a(x[P],i(x[b],T[q]))}}}return m.map(ie=>new c({data:ie.map(Q=>[Q]),size:[h,1]}))}});var OG="matAlgo08xS0Sid",kG=["typed","equalScalar"],Du=M(OG,kG,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o){var c=i._values,u=i._index,s=i._ptr,l=i._size,f=i._datatype||i._data===void 0?i._datatype:i.getDataType(),p=a._values,m=a._index,h=a._ptr,d=a._size,v=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(l.length!==d.length)throw new wt(l.length,d.length);if(l[0]!==d[0]||l[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+d+")");if(!c||!p)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var y=l[0],S=l[1],b,w=t,_=0,x=o;typeof f=="string"&&f===v&&f!=="mixed"&&(b=f,w=e.find(t,[b,b]),_=e.convert(0,b),x=e.find(o,[b,b]));for(var T=[],A=[],N=[],E=[],C=[],O,U,q,L,P=0;P<S;P++){N[P]=A.length;var k=P+1;for(U=s[P],q=s[P+1],O=U;O<q;O++)L=u[O],C[L]=k,E[L]=c[O],A.push(L);for(U=h[P],q=h[P+1],O=U;O<q;O++)L=m[O],C[L]===k&&(E[L]=x(E[L],p[O]));for(O=N[P];O<A.length;){L=A[O];var H=E[L];w(H,_)?A.splice(O,1):(T.push(H),O++)}}return N[S]=A.length,i.createSparseMatrix({values:T,index:A,ptr:N,size:[y,S],datatype:f===i._datatype&&v===a._datatype?b:void 0})}});var Nu=M("useMatrixForArrayScalar",["typed","matrix"],r=>{var{typed:e,matrix:t}=r;return{"Array, number":e.referTo("DenseMatrix, number",n=>(i,a)=>n(t(i),a).valueOf()),"Array, BigNumber":e.referTo("DenseMatrix, BigNumber",n=>(i,a)=>n(t(i),a).valueOf()),"number, Array":e.referTo("number, DenseMatrix",n=>(i,a)=>n(i,t(a)).valueOf()),"BigNumber, Array":e.referTo("BigNumber, DenseMatrix",n=>(i,a)=>n(i,t(a)).valueOf())}});var HM="leftShift",RG=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],Q0=M(HM,RG,r=>{var{typed:e,matrix:t,equalScalar:n,zeros:i,DenseMatrix:a,concat:o}=r,c=Ln({typed:e}),u=Kr({typed:e,equalScalar:n}),s=Du({typed:e,equalScalar:n}),l=li({typed:e,DenseMatrix:a}),f=mr({typed:e,equalScalar:n}),p=Qr({typed:e}),m=Nt({typed:e,matrix:t,concat:o}),h=Nu({typed:e,matrix:t});return e(HM,{"number, number":Sv,"BigNumber, BigNumber":PT,"SparseMatrix, number | BigNumber":e.referToSelf(d=>(v,y)=>n(y,0)?v.clone():f(v,y,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(v,y)=>n(y,0)?v.clone():p(v,y,d,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(d=>(v,y)=>n(v,0)?i(y.size(),y.storage()):l(y,v,d,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(d=>(v,y)=>n(v,0)?i(y.size(),y.storage()):p(y,v,d,!0))},h,m({SS:s,DS:c,SD:u}))});var GM="rightArithShift",LG=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],K0=M(GM,LG,r=>{var{typed:e,matrix:t,equalScalar:n,zeros:i,DenseMatrix:a,concat:o}=r,c=Ln({typed:e}),u=Kr({typed:e,equalScalar:n}),s=Du({typed:e,equalScalar:n}),l=li({typed:e,DenseMatrix:a}),f=mr({typed:e,equalScalar:n}),p=Qr({typed:e}),m=Nt({typed:e,matrix:t,concat:o}),h=Nu({typed:e,matrix:t});return e(GM,{"number, number":Dv,"BigNumber, BigNumber":OT,"SparseMatrix, number | BigNumber":e.referToSelf(d=>(v,y)=>n(y,0)?v.clone():f(v,y,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(v,y)=>n(y,0)?v.clone():p(v,y,d,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(d=>(v,y)=>n(v,0)?i(y.size(),y.storage()):l(y,v,d,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(d=>(v,y)=>n(v,0)?i(y.size(),y.storage()):p(y,v,d,!0))},h,m({SS:s,DS:c,SD:u}))});var WM="rightLogShift",UG=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],eb=M(WM,UG,r=>{var{typed:e,matrix:t,equalScalar:n,zeros:i,DenseMatrix:a,concat:o}=r,c=Ln({typed:e}),u=Kr({typed:e,equalScalar:n}),s=Du({typed:e,equalScalar:n}),l=li({typed:e,DenseMatrix:a}),f=mr({typed:e,equalScalar:n}),p=Qr({typed:e}),m=Nt({typed:e,matrix:t,concat:o}),h=Nu({typed:e,matrix:t});return e(WM,{"number, number":Nv,"SparseMatrix, number | BigNumber":e.referToSelf(d=>(v,y)=>n(y,0)?v.clone():f(v,y,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(v,y)=>n(y,0)?v.clone():p(v,y,d,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(d=>(v,y)=>n(v,0)?i(y.size(),y.storage()):l(y,v,d,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(d=>(v,y)=>n(v,0)?i(y.size(),y.storage()):p(y,v,d,!0))},h,m({SS:s,DS:c,SD:u}))});var YM="and",VG=["typed","matrix","equalScalar","zeros","not","concat"],Hl=M(YM,VG,r=>{var{typed:e,matrix:t,equalScalar:n,zeros:i,not:a,concat:o}=r,c=Kr({typed:e,equalScalar:n}),u=No({typed:e,equalScalar:n}),s=mr({typed:e,equalScalar:n}),l=Qr({typed:e}),f=Nt({typed:e,matrix:t,concat:o});return e(YM,{"number, number":Fv,"Complex, Complex":function(m,h){return(m.re!==0||m.im!==0)&&(h.re!==0||h.im!==0)},"BigNumber, BigNumber":function(m,h){return!m.isZero()&&!h.isZero()&&!m.isNaN()&&!h.isNaN()},"Unit, Unit":e.referToSelf(p=>(m,h)=>p(m.value||0,h.value||0)),"SparseMatrix, any":e.referToSelf(p=>(m,h)=>a(h)?i(m.size(),m.storage()):s(m,h,p,!1)),"DenseMatrix, any":e.referToSelf(p=>(m,h)=>a(h)?i(m.size(),m.storage()):l(m,h,p,!1)),"any, SparseMatrix":e.referToSelf(p=>(m,h)=>a(m)?i(m.size(),m.storage()):s(h,m,p,!0)),"any, DenseMatrix":e.referToSelf(p=>(m,h)=>a(m)?i(m.size(),m.storage()):l(h,m,p,!0)),"Array, any":e.referToSelf(p=>(m,h)=>p(t(m),h).valueOf()),"any, Array":e.referToSelf(p=>(m,h)=>p(m,t(h)).valueOf())},f({SS:u,DS:c}))});var Mp="compare",qG=["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],tb=M(Mp,qG,r=>{var{typed:e,config:t,equalScalar:n,matrix:i,BigNumber:a,Fraction:o,DenseMatrix:c,concat:u}=r,s=_r({typed:e}),l=Do({typed:e,equalScalar:n}),f=rr({typed:e,DenseMatrix:c}),p=Nt({typed:e,matrix:i,concat:u}),m=Vi({typed:e});return e(Mp,zG({typed:e,config:t}),{"boolean, boolean":function(d,v){return d===v?0:d>v?1:-1},"BigNumber, BigNumber":function(d,v){return nn(d,v,t.epsilon)?new a(0):new a(d.cmp(v))},"Fraction, Fraction":function(d,v){return new o(d.compare(v))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},m,p({SS:l,DS:s,Ss:f}))}),zG=M(Mp,["typed","config"],r=>{var{typed:e,config:t}=r;return e(Mp,{"number, number":function(i,a){return Rr(i,a,t.epsilon)?0:i>a?1:-1}})});var ds=dr(ZM(),1);var JM="compareNatural",$G=["typed","compare"],rb=M(JM,$G,r=>{var{typed:e,compare:t}=r,n=t.signatures["boolean,boolean"];return e(JM,{"any, any":i});function i(u,s){var l=$t(u),f=$t(s),p;if((l==="number"||l==="BigNumber"||l==="Fraction")&&(f==="number"||f==="BigNumber"||f==="Fraction"))return p=t(u,s),p.toString()!=="0"?p>0?1:-1:(0,ds.default)(l,f);var m=["Array","DenseMatrix","SparseMatrix"];if(m.includes(l)||m.includes(f))return p=a(i,u,s),p!==0?p:(0,ds.default)(l,f);if(l!==f)return(0,ds.default)(l,f);if(l==="Complex")return HG(u,s);if(l==="Unit")return u.equalBase(s)?i(u.value,s.value):o(i,u.formatUnits(),s.formatUnits());if(l==="boolean")return n(u,s);if(l==="string")return(0,ds.default)(u,s);if(l==="Object")return c(i,u,s);if(l==="null"||l==="undefined")return 0;throw new TypeError('Unsupported type of value "'+l+'"')}function a(u,s,l){return ea(s)&&ea(l)?o(u,s.toJSON().values,l.toJSON().values):ea(s)?a(u,s.toArray(),l):ea(l)?a(u,s,l.toArray()):os(s)?a(u,s.toJSON().data,l):os(l)?a(u,s,l.toJSON().data):Array.isArray(s)?Array.isArray(l)?o(u,s,l):a(u,s,[l]):a(u,[s],l)}function o(u,s,l){for(var f=0,p=Math.min(s.length,l.length);f<p;f++){var m=u(s[f],l[f]);if(m!==0)return m}return s.length>l.length?1:s.length<l.length?-1:0}function c(u,s,l){var f=Object.keys(s),p=Object.keys(l);f.sort(ds.default),p.sort(ds.default);var m=o(u,f,p);if(m!==0)return m;for(var h=0;h<f.length;h++){var d=u(s[f[h]],l[p[h]]);if(d!==0)return d}return 0}});function HG(r,e){return r.re>e.re?1:r.re<e.re?-1:r.im>e.im?1:r.im<e.im?-1:0}var XM="compareText",GG=["typed","matrix","concat"];op.signature="any, any";var nb=M(XM,GG,r=>{var{typed:e,matrix:t,concat:n}=r,i=Nt({typed:e,matrix:t,concat:n});return e(XM,op,i({elop:op,Ds:!0}))});var Cp="equal",WG=["typed","matrix","equalScalar","DenseMatrix","concat"],ib=M(Cp,WG,r=>{var{typed:e,matrix:t,equalScalar:n,DenseMatrix:i,concat:a}=r,o=_r({typed:e}),c=on({typed:e,DenseMatrix:i}),u=rr({typed:e,DenseMatrix:i}),s=Nt({typed:e,matrix:t,concat:a});return e(Cp,YG({typed:e,equalScalar:n}),s({elop:n,SS:c,DS:o,Ss:u}))}),YG=M(Cp,["typed","equalScalar"],r=>{var{typed:e,equalScalar:t}=r;return e(Cp,{"any, any":function(i,a){return i===null?a===null:a===null?i===null:i===void 0?a===void 0:a===void 0?i===void 0:t(i,a)}})});var QM="equalText",jG=["typed","compareText","isZero"],ab=M(QM,jG,r=>{var{typed:e,compareText:t,isZero:n}=r;return e(QM,{"any, any":function(a,o){return n(t(a,o))}})});var Fp="smaller",ZG=["typed","config","matrix","DenseMatrix","concat"],ob=M(Fp,ZG,r=>{var{typed:e,config:t,matrix:n,DenseMatrix:i,concat:a}=r,o=_r({typed:e}),c=on({typed:e,DenseMatrix:i}),u=rr({typed:e,DenseMatrix:i}),s=Nt({typed:e,matrix:n,concat:a}),l=Vi({typed:e});return e(Fp,JG({typed:e,config:t}),{"boolean, boolean":(f,p)=>f<p,"BigNumber, BigNumber":function(p,m){return p.lt(m)&&!nn(p,m,t.epsilon)},"Fraction, Fraction":(f,p)=>f.compare(p)===-1,"Complex, Complex":function(p,m){throw new TypeError("No ordering relation is defined for complex numbers")}},l,s({SS:c,DS:o,Ss:u}))}),JG=M(Fp,["typed","config"],r=>{var{typed:e,config:t}=r;return e(Fp,{"number, number":function(i,a){return i<a&&!Rr(i,a,t.epsilon)}})});var Ip="smallerEq",XG=["typed","config","matrix","DenseMatrix","concat"],sb=M(Ip,XG,r=>{var{typed:e,config:t,matrix:n,DenseMatrix:i,concat:a}=r,o=_r({typed:e}),c=on({typed:e,DenseMatrix:i}),u=rr({typed:e,DenseMatrix:i}),s=Nt({typed:e,matrix:n,concat:a}),l=Vi({typed:e});return e(Ip,QG({typed:e,config:t}),{"boolean, boolean":(f,p)=>f<=p,"BigNumber, BigNumber":function(p,m){return p.lte(m)||nn(p,m,t.epsilon)},"Fraction, Fraction":(f,p)=>f.compare(p)!==1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},l,s({SS:c,DS:o,Ss:u}))}),QG=M(Ip,["typed","config"],r=>{var{typed:e,config:t}=r;return e(Ip,{"number, number":function(i,a){return i<=a||Rr(i,a,t.epsilon)}})});var Bp="larger",KG=["typed","config","matrix","DenseMatrix","concat"],ub=M(Bp,KG,r=>{var{typed:e,config:t,matrix:n,DenseMatrix:i,concat:a}=r,o=_r({typed:e}),c=on({typed:e,DenseMatrix:i}),u=rr({typed:e,DenseMatrix:i}),s=Nt({typed:e,matrix:n,concat:a}),l=Vi({typed:e});return e(Bp,eW({typed:e,config:t}),{"boolean, boolean":(f,p)=>f>p,"BigNumber, BigNumber":function(p,m){return p.gt(m)&&!nn(p,m,t.epsilon)},"Fraction, Fraction":(f,p)=>f.compare(p)===1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},l,s({SS:c,DS:o,Ss:u}))}),eW=M(Bp,["typed","config"],r=>{var{typed:e,config:t}=r;return e(Bp,{"number, number":function(i,a){return i>a&&!Rr(i,a,t.epsilon)}})});var Pp="largerEq",tW=["typed","config","matrix","DenseMatrix","concat"],lb=M(Pp,tW,r=>{var{typed:e,config:t,matrix:n,DenseMatrix:i,concat:a}=r,o=_r({typed:e}),c=on({typed:e,DenseMatrix:i}),u=rr({typed:e,DenseMatrix:i}),s=Nt({typed:e,matrix:n,concat:a}),l=Vi({typed:e});return e(Pp,rW({typed:e,config:t}),{"boolean, boolean":(f,p)=>f>=p,"BigNumber, BigNumber":function(p,m){return p.gte(m)||nn(p,m,t.epsilon)},"Fraction, Fraction":(f,p)=>f.compare(p)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},l,s({SS:c,DS:o,Ss:u}))}),rW=M(Pp,["typed","config"],r=>{var{typed:e,config:t}=r;return e(Pp,{"number, number":function(i,a){return i>=a||Rr(i,a,t.epsilon)}})});var KM="deepEqual",nW=["typed","equal"],cb=M(KM,nW,r=>{var{typed:e,equal:t}=r;return e(KM,{"any, any":function(a,o){return n(a.valueOf(),o.valueOf())}});function n(i,a){if(Array.isArray(i))if(Array.isArray(a)){var o=i.length;if(o!==a.length)return!1;for(var c=0;c<o;c++)if(!n(i[c],a[c]))return!1;return!0}else return!1;else return Array.isArray(a)?!1:t(i,a)}});var Op="unequal",iW=["typed","config","equalScalar","matrix","DenseMatrix","concat"],fb=M(Op,iW,r=>{var{typed:e,config:t,equalScalar:n,matrix:i,DenseMatrix:a,concat:o}=r,c=_r({typed:e}),u=on({typed:e,DenseMatrix:a}),s=rr({typed:e,DenseMatrix:a}),l=Nt({typed:e,matrix:i,concat:o});return e(Op,aW({typed:e,equalScalar:n}),l({elop:f,SS:u,DS:c,Ss:s}));function f(p,m){return!n(p,m)}}),aW=M(Op,["typed","equalScalar"],r=>{var{typed:e,equalScalar:t}=r;return e(Op,{"any, any":function(i,a){return i===null?a!==null:a===null?i!==null:i===void 0?a!==void 0:a===void 0?i!==void 0:!t(i,a)}})});var eC="partitionSelect",oW=["typed","isNumeric","isNaN","compare"],pb=M(eC,oW,r=>{var{typed:e,isNumeric:t,isNaN:n,compare:i}=r,a=i,o=(s,l)=>-i(s,l);return e(eC,{"Array | Matrix, number":function(l,f){return c(l,f,a)},"Array | Matrix, number, string":function(l,f,p){if(p==="asc")return c(l,f,a);if(p==="desc")return c(l,f,o);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":c});function c(s,l,f){if(!Xe(l)||l<0)throw new Error("k must be a non-negative integer");if(rt(s)){var p=s.size();if(p.length>1)throw new Error("Only one dimensional matrices supported");return u(s.valueOf(),l,f)}if(Array.isArray(s))return u(s,l,f)}function u(s,l,f){if(l>=s.length)throw new Error("k out of bounds");for(var p=0;p<s.length;p++)if(t(s[p])&&n(s[p]))return s[p];for(var m=0,h=s.length-1;m<h;){for(var d=m,v=h,y=s[Math.floor(Math.random()*(h-m+1))+m];d<v;)if(f(s[d],y)>=0){var S=s[v];s[v]=s[d],s[d]=S,--v}else++d;f(s[d],y)>0&&--d,l<=d?h=d:m=d+1}return s[l]}});var tC="sort",sW=["typed","matrix","compare","compareNatural"],mb=M(tC,sW,r=>{var{typed:e,matrix:t,compare:n,compareNatural:i}=r,a=n,o=(l,f)=>-n(l,f);return e(tC,{Array:function(f){return u(f),f.sort(a)},Matrix:function(f){return s(f),t(f.toArray().sort(a),f.storage())},"Array, function":function(f,p){return u(f),f.sort(p)},"Matrix, function":function(f,p){return s(f),t(f.toArray().sort(p),f.storage())},"Array, string":function(f,p){return u(f),f.sort(c(p))},"Matrix, string":function(f,p){return s(f),t(f.toArray().sort(c(p)),f.storage())}});function c(l){if(l==="asc")return a;if(l==="desc")return o;if(l==="natural")return i;throw new Error('String "asc", "desc", or "natural" expected')}function u(l){if(ht(l).length!==1)throw new Error("One dimensional array expected")}function s(l){if(l.size().length!==1)throw new Error("One dimensional matrix expected")}});var rC="max",uW=["typed","config","numeric","larger"],Gl=M(rC,uW,r=>{var{typed:e,config:t,numeric:n,larger:i}=r;return e(rC,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(u,s){return So(u,s.valueOf(),a)},"...":function(u){if(Ui(u))throw new TypeError("Scalar values expected in function max");return o(u)}});function a(c,u){try{return i(c,u)?c:u}catch(s){throw zr(s,"max",u)}}function o(c){var u;if(Rn(c,function(s){try{isNaN(s)&&typeof s=="number"?u=NaN:(u===void 0||i(s,u))&&(u=s)}catch(l){throw zr(l,"max",s)}}),u===void 0)throw new Error("Cannot calculate max of an empty array");return typeof u=="string"&&(u=n(u,t.number)),u}});var nC="min",lW=["typed","config","numeric","smaller"],Wl=M(nC,lW,r=>{var{typed:e,config:t,numeric:n,smaller:i}=r;return e(nC,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(u,s){return So(u,s.valueOf(),a)},"...":function(u){if(Ui(u))throw new TypeError("Scalar values expected in function min");return o(u)}});function a(c,u){try{return i(c,u)?c:u}catch(s){throw zr(s,"min",u)}}function o(c){var u;if(Rn(c,function(s){try{isNaN(s)&&typeof s=="number"?u=NaN:(u===void 0||i(s,u))&&(u=s)}catch(l){throw zr(l,"min",s)}}),u===void 0)throw new Error("Cannot calculate min of an empty array");return typeof u=="string"&&(u=n(u,t.number)),u}});var cW="ImmutableDenseMatrix",fW=["smaller","DenseMatrix"],db=M(cW,fW,r=>{var{smaller:e,DenseMatrix:t}=r;function n(i,a){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(a&&!Vr(a))throw new Error("Invalid datatype: "+a);if(rt(i)||Gt(i)){var o=new t(i,a);this._data=o._data,this._size=o._size,this._datatype=o._datatype,this._min=null,this._max=null}else if(i&&Gt(i.data)&&Gt(i.size))this._data=i.data,this._size=i.size,this._datatype=i.datatype,this._min=typeof i.min!="undefined"?i.min:null,this._max=typeof i.max!="undefined"?i.max:null;else{if(i)throw new TypeError("Unsupported type of data ("+$t(i)+")");this._data=[],this._size=[0],this._datatype=a,this._min=null,this._max=null}}return n.prototype=new t,n.prototype.type="ImmutableDenseMatrix",n.prototype.isImmutableDenseMatrix=!0,n.prototype.subset=function(i){switch(arguments.length){case 1:{var a=t.prototype.subset.call(this,i);return rt(a)?new n({data:a._data,size:a._size,datatype:a._datatype}):a}case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},n.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},n.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},n.prototype.clone=function(){return new n({data:pt(this._data),size:pt(this._size),datatype:this._datatype})},n.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.fromJSON=function(i){return new n(i)},n.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},n.prototype.min=function(){if(this._min===null){var i=null;this.forEach(function(a){(i===null||e(a,i))&&(i=a)}),this._min=i!==null?i:void 0}return this._min},n.prototype.max=function(){if(this._max===null){var i=null;this.forEach(function(a){(i===null||e(i,a))&&(i=a)}),this._max=i!==null?i:void 0}return this._max},n},{isClass:!0});var pW="Index",mW=["ImmutableDenseMatrix","getMatrixDataType"],hb=M(pW,mW,r=>{var{ImmutableDenseMatrix:e,getMatrixDataType:t}=r;function n(a){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var o=0,c=arguments.length;o<c;o++){var u=arguments[o],s=Gt(u),l=rt(u),f=null;if(su(u))this._dimensions.push(u),this._isScalar=!1;else if(s||l){var p=void 0;t(u)==="boolean"?(s&&(p=i(iC(u).valueOf())),l&&(p=i(iC(u._data).valueOf())),f=u.valueOf().length):p=i(u.valueOf()),this._dimensions.push(p);var m=p.size();(m.length!==1||m[0]!==1||f!==null)&&(this._isScalar=!1)}else if(typeof u=="number")this._dimensions.push(i([u]));else if(typeof u=="string")this._dimensions.push(u);else throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._sourceSize.push(f)}}n.prototype.type="Index",n.prototype.isIndex=!0;function i(a){for(var o=0,c=a.length;o<c;o++)if(typeof a[o]!="number"||!Xe(a[o]))throw new TypeError("Index parameters must be positive integer numbers");return new e(a)}return n.prototype.clone=function(){var a=new n;return a._dimensions=pt(this._dimensions),a._isScalar=this._isScalar,a._sourceSize=this._sourceSize,a},n.create=function(a){var o=new n;return n.apply(o,a),o},n.prototype.size=function(){for(var a=[],o=0,c=this._dimensions.length;o<c;o++){var u=this._dimensions[o];a[o]=typeof u=="string"?1:u.size()[0]}return a},n.prototype.max=function(){for(var a=[],o=0,c=this._dimensions.length;o<c;o++){var u=this._dimensions[o];a[o]=typeof u=="string"?u:u.max()}return a},n.prototype.min=function(){for(var a=[],o=0,c=this._dimensions.length;o<c;o++){var u=this._dimensions[o];a[o]=typeof u=="string"?u:u.min()}return a},n.prototype.forEach=function(a){for(var o=0,c=this._dimensions.length;o<c;o++)a(this._dimensions[o],o,this)},n.prototype.dimension=function(a){return this._dimensions[a]||null},n.prototype.isObjectProperty=function(){return this._dimensions.length===1&&typeof this._dimensions[0]=="string"},n.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},n.prototype.isScalar=function(){return this._isScalar},n.prototype.toArray=function(){for(var a=[],o=0,c=this._dimensions.length;o<c;o++){var u=this._dimensions[o];a.push(typeof u=="string"?u:u.toArray())}return a},n.prototype.valueOf=n.prototype.toArray,n.prototype.toString=function(){for(var a=[],o=0,c=this._dimensions.length;o<c;o++){var u=this._dimensions[o];typeof u=="string"?a.push(JSON.stringify(u)):a.push(u.toString())}return"["+a.join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},n.fromJSON=function(a){return n.create(a.dimensions)},n},{isClass:!0});function iC(r){var e=[];return r.forEach((t,n)=>{t&&e.push(n)}),e}var dW="FibonacciHeap",hW=["smaller","larger"],gb=M(dW,hW,r=>{var{smaller:e,larger:t}=r,n=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(l,f){var p={key:l,value:f,degree:0};if(this._minimum){var m=this._minimum;p.left=m,p.right=m.right,m.right=p,p.right.left=p,e(l,m.key)&&(this._minimum=p)}else p.left=p,p.right=p,this._minimum=p;return this._size++,p},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return this._size===0},i.prototype.extractMinimum=function(){var l=this._minimum;if(l===null)return l;for(var f=this._minimum,p=l.degree,m=l.child;p>0;){var h=m.right;m.left.right=m.right,m.right.left=m.left,m.left=f,m.right=f.right,f.right=m,m.right.left=m,m.parent=null,m=h,p--}return l.left.right=l.right,l.right.left=l.left,l===l.right?f=null:(f=l.right,f=s(f,this._size)),this._size--,this._minimum=f,l},i.prototype.remove=function(l){this._minimum=a(this._minimum,l,-1),this.extractMinimum()};function a(l,f,p){f.key=p;var m=f.parent;return m&&e(f.key,m.key)&&(o(l,f,m),c(l,m)),e(f.key,l.key)&&(l=f),l}function o(l,f,p){f.left.right=f.right,f.right.left=f.left,p.degree--,p.child===f&&(p.child=f.right),p.degree===0&&(p.child=null),f.left=l,f.right=l.right,l.right=f,f.right.left=f,f.parent=null,f.mark=!1}function c(l,f){var p=f.parent;p&&(f.mark?(o(l,f,p),c(p)):f.mark=!0)}var u=function(f,p){f.left.right=f.right,f.right.left=f.left,f.parent=p,p.child?(f.left=p.child,f.right=p.child.right,p.child.right=f,f.right.left=f):(p.child=f,f.right=f,f.left=f),p.degree++,f.mark=!1};function s(l,f){var p=Math.floor(Math.log(f)*n)+1,m=new Array(p),h=0,d=l;if(d)for(h++,d=d.right;d!==l;)h++,d=d.right;for(var v;h>0;){for(var y=d.degree,S=d.right;v=m[y],!!v;){if(t(d.key,v.key)){var b=v;v=d,d=b}u(v,d),m[y]=null,y++}m[y]=d,d=S,h--}l=null;for(var w=0;w<p;w++)v=m[w],v&&(l?(v.left.right=v.right,v.right.left=v.left,v.left=l,v.right=l.right,l.right=v,v.right.left=v,e(v.key,l.key)&&(l=v)):l=v);return l}return i},{isClass:!0});var gW="Spa",vW=["addScalar","equalScalar","FibonacciHeap"],vb=M(gW,vW,r=>{var{addScalar:e,equalScalar:t,FibonacciHeap:n}=r;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new n}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(a,o){if(this._values[a])this._values[a].value=o;else{var c=this._heap.insert(a,o);this._values[a]=c}},i.prototype.get=function(a){var o=this._values[a];return o?o.value:0},i.prototype.accumulate=function(a,o){var c=this._values[a];c?c.value=e(c.value,o):(c=this._heap.insert(a,o),this._values[a]=c)},i.prototype.forEach=function(a,o,c){var u=this._heap,s=this._values,l=[],f=u.extractMinimum();for(f&&l.push(f);f&&f.key<=o;)f.key>=a&&(t(f.value,0)||c(f.key,f.value,this)),f=u.extractMinimum(),f&&l.push(f);for(var p=0;p<l.length;p++){var m=l[p];f=u.insert(m.key,m.value),s[f.key]=f}},i.prototype.swap=function(a,o){var c=this._values[a],u=this._values[o];if(!c&&u)c=this._heap.insert(a,u.value),this._heap.remove(u),this._values[a]=c,this._values[o]=void 0;else if(c&&!u)u=this._heap.insert(o,c.value),this._heap.remove(c),this._values[o]=u,this._values[a]=void 0;else if(c&&u){var s=c.value;c.value=u.value,u.value=s}},i},{isClass:!0});var aC=fs(function(r){return new r(1).exp()},{hasher:kp}),oC=fs(function(r){return new r(1).plus(new r(5).sqrt()).div(2)},{hasher:kp}),Yl=fs(function(r){return r.acos(-1)},{hasher:kp}),sC=fs(function(r){return Yl(r).times(2)},{hasher:kp});function kp(r){return r[0].precision}function uC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function yb(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?uC(Object(t),!0).forEach(function(n){nr(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):uC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var yW="Unit",bW=["?on","config","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],bb=M(yW,bW,r=>{var{on:e,config:t,addScalar:n,subtractScalar:i,multiplyScalar:a,divideScalar:o,pow:c,abs:u,fix:s,round:l,equal:f,isNumeric:p,format:m,number:h,Complex:d,BigNumber:v,Fraction:y}=r,S=h;function b(Y,K){if(!(this instanceof b))throw new Error("Constructor must be called with the new operator");if(!(Y==null||p(Y)||Xn(Y)))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(this.fixPrefix=!1,this.skipAutomaticSimplification=!0,K===void 0)this.units=[],this.dimensions=H.map(J=>0);else if(typeof K=="string"){var ve=b.parse(K);this.units=ve.units,this.dimensions=ve.dimensions}else if(An(K)&&K.value===null)this.fixPrefix=K.fixPrefix,this.skipAutomaticSimplification=K.skipAutomaticSimplification,this.dimensions=K.dimensions.slice(0),this.units=K.units.map(J=>Cr({},J));else throw new TypeError("Second parameter in Unit constructor must be a string or valueless Unit");this.value=this._normalize(Y)}Object.defineProperty(b,"name",{value:"Unit"}),b.prototype.constructor=b,b.prototype.type="Unit",b.prototype.isUnit=!0;var w,_,x;function T(){for(;x===" "||x==="	";)E()}function A(Y){return Y>="0"&&Y<="9"||Y==="."}function N(Y){return Y>="0"&&Y<="9"}function E(){_++,x=w.charAt(_)}function C(Y){_=Y,x=w.charAt(_)}function O(){var Y="",K=_;if(x==="+"?E():x==="-"&&(Y+=x,E()),!A(x))return C(K),null;if(x==="."){if(Y+=x,E(),!N(x))return C(K),null}else{for(;N(x);)Y+=x,E();x==="."&&(Y+=x,E())}for(;N(x);)Y+=x,E();if(x==="E"||x==="e"){var ve="",J=_;if(ve+=x,E(),(x==="+"||x==="-")&&(ve+=x,E()),!N(x))return C(J),Y;for(Y=Y+ve;N(x);)Y+=x,E()}return Y}function U(){for(var Y="";N(x)||b.isValidAlpha(x);)Y+=x,E();var K=Y.charAt(0);return b.isValidAlpha(K)?Y:null}function q(Y){return x===Y?(E(),Y):null}b.parse=function(Y,K){if(K=K||{},w=Y,_=-1,x="",typeof w!="string")throw new TypeError("Invalid argument in Unit.parse, string expected");var ve=new b;ve.units=[];var J=1,te=!1;E(),T();var se=O(),De=null;if(se){if(t.number==="BigNumber")De=new v(se);else if(t.number==="Fraction")try{De=new y(se)}catch(be){De=parseFloat(se)}else De=parseFloat(se);T(),q("*")?(J=1,te=!0):q("/")&&(J=-1,te=!0)}for(var Ne=[],Ge=1;;){for(T();x==="(";)Ne.push(J),Ge*=J,J=1,E(),T();var Ae=void 0;if(x){var xt=x;if(Ae=U(),Ae===null)throw new SyntaxError('Unexpected "'+xt+'" in "'+w+'" at index '+_.toString())}else break;var At=L(Ae);if(At===null)throw new SyntaxError('Unit "'+Ae+'" not found.');var ye=J*Ge;if(T(),q("^")){T();var Ue=O();if(Ue===null)throw new SyntaxError('In "'+Y+'", "^" must be followed by a floating-point number');ye*=Ue}ve.units.push({unit:At.unit,prefix:At.prefix,power:ye});for(var X=0;X<H.length;X++)ve.dimensions[X]+=(At.unit.dimensions[X]||0)*ye;for(T();x===")";){if(Ne.length===0)throw new SyntaxError('Unmatched ")" in "'+w+'" at index '+_.toString());Ge/=Ne.pop(),E(),T()}if(te=!1,q("*")?(J=1,te=!0):q("/")?(J=-1,te=!0):J=1,At.unit.base){var ce=At.unit.base.key;fe.auto[ce]={unit:At.unit,prefix:At.prefix}}}if(T(),x)throw new SyntaxError('Could not parse: "'+Y+'"');if(te)throw new SyntaxError('Trailing characters: "'+Y+'"');if(Ne.length!==0)throw new SyntaxError('Unmatched "(" in "'+w+'"');if(ve.units.length===0&&!K.allowNoUnits)throw new SyntaxError('"'+Y+'" contains no units');return ve.value=De!==void 0?ve._normalize(De):null,ve},b.prototype.clone=function(){var Y=new b;Y.fixPrefix=this.fixPrefix,Y.skipAutomaticSimplification=this.skipAutomaticSimplification,Y.value=pt(this.value),Y.dimensions=this.dimensions.slice(0),Y.units=[];for(var K=0;K<this.units.length;K++){Y.units[K]={};for(var ve in this.units[K])at(this.units[K],ve)&&(Y.units[K][ve]=this.units[K][ve])}return Y},b.prototype.valueType=function(){return $t(this.value)},b.prototype._isDerived=function(){return this.units.length===0?!1:this.units.length>1||Math.abs(this.units[0].power-1)>1e-15},b.prototype._normalize=function(Y){if(Y==null||this.units.length===0)return Y;for(var K=Y,ve=b._getNumberConverter($t(Y)),J=0;J<this.units.length;J++){var te=ve(this.units[J].unit.value),se=ve(this.units[J].prefix.value),De=ve(this.units[J].power);K=a(K,c(a(te,se),De))}return K},b.prototype._denormalize=function(Y,K){if(Y==null||this.units.length===0)return Y;for(var ve=Y,J=b._getNumberConverter($t(Y)),te=0;te<this.units.length;te++){var se=J(this.units[te].unit.value),De=J(this.units[te].prefix.value),Ne=J(this.units[te].power);ve=o(ve,c(a(se,De),Ne))}return ve};var L=fs(Y=>{if(at(V,Y)){var K=V[Y],ve=K.prefixes[""];return{unit:K,prefix:ve}}for(var J in V)if(at(V,J)&&nE(Y,J)){var te=V[J],se=Y.length-J.length,De=Y.substring(0,se),Ne=at(te.prefixes,De)?te.prefixes[De]:void 0;if(Ne!==void 0)return{unit:te,prefix:Ne}}return null},{hasher:Y=>Y[0],limit:100});b.isValuelessUnit=function(Y){return L(Y)!==null},b.prototype.hasBase=function(Y){if(typeof Y=="string"&&(Y=B[Y]),!Y)return!1;for(var K=0;K<H.length;K++)if(Math.abs((this.dimensions[K]||0)-(Y.dimensions[K]||0))>1e-12)return!1;return!0},b.prototype.equalBase=function(Y){for(var K=0;K<H.length;K++)if(Math.abs((this.dimensions[K]||0)-(Y.dimensions[K]||0))>1e-12)return!1;return!0},b.prototype.equals=function(Y){return this.equalBase(Y)&&f(this.value,Y.value)},b.prototype.multiply=function(Y){for(var K=this.clone(),ve=An(Y)?Y:new b(Y),J=0;J<H.length;J++)K.dimensions[J]=(this.dimensions[J]||0)+(ve.dimensions[J]||0);for(var te=0;te<ve.units.length;te++){var se=yb({},ve.units[te]);K.units.push(se)}if(this.value!==null||ve.value!==null){var De=this.value===null?this._normalize(1):this.value,Ne=ve.value===null?ve._normalize(1):ve.value;K.value=a(De,Ne)}else K.value=null;return An(Y)&&(K.skipAutomaticSimplification=!1),P(K)},b.prototype.divideInto=function(Y){return new b(Y).divide(this)},b.prototype.divide=function(Y){for(var K=this.clone(),ve=An(Y)?Y:new b(Y),J=0;J<H.length;J++)K.dimensions[J]=(this.dimensions[J]||0)-(ve.dimensions[J]||0);for(var te=0;te<ve.units.length;te++){var se=yb(yb({},ve.units[te]),{},{power:-ve.units[te].power});K.units.push(se)}if(this.value!==null||ve.value!==null){var De=this.value===null?this._normalize(1):this.value,Ne=ve.value===null?ve._normalize(1):ve.value;K.value=o(De,Ne)}else K.value=null;return An(Y)&&(K.skipAutomaticSimplification=!1),P(K)},b.prototype.pow=function(Y){for(var K=this.clone(),ve=0;ve<H.length;ve++)K.dimensions[ve]=(this.dimensions[ve]||0)*Y;for(var J=0;J<K.units.length;J++)K.units[J].power*=Y;return K.value!==null?K.value=c(K.value,Y):K.value=null,K.skipAutomaticSimplification=!1,P(K)};function P(Y){return Y.equalBase(B.NONE)&&Y.value!==null&&!t.predictable?Y.value:Y}b.prototype.abs=function(){var Y=this.clone();if(Y.value!==null)if(Y._isDerived()||Y.units.length===0||Y.units[0].unit.offset===0)Y.value=u(Y.value);else{var K=Y._numberConverter(),ve=K(Y.units[0].unit.value),J=K(Y.units[0].unit.offset),te=a(ve,J);Y.value=i(u(n(Y.value,te)),te)}for(var se in Y.units)(Y.units[se].unit.name==="VA"||Y.units[se].unit.name==="VAR")&&(Y.units[se].unit=V.W);return Y},b.prototype.to=function(Y){var K=this.value===null?this._normalize(1):this.value,ve;if(typeof Y=="string")ve=b.parse(Y);else if(An(Y))ve=Y.clone();else throw new Error("String or Unit expected as parameter");if(!this.equalBase(ve))throw new Error("Units do not match ('".concat(ve.toString(),"' != '").concat(this.toString(),"')"));if(ve.value!==null)throw new Error("Cannot convert to a unit with a value");if(this.value===null||this._isDerived()||this.units.length===0||ve.units.length===0||this.units[0].unit.offset===ve.units[0].unit.offset)ve.value=pt(K);else{var J=b._getNumberConverter($t(K)),te=this.units[0].unit.value,se=this.units[0].unit.offset,De=a(te,se),Ne=ve.units[0].unit.value,Ge=ve.units[0].unit.offset,Ae=a(Ne,Ge);ve.value=n(K,J(i(De,Ae)))}return ve.fixPrefix=!0,ve.skipAutomaticSimplification=!0,ve},b.prototype.toNumber=function(Y){return S(this.toNumeric(Y))},b.prototype.toNumeric=function(Y){var K;return Y?K=this.to(Y):K=this.clone(),K._isDerived()||K.units.length===0?K._denormalize(K.value):K._denormalize(K.value,K.units[0].prefix.value)},b.prototype.toString=function(){return this.format()},b.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},b.fromJSON=function(Y){var K=new b(Y.value,Y.unit);return K.fixPrefix=Y.fixPrefix||!1,K},b.prototype.valueOf=b.prototype.toString,b.prototype.simplify=function(){var Y=this.clone(),K=[],ve;for(var J in he)if(at(he,J)&&Y.hasBase(B[J])){ve=J;break}if(ve==="NONE")Y.units=[];else{var te;if(ve&&at(he,ve)&&(te=he[ve]),te)Y.units=[{unit:te.unit,prefix:te.prefix,power:1}];else{for(var se=!1,De=0;De<H.length;De++){var Ne=H[De];Math.abs(Y.dimensions[De]||0)>1e-12&&(at(he,Ne)?K.push({unit:he[Ne].unit,prefix:he[Ne].prefix,power:Y.dimensions[De]||0}):se=!0)}K.length<Y.units.length&&!se&&(Y.units=K)}}return Y},b.prototype.toSI=function(){for(var Y=this.clone(),K=[],ve=0;ve<H.length;ve++){var J=H[ve];if(Math.abs(Y.dimensions[ve]||0)>1e-12)if(at(fe.si,J))K.push({unit:fe.si[J].unit,prefix:fe.si[J].prefix,power:Y.dimensions[ve]||0});else throw new Error("Cannot express custom unit "+J+" in SI units")}return Y.units=K,Y.fixPrefix=!0,Y.skipAutomaticSimplification=!0,this.value!==null?(Y.value=null,this.to(Y)):Y},b.prototype.formatUnits=function(){for(var Y="",K="",ve=0,J=0,te=0;te<this.units.length;te++)this.units[te].power>0?(ve++,Y+=" "+this.units[te].prefix.name+this.units[te].unit.name,Math.abs(this.units[te].power-1)>1e-15&&(Y+="^"+this.units[te].power)):this.units[te].power<0&&J++;if(J>0)for(var se=0;se<this.units.length;se++)this.units[se].power<0&&(ve>0?(K+=" "+this.units[se].prefix.name+this.units[se].unit.name,Math.abs(this.units[se].power+1)>1e-15&&(K+="^"+-this.units[se].power)):(K+=" "+this.units[se].prefix.name+this.units[se].unit.name,K+="^"+this.units[se].power));Y=Y.substr(1),K=K.substr(1),ve>1&&J>0&&(Y="("+Y+")"),J>1&&ve>0&&(K="("+K+")");var De=Y;return ve>0&&J>0&&(De+=" / "),De+=K,De},b.prototype.format=function(Y){var K=this.skipAutomaticSimplification||this.value===null?this.clone():this.simplify(),ve=!1;typeof K.value!="undefined"&&K.value!==null&&Xn(K.value)&&(ve=Math.abs(K.value.re)<1e-14);for(var J in K.units)at(K.units,J)&&K.units[J].unit&&(K.units[J].unit.name==="VA"&&ve?K.units[J].unit=V.VAR:K.units[J].unit.name==="VAR"&&!ve&&(K.units[J].unit=V.VA));K.units.length===1&&!K.fixPrefix&&Math.abs(K.units[0].power-Math.round(K.units[0].power))<1e-14&&(K.units[0].prefix=K._bestPrefix());var te=K._denormalize(K.value),se=K.value!==null?m(te,Y||{}):"",De=K.formatUnits();return K.value&&Xn(K.value)&&(se="("+se+")"),De.length>0&&se.length>0&&(se+=" "),se+=De,se},b.prototype._bestPrefix=function(){if(this.units.length!==1)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var Y=this.value!==null?u(this.value):0,K=u(this.units[0].unit.value),ve=this.units[0].prefix;if(Y===0)return ve;var J=this.units[0].power,te=Math.log(Y/Math.pow(ve.value*K,J))/Math.LN10-1.2;if(te>-2.200001&&te<1.800001)return ve;te=Math.abs(te);var se=this.units[0].unit.prefixes;for(var De in se)if(at(se,De)){var Ne=se[De];if(Ne.scientific){var Ge=Math.abs(Math.log(Y/Math.pow(Ne.value*K,J))/Math.LN10-1.2);(Ge<te||Ge===te&&Ne.name.length<ve.name.length)&&(ve=Ne,te=Ge)}}return ve},b.prototype.splitUnit=function(Y){for(var K=this.clone(),ve=[],J=0;J<Y.length&&(K=K.to(Y[J]),J!==Y.length-1);J++){var te=K.toNumeric(),se=l(te),De=void 0,Ne=f(se,te);Ne?De=se:De=s(K.toNumeric());var Ge=new b(De,Y[J].toString());ve.push(Ge),K=i(K,Ge)}for(var Ae=0,xt=0;xt<ve.length;xt++)Ae=n(Ae,ve[xt].value);return f(Ae,this.value)&&(K.value=0),ve.push(K),ve};var k={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},R:{name:"R",value:1e27,scientific:!0},Q:{name:"Q",value:1e30,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0},r:{name:"r",value:1e-27,scientific:!0},q:{name:"q",value:1e-30,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},ronna:{name:"ronna",value:1e27,scientific:!0},quetta:{name:"quetta",value:1e30,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0},ronto:{name:"ronto",value:1e-27,scientific:!0},quecto:{name:"quecto",value:1e-30,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},R:{name:"R",value:1e54,scientific:!0},Q:{name:"Q",value:1e60,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0},r:{name:"r",value:1e-54,scientific:!0},q:{name:"q",value:1e-60,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},R:{name:"R",value:1e81,scientific:!0},Q:{name:"Q",value:1e90,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0},r:{name:"r",value:1e-81,scientific:!0},q:{name:"q",value:1e-90,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};k.SHORTLONG=Cr({},k.SHORT,k.LONG),k.BINARY_SHORT=Cr({},k.BINARY_SHORT_SI,k.BINARY_SHORT_IEC),k.BINARY_LONG=Cr({},k.BINARY_LONG_SI,k.BINARY_LONG_IEC);var H=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],B={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var W in B)at(B,W)&&(B[W].key=W);var ie={},Q={name:"",base:ie,value:1,offset:0,dimensions:H.map(Y=>0)},V={meter:{name:"meter",base:B.LENGTH,prefixes:k.LONG,value:1,offset:0},inch:{name:"inch",base:B.LENGTH,prefixes:k.NONE,value:.0254,offset:0},foot:{name:"foot",base:B.LENGTH,prefixes:k.NONE,value:.3048,offset:0},yard:{name:"yard",base:B.LENGTH,prefixes:k.NONE,value:.9144,offset:0},mile:{name:"mile",base:B.LENGTH,prefixes:k.NONE,value:1609.344,offset:0},link:{name:"link",base:B.LENGTH,prefixes:k.NONE,value:.201168,offset:0},rod:{name:"rod",base:B.LENGTH,prefixes:k.NONE,value:5.0292,offset:0},chain:{name:"chain",base:B.LENGTH,prefixes:k.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:B.LENGTH,prefixes:k.NONE,value:1e-10,offset:0},m:{name:"m",base:B.LENGTH,prefixes:k.SHORT,value:1,offset:0},in:{name:"in",base:B.LENGTH,prefixes:k.NONE,value:.0254,offset:0},ft:{name:"ft",base:B.LENGTH,prefixes:k.NONE,value:.3048,offset:0},yd:{name:"yd",base:B.LENGTH,prefixes:k.NONE,value:.9144,offset:0},mi:{name:"mi",base:B.LENGTH,prefixes:k.NONE,value:1609.344,offset:0},li:{name:"li",base:B.LENGTH,prefixes:k.NONE,value:.201168,offset:0},rd:{name:"rd",base:B.LENGTH,prefixes:k.NONE,value:5.02921,offset:0},ch:{name:"ch",base:B.LENGTH,prefixes:k.NONE,value:20.1168,offset:0},mil:{name:"mil",base:B.LENGTH,prefixes:k.NONE,value:254e-7,offset:0},m2:{name:"m2",base:B.SURFACE,prefixes:k.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:B.SURFACE,prefixes:k.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:B.SURFACE,prefixes:k.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:B.SURFACE,prefixes:k.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:B.SURFACE,prefixes:k.NONE,value:2589988110336e-6,offset:0},sqrd:{name:"sqrd",base:B.SURFACE,prefixes:k.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:B.SURFACE,prefixes:k.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:B.SURFACE,prefixes:k.NONE,value:64516e-14,offset:0},acre:{name:"acre",base:B.SURFACE,prefixes:k.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:B.SURFACE,prefixes:k.NONE,value:1e4,offset:0},m3:{name:"m3",base:B.VOLUME,prefixes:k.CUBIC,value:1,offset:0},L:{name:"L",base:B.VOLUME,prefixes:k.SHORT,value:.001,offset:0},l:{name:"l",base:B.VOLUME,prefixes:k.SHORT,value:.001,offset:0},litre:{name:"litre",base:B.VOLUME,prefixes:k.LONG,value:.001,offset:0},cuin:{name:"cuin",base:B.VOLUME,prefixes:k.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:B.VOLUME,prefixes:k.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:B.VOLUME,prefixes:k.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:B.VOLUME,prefixes:k.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:B.VOLUME,prefixes:k.NONE,value:15e-6,offset:0},drop:{name:"drop",base:B.VOLUME,prefixes:k.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:B.VOLUME,prefixes:k.NONE,value:5e-8,offset:0},minim:{name:"minim",base:B.VOLUME,prefixes:k.NONE,value:6161152e-14,offset:0},fluiddram:{name:"fluiddram",base:B.VOLUME,prefixes:k.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:B.VOLUME,prefixes:k.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:B.VOLUME,prefixes:k.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:B.VOLUME,prefixes:k.NONE,value:1e-6,offset:0},cup:{name:"cup",base:B.VOLUME,prefixes:k.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:B.VOLUME,prefixes:k.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:B.VOLUME,prefixes:k.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:B.VOLUME,prefixes:k.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:B.VOLUME,prefixes:k.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:B.VOLUME,prefixes:k.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:B.VOLUME,prefixes:k.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:B.VOLUME,prefixes:k.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:B.VOLUME,prefixes:k.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:B.VOLUME,prefixes:k.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:B.VOLUME,prefixes:k.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:B.VOLUME,prefixes:k.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:B.VOLUME,prefixes:k.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:B.VOLUME,prefixes:k.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:B.VOLUME,prefixes:k.NONE,value:.1173478,offset:0},obl:{name:"obl",base:B.VOLUME,prefixes:k.NONE,value:.1589873,offset:0},g:{name:"g",base:B.MASS,prefixes:k.SHORT,value:.001,offset:0},gram:{name:"gram",base:B.MASS,prefixes:k.LONG,value:.001,offset:0},ton:{name:"ton",base:B.MASS,prefixes:k.SHORT,value:907.18474,offset:0},t:{name:"t",base:B.MASS,prefixes:k.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:B.MASS,prefixes:k.LONG,value:1e3,offset:0},grain:{name:"grain",base:B.MASS,prefixes:k.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:B.MASS,prefixes:k.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:B.MASS,prefixes:k.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:B.MASS,prefixes:k.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:B.MASS,prefixes:k.NONE,value:45.359237,offset:0},stick:{name:"stick",base:B.MASS,prefixes:k.NONE,value:.115,offset:0},stone:{name:"stone",base:B.MASS,prefixes:k.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:B.MASS,prefixes:k.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:B.MASS,prefixes:k.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:B.MASS,prefixes:k.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:B.MASS,prefixes:k.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:B.MASS,prefixes:k.NONE,value:45.359237,offset:0},s:{name:"s",base:B.TIME,prefixes:k.SHORT,value:1,offset:0},min:{name:"min",base:B.TIME,prefixes:k.NONE,value:60,offset:0},h:{name:"h",base:B.TIME,prefixes:k.NONE,value:3600,offset:0},second:{name:"second",base:B.TIME,prefixes:k.LONG,value:1,offset:0},sec:{name:"sec",base:B.TIME,prefixes:k.LONG,value:1,offset:0},minute:{name:"minute",base:B.TIME,prefixes:k.NONE,value:60,offset:0},hour:{name:"hour",base:B.TIME,prefixes:k.NONE,value:3600,offset:0},day:{name:"day",base:B.TIME,prefixes:k.NONE,value:86400,offset:0},week:{name:"week",base:B.TIME,prefixes:k.NONE,value:7*86400,offset:0},month:{name:"month",base:B.TIME,prefixes:k.NONE,value:2629800,offset:0},year:{name:"year",base:B.TIME,prefixes:k.NONE,value:31557600,offset:0},decade:{name:"decade",base:B.TIME,prefixes:k.NONE,value:315576e3,offset:0},century:{name:"century",base:B.TIME,prefixes:k.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:B.TIME,prefixes:k.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:B.FREQUENCY,prefixes:k.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:B.FREQUENCY,prefixes:k.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:B.ANGLE,prefixes:k.SHORT,value:1,offset:0},radian:{name:"radian",base:B.ANGLE,prefixes:k.LONG,value:1,offset:0},deg:{name:"deg",base:B.ANGLE,prefixes:k.SHORT,value:null,offset:0},degree:{name:"degree",base:B.ANGLE,prefixes:k.LONG,value:null,offset:0},grad:{name:"grad",base:B.ANGLE,prefixes:k.SHORT,value:null,offset:0},gradian:{name:"gradian",base:B.ANGLE,prefixes:k.LONG,value:null,offset:0},cycle:{name:"cycle",base:B.ANGLE,prefixes:k.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:B.ANGLE,prefixes:k.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:B.ANGLE,prefixes:k.NONE,value:null,offset:0},A:{name:"A",base:B.CURRENT,prefixes:k.SHORT,value:1,offset:0},ampere:{name:"ampere",base:B.CURRENT,prefixes:k.LONG,value:1,offset:0},K:{name:"K",base:B.TEMPERATURE,prefixes:k.SHORT,value:1,offset:0},degC:{name:"degC",base:B.TEMPERATURE,prefixes:k.SHORT,value:1,offset:273.15},degF:{name:"degF",base:B.TEMPERATURE,prefixes:k.SHORT,value:new y(5,9),offset:459.67},degR:{name:"degR",base:B.TEMPERATURE,prefixes:k.SHORT,value:new y(5,9),offset:0},kelvin:{name:"kelvin",base:B.TEMPERATURE,prefixes:k.LONG,value:1,offset:0},celsius:{name:"celsius",base:B.TEMPERATURE,prefixes:k.LONG,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:B.TEMPERATURE,prefixes:k.LONG,value:new y(5,9),offset:459.67},rankine:{name:"rankine",base:B.TEMPERATURE,prefixes:k.LONG,value:new y(5,9),offset:0},mol:{name:"mol",base:B.AMOUNT_OF_SUBSTANCE,prefixes:k.SHORT,value:1,offset:0},mole:{name:"mole",base:B.AMOUNT_OF_SUBSTANCE,prefixes:k.LONG,value:1,offset:0},cd:{name:"cd",base:B.LUMINOUS_INTENSITY,prefixes:k.SHORT,value:1,offset:0},candela:{name:"candela",base:B.LUMINOUS_INTENSITY,prefixes:k.LONG,value:1,offset:0},N:{name:"N",base:B.FORCE,prefixes:k.SHORT,value:1,offset:0},newton:{name:"newton",base:B.FORCE,prefixes:k.LONG,value:1,offset:0},dyn:{name:"dyn",base:B.FORCE,prefixes:k.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:B.FORCE,prefixes:k.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:B.FORCE,prefixes:k.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:B.FORCE,prefixes:k.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:B.FORCE,prefixes:k.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:B.FORCE,prefixes:k.NONE,value:9.80665,offset:0},J:{name:"J",base:B.ENERGY,prefixes:k.SHORT,value:1,offset:0},joule:{name:"joule",base:B.ENERGY,prefixes:k.LONG,value:1,offset:0},erg:{name:"erg",base:B.ENERGY,prefixes:k.SHORTLONG,value:1e-7,offset:0},Wh:{name:"Wh",base:B.ENERGY,prefixes:k.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:B.ENERGY,prefixes:k.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:B.ENERGY,prefixes:k.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:B.ENERGY,prefixes:k.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:B.POWER,prefixes:k.SHORT,value:1,offset:0},watt:{name:"watt",base:B.POWER,prefixes:k.LONG,value:1,offset:0},hp:{name:"hp",base:B.POWER,prefixes:k.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:B.POWER,prefixes:k.SHORT,value:d.I,offset:0},VA:{name:"VA",base:B.POWER,prefixes:k.SHORT,value:1,offset:0},Pa:{name:"Pa",base:B.PRESSURE,prefixes:k.SHORT,value:1,offset:0},psi:{name:"psi",base:B.PRESSURE,prefixes:k.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:B.PRESSURE,prefixes:k.NONE,value:101325,offset:0},bar:{name:"bar",base:B.PRESSURE,prefixes:k.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:B.PRESSURE,prefixes:k.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:B.PRESSURE,prefixes:k.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:B.PRESSURE,prefixes:k.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:B.PRESSURE,prefixes:k.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:B.ELECTRIC_CHARGE,prefixes:k.LONG,value:1,offset:0},C:{name:"C",base:B.ELECTRIC_CHARGE,prefixes:k.SHORT,value:1,offset:0},farad:{name:"farad",base:B.ELECTRIC_CAPACITANCE,prefixes:k.LONG,value:1,offset:0},F:{name:"F",base:B.ELECTRIC_CAPACITANCE,prefixes:k.SHORT,value:1,offset:0},volt:{name:"volt",base:B.ELECTRIC_POTENTIAL,prefixes:k.LONG,value:1,offset:0},V:{name:"V",base:B.ELECTRIC_POTENTIAL,prefixes:k.SHORT,value:1,offset:0},ohm:{name:"ohm",base:B.ELECTRIC_RESISTANCE,prefixes:k.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:B.ELECTRIC_INDUCTANCE,prefixes:k.LONG,value:1,offset:0},H:{name:"H",base:B.ELECTRIC_INDUCTANCE,prefixes:k.SHORT,value:1,offset:0},siemens:{name:"siemens",base:B.ELECTRIC_CONDUCTANCE,prefixes:k.LONG,value:1,offset:0},S:{name:"S",base:B.ELECTRIC_CONDUCTANCE,prefixes:k.SHORT,value:1,offset:0},weber:{name:"weber",base:B.MAGNETIC_FLUX,prefixes:k.LONG,value:1,offset:0},Wb:{name:"Wb",base:B.MAGNETIC_FLUX,prefixes:k.SHORT,value:1,offset:0},tesla:{name:"tesla",base:B.MAGNETIC_FLUX_DENSITY,prefixes:k.LONG,value:1,offset:0},T:{name:"T",base:B.MAGNETIC_FLUX_DENSITY,prefixes:k.SHORT,value:1,offset:0},b:{name:"b",base:B.BIT,prefixes:k.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:B.BIT,prefixes:k.BINARY_LONG,value:1,offset:0},B:{name:"B",base:B.BIT,prefixes:k.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:B.BIT,prefixes:k.BINARY_LONG,value:8,offset:0}},le={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",amps:"ampere",amp:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function Se(Y){if(Y.number==="BigNumber"){var K=Yl(v);V.rad.value=new v(1),V.deg.value=K.div(180),V.grad.value=K.div(200),V.cycle.value=K.times(2),V.arcsec.value=K.div(648e3),V.arcmin.value=K.div(10800)}else V.rad.value=1,V.deg.value=Math.PI/180,V.grad.value=Math.PI/200,V.cycle.value=Math.PI*2,V.arcsec.value=Math.PI/648e3,V.arcmin.value=Math.PI/10800;V.radian.value=V.rad.value,V.degree.value=V.deg.value,V.gradian.value=V.grad.value}Se(t),e&&e("config",function(Y,K){Y.number!==K.number&&Se(Y)});var fe={si:{NONE:{unit:Q,prefix:k.NONE[""]},LENGTH:{unit:V.m,prefix:k.SHORT[""]},MASS:{unit:V.g,prefix:k.SHORT.k},TIME:{unit:V.s,prefix:k.SHORT[""]},CURRENT:{unit:V.A,prefix:k.SHORT[""]},TEMPERATURE:{unit:V.K,prefix:k.SHORT[""]},LUMINOUS_INTENSITY:{unit:V.cd,prefix:k.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:V.mol,prefix:k.SHORT[""]},ANGLE:{unit:V.rad,prefix:k.SHORT[""]},BIT:{unit:V.bits,prefix:k.SHORT[""]},FORCE:{unit:V.N,prefix:k.SHORT[""]},ENERGY:{unit:V.J,prefix:k.SHORT[""]},POWER:{unit:V.W,prefix:k.SHORT[""]},PRESSURE:{unit:V.Pa,prefix:k.SHORT[""]},ELECTRIC_CHARGE:{unit:V.C,prefix:k.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:V.F,prefix:k.SHORT[""]},ELECTRIC_POTENTIAL:{unit:V.V,prefix:k.SHORT[""]},ELECTRIC_RESISTANCE:{unit:V.ohm,prefix:k.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:V.H,prefix:k.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:V.S,prefix:k.SHORT[""]},MAGNETIC_FLUX:{unit:V.Wb,prefix:k.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:V.T,prefix:k.SHORT[""]},FREQUENCY:{unit:V.Hz,prefix:k.SHORT[""]}}};fe.cgs=JSON.parse(JSON.stringify(fe.si)),fe.cgs.LENGTH={unit:V.m,prefix:k.SHORT.c},fe.cgs.MASS={unit:V.g,prefix:k.SHORT[""]},fe.cgs.FORCE={unit:V.dyn,prefix:k.SHORT[""]},fe.cgs.ENERGY={unit:V.erg,prefix:k.NONE[""]},fe.us=JSON.parse(JSON.stringify(fe.si)),fe.us.LENGTH={unit:V.ft,prefix:k.NONE[""]},fe.us.MASS={unit:V.lbm,prefix:k.NONE[""]},fe.us.TEMPERATURE={unit:V.degF,prefix:k.NONE[""]},fe.us.FORCE={unit:V.lbf,prefix:k.NONE[""]},fe.us.ENERGY={unit:V.BTU,prefix:k.BTU[""]},fe.us.POWER={unit:V.hp,prefix:k.NONE[""]},fe.us.PRESSURE={unit:V.psi,prefix:k.NONE[""]},fe.auto=JSON.parse(JSON.stringify(fe.si));var he=fe.auto;b.setUnitSystem=function(Y){if(at(fe,Y))he=fe[Y];else throw new Error("Unit system "+Y+" does not exist. Choices are: "+Object.keys(fe).join(", "))},b.getUnitSystem=function(){for(var Y in fe)if(at(fe,Y)&&fe[Y]===he)return Y},b.typeConverters={BigNumber:function(K){return K!=null&&K.isFraction?new v(K.n).div(K.d).times(K.s):new v(K+"")},Fraction:function(K){return new y(K)},Complex:function(K){return K},number:function(K){return K!=null&&K.isFraction?h(K):K}},b.prototype._numberConverter=function(){var Y=b.typeConverters[this.valueType()];if(Y)return Y;throw new TypeError('Unsupported Unit value type "'+this.valueType()+'"')},b._getNumberConverter=function(Y){if(!b.typeConverters[Y])throw new TypeError('Unsupported type "'+Y+'"');return b.typeConverters[Y]};for(var _e in V)if(at(V,_e)){var ge=V[_e];ge.dimensions=ge.base.dimensions}for(var me in le)if(at(le,me)){var we=V[le[me]],Te={};for(var ze in we)at(we,ze)&&(Te[ze]=we[ze]);Te.name=me,V[me]=Te}b.isValidAlpha=function(K){return/^[a-zA-Z]$/.test(K)};function tt(Y){for(var K=0;K<Y.length;K++){if(x=Y.charAt(K),K===0&&!b.isValidAlpha(x))throw new Error('Invalid unit name (must begin with alpha character): "'+Y+'"');if(K>0&&!(b.isValidAlpha(x)||N(x)))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+Y+'"')}}return b.createUnit=function(Y,K){if(typeof Y!="object")throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(K&&K.override){for(var ve in Y)if(at(Y,ve)&&b.deleteUnit(ve),Y[ve].aliases)for(var J=0;J<Y[ve].aliases.length;J++)b.deleteUnit(Y[ve].aliases[J])}var te;for(var se in Y)at(Y,se)&&(te=b.createUnitSingle(se,Y[se]));return te},b.createUnitSingle=function(Y,K){if((typeof K=="undefined"||K===null)&&(K={}),typeof Y!="string")throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(at(V,Y))throw new Error('Cannot create unit "'+Y+'": a unit with that name already exists');tt(Y);var ve=null,J=[],te=0,se,De,Ne;if(K&&K.type==="Unit")ve=K.clone();else if(typeof K=="string")K!==""&&(se=K);else if(typeof K=="object")se=K.definition,De=K.prefixes,te=K.offset,Ne=K.baseName,K.aliases&&(J=K.aliases.valueOf());else throw new TypeError('Cannot create unit "'+Y+'" from "'+K.toString()+'": expecting "string" or "Unit" or "Object"');if(J){for(var Ge=0;Ge<J.length;Ge++)if(at(V,J[Ge]))throw new Error('Cannot create alias "'+J[Ge]+'": a unit with that name already exists')}if(se&&typeof se=="string"&&!ve)try{ve=b.parse(se,{allowNoUnits:!0})}catch(F){throw F.message='Could not create unit "'+Y+'" from "'+se+'": '+F.message,F}else se&&se.type==="Unit"&&(ve=se.clone());J=J||[],te=te||0,De&&De.toUpperCase?De=k[De.toUpperCase()]||k.NONE:De=k.NONE;var Ae={};if(ve){Ae={name:Y,value:ve.value,dimensions:ve.dimensions.slice(0),prefixes:De,offset:te};var Ue=!1;for(var X in B)if(at(B,X)){for(var ce=!0,be=0;be<H.length;be++)if(Math.abs((Ae.dimensions[be]||0)-(B[X].dimensions[be]||0))>1e-12){ce=!1;break}if(ce){Ue=!0,Ae.base=B[X];break}}if(!Ue){Ne=Ne||Y+"_STUFF";var Be={dimensions:ve.dimensions.slice(0)};Be.key=Ne,B[Ne]=Be,he[Ne]={unit:Ae,prefix:k.NONE[""]},Ae.base=B[Ne]}}else{if(Ne=Ne||Y+"_STUFF",H.indexOf(Ne)>=0)throw new Error('Cannot create new base unit "'+Y+'": a base unit with that name already exists (and cannot be overridden)');H.push(Ne);for(var xt in B)at(B,xt)&&(B[xt].dimensions[H.length-1]=0);for(var At={dimensions:[]},ye=0;ye<H.length;ye++)At.dimensions[ye]=0;At.dimensions[H.length-1]=1,At.key=Ne,B[Ne]=At,Ae={name:Y,value:1,dimensions:B[Ne].dimensions.slice(0),prefixes:De,offset:te,base:B[Ne]},he[Ne]={unit:Ae,prefix:k.NONE[""]}}b.UNITS[Y]=Ae;for(var Ve=0;Ve<J.length;Ve++){var Fe=J[Ve],Le={};for(var $e in Ae)at(Ae,$e)&&(Le[$e]=Ae[$e]);Le.name=Fe,b.UNITS[Fe]=Le}return delete L.cache,new b(null,Y)},b.deleteUnit=function(Y){delete b.UNITS[Y]},b.PREFIXES=k,b.BASE_DIMENSIONS=H,b.BASE_UNITS=B,b.UNIT_SYSTEMS=fe,b.UNITS=V,b},{isClass:!0});var lC="unit",xW=["typed","Unit"],xb=M(lC,xW,r=>{var{typed:e,Unit:t}=r;return e(lC,{Unit:function(i){return i.clone()},string:function(i){return t.isValuelessUnit(i)?new t(null,i):t.parse(i,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string | Unit":function(i,a){return new t(i,a)},"number | BigNumber | Fraction":function(i){return new t(i)},"Array | Matrix":e.referToSelf(n=>i=>ot(i,n))})});var cC="sparse",wW=["typed","SparseMatrix"],wb=M(cC,wW,r=>{var{typed:e,SparseMatrix:t}=r;return e(cC,{"":function(){return new t([])},string:function(i){return new t([],i)},"Array | Matrix":function(i){return new t(i)},"Array | Matrix, string":function(i,a){return new t(i,a)}})});var fC="createUnit",_W=["typed","Unit"],_b=M(fC,_W,r=>{var{typed:e,Unit:t}=r;return e(fC,{"Object, Object":function(i,a){return t.createUnit(i,a)},Object:function(i){return t.createUnit(i,{})},"string, Unit | string | Object, Object":function(i,a,o){var c={};return c[i]=a,t.createUnit(c,o)},"string, Unit | string | Object":function(i,a){var o={};return o[i]=a,t.createUnit(o,{})},string:function(i){var a={};return a[i]={},t.createUnit(a,{})}})});var pC="acos",SW=["typed","config","Complex"],Sb=M(pC,SW,r=>{var{typed:e,config:t,Complex:n}=r;return e(pC,{number:function(a){return a>=-1&&a<=1||t.predictable?Math.acos(a):new n(a,0).acos()},Complex:function(a){return a.acos()},BigNumber:function(a){return a.acos()}})});var mC="acosh",DW=["typed","config","Complex"],Db=M(mC,DW,r=>{var{typed:e,config:t,Complex:n}=r;return e(mC,{number:function(a){return a>=1||t.predictable?Pv(a):a<=-1?new n(Math.log(Math.sqrt(a*a-1)-a),Math.PI):new n(a,0).acosh()},Complex:function(a){return a.acosh()},BigNumber:function(a){return a.acosh()}})});var dC="acot",NW=["typed","BigNumber"],Nb=M(dC,NW,r=>{var{typed:e,BigNumber:t}=r;return e(dC,{number:Ov,Complex:function(i){return i.acot()},BigNumber:function(i){return new t(1).div(i).atan()}})});var hC="acoth",AW=["typed","config","Complex","BigNumber"],Ab=M(hC,AW,r=>{var{typed:e,config:t,Complex:n,BigNumber:i}=r;return e(hC,{number:function(o){return o>=1||o<=-1||t.predictable?kv(o):new n(o,0).acoth()},Complex:function(o){return o.acoth()},BigNumber:function(o){return new i(1).div(o).atanh()}})});var gC="acsc",EW=["typed","config","Complex","BigNumber"],Eb=M(gC,EW,r=>{var{typed:e,config:t,Complex:n,BigNumber:i}=r;return e(gC,{number:function(o){return o<=-1||o>=1||t.predictable?Rv(o):new n(o,0).acsc()},Complex:function(o){return o.acsc()},BigNumber:function(o){return new i(1).div(o).asin()}})});var vC="acsch",TW=["typed","BigNumber"],Tb=M(vC,TW,r=>{var{typed:e,BigNumber:t}=r;return e(vC,{number:Lv,Complex:function(i){return i.acsch()},BigNumber:function(i){return new t(1).div(i).asinh()}})});var yC="asec",MW=["typed","config","Complex","BigNumber"],Mb=M(yC,MW,r=>{var{typed:e,config:t,Complex:n,BigNumber:i}=r;return e(yC,{number:function(o){return o<=-1||o>=1||t.predictable?Uv(o):new n(o,0).asec()},Complex:function(o){return o.asec()},BigNumber:function(o){return new i(1).div(o).acos()}})});var bC="asech",CW=["typed","config","Complex","BigNumber"],Cb=M(bC,CW,r=>{var{typed:e,config:t,Complex:n,BigNumber:i}=r;return e(bC,{number:function(o){if(o<=1&&o>=-1||t.predictable){var c=1/o;if(c>0||t.predictable)return Vv(o);var u=Math.sqrt(c*c-1);return new n(Math.log(u-c),Math.PI)}return new n(o,0).asech()},Complex:function(o){return o.asech()},BigNumber:function(o){return new i(1).div(o).acosh()}})});var xC="asin",FW=["typed","config","Complex"],Fb=M(xC,FW,r=>{var{typed:e,config:t,Complex:n}=r;return e(xC,{number:function(a){return a>=-1&&a<=1||t.predictable?Math.asin(a):new n(a,0).asin()},Complex:function(a){return a.asin()},BigNumber:function(a){return a.asin()}})});var IW="asinh",BW=["typed"],Ib=M(IW,BW,r=>{var{typed:e}=r;return e("asinh",{number:qv,Complex:function(n){return n.asinh()},BigNumber:function(n){return n.asinh()}})});var PW="atan",OW=["typed"],Bb=M(PW,OW,r=>{var{typed:e}=r;return e("atan",{number:function(n){return Math.atan(n)},Complex:function(n){return n.atan()},BigNumber:function(n){return n.atan()}})});var wC="atan2",kW=["typed","matrix","equalScalar","BigNumber","DenseMatrix","concat"],Pb=M(wC,kW,r=>{var{typed:e,matrix:t,equalScalar:n,BigNumber:i,DenseMatrix:a,concat:o}=r,c=Kr({typed:e,equalScalar:n}),u=_r({typed:e}),s=Dp({typed:e,equalScalar:n}),l=mr({typed:e,equalScalar:n}),f=rr({typed:e,DenseMatrix:a}),p=Nt({typed:e,matrix:t,concat:o});return e(wC,{"number, number":Math.atan2,"BigNumber, BigNumber":(m,h)=>i.atan2(m,h)},p({scalar:"number | BigNumber",SS:s,DS:u,SD:c,Ss:l,sS:f}))});var _C="atanh",RW=["typed","config","Complex"],Ob=M(_C,RW,r=>{var{typed:e,config:t,Complex:n}=r;return e(_C,{number:function(a){return a<=1&&a>=-1||t.predictable?zv(a):new n(a,0).atanh()},Complex:function(a){return a.atanh()},BigNumber:function(a){return a.atanh()}})});var zi=M("trigUnit",["typed"],r=>{var{typed:e}=r;return{Unit:e.referToSelf(t=>n=>{if(!n.hasBase(n.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return e.find(t,n.valueType())(n.value)})}});var SC="cos",LW=["typed"],kb=M(SC,LW,r=>{var{typed:e}=r,t=zi({typed:e});return e(SC,{number:Math.cos,"Complex | BigNumber":n=>n.cos()},t)});var DC="cosh",UW=["typed"],Rb=M(DC,UW,r=>{var{typed:e}=r;return e(DC,{number:ip,"Complex | BigNumber":t=>t.cosh()})});var NC="cot",VW=["typed","BigNumber"],Lb=M(NC,VW,r=>{var{typed:e,BigNumber:t}=r,n=zi({typed:e});return e(NC,{number:$v,Complex:i=>i.cot(),BigNumber:i=>new t(1).div(i.tan())},n)});var AC="coth",qW=["typed","BigNumber"],Ub=M(AC,qW,r=>{var{typed:e,BigNumber:t}=r;return e(AC,{number:Hv,Complex:n=>n.coth(),BigNumber:n=>new t(1).div(n.tanh())})});var EC="csc",zW=["typed","BigNumber"],Vb=M(EC,zW,r=>{var{typed:e,BigNumber:t}=r,n=zi({typed:e});return e(EC,{number:Gv,Complex:i=>i.csc(),BigNumber:i=>new t(1).div(i.sin())},n)});var TC="csch",$W=["typed","BigNumber"],qb=M(TC,$W,r=>{var{typed:e,BigNumber:t}=r;return e(TC,{number:Wv,Complex:n=>n.csch(),BigNumber:n=>new t(1).div(n.sinh())})});var MC="sec",HW=["typed","BigNumber"],zb=M(MC,HW,r=>{var{typed:e,BigNumber:t}=r,n=zi({typed:e});return e(MC,{number:Yv,Complex:i=>i.sec(),BigNumber:i=>new t(1).div(i.cos())},n)});var CC="sech",GW=["typed","BigNumber"],$b=M(CC,GW,r=>{var{typed:e,BigNumber:t}=r;return e(CC,{number:jv,Complex:n=>n.sech(),BigNumber:n=>new t(1).div(n.cosh())})});var FC="sin",WW=["typed"],Hb=M(FC,WW,r=>{var{typed:e}=r,t=zi({typed:e});return e(FC,{number:Math.sin,"Complex | BigNumber":n=>n.sin()},t)});var IC="sinh",YW=["typed"],Gb=M(IC,YW,r=>{var{typed:e}=r;return e(IC,{number:Zv,"Complex | BigNumber":t=>t.sinh()})});var BC="tan",jW=["typed"],Wb=M(BC,jW,r=>{var{typed:e}=r,t=zi({typed:e});return e(BC,{number:Math.tan,"Complex | BigNumber":n=>n.tan()},t)});var ZW="tanh",JW=["typed"],Yb=M(ZW,JW,r=>{var{typed:e}=r;return e("tanh",{number:ap,"Complex | BigNumber":t=>t.tanh()})});var PC="setCartesian",XW=["typed","size","subset","compareNatural","Index","DenseMatrix"],jb=M(PC,XW,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=r;return e(PC,{"Array | Matrix, Array | Matrix":function(u,s){var l=[];if(n(t(u),new a(0))!==0&&n(t(s),new a(0))!==0){var f=Mt(Array.isArray(u)?u:u.toArray()).sort(i),p=Mt(Array.isArray(s)?s:s.toArray()).sort(i);l=[];for(var m=0;m<f.length;m++)for(var h=0;h<p.length;h++)l.push([f[m],p[h]])}return Array.isArray(u)&&Array.isArray(s)?l:new o(l)}})});var OC="setDifference",QW=["typed","size","subset","compareNatural","Index","DenseMatrix"],Zb=M(OC,QW,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=r;return e(OC,{"Array | Matrix, Array | Matrix":function(u,s){var l;if(n(t(u),new a(0))===0)l=[];else{if(n(t(s),new a(0))===0)return Mt(u.toArray());var f=Va(Mt(Array.isArray(u)?u:u.toArray()).sort(i)),p=Va(Mt(Array.isArray(s)?s:s.toArray()).sort(i));l=[];for(var m,h=0;h<f.length;h++){m=!1;for(var d=0;d<p.length;d++)if(i(f[h].value,p[d].value)===0&&f[h].identifier===p[d].identifier){m=!0;break}m||l.push(f[h])}}return Array.isArray(u)&&Array.isArray(s)?pu(l):new o(pu(l))}})});var kC="setDistinct",KW=["typed","size","subset","compareNatural","Index","DenseMatrix"],Jb=M(kC,KW,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=r;return e(kC,{"Array | Matrix":function(u){var s;if(n(t(u),new a(0))===0)s=[];else{var l=Mt(Array.isArray(u)?u:u.toArray()).sort(i);s=[],s.push(l[0]);for(var f=1;f<l.length;f++)i(l[f],l[f-1])!==0&&s.push(l[f])}return Array.isArray(u)?s:new o(s)}})});var RC="setIntersect",eY=["typed","size","subset","compareNatural","Index","DenseMatrix"],Xb=M(RC,eY,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=r;return e(RC,{"Array | Matrix, Array | Matrix":function(u,s){var l;if(n(t(u),new a(0))===0||n(t(s),new a(0))===0)l=[];else{var f=Va(Mt(Array.isArray(u)?u:u.toArray()).sort(i)),p=Va(Mt(Array.isArray(s)?s:s.toArray()).sort(i));l=[];for(var m=0;m<f.length;m++)for(var h=0;h<p.length;h++)if(i(f[m].value,p[h].value)===0&&f[m].identifier===p[h].identifier){l.push(f[m]);break}}return Array.isArray(u)&&Array.isArray(s)?pu(l):new o(pu(l))}})});var LC="setIsSubset",tY=["typed","size","subset","compareNatural","Index"],Qb=M(LC,tY,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a}=r;return e(LC,{"Array | Matrix, Array | Matrix":function(c,u){if(n(t(c),new a(0))===0)return!0;if(n(t(u),new a(0))===0)return!1;for(var s=Va(Mt(Array.isArray(c)?c:c.toArray()).sort(i)),l=Va(Mt(Array.isArray(u)?u:u.toArray()).sort(i)),f,p=0;p<s.length;p++){f=!1;for(var m=0;m<l.length;m++)if(i(s[p].value,l[m].value)===0&&s[p].identifier===l[m].identifier){f=!0;break}if(f===!1)return!1}return!0}})});var UC="setMultiplicity",rY=["typed","size","subset","compareNatural","Index"],Kb=M(UC,rY,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a}=r;return e(UC,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(c,u){if(n(t(u),new a(0))===0)return 0;for(var s=Mt(Array.isArray(u)?u:u.toArray()),l=0,f=0;f<s.length;f++)i(s[f],c)===0&&l++;return l}})});var VC="setPowerset",nY=["typed","size","subset","compareNatural","Index"],e1=M(VC,nY,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a}=r;return e(VC,{"Array | Matrix":function(s){if(n(t(s),new a(0))===0)return[];for(var l=Mt(Array.isArray(s)?s:s.toArray()).sort(i),f=[],p=0;p.toString(2).length<=l.length;)f.push(o(l,p.toString(2).split("").reverse())),p++;return c(f)}});function o(u,s){for(var l=[],f=0;f<s.length;f++)s[f]==="1"&&l.push(u[f]);return l}function c(u){for(var s=[],l=u.length-1;l>0;l--)for(var f=0;f<l;f++)u[f].length>u[f+1].length&&(s=u[f],u[f]=u[f+1],u[f+1]=s);return u}});var qC="setSize",iY=["typed","compareNatural"],t1=M(qC,iY,r=>{var{typed:e,compareNatural:t}=r;return e(qC,{"Array | Matrix":function(i){return Array.isArray(i)?Mt(i).length:Mt(i.toArray()).length},"Array | Matrix, boolean":function(i,a){if(a===!1||i.length===0)return Array.isArray(i)?Mt(i).length:Mt(i.toArray()).length;for(var o=Mt(Array.isArray(i)?i:i.toArray()).sort(t),c=1,u=1;u<o.length;u++)t(o[u],o[u-1])!==0&&c++;return c}})});var zC="setSymDifference",aY=["typed","size","concat","subset","setDifference","Index"],r1=M(zC,aY,r=>{var{typed:e,size:t,concat:n,subset:i,setDifference:a,Index:o}=r;return e(zC,{"Array | Matrix, Array | Matrix":function(u,s){if(i(t(u),new o(0))===0)return Mt(s);if(i(t(s),new o(0))===0)return Mt(u);var l=Mt(u),f=Mt(s);return n(a(l,f),a(f,l))}})});var $C="setUnion",oY=["typed","size","concat","subset","setIntersect","setSymDifference","Index"],n1=M($C,oY,r=>{var{typed:e,size:t,concat:n,subset:i,setIntersect:a,setSymDifference:o,Index:c}=r;return e($C,{"Array | Matrix, Array | Matrix":function(s,l){if(i(t(s),new c(0))===0)return Mt(l);if(i(t(l),new c(0))===0)return Mt(s);var f=Mt(s),p=Mt(l);return n(o(f,p),a(f,p))}})});var HC="add",sY=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],i1=M(HC,sY,r=>{var{typed:e,matrix:t,addScalar:n,equalScalar:i,DenseMatrix:a,SparseMatrix:o,concat:c}=r,u=Ln({typed:e}),s=bu({typed:e,equalScalar:i}),l=li({typed:e,DenseMatrix:a}),f=Nt({typed:e,matrix:t,concat:c});return e(HC,{"any, any":n,"any, any, ...any":e.referToSelf(p=>(m,h,d)=>{for(var v=p(m,h),y=0;y<d.length;y++)v=p(v,d[y]);return v})},f({elop:n,DS:u,SS:s,Ss:l}))});var GC="hypot",uY=["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],a1=M(GC,uY,r=>{var{typed:e,abs:t,addScalar:n,divideScalar:i,multiplyScalar:a,sqrt:o,smaller:c,isPositive:u}=r;return e(GC,{"... number | BigNumber":s,Array:s,Matrix:l=>s(Mt(l.toArray()))});function s(l){for(var f=0,p=0,m=0;m<l.length;m++){if(Xn(l[m]))throw new TypeError("Unexpected type of argument to hypot");var h=t(l[m]);c(p,h)?(f=a(f,a(i(p,h),i(p,h))),f=n(f,1),p=h):f=n(f,u(h)?a(i(h,p),i(h,p)):h)}return a(p,o(f))}});var WC="norm",lY=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],o1=M(WC,lY,r=>{var{typed:e,abs:t,add:n,pow:i,conj:a,sqrt:o,multiply:c,equalScalar:u,larger:s,smaller:l,matrix:f,ctranspose:p,eigs:m}=r;return e(WC,{number:Math.abs,Complex:function(A){return A.abs()},BigNumber:function(A){return A.abs()},boolean:function(A){return Math.abs(A)},Array:function(A){return x(f(A),2)},Matrix:function(A){return x(A,2)},"Array, number | BigNumber | string":function(A,N){return x(f(A),N)},"Matrix, number | BigNumber | string":function(A,N){return x(A,N)}});function h(T){var A=0;return T.forEach(function(N){var E=t(N);s(E,A)&&(A=E)},!0),A}function d(T){var A;return T.forEach(function(N){var E=t(N);(!A||l(E,A))&&(A=E)},!0),A||0}function v(T,A){if(A===Number.POSITIVE_INFINITY||A==="inf")return h(T);if(A===Number.NEGATIVE_INFINITY||A==="-inf")return d(T);if(A==="fro")return x(T,2);if(typeof A=="number"&&!isNaN(A)){if(!u(A,0)){var N=0;return T.forEach(function(E){N=n(i(t(E),A),N)},!0),i(N,1/A)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}function y(T){var A=0;return T.forEach(function(N,E){A=n(A,c(N,a(N)))}),t(o(A))}function S(T){var A=[],N=0;return T.forEach(function(E,C){var O=C[1],U=n(A[O]||0,t(E));s(U,N)&&(N=U),A[O]=U},!0),N}function b(T){var A=T.size();if(A[0]!==A[1])throw new RangeError("Invalid matrix dimensions");var N=p(T),E=c(N,T),C=m(E).values.toArray(),O=C[C.length-1];return t(o(O))}function w(T){var A=[],N=0;return T.forEach(function(E,C){var O=C[0],U=n(A[O]||0,t(E));s(U,N)&&(N=U),A[O]=U},!0),N}function _(T,A){if(A===1)return S(T);if(A===Number.POSITIVE_INFINITY||A==="inf")return w(T);if(A==="fro")return y(T);if(A===2)return b(T);throw new Error("Unsupported parameter value "+A)}function x(T,A){var N=T.size();if(N.length===1)return v(T,A);if(N.length===2){if(N[0]&&N[1])return _(T,A);throw new RangeError("Invalid matrix dimensions")}}});var YC="dot",cY=["typed","addScalar","multiplyScalar","conj","size"],s1=M(YC,cY,r=>{var{typed:e,addScalar:t,multiplyScalar:n,conj:i,size:a}=r;return e(YC,{"Array | DenseMatrix, Array | DenseMatrix":c,"SparseMatrix, SparseMatrix":u});function o(l,f){var p=s(l),m=s(f),h,d;if(p.length===1)h=p[0];else if(p.length===2&&p[1]===1)h=p[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+p.join(", ")+")");if(m.length===1)d=m[0];else if(m.length===2&&m[1]===1)d=m[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+m.join(", ")+")");if(h!==d)throw new RangeError("Vectors must have equal length ("+h+" != "+d+")");if(h===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return h}function c(l,f){var p=o(l,f),m=rt(l)?l._data:l,h=rt(l)?l._datatype||l.getDataType():void 0,d=rt(f)?f._data:f,v=rt(f)?f._datatype||f.getDataType():void 0,y=s(l).length===2,S=s(f).length===2,b=t,w=n;if(h&&v&&h===v&&typeof h=="string"&&h!=="mixed"){var _=h;b=e.find(t,[_,_]),w=e.find(n,[_,_])}if(!y&&!S){for(var x=w(i(m[0]),d[0]),T=1;T<p;T++)x=b(x,w(i(m[T]),d[T]));return x}if(!y&&S){for(var A=w(i(m[0]),d[0][0]),N=1;N<p;N++)A=b(A,w(i(m[N]),d[N][0]));return A}if(y&&!S){for(var E=w(i(m[0][0]),d[0]),C=1;C<p;C++)E=b(E,w(i(m[C][0]),d[C]));return E}if(y&&S){for(var O=w(i(m[0][0]),d[0][0]),U=1;U<p;U++)O=b(O,w(i(m[U][0]),d[U][0]));return O}}function u(l,f){o(l,f);for(var p=l._index,m=l._values,h=f._index,d=f._values,v=0,y=t,S=n,b=0,w=0;b<p.length&&w<h.length;){var _=p[b],x=h[w];if(_<x){b++;continue}if(_>x){w++;continue}_===x&&(v=y(v,S(m[b],d[w])),b++,w++)}return v}function s(l){return rt(l)?l.size():a(l)}});var fY="trace",pY=["typed","matrix","add"],u1=M(fY,pY,r=>{var{typed:e,matrix:t,add:n}=r;return e("trace",{Array:function(c){return i(t(c))},SparseMatrix:a,DenseMatrix:i,any:pt});function i(o){var c=o._size,u=o._data;switch(c.length){case 1:if(c[0]===1)return pt(u[0]);throw new RangeError("Matrix must be square (size: "+bt(c)+")");case 2:{var s=c[0],l=c[1];if(s===l){for(var f=0,p=0;p<s;p++)f=n(f,u[p][p]);return f}else throw new RangeError("Matrix must be square (size: "+bt(c)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+bt(c)+")")}}function a(o){var c=o._values,u=o._index,s=o._ptr,l=o._size,f=l[0],p=l[1];if(f===p){var m=0;if(c.length>0)for(var h=0;h<p;h++)for(var d=s[h],v=s[h+1],y=d;y<v;y++){var S=u[y];if(S===h){m=n(m,c[y]);break}if(S>h)break}return m}throw new RangeError("Matrix must be square (size: "+bt(l)+")")}});var jC="index",mY=["typed","Index"],l1=M(jC,mY,r=>{var{typed:e,Index:t}=r;return e(jC,{"...number | string | BigNumber | Range | Array | Matrix":function(i){var a=i.map(function(c){return st(c)?c.toNumber():Gt(c)||rt(c)?c.map(function(u){return st(u)?u.toNumber():u}):c}),o=new t;return t.apply(o,a),o}})});var Rp=new Set(["end"]);var dY="Node",hY=["mathWithTransform"],c1=M(dY,hY,r=>{var{mathWithTransform:e}=r;function t(i){for(var a of[...Rp])if(i.has(a))throw new Error('Scope contains an illegal symbol, "'+a+'" is a reserved keyword')}class n{get type(){return"Node"}get isNode(){return!0}evaluate(a){return this.compile().evaluate(a)}compile(){var a=this._compile(e,{}),o={},c=null;function u(s){var l=qa(s);return t(l),a(l,o,c)}return{evaluate:u}}_compile(a,o){throw new Error("Method _compile must be implemented by type "+this.type)}forEach(a){throw new Error("Cannot run forEach on a Node interface")}map(a){throw new Error("Cannot run map on a Node interface")}_ifNode(a){if(!Vt(a))throw new TypeError("Callback function must return a Node");return a}traverse(a){a(this,null,null);function o(c,u){c.forEach(function(s,l,f){u(s,l,f),o(s,u)})}o(this,a)}transform(a){function o(c,u,s){var l=a(c,u,s);return l!==c?l:c.map(o)}return o(this,null,null)}filter(a){var o=[];return this.traverse(function(c,u,s){a(c,u,s)&&o.push(c)}),o}clone(){throw new Error("Cannot clone a Node interface")}cloneDeep(){return this.map(function(a){return a.cloneDeep()})}equals(a){return a?this.type===a.type&&ta(this,a):!1}toString(a){var o=this._getCustomString(a);return typeof o!="undefined"?o:this._toString(a)}_toString(){throw new Error("_toString not implemented for "+this.type)}toJSON(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)}toHTML(a){var o=this._getCustomString(a);return typeof o!="undefined"?o:this._toHTML(a)}_toHTML(){throw new Error("_toHTML not implemented for "+this.type)}toTex(a){var o=this._getCustomString(a);return typeof o!="undefined"?o:this._toTex(a)}_toTex(a){throw new Error("_toTex not implemented for "+this.type)}_getCustomString(a){if(a&&typeof a=="object")switch(typeof a.handler){case"object":case"undefined":return;case"function":return a.handler(this,a);default:throw new TypeError("Object or function expected as callback")}}getIdentifier(){return this.type}getContent(){return this}}return n},{isClass:!0,isNode:!0});function Sr(r){return r&&r.isIndexError?new Mn(r.index+1,r.min+1,r.max!==void 0?r.max+1:void 0):r}function Lp(r){var{subset:e}=r;return function(n,i){try{if(Array.isArray(n))return e(n,i);if(n&&typeof n.subset=="function")return n.subset(i);if(typeof n=="string")return e(n,i);if(typeof n=="object"){if(!i.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return Fr(n,i.getObjectProperty())}else throw new TypeError("Cannot apply index: unsupported type of object")}catch(a){throw Sr(a)}}}var Up="AccessorNode",gY=["subset","Node"],f1=M(Up,gY,r=>{var{subset:e,Node:t}=r,n=Lp({subset:e});function i(o){return!(Si(o)||En(o)||kt(o)||Qn(o)||ho(o)||Tn(o)||xr(o))}class a extends t{constructor(c,u){if(super(),!Vt(c))throw new TypeError('Node expected for parameter "object"');if(!Ri(u))throw new TypeError('IndexNode expected for parameter "index"');this.object=c,this.index=u}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return Up}get isAccessorNode(){return!0}_compile(c,u){var s=this.object._compile(c,u),l=this.index._compile(c,u);if(this.index.isObjectProperty()){var f=this.index.getObjectProperty();return function(m,h,d){return Fr(s(m,h,d),f)}}else return function(m,h,d){var v=s(m,h,d),y=l(m,h,v);return n(v,y)}}forEach(c){c(this.object,"object",this),c(this.index,"index",this)}map(c){return new a(this._ifNode(c(this.object,"object",this)),this._ifNode(c(this.index,"index",this)))}clone(){return new a(this.object,this.index)}_toString(c){var u=this.object.toString(c);return i(this.object)&&(u="("+u+")"),u+this.index.toString(c)}_toHTML(c){var u=this.object.toHTML(c);return i(this.object)&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u+this.index.toHTML(c)}_toTex(c){var u=this.object.toTex(c);return i(this.object)&&(u="\\left(' + object + '\\right)"),u+this.index.toTex(c)}toJSON(){return{mathjs:Up,object:this.object,index:this.index}}static fromJSON(c){return new a(c.object,c.index)}}return nr(a,"name",Up),a},{isClass:!0,isNode:!0});var Vp="ArrayNode",vY=["Node"],p1=M(Vp,vY,r=>{var{Node:e}=r;class t extends e{constructor(i){if(super(),this.items=i||[],!Array.isArray(this.items)||!this.items.every(Vt))throw new TypeError("Array containing Nodes expected")}get type(){return Vp}get isArrayNode(){return!0}_compile(i,a){var o=oi(this.items,function(s){return s._compile(i,a)}),c=i.config.matrix!=="Array";if(c){var u=i.matrix;return function(l,f,p){return u(oi(o,function(m){return m(l,f,p)}))}}else return function(l,f,p){return oi(o,function(m){return m(l,f,p)})}}forEach(i){for(var a=0;a<this.items.length;a++){var o=this.items[a];i(o,"items["+a+"]",this)}}map(i){for(var a=[],o=0;o<this.items.length;o++)a[o]=this._ifNode(i(this.items[o],"items["+o+"]",this));return new t(a)}clone(){return new t(this.items.slice(0))}_toString(i){var a=this.items.map(function(o){return o.toString(i)});return"["+a.join(", ")+"]"}toJSON(){return{mathjs:Vp,items:this.items}}static fromJSON(i){return new t(i.items)}_toHTML(i){var a=this.items.map(function(o){return o.toHTML(i)});return'<span class="math-parenthesis math-square-parenthesis">[</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(i){function a(o,c){var u=o.some(En)&&!o.every(En),s=c||u,l=s?"&":"\\\\",f=o.map(function(p){return p.items?a(p.items,!c):p.toTex(i)}).join(l);return u||!s||s&&!c?"\\begin{bmatrix}"+f+"\\end{bmatrix}":f}return a(this.items,!1)}}return nr(t,"name",Vp),t},{isClass:!0,isNode:!0});function ZC(r){var{subset:e,matrix:t}=r;return function(i,a,o){try{if(Array.isArray(i)){var c=t(i).subset(a,o).valueOf();return c.forEach((u,s)=>{i[s]=u}),i}else{if(i&&typeof i.subset=="function")return i.subset(a,o);if(typeof i=="string")return e(i,a,o);if(typeof i=="object"){if(!a.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return ha(i,a.getObjectProperty(),o),i}else throw new TypeError("Cannot apply index: unsupported type of object")}}catch(u){throw Sr(u)}}}var $i=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{op:"or",associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{op:"xor",associativity:"left",associativeWith:[]}},{"OperatorNode:and":{op:"and",associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{op:"|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{op:"^|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{op:"&",associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{op:"==",associativity:"left",associativeWith:[]},"OperatorNode:unequal":{op:"!=",associativity:"left",associativeWith:[]},"OperatorNode:smaller":{op:"<",associativity:"left",associativeWith:[]},"OperatorNode:larger":{op:">",associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{op:"<=",associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{op:">=",associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{op:"<<",associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{op:">>",associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{op:">>>",associativity:"left",associativeWith:[]}},{"OperatorNode:to":{op:"to",associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{op:"+",associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{op:"-",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{op:"*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{op:"/",associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{op:".*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{op:"./",associativity:"left",associativeWith:[]},"OperatorNode:mod":{op:"mod",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]}},{"OperatorNode:unaryPlus":{op:"+",associativity:"right"},"OperatorNode:unaryMinus":{op:"-",associativity:"right"},"OperatorNode:bitNot":{op:"~",associativity:"right"},"OperatorNode:not":{op:"not",associativity:"right"}},{"OperatorNode:pow":{op:"^",associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{op:".^",associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{op:"!",associativity:"left"}},{"OperatorNode:ctranspose":{op:"'",associativity:"left"}}];function qp(r,e){if(!e||e!=="auto")return r;for(var t=r;Tn(t);)t=t.content;return t}function ur(r,e,t,n){var i=r;e!=="keep"&&(i=r.getContent());for(var a=i.getIdentifier(),o=null,c=0;c<$i.length;c++)if(a in $i[c]){o=c;break}if(a==="OperatorNode:multiply"&&i.implicit&&t!=="show"){var u=qp(i.args[0],e);!(kt(u)&&n&&n.getIdentifier()==="OperatorNode:divide"&&wl(qp(n.args[0],e)))&&!(u.getIdentifier()==="OperatorNode:divide"&&wl(qp(u.args[0],e))&&kt(qp(u.args[1])))&&(o+=1)}return o}function Au(r,e){var t=r;e!=="keep"&&(t=r.getContent());var n=t.getIdentifier(),i=ur(t,e);if(i===null)return null;var a=$i[i][n];if(at(a,"associativity")){if(a.associativity==="left")return"left";if(a.associativity==="right")return"right";throw Error("'"+n+"' has the invalid associativity '"+a.associativity+"'.")}return null}function zp(r,e,t){var n=t!=="keep"?r.getContent():r,i=t!=="keep"?r.getContent():e,a=n.getIdentifier(),o=i.getIdentifier(),c=ur(n,t);if(c===null)return null;var u=$i[c][a];if(at(u,"associativeWith")&&u.associativeWith instanceof Array){for(var s=0;s<u.associativeWith.length;s++)if(u.associativeWith[s]===o)return!0;return!1}return null}function JC(r){var e="OperatorNode:"+r;for(var t of $i)if(e in t)return t[e].op;return null}var $p="AssignmentNode",yY=["subset","?matrix","Node"],m1=M($p,yY,r=>{var{subset:e,matrix:t,Node:n}=r,i=Lp({subset:e}),a=ZC({subset:e,matrix:t});function o(u,s,l){s||(s="keep");var f=ur(u,s,l),p=ur(u.value,s,l);return s==="all"||p!==null&&p<=f}class c extends n{constructor(s,l,f){if(super(),this.object=s,this.index=f?l:null,this.value=f||l,!xr(s)&&!Si(s))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(xr(s)&&s.name==="end")throw new Error('Cannot assign to symbol "end"');if(this.index&&!Ri(this.index))throw new TypeError('IndexNode expected as "index"');if(!Vt(this.value))throw new TypeError('Node expected as "value"')}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return $p}get isAssignmentNode(){return!0}_compile(s,l){var f=this.object._compile(s,l),p=this.index?this.index._compile(s,l):null,m=this.value._compile(s,l),h=this.object.name;if(this.index)if(this.index.isObjectProperty()){var d=this.index.getObjectProperty();return function(w,_,x){var T=f(w,_,x),A=m(w,_,x);return ha(T,d,A),A}}else{if(xr(this.object))return function(w,_,x){var T=f(w,_,x),A=m(w,_,x),N=p(w,_,T);return w.set(h,a(T,N,A)),A};var v=this.object.object._compile(s,l);if(this.object.index.isObjectProperty()){var y=this.object.index.getObjectProperty();return function(w,_,x){var T=v(w,_,x),A=Fr(T,y),N=p(w,_,A),E=m(w,_,x);return ha(T,y,a(A,N,E)),E}}else{var S=this.object.index._compile(s,l);return function(w,_,x){var T=v(w,_,x),A=S(w,_,T),N=i(T,A),E=p(w,_,N),C=m(w,_,x);return a(T,A,a(N,E,C)),C}}}else{if(!xr(this.object))throw new TypeError("SymbolNode expected as object");return function(w,_,x){var T=m(w,_,x);return w.set(h,T),T}}}forEach(s){s(this.object,"object",this),this.index&&s(this.index,"index",this),s(this.value,"value",this)}map(s){var l=this._ifNode(s(this.object,"object",this)),f=this.index?this._ifNode(s(this.index,"index",this)):null,p=this._ifNode(s(this.value,"value",this));return new c(l,f,p)}clone(){return new c(this.object,this.index,this.value)}_toString(s){var l=this.object.toString(s),f=this.index?this.index.toString(s):"",p=this.value.toString(s);return o(this,s&&s.parenthesis,s&&s.implicit)&&(p="("+p+")"),l+f+" = "+p}toJSON(){return{mathjs:$p,object:this.object,index:this.index,value:this.value}}static fromJSON(s){return new c(s.object,s.index,s.value)}_toHTML(s){var l=this.object.toHTML(s),f=this.index?this.index.toHTML(s):"",p=this.value.toHTML(s);return o(this,s&&s.parenthesis,s&&s.implicit)&&(p='<span class="math-paranthesis math-round-parenthesis">(</span>'+p+'<span class="math-paranthesis math-round-parenthesis">)</span>'),l+f+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+p}_toTex(s){var l=this.object.toTex(s),f=this.index?this.index.toTex(s):"",p=this.value.toTex(s);return o(this,s&&s.parenthesis,s&&s.implicit)&&(p="\\left(".concat(p,"\\right)")),l+f+"="+p}}return nr(c,"name",$p),c},{isClass:!0,isNode:!0});var Hp="BlockNode",bY=["ResultSet","Node"],d1=M(Hp,bY,r=>{var{ResultSet:e,Node:t}=r;class n extends t{constructor(a){if(super(),!Array.isArray(a))throw new Error("Array expected");this.blocks=a.map(function(o){var c=o&&o.node,u=o&&o.visible!==void 0?o.visible:!0;if(!Vt(c))throw new TypeError('Property "node" must be a Node');if(typeof u!="boolean")throw new TypeError('Property "visible" must be a boolean');return{node:c,visible:u}})}get type(){return Hp}get isBlockNode(){return!0}_compile(a,o){var c=oi(this.blocks,function(u){return{evaluate:u.node._compile(a,o),visible:u.visible}});return function(s,l,f){var p=[];return go(c,function(h){var d=h.evaluate(s,l,f);h.visible&&p.push(d)}),new e(p)}}forEach(a){for(var o=0;o<this.blocks.length;o++)a(this.blocks[o].node,"blocks["+o+"].node",this)}map(a){for(var o=[],c=0;c<this.blocks.length;c++){var u=this.blocks[c],s=this._ifNode(a(u.node,"blocks["+c+"].node",this));o[c]={node:s,visible:u.visible}}return new n(o)}clone(){var a=this.blocks.map(function(o){return{node:o.node,visible:o.visible}});return new n(a)}_toString(a){return this.blocks.map(function(o){return o.node.toString(a)+(o.visible?"":";")}).join(`
`)}toJSON(){return{mathjs:Hp,blocks:this.blocks}}static fromJSON(a){return new n(a.blocks)}_toHTML(a){return this.blocks.map(function(o){return o.node.toHTML(a)+(o.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')}_toTex(a){return this.blocks.map(function(o){return o.node.toTex(a)+(o.visible?"":";")}).join(`\\;\\;
`)}}return nr(n,"name",Hp),n},{isClass:!0,isNode:!0});var Gp="ConditionalNode",xY=["Node"],h1=M(Gp,xY,r=>{var{Node:e}=r;function t(i){if(typeof i=="number"||typeof i=="boolean"||typeof i=="string")return!!i;if(i){if(st(i))return!i.isZero();if(Xn(i))return!!(i.re||i.im);if(An(i))return!!i.value}if(i==null)return!1;throw new TypeError('Unsupported type of condition "'+$t(i)+'"')}class n extends e{constructor(a,o,c){if(super(),!Vt(a))throw new TypeError("Parameter condition must be a Node");if(!Vt(o))throw new TypeError("Parameter trueExpr must be a Node");if(!Vt(c))throw new TypeError("Parameter falseExpr must be a Node");this.condition=a,this.trueExpr=o,this.falseExpr=c}get type(){return Gp}get isConditionalNode(){return!0}_compile(a,o){var c=this.condition._compile(a,o),u=this.trueExpr._compile(a,o),s=this.falseExpr._compile(a,o);return function(f,p,m){return t(c(f,p,m))?u(f,p,m):s(f,p,m)}}forEach(a){a(this.condition,"condition",this),a(this.trueExpr,"trueExpr",this),a(this.falseExpr,"falseExpr",this)}map(a){return new n(this._ifNode(a(this.condition,"condition",this)),this._ifNode(a(this.trueExpr,"trueExpr",this)),this._ifNode(a(this.falseExpr,"falseExpr",this)))}clone(){return new n(this.condition,this.trueExpr,this.falseExpr)}_toString(a){var o=a&&a.parenthesis?a.parenthesis:"keep",c=ur(this,o,a&&a.implicit),u=this.condition.toString(a),s=ur(this.condition,o,a&&a.implicit);(o==="all"||this.condition.type==="OperatorNode"||s!==null&&s<=c)&&(u="("+u+")");var l=this.trueExpr.toString(a),f=ur(this.trueExpr,o,a&&a.implicit);(o==="all"||this.trueExpr.type==="OperatorNode"||f!==null&&f<=c)&&(l="("+l+")");var p=this.falseExpr.toString(a),m=ur(this.falseExpr,o,a&&a.implicit);return(o==="all"||this.falseExpr.type==="OperatorNode"||m!==null&&m<=c)&&(p="("+p+")"),u+" ? "+l+" : "+p}toJSON(){return{mathjs:Gp,condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}}static fromJSON(a){return new n(a.condition,a.trueExpr,a.falseExpr)}_toHTML(a){var o=a&&a.parenthesis?a.parenthesis:"keep",c=ur(this,o,a&&a.implicit),u=this.condition.toHTML(a),s=ur(this.condition,o,a&&a.implicit);(o==="all"||this.condition.type==="OperatorNode"||s!==null&&s<=c)&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>');var l=this.trueExpr.toHTML(a),f=ur(this.trueExpr,o,a&&a.implicit);(o==="all"||this.trueExpr.type==="OperatorNode"||f!==null&&f<=c)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>');var p=this.falseExpr.toHTML(a),m=ur(this.falseExpr,o,a&&a.implicit);return(o==="all"||this.falseExpr.type==="OperatorNode"||m!==null&&m<=c)&&(p='<span class="math-parenthesis math-round-parenthesis">(</span>'+p+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u+'<span class="math-operator math-conditional-operator">?</span>'+l+'<span class="math-operator math-conditional-operator">:</span>'+p}_toTex(a){return"\\begin{cases} {"+this.trueExpr.toTex(a)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(a)+"}\\\\{"+this.falseExpr.toTex(a)+"}, &\\quad{\\text{otherwise}}\\end{cases}"}}return nr(n,"name",Gp),n},{isClass:!0,isNode:!0});var e2=dr(QC(),1);var v1={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},ir={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},y1={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(ir.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(ir.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(ir.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(ir.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(ir.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(ir.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(ir.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(ir.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(ir.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(ir.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(ir.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(ir.bitAnd,"${args[1]}\\right)")},bitNot:{1:ir.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(ir.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(ir.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(ir.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(ir.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(ir.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(ir.and,"${args[1]}\\right)")},not:{1:ir.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(ir.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(ir.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(ir.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},pinv:{1:"\\left(${args[0]}\\right)^{+}"},sqrtm:{1:"{${args[0]}}".concat(ir.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(ir.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(ir.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},lgamma:{1:"\\ln\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(ir.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(ir.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(ir.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(ir.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(ir.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(ir.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(ir.to,"${args[1]}\\right)")},numeric:function(e,t){return e.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(v1.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},t2="\\mathrm{${name}}\\left(${args}\\right)",KC={deg:"^\\circ"};function Wp(r){return(0,e2.default)(r,{preserveFormatting:!0})}function Yp(r,e){return e=typeof e=="undefined"?!1:e,e?at(KC,r)?KC[r]:"\\mathrm{"+Wp(r)+"}":at(v1,r)?v1[r]:Wp(r)}var jp="ConstantNode",DY=["Node"],b1=M(jp,DY,r=>{var{Node:e}=r;class t extends e{constructor(i){super(),this.value=i}get type(){return jp}get isConstantNode(){return!0}_compile(i,a){var o=this.value;return function(){return o}}forEach(i){}map(i){return this.clone()}clone(){return new t(this.value)}_toString(i){return bt(this.value,i)}_toHTML(i){var a=this._toString(i);switch($t(this.value)){case"number":case"BigNumber":case"Fraction":return'<span class="math-number">'+a+"</span>";case"string":return'<span class="math-string">'+a+"</span>";case"boolean":return'<span class="math-boolean">'+a+"</span>";case"null":return'<span class="math-null-symbol">'+a+"</span>";case"undefined":return'<span class="math-undefined">'+a+"</span>";default:return'<span class="math-symbol">'+a+"</span>"}}toJSON(){return{mathjs:jp,value:this.value}}static fromJSON(i){return new t(i.value)}_toTex(i){var a=this._toString(i);switch($t(this.value)){case"string":return"\\mathtt{"+Wp(a)+"}";case"number":case"BigNumber":{if(!isFinite(this.value))return this.value.valueOf()<0?"-\\infty":"\\infty";var o=a.toLowerCase().indexOf("e");if(o!==-1)return a.substring(0,o)+"\\cdot10^{"+a.substring(o+1)+"}"}return a;case"Fraction":return this.value.toLatex();default:return a}}}return nr(t,"name",jp),t},{isClass:!0,isNode:!0});var Zp="FunctionAssignmentNode",NY=["typed","Node"],x1=M(Zp,NY,r=>{var{typed:e,Node:t}=r;function n(a,o,c){var u=ur(a,o,c),s=ur(a.expr,o,c);return o==="all"||s!==null&&s<=u}class i extends t{constructor(o,c,u){if(super(),typeof o!="string")throw new TypeError('String expected for parameter "name"');if(!Array.isArray(c))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!Vt(u))throw new TypeError('Node expected for parameter "expr"');if(Rp.has(o))throw new Error('Illegal function name, "'+o+'" is a reserved keyword');var s=new Set;for(var l of c){var f=typeof l=="string"?l:l.name;if(s.has(f))throw new Error('Duplicate parameter name "'.concat(f,'"'));s.add(f)}this.name=o,this.params=c.map(function(p){return p&&p.name||p}),this.types=c.map(function(p){return p&&p.type||"any"}),this.expr=u}get type(){return Zp}get isFunctionAssignmentNode(){return!0}_compile(o,c){var u=Object.create(c);go(this.params,function(h){u[h]=!0});var s=this.expr._compile(o,u),l=this.name,f=this.params,p=Fg(this.types,","),m=l+"("+Fg(this.params,", ")+")";return function(d,v,y){var S={};S[p]=function(){for(var w=Object.create(v),_=0;_<f.length;_++)w[f[_]]=arguments[_];return s(d,w,y)};var b=e(l,S);return b.syntax=m,d.set(l,b),b}}forEach(o){o(this.expr,"expr",this)}map(o){var c=this._ifNode(o(this.expr,"expr",this));return new i(this.name,this.params.slice(0),c)}clone(){return new i(this.name,this.params.slice(0),this.expr)}_toString(o){var c=o&&o.parenthesis?o.parenthesis:"keep",u=this.expr.toString(o);return n(this,c,o&&o.implicit)&&(u="("+u+")"),this.name+"("+this.params.join(", ")+") = "+u}toJSON(){var o=this.types;return{mathjs:Zp,name:this.name,params:this.params.map(function(c,u){return{name:c,type:o[u]}}),expr:this.expr}}static fromJSON(o){return new i(o.name,o.params,o.expr)}_toHTML(o){for(var c=o&&o.parenthesis?o.parenthesis:"keep",u=[],s=0;s<this.params.length;s++)u.push('<span class="math-symbol math-parameter">'+pn(this.params[s])+"</span>");var l=this.expr.toHTML(o);return n(this,c,o&&o.implicit)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+pn(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+u.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+l}_toTex(o){var c=o&&o.parenthesis?o.parenthesis:"keep",u=this.expr.toTex(o);return n(this,c,o&&o.implicit)&&(u="\\left(".concat(u,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(Yp).join(",")+"\\right)="+u}}return nr(i,"name",Zp),i},{isClass:!0,isNode:!0});var Jp="IndexNode",AY=["Node","size"],w1=M(Jp,AY,r=>{var{Node:e,size:t}=r;class n extends e{constructor(a,o){if(super(),this.dimensions=a,this.dotNotation=o||!1,!Array.isArray(a)||!a.every(Vt))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}get type(){return Jp}get isIndexNode(){return!0}_compile(a,o){var c=oi(this.dimensions,function(s,l){var f=s.filter(h=>h.isSymbolNode&&h.name==="end").length>0;if(f){var p=Object.create(o);p.end=!0;var m=s._compile(a,p);return function(d,v,y){if(!rt(y)&&!Gt(y)&&!Vr(y))throw new TypeError('Cannot resolve "end": context must be a Matrix, Array, or string but is '+$t(y));var S=t(y).valueOf(),b=Object.create(v);return b.end=S[l],m(d,b,y)}}else return s._compile(a,o)}),u=Fr(a,"index");return function(l,f,p){var m=oi(c,function(h){return h(l,f,p)});return u(...m)}}forEach(a){for(var o=0;o<this.dimensions.length;o++)a(this.dimensions[o],"dimensions["+o+"]",this)}map(a){for(var o=[],c=0;c<this.dimensions.length;c++)o[c]=this._ifNode(a(this.dimensions[c],"dimensions["+c+"]",this));return new n(o,this.dotNotation)}clone(){return new n(this.dimensions.slice(0),this.dotNotation)}isObjectProperty(){return this.dimensions.length===1&&kt(this.dimensions[0])&&typeof this.dimensions[0].value=="string"}getObjectProperty(){return this.isObjectProperty()?this.dimensions[0].value:null}_toString(a){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"}toJSON(){return{mathjs:Jp,dimensions:this.dimensions,dotNotation:this.dotNotation}}static fromJSON(a){return new n(a.dimensions,a.dotNotation)}_toHTML(a){for(var o=[],c=0;c<this.dimensions.length;c++)o[c]=this.dimensions[c].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+pn(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+o.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(a){var o=this.dimensions.map(function(c){return c.toTex(a)});return this.dotNotation?"."+this.getObjectProperty():"_{"+o.join(",")+"}"}}return nr(n,"name",Jp),n},{isClass:!0,isNode:!0});var Xp="ObjectNode",EY=["Node"],_1=M(Xp,EY,r=>{var{Node:e}=r;class t extends e{constructor(i){if(super(),this.properties=i||{},i&&(typeof i!="object"||!Object.keys(i).every(function(a){return Vt(i[a])})))throw new TypeError("Object containing Nodes expected")}get type(){return Xp}get isObjectNode(){return!0}_compile(i,a){var o={};for(var c in this.properties)if(at(this.properties,c)){var u=ss(c),s=JSON.parse(u),l=Fr(this.properties,c);o[s]=l._compile(i,a)}return function(p,m,h){var d={};for(var v in o)at(o,v)&&(d[v]=o[v](p,m,h));return d}}forEach(i){for(var a in this.properties)at(this.properties,a)&&i(this.properties[a],"properties["+ss(a)+"]",this)}map(i){var a={};for(var o in this.properties)at(this.properties,o)&&(a[o]=this._ifNode(i(this.properties[o],"properties["+ss(o)+"]",this)));return new t(a)}clone(){var i={};for(var a in this.properties)at(this.properties,a)&&(i[a]=this.properties[a]);return new t(i)}_toString(i){var a=[];for(var o in this.properties)at(this.properties,o)&&a.push(ss(o)+": "+this.properties[o].toString(i));return"{"+a.join(", ")+"}"}toJSON(){return{mathjs:Xp,properties:this.properties}}static fromJSON(i){return new t(i.properties)}_toHTML(i){var a=[];for(var o in this.properties)at(this.properties,o)&&a.push('<span class="math-symbol math-property">'+pn(o)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[o].toHTML(i));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'}_toTex(i){var a=[];for(var o in this.properties)at(this.properties,o)&&a.push("\\mathbf{"+o+":} & "+this.properties[o].toTex(i)+"\\\\");var c="\\left\\{\\begin{array}{ll}"+a.join(`
`)+"\\end{array}\\right\\}";return c}}return nr(t,"name",Xp),t},{isClass:!0,isNode:!0});function hs(r,e){return new mu(r,new ls(e),new Set(Object.keys(e)))}var Qp="OperatorNode",TY=["Node"],S1=M(Qp,TY,r=>{var{Node:e}=r;function t(a,o){var c=a;if(o==="auto")for(;Tn(c);)c=c.content;return kt(c)?!0:Er(c)?t(c.args[0],o):!1}function n(a,o,c,u,s){var l=ur(a,o,c),f=Au(a,o);if(o==="all"||u.length>2&&a.getIdentifier()!=="OperatorNode:add"&&a.getIdentifier()!=="OperatorNode:multiply")return u.map(function(E){switch(E.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});var p;switch(u.length){case 0:p=[];break;case 1:{var m=ur(u[0],o,c,a);if(s&&m!==null){var h,d;if(o==="keep"?(h=u[0].getIdentifier(),d=a.getIdentifier()):(h=u[0].getContent().getIdentifier(),d=a.getContent().getIdentifier()),$i[l][d].latexLeftParens===!1){p=[!1];break}if($i[m][h].latexParens===!1){p=[!1];break}}if(m===null){p=[!1];break}if(m<=l){p=[!0];break}p=[!1]}break;case 2:{var v,y=ur(u[0],o,c,a),S=zp(a,u[0],o);y===null?v=!1:y===l&&f==="right"&&!S||y<l?v=!0:v=!1;var b,w=ur(u[1],o,c,a),_=zp(a,u[1],o);if(w===null?b=!1:w===l&&f==="left"&&!_||w<l?b=!0:b=!1,s){var x,T,A;o==="keep"?(x=a.getIdentifier(),T=a.args[0].getIdentifier(),A=a.args[1].getIdentifier()):(x=a.getContent().getIdentifier(),T=a.args[0].getContent().getIdentifier(),A=a.args[1].getContent().getIdentifier()),y!==null&&($i[l][x].latexLeftParens===!1&&(v=!1),$i[y][T].latexParens===!1&&(v=!1)),w!==null&&($i[l][x].latexRightParens===!1&&(b=!1),$i[w][A].latexParens===!1&&(b=!1))}p=[v,b]}break;default:(a.getIdentifier()==="OperatorNode:add"||a.getIdentifier()==="OperatorNode:multiply")&&(p=u.map(function(E){var C=ur(E,o,c,a),O=zp(a,E,o),U=Au(E,o);return C===null?!1:l===C&&f===U&&!O?!0:C<l}));break}if(u.length>=2&&a.getIdentifier()==="OperatorNode:multiply"&&a.implicit&&o!=="all"&&c==="hide")for(var N=1;N<p.length;++N)t(u[N],o)&&!p[N-1]&&(o!=="keep"||!Tn(u[N-1]))&&(p[N]=!0);return p}class i extends e{constructor(o,c,u,s,l){if(super(),typeof o!="string")throw new TypeError('string expected for parameter "op"');if(typeof c!="string")throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(u)||!u.every(Vt))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=s===!0,this.isPercentage=l===!0,this.op=o,this.fn=c,this.args=u||[]}get type(){return Qp}get isOperatorNode(){return!0}_compile(o,c){if(typeof this.fn!="string"||!lp(o,this.fn))throw o[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var u=Fr(o,this.fn),s=oi(this.args,function(h){return h._compile(o,c)});if(typeof u=="function"&&u.rawArgs===!0){var l=this.args;return function(d,v,y){return u(l,o,hs(d,v))}}else if(s.length===1){var f=s[0];return function(d,v,y){return u(f(d,v,y))}}else if(s.length===2){var p=s[0],m=s[1];return function(d,v,y){return u(p(d,v,y),m(d,v,y))}}else return function(d,v,y){return u.apply(null,oi(s,function(S){return S(d,v,y)}))}}forEach(o){for(var c=0;c<this.args.length;c++)o(this.args[c],"args["+c+"]",this)}map(o){for(var c=[],u=0;u<this.args.length;u++)c[u]=this._ifNode(o(this.args[u],"args["+u+"]",this));return new i(this.op,this.fn,c,this.implicit,this.isPercentage)}clone(){return new i(this.op,this.fn,this.args.slice(0),this.implicit,this.isPercentage)}isUnary(){return this.args.length===1}isBinary(){return this.args.length===2}_toString(o){var c=o&&o.parenthesis?o.parenthesis:"keep",u=o&&o.implicit?o.implicit:"hide",s=this.args,l=n(this,c,u,s,!1);if(s.length===1){var f=Au(this,c),p=s[0].toString(o);l[0]&&(p="("+p+")");var m=/[a-zA-Z]+/.test(this.op);return f==="right"?this.op+(m?" ":"")+p:f==="left"?p+(m?" ":"")+this.op:p+this.op}else if(s.length===2){var h=s[0].toString(o),d=s[1].toString(o);return l[0]&&(h="("+h+")"),l[1]&&(d="("+d+")"),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&u==="hide"?h+" "+d:h+" "+this.op+" "+d}else if(s.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var v=s.map(function(y,S){return y=y.toString(o),l[S]&&(y="("+y+")"),y});return this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&u==="hide"?v.join(" "):v.join(" "+this.op+" ")}else return this.fn+"("+this.args.join(", ")+")"}toJSON(){return{mathjs:Qp,op:this.op,fn:this.fn,args:this.args,implicit:this.implicit,isPercentage:this.isPercentage}}static fromJSON(o){return new i(o.op,o.fn,o.args,o.implicit,o.isPercentage)}_toHTML(o){var c=o&&o.parenthesis?o.parenthesis:"keep",u=o&&o.implicit?o.implicit:"hide",s=this.args,l=n(this,c,u,s,!1);if(s.length===1){var f=Au(this,c),p=s[0].toHTML(o);return l[0]&&(p='<span class="math-parenthesis math-round-parenthesis">(</span>'+p+'<span class="math-parenthesis math-round-parenthesis">)</span>'),f==="right"?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+pn(this.op)+"</span>"+p:p+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+pn(this.op)+"</span>"}else if(s.length===2){var m=s[0].toHTML(o),h=s[1].toHTML(o);return l[0]&&(m='<span class="math-parenthesis math-round-parenthesis">(</span>'+m+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l[1]&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&u==="hide"?m+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+h:m+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+pn(this.op)+"</span>"+h}else{var d=s.map(function(v,y){return v=v.toHTML(o),l[y]&&(v='<span class="math-parenthesis math-round-parenthesis">(</span>'+v+'<span class="math-parenthesis math-round-parenthesis">)</span>'),v});return s.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")?this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&u==="hide"?d.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):d.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+pn(this.op)+"</span>"):'<span class="math-function">'+pn(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+d.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}}_toTex(o){var c=o&&o.parenthesis?o.parenthesis:"keep",u=o&&o.implicit?o.implicit:"hide",s=this.args,l=n(this,c,u,s,!0),f=ir[this.fn];if(f=typeof f=="undefined"?this.op:f,s.length===1){var p=Au(this,c),m=s[0].toTex(o);return l[0]&&(m="\\left(".concat(m,"\\right)")),p==="right"?f+m:m+f}else if(s.length===2){var h=s[0],d=h.toTex(o);l[0]&&(d="\\left(".concat(d,"\\right)"));var v=s[1],y=v.toTex(o);l[1]&&(y="\\left(".concat(y,"\\right)"));var S;switch(c==="keep"?S=h.getIdentifier():S=h.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return f+"{"+d+"}{"+y+"}";case"OperatorNode:pow":switch(d="{"+d+"}",y="{"+y+"}",S){case"ConditionalNode":case"OperatorNode:divide":d="\\left(".concat(d,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&u==="hide")return d+"~"+y}return d+f+y}else if(s.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var b=s.map(function(w,_){return w=w.toTex(o),l[_]&&(w="\\left(".concat(w,"\\right)")),w});return this.getIdentifier()==="OperatorNode:multiply"&&this.implicit&&u==="hide"?b.join("~"):b.join(f)}else return"\\mathrm{"+this.fn+"}\\left("+s.map(function(w){return w.toTex(o)}).join(",")+"\\right)"}getIdentifier(){return this.type+":"+this.fn}}return nr(i,"name",Qp),i},{isClass:!0,isNode:!0});var Kp="ParenthesisNode",MY=["Node"],D1=M(Kp,MY,r=>{var{Node:e}=r;class t extends e{constructor(i){if(super(),!Vt(i))throw new TypeError('Node expected for parameter "content"');this.content=i}get type(){return Kp}get isParenthesisNode(){return!0}_compile(i,a){return this.content._compile(i,a)}getContent(){return this.content.getContent()}forEach(i){i(this.content,"content",this)}map(i){var a=i(this.content,"content",this);return new t(a)}clone(){return new t(this.content)}_toString(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?"("+this.content.toString(i)+")":this.content.toString(i)}toJSON(){return{mathjs:Kp,content:this.content}}static fromJSON(i){return new t(i.content)}_toHTML(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(i)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(i)}_toTex(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?"\\left(".concat(this.content.toTex(i),"\\right)"):this.content.toTex(i)}}return nr(t,"name",Kp),t},{isClass:!0,isNode:!0});var em="RangeNode",CY=["Node"],N1=M(em,CY,r=>{var{Node:e}=r;function t(i,a,o){var c=ur(i,a,o),u={},s=ur(i.start,a,o);if(u.start=s!==null&&s<=c||a==="all",i.step){var l=ur(i.step,a,o);u.step=l!==null&&l<=c||a==="all"}var f=ur(i.end,a,o);return u.end=f!==null&&f<=c||a==="all",u}class n extends e{constructor(a,o,c){if(super(),!Vt(a))throw new TypeError("Node expected");if(!Vt(o))throw new TypeError("Node expected");if(c&&!Vt(c))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=a,this.end=o,this.step=c||null}get type(){return em}get isRangeNode(){return!0}needsEnd(){var a=this.filter(function(o){return xr(o)&&o.name==="end"});return a.length>0}_compile(a,o){var c=a.range,u=this.start._compile(a,o),s=this.end._compile(a,o);if(this.step){var l=this.step._compile(a,o);return function(p,m,h){return c(u(p,m,h),s(p,m,h),l(p,m,h))}}else return function(p,m,h){return c(u(p,m,h),s(p,m,h))}}forEach(a){a(this.start,"start",this),a(this.end,"end",this),this.step&&a(this.step,"step",this)}map(a){return new n(this._ifNode(a(this.start,"start",this)),this._ifNode(a(this.end,"end",this)),this.step&&this._ifNode(a(this.step,"step",this)))}clone(){return new n(this.start,this.end,this.step&&this.step)}_toString(a){var o=a&&a.parenthesis?a.parenthesis:"keep",c=t(this,o,a&&a.implicit),u,s=this.start.toString(a);if(c.start&&(s="("+s+")"),u=s,this.step){var l=this.step.toString(a);c.step&&(l="("+l+")"),u+=":"+l}var f=this.end.toString(a);return c.end&&(f="("+f+")"),u+=":"+f,u}toJSON(){return{mathjs:em,start:this.start,end:this.end,step:this.step}}static fromJSON(a){return new n(a.start,a.end,a.step)}_toHTML(a){var o=a&&a.parenthesis?a.parenthesis:"keep",c=t(this,o,a&&a.implicit),u,s=this.start.toHTML(a);if(c.start&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u=s,this.step){var l=this.step.toHTML(a);c.step&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u+='<span class="math-operator math-range-operator">:</span>'+l}var f=this.end.toHTML(a);return c.end&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u+='<span class="math-operator math-range-operator">:</span>'+f,u}_toTex(a){var o=a&&a.parenthesis?a.parenthesis:"keep",c=t(this,o,a&&a.implicit),u=this.start.toTex(a);if(c.start&&(u="\\left(".concat(u,"\\right)")),this.step){var s=this.step.toTex(a);c.step&&(s="\\left(".concat(s,"\\right)")),u+=":"+s}var l=this.end.toTex(a);return c.end&&(l="\\left(".concat(l,"\\right)")),u+=":"+l,u}}return nr(n,"name",em),n},{isClass:!0,isNode:!0});var tm="RelationalNode",FY=["Node"],A1=M(tm,FY,r=>{var{Node:e}=r,t={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="};class n extends e{constructor(a,o){if(super(),!Array.isArray(a))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(o))throw new TypeError("Parameter params must be an array");if(a.length!==o.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=a,this.params=o}get type(){return tm}get isRelationalNode(){return!0}_compile(a,o){var c=this,u=this.params.map(s=>s._compile(a,o));return function(l,f,p){for(var m,h=u[0](l,f,p),d=0;d<c.conditionals.length;d++){m=h,h=u[d+1](l,f,p);var v=Fr(a,c.conditionals[d]);if(!v(m,h))return!1}return!0}}forEach(a){this.params.forEach((o,c)=>a(o,"params["+c+"]",this),this)}map(a){return new n(this.conditionals.slice(),this.params.map((o,c)=>this._ifNode(a(o,"params["+c+"]",this)),this))}clone(){return new n(this.conditionals,this.params)}_toString(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",c=ur(this,o,a&&a.implicit),u=this.params.map(function(f,p){var m=ur(f,o,a&&a.implicit);return o==="all"||m!==null&&m<=c?"("+f.toString(a)+")":f.toString(a)}),s=u[0],l=0;l<this.conditionals.length;l++)s+=" "+t[this.conditionals[l]],s+=" "+u[l+1];return s}toJSON(){return{mathjs:tm,conditionals:this.conditionals,params:this.params}}static fromJSON(a){return new n(a.conditionals,a.params)}_toHTML(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",c=ur(this,o,a&&a.implicit),u=this.params.map(function(f,p){var m=ur(f,o,a&&a.implicit);return o==="all"||m!==null&&m<=c?'<span class="math-parenthesis math-round-parenthesis">(</span>'+f.toHTML(a)+'<span class="math-parenthesis math-round-parenthesis">)</span>':f.toHTML(a)}),s=u[0],l=0;l<this.conditionals.length;l++)s+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+pn(t[this.conditionals[l]])+"</span>"+u[l+1];return s}_toTex(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",c=ur(this,o,a&&a.implicit),u=this.params.map(function(f,p){var m=ur(f,o,a&&a.implicit);return o==="all"||m!==null&&m<=c?"\\left("+f.toTex(a)+"\right)":f.toTex(a)}),s=u[0],l=0;l<this.conditionals.length;l++)s+=ir[this.conditionals[l]]+u[l+1];return s}}return nr(n,"name",tm),n},{isClass:!0,isNode:!0});var IY="SymbolNode",BY=["math","?Unit","Node"],E1=M(IY,BY,r=>{var{math:e,Unit:t,Node:n}=r;function i(o){return t?t.isValuelessUnit(o):!1}class a extends n{constructor(c){if(super(),typeof c!="string")throw new TypeError('String expected for parameter "name"');this.name=c}get type(){return"SymbolNode"}get isSymbolNode(){return!0}_compile(c,u){var s=this.name;if(u[s]===!0)return function(f,p,m){return Fr(p,s)};if(s in c)return function(f,p,m){return f.has(s)?f.get(s):Fr(c,s)};var l=i(s);return function(f,p,m){return f.has(s)?f.get(s):l?new t(null,s):a.onUndefinedSymbol(s)}}forEach(c){}map(c){return this.clone()}static onUndefinedSymbol(c){throw new Error("Undefined symbol "+c)}clone(){return new a(this.name)}_toString(c){return this.name}_toHTML(c){var u=pn(this.name);return u==="true"||u==="false"?'<span class="math-symbol math-boolean">'+u+"</span>":u==="i"?'<span class="math-symbol math-imaginary-symbol">'+u+"</span>":u==="Infinity"?'<span class="math-symbol math-infinity-symbol">'+u+"</span>":u==="NaN"?'<span class="math-symbol math-nan-symbol">'+u+"</span>":u==="null"?'<span class="math-symbol math-null-symbol">'+u+"</span>":u==="undefined"?'<span class="math-symbol math-undefined-symbol">'+u+"</span>":'<span class="math-symbol">'+u+"</span>"}toJSON(){return{mathjs:"SymbolNode",name:this.name}}static fromJSON(c){return new a(c.name)}_toTex(c){var u=!1;typeof e[this.name]=="undefined"&&i(this.name)&&(u=!0);var s=Yp(this.name,u);return s[0]==="\\"?s:" "+s}}return a},{isClass:!0,isNode:!0});var rm="FunctionNode",PY=["math","Node","SymbolNode"],T1=M(rm,PY,r=>{var e,{math:t,Node:n,SymbolNode:i}=r,a=u=>bt(u,{truncate:78});function o(u,s,l){for(var f="",p=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,m=0,h;(h=p.exec(u))!==null;)if(f+=u.substring(m,h.index),m=h.index,h[0]==="$$")f+="$",m++;else{m+=h[0].length;var d=s[h[1]];if(!d)throw new ReferenceError("Template: Property "+h[1]+" does not exist.");if(h[2]===void 0)switch(typeof d){case"string":f+=d;break;case"object":if(Vt(d))f+=d.toTex(l);else if(Array.isArray(d))f+=d.map(function(v,y){if(Vt(v))return v.toTex(l);throw new TypeError("Template: "+h[1]+"["+y+"] is not a Node.")}).join(",");else throw new TypeError("Template: "+h[1]+" has to be a Node, String or array of Nodes");break;default:throw new TypeError("Template: "+h[1]+" has to be a Node, String or array of Nodes")}else if(Vt(d[h[2]]&&d[h[2]]))f+=d[h[2]].toTex(l);else throw new TypeError("Template: "+h[1]+"["+h[2]+"] is not a Node.")}return f+=u.slice(m),f}class c extends n{constructor(s,l){if(super(),typeof s=="string"&&(s=new i(s)),!Vt(s))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(l)||!l.every(Vt))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=s,this.args=l||[]}get name(){return this.fn.name||""}get type(){return rm}get isFunctionNode(){return!0}_compile(s,l){var f=this.args.map(A=>A._compile(s,l));if(xr(this.fn)){var p=this.fn.name;if(l[p]){var y=this.args;return function(N,E,C){var O=Fr(E,p);if(typeof O!="function")throw new TypeError("Argument '".concat(p,"' was not a function; received: ").concat(a(O)));if(O.rawArgs)return O(y,s,hs(N,E));var U=f.map(q=>q(N,E,C));return O.apply(O,U)}}else{var m=p in s?Fr(s,p):void 0,h=typeof m=="function"&&m.rawArgs===!0,d=A=>{var N;if(A.has(p))N=A.get(p);else if(p in s)N=Fr(s,p);else return c.onUndefinedFunction(p);if(typeof N=="function")return N;throw new TypeError("'".concat(p,`' is not a function; its value is:
  `).concat(a(N)))};if(h){var v=this.args;return function(N,E,C){var O=d(N);return O(v,s,hs(N,E))}}else switch(f.length){case 0:return function(N,E,C){var O=d(N);return O()};case 1:return function(N,E,C){var O=d(N),U=f[0];return O(U(N,E,C))};case 2:return function(N,E,C){var O=d(N),U=f[0],q=f[1];return O(U(N,E,C),q(N,E,C))};default:return function(N,E,C){var O=d(N),U=f.map(q=>q(N,E,C));return O(...U)}}}}else if(Si(this.fn)&&Ri(this.fn.index)&&this.fn.index.isObjectProperty()){var S=this.fn.object._compile(s,l),b=this.fn.index.getObjectProperty(),w=this.args;return function(N,E,C){var O=S(N,E,C),U=pE(O,b);if(U!=null&&U.rawArgs)return U(w,s,hs(N,E));var q=f.map(L=>L(N,E,C));return U.apply(O,q)}}else{var _=this.fn.toString(),x=this.fn._compile(s,l),T=this.args;return function(N,E,C){var O=x(N,E,C);if(typeof O!="function")throw new TypeError("Expression '".concat(_,"' did not evaluate to a function; value is:")+`
  `.concat(a(O)));if(O.rawArgs)return O(T,s,hs(N,E));var U=f.map(q=>q(N,E,C));return O.apply(O,U)}}}forEach(s){s(this.fn,"fn",this);for(var l=0;l<this.args.length;l++)s(this.args[l],"args["+l+"]",this)}map(s){for(var l=this._ifNode(s(this.fn,"fn",this)),f=[],p=0;p<this.args.length;p++)f[p]=this._ifNode(s(this.args[p],"args["+p+"]",this));return new c(l,f)}clone(){return new c(this.fn,this.args.slice(0))}toString(s){var l,f=this.fn.toString(s);return s&&typeof s.handler=="object"&&at(s.handler,f)&&(l=s.handler[f](this,s)),typeof l!="undefined"?l:super.toString(s)}_toString(s){var l=this.args.map(function(p){return p.toString(s)}),f=da(this.fn)?"("+this.fn.toString(s)+")":this.fn.toString(s);return f+"("+l.join(", ")+")"}toJSON(){return{mathjs:rm,fn:this.fn,args:this.args}}_toHTML(s){var l=this.args.map(function(f){return f.toHTML(s)});return'<span class="math-function">'+pn(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+l.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}toTex(s){var l;return s&&typeof s.handler=="object"&&at(s.handler,this.name)&&(l=s.handler[this.name](this,s)),typeof l!="undefined"?l:super.toTex(s)}_toTex(s){var l=this.args.map(function(m){return m.toTex(s)}),f;y1[this.name]&&(f=y1[this.name]),t[this.name]&&(typeof t[this.name].toTex=="function"||typeof t[this.name].toTex=="object"||typeof t[this.name].toTex=="string")&&(f=t[this.name].toTex);var p;switch(typeof f){case"function":p=f(this,s);break;case"string":p=o(f,this,s);break;case"object":switch(typeof f[l.length]){case"function":p=f[l.length](this,s);break;case"string":p=o(f[l.length],this,s);break}}return typeof p!="undefined"?p:o(t2,this,s)}getIdentifier(){return this.type+":"+this.name}}return e=c,nr(c,"name",rm),nr(c,"onUndefinedFunction",function(u){throw new Error("Undefined function "+u)}),nr(c,"fromJSON",function(u){return new e(u.fn,u.args)}),c},{isClass:!0,isNode:!0});var r2="parse",OY=["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],M1=M(r2,OY,r=>{var{typed:e,numeric:t,config:n,AccessorNode:i,ArrayNode:a,AssignmentNode:o,BlockNode:c,ConditionalNode:u,ConstantNode:s,FunctionAssignmentNode:l,FunctionNode:f,IndexNode:p,ObjectNode:m,OperatorNode:h,ParenthesisNode:d,RangeNode:v,RelationalNode:y,SymbolNode:S}=r,b=e(r2,{string:function(G){return ie(G,{})},"Array | Matrix":function(G){return w(G,{})},"string, Object":function(G,de){var Ie=de.nodes!==void 0?de.nodes:{};return ie(G,Ie)},"Array | Matrix, Object":w});function w(F){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},de=G.nodes!==void 0?G.nodes:{};return ot(F,function(Ie){if(typeof Ie!="string")throw new TypeError("String expected");return ie(Ie,de)})}var _={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},x={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},T={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},A={true:!0,false:!1,null:null,undefined:void 0},N=["NaN","Infinity"],E={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function C(){return{extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:_.NULL,nestingLevel:0,conditionalLevel:null}}function O(F,G){return F.expression.substr(F.index,G)}function U(F){return O(F,1)}function q(F){F.index++}function L(F){return F.expression.charAt(F.index-1)}function P(F){return F.expression.charAt(F.index+1)}function k(F){for(F.tokenType=_.NULL,F.token="",F.comment="";;){if(U(F)==="#")for(;U(F)!==`
`&&U(F)!=="";)F.comment+=U(F),q(F);if(b.isWhitespace(U(F),F.nestingLevel))q(F);else break}if(U(F)===""){F.tokenType=_.DELIMITER;return}if(U(F)===`
`&&!F.nestingLevel){F.tokenType=_.DELIMITER,F.token=U(F),q(F);return}var G=U(F),de=O(F,2),Ie=O(F,3);if(Ie.length===3&&x[Ie]){F.tokenType=_.DELIMITER,F.token=Ie,q(F),q(F),q(F);return}if(de.length===2&&x[de]){F.tokenType=_.DELIMITER,F.token=de,q(F),q(F);return}if(x[G]){F.tokenType=_.DELIMITER,F.token=G,q(F);return}if(b.isDigitDot(G)){F.tokenType=_.NUMBER;var ut=O(F,2);if(ut==="0b"||ut==="0o"||ut==="0x"){for(F.token+=U(F),q(F),F.token+=U(F),q(F);b.isHexDigit(U(F));)F.token+=U(F),q(F);if(U(F)===".")for(F.token+=".",q(F);b.isHexDigit(U(F));)F.token+=U(F),q(F);else if(U(F)==="i")for(F.token+="i",q(F);b.isDigit(U(F));)F.token+=U(F),q(F);return}if(U(F)==="."){if(F.token+=U(F),q(F),!b.isDigit(U(F))){F.tokenType=_.DELIMITER;return}}else{for(;b.isDigit(U(F));)F.token+=U(F),q(F);b.isDecimalMark(U(F),P(F))&&(F.token+=U(F),q(F))}for(;b.isDigit(U(F));)F.token+=U(F),q(F);if(U(F)==="E"||U(F)==="e"){if(b.isDigit(P(F))||P(F)==="-"||P(F)==="+"){if(F.token+=U(F),q(F),(U(F)==="+"||U(F)==="-")&&(F.token+=U(F),q(F)),!b.isDigit(U(F)))throw Le(F,'Digit expected, got "'+U(F)+'"');for(;b.isDigit(U(F));)F.token+=U(F),q(F);if(b.isDecimalMark(U(F),P(F)))throw Le(F,'Digit expected, got "'+U(F)+'"')}else if(P(F)===".")throw q(F),Le(F,'Digit expected, got "'+U(F)+'"')}return}if(b.isAlpha(U(F),L(F),P(F))){for(;b.isAlpha(U(F),L(F),P(F))||b.isDigit(U(F));)F.token+=U(F),q(F);at(T,F.token)?F.tokenType=_.DELIMITER:F.tokenType=_.SYMBOL;return}for(F.tokenType=_.UNKNOWN;U(F)!=="";)F.token+=U(F),q(F);throw Le(F,'Syntax error in part "'+F.token+'"')}function H(F){do k(F);while(F.token===`
`)}function B(F){F.nestingLevel++}function W(F){F.nestingLevel--}b.isAlpha=function(G,de,Ie){return b.isValidLatinOrGreek(G)||b.isValidMathSymbol(G,Ie)||b.isValidMathSymbol(de,G)},b.isValidLatinOrGreek=function(G){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(G)},b.isValidMathSymbol=function(G,de){return/^[\uD835]$/.test(G)&&/^[\uDC00-\uDFFF]$/.test(de)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(de)},b.isWhitespace=function(G,de){return G===" "||G==="	"||G===`
`&&de>0},b.isDecimalMark=function(G,de){return G==="."&&de!=="/"&&de!=="*"&&de!=="^"},b.isDigitDot=function(G){return G>="0"&&G<="9"||G==="."},b.isDigit=function(G){return G>="0"&&G<="9"},b.isHexDigit=function(G){return G>="0"&&G<="9"||G>="a"&&G<="f"||G>="A"&&G<="F"};function ie(F,G){var de=C();Cr(de,{expression:F,extraNodes:G}),k(de);var Ie=Q(de);if(de.token!=="")throw de.tokenType===_.DELIMITER?$e(de,"Unexpected operator "+de.token):Le(de,'Unexpected part "'+de.token+'"');return Ie}function Q(F){var G,de=[],Ie;for(F.token!==""&&F.token!==`
`&&F.token!==";"&&(G=V(F),F.comment&&(G.comment=F.comment));F.token===`
`||F.token===";";)de.length===0&&G&&(Ie=F.token!==";",de.push({node:G,visible:Ie})),k(F),F.token!==`
`&&F.token!==";"&&F.token!==""&&(G=V(F),F.comment&&(G.comment=F.comment),Ie=F.token!==";",de.push({node:G,visible:Ie}));return de.length>0?new c(de):(G||(G=new s(void 0),F.comment&&(G.comment=F.comment)),G)}function V(F){var G,de,Ie,ut,yt=le(F);if(F.token==="="){if(xr(yt))return G=yt.name,H(F),Ie=V(F),new o(new S(G),Ie);if(Si(yt))return H(F),Ie=V(F),new o(yt.object,yt.index,Ie);if(Qn(yt)&&xr(yt.fn)&&(ut=!0,de=[],G=yt.name,yt.args.forEach(function(We,Wn){xr(We)?de[Wn]=We.name:ut=!1}),ut))return H(F),Ie=V(F),new l(G,de,Ie);throw Le(F,"Invalid left hand side of assignment operator =")}return yt}function le(F){for(var G=Se(F);F.token==="?";){var de=F.conditionalLevel;F.conditionalLevel=F.nestingLevel,H(F);var Ie=G,ut=V(F);if(F.token!==":")throw Le(F,"False part of conditional expression expected");F.conditionalLevel=null,H(F);var yt=V(F);G=new u(Ie,ut,yt),F.conditionalLevel=de}return G}function Se(F){for(var G=fe(F);F.token==="or";)H(F),G=new h("or","or",[G,fe(F)]);return G}function fe(F){for(var G=he(F);F.token==="xor";)H(F),G=new h("xor","xor",[G,he(F)]);return G}function he(F){for(var G=_e(F);F.token==="and";)H(F),G=new h("and","and",[G,_e(F)]);return G}function _e(F){for(var G=ge(F);F.token==="|";)H(F),G=new h("|","bitOr",[G,ge(F)]);return G}function ge(F){for(var G=me(F);F.token==="^|";)H(F),G=new h("^|","bitXor",[G,me(F)]);return G}function me(F){for(var G=we(F);F.token==="&";)H(F),G=new h("&","bitAnd",[G,we(F)]);return G}function we(F){for(var G=[Te(F)],de=[],Ie={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};at(Ie,F.token);){var ut={name:F.token,fn:Ie[F.token]};de.push(ut),H(F),G.push(Te(F))}return G.length===1?G[0]:G.length===2?new h(de[0].name,de[0].fn,G):new y(de.map(yt=>yt.fn),G)}function Te(F){var G,de,Ie,ut;G=ze(F);for(var yt={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};at(yt,F.token);)de=F.token,Ie=yt[de],H(F),ut=[G,ze(F)],G=new h(de,Ie,ut);return G}function ze(F){var G,de,Ie,ut;G=tt(F);for(var yt={to:"to",in:"to"};at(yt,F.token);)de=F.token,Ie=yt[de],H(F),de==="in"&&F.token===""?G=new h("*","multiply",[G,new S("in")],!0):(ut=[G,tt(F)],G=new h(de,Ie,ut));return G}function tt(F){var G,de=[];if(F.token===":"?G=new s(1):G=Y(F),F.token===":"&&F.conditionalLevel!==F.nestingLevel){for(de.push(G);F.token===":"&&de.length<3;)H(F),F.token===")"||F.token==="]"||F.token===","||F.token===""?de.push(new S("end")):de.push(Y(F));de.length===3?G=new v(de[0],de[2],de[1]):G=new v(de[0],de[1])}return G}function Y(F){var G,de,Ie,ut;G=K(F);for(var yt={"+":"add","-":"subtract"};at(yt,F.token);){de=F.token,Ie=yt[de],H(F);var We=K(F);We.isPercentage?ut=[G,new h("*","multiply",[G,We])]:ut=[G,We],G=new h(de,Ie,ut)}return G}function K(F){var G,de,Ie,ut;G=ve(F),de=G;for(var yt={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide"};at(yt,F.token);)Ie=F.token,ut=yt[Ie],H(F),de=ve(F),G=new h(Ie,ut,[G,de]);return G}function ve(F){var G,de;for(G=J(F),de=G;F.tokenType===_.SYMBOL||F.token==="in"&&kt(G)||F.tokenType===_.NUMBER&&!kt(de)&&(!Er(de)||de.op==="!")||F.token==="(";)de=J(F),G=new h("*","multiply",[G,de],!0);return G}function J(F){for(var G=te(F),de=G,Ie=[];F.token==="/"&&wl(de);)if(Ie.push(Cr({},F)),H(F),F.tokenType===_.NUMBER)if(Ie.push(Cr({},F)),H(F),F.tokenType===_.SYMBOL||F.token==="(")Cr(F,Ie.pop()),Ie.pop(),de=te(F),G=new h("/","divide",[G,de]);else{Ie.pop(),Cr(F,Ie.pop());break}else{Cr(F,Ie.pop());break}return G}function te(F){var G,de,Ie,ut;G=se(F);for(var yt={"%":"mod",mod:"mod"};at(yt,F.token);)de=F.token,Ie=yt[de],H(F),de==="%"&&F.tokenType===_.DELIMITER&&F.token!=="("?G=new h("/","divide",[G,new s(100)],!1,!0):(ut=[G,se(F)],G=new h(de,Ie,ut));return G}function se(F){var G,de,Ie,ut={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return at(ut,F.token)?(Ie=ut[F.token],G=F.token,H(F),de=[se(F)],new h(G,Ie,de)):De(F)}function De(F){var G,de,Ie,ut;return G=Ne(F),(F.token==="^"||F.token===".^")&&(de=F.token,Ie=de==="^"?"pow":"dotPow",H(F),ut=[G,se(F)],G=new h(de,Ie,ut)),G}function Ne(F){var G,de,Ie,ut;G=Ge(F);for(var yt={"!":"factorial","'":"ctranspose"};at(yt,F.token);)de=F.token,Ie=yt[de],k(F),ut=[G],G=new h(de,Ie,ut),G=xt(F,G);return G}function Ge(F){var G=[];if(F.tokenType===_.SYMBOL&&at(F.extraNodes,F.token)){var de=F.extraNodes[F.token];if(k(F),F.token==="("){if(G=[],B(F),k(F),F.token!==")")for(G.push(V(F));F.token===",";)k(F),G.push(V(F));if(F.token!==")")throw Le(F,"Parenthesis ) expected");W(F),k(F)}return new de(G)}return Ae(F)}function Ae(F){var G,de;return F.tokenType===_.SYMBOL||F.tokenType===_.DELIMITER&&F.token in T?(de=F.token,k(F),at(A,de)?G=new s(A[de]):N.indexOf(de)!==-1?G=new s(t(de,"number")):G=new S(de),G=xt(F,G),G):At(F)}function xt(F,G,de){for(var Ie;(F.token==="("||F.token==="["||F.token===".")&&(!de||de.indexOf(F.token)!==-1);)if(Ie=[],F.token==="(")if(xr(G)||Si(G)){if(B(F),k(F),F.token!==")")for(Ie.push(V(F));F.token===",";)k(F),Ie.push(V(F));if(F.token!==")")throw Le(F,"Parenthesis ) expected");W(F),k(F),G=new f(G,Ie)}else return G;else if(F.token==="["){if(B(F),k(F),F.token!=="]")for(Ie.push(V(F));F.token===",";)k(F),Ie.push(V(F));if(F.token!=="]")throw Le(F,"Parenthesis ] expected");W(F),k(F),G=new i(G,new p(Ie))}else{k(F);var ut=F.tokenType===_.SYMBOL||F.tokenType===_.DELIMITER&&F.token in T;if(!ut)throw Le(F,"Property name expected after dot");Ie.push(new s(F.token)),k(F);var yt=!0;G=new i(G,new p(Ie,yt))}return G}function At(F){var G,de;return F.token==='"'||F.token==="'"?(de=ye(F,F.token),G=new s(de),G=xt(F,G),G):Ue(F)}function ye(F,G){for(var de="";U(F)!==""&&U(F)!==G;)if(U(F)==="\\"){q(F);var Ie=U(F),ut=E[Ie];if(ut!==void 0)de+=ut,F.index+=1;else if(Ie==="u"){var yt=F.expression.slice(F.index+1,F.index+5);if(/^[0-9A-Fa-f]{4}$/.test(yt))de+=String.fromCharCode(parseInt(yt,16)),F.index+=5;else throw Le(F,"Invalid unicode character \\u".concat(yt))}else throw Le(F,"Bad escape character \\".concat(Ie))}else de+=U(F),q(F);if(k(F),F.token!==G)throw Le(F,"End of string ".concat(G," expected"));return k(F),de}function Ue(F){var G,de,Ie,ut;if(F.token==="["){if(B(F),k(F),F.token!=="]"){var yt=X(F);if(F.token===";"){for(Ie=1,de=[yt];F.token===";";)k(F),F.token!=="]"&&(de[Ie]=X(F),Ie++);if(F.token!=="]")throw Le(F,"End of matrix ] expected");W(F),k(F),ut=de[0].items.length;for(var We=1;We<Ie;We++)if(de[We].items.length!==ut)throw $e(F,"Column dimensions mismatch ("+de[We].items.length+" !== "+ut+")");G=new a(de)}else{if(F.token!=="]")throw Le(F,"End of matrix ] expected");W(F),k(F),G=yt}}else W(F),k(F),G=new a([]);return xt(F,G)}return ce(F)}function X(F){for(var G=[V(F)],de=1;F.token===",";)k(F),F.token!=="]"&&F.token!==";"&&(G[de]=V(F),de++);return new a(G)}function ce(F){if(F.token==="{"){B(F);var G,de={};do if(k(F),F.token!=="}"){if(F.token==='"'||F.token==="'")G=ye(F,F.token);else if(F.tokenType===_.SYMBOL||F.tokenType===_.DELIMITER&&F.token in T)G=F.token,k(F);else throw Le(F,"Symbol or string expected as object key");if(F.token!==":")throw Le(F,"Colon : expected after object key");k(F),de[G]=V(F)}while(F.token===",");if(F.token!=="}")throw Le(F,"Comma , or bracket } expected after object value");W(F),k(F);var Ie=new m(de);return Ie=xt(F,Ie),Ie}return be(F)}function be(F){var G;return F.tokenType===_.NUMBER?(G=F.token,k(F),new s(t(G,n.number))):Be(F)}function Be(F){var G;if(F.token==="("){if(B(F),k(F),G=V(F),F.token!==")")throw Le(F,"Parenthesis ) expected");return W(F),k(F),G=new d(G),G=xt(F,G),G}return Ve(F)}function Ve(F){throw F.token===""?Le(F,"Unexpected end of expression"):Le(F,"Value expected")}function Fe(F){return F.index-F.token.length+1}function Le(F,G){var de=Fe(F),Ie=new SyntaxError(G+" (char "+de+")");return Ie.char=de,Ie}function $e(F,G){var de=Fe(F),Ie=new SyntaxError(G+" (char "+de+")");return Ie.char=de,Ie}return e.addConversion({from:"string",to:"Node",convert:b}),b});var n2="compile",kY=["typed","parse"],C1=M(n2,kY,r=>{var{typed:e,parse:t}=r;return e(n2,{string:function(i){return t(i).compile()},"Array | Matrix":function(i){return ot(i,function(a){return t(a).compile()})}})});var i2="evaluate",RY=["typed","parse"],F1=M(i2,RY,r=>{var{typed:e,parse:t}=r;return e(i2,{string:function(i){var a=yo();return t(i).compile().evaluate(a)},"string, Map | Object":function(i,a){return t(i).compile().evaluate(a)},"Array | Matrix":function(i){var a=yo();return ot(i,function(o){return t(o).compile().evaluate(a)})},"Array | Matrix, Map | Object":function(i,a){return ot(i,function(o){return t(o).compile().evaluate(a)})}})});var LY="Parser",UY=["evaluate"],I1=M(LY,UY,r=>{var{evaluate:e}=r;function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");Object.defineProperty(this,"scope",{value:yo(),writable:!1})}return t.prototype.type="Parser",t.prototype.isParser=!0,t.prototype.evaluate=function(n){return e(n,this.scope)},t.prototype.get=function(n){if(this.scope.has(n))return this.scope.get(n)},t.prototype.getAll=function(){return hE(this.scope)},t.prototype.getAllAsMap=function(){return this.scope},t.prototype.set=function(n,i){return this.scope.set(n,i),i},t.prototype.remove=function(n){this.scope.delete(n)},t.prototype.clear=function(){this.scope.clear()},t},{isClass:!0});var a2="parser",VY=["typed","Parser"],B1=M(a2,VY,r=>{var{typed:e,Parser:t}=r;return e(a2,{"":function(){return new t}})});var o2="lup",qY=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],P1=M(o2,qY,r=>{var{typed:e,matrix:t,abs:n,addScalar:i,divideScalar:a,multiplyScalar:o,subtractScalar:c,larger:u,equalScalar:s,unaryMinus:l,DenseMatrix:f,SparseMatrix:p,Spa:m}=r;return e(o2,{DenseMatrix:function(y){return h(y)},SparseMatrix:function(y){return d(y)},Array:function(y){var S=t(y),b=h(S);return{L:b.L.valueOf(),U:b.U.valueOf(),p:b.p}}});function h(v){var y=v._size[0],S=v._size[1],b=Math.min(y,S),w=pt(v._data),_=[],x=[y,b],T=[],A=[b,S],N,E,C,O=[];for(N=0;N<y;N++)O[N]=N;for(E=0;E<S;E++){if(E>0)for(N=0;N<y;N++){var U=Math.min(N,E),q=0;for(C=0;C<U;C++)q=i(q,o(w[N][C],w[C][E]));w[N][E]=c(w[N][E],q)}var L=E,P=0,k=0;for(N=E;N<y;N++){var H=w[N][E],B=n(H);u(B,P)&&(L=N,P=B,k=H)}if(E!==L&&(O[E]=[O[L],O[L]=O[E]][0],f._swapRows(E,L,w)),E<y)for(N=E+1;N<y;N++){var W=w[N][E];s(W,0)||(w[N][E]=a(w[N][E],k))}}for(E=0;E<S;E++)for(N=0;N<y;N++){if(E===0&&(N<S&&(T[N]=[]),_[N]=[]),N<E){N<S&&(T[N][E]=w[N][E]),E<y&&(_[N][E]=0);continue}if(N===E){N<S&&(T[N][E]=w[N][E]),E<y&&(_[N][E]=1);continue}N<S&&(T[N][E]=0),E<y&&(_[N][E]=w[N][E])}var ie=new f({data:_,size:x}),Q=new f({data:T,size:A}),V=[];for(N=0,b=O.length;N<b;N++)V[O[N]]=N;return{L:ie,U:Q,p:V,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function d(v){var y=v._size[0],S=v._size[1],b=Math.min(y,S),w=v._values,_=v._index,x=v._ptr,T=[],A=[],N=[],E=[y,b],C=[],O=[],U=[],q=[b,S],L,P,k,H=[],B=[];for(L=0;L<y;L++)H[L]=L,B[L]=L;var W=function(V,le){var Se=B[V],fe=B[le];H[Se]=le,H[fe]=V,B[V]=fe,B[le]=Se},ie=function(){var V=new m;P<y&&(N.push(T.length),T.push(1),A.push(P)),U.push(C.length);var le=x[P],Se=x[P+1];for(k=le;k<Se;k++)L=_[k],V.set(H[L],w[k]);P>0&&V.forEach(0,P-1,function(ge,me){p._forEachRow(ge,T,A,N,function(we,Te){we>ge&&V.accumulate(we,l(o(Te,me)))})});var fe=P,he=V.get(P),_e=n(he);V.forEach(P+1,y-1,function(ge,me){var we=n(me);u(we,_e)&&(fe=ge,_e=we,he=me)}),P!==fe&&(p._swapRows(P,fe,E[1],T,A,N),p._swapRows(P,fe,q[1],C,O,U),V.swap(P,fe),W(P,fe)),V.forEach(0,y-1,function(ge,me){ge<=P?(C.push(me),O.push(ge)):(me=a(me,he),s(me,0)||(T.push(me),A.push(ge)))})};for(P=0;P<S;P++)ie();return U.push(C.length),N.push(T.length),{L:new p({values:T,index:A,ptr:N,size:E}),U:new p({values:C,index:O,ptr:U,size:q}),p:H,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}});var s2="qr",zY=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtractScalar","complex"],O1=M(s2,zY,r=>{var{typed:e,matrix:t,zeros:n,identity:i,isZero:a,equal:o,sign:c,sqrt:u,conj:s,unaryMinus:l,addScalar:f,divideScalar:p,multiplyScalar:m,subtractScalar:h,complex:d}=r;return Cr(e(s2,{DenseMatrix:function(w){return y(w)},SparseMatrix:function(w){return S(w)},Array:function(w){var _=t(w),x=y(_);return{Q:x.Q.valueOf(),R:x.R.valueOf()}}}),{_denseQRimpl:v});function v(b){var w=b._size[0],_=b._size[1],x=i([w],"dense"),T=x._data,A=b.clone(),N=A._data,E,C,O,U=n([w],"");for(O=0;O<Math.min(_,w);++O){var q=N[O][O],L=l(o(q,0)?1:c(q)),P=s(L),k=0;for(E=O;E<w;E++)k=f(k,m(N[E][O],s(N[E][O])));var H=m(L,u(k));if(!a(H)){var B=h(q,H);for(U[O]=1,E=O+1;E<w;E++)U[E]=p(N[E][O],B);var W=l(s(p(B,H))),ie=void 0;for(C=O;C<_;C++){for(ie=0,E=O;E<w;E++)ie=f(ie,m(s(U[E]),N[E][C]));for(ie=m(ie,W),E=O;E<w;E++)N[E][C]=m(h(N[E][C],m(U[E],ie)),P)}for(E=0;E<w;E++){for(ie=0,C=O;C<w;C++)ie=f(ie,m(T[E][C],U[C]));for(ie=m(ie,W),C=O;C<w;++C)T[E][C]=p(h(T[E][C],m(ie,s(U[C]))),P)}}}return{Q:x,R:A,toString:function(){return"Q: "+this.Q.toString()+`
R: `+this.R.toString()}}}function y(b){var w=v(b),_=w.R._data;if(b._data.length>0)for(var x=_[0][0].type==="Complex"?d(0):0,T=0;T<_.length;++T)for(var A=0;A<T&&A<(_[0]||[]).length;++A)_[T][A]=x;return w}function S(b){throw new Error("qr not implemented for sparse matrices yet")}});function u2(r,e,t,n){for(var i=r._values,a=r._index,o=r._ptr,c=r._size,u=r._datatype,s=c[0],l=c[1],f=n&&r._values?[]:null,p=[],m=[],h=0,d=0;d<l;d++){m[d]=h;for(var v=t?t[d]:d,y=o[v],S=o[v+1],b=y;b<S;b++){var w=e?e[a[b]]:a[b];p[h]=w,f&&(f[h]=i[b]),h++}}return m[l]=h,r.createSparseMatrix({values:f,index:p,ptr:m,size:[s,l],datatype:u})}function nm(r,e,t,n,i,a,o){var c=0;for(t[o]=r;c>=0;){var u=t[o+c],s=t[n+u];s===-1?(c--,a[e++]=u):(t[n+u]=t[i+s],++c,t[o+c]=s)}return e}function l2(r,e){if(!r)return null;var t=0,n,i=[],a=[],o=0,c=e,u=2*e;for(n=0;n<e;n++)a[o+n]=-1;for(n=e-1;n>=0;n--)r[n]!==-1&&(a[c+n]=a[o+r[n]],a[o+r[n]]=n);for(n=0;n<e;n++)r[n]===-1&&(t=nm(n,t,a,o,c,i,u));return i}function c2(r,e){if(!r)return null;var t=r._index,n=r._ptr,i=r._size,a=i[0],o=i[1],c=[],u=[],s=0,l=o,f,p;if(e)for(f=0;f<a;f++)u[l+f]=-1;for(var m=0;m<o;m++){c[m]=-1,u[s+m]=-1;for(var h=n[m],d=n[m+1],v=h;v<d;v++){var y=t[v];for(f=e?u[l+y]:y;f!==-1&&f<m;f=p)p=u[s+f],u[s+f]=m,p===-1&&(c[f]=m);e&&(u[l+y]=m)}}return c}function f2(r,e,t){for(var n=r._values,i=r._index,a=r._ptr,o=r._size,c=o[1],u=0,s=0;s<c;s++){var l=a[s];for(a[s]=u;l<a[s+1];l++)e(i[l],s,n?n[l]:1,t)&&(i[u]=i[l],n&&(n[u]=n[l]),u++)}return a[c]=u,i.splice(u,i.length-u),n&&n.splice(u,n.length-u),u}function oa(r){return-r-2}var $Y="csAmd",HY=["add","multiply","transpose"],p2=M($Y,HY,r=>{var{add:e,multiply:t,transpose:n}=r;return function(l,f){if(!f||l<=0||l>3)return null;var p=f._size,m=p[0],h=p[1],d=0,v=Math.max(16,10*Math.sqrt(h));v=Math.min(h-2,v);var y=i(l,f,m,h,v);f2(y,u,null);for(var S=y._index,b=y._ptr,w=b[h],_=[],x=[],T=0,A=h+1,N=2*(h+1),E=3*(h+1),C=4*(h+1),O=5*(h+1),U=6*(h+1),q=7*(h+1),L=_,P=a(h,b,x,T,E,L,N,q,A,U,C,O),k=o(h,b,x,O,C,U,v,A,E,L,N),H=0,B,W,ie,Q,V,le,Se,fe,he,_e,ge,me,we,Te,ze,tt;k<h;){for(ie=-1;H<h&&(ie=x[E+H])===-1;H++);x[N+ie]!==-1&&(L[x[N+ie]]=-1),x[E+H]=x[N+ie];var Y=x[C+ie],K=x[A+ie];k+=K;var ve=0;x[A+ie]=-K;var J=b[ie],te=Y===0?J:w,se=te;for(Q=1;Q<=Y+1;Q++){for(Q>Y?(le=ie,Se=J,fe=x[T+ie]-Y):(le=S[J++],Se=b[le],fe=x[T+le]),V=1;V<=fe;V++)B=S[Se++],!((he=x[A+B])<=0)&&(ve+=he,x[A+B]=-he,S[se++]=B,x[N+B]!==-1&&(L[x[N+B]]=L[B]),L[B]!==-1?x[N+L[B]]=x[N+B]:x[E+x[O+B]]=x[N+B]);le!==ie&&(b[le]=oa(ie),x[U+le]=0)}for(Y!==0&&(w=se),x[O+ie]=ve,b[ie]=te,x[T+ie]=se-te,x[C+ie]=-2,P=c(P,d,x,U,h),_e=te;_e<se;_e++)if(B=S[_e],!((ge=x[C+B])<=0)){he=-x[A+B];var De=P-he;for(J=b[B],me=b[B]+ge-1;J<=me;J++)le=S[J],x[U+le]>=P?x[U+le]-=he:x[U+le]!==0&&(x[U+le]=x[O+le]+De)}for(_e=te;_e<se;_e++){for(B=S[_e],me=b[B],we=me+x[C+B]-1,Te=me,ze=0,tt=0,J=me;J<=we;J++)if(le=S[J],x[U+le]!==0){var Ne=x[U+le]-P;Ne>0?(tt+=Ne,S[Te++]=le,ze+=le):(b[le]=oa(ie),x[U+le]=0)}x[C+B]=Te-me+1;var Ge=Te,Ae=me+x[T+B];for(J=we+1;J<Ae;J++){W=S[J];var xt=x[A+W];xt<=0||(tt+=xt,S[Te++]=W,ze+=W)}tt===0?(b[B]=oa(ie),he=-x[A+B],ve-=he,K+=he,k+=he,x[A+B]=0,x[C+B]=-1):(x[O+B]=Math.min(x[O+B],tt),S[Te]=S[Ge],S[Ge]=S[me],S[me]=ie,x[T+B]=Te-me+1,ze=(ze<0?-ze:ze)%h,x[N+B]=x[q+ze],x[q+ze]=B,L[B]=ze)}for(x[O+ie]=ve,d=Math.max(d,ve),P=c(P+d,d,x,U,h),_e=te;_e<se;_e++)if(B=S[_e],!(x[A+B]>=0))for(ze=L[B],B=x[q+ze],x[q+ze]=-1;B!==-1&&x[N+B]!==-1;B=x[N+B],P++){for(fe=x[T+B],ge=x[C+B],J=b[B]+1;J<=b[B]+fe-1;J++)x[U+S[J]]=P;var At=B;for(W=x[N+B];W!==-1;){var ye=x[T+W]===fe&&x[C+W]===ge;for(J=b[W]+1;ye&&J<=b[W]+fe-1;J++)x[U+S[J]]!==P&&(ye=0);ye?(b[W]=oa(B),x[A+B]+=x[A+W],x[A+W]=0,x[C+W]=-1,W=x[N+W],x[N+At]=W):(At=W,W=x[N+W])}}for(J=te,_e=te;_e<se;_e++)B=S[_e],!((he=-x[A+B])<=0)&&(x[A+B]=he,tt=x[O+B]+ve-he,tt=Math.min(tt,h-k-he),x[E+tt]!==-1&&(L[x[E+tt]]=B),x[N+B]=x[E+tt],L[B]=-1,x[E+tt]=B,H=Math.min(H,tt),x[O+B]=tt,S[J++]=B);x[A+ie]=K,(x[T+ie]=J-te)===0&&(b[ie]=-1,x[U+ie]=0),Y!==0&&(w=J)}for(B=0;B<h;B++)b[B]=oa(b[B]);for(W=0;W<=h;W++)x[E+W]=-1;for(W=h;W>=0;W--)x[A+W]>0||(x[N+W]=x[E+b[W]],x[E+b[W]]=W);for(le=h;le>=0;le--)x[A+le]<=0||b[le]!==-1&&(x[N+le]=x[E+b[le]],x[E+b[le]]=le);for(ie=0,B=0;B<=h;B++)b[B]===-1&&(ie=nm(B,ie,x,E,N,_,U));return _.splice(_.length-1,1),_};function i(s,l,f,p,m){var h=n(l);if(s===1&&p===f)return e(l,h);if(s===2){for(var d=h._index,v=h._ptr,y=0,S=0;S<f;S++){var b=v[S];if(v[S]=y,!(v[S+1]-b>m))for(var w=v[S+1];b<w;b++)d[y++]=d[b]}return v[f]=y,l=n(h),t(h,l)}return t(h,l)}function a(s,l,f,p,m,h,d,v,y,S,b,w){for(var _=0;_<s;_++)f[p+_]=l[_+1]-l[_];f[p+s]=0;for(var x=0;x<=s;x++)f[m+x]=-1,h[x]=-1,f[d+x]=-1,f[v+x]=-1,f[y+x]=1,f[S+x]=1,f[b+x]=0,f[w+x]=f[p+x];var T=c(0,0,f,S,s);return f[b+s]=-2,l[s]=-1,f[S+s]=0,T}function o(s,l,f,p,m,h,d,v,y,S,b){for(var w=0,_=0;_<s;_++){var x=f[p+_];if(x===0)f[m+_]=-2,w++,l[_]=-1,f[h+_]=0;else if(x>d)f[v+_]=0,f[m+_]=-1,w++,l[_]=oa(s),f[v+s]++;else{var T=f[y+x];T!==-1&&(S[T]=_),f[b+_]=f[y+x],f[y+x]=_}}return w}function c(s,l,f,p,m){if(s<2||s+l<0){for(var h=0;h<m;h++)f[p+h]!==0&&(f[p+h]=1);s=2}return s}function u(s,l){return s!==l}});function m2(r,e,t,n,i,a,o){var c,u,s=0,l;if(r<=e||t[n+e]<=t[i+r])return-1;t[i+r]=t[n+e];var f=t[a+r];if(t[a+r]=e,f===-1)s=1,l=r;else{for(s=2,l=f;l!==t[o+l];l=t[o+l]);for(c=f;c!==l;c=u)u=t[o+c],t[o+c]=l}return{jleaf:s,q:l}}var GY="csCounts",WY=["transpose"],d2=M(GY,WY,r=>{var{transpose:e}=r;return function(t,n,i,a){if(!t||!n||!i)return null;var o=t._size,c=o[0],u=o[1],s,l,f,p,m,h,d,v=4*u+(a?u+c+1:0),y=[],S=0,b=u,w=2*u,_=3*u,x=4*u,T=5*u+1;for(f=0;f<v;f++)y[f]=-1;var A=[],N=e(t),E=N._index,C=N._ptr;for(f=0;f<u;f++)for(l=i[f],A[l]=y[_+l]===-1?1:0;l!==-1&&y[_+l]===-1;l=n[l])y[_+l]=f;if(a){for(f=0;f<u;f++)y[i[f]]=f;for(s=0;s<c;s++){for(f=u,h=C[s],d=C[s+1],m=h;m<d;m++)f=Math.min(f,y[E[m]]);y[T+s]=y[x+f],y[x+f]=s}}for(s=0;s<u;s++)y[S+s]=s;for(f=0;f<u;f++){for(l=i[f],n[l]!==-1&&A[n[l]]--,p=a?y[x+f]:l;p!==-1;p=a?y[T+p]:-1)for(m=C[p];m<C[p+1];m++){s=E[m];var O=m2(s,l,y,_,b,w,S);O.jleaf>=1&&A[l]++,O.jleaf===2&&A[O.q]--}n[l]!==-1&&(y[S+l]=n[l])}for(l=0;l<u;l++)n[l]!==-1&&(A[n[l]]+=A[l]);return A}});var YY="csSqr",jY=["add","multiply","transpose"],h2=M(YY,jY,r=>{var{add:e,multiply:t,transpose:n}=r,i=p2({add:e,multiply:t,transpose:n}),a=d2({transpose:n});return function(u,s,l){var f=s._ptr,p=s._size,m=p[1],h,d={};if(d.q=i(u,s),u&&!d.q)return null;if(l){var v=u?u2(s,null,d.q,0):s;d.parent=c2(v,1);var y=l2(d.parent,m);if(d.cp=a(v,d.parent,y,1),v&&d.parent&&d.cp&&o(v,d))for(d.unz=0,h=0;h<m;h++)d.unz+=d.cp[h]}else d.unz=4*f[m]+m,d.lnz=d.unz;return d};function o(c,u){var s=c._ptr,l=c._index,f=c._size,p=f[0],m=f[1];u.pinv=[],u.leftmost=[];var h=u.parent,d=u.pinv,v=u.leftmost,y=[],S=0,b=p,w=p+m,_=p+2*m,x,T,A,N,E;for(T=0;T<m;T++)y[b+T]=-1,y[w+T]=-1,y[_+T]=0;for(x=0;x<p;x++)v[x]=-1;for(T=m-1;T>=0;T--)for(N=s[T],E=s[T+1],A=N;A<E;A++)v[l[A]]=T;for(x=p-1;x>=0;x--)d[x]=-1,T=v[x],T!==-1&&(y[_+T]++===0&&(y[w+T]=x),y[S+x]=y[b+T],y[b+T]=x);for(u.lnz=0,u.m2=p,T=0;T<m;T++)if(x=y[b+T],u.lnz++,x<0&&(x=u.m2++),d[x]=T,!(--_[T]<=0)){u.lnz+=y[_+T];var C=h[T];C!==-1&&(y[_+C]===0&&(y[w+C]=y[w+T]),y[S+y[w+T]]=y[b+C],y[b+C]=y[S+x],y[_+C]+=y[_+T])}for(x=0;x<p;x++)d[x]<0&&(d[x]=T++);return!0}});function jl(r,e){return r[e]<0}function im(r,e){r[e]=oa(r[e])}function k1(r){return r<0?oa(r):r}function g2(r,e,t,n,i){var a=e._index,o=e._ptr,c=e._size,u=c[1],s,l,f,p=0;for(n[0]=r;p>=0;){r=n[p];var m=i?i[r]:r;jl(o,r)||(im(o,r),n[u+p]=m<0?0:k1(o[m]));var h=1;for(l=n[u+p],f=m<0?0:k1(o[m+1]);l<f;l++)if(s=a[l],!jl(o,s)){n[u+p]=l,n[++p]=s,h=0;break}h&&(p--,n[--t]=r)}return t}function v2(r,e,t,n,i){var a=r._ptr,o=r._size,c=e._index,u=e._ptr,s=o[1],l,f,p,m=s;for(f=u[t],p=u[t+1],l=f;l<p;l++){var h=c[l];jl(a,h)||(m=g2(h,r,m,n,i))}for(l=m;l<s;l++)im(a,n[l]);return m}var ZY="csSpsolve",JY=["divideScalar","multiply","subtract"],y2=M(ZY,JY,r=>{var{divideScalar:e,multiply:t,subtract:n}=r;return function(a,o,c,u,s,l,f){var p=a._values,m=a._index,h=a._ptr,d=a._size,v=d[1],y=o._values,S=o._index,b=o._ptr,w,_,x,T,A=v2(a,o,c,u,l);for(w=A;w<v;w++)s[u[w]]=0;for(_=b[c],x=b[c+1],w=_;w<x;w++)s[S[w]]=y[w];for(var N=A;N<v;N++){var E=u[N],C=l?l[E]:E;if(!(C<0))for(_=h[C],x=h[C+1],s[E]=e(s[E],p[f?_:x-1]),w=f?_+1:_,T=f?x:x-1;w<T;w++){var O=m[w];s[O]=n(s[O],t(p[w],s[E]))}}return A}});var XY="csLu",QY=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],b2=M(XY,QY,r=>{var{abs:e,divideScalar:t,multiply:n,subtract:i,larger:a,largerEq:o,SparseMatrix:c}=r,u=y2({divideScalar:t,multiply:n,subtract:i});return function(l,f,p){if(!l)return null;var m=l._size,h=m[1],d,v=100,y=100;f&&(d=f.q,v=f.lnz||v,y=f.unz||y);var S=[],b=[],w=[],_=new c({values:S,index:b,ptr:w,size:[h,h]}),x=[],T=[],A=[],N=new c({values:x,index:T,ptr:A,size:[h,h]}),E=[],C,O,U=[],q=[];for(C=0;C<h;C++)U[C]=0,E[C]=-1,w[C+1]=0;v=0,y=0;for(var L=0;L<h;L++){w[L]=v,A[L]=y;var P=d?d[L]:L,k=u(_,l,P,q,U,E,1),H=-1,B=-1;for(O=k;O<h;O++)if(C=q[O],E[C]<0){var W=e(U[C]);a(W,B)&&(B=W,H=C)}else T[y]=E[C],x[y++]=U[C];if(H===-1||B<=0)return null;E[P]<0&&o(e(U[P]),n(B,p))&&(H=P);var ie=U[H];for(T[y]=L,x[y++]=ie,E[H]=L,b[v]=H,S[v++]=1,O=k;O<h;O++)C=q[O],E[C]<0&&(b[v]=C,S[v++]=t(U[C],ie)),U[C]=0}for(w[h]=v,A[h]=y,O=0;O<v;O++)b[O]=E[b[O]];return S.splice(v,S.length-v),b.splice(v,b.length-v),x.splice(y,x.length-y),T.splice(y,T.length-y),{L:_,U:N,pinv:E}}});var x2="slu",KY=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],R1=M(x2,KY,r=>{var{typed:e,abs:t,add:n,multiply:i,transpose:a,divideScalar:o,subtract:c,larger:u,largerEq:s,SparseMatrix:l}=r,f=h2({add:n,multiply:i,transpose:a}),p=b2({abs:t,divideScalar:o,multiply:i,subtract:c,larger:u,largerEq:s,SparseMatrix:l});return e(x2,{"SparseMatrix, number, number":function(h,d,v){if(!Xe(d)||d<0||d>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(v<0||v>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var y=f(d,h,!1),S=p(h,y,v);return{L:S.L,U:S.U,p:S.pinv,q:y.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function L1(r,e){var t,n=e.length,i=[];if(r)for(t=0;t<n;t++)i[r[t]]=e[t];else for(t=0;t<n;t++)i[t]=e[t];return i}var w2="lusolve",ej=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],U1=M(w2,ej,r=>{var{typed:e,matrix:t,lup:n,slu:i,usolve:a,lsolve:o,DenseMatrix:c}=r,u=ya({DenseMatrix:c});return e(w2,{"Array, Array | Matrix":function(p,m){p=t(p);var h=n(p),d=l(h.L,h.U,h.p,null,m);return d.valueOf()},"DenseMatrix, Array | Matrix":function(p,m){var h=n(p);return l(h.L,h.U,h.p,null,m)},"SparseMatrix, Array | Matrix":function(p,m){var h=n(p);return l(h.L,h.U,h.p,null,m)},"SparseMatrix, Array | Matrix, number, number":function(p,m,h,d){var v=i(p,h,d);return l(v.L,v.U,v.p,v.q,m)},"Object, Array | Matrix":function(p,m){return l(p.L,p.U,p.p,p.q,m)}});function s(f){if(rt(f))return f;if(Gt(f))return t(f);throw new TypeError("Invalid Matrix LU decomposition")}function l(f,p,m,h,d){f=s(f),p=s(p),m&&(d=u(f,d,!0),d._data=L1(m,d._data));var v=o(f,d),y=a(p,v);return h&&(y._data=L1(h,y._data)),y}});var _2="polynomialRoot",tj=["typed","isZero","equalScalar","add","subtract","multiply","divide","sqrt","unaryMinus","cbrt","typeOf","im","re"],V1=M(_2,tj,r=>{var{typed:e,isZero:t,equalScalar:n,add:i,subtract:a,multiply:o,divide:c,sqrt:u,unaryMinus:s,cbrt:l,typeOf:f,im:p,re:m}=r;return e(_2,{"number|Complex, ...number|Complex":(h,d)=>{for(var v=[h,...d];v.length>0&&t(v[v.length-1]);)v.pop();if(v.length<2)throw new RangeError("Polynomial [".concat(h,", ").concat(d,"] must have a non-zero non-constant coefficient"));switch(v.length){case 2:return[s(c(v[0],v[1]))];case 3:{var[y,S,b]=v,w=o(2,b),_=o(S,S),x=o(4,b,y);if(n(_,x))return[c(s(S),w)];var T=u(a(_,x));return[c(a(T,S),w),c(a(s(T),S),w)]}case 4:{var[A,N,E,C]=v,O=s(o(3,C)),U=o(E,E),q=o(3,C,N),L=i(o(2,E,E,E),o(27,C,C,A)),P=o(9,C,E,N);if(n(U,q)&&n(L,P))return[c(E,O)];var k=a(U,q),H=a(L,P),B=i(o(18,C,E,N,A),o(E,E,N,N)),W=i(o(4,E,E,E,A),o(4,C,N,N,N),o(27,C,C,A,A));if(n(B,W))return[c(a(o(4,C,E,N),i(o(9,C,C,A),o(E,E,E))),o(C,k)),c(a(o(9,C,A),o(E,N)),o(2,k))];var ie;n(U,q)?ie=H:ie=c(i(H,u(a(o(H,H),o(4,k,k,k)))),2);var Q=!0,V=l(ie,Q).toArray().map(le=>c(i(E,le,c(k,le)),O));return V.map(le=>f(le)==="Complex"&&n(m(le),m(le)+p(le))?m(le):le)}default:throw new RangeError("only implemented for cubic or lower-order polynomials, not ".concat(v))}}})});var rj="Help",nj=["evaluate"],q1=M(rj,nj,r=>{var{evaluate:e}=r;function t(n){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(!n)throw new Error('Argument "doc" missing');this.doc=n}return t.prototype.type="Help",t.prototype.isHelp=!0,t.prototype.toString=function(){var n=this.doc||{},i=`
`;if(n.name&&(i+="Name: "+n.name+`

`),n.category&&(i+="Category: "+n.category+`

`),n.description&&(i+=`Description:
    `+n.description+`

`),n.syntax&&(i+=`Syntax:
    `+n.syntax.join(`
    `)+`

`),n.examples){i+=`Examples:
`;for(var a=!1,o=e("config()"),c={config:f=>(a=!0,e("config(newConfig)",{newConfig:f}))},u=0;u<n.examples.length;u++){var s=n.examples[u];i+="    "+s+`
`;var l=void 0;try{l=e(s,c)}catch(f){l=f}l!==void 0&&!Kf(l)&&(i+="        "+bt(l,{precision:14})+`
`)}i+=`
`,a&&e("config(originalConfig)",{originalConfig:o})}return n.mayThrow&&n.mayThrow.length&&(i+="Throws: "+n.mayThrow.join(", ")+`

`),n.seealso&&n.seealso.length&&(i+="See also: "+n.seealso.join(", ")+`
`),i},t.prototype.toJSON=function(){var n=pt(this.doc);return n.mathjs="Help",n},t.fromJSON=function(n){var i={};return Object.keys(n).filter(a=>a!=="mathjs").forEach(a=>{i[a]=n[a]}),new t(i)},t.prototype.valueOf=t.prototype.toString,t},{isClass:!0});var ij="Chain",aj=["?on","math","typed"],z1=M(ij,aj,r=>{var{on:e,math:t,typed:n}=r;function i(s){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");ep(s)?this.value=s.value:this.value=s}i.prototype.type="Chain",i.prototype.isChain=!0,i.prototype.done=function(){return this.value},i.prototype.valueOf=function(){return this.value},i.prototype.toString=function(){return bt(this.value)},i.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},i.fromJSON=function(s){return new i(s.value)};function a(s,l){typeof l=="function"&&(i.prototype[s]=c(l))}function o(s,l){kA(i.prototype,s,function(){var p=l();if(typeof p=="function")return c(p)})}function c(s){return function(){if(arguments.length===0)return new i(s(this.value));for(var l=[this.value],f=0;f<arguments.length;f++)l[f+1]=arguments[f];if(n.isTypedFunction(s)){var p=n.resolve(s,l);if(p.params.length===1)throw new Error("chain function "+s.name+" cannot match rest parameter between chain value and additional arguments.");return new i(p.implementation.apply(s,l))}return new i(s.apply(s,l))}}i.createProxy=function(s,l){if(typeof s=="string")a(s,l);else{var f=function(h){at(s,h)&&u[h]===void 0&&o(h,()=>s[h])};for(var p in s)f(p)}};var u={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return i.createProxy(t),e&&e("import",function(s,l,f){f||o(s,l)}),i},{isClass:!0});var $1={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]};var S2={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]};var D2={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]};var N2={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]};var A2={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]};var E2={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]};var T2={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]};var M2={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]};var C2={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]};var F2={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]};var I2={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]};var H1={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]};var B2={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]};var P2={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]};var O2={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]};var k2={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]};var R2={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]};var L2={name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","fraction","index","matrix","string","unit"]};var U2={name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]};var V2={name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]};var q2={name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]};var z2={name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(matrix)","fraction(num,den)","fraction({n: num, d: den})"],description:"Create a fraction from a number or from integer numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)","fraction({n: 333, d: 53})","fraction([sqrt(9), sqrt(10), sqrt(11)])"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]};var $2={name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[1:2, 1:2] = 1","B = [1, 2, 3]","B[B>1 and B<3]"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]};var H2={name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]};var G2={name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","boolean","complex","fraction","index","matrix","string","unit"]};var W2={name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]};var Y2={name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]};var j2={name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]};var Z2={name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]};var J2={name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]};var X2={name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]};var Q2={name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number": f(x)=x+x, "string": f(x)=concat(x,x) })',"double(2)",'double("hello")'],seealso:[]};var K2={name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]};var eF={name:"leafCount",category:"Algebra",syntax:["leafCount(expr)"],description:"Computes the number of leaves in the parse tree of the given expression",examples:['leafCount("e^(i*pi)-1")','leafCount(parse("{a: 22/7, b: 10^(1/2)}"))'],seealso:["simplify"]};var tF={name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]};var rF={name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]};var nF={name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]};var iF={name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]};var aF={name:"polynomialRoot",category:"Algebra",syntax:["x=polynomialRoot(-6, 3)","x=polynomialRoot(4, -4, 1)","x=polynomialRoot(-8, 12, -6, 1)"],description:"Finds the roots of a univariate polynomial given by its coefficients starting from constant, linear, and so on, increasing in degree.",examples:["a = polynomialRoot(-6, 11, -6, 1)"],seealso:["cbrt","sqrt"]};var oF={name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]};var sF={name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]};var uF={name:"resolve",category:"Algebra",syntax:["resolve(node, scope)"],description:"Recursively substitute variables in an expression tree.",examples:['resolve(parse("1 + x"), { x: 7 })','resolve(parse("size(text)"), { text: "Hello World" })','resolve(parse("x + y"), { x: parse("3z") })','resolve(parse("3x"), { x: parse("y+z"), z: parse("w^y") })'],seealso:["simplify","evaluate"],mayThrow:["ReferenceError"]};var lF={name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["simplifyCore","derivative","evaluate","parse","rationalize","resolve"]};var cF={name:"simplifyConstant",category:"Algebra",syntax:["simplifyConstant(expr)","simplifyConstant(expr, options)"],description:"Replace constant subexpressions of node with their values.",examples:['simplifyConstant("(3-3)*x")','simplifyConstant(parse("z-cos(tau/8)"))'],seealso:["simplify","simplifyCore","evaluate"]};var fF={name:"simplifyCore",category:"Algebra",syntax:["simplifyCore(node)"],description:"Perform simple one-pass simplifications on an expression tree.",examples:['simplifyCore(parse("0*x"))','simplifyCore(parse("(x+0)*2"))'],seealso:["simplify","simplifyConstant","evaluate"]};var pF={name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]};var mF={name:"symbolicEqual",category:"Algebra",syntax:["symbolicEqual(expr1, expr2)","symbolicEqual(expr1, expr2, options)"],description:"Returns true if the difference of the expressions simplifies to 0",examples:['symbolicEqual("x*y","y*x")','symbolicEqual("abs(x^2)", "x^2")','symbolicEqual("abs(x)", "x", {context: {abs: {trivial: true}}})'],seealso:["simplify","evaluate"]};var dF={name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]};var hF={name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]};var gF={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]};var vF={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]};var yF={name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]};var bF={name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]};var xF={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]};var wF={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]};var _F={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]};var SF={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]};var DF={name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]};var NF={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]};var AF={name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]};var EF={name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]};var TF={name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]};var MF={name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]};var CF={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]};var FF={name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenusa of a list with values. ",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]};var IF={name:"invmod",category:"Arithmetic",syntax:["invmod(a, b)"],description:"Calculate the (modular) multiplicative inverse of a modulo b. Solution to the equation ax \u2263 1 (mod b)",examples:["invmod(8, 12)","invmod(7, 13)","invmod(15151, 15122)"],seealso:["gcd","xgcd"]};var BF={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]};var PF={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]};var OF={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]};var kF={name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]};var RF={name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]};var LF={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]};var UF={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]};var VF={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']};var qF={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]};var zF={name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]};var $F={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)","pow([[1, 2], [4, 3]], 2)","pow([[1, 2], [4, 3]], -1)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]};var HF={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)","round(unit, valuelessUnit)","round(unit, n, valuelessUnit)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)","round(3.241cm, 2, cm)","round([3.2, 3.8, -4.7])"],seealso:["ceil","floor","fix"]};var GF={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]};var WF={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]};var YF={name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[33, 24], [48, 57]])"],seealso:["sqrt","abs","square","multiply"]};var jF={name:"sylvester",category:"Algebra",syntax:["sylvester(A,B,C)"],description:"Solves the real-valued Sylvester equation AX+XB=C for X",examples:["sylvester([[-1, -2], [1, 1]], [[-2, 1], [-1, 2]], [[-3, 2], [3, 0]])","A = [[-1, -2], [1, 1]]; B = [[2, -1], [1, -2]]; C = [[-3, 2], [3, 0]]","sylvester(A, B, C)"],seealso:["schur","lyap"]};var ZF={name:"schur",category:"Algebra",syntax:["schur(A)"],description:"Performs a real Schur decomposition of the real matrix A = UTU'",examples:["schur([[1, 0], [-4, 3]])","A = [[1, 0], [-4, 3]]","schur(A)"],seealso:["lyap","sylvester"]};var JF={name:"lyap",category:"Algebra",syntax:["lyap(A,Q)"],description:"Solves the Continuous-time Lyapunov equation AP+PA'+Q=0 for P",examples:["lyap([[-2, 0], [1, -4]], [[3, 1], [1, 3]])","A = [[-2, 0], [1, -4]]","Q = [[3, 1], [1, 3]]","lyap(A,Q)"],seealso:["schur","sylvester"]};var XF={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]};var QF={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]};var KF={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]};var eI={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]};var tI={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]};var rI={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]};var nI={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]};var iI={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]};var aI={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]};var oI={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]};var sI={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]};var uI={name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]};var lI={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]};var cI={name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]};var fI={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]};var pI={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]};var mI={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]};var dI={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]};var hI={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]};var gI={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]};var vI={name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate(expression, scope)","evaluate([expr1, expr2, expr3, ...])","evaluate([expr1, expr2, expr3, ...], scope)"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(16)")','evaluate("2 inch to cm")','evaluate("sin(x * pi)", { "x": 1/2 })','evaluate(["width=2", "height=4","width*height"])'],seealso:[]};var yI={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]};var bI={name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]};var xI={name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]};var wI={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]};var _I={name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]};var SI={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]};var DI={name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]};var NI={name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row","matrixFromColumns"]};var AI={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var EI={name:"count",category:"Matrix",syntax:["count(x)"],description:"Count the number of elements of a matrix, array or string.",examples:["a = [1, 2; 3, 4; 5, 6]","count(a)","size(a)",'count("hello world")'],seealso:["size"]};var TI={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]};var MI={name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]};var CI={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var FI={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var II={name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicant the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["A = [1, 2, 4, 7, 0]","diff(A)","diff(A, 1)","B = [[1, 2], [3, 4]]","diff(B)","diff(B, 1)","diff(B, 2)","diff(B, bignumber(2))","diff([[1, 2], matrix([3, 4])], 2)"],seealso:["subtract","partitionSelect"]};var BI={name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]};var PI={name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and optionally eigenvectors of a square matrix",examples:["eigs([[5, 2.3], [2.3, 1]])","eigs([[1, 2, 3], [4, 5, 6], [7, 8, 9]], { precision: 1e-6, eigenvectors: false })"],seealso:["inv"]};var OI={name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]};var kI={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]};var RI={name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["numberOfPets = {}","addPet(n) = numberOfPets[n] = (numberOfPets[n] ? numberOfPets[n]:0 ) + 1;",'forEach(["Dog","Cat","Cat"], addPet)',"numberOfPets"],seealso:["map","sort","filter"]};var LI={name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]};var UI={name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var VI={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var qI={name:"pinv",category:"Matrix",syntax:["pinv(x)"],description:"Calculate the Moore\u2013Penrose inverse of a matrix",examples:["pinv([1, 2; 3, 4])","pinv([[1, 0], [0, 1], [0, 1]])","pinv(4)"],seealso:["inv"]};var zI={name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]};var $I={name:"map",category:"Matrix",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], square)"],seealso:["filter","forEach"]};var HI={name:"matrixFromColumns",category:"Matrix",syntax:["matrixFromColumns(...arr)","matrixFromColumns(row1, row2)","matrixFromColumns(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual columns.",examples:["matrixFromColumns([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromRows","matrixFromFunction","zeros"]};var GI={name:"matrixFromFunction",category:"Matrix",syntax:["matrixFromFunction(size, fn)","matrixFromFunction(size, fn, format)","matrixFromFunction(size, fn, format, datatype)","matrixFromFunction(size, format, fn)","matrixFromFunction(size, format, datatype, fn)"],description:"Create a matrix by evaluating a generating function at each index.",examples:["f(I) = I[1] - I[2]","matrixFromFunction([3,3], f)","g(I) = I[1] - I[2] == 1 ? 4 : 0",'matrixFromFunction([100, 100], "sparse", g)',"matrixFromFunction([5], random)"],seealso:["matrix","matrixFromRows","matrixFromColumns","zeros"]};var WI={name:"matrixFromRows",category:"Matrix",syntax:["matrixFromRows(...arr)","matrixFromRows(row1, row2)","matrixFromRows(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual rows.",examples:["matrixFromRows([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromColumns","matrixFromFunction","zeros"]};var YI={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]};var jI={name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1, compareText)',"arr = [5, 2, 1]","partitionSelect(arr, 0) # returns 1, arr is now: [1, 2, 5]","arr","partitionSelect(arr, 1, 'desc') # returns 2, arr is now: [5, 2, 1]","arr"],seealso:["sort"]};var ZI={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"range(1m, 1m, 3m)","a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]};var JI={name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])","reshape([1, 2, 3, 4], [-1, 2])"],seealso:["size","squeeze","resize"]};var XI={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]};var QI={name:"rotate",category:"Matrix",syntax:["rotate(w, theta)","rotate(w, theta, v)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotate([1, 0], pi / 2)",'rotate(matrix([1, 0]), unit("35deg"))','rotate([1, 0, 0], unit("90deg"), [0, 0, 1])','rotate(matrix([1, 0, 0]), unit("90deg"), matrix([0, 0, 1]))'],seealso:["matrix","rotationMatrix"]};var KI={name:"rotationMatrix",category:"Matrix",syntax:["rotationMatrix(theta)","rotationMatrix(theta, v)","rotationMatrix(theta, v, format)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotationMatrix(pi / 2)",'rotationMatrix(unit("45deg"), [0, 0, 1])','rotationMatrix(1, matrix([0, 0, 1]), "sparse")'],seealso:["cos","sin"]};var eB={name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column","matrixFromRows"]};var tB={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","count","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]};var rB={name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"], "natural")',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]};var nB={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]};var iB={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of the entries of a matrix or characters of a string. Indexes are one-based. There should be one index specification for each dimension of the target. Each specification can be a single index, a list of indices, or a range in colon notation `l:u`. In a range, both the lower bound l and upper bound u are included; and if a bound is omitted it defaults to the most extreme valid value. The cartesian product of the indices specified in each dimension determines the target of the operation.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]","f[[1,2], [1,3]] = [9, 10; 11, 12]","f"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]};var aB={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]};var oB={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]};var sB={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]};var uB={name:"fft",category:"Matrix",syntax:["fft(x)"],description:"Calculate N-dimensional fourier transform",examples:["fft([[1, 0], [1, 0]])"],seealso:["ifft"]};var lB={name:"ifft",category:"Matrix",syntax:["ifft(x)"],description:"Calculate N-dimensional inverse fourier transform",examples:["ifft([[2, 2], [0, 0]])"],seealso:["fft"]};var cB={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]};var fB={name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]};var pB={name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]};var mB={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]};var dB={name:"lgamma",category:"Probability",syntax:["lgamma(n)"],description:"Logarithm of the gamma function for real, positive numbers and complex numbers, using Lanczos approximation for numbers and Stirling series for complex numbers.",examples:["lgamma(4)","lgamma(1/2)","lgamma(i)","lgamma(complex(1.1, 2))"],seealso:["gamma"]};var hB={name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]};var gB={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]};var vB={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]};var yB={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]};var bB={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]};var xB={name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]};var wB={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]};var _B={name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]};var SB={name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]};var DB={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]};var NB={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]};var AB={name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]};var EB={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]};var TB={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]};var MB={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]};var CB={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]};var FB={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]};var IB={name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays and the values will be sorted in ascending order before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]};var BB={name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]};var PB={name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]};var OB={name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]};var kB={name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]};var RB={name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]};var LB={name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]};var UB={name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]};var VB={name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]};var qB={name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]};var zB={name:"zpk2tf",category:"Signal",syntax:["zpk2tf(z, p, k)"],description:"Compute the transfer function of a zero-pole-gain model.",examples:["zpk2tf([1, 2], [-1, -2], 1)","zpk2tf([1, 2], [-1, -2])","zpk2tf([1 - 3i, 2 + 2i], [-1, -2])"],seealso:[]};var $B={name:"freqz",category:"Signal",syntax:["freqz(b, a)","freqz(b, a, w)"],description:"Calculates the frequency response of a filter given its numerator and denominator coefficients.",examples:["freqz([1, 2], [1, 2, 3])","freqz([1, 2], [1, 2, 3], [0, 1])","freqz([1, 2], [1, 2, 3], 512)"],seealso:[]};var HB={name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]};var GB={name:"zeta",category:"Special",syntax:["zeta(s)"],description:"Compute the Riemann Zeta Function using an infinite series and Riemanns Functional Equation for the entire complex plane",examples:["zeta(0.2)","zeta(-0.5)","zeta(4)"],seealso:[]};var WB={name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]};var YB={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dimension)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]};var jB={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dimension)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]};var ZB={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]};var JB={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dimension)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]};var XB={name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]};var QB={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]};var KB={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:`Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. 

In case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.`,examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]};var eP={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, dimension)","std(A, normalization)","std(A, dimension, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]};var tP={name:"cumsum",category:"Statistics",syntax:["cumsum(a, b, c, ...)","cumsum(A)"],description:"Compute the cumulative sum of all values.",examples:["cumsum(2, 3, 4, 1)","cumsum([2, 3, 4, 1])","cumsum([1, 2; 3, 4])","cumsum([1, 2; 3, 4], 1)","cumsum([1, 2; 3, 4], 2)"],seealso:["max","mean","median","min","prod","std","sum","variance"]};var rP={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)","sum(A, dimension)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","variance"]};var nP={name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, dimension)","variance(A, normalization)","variance(A, dimension, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]};var iP={name:"corr",category:"Statistics",syntax:["corr(A,B)"],description:"Compute the correlation coefficient of a two list with values, For matrices, the matrix correlation coefficient is calculated.",examples:["corr([2, 4, 6, 8],[1, 2, 3, 6])","corr(matrix([[1, 2.2, 3, 4.8, 5], [1, 2, 3, 4, 5]]), matrix([[4, 5.3, 6.6, 7, 8], [1, 2, 3, 4, 5]]))"],seealso:["max","mean","min","median","min","prod","std","sum"]};var aP={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]};var oP={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]};var sP={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]};var uP={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]};var lP={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]};var cP={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]};var fP={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]};var pP={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]};var mP={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]};var dP={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]};var hP={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]};var gP={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]};var vP={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]};var yP={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]};var bP={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]};var xP={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]};var wP={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]};var _P={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]};var SP={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]};var DP={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]};var NP={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]};var AP={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]};var EP={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]};var TP={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]};var MP={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]};var CP={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]};var FP={name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]};var IP={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]};var BP={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]};var PP={name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]};var OP={name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]};var kP={name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]};var RP={name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]};var LP={name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]};var UP={name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]};var VP={name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]};var qP={name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]};var zP={name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]};var $P={name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "BigNumber")','numeric("4", "Fraction")','numeric(4, "Fraction")','numeric(fraction(2, 5), "number")'],seealso:["number","fraction","bignumber","string","format"]};var HP={name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]};var GP={name:"print",category:"Utils",syntax:["print(template, values)","print(template, values, precision)"],description:"Interpolate values into a string template.",examples:['print("Lucy is $age years old", {age: 5})','print("The value of pi is $pi", {pi: pi}, 3)','print("Hello, $user.name!", {user: {name: "John"}})','print("Values: $1, $2, $3", [6, 9, 4])'],seealso:["format"]};var WP={name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]};var YP={name:"solveODE",category:"Numeric",syntax:["solveODE(func, tspan, y0)","solveODE(func, tspan, y0, options)"],description:"Numerical Integration of Ordinary Differential Equations.",examples:["f(t,y) = y","tspan = [0, 4]","solveODE(f, tspan, 1)","solveODE(f, tspan, [1, 2])",'solveODE(f, tspan, 1, { method:"RK23", maxStep:0.1 })'],seealso:["derivative","simplifyCore"]};var jP={bignumber:L2,boolean:U2,complex:V2,createUnit:q2,fraction:z2,index:$2,matrix:H2,number:G2,sparse:W2,splitUnit:Y2,string:j2,unit:Z2,e:$1,E:$1,false:S2,i:D2,Infinity:N2,LN2:E2,LN10:A2,LOG2E:M2,LOG10E:T2,NaN:C2,null:F2,pi:H1,PI:H1,phi:I2,SQRT1_2:B2,SQRT2:P2,tau:O2,true:k2,version:R2,speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant",examples:["coulomb"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Borh magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Borh radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:K2,lsolve:tF,lsolveAll:rF,lup:nF,lusolve:iF,leafCount:eF,polynomialRoot:aF,resolve:uF,simplify:lF,simplifyConstant:cF,simplifyCore:fF,symbolicEqual:mF,rationalize:sF,slu:pF,usolve:dF,usolveAll:hF,qr:oF,abs:gF,add:vF,cbrt:yF,ceil:bF,cube:xF,divide:wF,dotDivide:_F,dotMultiply:SF,dotPow:DF,exp:NF,expm:AF,expm1:EF,fix:TF,floor:MF,gcd:CF,hypot:FF,lcm:BF,log:PF,log2:RF,log1p:kF,log10:OF,mod:LF,multiply:UF,norm:VF,nthRoot:qF,nthRoots:zF,pow:$F,round:HF,sign:GF,sqrt:WF,sqrtm:YF,square:XF,subtract:QF,unaryMinus:KF,unaryPlus:eI,xgcd:tI,invmod:IF,bitAnd:rI,bitNot:nI,bitOr:iI,bitXor:aI,leftShift:oI,rightArithShift:sI,rightLogShift:uI,bellNumbers:lI,catalan:cI,composition:fI,stirlingS2:pI,config:J2,import:X2,typed:Q2,arg:mI,conj:dI,re:gI,im:hI,evaluate:vI,help:yI,distance:bI,intersect:xI,and:wI,not:_I,or:SI,xor:DI,concat:AI,count:EI,cross:TI,column:NI,ctranspose:MI,det:CI,diag:FI,diff:II,dot:BI,getMatrixDataType:LI,identity:UI,filter:OI,flatten:kI,forEach:RI,inv:VI,pinv:qI,eigs:PI,kron:zI,matrixFromFunction:GI,matrixFromRows:WI,matrixFromColumns:HI,map:$I,ones:YI,partitionSelect:jI,range:ZI,resize:XI,reshape:JI,rotate:QI,rotationMatrix:KI,row:eB,size:tB,sort:rB,squeeze:nB,subset:iB,trace:aB,transpose:oB,zeros:sB,fft:uB,ifft:lB,sylvester:jF,schur:ZF,lyap:JF,solveODE:YP,combinations:cB,combinationsWithRep:fB,factorial:pB,gamma:mB,kldivergence:hB,lgamma:dB,multinomial:gB,permutations:vB,pickRandom:yB,random:bB,randomInt:xB,compare:wB,compareNatural:_B,compareText:SB,deepEqual:DB,equal:NB,equalText:AB,larger:EB,largerEq:TB,smaller:MB,smallerEq:CB,unequal:FB,setCartesian:IB,setDifference:BB,setDistinct:PB,setIntersect:OB,setIsSubset:kB,setMultiplicity:RB,setPowerset:LB,setSize:UB,setSymDifference:VB,setUnion:qB,zpk2tf:zB,freqz:$B,erf:HB,zeta:GB,cumsum:tP,mad:WB,max:YB,mean:jB,median:ZB,min:JB,mode:XB,prod:QB,quantileSeq:KB,std:eP,sum:rP,variance:nP,corr:iP,acos:aP,acosh:oP,acot:sP,acoth:uP,acsc:lP,acsch:cP,asec:fP,asech:pP,asin:mP,asinh:dP,atan:hP,atanh:vP,atan2:gP,cos:yP,cosh:bP,cot:xP,coth:wP,csc:_P,csch:SP,sec:DP,sech:NP,sin:AP,sinh:EP,tan:TP,tanh:MP,to:CP,clone:IP,format:BP,bin:FP,oct:HP,hex:OP,isNaN:RP,isInteger:kP,isNegative:LP,isNumeric:UP,hasNumericValue:PP,isPositive:VP,isPrime:qP,isZero:zP,print:GP,typeOf:WP,numeric:$P};var ZP="help",oj=["typed","mathWithTransform","Help"],G1=M(ZP,oj,r=>{var{typed:e,mathWithTransform:t,Help:n}=r;return e(ZP,{any:function(a){var o,c=a;if(typeof a!="string"){for(o in t)if(at(t,o)&&a===t[o]){c=o;break}}var u=Fr(jP,c);if(!u){var s=typeof c=="function"?c.name:c;throw new Error('No documentation found on "'+s+'"')}return new n(u)}})});var JP="chain",sj=["typed","Chain"],W1=M(JP,sj,r=>{var{typed:e,Chain:t}=r;return e(JP,{"":function(){return new t},any:function(i){return new t(i)}})});var XP="det",uj=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],Y1=M(XP,uj,r=>{var{typed:e,matrix:t,subtractScalar:n,multiply:i,divideScalar:a,isZero:o,unaryMinus:c}=r;return e(XP,{any:function(l){return pt(l)},"Array | Matrix":function(l){var f;switch(rt(l)?f=l.size():Array.isArray(l)?(l=t(l),f=l.size()):f=[],f.length){case 0:return pt(l);case 1:if(f[0]===1)return pt(l.valueOf()[0]);if(f[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+bt(f)+")");case 2:{var p=f[0],m=f[1];if(p===m)return u(l.clone().valueOf(),p,m);if(m===0)return 1;throw new RangeError("Matrix must be square (size: "+bt(f)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+bt(f)+")")}}});function u(s,l,f){if(l===1)return pt(s[0][0]);if(l===2)return n(i(s[0][0],s[1][1]),i(s[1][0],s[0][1]));for(var p=!1,m=new Array(l).fill(0).map((T,A)=>A),h=0;h<l;h++){var d=m[h];if(o(s[d][h])){var v=void 0;for(v=h+1;v<l;v++)if(!o(s[m[v]][h])){d=m[v],m[v]=m[h],m[h]=d,p=!p;break}if(v===l)return s[d][h]}for(var y=s[d][h],S=h===0?1:s[m[h-1]][h-1],b=h+1;b<l;b++)for(var w=m[b],_=h+1;_<l;_++)s[w][_]=a(n(i(s[w][_],y),i(s[w][h],s[d][_])),S)}var x=s[m[l-1]][l-1];return p?c(x):x}});var QP="inv",lj=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],j1=M(QP,lj,r=>{var{typed:e,matrix:t,divideScalar:n,addScalar:i,multiply:a,unaryMinus:o,det:c,identity:u,abs:s}=r;return e(QP,{"Array | Matrix":function(p){var m=rt(p)?p.size():ht(p);switch(m.length){case 1:if(m[0]===1)return rt(p)?t([n(1,p.valueOf()[0])]):[n(1,p[0])];throw new RangeError("Matrix must be square (size: "+bt(m)+")");case 2:{var h=m[0],d=m[1];if(h===d)return rt(p)?t(l(p.valueOf(),h,d),p.storage()):l(p,h,d);throw new RangeError("Matrix must be square (size: "+bt(m)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+bt(m)+")")}},any:function(p){return n(1,p)}});function l(f,p,m){var h,d,v,y,S;if(p===1){if(y=f[0][0],y===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,y)]]}else if(p===2){var b=c(f);if(b===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(f[1][1],b),n(o(f[0][1]),b)],[n(o(f[1][0]),b),n(f[0][0],b)]]}else{var w=f.concat();for(h=0;h<p;h++)w[h]=w[h].concat();for(var _=u(p).valueOf(),x=0;x<m;x++){var T=s(w[x][x]),A=x;for(h=x+1;h<p;)s(w[h][x])>T&&(T=s(w[h][x]),A=h),h++;if(T===0)throw Error("Cannot calculate inverse, determinant is zero");h=A,h!==x&&(S=w[x],w[x]=w[h],w[h]=S,S=_[x],_[x]=_[h],_[h]=S);var N=w[x],E=_[x];for(h=0;h<p;h++){var C=w[h],O=_[h];if(h!==x){if(C[x]!==0){for(v=n(o(C[x]),N[x]),d=x;d<m;d++)C[d]=i(C[d],a(v,N[d]));for(d=0;d<m;d++)O[d]=i(O[d],a(v,E[d]))}}else{for(v=N[x],d=x;d<m;d++)C[d]=n(C[d],v);for(d=0;d<m;d++)O[d]=n(O[d],v)}}}return _}}});var KP="pinv",cj=["typed","matrix","inv","deepEqual","equal","dotDivide","dot","ctranspose","divideScalar","multiply","add","Complex"],Z1=M(KP,cj,r=>{var{typed:e,matrix:t,inv:n,deepEqual:i,equal:a,dotDivide:o,dot:c,ctranspose:u,divideScalar:s,multiply:l,add:f,Complex:p}=r;return e(KP,{"Array | Matrix":function(b){var w=rt(b)?b.size():ht(b);switch(w.length){case 1:return y(b)?u(b):w[0]===1?n(b):o(u(b),c(b,b));case 2:{if(y(b))return u(b);var _=w[0],x=w[1];if(_===x)try{return n(b)}catch(T){if(!(T instanceof Error&&T.message.match(/Cannot calculate inverse, determinant is zero/)))throw T}return rt(b)?t(m(b.valueOf(),_,x),b.storage()):m(b,_,x)}default:throw new RangeError("Matrix must be two dimensional (size: "+bt(w)+")")}},any:function(b){return a(b,0)?pt(b):s(1,b)}});function m(S,b,w){var{C:_,F:x}=d(S,b,w),T=l(n(l(u(_),_)),u(_)),A=l(u(x),n(l(x,u(x))));return l(A,T)}function h(S,b,w){for(var _=pt(S),x=0,T=0;T<b;T++){if(w<=x)return _;for(var A=T;v(_[A][x]);)if(A++,b===A&&(A=T,x++,w===x))return _;[_[A],_[T]]=[_[T],_[A]];for(var N=_[T][x],E=0;E<w;E++)_[T][E]=o(_[T][E],N);for(var C=0;C<b;C++)if(C!==T){N=_[C][x];for(var O=0;O<w;O++)_[C][O]=f(_[C][O],l(-1,l(N,_[T][O])))}x++}return _}function d(S,b,w){var _=h(S,b,w),x=S.map((A,N)=>A.filter((E,C)=>C<b&&!v(c(_[C],_[C])))),T=_.filter((A,N)=>!v(c(_[N],_[N])));return{C:x,F:T}}function v(S){return a(f(S,p(1,1)),f(0,p(1,1)))}function y(S){return i(f(S,p(1,1)),f(l(S,0),p(1,1)))}});function eO(r){var{addScalar:e,subtract:t,flatten:n,multiply:i,multiplyScalar:a,divideScalar:o,sqrt:c,abs:u,bignumber:s,diag:l,size:f,reshape:p,inv:m,qr:h,usolve:d,usolveAll:v,equal:y,complex:S,larger:b,smaller:w,matrixFromColumns:_,dot:x}=r;function T(Q,V,le,Se){var fe=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,he=A(Q,V,le,Se,fe);N(Q,V,le,Se,fe,he);var{values:_e,C:ge}=E(Q,V,le,Se,fe);if(fe){var me=C(Q,V,ge,he,_e,le,Se);return{values:_e,eigenvectors:me}}return{values:_e}}function A(Q,V,le,Se,fe){var he=Se==="BigNumber",_e=Se==="Complex",ge=he?s(0):0,me=he?s(1):_e?S(1):1,we=he?s(1):1,Te=he?s(10):2,ze=a(Te,Te),tt;fe&&(tt=Array(V).fill(me));for(var Y=!1;!Y;){Y=!0;for(var K=0;K<V;K++){for(var ve=ge,J=ge,te=0;te<V;te++)K!==te&&(ve=e(ve,u(Q[te][K])),J=e(J,u(Q[K][te])));if(!y(ve,0)&&!y(J,0)){for(var se=we,De=ve,Ne=o(J,Te),Ge=a(J,Te);w(De,Ne);)De=a(De,ze),se=a(se,Te);for(;b(De,Ge);)De=o(De,ze),se=o(se,Te);var Ae=w(o(e(De,J),se),a(e(ve,J),.95));if(Ae){Y=!1;for(var xt=o(1,se),At=0;At<V;At++)K!==At&&(Q[K][At]=a(Q[K][At],xt),Q[At][K]=a(Q[At][K],se));fe&&(tt[K]=a(tt[K],xt))}}}}return fe?l(tt):null}function N(Q,V,le,Se,fe,he){var _e=Se==="BigNumber",ge=Se==="Complex",me=_e?s(0):ge?S(0):0;_e&&(le=s(le));for(var we=0;we<V-2;we++){for(var Te=0,ze=me,tt=we+1;tt<V;tt++){var Y=Q[tt][we];w(u(ze),u(Y))&&(ze=Y,Te=tt)}if(!w(u(ze),le)){if(Te!==we+1){var K=Q[Te];Q[Te]=Q[we+1],Q[we+1]=K;for(var ve=0;ve<V;ve++){var J=Q[ve][Te];Q[ve][Te]=Q[ve][we+1],Q[ve][we+1]=J}if(fe){var te=he[Te];he[Te]=he[we+1],he[we+1]=te}}for(var se=we+2;se<V;se++){var De=o(Q[se][we],ze);if(De!==0){for(var Ne=0;Ne<V;Ne++)Q[se][Ne]=t(Q[se][Ne],a(De,Q[we+1][Ne]));for(var Ge=0;Ge<V;Ge++)Q[Ge][we+1]=e(Q[Ge][we+1],a(De,Q[Ge][se]));if(fe)for(var Ae=0;Ae<V;Ae++)he[se][Ae]=t(he[se][Ae],a(De,he[we+1][Ae]))}}}}return he}function E(Q,V,le,Se,fe){var he=Se==="BigNumber",_e=Se==="Complex",ge=he?s(1):_e?S(1):1;he&&(le=s(le));for(var me=pt(Q),we=[],Te=V,ze=[],tt=fe?l(Array(V).fill(ge)):void 0,Y=fe?l(Array(Te).fill(ge)):void 0,K=0;K<=100;){K+=1;for(var ve=me[Te-1][Te-1],J=0;J<Te;J++)me[J][J]=t(me[J][J],ve);var{Q:te,R:se}=h(me);me=i(se,te);for(var De=0;De<Te;De++)me[De][De]=e(me[De][De],ve);if(fe&&(Y=i(Y,te)),Te===1||w(u(me[Te-1][Te-2]),le)){K=0,we.push(me[Te-1][Te-1]),fe&&(ze.unshift([[1]]),q(Y,V),tt=i(tt,Y),Te>1&&(Y=l(Array(Te-1).fill(ge)))),Te-=1,me.pop();for(var Ne=0;Ne<Te;Ne++)me[Ne].pop()}else if(Te===2||w(u(me[Te-2][Te-3]),le)){K=0;var Ge=O(me[Te-2][Te-2],me[Te-2][Te-1],me[Te-1][Te-2],me[Te-1][Te-1]);we.push(...Ge),fe&&(ze.unshift(U(me[Te-2][Te-2],me[Te-2][Te-1],me[Te-1][Te-2],me[Te-1][Te-1],Ge[0],Ge[1],le,Se)),q(Y,V),tt=i(tt,Y),Te>2&&(Y=l(Array(Te-2).fill(ge)))),Te-=2,me.pop(),me.pop();for(var Ae=0;Ae<Te;Ae++)me[Ae].pop(),me[Ae].pop()}if(Te===0)break}if(we.sort((ye,Ue)=>+t(u(ye),u(Ue))),K>100){var xt=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+we.join(", "));throw xt.values=we,xt.vectors=[],xt}var At=fe?i(tt,L(ze,V)):void 0;return{values:we,C:At}}function C(Q,V,le,Se,fe,he,_e){var ge=m(le),me=i(ge,Q,le),we=_e==="BigNumber",Te=_e==="Complex",ze=we?s(0):Te?S(0):0,tt=we?s(1):Te?S(1):1,Y=[],K=[];for(var ve of fe){var J=P(Y,ve,y);J===-1?(Y.push(ve),K.push(1)):K[J]+=1}for(var te=[],se=Y.length,De=Array(V).fill(ze),Ne=l(Array(V).fill(tt)),Ge=function(){var At=Y[Ae],ye=t(me,i(At,Ne)),Ue=v(ye,De);for(Ue.shift();Ue.length<K[Ae];){var X=k(ye,V,Ue,he,_e);if(X===null)break;Ue.push(X)}var ce=i(m(Se),le);Ue=Ue.map(be=>i(ce,be)),te.push(...Ue.map(be=>({value:At,vector:n(be)})))},Ae=0;Ae<se;Ae++)Ge();return te}function O(Q,V,le,Se){var fe=e(Q,Se),he=t(a(Q,Se),a(V,le)),_e=a(fe,.5),ge=a(c(t(a(fe,fe),a(4,he))),.5);return[e(_e,ge),t(_e,ge)]}function U(Q,V,le,Se,fe,he,_e,ge){var me=ge==="BigNumber",we=ge==="Complex",Te=me?s(0):we?S(0):0,ze=me?s(1):we?S(1):1;if(w(u(le),_e))return[[ze,Te],[Te,ze]];if(b(u(t(fe,he)),_e))return[[t(fe,Se),t(he,Se)],[le,le]];var tt=t(Q,fe),Y=t(Se,fe);return w(u(V),_e)&&w(u(Y),_e)?[[tt,ze],[le,Te]]:[[V,Te],[Y,ze]]}function q(Q,V){for(var le=0;le<Q.length;le++)Q[le].push(...Array(V-Q[le].length).fill(0));for(var Se=Q.length;Se<V;Se++)Q.push(Array(V).fill(0)),Q[Se][Se]=1;return Q}function L(Q,V){for(var le=[],Se=0;Se<V;Se++)le[Se]=Array(V).fill(0);var fe=0;for(var he of Q){for(var _e=he.length,ge=0;ge<_e;ge++)for(var me=0;me<_e;me++)le[fe+ge][fe+me]=he[ge][me];fe+=_e}return le}function P(Q,V,le){for(var Se=0;Se<Q.length;Se++)if(le(Q[Se],V))return Se;return-1}function k(Q,V,le,Se,fe){for(var he=fe==="BigNumber"?s(1e3):1e3,_e,ge=0;ge<5;++ge){_e=H(V,le,fe);try{_e=d(Q,_e)}catch(we){continue}if(b(W(_e),he))break}if(ge>=5)return null;for(ge=0;;){var me=d(Q,_e);if(w(W(B(_e,[me])),Se))break;if(++ge>=10)return null;_e=ie(me)}return _e}function H(Q,V,le){var Se=le==="BigNumber",fe=le==="Complex",he=Array(Q).fill(0).map(_e=>2*Math.random()-1);return Se&&(he=he.map(_e=>s(_e))),fe&&(he=he.map(_e=>S(_e))),he=B(he,V),ie(he,le)}function B(Q,V){var le=f(Q);for(var Se of V)Se=p(Se,le),Q=t(Q,i(o(x(Se,Q),x(Se,Se)),Se));return Q}function W(Q){return u(c(x(Q,Q)))}function ie(Q,V){var le=V==="BigNumber",Se=V==="Complex",fe=le?s(1):Se?S(1):1;return i(o(fe,W(Q)),Q)}return T}function tO(r){var{config:e,addScalar:t,subtract:n,abs:i,atan:a,cos:o,sin:c,multiplyScalar:u,inv:s,bignumber:l,multiply:f,add:p}=r;function m(N,E){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.epsilon,O=arguments.length>3?arguments[3]:void 0,U=arguments.length>4?arguments[4]:void 0;if(O==="number")return h(N,C,U);if(O==="BigNumber")return d(N,C,U);throw TypeError("Unsupported data type: "+O)}function h(N,E,C){var O=N.length,U=Math.abs(E/O),q,L;if(C){L=new Array(O);for(var P=0;P<O;P++)L[P]=Array(O).fill(0),L[P][P]=1}for(var k=x(N);Math.abs(k[1])>=Math.abs(U);){var H=k[0][0],B=k[0][1];q=v(N[H][H],N[B][B],N[H][B]),N=_(N,q,H,B),C&&(L=S(L,q,H,B)),k=x(N)}for(var W=Array(O).fill(0),ie=0;ie<O;ie++)W[ie]=N[ie][ie];return A(pt(W),L,C)}function d(N,E,C){var O=N.length,U=i(E/O),q,L;if(C){L=new Array(O);for(var P=0;P<O;P++)L[P]=Array(O).fill(0),L[P][P]=1}for(var k=T(N);i(k[1])>=i(U);){var H=k[0][0],B=k[0][1];q=y(N[H][H],N[B][B],N[H][B]),N=w(N,q,H,B),C&&(L=b(L,q,H,B)),k=T(N)}for(var W=Array(O).fill(0),ie=0;ie<O;ie++)W[ie]=N[ie][ie];return A(pt(W),L,C)}function v(N,E,C){var O=E-N;return Math.abs(O)<=e.epsilon?Math.PI/4:.5*Math.atan(2*C/(E-N))}function y(N,E,C){var O=n(E,N);return i(O)<=e.epsilon?l(-1).acos().div(4):u(.5,a(f(2,C,s(O))))}function S(N,E,C,O){for(var U=N.length,q=Math.cos(E),L=Math.sin(E),P=Array(U).fill(0),k=Array(U).fill(0),H=0;H<U;H++)P[H]=q*N[H][C]-L*N[H][O],k[H]=L*N[H][C]+q*N[H][O];for(var B=0;B<U;B++)N[B][C]=P[B],N[B][O]=k[B];return N}function b(N,E,C,O){for(var U=N.length,q=o(E),L=c(E),P=Array(U).fill(l(0)),k=Array(U).fill(l(0)),H=0;H<U;H++)P[H]=n(u(q,N[H][C]),u(L,N[H][O])),k[H]=t(u(L,N[H][C]),u(q,N[H][O]));for(var B=0;B<U;B++)N[B][C]=P[B],N[B][O]=k[B];return N}function w(N,E,C,O){for(var U=N.length,q=l(o(E)),L=l(c(E)),P=u(q,q),k=u(L,L),H=Array(U).fill(l(0)),B=Array(U).fill(l(0)),W=f(l(2),q,L,N[C][O]),ie=t(n(u(P,N[C][C]),W),u(k,N[O][O])),Q=p(u(k,N[C][C]),W,u(P,N[O][O])),V=0;V<U;V++)H[V]=n(u(q,N[C][V]),u(L,N[O][V])),B[V]=t(u(L,N[C][V]),u(q,N[O][V]));N[C][C]=ie,N[O][O]=Q,N[C][O]=l(0),N[O][C]=l(0);for(var le=0;le<U;le++)le!==C&&le!==O&&(N[C][le]=H[le],N[le][C]=H[le],N[O][le]=B[le],N[le][O]=B[le]);return N}function _(N,E,C,O){for(var U=N.length,q=Math.cos(E),L=Math.sin(E),P=q*q,k=L*L,H=Array(U).fill(0),B=Array(U).fill(0),W=P*N[C][C]-2*q*L*N[C][O]+k*N[O][O],ie=k*N[C][C]+2*q*L*N[C][O]+P*N[O][O],Q=0;Q<U;Q++)H[Q]=q*N[C][Q]-L*N[O][Q],B[Q]=L*N[C][Q]+q*N[O][Q];N[C][C]=W,N[O][O]=ie,N[C][O]=0,N[O][C]=0;for(var V=0;V<U;V++)V!==C&&V!==O&&(N[C][V]=H[V],N[V][C]=H[V],N[O][V]=B[V],N[V][O]=B[V]);return N}function x(N){for(var E=N.length,C=0,O=[0,1],U=0;U<E;U++)for(var q=U+1;q<E;q++)Math.abs(C)<Math.abs(N[U][q])&&(C=Math.abs(N[U][q]),O=[U,q]);return[O,C]}function T(N){for(var E=N.length,C=0,O=[0,1],U=0;U<E;U++)for(var q=U+1;q<E;q++)i(C)<i(N[U][q])&&(C=i(N[U][q]),O=[U,q]);return[O,C]}function A(N,E,C){var O=N.length,U=Array(O),q;if(C){q=Array(O);for(var L=0;L<O;L++)q[L]=Array(O)}for(var P=0;P<O;P++){for(var k=0,H=N[0],B=0;B<N.length;B++)i(N[B])<i(H)&&(k=B,H=N[k]);if(U[P]=N.splice(k,1)[0],C)for(var W=0;W<O;W++)q[P][W]=E[W][k],E[W].splice(k,1)}if(!C)return{values:U};var ie=q.map((Q,V)=>({value:U[V],vector:Q}));return{values:U,eigenvectors:ie}}return m}var fj="eigs",pj=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","size","reshape","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],J1=M(fj,pj,r=>{var{config:e,typed:t,matrix:n,addScalar:i,subtract:a,equal:o,abs:c,atan:u,cos:s,sin:l,multiplyScalar:f,divideScalar:p,inv:m,bignumber:h,multiply:d,add:v,larger:y,column:S,flatten:b,number:w,complex:_,sqrt:x,diag:T,size:A,reshape:N,qr:E,usolve:C,usolveAll:O,im:U,re:q,smaller:L,matrixFromColumns:P,dot:k}=r,H=tO({config:e,addScalar:i,subtract:a,column:S,flatten:b,equal:o,abs:c,atan:u,cos:s,sin:l,multiplyScalar:f,inv:m,bignumber:h,complex:_,multiply:d,add:v}),B=eO({config:e,addScalar:i,subtract:a,multiply:d,multiplyScalar:f,flatten:b,divideScalar:p,sqrt:x,abs:c,bignumber:h,diag:T,size:A,reshape:N,qr:E,inv:m,usolve:C,usolveAll:O,equal:o,complex:_,larger:y,smaller:L,matrixFromColumns:P,dot:k});return t("eigs",{Array:function(he){return W(n(he))},"Array, number|BigNumber":function(he,_e){return W(n(he),{precision:_e})},"Array, Object"(fe,he){return W(n(fe),he)},Matrix:function(he){return W(he,{matricize:!0})},"Matrix, number|BigNumber":function(he,_e){return W(he,{precision:_e,matricize:!0})},"Matrix, Object":function(he,_e){var ge={matricize:!0};return Cr(ge,_e),W(he,ge)}});function W(fe){var he,_e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ge="eigenvectors"in _e?_e.eigenvectors:!0,me=(he=_e.precision)!==null&&he!==void 0?he:e.epsilon,we=ie(fe,me,ge);return _e.matricize&&(we.values=n(we.values),ge&&(we.eigenvectors=we.eigenvectors.map(Te=>{var{value:ze,vector:tt}=Te;return{value:ze,vector:n(tt)}}))),ge&&Object.defineProperty(we,"vectors",{enumerable:!1,get:()=>{throw new Error("eigs(M).vectors replaced with eigs(M).eigenvectors")}}),we}function ie(fe,he,_e){var ge=fe.toArray(),me=fe.size();if(me.length!==2||me[0]!==me[1])throw new RangeError("Matrix must be square (size: ".concat(bt(me),")"));var we=me[0];if(V(ge,we,he)&&(le(ge,we),Q(ge,we,he))){var Te=Se(fe,ge,we);return H(ge,we,he,Te,_e)}var ze=Se(fe,ge,we);return B(ge,we,he,ze,_e)}function Q(fe,he,_e){for(var ge=0;ge<he;ge++)for(var me=ge;me<he;me++)if(y(h(c(a(fe[ge][me],fe[me][ge]))),_e))return!1;return!0}function V(fe,he,_e){for(var ge=0;ge<he;ge++)for(var me=0;me<he;me++)if(y(h(c(U(fe[ge][me]))),_e))return!1;return!0}function le(fe,he){for(var _e=0;_e<he;_e++)for(var ge=0;ge<he;ge++)fe[_e][ge]=q(fe[_e][ge])}function Se(fe,he,_e){var ge=fe.datatype();if(ge==="number"||ge==="BigNumber"||ge==="Complex")return ge;for(var me=!1,we=!1,Te=!1,ze=0;ze<_e;ze++)for(var tt=0;tt<_e;tt++){var Y=he[ze][tt];if(gt(Y)||Ua(Y))me=!0;else if(st(Y))we=!0;else if(Xn(Y))Te=!0;else throw TypeError("Unsupported type in Matrix: "+$t(Y))}if(we&&Te&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),Te){for(var K=0;K<_e;K++)for(var ve=0;ve<_e;ve++)he[K][ve]=_(he[K][ve]);return"Complex"}if(we){for(var J=0;J<_e;J++)for(var te=0;te<_e;te++)he[J][te]=h(he[J][te]);return"BigNumber"}if(me){for(var se=0;se<_e;se++)for(var De=0;De<_e;De++)he[se][De]=w(he[se][De]);return"number"}else throw TypeError("Matrix contains unsupported types only.")}});var rO="expm",mj=["typed","abs","add","identity","inv","multiply"],X1=M(rO,mj,r=>{var{typed:e,abs:t,add:n,identity:i,inv:a,multiply:o}=r;return e(rO,{Matrix:function(f){var p=f.size();if(p.length!==2||p[0]!==p[1])throw new RangeError("Matrix must be square (size: "+bt(p)+")");for(var m=p[0],h=1e-15,d=c(f),v=u(d,h),y=v.q,S=v.j,b=o(f,Math.pow(2,-S)),w=i(m),_=i(m),x=1,T=b,A=-1,N=1;N<=y;N++)N>1&&(T=o(T,b),A=-A),x=x*(y-N+1)/((2*y-N+1)*N),w=n(w,o(x,T)),_=n(_,o(x*A,T));for(var E=o(a(_),w),C=0;C<S;C++)E=o(E,E);return ea(f)?f.createSparseMatrix(E):E}});function c(l){for(var f=l.size()[0],p=0,m=0;m<f;m++){for(var h=0,d=0;d<f;d++)h+=t(l.get([m,d]));p=Math.max(h,p)}return p}function u(l,f){for(var p=30,m=0;m<p;m++)for(var h=0;h<=m;h++){var d=m-h;if(s(l,h,d)<f)return{q:h,j:d}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}function s(l,f,p){for(var m=1,h=2;h<=f;h++)m*=h;for(var d=m,v=f+1;v<=2*f;v++)d*=v;var y=d*(2*f+1);return 8*Math.pow(l/Math.pow(2,p),2*f)*m*m/(d*y)}});var nO="sqrtm",dj=["typed","abs","add","multiply","map","sqrt","subtract","inv","size","max","identity"],Q1=M(nO,dj,r=>{var{typed:e,abs:t,add:n,multiply:i,map:a,sqrt:o,subtract:c,inv:u,size:s,max:l,identity:f}=r,p=1e3,m=1e-6;function h(d){var v,y=0,S=d,b=f(s(d));do{var w=S;if(S=i(.5,n(w,u(b))),b=i(.5,n(b,u(w))),v=l(t(c(S,w))),v>m&&++y>p)throw new Error("computing square root of matrix: iterative method could not converge")}while(v>m);return S}return e(nO,{"Array | Matrix":function(v){var y=rt(v)?v.size():ht(v);switch(y.length){case 1:if(y[0]===1)return a(v,o);throw new RangeError("Matrix must be square (size: "+bt(y)+")");case 2:{var S=y[0],b=y[1];if(S===b)return h(v);throw new RangeError("Matrix must be square (size: "+bt(y)+")")}default:throw new RangeError("Matrix must be at most two dimensional (size: "+bt(y)+")")}}})});var iO="sylvester",hj=["typed","schur","matrixFromColumns","matrix","multiply","range","concat","transpose","index","subset","add","subtract","identity","lusolve","abs"],K1=M(iO,hj,r=>{var{typed:e,schur:t,matrixFromColumns:n,matrix:i,multiply:a,range:o,concat:c,transpose:u,index:s,subset:l,add:f,subtract:p,identity:m,lusolve:h,abs:d}=r;return e(iO,{"Matrix, Matrix, Matrix":v,"Array, Matrix, Matrix":function(S,b,w){return v(i(S),b,w)},"Array, Array, Matrix":function(S,b,w){return v(i(S),i(b),w)},"Array, Matrix, Array":function(S,b,w){return v(i(S),b,i(w))},"Matrix, Array, Matrix":function(S,b,w){return v(S,i(b),w)},"Matrix, Array, Array":function(S,b,w){return v(S,i(b),i(w))},"Matrix, Matrix, Array":function(S,b,w){return v(S,b,i(w))},"Array, Array, Array":function(S,b,w){return v(i(S),i(b),i(w)).toArray()}});function v(y,S,b){for(var w=S.size()[0],_=y.size()[0],x=t(y),T=x.T,A=x.U,N=t(a(-1,S)),E=N.T,C=N.U,O=a(a(u(A),b),C),U=o(0,_),q=[],L=(Te,ze)=>c(Te,ze,1),P=(Te,ze)=>c(Te,ze,0),k=0;k<w;k++)if(k<w-1&&d(l(E,s(k+1,k)))>1e-5){for(var H=P(l(O,s(U,k)),l(O,s(U,k+1))),B=0;B<k;B++)H=f(H,P(a(q[B],l(E,s(B,k))),a(q[B],l(E,s(B,k+1)))));var W=a(m(_),a(-1,l(E,s(k,k)))),ie=a(m(_),a(-1,l(E,s(k+1,k)))),Q=a(m(_),a(-1,l(E,s(k,k+1)))),V=a(m(_),a(-1,l(E,s(k+1,k+1)))),le=P(L(f(T,W),ie),L(Q,f(T,V))),Se=h(le,H);q[k]=Se.subset(s(o(0,_),0)),q[k+1]=Se.subset(s(o(_,2*_),0)),k++}else{for(var fe=l(O,s(U,k)),he=0;he<k;he++)fe=f(fe,a(q[he],l(E,s(he,k))));var _e=l(E,s(k,k)),ge=p(T,a(_e,m(_)));q[k]=h(ge,fe)}var me=i(n(...q)),we=a(A,a(me,u(C)));return we}});var aO="schur",gj=["typed","matrix","identity","multiply","qr","norm","subtract"],ex=M(aO,gj,r=>{var{typed:e,matrix:t,identity:n,multiply:i,qr:a,norm:o,subtract:c}=r;return e(aO,{Array:function(l){var f=u(t(l));return{U:f.U.valueOf(),T:f.T.valueOf()}},Matrix:function(l){return u(l)}});function u(s){var l=s.size()[0],f=s,p=n(l),m=0,h;do{h=f;var d=a(f),v=d.Q,y=d.R;if(f=i(y,v),p=i(p,v),m++>100)break}while(o(c(f,h))>1e-4);return{U:p,T:f}}});var oO="lyap",vj=["typed","matrix","sylvester","multiply","transpose"],tx=M(oO,vj,r=>{var{typed:e,matrix:t,sylvester:n,multiply:i,transpose:a}=r;return e(oO,{"Matrix, Matrix":function(c,u){return n(c,a(c),i(-1,u))},"Array, Matrix":function(c,u){return n(t(c),a(t(c)),i(-1,u))},"Matrix, Array":function(c,u){return n(c,a(t(c)),t(i(-1,u)))},"Array, Array":function(c,u){return n(t(c),a(t(c)),t(i(-1,u))).toArray()}})});var yj="divide",bj=["typed","matrix","multiply","equalScalar","divideScalar","inv"],rx=M(yj,bj,r=>{var{typed:e,matrix:t,multiply:n,equalScalar:i,divideScalar:a,inv:o}=r,c=mr({typed:e,equalScalar:i}),u=Qr({typed:e});return e("divide",tp({"Array | Matrix, Array | Matrix":function(l,f){return n(l,o(f))},"DenseMatrix, any":function(l,f){return u(l,f,a,!1)},"SparseMatrix, any":function(l,f){return c(l,f,a,!1)},"Array, any":function(l,f){return u(t(l),f,a,!1).valueOf()},"any, Array | Matrix":function(l,f){return n(l,o(f))}},a.signatures))});var sO="distance",xj=["typed","addScalar","subtractScalar","divideScalar","multiplyScalar","deepEqual","sqrt","abs"],nx=M(sO,xj,r=>{var{typed:e,addScalar:t,subtractScalar:n,multiplyScalar:i,divideScalar:a,deepEqual:o,sqrt:c,abs:u}=r;return e(sO,{"Array, Array, Array":function(_,x,T){if(_.length===2&&x.length===2&&T.length===2){if(!l(_))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!l(x))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!l(T))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(o(x,T))throw new TypeError("LinePoint1 should not be same with LinePoint2");var A=n(T[1],x[1]),N=n(x[0],T[0]),E=n(i(T[0],x[1]),i(x[0],T[1]));return v(_[0],_[1],A,N,E)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(_,x,T){if(Object.keys(_).length===2&&Object.keys(x).length===2&&Object.keys(T).length===2){if(!l(_))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!l(x))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!l(T))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if(o(h(x),h(T)))throw new TypeError("LinePoint1 should not be same with LinePoint2");if("pointX"in _&&"pointY"in _&&"lineOnePtX"in x&&"lineOnePtY"in x&&"lineTwoPtX"in T&&"lineTwoPtY"in T){var A=n(T.lineTwoPtY,x.lineOnePtY),N=n(x.lineOnePtX,T.lineTwoPtX),E=n(i(T.lineTwoPtX,x.lineOnePtY),i(x.lineOnePtX,T.lineTwoPtY));return v(_.pointX,_.pointY,A,N,E)}else throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(_,x){if(_.length===2&&x.length===3){if(!l(_))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!f(x))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return v(_[0],_[1],x[0],x[1],x[2])}else if(_.length===3&&x.length===6){if(!f(_))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!m(x))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return y(_[0],_[1],_[2],x[0],x[1],x[2],x[3],x[4],x[5])}else if(_.length===x.length&&_.length>0){if(!p(_))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!p(x))throw new TypeError("All values of an array should be numbers or BigNumbers");return S(_,x)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(_,x){if(Object.keys(_).length===2&&Object.keys(x).length===3){if(!l(_))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!f(x))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in _&&"pointY"in _&&"xCoeffLine"in x&&"yCoeffLine"in x&&"constant"in x)return v(_.pointX,_.pointY,x.xCoeffLine,x.yCoeffLine,x.constant);throw new TypeError("Key names do not match")}else if(Object.keys(_).length===3&&Object.keys(x).length===6){if(!f(_))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!m(x))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in _&&"pointY"in _&&"x0"in x&&"y0"in x&&"z0"in x&&"a"in x&&"b"in x&&"c"in x)return y(_.pointX,_.pointY,_.pointZ,x.x0,x.y0,x.z0,x.a,x.b,x.c);throw new TypeError("Key names do not match")}else if(Object.keys(_).length===2&&Object.keys(x).length===2){if(!l(_))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!l(x))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in _&&"pointOneY"in _&&"pointTwoX"in x&&"pointTwoY"in x)return S([_.pointOneX,_.pointOneY],[x.pointTwoX,x.pointTwoY]);throw new TypeError("Key names do not match")}else if(Object.keys(_).length===3&&Object.keys(x).length===3){if(!f(_))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!f(x))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in _&&"pointOneY"in _&&"pointOneZ"in _&&"pointTwoX"in x&&"pointTwoY"in x&&"pointTwoZ"in x)return S([_.pointOneX,_.pointOneY,_.pointOneZ],[x.pointTwoX,x.pointTwoY,x.pointTwoZ]);throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},Array:function(_){if(!d(_))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return b(_)}});function s(w){return typeof w=="number"||st(w)}function l(w){return w.constructor!==Array&&(w=h(w)),s(w[0])&&s(w[1])}function f(w){return w.constructor!==Array&&(w=h(w)),s(w[0])&&s(w[1])&&s(w[2])}function p(w){return Array.isArray(w)||(w=h(w)),w.every(s)}function m(w){return w.constructor!==Array&&(w=h(w)),s(w[0])&&s(w[1])&&s(w[2])&&s(w[3])&&s(w[4])&&s(w[5])}function h(w){for(var _=Object.keys(w),x=[],T=0;T<_.length;T++)x.push(w[_[T]]);return x}function d(w){if(w[0].length===2&&s(w[0][0])&&s(w[0][1])){if(w.some(_=>_.length!==2||!s(_[0])||!s(_[1])))return!1}else if(w[0].length===3&&s(w[0][0])&&s(w[0][1])&&s(w[0][2])){if(w.some(_=>_.length!==3||!s(_[0])||!s(_[1])||!s(_[2])))return!1}else return!1;return!0}function v(w,_,x,T,A){var N=u(t(t(i(x,w),i(T,_)),A)),E=c(t(i(x,x),i(T,T)));return a(N,E)}function y(w,_,x,T,A,N,E,C,O){var U=[n(i(n(A,_),O),i(n(N,x),C)),n(i(n(N,x),E),i(n(T,w),O)),n(i(n(T,w),C),i(n(A,_),E))];U=c(t(t(i(U[0],U[0]),i(U[1],U[1])),i(U[2],U[2])));var q=c(t(t(i(E,E),i(C,C)),i(O,O)));return a(U,q)}function S(w,_){for(var x=w.length,T=0,A=0,N=0;N<x;N++)A=n(w[N],_[N]),T=t(i(A,A),T);return c(T)}function b(w){for(var _=[],x=[],T=[],A=0;A<w.length-1;A++)for(var N=A+1;N<w.length;N++)w[0].length===2?(x=[w[A][0],w[A][1]],T=[w[N][0],w[N][1]]):w[0].length===3&&(x=[w[A][0],w[A][1],w[A][2]],T=[w[N][0],w[N][1],w[N][2]]),_.push(S(x,T));return _}});var wj="intersect",_j=["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar","flatten","isZero","isNumeric"],ix=M(wj,_j,r=>{var{typed:e,config:t,abs:n,add:i,addScalar:a,matrix:o,multiply:c,multiplyScalar:u,divideScalar:s,subtract:l,smaller:f,equalScalar:p,flatten:m,isZero:h,isNumeric:d}=r;return e("intersect",{"Array, Array, Array":v,"Array, Array, Array, Array":y,"Matrix, Matrix, Matrix":function(C,O,U){var q=v(C.valueOf(),O.valueOf(),U.valueOf());return q===null?null:o(q)},"Matrix, Matrix, Matrix, Matrix":function(C,O,U,q){var L=y(C.valueOf(),O.valueOf(),U.valueOf(),q.valueOf());return L===null?null:o(L)}});function v(E,C,O){if(E=S(E),C=S(C),O=S(O),!w(E))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!w(C))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!_(O))throw new TypeError("Array with 4 numbers expected as third argument");return N(E[0],E[1],E[2],C[0],C[1],C[2],O[0],O[1],O[2],O[3])}function y(E,C,O,U){if(E=S(E),C=S(C),O=S(O),U=S(U),E.length===2){if(!b(E))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!b(C))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!b(O))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!b(U))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return x(E,C,O,U)}else if(E.length===3){if(!w(E))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!w(C))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!w(O))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!w(U))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return A(E[0],E[1],E[2],C[0],C[1],C[2],O[0],O[1],O[2],U[0],U[1],U[2])}else throw new TypeError("Arrays with two or thee dimensional points expected")}function S(E){return E.length===1?E[0]:E.length>1&&Array.isArray(E[0])&&E.every(C=>Array.isArray(C)&&C.length===1)?m(E):E}function b(E){return E.length===2&&d(E[0])&&d(E[1])}function w(E){return E.length===3&&d(E[0])&&d(E[1])&&d(E[2])}function _(E){return E.length===4&&d(E[0])&&d(E[1])&&d(E[2])&&d(E[3])}function x(E,C,O,U){var q=E,L=O,P=l(q,C),k=l(L,U),H=l(u(P[0],k[1]),u(k[0],P[1]));if(h(H)||f(n(H),t.epsilon))return null;var B=u(k[0],q[1]),W=u(k[1],q[0]),ie=u(k[0],L[1]),Q=u(k[1],L[0]),V=s(a(l(l(B,W),ie),Q),H);return i(c(P,V),q)}function T(E,C,O,U,q,L,P,k,H,B,W,ie){var Q=u(l(E,C),l(O,U)),V=u(l(q,L),l(P,k)),le=u(l(H,B),l(W,ie));return a(a(Q,V),le)}function A(E,C,O,U,q,L,P,k,H,B,W,ie){var Q=T(E,P,B,P,C,k,W,k,O,H,ie,H),V=T(B,P,U,E,W,k,q,C,ie,H,L,O),le=T(E,P,U,E,C,k,q,C,O,H,L,O),Se=T(B,P,B,P,W,k,W,k,ie,H,ie,H),fe=T(U,E,U,E,q,C,q,C,L,O,L,O),he=l(u(Q,V),u(le,Se)),_e=l(u(fe,Se),u(V,V));if(h(_e))return null;var ge=s(he,_e),me=s(a(Q,u(ge,V)),Se),we=a(E,u(ge,l(U,E))),Te=a(C,u(ge,l(q,C))),ze=a(O,u(ge,l(L,O))),tt=a(P,u(me,l(B,P))),Y=a(k,u(me,l(W,k))),K=a(H,u(me,l(ie,H)));return p(we,tt)&&p(Te,Y)&&p(ze,K)?[we,Te,ze]:null}function N(E,C,O,U,q,L,P,k,H,B){var W=u(E,P),ie=u(U,P),Q=u(C,k),V=u(q,k),le=u(O,H),Se=u(L,H),fe=l(l(l(B,W),Q),le),he=l(l(l(a(a(ie,V),Se),W),Q),le),_e=s(fe,he),ge=a(E,u(_e,l(U,E))),me=a(C,u(_e,l(q,C))),we=a(O,u(_e,l(L,O)));return[ge,me,we]}});var uO="sum",Sj=["typed","config","add","numeric"],Zl=M(uO,Sj,r=>{var{typed:e,config:t,add:n,numeric:i}=r;return e(uO,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":o,"...":function(u){if(Ui(u))throw new TypeError("Scalar values expected in function sum");return a(u)}});function a(c){var u;return Rn(c,function(s){try{u=u===void 0?s:n(u,s)}catch(l){throw zr(l,"sum",s)}}),u===void 0&&(u=i(0,t.number)),typeof u=="string"&&(u=i(u,t.number)),u}function o(c,u){try{var s=So(c,u,n);return s}catch(l){throw zr(l,"sum")}}});var am="cumsum",Dj=["typed","add","unaryPlus"],Jl=M(am,Dj,r=>{var{typed:e,add:t,unaryPlus:n}=r;return e(am,{Array:i,Matrix:function(s){return s.create(i(s.valueOf()))},"Array, number | BigNumber":o,"Matrix, number | BigNumber":function(s,l){return s.create(o(s.valueOf(),l))},"...":function(s){if(Ui(s))throw new TypeError("All values expected to be scalar in function cumsum");return i(s)}});function i(u){try{return a(u)}catch(s){throw zr(s,am)}}function a(u){if(u.length===0)return[];for(var s=[n(u[0])],l=1;l<u.length;++l)s.push(t(s[l-1],u[l]));return s}function o(u,s){var l=ht(u);if(s<0||s>=l.length)throw new Mn(s,l.length);try{return c(u,s)}catch(f){throw zr(f,am)}}function c(u,s){var l,f,p;if(s<=0){var m=u[0][0];if(Array.isArray(m)){for(p=bp(u),f=[],l=0;l<p.length;l++)f[l]=c(p[l],s-1);return f}else return a(u)}else{for(f=[],l=0;l<u.length;l++)f[l]=c(u[l],s-1);return f}}});var lO="mean",Nj=["typed","add","divide"],Xl=M(lO,Nj,r=>{var{typed:e,add:t,divide:n}=r;return e(lO,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":i,"...":function(c){if(Ui(c))throw new TypeError("Scalar values expected in function mean");return a(c)}});function i(o,c){try{var u=So(o,c,t),s=Array.isArray(o)?ht(o):o.size();return n(u,s[c])}catch(l){throw zr(l,"mean")}}function a(o){var c,u=0;if(Rn(o,function(s){try{c=c===void 0?s:t(c,s),u++}catch(l){throw zr(l,"mean",s)}}),u===0)throw new Error("Cannot calculate the mean of an empty array");return n(c,u)}});var cO="median",Aj=["typed","add","divide","compare","partitionSelect"],ax=M(cO,Aj,r=>{var{typed:e,add:t,divide:n,compare:i,partitionSelect:a}=r;function o(s){try{s=Mt(s.valueOf());var l=s.length;if(l===0)throw new Error("Cannot calculate median of an empty array");if(l%2===0){for(var f=l/2-1,p=a(s,f+1),m=s[f],h=0;h<f;++h)i(s[h],m)>0&&(m=s[h]);return u(m,p)}else{var d=a(s,(l-1)/2);return c(d)}}catch(v){throw zr(v,"median")}}var c=e({"number | BigNumber | Complex | Unit":function(l){return l}}),u=e({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(l,f){return n(t(l,f),2)}});return e(cO,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(l,f){throw new Error("median(A, dim) is not yet supported")},"...":function(l){if(Ui(l))throw new TypeError("Scalar values expected in function median");return o(l)}})});var fO="mad",Ej=["typed","abs","map","median","subtract"],ox=M(fO,Ej,r=>{var{typed:e,abs:t,map:n,median:i,subtract:a}=r;return e(fO,{"Array | Matrix":o,"...":function(u){return o(u)}});function o(c){if(c=Mt(c.valueOf()),c.length===0)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var u=i(c);return i(n(c,function(s){return t(a(s,u))}))}catch(s){throw s instanceof TypeError&&s.message.indexOf("median")!==-1?new TypeError(s.message.replace("median","mad")):zr(s,"mad")}}});var sx="unbiased",pO="variance",Tj=["typed","add","subtract","multiply","divide","apply","isNaN"],Ql=M(pO,Tj,r=>{var{typed:e,add:t,subtract:n,multiply:i,divide:a,apply:o,isNaN:c}=r;return e(pO,{"Array | Matrix":function(f){return u(f,sx)},"Array | Matrix, string":u,"Array | Matrix, number | BigNumber":function(f,p){return s(f,p,sx)},"Array | Matrix, number | BigNumber, string":s,"...":function(f){return u(f,sx)}});function u(l,f){var p,m=0;if(l.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(Rn(l,function(v){try{p=p===void 0?v:t(p,v),m++}catch(y){throw zr(y,"variance",v)}}),m===0)throw new Error("Cannot calculate variance of an empty array");var h=a(p,m);if(p=void 0,Rn(l,function(v){var y=n(v,h);p=p===void 0?i(y,y):t(p,i(y,y))}),c(p))return p;switch(f){case"uncorrected":return a(p,m);case"biased":return a(p,m+1);case"unbiased":{var d=st(p)?p.mul(0):0;return m===1?d:a(p,m-1)}default:throw new Error('Unknown normalization "'+f+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function s(l,f,p){try{if(l.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return o(l,f,m=>u(m,p))}catch(m){throw zr(m,"variance")}}});var mO="quantileSeq",Mj=["typed","?bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],Kl=M(mO,Mj,r=>{var{typed:e,bignumber:t,add:n,subtract:i,divide:a,multiply:o,partitionSelect:c,compare:u,isInteger:s,smaller:l,smallerEq:f,larger:p}=r,m=ms({typed:e,isInteger:s});return e(mO,{"Array | Matrix, number | BigNumber":(S,b)=>d(S,b,!1),"Array | Matrix, number | BigNumber, number":(S,b,w)=>h(S,b,!1,w,d),"Array | Matrix, number | BigNumber, boolean":d,"Array | Matrix, number | BigNumber, boolean, number":(S,b,w,_)=>h(S,b,w,_,d),"Array | Matrix, Array | Matrix":(S,b)=>v(S,b,!1),"Array | Matrix, Array | Matrix, number":(S,b,w)=>h(S,b,!1,w,v),"Array | Matrix, Array | Matrix, boolean":v,"Array | Matrix, Array | Matrix, boolean, number":(S,b,w,_)=>h(S,b,w,_,v)});function h(S,b,w,_,x){return m(S,_,T=>x(T,b,w))}function d(S,b,w){var _,x=S.valueOf();if(l(b,0))throw new Error("N/prob must be non-negative");if(f(b,1))return gt(b)?y(x,b,w):t(y(x,b,w));if(p(b,1)){if(!s(b))throw new Error("N must be a positive integer");if(p(b,4294967295))throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var T=n(b,1);_=[];for(var A=0;l(A,b);A++){var N=a(A+1,T);_.push(y(x,N,w))}return gt(b)?_:t(_)}}function v(S,b,w){for(var _=S.valueOf(),x=b.valueOf(),T=[],A=0;A<x.length;++A)T.push(y(_,x[A],w));return T}function y(S,b,w){var _=Mt(S),x=_.length;if(x===0)throw new Error("Cannot calculate quantile of an empty sequence");var T=gt(b)?b*(x-1):b.times(x-1),A=gt(b)?Math.floor(T):T.floor().toNumber(),N=gt(b)?T%1:T.minus(A);if(s(T))return w?_[T]:c(_,gt(b)?T:T.valueOf());var E,C;if(w)E=_[A],C=_[A+1];else{C=c(_,A+1),E=_[A];for(var O=0;O<A;++O)u(_[O],E)>0&&(E=_[O])}return n(o(E,i(1,N)),o(C,N))}});var dO="std",Cj=["typed","map","sqrt","variance"],ec=M(dO,Cj,r=>{var{typed:e,map:t,sqrt:n,variance:i}=r;return e(dO,{"Array | Matrix":a,"Array | Matrix, string":a,"Array | Matrix, number | BigNumber":a,"Array | Matrix, number | BigNumber, string":a,"...":function(c){return a(c)}});function a(o,c){if(o.length===0)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{var u=i.apply(null,arguments);return Wr(u)?t(u,n):n(u)}catch(s){throw s instanceof TypeError&&s.message.indexOf(" variance")!==-1?new TypeError(s.message.replace(" variance"," std")):s}}});var hO="corr",Fj=["typed","matrix","mean","sqrt","sum","add","subtract","multiply","pow","divide"],ux=M(hO,Fj,r=>{var{typed:e,matrix:t,sqrt:n,sum:i,add:a,subtract:o,multiply:c,pow:u,divide:s}=r;return e(hO,{"Array, Array":function(m,h){return l(m,h)},"Matrix, Matrix":function(m,h){var d=l(m.toArray(),h.toArray());return Array.isArray(d)?t(d):d}});function l(p,m){var h=[];if(Array.isArray(p[0])&&Array.isArray(m[0])){if(p.length!==m.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same length.");for(var d=0;d<p.length;d++){if(p[d].length!==m[d].length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");h.push(f(p[d],m[d]))}return h}else{if(p.length!==m.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");return f(p,m)}}function f(p,m){var h=p.length,d=i(p),v=i(m),y=p.reduce((x,T,A)=>a(x,c(T,m[A])),0),S=i(p.map(x=>u(x,2))),b=i(m.map(x=>u(x,2))),w=o(c(h,y),c(d,v)),_=n(c(o(c(h,S),u(d,2)),o(c(h,b),u(v,2))));return s(w,_)}});var gO="combinations",Ij=["typed"],lx=M(gO,Ij,r=>{var{typed:e}=r;return e(gO,{"number, number":Av,"BigNumber, BigNumber":function(n,i){var a=n.constructor,o,c,u=n.minus(i),s=new a(1);if(!vO(n)||!vO(i))throw new TypeError("Positive integer value expected in function combinations");if(i.gt(n))throw new TypeError("k must be less than n in function combinations");if(o=s,i.lt(u))for(c=s;c.lte(u);c=c.plus(s))o=o.times(i.plus(c)).dividedBy(c);else for(c=s;c.lte(i);c=c.plus(s))o=o.times(u.plus(c)).dividedBy(c);return o}})});function vO(r){return r.isInteger()&&r.gte(0)}var yO="combinationsWithRep",Bj=["typed"],cx=M(yO,Bj,r=>{var{typed:e}=r;return e(yO,{"number, number":function(n,i){if(!Xe(n)||n<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!Xe(i)||i<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(n<1)throw new TypeError("k must be less than or equal to n + k - 1");if(i<n-1){var a=Di(n,n+i-1);return a/Di(1,i)}var o=Di(i+1,n+i-1);return o/Di(1,n-1)},"BigNumber, BigNumber":function(n,i){var a=n.constructor,o,c,u=new a(1),s=n.minus(u);if(!bO(n)||!bO(i))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(n.lt(u))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(o=u,i.lt(s))for(c=u;c.lte(s);c=c.plus(u))o=o.times(i.plus(c)).dividedBy(c);else for(c=u;c.lte(i);c=c.plus(u))o=o.times(s.plus(c)).dividedBy(c);return o}})});function bO(r){return r.isInteger()&&r.gte(0)}var xO="gamma",Pj=["typed","config","multiplyScalar","pow","BigNumber","Complex"],fx=M(xO,Pj,r=>{var{typed:e,config:t,multiplyScalar:n,pow:i,BigNumber:a,Complex:o}=r;function c(s){if(s.im===0)return Tl(s.re);if(s.re<.5){var l=new o(1-s.re,-s.im),f=new o(Math.PI*s.re,Math.PI*s.im);return new o(Math.PI).div(f.sin()).div(c(l))}s=new o(s.re-1,s.im);for(var p=new o(ps[0],0),m=1;m<ps.length;++m){var h=new o(ps[m],0);p=p.add(h.div(s.add(m)))}var d=new o(s.re+Iv+.5,s.im),v=Math.sqrt(2*Math.PI),y=d.pow(s.add(.5)),S=d.neg().exp();return p.mul(v).mul(y).mul(S)}return e(xO,{number:Tl,Complex:c,BigNumber:function(l){if(l.isInteger())return l.isNegative()||l.isZero()?new a(1/0):u(l.minus(1));if(!l.isFinite())return new a(l.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")}});function u(s){if(s<8)return new a([1,1,2,6,24,120,720,5040][s]);var l=t.precision+(Math.log(s.toNumber())|0),f=a.clone({precision:l});if(s%2===1)return s.times(u(new a(s-1)));for(var p=s,m=new f(s),h=s.toNumber();p>2;)p-=2,h+=p,m=m.times(h);return new a(m.toPrecision(a.precision))}});var wO="lgamma",Oj=["Complex","typed"],px=M(wO,Oj,r=>{var{Complex:e,typed:t}=r,n=7,i=7,a=[-.029550653594771242,.00641025641025641,-.0019175269175269176,.0008417508417508417,-.0005952380952380953,.0007936507936507937,-.002777777777777778,.08333333333333333];return t(wO,{number:Ml,Complex:o,BigNumber:function(){throw new Error("mathjs doesn't yet provide an implementation of the algorithm lgamma for BigNumber")}});function o(s){var l=6.283185307179586,f=1.1447298858494002,p=.1;if(s.isNaN())return new e(NaN,NaN);if(s.im===0)return new e(Ml(s.re),0);if(s.re>=n||Math.abs(s.im)>=i)return c(s);if(s.re<=p){var m=QA(l,s.im)*Math.floor(.5*s.re+.25),h=s.mul(Math.PI).sin().log(),d=o(new e(1-s.re,-s.im));return new e(f,m).sub(h).sub(d)}else return s.im>=0?u(s):u(s.conjugate()).conjugate()}function c(s){for(var l=s.sub(.5).mul(s.log()).sub(s).add(Bv),f=new e(1,0).div(s),p=f.div(s),m=a[0],h=a[1],d=2*p.re,v=p.re*p.re+p.im*p.im,y=2;y<8;y++){var S=h;h=-v*m+a[y],m=d*m+S}var b=f.mul(p.mul(m).add(h));return l.add(b)}function u(s){var l=0,f=0,p=s;for(s=s.add(1);s.re<=n;){p=p.mul(s);var m=p.im<0?1:0;m!==0&&f===0&&l++,f=m,s=s.add(1)}return c(s).sub(p.log()).sub(new e(0,l*2*Math.PI*1))}});var _O="factorial",kj=["typed","gamma"],mx=M(_O,kj,r=>{var{typed:e,gamma:t}=r;return e(_O,{number:function(i){if(i<0)throw new Error("Value must be non-negative");return t(i+1)},BigNumber:function(i){if(i.isNegative())throw new Error("Value must be non-negative");return t(i.plus(1))},"Array | Matrix":e.referToSelf(n=>i=>ot(i,n))})});var SO="kldivergence",Rj=["typed","matrix","divide","sum","multiply","map","dotDivide","log","isNumeric"],dx=M(SO,Rj,r=>{var{typed:e,matrix:t,divide:n,sum:i,multiply:a,map:o,dotDivide:c,log:u,isNumeric:s}=r;return e(SO,{"Array, Array":function(p,m){return l(t(p),t(m))},"Matrix, Array":function(p,m){return l(p,t(m))},"Array, Matrix":function(p,m){return l(t(p),m)},"Matrix, Matrix":function(p,m){return l(p,m)}});function l(f,p){var m=p.size().length,h=f.size().length;if(m>1)throw new Error("first object must be one dimensional");if(h>1)throw new Error("second object must be one dimensional");if(m!==h)throw new Error("Length of two vectors must be equal");var d=i(f);if(d===0)throw new Error("Sum of elements in first object must be non zero");var v=i(p);if(v===0)throw new Error("Sum of elements in second object must be non zero");var y=n(f,i(f)),S=n(p,i(p)),b=i(a(y,o(c(y,S),w=>u(w))));return s(b)?b:Number.NaN}});var DO="multinomial",Lj=["typed","add","divide","multiply","factorial","isInteger","isPositive"],hx=M(DO,Lj,r=>{var{typed:e,add:t,divide:n,multiply:i,factorial:a,isInteger:o,isPositive:c}=r;return e(DO,{"Array | Matrix":function(s){var l=0,f=1;return Rn(s,function(p){if(!o(p)||!c(p))throw new TypeError("Positive integer value expected in function multinomial");l=t(l,p),f=i(f,a(p))}),n(a(l),f)}})});var NO="permutations",Uj=["typed","factorial"],gx=M(NO,Uj,r=>{var{typed:e,factorial:t}=r;return e(NO,{"number | BigNumber":t,"number, number":function(i,a){if(!Xe(i)||i<0)throw new TypeError("Positive integer value expected in function permutations");if(!Xe(a)||a<0)throw new TypeError("Positive integer value expected in function permutations");if(a>i)throw new TypeError("second argument k must be less than or equal to first argument n");return Di(i-a+1,i)},"BigNumber, BigNumber":function(i,a){var o,c;if(!AO(i)||!AO(a))throw new TypeError("Positive integer value expected in function permutations");if(a.gt(i))throw new TypeError("second argument k must be less than or equal to first argument n");var u=i.mul(0).add(1);for(o=u,c=i.minus(a).plus(1);c.lte(i);c=c.plus(1))o=o.times(c);return o}})});function AO(r){return r.isInteger()&&r.gte(0)}var Sx=dr(zO(),1),Wj=(0,Sx.default)(Date.now());function Wa(r){var e;function t(i){e=i===null?Wj:(0,Sx.default)(String(i))}t(r);function n(){return e()}return n}var $O="pickRandom",Yj=["typed","config","?on"],Dx=M($O,Yj,r=>{var{typed:e,config:t,on:n}=r,i=Wa(t.randomSeed);return n&&n("config",function(o,c){o.randomSeed!==c.randomSeed&&(i=Wa(o.randomSeed))}),e($O,{"Array | Matrix":function(c){return a(c,{})},"Array | Matrix, Object":function(c,u){return a(c,u)},"Array | Matrix, number":function(c,u){return a(c,{number:u})},"Array | Matrix, Array | Matrix":function(c,u){return a(c,{weights:u})},"Array | Matrix, Array | Matrix, number":function(c,u,s){return a(c,{number:s,weights:u})},"Array | Matrix, number, Array | Matrix":function(c,u,s){return a(c,{number:u,weights:s})}});function a(o,c){var{number:u,weights:s,elementWise:l=!0}=c,f=typeof u=="undefined";f&&(u=1);var p=rt(o)?o.create:rt(s)?s.create:null;o=o.valueOf(),s&&(s=s.valueOf()),l===!0&&(o=Mt(o),s=Mt(s));var m=0;if(typeof s!="undefined"){if(s.length!==o.length)throw new Error("Weights must have the same length as possibles");for(var h=0,d=s.length;h<d;h++){if(!gt(s[h])||s[h]<0)throw new Error("Weights must be an array of positive numbers");m+=s[h]}}for(var v=o.length,y=[],S;y.length<u;){if(typeof s=="undefined")S=o[Math.floor(i()*v)];else for(var b=i()*m,w=0,_=o.length;w<_;w++)if(b-=s[w],b<0){S=o[w];break}y.push(S)}return f?y[0]:p?p(y):y}});function tc(r,e){var t=[];if(r=r.slice(0),r.length>1)for(var n=0,i=r.shift();n<i;n++)t.push(tc(r,e));else for(var a=0,o=r.shift();a<o;a++)t.push(e());return t}var HO="random",jj=["typed","config","?on"],Nx=M(HO,jj,r=>{var{typed:e,config:t,on:n}=r,i=Wa(t.randomSeed);return n&&n("config",function(c,u){c.randomSeed!==u.randomSeed&&(i=Wa(c.randomSeed))}),e(HO,{"":()=>o(0,1),number:c=>o(0,c),"number, number":(c,u)=>o(c,u),"Array | Matrix":c=>a(c,0,1),"Array | Matrix, number":(c,u)=>a(c,0,u),"Array | Matrix, number, number":(c,u,s)=>a(c,u,s)});function a(c,u,s){var l=tc(c.valueOf(),()=>o(u,s));return rt(c)?c.create(l):l}function o(c,u){return c+i()*(u-c)}});var GO="randomInt",Zj=["typed","config","?on"],Ax=M(GO,Zj,r=>{var{typed:e,config:t,on:n}=r,i=Wa(t.randomSeed);return n&&n("config",function(c,u){c.randomSeed!==u.randomSeed&&(i=Wa(c.randomSeed))}),e(GO,{"":()=>o(0,1),number:c=>o(0,c),"number, number":(c,u)=>o(c,u),"Array | Matrix":c=>a(c,0,1),"Array | Matrix, number":(c,u)=>a(c,0,u),"Array | Matrix, number, number":(c,u,s)=>a(c,u,s)});function a(c,u,s){var l=tc(c.valueOf(),()=>o(u,s));return rt(c)?c.create(l):l}function o(c,u){return Math.floor(c+i()*(u-c))}});var WO="stirlingS2",Jj=["typed","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","number","?bignumber","larger"],Ex=M(WO,Jj,r=>{var{typed:e,addScalar:t,subtractScalar:n,multiplyScalar:i,divideScalar:a,pow:o,factorial:c,combinations:u,isNegative:s,isInteger:l,number:f,bignumber:p,larger:m}=r,h=[],d=[];return e(WO,{"number | BigNumber, number | BigNumber":function(y,S){if(!l(y)||s(y)||!l(S)||s(S))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(m(S,y))throw new TypeError("k must be less than or equal to n in function stirlingS2");var b=!(gt(y)&&gt(S)),w=b?d:h,_=b?p:f,x=f(y),T=f(S);if(w[x]&&w[x].length>T)return w[x][T];for(var A=0;A<=x;++A)if(w[A]||(w[A]=[_(A===0?1:0)]),A!==0)for(var N=w[A],E=w[A-1],C=N.length;C<=A&&C<=T;++C)C===A?N[C]=1:N[C]=t(i(_(C),E[C]),E[C-1]);return w[x][T]}})});var YO="bellNumbers",Xj=["typed","addScalar","isNegative","isInteger","stirlingS2"],Tx=M(YO,Xj,r=>{var{typed:e,addScalar:t,isNegative:n,isInteger:i,stirlingS2:a}=r;return e(YO,{"number | BigNumber":function(c){if(!i(c)||n(c))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var u=0,s=0;s<=c;s++)u=t(u,a(c,s));return u}})});var jO="catalan",Qj=["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],Mx=M(jO,Qj,r=>{var{typed:e,addScalar:t,divideScalar:n,multiplyScalar:i,combinations:a,isNegative:o,isInteger:c}=r;return e(jO,{"number | BigNumber":function(s){if(!c(s)||o(s))throw new TypeError("Non-negative integer value expected in function catalan");return n(a(i(s,2),s),t(s,1))}})});var ZO="composition",Kj=["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],Cx=M(ZO,Kj,r=>{var{typed:e,addScalar:t,combinations:n,isPositive:i,isNegative:a,isInteger:o,larger:c}=r;return e(ZO,{"number | BigNumber, number | BigNumber":function(s,l){if(!o(s)||!i(s)||!o(l)||!i(l))throw new TypeError("Positive integer value expected in function composition");if(c(l,s))throw new TypeError("k must be less than or equal to n in function composition");return n(t(s,-1),t(l,-1))}})});var JO="leafCount",eZ=["parse","typed"],Fx=M(JO,eZ,r=>{var{parse:e,typed:t}=r;function n(i){var a=0;return i.forEach(o=>{a+=n(o)}),a||1}return t(JO,{Node:function(a){return n(a)}})});function Ix(r){return kt(r)||Er(r)&&r.isUnary()&&kt(r.args[0])}function rc(r){return!!(kt(r)||(Qn(r)||Er(r))&&r.args.every(rc)||Tn(r)&&rc(r.content))}function XO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Bx(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?XO(Object(t),!0).forEach(function(n){nr(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):XO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var tZ="simplifyUtil",rZ=["FunctionNode","OperatorNode","SymbolNode"],Eu=M(tZ,rZ,r=>{var{FunctionNode:e,OperatorNode:t,SymbolNode:n}=r,i=!0,a=!1,o="defaultF",c={add:{trivial:i,total:i,commutative:i,associative:i},unaryPlus:{trivial:i,total:i,commutative:i,associative:i},subtract:{trivial:a,total:i,commutative:a,associative:a},multiply:{trivial:i,total:i,commutative:i,associative:i},divide:{trivial:a,total:i,commutative:a,associative:a},paren:{trivial:i,total:i,commutative:i,associative:a},defaultF:{trivial:a,total:i,commutative:a,associative:a}},u={divide:{total:a},log:{total:a}},s={subtract:{total:a},abs:{trivial:i},log:{total:i}};function l(b,w){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:c,x=o;if(typeof b=="string"?x=b:Er(b)?x=b.fn.toString():Qn(b)?x=b.name:Tn(b)&&(x="paren"),at(_,x)){var T=_[x];if(at(T,w))return T[w];if(at(c,x))return c[x][w]}if(at(_,o)){var A=_[o];return at(A,w)?A[w]:c[o][w]}if(at(c,x)){var N=c[x];if(at(N,w))return N[w]}return c[o][w]}function f(b){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:c;return l(b,"commutative",w)}function p(b){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:c;return l(b,"associative",w)}function m(b,w){var _=Bx({},b);for(var x in w)at(b,x)?_[x]=Bx(Bx({},w[x]),b[x]):_[x]=w[x];return _}function h(b,w){if(!b.args||b.args.length===0)return b;b.args=d(b,w);for(var _=0;_<b.args.length;_++)h(b.args[_],w)}function d(b,w){var _,x=[],T=function A(N){for(var E=0;E<N.args.length;E++){var C=N.args[E];Er(C)&&_===C.op?A(C):x.push(C)}};return p(b,w)?(_=b.op,T(b),x):b.args}function v(b,w){if(!(!b.args||b.args.length===0)){for(var _=S(b),x=b.args.length,T=0;T<x;T++)v(b.args[T],w);if(x>2&&p(b,w)){for(var A=b.args.pop();b.args.length>0;)A=_([b.args.pop(),A]);b.args=A.args}}}function y(b,w){if(!(!b.args||b.args.length===0)){for(var _=S(b),x=b.args.length,T=0;T<x;T++)y(b.args[T],w);if(x>2&&p(b,w)){for(var A=b.args.shift();b.args.length>0;)A=_([A,b.args.shift()]);b.args=A.args}}}function S(b){return Er(b)?function(w){try{return new t(b.op,b.fn,w,b.implicit)}catch(_){return console.error(_),[]}}:function(w){return new e(new n(b.name),w)}}return{createMakeNodeFunction:S,hasProperty:l,isCommutative:f,isAssociative:p,mergeContext:m,flatten:h,allChildren:d,unflattenr:v,unflattenl:y,defaultContext:c,realContext:u,positiveContext:s}});var nZ="simplify",iZ=["config","typed","parse","add","subtract","multiply","divide","pow","isZero","equal","resolve","simplifyConstant","simplifyCore","?fraction","?bignumber","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],Px=M(nZ,iZ,r=>{var{config:e,typed:t,parse:n,add:i,subtract:a,multiply:o,divide:c,pow:u,isZero:s,equal:l,resolve:f,simplifyConstant:p,simplifyCore:m,fraction:h,bignumber:d,mathWithTransform:v,matrix:y,AccessorNode:S,ArrayNode:b,ConstantNode:w,FunctionNode:_,IndexNode:x,ObjectNode:T,OperatorNode:A,ParenthesisNode:N,SymbolNode:E}=r,{hasProperty:C,isCommutative:O,isAssociative:U,mergeContext:q,flatten:L,unflattenr:P,unflattenl:k,createMakeNodeFunction:H,defaultContext:B,realContext:W,positiveContext:ie}=Eu({FunctionNode:_,OperatorNode:A,SymbolNode:E});t.addConversion({from:"Object",to:"Map",convert:qa});var Q=t("simplify",{Node:ge,"Node, Map":(J,te)=>ge(J,!1,te),"Node, Map, Object":(J,te,se)=>ge(J,!1,te,se),"Node, Array":ge,"Node, Array, Map":ge,"Node, Array, Map, Object":ge});t.removeConversion({from:"Object",to:"Map",convert:qa}),Q.defaultContext=B,Q.realContext=W,Q.positiveContext=ie;function V(J){return J.transform(function(te,se,De){return Tn(te)?V(te.content):te})}var le={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};Q.rules=[m,{l:"log(e)",r:"1"},{s:"n-n1 -> n+-n1",assuming:{subtract:{total:!0}}},{s:"n-n -> 0",assuming:{subtract:{total:!1}}},{s:"-(cl*v) -> v * (-cl)",assuming:{multiply:{commutative:!0},subtract:{total:!0}}},{s:"-(cl*v) -> (-cl) * v",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{s:"-(v*cl) -> v * (-cl)",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{l:"-(n1/n2)",r:"-n1/n2"},{l:"-v",r:"v * (-1)"},{l:"(n1 + n2)*(-1)",r:"n1*(-1) + n2*(-1)",repeat:!0},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{s:"(n1*n2)^n3 -> n1^n3 * n2^n3",assuming:{multiply:{commutative:!0}}},{s:"(n1*n2)^(-1) -> n2^(-1) * n1^(-1)",assuming:{multiply:{commutative:!1}}},{s:"(n ^ n1) ^ n2 -> n ^ (n1 * n2)",assuming:{divide:{total:!0}}},{l:" vd   * ( vd   * n1 + n2)",r:"vd^2       * n1 +  vd   * n2"},{s:" vd   * (vd^n4 * n1 + n2)   ->  vd^(1+n4)  * n1 +  vd   * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * ( vd   * n1 + n2)   ->  vd^(n3+1)  * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * (vd^n4 * n1 + n2)   ->  vd^(n3+n4) * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{l:"n*n",r:"n^2"},{s:"n * n^n1 -> n^(n1+1)",assuming:{divide:{total:!0}}},{s:"n^n1 * n^n2 -> n^(n1+n2)",assuming:{divide:{total:!0}}},p,{s:"n+n -> 2*n",assuming:{add:{total:!0}}},{l:"n+-n",r:"0"},{l:"vd*n + vd",r:"vd*(n+1)"},{l:"n3*n1 + n3*n2",r:"n3*(n1+n2)"},{l:"n3^(-n4)*n1 +   n3  * n2",r:"n3^(-n4)*(n1 + n3^(n4+1) *n2)"},{l:"n3^(-n4)*n1 + n3^n5 * n2",r:"n3^(-n4)*(n1 + n3^(n4+n5)*n2)"},{s:"n*vd + vd -> (n+1)*vd",assuming:{multiply:{commutative:!1}}},{s:"vd + n*vd -> (1+n)*vd",assuming:{multiply:{commutative:!1}}},{s:"n1*n3 + n2*n3 -> (n1+n2)*n3",assuming:{multiply:{commutative:!1}}},{s:"n^n1 * n -> n^(n1+1)",assuming:{divide:{total:!0},multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3    -> (n1 + n2*n3^(n4 +  1))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3^n5 -> (n1 + n2*n3^(n4 + n5))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{l:"n*cd + cd",r:"(n+1)*cd"},{s:"cd*n + cd -> cd*(n+1)",assuming:{multiply:{commutative:!1}}},{s:"cd + cd*n -> cd*(1+n)",assuming:{multiply:{commutative:!1}}},p,{s:"(-n)*n1 -> -(n*n1)",assuming:{subtract:{total:!0}}},{s:"n1*(-n) -> -(n1*n)",assuming:{subtract:{total:!0},multiply:{commutative:!1}}},{s:"ce+ve -> ve+ce",assuming:{add:{commutative:!0}},imposeContext:{add:{commutative:!1}}},{s:"vd*cd -> cd*vd",assuming:{multiply:{commutative:!0}},imposeContext:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n+-(n1)",r:"n-(n1)"},{s:"n*(n1^-1) -> n/n1",assuming:{multiply:{commutative:!0}}},{s:"n*n1^-n2 -> n/n1^n2",assuming:{multiply:{commutative:!0}}},{s:"n^-1 -> 1/n",assuming:{multiply:{commutative:!0}}},{l:"n^1",r:"n"},{s:"n*(n1/n2) -> (n*n1)/n2",assuming:{multiply:{associative:!0}}},{s:"n-(n1+n2) -> n-n1-n2",assuming:{addition:{associative:!0,commutative:!0}}},{l:"1*n",r:"n",imposeContext:{multiply:{commutative:!0}}},{s:"n1/(n2/n3) -> (n1*n3)/n2",assuming:{multiply:{associative:!0}}},{l:"n1/(-n2)",r:"-n1/n2"}];function Se(J,te){var se={};if(J.s){var De=J.s.split("->");if(De.length===2)se.l=De[0],se.r=De[1];else throw SyntaxError("Could not parse rule: "+J.s)}else se.l=J.l,se.r=J.r;se.l=V(n(se.l)),se.r=V(n(se.r));for(var Ne of["imposeContext","repeat","assuming"])Ne in J&&(se[Ne]=J[Ne]);if(J.evaluate&&(se.evaluate=n(J.evaluate)),U(se.l,te)){var Ge=!O(se.l,te),Ae;Ge&&(Ae=_e());var xt=H(se.l),At=_e();se.expanded={},se.expanded.l=xt([se.l,At]),L(se.expanded.l,te),P(se.expanded.l,te),se.expanded.r=xt([se.r,At]),Ge&&(se.expandedNC1={},se.expandedNC1.l=xt([Ae,se.l]),se.expandedNC1.r=xt([Ae,se.r]),se.expandedNC2={},se.expandedNC2.l=xt([Ae,se.expanded.l]),se.expandedNC2.r=xt([Ae,se.expanded.r]))}return se}function fe(J,te){for(var se=[],De=0;De<J.length;De++){var Ne=J[De],Ge=void 0,Ae=typeof Ne;switch(Ae){case"string":Ne={s:Ne};case"object":Ge=Se(Ne,te);break;case"function":Ge=Ne;break;default:throw TypeError("Unsupported type of rule: "+Ae)}se.push(Ge)}return se}var he=0;function _e(){return new E("_p"+he++)}function ge(J,te){var se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:yo(),De=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},Ne=De.consoleDebug;te=fe(te||Q.rules,De.context);var Ge=f(J,se);Ge=V(Ge);for(var Ae={},xt=Ge.toString({parenthesis:"all"});!Ae[xt];){Ae[xt]=!0,he=0;var At=xt;Ne&&console.log("Working on: ",xt);for(var ye=0;ye<te.length;ye++){var Ue="";if(typeof te[ye]=="function"?(Ge=te[ye](Ge,De),Ne&&(Ue=te[ye].name)):(L(Ge,De.context),Ge=we(Ge,te[ye],De.context),Ne&&(Ue="".concat(te[ye].l.toString()," -> ").concat(te[ye].r.toString()))),Ne){var X=Ge.toString({parenthesis:"all"});X!==At&&(console.log("Applying",Ue,"produced",X),At=X)}k(Ge,De.context)}xt=Ge.toString({parenthesis:"all"})}return Ge}function me(J,te,se){var De=J;if(J)for(var Ne=0;Ne<J.length;++Ne){var Ge=we(J[Ne],te,se);Ge!==J[Ne]&&(De===J&&(De=J.slice()),De[Ne]=Ge)}return De}function we(J,te,se){if(te.assuming){for(var De in te.assuming)for(var Ne in te.assuming[De])if(C(De,Ne,se)!==te.assuming[De][Ne])return J}var Ge=q(te.imposeContext,se),Ae=J;if(Ae instanceof A||Ae instanceof _){var xt=me(Ae.args,te,se);xt!==Ae.args&&(Ae=Ae.clone(),Ae.args=xt)}else if(Ae instanceof N){if(Ae.content){var At=we(Ae.content,te,se);At!==Ae.content&&(Ae=new N(At))}}else if(Ae instanceof b){var ye=me(Ae.items,te,se);ye!==Ae.items&&(Ae=new b(ye))}else if(Ae instanceof S){var Ue=Ae.object;Ae.object&&(Ue=we(Ae.object,te,se));var X=Ae.index;Ae.index&&(X=we(Ae.index,te,se)),(Ue!==Ae.object||X!==Ae.index)&&(Ae=new S(Ue,X))}else if(Ae instanceof x){var ce=me(Ae.dimensions,te,se);ce!==Ae.dimensions&&(Ae=new x(ce))}else if(Ae instanceof T){var be=!1,Be={};for(var Ve in Ae.properties)Be[Ve]=we(Ae.properties[Ve],te,se),Be[Ve]!==Ae.properties[Ve]&&(be=!0);be&&(Ae=new T(Be))}var Fe=te.r,Le=K(te.l,Ae,Ge)[0];if(!Le&&te.expanded&&(Fe=te.expanded.r,Le=K(te.expanded.l,Ae,Ge)[0]),!Le&&te.expandedNC1&&(Fe=te.expandedNC1.r,Le=K(te.expandedNC1.l,Ae,Ge)[0],Le||(Fe=te.expandedNC2.r,Le=K(te.expandedNC2.l,Ae,Ge)[0])),Le){var $e=Ae.implicit;Ae=Fe.clone(),$e&&"implicit"in Fe&&(Ae.implicit=!0),Ae=Ae.transform(function(F){return F.isSymbolNode&&at(Le.placeholders,F.name)?Le.placeholders[F.name].clone():F})}return te.repeat&&Ae!==J&&(Ae=we(Ae,te,se)),Ae}function Te(J,te){var se=[],De,Ne,Ge=H(J);if(O(J,te))for(var Ae=0;Ae<J.args.length;Ae++)Ne=J.args.slice(0),Ne.splice(Ae,1),De=Ne.length===1?Ne[0]:Ge(Ne),se.push(Ge([J.args[Ae],De]));else for(var xt=1;xt<J.args.length;xt++){var At=J.args[0];xt>1&&(At=Ge(J.args.slice(0,xt))),Ne=J.args.slice(xt),De=Ne.length===1?Ne[0]:Ge(Ne),se.push(Ge([At,De]))}return se}function ze(J,te){var se={placeholders:{}};if(!J.placeholders&&!te.placeholders)return se;if(J.placeholders){if(!te.placeholders)return J}else return te;for(var De in J.placeholders)if(at(J.placeholders,De)&&(se.placeholders[De]=J.placeholders[De],at(te.placeholders,De)&&!ve(J.placeholders[De],te.placeholders[De])))return null;for(var Ne in te.placeholders)at(te.placeholders,Ne)&&(se.placeholders[Ne]=te.placeholders[Ne]);return se}function tt(J,te){var se=[];if(J.length===0||te.length===0)return se;for(var De,Ne=0;Ne<J.length;Ne++)for(var Ge=0;Ge<te.length;Ge++)De=ze(J[Ne],te[Ge]),De&&se.push(De);return se}function Y(J){if(J.length===0)return J;for(var te=J.reduce(tt),se=[],De={},Ne=0;Ne<te.length;Ne++){var Ge=JSON.stringify(te[Ne]);De[Ge]||(De[Ge]=!0,se.push(te[Ne]))}return se}function K(J,te,se,De){var Ne=[{placeholders:{}}];if(J instanceof A&&te instanceof A||J instanceof _&&te instanceof _){if(J instanceof A){if(J.op!==te.op||J.fn!==te.fn)return[]}else if(J instanceof _&&J.name!==te.name)return[];if(te.args.length===1&&J.args.length===1||!U(te,se)&&te.args.length===J.args.length||De){for(var Ge=[],Ae=0;Ae<J.args.length;Ae++){var xt=K(J.args[Ae],te.args[Ae],se);if(xt.length===0)break;Ge.push(xt)}if(Ge.length!==J.args.length){if(!O(te,se)||J.args.length===1)return[];if(J.args.length>2)throw new Error("permuting >2 commutative non-associative rule arguments not yet implemented");var At=K(J.args[0],te.args[1],se);if(At.length===0)return[];var ye=K(J.args[1],te.args[0],se);if(ye.length===0)return[];Ge=[At,ye]}Ne=Y(Ge)}else if(te.args.length>=2&&J.args.length===2){for(var Ue=Te(te,se),X=[],ce=0;ce<Ue.length;ce++){var be=K(J,Ue[ce],se,!0);X=X.concat(be)}return X}else{if(J.args.length>2)throw Error("Unexpected non-binary associative function: "+J.toString());return[]}}else if(J instanceof E){if(J.name.length===0)throw new Error("Symbol in rule has 0 length...!?");if(le[J.name]){if(J.name!==te.name)return[]}else switch(J.name[1]>="a"&&J.name[1]<="z"?J.name.substring(0,2):J.name[0]){case"n":case"_p":Ne[0].placeholders[J.name]=te;break;case"c":case"cl":if(kt(te))Ne[0].placeholders[J.name]=te;else return[];break;case"v":if(!kt(te))Ne[0].placeholders[J.name]=te;else return[];break;case"vl":if(xr(te))Ne[0].placeholders[J.name]=te;else return[];break;case"cd":if(Ix(te))Ne[0].placeholders[J.name]=te;else return[];break;case"vd":if(!Ix(te))Ne[0].placeholders[J.name]=te;else return[];break;case"ce":if(rc(te))Ne[0].placeholders[J.name]=te;else return[];break;case"ve":if(!rc(te))Ne[0].placeholders[J.name]=te;else return[];break;default:throw new Error("Invalid symbol in rule: "+J.name)}}else if(J instanceof w){if(!l(J.value,te.value))return[]}else return[];return Ne}function ve(J,te){if(J instanceof w&&te instanceof w){if(!l(J.value,te.value))return!1}else if(J instanceof E&&te instanceof E){if(J.name!==te.name)return!1}else if(J instanceof A&&te instanceof A||J instanceof _&&te instanceof _){if(J instanceof A){if(J.op!==te.op||J.fn!==te.fn)return!1}else if(J instanceof _&&J.name!==te.name)return!1;if(J.args.length!==te.args.length)return!1;for(var se=0;se<J.args.length;se++)if(!ve(J.args[se],te.args[se]))return!1}else return!1;return!0}return Q});var aZ="simplifyConstant",oZ=["typed","config","mathWithTransform","matrix","?fraction","?bignumber","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode"],Ox=M(aZ,oZ,r=>{var{typed:e,config:t,mathWithTransform:n,matrix:i,fraction:a,bignumber:o,AccessorNode:c,ArrayNode:u,ConstantNode:s,FunctionNode:l,IndexNode:f,ObjectNode:p,OperatorNode:m,SymbolNode:h}=r,{isCommutative:d,isAssociative:v,allChildren:y,createMakeNodeFunction:S}=Eu({FunctionNode:l,OperatorNode:m,SymbolNode:h}),b=e("simplifyConstant",{Node:L=>T(q(L,{})),"Node, Object":function(P,k){return T(q(P,k))}});function w(L){return Ua(L)?L.valueOf():L instanceof Array?L.map(w):rt(L)?i(w(L.valueOf())):L}function _(L,P,k){try{return n[L].apply(null,P)}catch(H){return P=P.map(w),N(n[L].apply(null,P),k)}}var x=e({Fraction:C,number:function(P){return P<0?E(new s(-P)):new s(P)},BigNumber:function(P){return P<0?E(new s(-P)):new s(P)},Complex:function(P){throw new Error("Cannot convert Complex number to Node")},string:function(P){return new s(P)},Matrix:function(P){return new u(P.valueOf().map(k=>x(k)))}});function T(L){return Vt(L)?L:x(L)}function A(L,P){var k=P&&P.exactFractions!==!1;if(k&&isFinite(L)&&a){var H=a(L),B=P&&typeof P.fractionsLimit=="number"?P.fractionsLimit:1/0;if(H.valueOf()===L&&H.n<B&&H.d<B)return H}return L}var N=e({"string, Object":function(P,k){if(t.number==="BigNumber")return o===void 0&&wu(),o(P);if(t.number==="Fraction")return a===void 0&&Ap(),a(P);var H=parseFloat(P);return A(H,k)},"Fraction, Object":function(P,k){return P},"BigNumber, Object":function(P,k){return P},"number, Object":function(P,k){return A(P,k)},"Complex, Object":function(P,k){return P.im!==0?P:A(P.re,k)},"Matrix, Object":function(P,k){return i(A(P.valueOf()))},"Array, Object":function(P,k){return P.map(A)}});function E(L){return new m("-","unaryMinus",[L])}function C(L){var P,k=L.s*L.n;return k<0?P=new m("-","unaryMinus",[new s(-k)]):P=new s(k),L.d===1?P:new m("/","divide",[P,new s(L.d)])}function O(L,P,k){if(!Ri(P))return new c(T(L),T(P));if(En(L)||rt(L)){for(var H=Array.from(P.dimensions);H.length>0;)if(kt(H[0])&&typeof H[0].value!="string"){var B=N(H.shift().value,k);En(L)?L=L.items[B-1]:(L=L.valueOf()[B-1],L instanceof Array&&(L=i(L)))}else if(H.length>1&&kt(H[1])&&typeof H[1].value!="string"){var W=N(H[1].value,k),ie=[],Q=En(L)?L.items:L.valueOf();for(var V of Q)if(En(V))ie.push(V.items[W-1]);else if(rt(L))ie.push(V[W-1]);else break;if(ie.length===Q.length)En(L)?L=new u(ie):L=i(ie),H.splice(1,1);else break}else break;return H.length===P.dimensions.length?new c(T(L),P):H.length>0?(P=new f(H),new c(T(L),P)):L}if(ho(L)&&P.dimensions.length===1&&kt(P.dimensions[0])){var le=P.dimensions[0].value;return le in L.properties?L.properties[le]:new s}return new c(T(L),P)}function U(L,P,k,H){var B=P.shift(),W=P.reduce((ie,Q)=>{if(!Vt(Q)){var V=ie.pop();if(Vt(V))return[V,Q];try{return ie.push(_(L,[V,Q],H)),ie}catch(Se){ie.push(V)}}ie.push(T(ie.pop()));var le=ie.length===1?ie[0]:k(ie);return[k([le,T(Q)])]},[B]);return W.length===1?W[0]:k([W[0],x(W[1])])}function q(L,P){switch(L.type){case"SymbolNode":return L;case"ConstantNode":switch(typeof L.value){case"number":return N(L.value,P);case"string":return L.value;default:if(!isNaN(L.value))return N(L.value,P)}return L;case"FunctionNode":if(n[L.name]&&n[L.name].rawArgs)return L;{var k=["add","multiply"];if(k.indexOf(L.name)===-1){var H=L.args.map(we=>q(we,P));if(!H.some(Vt))try{return _(L.name,H,P)}catch(we){}if(L.name==="size"&&H.length===1&&En(H[0])){for(var B=[],W=H[0];En(W);)B.push(W.items.length),W=W.items[0];return i(B)}return new l(L.name,H.map(T))}}case"OperatorNode":{var ie=L.fn.toString(),Q,V,le=S(L);if(Er(L)&&L.isUnary())Q=[q(L.args[0],P)],Vt(Q[0])?V=le(Q):V=_(ie,Q,P);else if(v(L,P.context))if(Q=y(L,P.context),Q=Q.map(we=>q(we,P)),d(ie,P.context)){for(var Se=[],fe=[],he=0;he<Q.length;he++)Vt(Q[he])?fe.push(Q[he]):Se.push(Q[he]);Se.length>1?(V=U(ie,Se,le,P),fe.unshift(V),V=U(ie,fe,le,P)):V=U(ie,Q,le,P)}else V=U(ie,Q,le,P);else Q=L.args.map(we=>q(we,P)),V=U(ie,Q,le,P);return V}case"ParenthesisNode":return q(L.content,P);case"AccessorNode":return O(q(L.object,P),q(L.index,P),P);case"ArrayNode":{var _e=L.items.map(we=>q(we,P));return _e.some(Vt)?new u(_e.map(T)):i(_e)}case"IndexNode":return new f(L.dimensions.map(we=>b(we,P)));case"ObjectNode":{var ge={};for(var me in L.properties)ge[me]=b(L.properties[me],P);return new p(ge)}case"AssignmentNode":case"BlockNode":case"FunctionAssignmentNode":case"RangeNode":case"ConditionalNode":default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(L.type))}}return b});var QO="simplifyCore",sZ=["typed","parse","equal","isZero","add","subtract","multiply","divide","pow","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],kx=M(QO,sZ,r=>{var{typed:e,parse:t,equal:n,isZero:i,add:a,subtract:o,multiply:c,divide:u,pow:s,AccessorNode:l,ArrayNode:f,ConstantNode:p,FunctionNode:m,IndexNode:h,ObjectNode:d,OperatorNode:v,ParenthesisNode:y,SymbolNode:S}=r,b=new p(0),w=new p(1),_=new p(!0),x=new p(!1);function T(C){return Er(C)&&["and","not","or"].includes(C.op)}var{hasProperty:A,isCommutative:N}=Eu({FunctionNode:m,OperatorNode:v,SymbolNode:S});function E(C){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},U=O?O.context:void 0;if(A(C,"trivial",U)){if(Qn(C)&&C.args.length===1)return E(C.args[0],O);var q=!1,L=0;if(C.forEach(fe=>{++L,L===1&&(q=E(fe,O))}),L===1)return q}var P=C;if(Qn(P)){var k=JC(P.name);if(k){if(P.args.length>2&&A(P,"associative",U))for(;P.args.length>2;){var H=P.args.pop(),B=P.args.pop();P.args.push(new v(k,P.name,[H,B]))}P=new v(k,P.name,P.args)}else return new m(E(P.fn),P.args.map(fe=>E(fe,O)))}if(Er(P)&&P.isUnary()){var W=E(P.args[0],O);if(P.op==="~"&&Er(W)&&W.isUnary()&&W.op==="~"||P.op==="not"&&Er(W)&&W.isUnary()&&W.op==="not"&&T(W.args[0]))return W.args[0];var ie=!0;if(P.op==="-"&&Er(W)&&(W.isBinary()&&W.fn==="subtract"&&(P=new v("-","subtract",[W.args[1],W.args[0]]),ie=!1),W.isUnary()&&W.op==="-"))return W.args[0];if(ie)return new v(P.op,P.fn,[W])}if(Er(P)&&P.isBinary()){var Q=E(P.args[0],O),V=E(P.args[1],O);if(P.op==="+"){if(kt(Q)&&i(Q.value))return V;if(kt(V)&&i(V.value))return Q;Er(V)&&V.isUnary()&&V.op==="-"&&(V=V.args[0],P=new v("-","subtract",[Q,V]))}if(P.op==="-")return Er(V)&&V.isUnary()&&V.op==="-"?E(new v("+","add",[Q,V.args[0]]),O):kt(Q)&&i(Q.value)?E(new v("-","unaryMinus",[V])):kt(V)&&i(V.value)?Q:new v(P.op,P.fn,[Q,V]);if(P.op==="*"){if(kt(Q)){if(i(Q.value))return b;if(n(Q.value,1))return V}if(kt(V)){if(i(V.value))return b;if(n(V.value,1))return Q;if(N(P,U))return new v(P.op,P.fn,[V,Q],P.implicit)}return new v(P.op,P.fn,[Q,V],P.implicit)}if(P.op==="/")return kt(Q)&&i(Q.value)?b:kt(V)&&n(V.value,1)?Q:new v(P.op,P.fn,[Q,V]);if(P.op==="^"&&kt(V)){if(i(V.value))return w;if(n(V.value,1))return Q}if(P.op==="and"){if(kt(Q))if(Q.value){if(T(V))return V}else return x;if(kt(V))if(V.value){if(T(Q))return Q}else return x}if(P.op==="or"){if(kt(Q)){if(Q.value)return _;if(T(V))return V}if(kt(V)){if(V.value)return _;if(T(Q))return Q}}return new v(P.op,P.fn,[Q,V])}if(Er(P))return new v(P.op,P.fn,P.args.map(fe=>E(fe,O)));if(En(P))return new f(P.items.map(fe=>E(fe,O)));if(Si(P))return new l(E(P.object,O),E(P.index,O));if(Ri(P))return new h(P.dimensions.map(fe=>E(fe,O)));if(ho(P)){var le={};for(var Se in P.properties)le[Se]=E(P.properties[Se],O);return new d(le)}return P}return e(QO,{Node:E,"Node,Object":E})});var uZ="resolve",lZ=["typed","parse","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode"],Rx=M(uZ,lZ,r=>{var{typed:e,parse:t,ConstantNode:n,FunctionNode:i,OperatorNode:a,ParenthesisNode:o}=r;function c(u,s){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Set;if(!s)return u;if(xr(u)){if(l.has(u.name)){var f=Array.from(l).join(", ");throw new ReferenceError("recursive loop of variable definitions among {".concat(f,"}"))}var p=s.get(u.name);if(Vt(p)){var m=new Set(l);return m.add(u.name),c(p,s,m)}else return typeof p=="number"?t(String(p)):p!==void 0?new n(p):u}else if(Er(u)){var h=u.args.map(function(v){return c(v,s,l)});return new a(u.op,u.fn,h,u.implicit)}else{if(Tn(u))return new o(c(u.content,s,l));if(Qn(u)){var d=u.args.map(function(v){return c(v,s,l)});return new i(u.name,d)}}return u.map(v=>c(v,s,l))}return e("resolve",{Node:c,"Node, Map | null | undefined":c,"Node, Object":(u,s)=>c(u,qa(s)),"Array | Matrix":e.referToSelf(u=>s=>s.map(l=>u(l))),"Array | Matrix, null | undefined":e.referToSelf(u=>s=>s.map(l=>u(l))),"Array, Object":e.referTo("Array,Map",u=>(s,l)=>u(s,qa(l))),"Matrix, Object":e.referTo("Matrix,Map",u=>(s,l)=>u(s,qa(l))),"Array | Matrix, Map":e.referToSelf(u=>(s,l)=>s.map(f=>u(f,l)))})});var KO="symbolicEqual",cZ=["parse","simplify","typed","OperatorNode"],Lx=M(KO,cZ,r=>{var{parse:e,simplify:t,typed:n,OperatorNode:i}=r;function a(o,c){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=new i("-","subtract",[o,c]),l=t(s,{},u);return kt(l)&&!l.value}return n(KO,{"Node, Node":a,"Node, Node, Object":a})});var ek="derivative",fZ=["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],Ux=M(ek,fZ,r=>{var{typed:e,config:t,parse:n,simplify:i,equal:a,isZero:o,numeric:c,ConstantNode:u,FunctionNode:s,OperatorNode:l,ParenthesisNode:f,SymbolNode:p}=r;function m(b,w){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{simplify:!0},x={};v(x,b,w.name);var T=y(b,x);return _.simplify?i(T):T}e.addConversion({from:"identifier",to:"SymbolNode",convert:n});var h=e(ek,{"Node, SymbolNode":m,"Node, SymbolNode, Object":m});e.removeConversion({from:"identifier",to:"SymbolNode",convert:n}),h._simplify=!0,h.toTex=function(b){return d.apply(null,b.args)};var d=e("_derivTex",{"Node, SymbolNode":function(w,_){return kt(w)&&$t(w.value)==="string"?d(n(w.value).toString(),_.toString(),1):d(w.toTex(),_.toString(),1)},"Node, ConstantNode":function(w,_){if($t(_.value)==="string")return d(w,n(_.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(w,_,x){return d(w.toString(),_.name,x.value)},"string, string, number":function(w,_,x){var T;return x===1?T="{d\\over d"+_+"}":T="{d^{"+x+"}\\over d"+_+"^{"+x+"}}",T+"\\left[".concat(w,"\\right]")}}),v=e("constTag",{"Object, ConstantNode, string":function(w,_){return w[_]=!0,!0},"Object, SymbolNode, string":function(w,_,x){return _.name!==x?(w[_]=!0,!0):!1},"Object, ParenthesisNode, string":function(w,_,x){return v(w,_.content,x)},"Object, FunctionAssignmentNode, string":function(w,_,x){return _.params.indexOf(x)===-1?(w[_]=!0,!0):v(w,_.expr,x)},"Object, FunctionNode | OperatorNode, string":function(w,_,x){if(_.args.length>0){for(var T=v(w,_.args[0],x),A=1;A<_.args.length;++A)T=v(w,_.args[A],x)&&T;if(T)return w[_]=!0,!0}return!1}}),y=e("_derivative",{"ConstantNode, Object":function(w){return S(0)},"SymbolNode, Object":function(w,_){return _[w]!==void 0?S(0):S(1)},"ParenthesisNode, Object":function(w,_){return new f(y(w.content,_))},"FunctionAssignmentNode, Object":function(w,_){return _[w]!==void 0?S(0):y(w.expr,_)},"FunctionNode, Object":function(w,_){if(_[w]!==void 0)return S(0);var x=w.args[0],T,A=!1,N=!1,E;switch(w.name){case"cbrt":A=!0,E=new l("*","multiply",[S(3),new l("^","pow",[x,new l("/","divide",[S(2),S(3)])])]);break;case"sqrt":case"nthRoot":if(w.args.length===1)A=!0,E=new l("*","multiply",[S(2),new s("sqrt",[x])]);else if(w.args.length===2)return T=new l("/","divide",[S(1),w.args[1]]),_[T]=_[w.args[1]],y(new l("^","pow",[x,T]),_);break;case"log10":T=S(10);case"log":if(!T&&w.args.length===1)E=x.clone(),A=!0;else if(w.args.length===1&&T||w.args.length===2&&_[w.args[1]]!==void 0)E=new l("*","multiply",[x.clone(),new s("log",[T||w.args[1]])]),A=!0;else if(w.args.length===2)return y(new l("/","divide",[new s("log",[x]),new s("log",[w.args[1]])]),_);break;case"pow":if(w.args.length===2)return _[T]=_[w.args[1]],y(new l("^","pow",[x,w.args[1]]),_);break;case"exp":E=new s("exp",[x.clone()]);break;case"sin":E=new s("cos",[x.clone()]);break;case"cos":E=new l("-","unaryMinus",[new s("sin",[x.clone()])]);break;case"tan":E=new l("^","pow",[new s("sec",[x.clone()]),S(2)]);break;case"sec":E=new l("*","multiply",[w,new s("tan",[x.clone()])]);break;case"csc":N=!0,E=new l("*","multiply",[w,new s("cot",[x.clone()])]);break;case"cot":N=!0,E=new l("^","pow",[new s("csc",[x.clone()]),S(2)]);break;case"asin":A=!0,E=new s("sqrt",[new l("-","subtract",[S(1),new l("^","pow",[x.clone(),S(2)])])]);break;case"acos":A=!0,N=!0,E=new s("sqrt",[new l("-","subtract",[S(1),new l("^","pow",[x.clone(),S(2)])])]);break;case"atan":A=!0,E=new l("+","add",[new l("^","pow",[x.clone(),S(2)]),S(1)]);break;case"asec":A=!0,E=new l("*","multiply",[new s("abs",[x.clone()]),new s("sqrt",[new l("-","subtract",[new l("^","pow",[x.clone(),S(2)]),S(1)])])]);break;case"acsc":A=!0,N=!0,E=new l("*","multiply",[new s("abs",[x.clone()]),new s("sqrt",[new l("-","subtract",[new l("^","pow",[x.clone(),S(2)]),S(1)])])]);break;case"acot":A=!0,N=!0,E=new l("+","add",[new l("^","pow",[x.clone(),S(2)]),S(1)]);break;case"sinh":E=new s("cosh",[x.clone()]);break;case"cosh":E=new s("sinh",[x.clone()]);break;case"tanh":E=new l("^","pow",[new s("sech",[x.clone()]),S(2)]);break;case"sech":N=!0,E=new l("*","multiply",[w,new s("tanh",[x.clone()])]);break;case"csch":N=!0,E=new l("*","multiply",[w,new s("coth",[x.clone()])]);break;case"coth":N=!0,E=new l("^","pow",[new s("csch",[x.clone()]),S(2)]);break;case"asinh":A=!0,E=new s("sqrt",[new l("+","add",[new l("^","pow",[x.clone(),S(2)]),S(1)])]);break;case"acosh":A=!0,E=new s("sqrt",[new l("-","subtract",[new l("^","pow",[x.clone(),S(2)]),S(1)])]);break;case"atanh":A=!0,E=new l("-","subtract",[S(1),new l("^","pow",[x.clone(),S(2)])]);break;case"asech":A=!0,N=!0,E=new l("*","multiply",[x.clone(),new s("sqrt",[new l("-","subtract",[S(1),new l("^","pow",[x.clone(),S(2)])])])]);break;case"acsch":A=!0,N=!0,E=new l("*","multiply",[new s("abs",[x.clone()]),new s("sqrt",[new l("+","add",[new l("^","pow",[x.clone(),S(2)]),S(1)])])]);break;case"acoth":A=!0,N=!0,E=new l("-","subtract",[S(1),new l("^","pow",[x.clone(),S(2)])]);break;case"abs":E=new l("/","divide",[new s(new p("abs"),[x.clone()]),x.clone()]);break;case"gamma":default:throw new Error('Cannot process function "'+w.name+'" in derivative: the function is not supported, undefined, or the number of arguments passed to it are not supported')}var C,O;A?(C="/",O="divide"):(C="*",O="multiply");var U=y(x,_);return N&&(U=new l("-","unaryMinus",[U])),new l(C,O,[U,E])},"OperatorNode, Object":function(w,_){if(_[w]!==void 0)return S(0);if(w.op==="+")return new l(w.op,w.fn,w.args.map(function(L){return y(L,_)}));if(w.op==="-"){if(w.isUnary())return new l(w.op,w.fn,[y(w.args[0],_)]);if(w.isBinary())return new l(w.op,w.fn,[y(w.args[0],_),y(w.args[1],_)])}if(w.op==="*"){var x=w.args.filter(function(L){return _[L]!==void 0});if(x.length>0){var T=w.args.filter(function(L){return _[L]===void 0}),A=T.length===1?T[0]:new l("*","multiply",T),N=x.concat(y(A,_));return new l("*","multiply",N)}return new l("+","add",w.args.map(function(L){return new l("*","multiply",w.args.map(function(P){return P===L?y(P,_):P.clone()}))}))}if(w.op==="/"&&w.isBinary()){var E=w.args[0],C=w.args[1];return _[C]!==void 0?new l("/","divide",[y(E,_),C]):_[E]!==void 0?new l("*","multiply",[new l("-","unaryMinus",[E]),new l("/","divide",[y(C,_),new l("^","pow",[C.clone(),S(2)])])]):new l("/","divide",[new l("-","subtract",[new l("*","multiply",[y(E,_),C.clone()]),new l("*","multiply",[E.clone(),y(C,_)])]),new l("^","pow",[C.clone(),S(2)])])}if(w.op==="^"&&w.isBinary()){var O=w.args[0],U=w.args[1];if(_[O]!==void 0)return kt(O)&&(o(O.value)||a(O.value,1))?S(0):new l("*","multiply",[w,new l("*","multiply",[new s("log",[O.clone()]),y(U.clone(),_)])]);if(_[U]!==void 0){if(kt(U)){if(o(U.value))return S(0);if(a(U.value,1))return y(O,_)}var q=new l("^","pow",[O.clone(),new l("-","subtract",[U,S(1)])]);return new l("*","multiply",[U.clone(),new l("*","multiply",[y(O,_),q])])}return new l("*","multiply",[new l("^","pow",[O.clone(),U.clone()]),new l("+","add",[new l("*","multiply",[y(O,_),new l("/","divide",[U.clone(),O.clone()])]),new l("*","multiply",[y(U,_),new s("log",[O.clone()])])])])}throw new Error('Cannot process operator "'+w.op+'" in derivative: the operator is not supported, undefined, or the number of arguments passed to it are not supported')}});function S(b,w){return new u(c(b,w||t.number))}return h});var tk="rationalize",pZ=["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplifyConstant","simplifyCore","simplify","?bignumber","?fraction","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode","ParenthesisNode"],Vx=M(tk,pZ,r=>{var{config:e,typed:t,equal:n,isZero:i,add:a,subtract:o,multiply:c,divide:u,pow:s,parse:l,simplifyConstant:f,simplifyCore:p,simplify:m,fraction:h,bignumber:d,mathWithTransform:v,matrix:y,AccessorNode:S,ArrayNode:b,ConstantNode:w,FunctionNode:_,IndexNode:x,ObjectNode:T,OperatorNode:A,SymbolNode:N,ParenthesisNode:E}=r;function C(P){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,B=U(),W=O(P,k,!0,B.firstRules),ie=W.variables.length,Q={exactFractions:!1},V={exactFractions:!0};if(P=W.expression,ie>=1){P=q(P);var le,Se,fe=!0,he=!1;P=m(P,B.firstRules,{},Q);for(var _e;Se=fe?B.distrDivRules:B.sucDivRules,P=m(P,Se,{},V),fe=!fe,_e=P.toString(),_e!==le;)he=!0,le=_e;he&&(P=m(P,B.firstRulesAgain,{},Q)),P=m(P,B.finalRules,{},Q)}var ge=[],me={};return P.type==="OperatorNode"&&P.isBinary()&&P.op==="/"?(ie===1&&(P.args[0]=L(P.args[0],ge),P.args[1]=L(P.args[1])),H&&(me.numerator=P.args[0],me.denominator=P.args[1])):(ie===1&&(P=L(P,ge)),H&&(me.numerator=P,me.denominator=null)),H?(me.coefficients=ge,me.variables=W.variables,me.expression=P,me):P}return t(tk,{Node:C,"Node, boolean":(P,k)=>C(P,{},k),"Node, Object":C,"Node, Object, boolean":C});function O(P,k,H,B){var W=[],ie=m(P,B,k,{exactFractions:!1});H=!!H;var Q="+-*"+(H?"/":"");le(ie);var V={};return V.expression=ie,V.variables=W,V;function le(Se){var fe=Se.type;if(fe==="FunctionNode")throw new Error("There is an unsolved function call");if(fe==="OperatorNode")if(Se.op==="^"){if(Se.args[1].type!=="ConstantNode"||!Xe(parseFloat(Se.args[1].value)))throw new Error("There is a non-integer exponent");le(Se.args[0])}else{if(Q.indexOf(Se.op)===-1)throw new Error("Operator "+Se.op+" invalid in polynomial expression");for(var he=0;he<Se.args.length;he++)le(Se.args[he])}else if(fe==="SymbolNode"){var _e=Se.name,ge=W.indexOf(_e);ge===-1&&W.push(_e)}else if(fe==="ParenthesisNode")le(Se.content);else if(fe!=="ConstantNode")throw new Error("type "+fe+" is not allowed in polynomial expression")}}function U(){var P=[p,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},f,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],k=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],H=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],B=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],W={};return W.firstRules=P.concat(k,B),W.distrDivRules=H,W.sucDivRules=B,W.firstRulesAgain=P.concat(k),W.finalRules=[p,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},f,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],W}function q(P,k,H){var B=P.type,W=arguments.length>1;if(B==="OperatorNode"&&P.isBinary()){var ie=!1,Q;if(P.op==="^"&&(P.args[0].type==="ParenthesisNode"||P.args[0].type==="OperatorNode")&&P.args[1].type==="ConstantNode"&&(Q=parseFloat(P.args[1].value),ie=Q>=2&&Xe(Q)),ie){if(Q>2){var V=P.args[0],le=new A("^","pow",[P.args[0].cloneDeep(),new w(Q-1)]);P=new A("*","multiply",[V,le])}else P=new A("*","multiply",[P.args[0],P.args[0].cloneDeep()]);W&&(H==="content"?k.content=P:k.args[H]=P)}}if(B==="ParenthesisNode")q(P.content,P,"content");else if(B!=="ConstantNode"&&B!=="SymbolNode")for(var Se=0;Se<P.args.length;Se++)q(P.args[Se],P,Se);if(!W)return P}function L(P,k){k===void 0&&(k=[]),k[0]=0;var H={};H.cte=1,H.oper="+",H.fire="";var B=0,W="";_e(P,null,H),B=k.length-1;for(var ie=!0,Q,V=B;V>=0;V--)if(k[V]!==0){var le=new w(ie?k[V]:Math.abs(k[V])),Se=k[V]<0?"-":"+";if(V>0){var fe=new N(W);if(V>1){var he=new w(V);fe=new A("^","pow",[fe,he])}k[V]===-1&&ie?le=new A("-","unaryMinus",[fe]):Math.abs(k[V])===1?le=fe:le=new A("*","multiply",[le,fe])}ie?Q=le:Se==="+"?Q=new A("+","add",[Q,le]):Q=new A("-","subtract",[Q,le]),ie=!1}if(ie)return new w(0);return Q;function _e(ge,me,we){var Te=ge.type;if(Te==="FunctionNode")throw new Error("There is an unsolved function call");if(Te==="OperatorNode"){if("+-*^".indexOf(ge.op)===-1)throw new Error("Operator "+ge.op+" invalid");if(me!==null){if((ge.fn==="unaryMinus"||ge.fn==="pow")&&me.fn!=="add"&&me.fn!=="subtract"&&me.fn!=="multiply")throw new Error("Invalid "+ge.op+" placing");if((ge.fn==="subtract"||ge.fn==="add"||ge.fn==="multiply")&&me.fn!=="add"&&me.fn!=="subtract")throw new Error("Invalid "+ge.op+" placing");if((ge.fn==="subtract"||ge.fn==="add"||ge.fn==="unaryMinus")&&we.noFil!==0)throw new Error("Invalid "+ge.op+" placing")}(ge.op==="^"||ge.op==="*")&&(we.fire=ge.op);for(var ze=0;ze<ge.args.length;ze++)ge.fn==="unaryMinus"&&(we.oper="-"),(ge.op==="+"||ge.fn==="subtract")&&(we.fire="",we.cte=1,we.oper=ze===0?"+":ge.op),we.noFil=ze,_e(ge.args[ze],ge,we)}else if(Te==="SymbolNode"){if(ge.name!==W&&W!=="")throw new Error("There is more than one variable");if(W=ge.name,me===null){k[1]=1;return}if(me.op==="^"&&we.noFil!==0)throw new Error("In power the variable should be the first parameter");if(me.op==="*"&&we.noFil!==1)throw new Error("In multiply the variable should be the second parameter");(we.fire===""||we.fire==="*")&&(B<1&&(k[1]=0),k[1]+=we.cte*(we.oper==="+"?1:-1),B=Math.max(1,B))}else if(Te==="ConstantNode"){var tt=parseFloat(ge.value);if(me===null){k[0]=tt;return}if(me.op==="^"){if(we.noFil!==1)throw new Error("Constant cannot be powered");if(!Xe(tt)||tt<=0)throw new Error("Non-integer exponent is not allowed");for(var Y=B+1;Y<tt;Y++)k[Y]=0;tt>B&&(k[tt]=0),k[tt]+=we.cte*(we.oper==="+"?1:-1),B=Math.max(tt,B);return}we.cte=tt,we.fire===""&&(k[0]+=we.cte*(we.oper==="+"?1:-1))}else throw new Error("Type "+Te+" is not allowed")}}});var rk="zpk2tf",mZ=["typed","add","multiply","Complex","number"],qx=M(rk,mZ,r=>{var{typed:e,add:t,multiply:n,Complex:i,number:a}=r;return e(rk,{"Array,Array,number":function(s,l,f){return o(s,l,f)},"Array,Array":function(s,l){return o(s,l,1)},"Matrix,Matrix,number":function(s,l,f){return o(s.valueOf(),l.valueOf(),f)},"Matrix,Matrix":function(s,l){return o(s.valueOf(),l.valueOf(),1)}});function o(u,s,l){u.some(S=>S.type==="BigNumber")&&(u=u.map(S=>a(S))),s.some(S=>S.type==="BigNumber")&&(s=s.map(S=>a(S)));for(var f=[i(1,0)],p=[i(1,0)],m=0;m<u.length;m++){var h=u[m];typeof h=="number"&&(h=i(h,0)),f=c(f,[i(1,0),i(-h.re,-h.im)])}for(var d=0;d<s.length;d++){var v=s[d];typeof v=="number"&&(v=i(v,0)),p=c(p,[i(1,0),i(-v.re,-v.im)])}for(var y=0;y<f.length;y++)f[y]=n(f[y],l);return[f,p]}function c(u,s){for(var l=[],f=0;f<u.length+s.length-1;f++){l[f]=i(0,0);for(var p=0;p<u.length;p++)f-p>=0&&f-p<s.length&&(l[f]=t(l[f],n(u[p],s[f-p])))}return l}});var nk="freqz",dZ=["typed","add","multiply","Complex","divide","matrix"],zx=M(nk,dZ,r=>{var{typed:e,add:t,multiply:n,Complex:i,divide:a,matrix:o}=r;return e(nk,{"Array, Array":function(l,f){var p=u(512);return c(l,f,p)},"Array, Array, Array":function(l,f,p){return c(l,f,p)},"Array, Array, number":function(l,f,p){if(p<0)throw new Error("w must be a positive number");var m=u(p);return c(l,f,m)},"Matrix, Matrix":function(l,f){var p=u(512),{w:m,h}=c(l.valueOf(),f.valueOf(),p);return{w:o(m),h:o(h)}},"Matrix, Matrix, Matrix":function(l,f,p){var{h:m}=c(l.valueOf(),f.valueOf(),p.valueOf());return{h:o(m),w:o(p)}},"Matrix, Matrix, number":function(l,f,p){if(p<0)throw new Error("w must be a positive number");var m=u(p),{h}=c(l.valueOf(),f.valueOf(),m);return{h:o(h),w:o(m)}}});function c(s,l,f){for(var p=[],m=[],h=0;h<f.length;h++){for(var d=i(0,0),v=i(0,0),y=0;y<s.length;y++)d=t(d,n(s[y],i(Math.cos(-y*f[h]),Math.sin(-y*f[h]))));for(var S=0;S<l.length;S++)v=t(v,n(l[S],i(Math.cos(-S*f[h]),Math.sin(-S*f[h]))));p.push(d),m.push(v)}for(var b=[],w=0;w<p.length;w++)b.push(a(p[w],m[w]));return{h:b,w:f}}function u(s){for(var l=[],f=0;f<s;f++)l.push(f/s*Math.PI);return l}});var hZ="reviver",gZ=["classes"],$x=M(hZ,gZ,r=>{var{classes:e}=r;return function(n,i){var a=e[i&&i.mathjs];return a&&typeof a.fromJSON=="function"?a.fromJSON(i):i}});var vZ="replacer",yZ=[],Hx=M(vZ,yZ,()=>function(e,t){return typeof t=="number"&&(!isFinite(t)||isNaN(t))?{mathjs:"number",value:String(t)}:t});var ik="12.4.0";var Gx=M("true",[],()=>!0),Wx=M("false",[],()=>!1),Yx=M("null",[],()=>null),jx=Ni("Infinity",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(1/0):1/0}),Zx=Ni("NaN",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(NaN):NaN}),Jx=Ni("pi",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?Yl(t):UE}),Xx=Ni("tau",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?sC(t):VE}),Qx=Ni("e",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?aC(t):qE}),Kx=Ni("phi",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?oC(t):zE}),ew=Ni("LN2",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(2).ln():Math.LN2}),tw=Ni("LN10",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(10).ln():Math.LN10}),rw=Ni("LOG2E",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(1).div(new t(2).ln()):Math.LOG2E}),nw=Ni("LOG10E",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(1).div(new t(10).ln()):Math.LOG10E}),iw=Ni("SQRT1_2",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t("0.5").sqrt():Math.SQRT1_2}),aw=Ni("SQRT2",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(2).sqrt():Math.SQRT2}),ow=Ni("i",["Complex"],r=>{var{Complex:e}=r;return e.I});var sw=M("version",[],()=>ik);function Ni(r,e,t){return M(r,e,t,{recreateOnConfigChange:!0})}var uw=zt("speedOfLight","299792458","m s^-1"),lw=zt("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),cw=zt("planckConstant","6.62607015e-34","J s"),fw=zt("reducedPlanckConstant","1.0545718176461565e-34","J s"),pw=zt("magneticConstant","1.25663706212e-6","N A^-2"),mw=zt("electricConstant","8.8541878128e-12","F m^-1"),dw=zt("vacuumImpedance","376.730313667","ohm"),hw=zt("coulomb","8.987551792261171e9","N m^2 C^-2"),gw=zt("elementaryCharge","1.602176634e-19","C"),vw=zt("bohrMagneton","9.2740100783e-24","J T^-1"),yw=zt("conductanceQuantum","7.748091729863649e-5","S"),bw=zt("inverseConductanceQuantum","12906.403729652257","ohm"),xw=zt("magneticFluxQuantum","2.0678338484619295e-15","Wb"),ww=zt("nuclearMagneton","5.0507837461e-27","J T^-1"),_w=zt("klitzing","25812.807459304513","ohm");var Sw=zt("bohrRadius","5.29177210903e-11","m"),Dw=zt("classicalElectronRadius","2.8179403262e-15","m"),Nw=zt("electronMass","9.1093837015e-31","kg"),Aw=zt("fermiCoupling","1.1663787e-5","GeV^-2"),Ew=sm("fineStructure",.0072973525693),Tw=zt("hartreeEnergy","4.3597447222071e-18","J"),Mw=zt("protonMass","1.67262192369e-27","kg"),Cw=zt("deuteronMass","3.3435830926e-27","kg"),Fw=zt("neutronMass","1.6749271613e-27","kg"),Iw=zt("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),Bw=zt("rydberg","10973731.568160","m^-1"),Pw=zt("thomsonCrossSection","6.6524587321e-29","m^2"),Ow=sm("weakMixingAngle",.2229),kw=sm("efimovFactor",22.7),Rw=zt("atomicMass","1.66053906660e-27","kg"),Lw=zt("avogadro","6.02214076e23","mol^-1"),Uw=zt("boltzmann","1.380649e-23","J K^-1"),Vw=zt("faraday","96485.33212331001","C mol^-1"),qw=zt("firstRadiation","3.7417718521927573e-16","W m^2"),zw=zt("loschmidt","2.686780111798444e25","m^-3"),$w=zt("gasConstant","8.31446261815324","J K^-1 mol^-1"),Hw=zt("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),Gw=zt("molarVolume","0.022413969545014137","m^3 mol^-1"),Ww=sm("sackurTetrode",-1.16487052358),Yw=zt("secondRadiation","0.014387768775039337","m K"),jw=zt("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),Zw=zt("wienDisplacement","2.897771955e-3","m K"),Jw=zt("molarMass","0.99999999965e-3","kg mol^-1"),Xw=zt("molarMassC12","11.9999999958e-3","kg mol^-1"),Qw=zt("gravity","9.80665","m s^-2"),Kw=zt("planckLength","1.616255e-35","m"),e_=zt("planckMass","2.176435e-8","kg"),t_=zt("planckTime","5.391245e-44","s"),r_=zt("planckCharge","1.87554603778e-18","C"),n_=zt("planckTemperature","1.416785e+32","K");function zt(r,e,t){var n=["config","Unit","BigNumber"];return M(r,n,i=>{var{config:a,Unit:o,BigNumber:c}=i,u=a.number==="BigNumber"?new c(e):parseFloat(e),s=new o(u,t);return s.fixPrefix=!0,s})}function sm(r,e){var t=["config","BigNumber"];return M(r,t,n=>{var{config:i,BigNumber:a}=n;return i.number==="BigNumber"?new a(e):e})}var bZ="apply",xZ=["typed","isInteger"],i_=M(bZ,xZ,r=>{var{typed:e,isInteger:t}=r,n=ms({typed:e,isInteger:t});return e("apply",{"...any":function(a){var o=a[1];gt(o)?a[1]=o-1:st(o)&&(a[1]=o.minus(1));try{return n.apply(null,a)}catch(c){throw Sr(c)}}})},{isTransformFunction:!0});var wZ="column",_Z=["typed","Index","matrix","range"],a_=M(wZ,_Z,r=>{var{typed:e,Index:t,matrix:n,range:i}=r,a=Rl({typed:e,Index:t,matrix:n,range:i});return e("column",{"...any":function(c){var u=c.length-1,s=c[u];gt(s)&&(c[u]=s-1);try{return a.apply(null,c)}catch(l){throw Sr(l)}}})},{isTransformFunction:!0});function Tu(r,e,t){var n=r.filter(function(u){return xr(u)&&!(u.name in e)&&!t.has(u.name)})[0];if(!n)throw new Error('No undefined variable found in inline expression "'+r+'"');var i=n.name,a=new Map,o=new mu(t,a,new Set([i])),c=r.compile();return function(s){return a.set(i,s),c.evaluate(o)}}var SZ="filter",DZ=["typed"],o_=M(SZ,DZ,r=>{var{typed:e}=r;function t(i,a,o){var c,u;return i[0]&&(c=i[0].compile().evaluate(o)),i[1]&&(xr(i[1])||da(i[1])?u=i[1].compile().evaluate(o):u=Tu(i[1],a,o)),n(c,u)}t.rawArgs=!0;var n=e("filter",{"Array, function":ak,"Matrix, function":function(a,o){return a.create(ak(a.toArray(),o))},"Array, RegExp":fu,"Matrix, RegExp":function(a,o){return a.create(fu(a.toArray(),o))}});return t},{isTransformFunction:!0});function ak(r,e){return up(r,function(t,n,i){return qi(e,t,[n+1],i,"filter")})}var NZ="forEach",AZ=["typed"],s_=M(NZ,AZ,r=>{var{typed:e}=r;function t(i,a,o){var c,u;return i[0]&&(c=i[0].compile().evaluate(o)),i[1]&&(xr(i[1])||da(i[1])?u=i[1].compile().evaluate(o):u=Tu(i[1],a,o)),n(c,u)}t.rawArgs=!0;var n=e("forEach",{"Array | Matrix, function":function(a,o){var c=function u(s,l){if(Array.isArray(s))go(s,function(f,p){u(f,l.concat(p+1))});else return qi(o,s,l,a,"forEach")};c(a.valueOf(),[])}});return t},{isTransformFunction:!0});var EZ="index",TZ=["Index","getMatrixDataType"],u_=M(EZ,TZ,r=>{var{Index:e,getMatrixDataType:t}=r;return function(){for(var i=[],a=0,o=arguments.length;a<o;a++){var c=arguments[a];if(su(c))c.start--,c.end-=c.step>0?0:2;else if(c&&c.isSet===!0)c=c.map(function(s){return s-1});else if(Gt(c)||rt(c))t(c)!=="boolean"&&(c=c.map(function(s){return s-1}));else if(gt(c))c--;else if(st(c))c=c.toNumber()-1;else if(typeof c!="string")throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");i[a]=c}var u=new e;return e.apply(u,i),u}},{isTransformFunction:!0});var MZ="map",CZ=["typed"],l_=M(MZ,CZ,r=>{var{typed:e}=r;function t(i,a,o){var c,u;return i[0]&&(c=i[0].compile().evaluate(o)),i[1]&&(xr(i[1])||da(i[1])?u=i[1].compile().evaluate(o):u=Tu(i[1],a,o)),n(c,u)}t.rawArgs=!0;var n=e("map",{"Array, function":function(a,o){return ok(a,o,a)},"Matrix, function":function(a,o){return a.create(ok(a.valueOf(),o,a))}});return t},{isTransformFunction:!0});function ok(r,e,t){function n(i,a){return Array.isArray(i)?oi(i,function(o,c){return n(o,a.concat(c+1))}):qi(e,i,a,t,"map")}return n(r,[])}function Un(r){if(r.length===2&&Wr(r[0])){r=r.slice();var e=r[1];gt(e)?r[1]=e-1:st(e)&&(r[1]=e.minus(1))}return r}var FZ="max",IZ=["typed","config","numeric","larger"],c_=M(FZ,IZ,r=>{var{typed:e,config:t,numeric:n,larger:i}=r,a=Gl({typed:e,config:t,numeric:n,larger:i});return e("max",{"...any":function(c){c=Un(c);try{return a.apply(null,c)}catch(u){throw Sr(u)}}})},{isTransformFunction:!0});var BZ="mean",PZ=["typed","add","divide"],f_=M(BZ,PZ,r=>{var{typed:e,add:t,divide:n}=r,i=Xl({typed:e,add:t,divide:n});return e("mean",{"...any":function(o){o=Un(o);try{return i.apply(null,o)}catch(c){throw Sr(c)}}})},{isTransformFunction:!0});var OZ="min",kZ=["typed","config","numeric","smaller"],p_=M(OZ,kZ,r=>{var{typed:e,config:t,numeric:n,smaller:i}=r,a=Wl({typed:e,config:t,numeric:n,smaller:i});return e("min",{"...any":function(c){c=Un(c);try{return a.apply(null,c)}catch(u){throw Sr(u)}}})},{isTransformFunction:!0});var RZ="range",LZ=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],m_=M(RZ,LZ,r=>{var{typed:e,config:t,matrix:n,bignumber:i,smaller:a,smallerEq:o,larger:c,largerEq:u,add:s,isPositive:l}=r,f=Vl({typed:e,config:t,matrix:n,bignumber:i,smaller:a,smallerEq:o,larger:c,largerEq:u,add:s,isPositive:l});return e("range",{"...any":function(m){var h=m.length-1,d=m[h];return typeof d!="boolean"&&m.push(!0),f.apply(null,m)}})},{isTransformFunction:!0});var UZ="row",VZ=["typed","Index","matrix","range"],d_=M(UZ,VZ,r=>{var{typed:e,Index:t,matrix:n,range:i}=r,a=ql({typed:e,Index:t,matrix:n,range:i});return e("row",{"...any":function(c){var u=c.length-1,s=c[u];gt(s)&&(c[u]=s-1);try{return a.apply(null,c)}catch(l){throw Sr(l)}}})},{isTransformFunction:!0});var qZ="subset",zZ=["typed","matrix","zeros","add"],h_=M(qZ,zZ,r=>{var{typed:e,matrix:t,zeros:n,add:i}=r,a=zl({typed:e,matrix:t,zeros:n,add:i});return e("subset",{"...any":function(c){try{return a.apply(null,c)}catch(u){throw Sr(u)}}})},{isTransformFunction:!0});var $Z="concat",HZ=["typed","matrix","isInteger"],g_=M($Z,HZ,r=>{var{typed:e,matrix:t,isInteger:n}=r,i=kl({typed:e,matrix:t,isInteger:n});return e("concat",{"...any":function(o){var c=o.length-1,u=o[c];gt(u)?o[c]=u-1:st(u)&&(o[c]=u.minus(1));try{return i.apply(null,o)}catch(s){throw Sr(s)}}})},{isTransformFunction:!0});var sk="diff",GZ=["typed","matrix","subtract","number","bignumber"],v_=M(sk,GZ,r=>{var{typed:e,matrix:t,subtract:n,number:i,bignumber:a}=r,o=Ul({typed:e,matrix:t,subtract:n,number:i,bignumber:a});return e(sk,{"...any":function(u){u=Un(u);try{return o.apply(null,u)}catch(s){throw Sr(s)}}})},{isTransformFunction:!0});var WZ="std",YZ=["typed","map","sqrt","variance"],y_=M(WZ,YZ,r=>{var{typed:e,map:t,sqrt:n,variance:i}=r,a=ec({typed:e,map:t,sqrt:n,variance:i});return e("std",{"...any":function(c){c=Un(c);try{return a.apply(null,c)}catch(u){throw Sr(u)}}})},{isTransformFunction:!0});var uk="sum",jZ=["typed","config","add","numeric"],b_=M(uk,jZ,r=>{var{typed:e,config:t,add:n,numeric:i}=r,a=Zl({typed:e,config:t,add:n,numeric:i});return e(uk,{"...any":function(c){c=Un(c);try{return a.apply(null,c)}catch(u){throw Sr(u)}}})},{isTransformFunction:!0});var ZZ="quantileSeq",JZ=["typed","bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],x_=M(ZZ,JZ,r=>{var{typed:e,bignumber:t,add:n,subtract:i,divide:a,multiply:o,partitionSelect:c,compare:u,isInteger:s,smaller:l,smallerEq:f,larger:p}=r,m=Kl({typed:e,bignumber:t,add:n,subtract:i,divide:a,multiply:o,partitionSelect:c,compare:u,isInteger:s,smaller:l,smallerEq:f,larger:p});return e("quantileSeq",{"Array | Matrix, number | BigNumber":m,"Array | Matrix, number | BigNumber, number":(d,v,y)=>m(d,v,h(y)),"Array | Matrix, number | BigNumber, boolean":m,"Array | Matrix, number | BigNumber, boolean, number":(d,v,y,S)=>m(d,v,y,h(S)),"Array | Matrix, Array | Matrix":m,"Array | Matrix, Array | Matrix, number":(d,v,y)=>m(d,v,h(y)),"Array | Matrix, Array | Matrix, boolean":m,"Array | Matrix, Array | Matrix, boolean, number":(d,v,y,S)=>m(d,v,y,h(S))});function h(d){return Un([[],d])[1]}},{isTransformFunction:!0});var lk="cumsum",XZ=["typed","add","unaryPlus"],w_=M(lk,XZ,r=>{var{typed:e,add:t,unaryPlus:n}=r,i=Jl({typed:e,add:t,unaryPlus:n});return e(lk,{"...any":function(o){if(o.length===2&&Wr(o[0])){var c=o[1];gt(c)?o[1]=c-1:st(c)&&(o[1]=c.minus(1))}try{return i.apply(null,o)}catch(u){throw Sr(u)}}})},{isTransformFunction:!0});var ck="variance",QZ=["typed","add","subtract","multiply","divide","apply","isNaN"],__=M(ck,QZ,r=>{var{typed:e,add:t,subtract:n,multiply:i,divide:a,apply:o,isNaN:c}=r,u=Ql({typed:e,add:t,subtract:n,multiply:i,divide:a,apply:o,isNaN:c});return e(ck,{"...any":function(l){l=Un(l);try{return u.apply(null,l)}catch(f){throw Sr(f)}}})},{isTransformFunction:!0});var fk="print",KZ=["typed","matrix","zeros","add"],S_=M(fk,KZ,r=>{var{typed:e,matrix:t,zeros:n,add:i}=r,a=$l({typed:e,matrix:t,zeros:n,add:i});return e(fk,{"string, Object | Array":function(u,s){return a(o(u),s)},"string, Object | Array, number | Object":function(u,s,l){return a(o(u),s,l)}});function o(c){return c.replace(Tp,u=>{var s=u.slice(1).split("."),l=s.map(function(f){return!isNaN(f)&&f.length>0?parseInt(f)-1:f});return"$"+l.join(".")})}},{isTransformFunction:!0});var eJ="and",tJ=["typed","matrix","zeros","add","equalScalar","not","concat"],D_=M(eJ,tJ,r=>{var{typed:e,matrix:t,equalScalar:n,zeros:i,not:a,concat:o}=r,c=Hl({typed:e,matrix:t,equalScalar:n,zeros:i,not:a,concat:o});function u(s,l,f){var p=s[0].compile().evaluate(f);if(!Wr(p)&&!c(p,!0))return!1;var m=s[1].compile().evaluate(f);return c(p,m)}return u.rawArgs=!0,u},{isTransformFunction:!0});var rJ="or",nJ=["typed","matrix","equalScalar","DenseMatrix","concat"],N_=M(rJ,nJ,r=>{var{typed:e,matrix:t,equalScalar:n,DenseMatrix:i,concat:a}=r,o=Ol({typed:e,matrix:t,equalScalar:n,DenseMatrix:i,concat:a});function c(u,s,l){var f=u[0].compile().evaluate(l);if(!Wr(f)&&o(f,!1))return!0;var p=u[1].compile().evaluate(l);return o(f,p)}return c.rawArgs=!0,c},{isTransformFunction:!0});var iJ="bitAnd",aJ=["typed","matrix","zeros","add","equalScalar","not","concat"],A_=M(iJ,aJ,r=>{var{typed:e,matrix:t,equalScalar:n,zeros:i,not:a,concat:o}=r,c=Bl({typed:e,matrix:t,equalScalar:n,zeros:i,not:a,concat:o});function u(s,l,f){var p=s[0].compile().evaluate(f);if(!Wr(p)){if(isNaN(p))return NaN;if(p===0||p===!1)return 0}var m=s[1].compile().evaluate(f);return c(p,m)}return u.rawArgs=!0,u},{isTransformFunction:!0});var oJ="bitOr",sJ=["typed","matrix","equalScalar","DenseMatrix","concat"],E_=M(oJ,sJ,r=>{var{typed:e,matrix:t,equalScalar:n,DenseMatrix:i,concat:a}=r,o=Pl({typed:e,matrix:t,equalScalar:n,DenseMatrix:i,concat:a});function c(u,s,l){var f=u[0].compile().evaluate(l);if(!Wr(f)){if(isNaN(f))return NaN;if(f===-1)return-1;if(f===!0)return 1}var p=u[1].compile().evaluate(l);return o(f,p)}return c.rawArgs=!0,c},{isTransformFunction:!0});var Ye=Wg({config:Ce}),Dr=jg({}),T_=Qx({BigNumber:Ye,config:Ce}),pk=Wx({}),mk=Ew({BigNumber:Ye,config:Ce}),Eo=Jg({}),M_=ow({Complex:Dr}),dk=jx({BigNumber:Ye,config:Ce}),hk=tw({BigNumber:Ye,config:Ce}),gk=nw({BigNumber:Ye,config:Ce}),nc=Qg({}),vk=Zx({BigNumber:Ye,config:Ce}),yk=Yx({}),bk=Kx({BigNumber:Ye,config:Ce}),xk=Xg({}),C_=Ug({}),wk=iw({BigNumber:Ye,config:Ce}),_k=Ww({BigNumber:Ye,config:Ce}),F_=Xx({BigNumber:Ye,config:Ce}),Sk=Gx({}),Dk=sw({}),Ht=Kg({Matrix:nc}),Nk=kw({BigNumber:Ye,config:Ce}),Ak=ew({BigNumber:Ye,config:Ce}),um=Jx({BigNumber:Ye,config:Ce}),Ek=Hx({}),Tk=aw({BigNumber:Ye,config:Ce}),ee=Lg({BigNumber:Ye,Complex:Dr,DenseMatrix:Ht,Fraction:Eo}),lm=wy({BigNumber:Ye,config:Ce,typed:ee}),Mk=Ow({BigNumber:Ye,config:Ce}),Vn=_y({typed:ee}),Ck=Sb({Complex:Dr,config:Ce,typed:ee}),Fk=Nb({BigNumber:Ye,typed:ee}),Ik=Eb({BigNumber:Ye,Complex:Dr,config:Ce,typed:ee}),sn=Sy({typed:ee}),Bk=Qy({typed:ee}),Pk=Cb({BigNumber:Ye,Complex:Dr,config:Ce,typed:ee}),Ok=Ib({typed:ee}),I_=Bb({typed:ee}),kk=Ob({Complex:Dr,config:Ce,typed:ee}),ci=py({BigNumber:Ye,typed:ee}),Rk=Jy({typed:ee}),Lk=fy({typed:ee}),Uk=ev({typed:ee}),ic=lx({typed:ee}),ac=my({Complex:Dr,typed:ee}),To=Ky({typed:ee}),cm=kb({typed:ee}),Vk=Lb({BigNumber:Ye,typed:ee}),qk=Vb({BigNumber:Ye,typed:ee}),zk=Ty({typed:ee}),Zt=sy({config:Ce,typed:ee}),$k=M0({typed:ee}),B_=My({typed:ee}),Hk=Cy({Complex:Dr,typed:ee}),Gk=s0({typed:ee}),Wk=l0({typed:ee}),Mu=B0({typed:ee}),fm=c0({typed:ee}),Yk=k0({format:Mu,typed:ee}),pm=e0({typed:ee}),Kn=rv({typed:ee}),Ya=ey({typed:ee}),Mo=ny({typed:ee}),Hi=iy({typed:ee}),jk=rw({BigNumber:Ye,config:Ce}),Zk=px({Complex:Dr,typed:ee}),Jk=Ry({Complex:Dr,config:Ce,typed:ee}),P_=Ly({Complex:Dr,config:Ce,typed:ee}),Co=m0({typed:ee}),Yr=Uy({typed:ee}),oc=r0({typed:ee}),ba=ly({typed:ee}),Xk=O0({format:Mu,typed:ee}),Qk=Dx({config:Ce,typed:ee}),Kk=$l({typed:ee}),eR=Nx({config:Ce,typed:ee}),mm=t0({typed:ee}),tR=zb({BigNumber:Ye,typed:ee}),O_=zy({BigNumber:Ye,Fraction:Eo,complex:ac,typed:ee}),sc=Hb({typed:ee}),xa=uy({Matrix:nc,equalScalar:Zt,typed:ee}),rR=by({typed:ee}),nR=Hy({typed:ee}),iR=cy({typed:ee}),Ai=Dy({typed:ee}),aR=Wb({typed:ee}),k_=oy({typed:ee}),oR=Db({Complex:Dr,config:Ce,typed:ee}),sR=Tb({BigNumber:Ye,typed:ee}),dm=ms({isInteger:Kn,typed:ee}),uR=Mb({BigNumber:Ye,Complex:Dr,config:Ce,typed:ee}),lR=P0({format:Mu,typed:ee}),cR=cx({typed:ee}),fR=Rb({typed:ee}),pR=qb({BigNumber:Ye,typed:ee}),Cu=ay({typed:ee}),mR=L0({typed:ee}),dR=Ax({config:Ce,typed:ee}),hR=$b({BigNumber:Ye,typed:ee}),gR=Gb({typed:ee}),vR=wb({SparseMatrix:xa,typed:ee}),Gi=$y({Complex:Dr,config:Ce,typed:ee}),yR=Yb({typed:ee}),sa=xy({typed:ee}),bR=Ab({BigNumber:Ye,Complex:Dr,config:Ce,typed:ee}),xR=Ub({BigNumber:Ye,typed:ee}),vs=dy({Fraction:Eo,typed:ee}),Fo=ty({typed:ee}),He=hy({DenseMatrix:Ht,Matrix:nc,SparseMatrix:xa,typed:ee}),wR=gy({isZero:Hi,matrix:He,typed:ee}),_R=F0({isNaN:Cu,isNumeric:Fo,typed:ee}),Wi=U0({bignumber:ci,fraction:vs,number:ba}),R_=I0({config:Ce,multiplyScalar:Yr,numeric:Wi,typed:ee}),L_=h0({isInteger:Kn,matrix:He,typed:ee}),wn=b0({matrix:He,config:Ce,typed:ee}),SR=x0({matrix:He,typed:ee}),Fu=w0({matrix:He,typed:ee}),U_=Wy({BigNumber:Ye,config:Ce,matrix:He,typed:ee}),_n=S0({BigNumber:Ye,config:Ce,matrix:He,typed:ee}),DR=Fb({Complex:Dr,config:Ce,typed:ee}),V_=Ny({BigNumber:Ye,Complex:Dr,Fraction:Eo,config:Ce,isNegative:Ya,matrix:He,typed:ee,unaryMinus:sa}),ar=kl({isInteger:Kn,matrix:He,typed:ee}),NR=i0({prod:R_,size:wn,typed:ee}),hm=_0({conj:To,transpose:Fu,typed:ee}),q_=o0({DenseMatrix:Ht,SparseMatrix:xa,matrix:He,typed:ee}),Lr=V0({numeric:Wi,typed:ee}),Iu=Y0({DenseMatrix:Ht,concat:ar,divideScalar:Lr,equalScalar:Zt,matrix:He,typed:ee}),Ei=ib({DenseMatrix:Ht,concat:ar,equalScalar:Zt,matrix:He,typed:ee}),Bu=u0({matrix:He,typed:ee}),AR=ry({isNumeric:Fo,typed:ee}),ja=f0({BigNumber:Ye,DenseMatrix:Ht,SparseMatrix:xa,config:Ce,matrix:He,typed:ee}),ER=p0({matrix:He,multiplyScalar:Yr,typed:ee}),uc=lb({DenseMatrix:Ht,concat:ar,config:Ce,matrix:He,typed:ee}),TR=Q0({DenseMatrix:Ht,concat:ar,equalScalar:Zt,matrix:He,typed:ee,zeros:_n}),z_=j0({DenseMatrix:Ht,divideScalar:Lr,equalScalar:Zt,matrix:He,multiplyScalar:Yr,subtractScalar:Ai,typed:ee}),gm=yy({flatten:Bu,matrix:He,size:wn,typed:ee}),MR=qy({BigNumber:Ye,concat:ar,equalScalar:Zt,matrix:He,typed:ee}),CR=d0({BigNumber:Ye,config:Ce,matrix:He,typed:ee}),vm=O1({addScalar:sn,complex:ac,conj:To,divideScalar:Lr,equal:Ei,identity:ja,isZero:Hi,matrix:He,multiplyScalar:Yr,sign:O_,sqrt:Gi,subtractScalar:Ai,typed:ee,unaryMinus:sa,zeros:_n}),FR=g0({config:Ce,matrix:He}),IR=K0({DenseMatrix:Ht,concat:ar,equalScalar:Zt,matrix:He,typed:ee,zeros:_n}),ys=z0({BigNumber:Ye,DenseMatrix:Ht,config:Ce,equalScalar:Zt,matrix:He,typed:ee,zeros:_n}),qn=ob({DenseMatrix:Ht,concat:ar,config:Ce,matrix:He,typed:ee}),jr=Gy({DenseMatrix:Ht,concat:ar,equalScalar:Zt,matrix:He,subtractScalar:Ai,typed:ee,unaryMinus:sa}),BR=R0({concat:ar,matrix:He,typed:ee}),PR=fb({DenseMatrix:Ht,concat:ar,config:Ce,equalScalar:Zt,matrix:He,typed:ee}),ym=Z0({DenseMatrix:Ht,divideScalar:Lr,equalScalar:Zt,matrix:He,multiplyScalar:Yr,subtractScalar:Ai,typed:ee}),OR=n0({DenseMatrix:Ht,concat:ar,matrix:He,typed:ee}),er=i1({DenseMatrix:Ht,SparseMatrix:xa,addScalar:sn,concat:ar,equalScalar:Zt,matrix:He,typed:ee}),kR=Pb({BigNumber:Ye,DenseMatrix:Ht,concat:ar,equalScalar:Zt,matrix:He,typed:ee}),RR=Bl({concat:ar,equalScalar:Zt,matrix:He,typed:ee}),LR=Pl({DenseMatrix:Ht,concat:ar,equalScalar:Zt,matrix:He,typed:ee}),UR=Xy({DenseMatrix:Ht,concat:ar,matrix:He,typed:ee}),VR=Mx({addScalar:sn,combinations:ic,divideScalar:Lr,isInteger:Kn,isNegative:Ya,multiplyScalar:Yr,typed:ee}),Io=tb({BigNumber:Ye,DenseMatrix:Ht,Fraction:Eo,concat:ar,config:Ce,equalScalar:Zt,matrix:He,typed:ee}),$_=nb({concat:ar,matrix:He,typed:ee}),qR=Jl({add:er,typed:ee,unaryPlus:lm}),bm=cb({equal:Ei,typed:ee}),zR=Ul({matrix:He,number:ba,subtract:jr,typed:ee}),$R=nx({abs:Vn,addScalar:sn,deepEqual:bm,divideScalar:Lr,multiplyScalar:Yr,sqrt:Gi,subtractScalar:Ai,typed:ee}),lc=s1({addScalar:sn,conj:To,multiplyScalar:Yr,size:wn,typed:ee}),HR=ab({compareText:$_,isZero:Hi,typed:ee}),H_=Fl({DenseMatrix:Ht,config:Ce,equalScalar:Zt,matrix:He,round:ys,typed:ee,zeros:_n}),GR=Oy({BigNumber:Ye,DenseMatrix:Ht,concat:ar,config:Ce,equalScalar:Zt,matrix:He,round:ys,typed:ee,zeros:_n}),WR=a1({abs:Vn,addScalar:sn,divideScalar:Lr,isPositive:Mo,multiplyScalar:Yr,smaller:qn,sqrt:Gi,typed:ee}),G_=db({DenseMatrix:Ht,smaller:qn}),Fn=hb({ImmutableDenseMatrix:G_,getMatrixDataType:fm}),zn=ub({DenseMatrix:Ht,concat:ar,config:Ce,matrix:He,typed:ee}),xm=$0({Complex:Dr,config:Ce,divideScalar:Lr,typed:ee}),YR=J0({DenseMatrix:Ht,divideScalar:Lr,equalScalar:Zt,matrix:He,multiplyScalar:Yr,subtractScalar:Ai,typed:ee}),jR=vy({flatten:Bu,matrix:He,size:wn,typed:ee}),ZR=Wl({config:Ce,numeric:Wi,smaller:qn,typed:ee}),W_=Il({DenseMatrix:Ht,concat:ar,config:Ce,equalScalar:Zt,matrix:He,round:ys,typed:ee,zeros:_n}),hr=Vy({addScalar:sn,dot:lc,equalScalar:Zt,matrix:He,multiplyScalar:Yr,typed:ee}),JR=G0({Complex:Dr,config:Ce,divideScalar:Lr,typed:ee}),XR=Ol({DenseMatrix:Ht,concat:ar,equalScalar:Zt,matrix:He,typed:ee}),cc=pb({compare:Io,isNaN:Cu,isNumeric:Fo,typed:ee}),QR=eb({DenseMatrix:Ht,concat:ar,equalScalar:Zt,matrix:He,typed:ee,zeros:_n}),Y_=R1({SparseMatrix:xa,abs:Vn,add:er,divideScalar:Lr,larger:zn,largerEq:uc,multiply:hr,subtract:jr,transpose:Fu,typed:ee}),fi=zl({add:er,matrix:He,typed:ee,zeros:_n}),wm=Zl({add:er,config:Ce,numeric:Wi,typed:ee}),KR=u1({add:er,matrix:He,typed:ee}),j_=X0({DenseMatrix:Ht,divideScalar:Lr,equalScalar:Zt,matrix:He,multiplyScalar:Yr,subtractScalar:Ai,typed:ee}),e3=qx({Complex:Dr,add:er,multiply:hr,number:ba,typed:ee}),_m=Ey({DenseMatrix:Ht,config:Ce,equalScalar:Zt,matrix:He,round:ys,typed:ee,zeros:_n}),ua=rb({compare:Io,typed:ee}),t3=Cx({addScalar:sn,combinations:ic,isInteger:Kn,isNegative:Ya,isPositive:Mo,larger:zn,typed:ee}),r3=a0({matrix:He,multiply:hr,subtract:jr,typed:ee}),Z_=Y1({divideScalar:Lr,isZero:Hi,matrix:He,multiply:hr,subtractScalar:Ai,typed:ee,unaryMinus:sa}),n3=jy({concat:ar,equalScalar:Zt,matrix:He,multiplyScalar:Yr,typed:ee}),J_=gb({larger:zn,smaller:qn}),X_=Iy({Complex:Dr,DenseMatrix:Ht,ceil:_m,equalScalar:Zt,floor:H_,matrix:He,typed:ee,zeros:_n}),Q_=l1({Index:Fn,typed:ee}),i3=ix({abs:Vn,add:er,addScalar:sn,config:Ce,divideScalar:Lr,equalScalar:Zt,flatten:Bu,isNumeric:Fo,isZero:Hi,matrix:He,multiply:hr,multiplyScalar:Yr,smaller:qn,subtract:jr,typed:ee}),a3=Yy({BigNumber:Ye,add:er,config:Ce,equal:Ei,isInteger:Kn,mod:W_,smaller:qn,typed:ee,xgcd:U_}),o3=ky({concat:ar,equalScalar:Zt,matrix:He,typed:ee}),s3=H0({Complex:Dr,config:Ce,divideScalar:Lr,log:xm,typed:ee}),Sm=Gl({config:Ce,larger:zn,numeric:Wi,typed:ee}),u3=jb({DenseMatrix:Ht,Index:Fn,compareNatural:ua,size:wn,subset:fi,typed:ee}),l3=Jb({DenseMatrix:Ht,Index:Fn,compareNatural:ua,size:wn,subset:fi,typed:ee}),c3=Qb({Index:Fn,compareNatural:ua,size:wn,subset:fi,typed:ee}),f3=e1({Index:Fn,compareNatural:ua,size:wn,subset:fi,typed:ee}),bs=sb({DenseMatrix:Ht,concat:ar,config:Ce,matrix:He,typed:ee}),p3=mb({compare:Io,compareNatural:ua,matrix:He,typed:ee}),m3=Hl({concat:ar,equalScalar:Zt,matrix:He,not:oc,typed:ee,zeros:_n}),xs=Vl({bignumber:ci,matrix:He,add:er,config:Ce,isPositive:Mo,larger:zn,largerEq:uc,smaller:qn,smallerEq:bs,typed:ee}),d3=ql({Index:Fn,matrix:He,range:xs,typed:ee}),K_=Zb({DenseMatrix:Ht,Index:Fn,compareNatural:ua,size:wn,subset:fi,typed:ee}),h3=Kb({Index:Fn,compareNatural:ua,size:wn,subset:fi,typed:ee}),eS=r1({Index:Fn,concat:ar,setDifference:K_,size:wn,subset:fi,typed:ee}),tS=vb({FibonacciHeap:J_,addScalar:sn,equalScalar:Zt}),rS=Rl({Index:Fn,matrix:He,range:xs,typed:ee}),Bo=j1({abs:Vn,addScalar:sn,det:Z_,divideScalar:Lr,identity:ja,matrix:He,multiply:hr,typed:ee,unaryMinus:sa}),nS=P1({DenseMatrix:Ht,Spa:tS,SparseMatrix:xa,abs:Vn,addScalar:sn,divideScalar:Lr,equalScalar:Zt,larger:zn,matrix:He,multiplyScalar:Yr,subtractScalar:Ai,typed:ee,unaryMinus:sa}),g3=Z1({Complex:Dr,add:er,ctranspose:hm,deepEqual:bm,divideScalar:Lr,dot:lc,dotDivide:Iu,equal:Ei,inv:Bo,matrix:He,multiply:hr,typed:ee}),Ti=q0({Complex:Dr,config:Ce,fraction:vs,identity:ja,inv:Bo,matrix:He,multiply:hr,number:ba,typed:ee}),iS=Xb({DenseMatrix:Ht,Index:Fn,compareNatural:ua,size:wn,subset:fi,typed:ee}),v3=n1({Index:Fn,concat:ar,setIntersect:iS,setSymDifference:eS,size:wn,subset:fi,typed:ee}),y3=Q1({abs:Vn,add:er,identity:ja,inv:Bo,map:Co,max:Sm,multiply:hr,size:wn,sqrt:Gi,subtract:jr,typed:ee}),It=bb({BigNumber:Ye,Complex:Dr,Fraction:Eo,abs:Vn,addScalar:sn,config:Ce,divideScalar:Lr,equal:Ei,fix:X_,format:Mu,isNumeric:Fo,multiplyScalar:Yr,number:ba,pow:Ti,round:ys,subtractScalar:Ai}),b3=dw({BigNumber:Ye,Unit:It,config:Ce}),x3=Zw({BigNumber:Ye,Unit:It,config:Ce}),w3=Rw({BigNumber:Ye,Unit:It,config:Ce}),_3=vw({BigNumber:Ye,Unit:It,config:Ce}),S3=Uw({BigNumber:Ye,Unit:It,config:Ce}),D3=yw({BigNumber:Ye,Unit:It,config:Ce}),N3=hw({BigNumber:Ye,Unit:It,config:Ce}),A3=Cw({BigNumber:Ye,Unit:It,config:Ce}),E3=W0({DenseMatrix:Ht,concat:ar,equalScalar:Zt,matrix:He,pow:Ti,typed:ee}),T3=mw({BigNumber:Ye,Unit:It,config:Ce}),M3=gw({BigNumber:Ye,Unit:It,config:Ce}),C3=X1({abs:Vn,add:er,identity:ja,inv:Bo,multiply:hr,typed:ee}),F3=Vw({BigNumber:Ye,Unit:It,config:Ce}),aS=D0({addScalar:sn,ceil:_m,conj:To,divideScalar:Lr,dotDivide:Iu,exp:B_,i:M_,log2:P_,matrix:He,multiplyScalar:Yr,pow:Ti,tau:F_,typed:ee}),Dm=fx({BigNumber:Ye,Complex:Dr,config:Ce,multiplyScalar:Yr,pow:Ti,typed:ee}),I3=lw({BigNumber:Ye,Unit:It,config:Ce}),B3=Tw({BigNumber:Ye,Unit:It,config:Ce}),P3=N0({conj:To,dotDivide:Iu,fft:aS,typed:ee}),O3=_w({BigNumber:Ye,Unit:It,config:Ce}),k3=zw({BigNumber:Ye,Unit:It,config:Ce}),R3=pw({BigNumber:Ye,Unit:It,config:Ce}),L3=Jw({BigNumber:Ye,Unit:It,config:Ce}),U3=Hw({BigNumber:Ye,Unit:It,config:Ce}),V3=Fw({BigNumber:Ye,Unit:It,config:Ce}),q3=ww({BigNumber:Ye,Unit:It,config:Ce}),z3=r_({BigNumber:Ye,Unit:It,config:Ce}),$3=Kw({BigNumber:Ye,Unit:It,config:Ce}),H3=n_({BigNumber:Ye,Unit:It,config:Ce}),G3=Mw({BigNumber:Ye,Unit:It,config:Ce}),W3=Iw({BigNumber:Ye,Unit:It,config:Ce}),Y3=fw({BigNumber:Ye,Unit:It,config:Ce}),j3=Bw({BigNumber:Ye,Unit:It,config:Ce}),Z3=Yw({BigNumber:Ye,Unit:It,config:Ce}),J3=uw({BigNumber:Ye,Unit:It,config:Ce}),X3=jw({BigNumber:Ye,Unit:It,config:Ce}),Q3=Pw({BigNumber:Ye,Unit:It,config:Ce}),K3=Lw({BigNumber:Ye,Unit:It,config:Ce}),eL=Sw({BigNumber:Ye,Unit:It,config:Ce}),tL=_b({Unit:It,typed:ee}),dn=rx({divideScalar:Lr,equalScalar:Zt,inv:Bo,matrix:He,multiply:hr,typed:ee}),rL=Nw({BigNumber:Ye,Unit:It,config:Ce}),Pu=mx({gamma:Dm,typed:ee}),nL=qw({BigNumber:Ye,Unit:It,config:Ce}),iL=Qw({BigNumber:Ye,Unit:It,config:Ce}),aL=bw({BigNumber:Ye,Unit:It,config:Ce}),oS=U1({DenseMatrix:Ht,lsolve:z_,lup:nS,matrix:He,slu:Y_,typed:ee,usolve:ym}),oL=xw({BigNumber:Ye,Unit:It,config:Ce}),sL=Xw({BigNumber:Ye,Unit:It,config:Ce}),uL=hx({add:er,divide:dn,factorial:Pu,isInteger:Kn,isPositive:Mo,multiply:hr,typed:ee}),lL=gx({factorial:Pu,typed:ee}),cL=e_({BigNumber:Ye,Unit:It,config:Ce}),fL=V1({add:er,cbrt:V_,divide:dn,equalScalar:Zt,im:pm,isZero:Hi,multiply:hr,re:mm,sqrt:Gi,subtract:jr,typeOf:k_,typed:ee,unaryMinus:sa}),pL=t1({compareNatural:ua,typed:ee}),mL=T0({abs:Vn,add:er,bignumber:ci,divide:dn,isNegative:Ya,isPositive:Mo,larger:zn,map:Co,matrix:He,max:Sm,multiply:hr,smaller:qn,subtract:jr,typed:ee,unaryMinus:sa}),sS=Ex({bignumber:ci,addScalar:sn,combinations:ic,divideScalar:Lr,factorial:Pu,isInteger:Kn,isNegative:Ya,larger:zn,multiplyScalar:Yr,number:ba,pow:Ti,subtractScalar:Ai,typed:ee}),dL=xb({Unit:It,typed:ee}),hL=Tx({addScalar:sn,isInteger:Kn,isNegative:Ya,stirlingS2:sS,typed:ee}),uS=J1({abs:Vn,add:er,addScalar:sn,atan:I_,bignumber:ci,column:rS,complex:ac,config:Ce,cos:cm,diag:q_,divideScalar:Lr,dot:lc,equal:Ei,flatten:Bu,im:pm,inv:Bo,larger:zn,matrix:He,matrixFromColumns:gm,multiply:hr,multiplyScalar:Yr,number:ba,qr:vm,re:mm,reshape:L_,sin:sc,size:wn,smaller:qn,sqrt:Gi,subtract:jr,typed:ee,usolve:ym,usolveAll:j_}),gL=Aw({BigNumber:Ye,Unit:It,config:Ce}),vL=$w({BigNumber:Ye,Unit:It,config:Ce}),yL=dx({divide:dn,dotDivide:Iu,isNumeric:Fo,log:xm,map:Co,matrix:He,multiply:hr,sum:wm,typed:ee}),lS=Xl({add:er,divide:dn,typed:ee}),bL=Gw({BigNumber:Ye,Unit:It,config:Ce}),xL=cw({BigNumber:Ye,Unit:It,config:Ce}),wL=Kl({bignumber:ci,add:er,compare:Io,divide:dn,isInteger:Kn,larger:zn,multiply:hr,partitionSelect:cc,smaller:qn,smallerEq:bs,subtract:jr,typed:ee}),Nm=Ql({add:er,apply:dm,divide:dn,isNaN:Cu,multiply:hr,subtract:jr,typed:ee}),_L=Dw({BigNumber:Ye,Unit:It,config:Ce}),cS=ax({add:er,compare:Io,divide:dn,partitionSelect:cc,typed:ee}),SL=ux({add:er,divide:dn,matrix:He,mean:lS,multiply:hr,pow:Ti,sqrt:Gi,subtract:jr,sum:wm,typed:ee}),DL=zx({Complex:Dr,add:er,divide:dn,matrix:He,multiply:hr,typed:ee}),NL=ox({abs:Vn,map:Co,median:cS,subtract:jr,typed:ee}),AL=ec({map:Co,sqrt:Gi,typed:ee,variance:Nm}),EL=C0({BigNumber:Ye,Complex:Dr,add:er,config:Ce,divide:dn,equal:Ei,factorial:Pu,gamma:Dm,isNegative:Ya,multiply:hr,pi:um,pow:Ti,sin:sc,smallerEq:bs,subtract:jr,typed:ee}),Am=o1({abs:Vn,add:er,conj:To,ctranspose:hm,eigs:uS,equalScalar:Zt,larger:zn,matrix:He,multiply:hr,pow:Ti,smaller:qn,sqrt:Gi,typed:ee}),fS=y0({BigNumber:Ye,DenseMatrix:Ht,SparseMatrix:xa,addScalar:sn,config:Ce,cos:cm,matrix:He,multiplyScalar:Yr,norm:Am,sin:sc,typed:ee,unaryMinus:sa}),TL=t_({BigNumber:Ye,Unit:It,config:Ce}),pS=ex({identity:ja,matrix:He,multiply:hr,norm:Am,qr:vm,subtract:jr,typed:ee}),ML=v0({multiply:hr,rotationMatrix:fS,typed:ee}),mS=K1({abs:Vn,add:er,concat:ar,identity:ja,index:Q_,lusolve:oS,matrix:He,matrixFromColumns:gm,multiply:hr,range:xs,schur:pS,subset:fi,subtract:jr,transpose:Fu,typed:ee}),CL=tx({matrix:He,multiply:hr,sylvester:mS,transpose:Fu,typed:ee});var Ou={},ku={},FL={},$n=c1({mathWithTransform:ku}),Ru=_1({Node:$n}),Za=S1({Node:$n}),ws=D1({Node:$n}),IL=A1({Node:$n}),Lu=p1({Node:$n}),BL=d1({Node:$n,ResultSet:C_}),PL=h1({Node:$n}),Po=b1({Node:$n}),OL=N1({Node:$n}),uJ=$x({classes:FL}),dS=z1({math:Ou,typed:ee}),kL=x1({Node:$n,typed:ee}),lJ=W1({Chain:dS,typed:ee}),Uu=w1({Node:$n,size:wn}),Vu=f1({Node:$n,subset:fi}),RL=m1({matrix:He,Node:$n,subset:fi}),Oo=E1({Unit:It,Node:$n,math:Ou}),ko=T1({Node:$n,SymbolNode:Oo,math:Ou}),wa=M1({AccessorNode:Vu,ArrayNode:Lu,AssignmentNode:RL,BlockNode:BL,ConditionalNode:PL,ConstantNode:Po,FunctionAssignmentNode:kL,FunctionNode:ko,IndexNode:Uu,ObjectNode:Ru,OperatorNode:Za,ParenthesisNode:ws,RangeNode:OL,RelationalNode:IL,SymbolNode:Oo,config:Ce,numeric:Wi,typed:ee}),LL=Rx({ConstantNode:Po,FunctionNode:ko,OperatorNode:Za,ParenthesisNode:ws,parse:wa,typed:ee}),hS=Ox({bignumber:ci,fraction:vs,AccessorNode:Vu,ArrayNode:Lu,ConstantNode:Po,FunctionNode:ko,IndexNode:Uu,ObjectNode:Ru,OperatorNode:Za,SymbolNode:Oo,config:Ce,mathWithTransform:ku,matrix:He,typed:ee}),gS=C1({parse:wa,typed:ee}),vS=kx({AccessorNode:Vu,ArrayNode:Lu,ConstantNode:Po,FunctionNode:ko,IndexNode:Uu,ObjectNode:Ru,OperatorNode:Za,ParenthesisNode:ws,SymbolNode:Oo,add:er,divide:dn,equal:Ei,isZero:Hi,multiply:hr,parse:wa,pow:Ti,subtract:jr,typed:ee}),yS=F1({parse:wa,typed:ee}),UL=q1({evaluate:yS}),VL=I1({evaluate:yS}),Em=Px({bignumber:ci,fraction:vs,AccessorNode:Vu,ArrayNode:Lu,ConstantNode:Po,FunctionNode:ko,IndexNode:Uu,ObjectNode:Ru,OperatorNode:Za,ParenthesisNode:ws,SymbolNode:Oo,add:er,config:Ce,divide:dn,equal:Ei,isZero:Hi,mathWithTransform:ku,matrix:He,multiply:hr,parse:wa,pow:Ti,resolve:LL,simplifyConstant:hS,simplifyCore:vS,subtract:jr,typed:ee}),cJ=Lx({OperatorNode:Za,parse:wa,simplify:Em,typed:ee}),fJ=Fx({parse:wa,typed:ee}),pJ=B1({Parser:VL,typed:ee}),mJ=Vx({bignumber:ci,fraction:vs,AccessorNode:Vu,ArrayNode:Lu,ConstantNode:Po,FunctionNode:ko,IndexNode:Uu,ObjectNode:Ru,OperatorNode:Za,ParenthesisNode:ws,SymbolNode:Oo,add:er,config:Ce,divide:dn,equal:Ei,isZero:Hi,mathWithTransform:ku,matrix:He,multiply:hr,parse:wa,pow:Ti,simplify:Em,simplifyConstant:hS,simplifyCore:vS,subtract:jr,typed:ee}),dJ=Ux({ConstantNode:Po,FunctionNode:ko,OperatorNode:Za,ParenthesisNode:ws,SymbolNode:Oo,config:Ce,equal:Ei,isZero:Hi,numeric:Wi,parse:wa,simplify:Em,typed:ee}),hJ=G1({Help:UL,mathWithTransform:ku,typed:ee});Cr(Ou,{e:T_,false:pk,fineStructure:mk,i:M_,Infinity:dk,LN10:hk,LOG10E:gk,NaN:vk,null:yk,phi:bk,SQRT1_2:wk,sackurTetrode:_k,tau:F_,true:Sk,E:T_,version:Dk,efimovFactor:Nk,LN2:Ak,pi:um,replacer:Ek,reviver:uJ,SQRT2:Tk,typed:ee,unaryPlus:lm,PI:um,weakMixingAngle:Mk,abs:Vn,acos:Ck,acot:Fk,acsc:Ik,addScalar:sn,arg:Bk,asech:Pk,asinh:Ok,atan:I_,atanh:kk,bignumber:ci,bitNot:Rk,boolean:Lk,clone:Uk,combinations:ic,complex:ac,conj:To,cos:cm,cot:Vk,csc:qk,cube:zk,equalScalar:Zt,erf:$k,exp:B_,expm1:Hk,filter:Gk,forEach:Wk,format:Mu,getMatrixDataType:fm,hex:Yk,im:pm,isInteger:Kn,isNegative:Ya,isPositive:Mo,isZero:Hi,LOG2E:jk,lgamma:Zk,log10:Jk,log2:P_,map:Co,multiplyScalar:Yr,not:oc,number:ba,oct:Xk,pickRandom:Qk,print:Kk,random:eR,re:mm,sec:tR,sign:O_,sin:sc,splitUnit:rR,square:nR,string:iR,subtractScalar:Ai,tan:aR,typeOf:k_,acosh:oR,acsch:sR,apply:dm,asec:uR,bin:lR,chain:lJ,combinationsWithRep:cR,cosh:fR,csch:pR,isNaN:Cu,isPrime:mR,randomInt:dR,sech:hR,sinh:gR,sparse:vR,sqrt:Gi,tanh:yR,unaryMinus:sa,acoth:bR,coth:xR,fraction:vs,isNumeric:Fo,matrix:He,matrixFromFunction:wR,mode:_R,numeric:Wi,prod:R_,reshape:L_,size:wn,squeeze:SR,transpose:Fu,xgcd:U_,zeros:_n,asin:DR,cbrt:V_,concat:ar,count:NR,ctranspose:hm,diag:q_,divideScalar:Lr,dotDivide:Iu,equal:Ei,flatten:Bu,hasNumericValue:AR,identity:ja,kron:ER,largerEq:uc,leftShift:TR,lsolve:z_,matrixFromColumns:gm,nthRoot:MR,ones:CR,qr:vm,resize:FR,rightArithShift:IR,round:ys,smaller:qn,subtract:jr,to:BR,unequal:PR,usolve:ym,xor:OR,add:er,atan2:kR,bitAnd:RR,bitOr:LR,bitXor:UR,catalan:VR,compare:Io,compareText:$_,cumsum:qR,deepEqual:bm,diff:zR,distance:$R,dot:lc,equalText:HR,floor:H_,gcd:GR,hypot:WR,larger:zn,log:xm,lsolveAll:YR,matrixFromRows:jR,min:ZR,mod:W_,multiply:hr,nthRoots:JR,or:XR,partitionSelect:cc,rightLogShift:QR,slu:Y_,subset:fi,sum:wm,trace:KR,usolveAll:j_,zpk2tf:e3,ceil:_m,compareNatural:ua,composition:t3,cross:r3,det:Z_,dotMultiply:n3,fix:X_,index:Q_,intersect:i3,invmod:a3,lcm:o3,log1p:s3,max:Sm,setCartesian:u3,setDistinct:l3,setIsSubset:c3,setPowerset:f3,smallerEq:bs,sort:p3,and:m3,range:xs,row:d3,setDifference:K_,setMultiplicity:h3,setSymDifference:eS,column:rS,inv:Bo,lup:nS,pinv:g3,pow:Ti,setIntersect:iS,setUnion:v3,sqrtm:y3,vacuumImpedance:b3,wienDisplacement:x3,atomicMass:w3,bohrMagneton:_3,boltzmann:S3,conductanceQuantum:D3,coulomb:N3,deuteronMass:A3,dotPow:E3,electricConstant:T3,elementaryCharge:M3,expm:C3,faraday:F3,fft:aS,gamma:Dm,gravitationConstant:I3,hartreeEnergy:B3,ifft:P3,klitzing:O3,loschmidt:k3,magneticConstant:R3,molarMass:L3,molarPlanckConstant:U3,neutronMass:V3,nuclearMagneton:q3,planckCharge:z3,planckLength:$3,planckTemperature:H3,protonMass:G3,quantumOfCirculation:W3,reducedPlanckConstant:Y3,rydberg:j3,secondRadiation:Z3,speedOfLight:J3,stefanBoltzmann:X3,thomsonCrossSection:Q3,avogadro:K3,bohrRadius:eL,createUnit:tL,divide:dn,electronMass:rL,factorial:Pu,firstRadiation:nL,gravity:iL,inverseConductanceQuantum:aL,lusolve:oS,magneticFluxQuantum:oL,molarMassC12:sL,multinomial:uL,parse:wa,permutations:lL,planckMass:cL,polynomialRoot:fL,resolve:LL,setSize:pL,simplifyConstant:hS,solveODE:mL,stirlingS2:sS,unit:dL,bellNumbers:hL,compile:gS,eigs:uS,fermiCoupling:gL,gasConstant:vL,kldivergence:yL,mean:lS,molarVolume:bL,planckConstant:xL,quantileSeq:wL,simplifyCore:vS,variance:Nm,classicalElectronRadius:_L,evaluate:yS,median:cS,simplify:Em,symbolicEqual:cJ,corr:SL,freqz:DL,leafCount:fJ,mad:NL,parser:pJ,rationalize:mJ,std:AL,zeta:EL,derivative:dJ,norm:Am,rotationMatrix:fS,help:hJ,planckTime:TL,schur:pS,rotate:ML,sylvester:mS,lyap:CL,config:Ce});Cr(ku,Ou,{filter:o_({typed:ee}),forEach:s_({typed:ee}),map:l_({typed:ee}),apply:i_({isInteger:Kn,typed:ee}),or:N_({DenseMatrix:Ht,concat:ar,equalScalar:Zt,matrix:He,typed:ee}),and:D_({add:er,concat:ar,equalScalar:Zt,matrix:He,not:oc,typed:ee,zeros:_n}),concat:g_({isInteger:Kn,matrix:He,typed:ee}),max:c_({config:Ce,larger:zn,numeric:Wi,typed:ee}),print:S_({add:er,matrix:He,typed:ee,zeros:_n}),bitAnd:A_({add:er,concat:ar,equalScalar:Zt,matrix:He,not:oc,typed:ee,zeros:_n}),diff:v_({bignumber:ci,matrix:He,number:ba,subtract:jr,typed:ee}),min:p_({config:Ce,numeric:Wi,smaller:qn,typed:ee}),subset:h_({add:er,matrix:He,typed:ee,zeros:_n}),bitOr:E_({DenseMatrix:Ht,concat:ar,equalScalar:Zt,matrix:He,typed:ee}),cumsum:w_({add:er,typed:ee,unaryPlus:lm}),index:u_({Index:Fn,getMatrixDataType:fm}),sum:b_({add:er,config:Ce,numeric:Wi,typed:ee}),range:m_({bignumber:ci,matrix:He,add:er,config:Ce,isPositive:Mo,larger:zn,largerEq:uc,smaller:qn,smallerEq:bs,typed:ee}),row:d_({Index:Fn,matrix:He,range:xs,typed:ee}),column:a_({Index:Fn,matrix:He,range:xs,typed:ee}),mean:f_({add:er,divide:dn,typed:ee}),quantileSeq:x_({add:er,bignumber:ci,compare:Io,divide:dn,isInteger:Kn,larger:zn,multiply:hr,partitionSelect:cc,smaller:qn,smallerEq:bs,subtract:jr,typed:ee}),variance:__({add:er,apply:dm,divide:dn,isNaN:Cu,multiply:hr,subtract:jr,typed:ee}),std:y_({map:Co,sqrt:Gi,typed:ee,variance:Nm})});Cr(FL,{BigNumber:Ye,Complex:Dr,Fraction:Eo,Matrix:nc,Node:$n,ObjectNode:Ru,OperatorNode:Za,ParenthesisNode:ws,Range:xk,RelationalNode:IL,ResultSet:C_,ArrayNode:Lu,BlockNode:BL,ConditionalNode:PL,ConstantNode:Po,DenseMatrix:Ht,RangeNode:OL,Chain:dS,FunctionAssignmentNode:kL,SparseMatrix:xa,IndexNode:Uu,ImmutableDenseMatrix:G_,Index:Fn,AccessorNode:Vu,AssignmentNode:RL,FibonacciHeap:J_,Spa:tS,Unit:It,SymbolNode:Oo,FunctionNode:ko,Help:UL,Parser:VL});dS.createProxy(Ou);var Tm=class extends ma{constructor(e){super(e),this.hidden=!1,this.hasError=!1}buildVariables(){var t;let e=0;this.expressionStr="",this.variables=[];for(let n of(t=this.base.getDeclaration().templateDeclaration)!=null?t:[])if(typeof n!="string"){let i={bindTargetDeclaration:n,inputSignal:new Xr(void 0),uuid:Tr(),contextName:`MB_VAR_${e}`};this.variables.push(i),this.expressionStr+=i.contextName,e+=1}else this.expressionStr+=n;this.expression=gS(this.expressionStr)}buildMathJSContext(){var t,n;let e={};for(let i of(t=this.variables)!=null?t:[])!i.contextName||!i.inputSignal||(e[i.contextName]=(n=i.inputSignal.get())!=null?n:"");return e}computeValue(){var t;if(this.hasError=!1,!this.expression)return this.handleComputeError(new Qi({errorLevel:"ERROR",effect:"failed to evaluate expression",cause:"expression is undefined"}));let e=this.buildMathJSContext();try{return bi((t=this.expression.evaluate(e))==null?void 0:t.toString())}catch(n){return n instanceof Error?this.handleComputeError(new Qi({errorLevel:"ERROR",effect:"failed to evaluate expression",cause:n,context:{expression:this.expressionStr,context:e}})):this.handleComputeError(new Error("failed to evaluate js expression because of: unexpected thrown value"))}}onInitialRender(e){}onRerender(e,t){this.hasError?vt.addClass(e,"mb-error"):vt.removeClass(e,"mb-error"),e.innerText=t}handleComputeError(e){return this.hasError=!0,console.warn(e),e.message}};var Mm=class extends ma{constructor(e){super(e),this.renderMarkdown=!1}buildVariables(){var t;this.textParts=[];let e=0;this.variables=[];for(let n of(t=this.base.getDeclaration().templateDeclaration)!=null?t:[])if(typeof n!="string"){let i={bindTargetDeclaration:n,inputSignal:new Xr(void 0),uuid:Tr(),contextName:`MB_VAR_${e}`};this.variables.push(i),this.textParts.push(e),e+=1}else this.textParts.push(n)}computeValue(){if(!this.textParts)throw new Qi({errorLevel:"CRITICAL",effect:"failed to evaluate text view field",cause:"content parts is undefined"});return this.textParts.map(e=>typeof e=="number"?uf(this.variables[e].inputSignal.get(),this.base.plugin.settings.viewFieldDisplayNullAsEmpty):e).join("")}onInitialRender(e){var t,n;this.renderMarkdown=(n=(t=this.base.getArgument("renderMarkdown"))==null?void 0:t.value)!=null?n:!1,this.renderMarkdown&&vt.addClass(e,"mb-view-markdown")}onRerender(e,t){return St(this,null,function*(){var n;this.renderMarkdown?((n=this.markdownUnloadCallback)==null||n.call(this),this.markdownUnloadCallback=yield this.base.plugin.internal.renderMarkdown(t,e,this.base.getFilePath())):e.innerText=t})}onUnmount(){var e;super.onUnmount(),(e=this.markdownUnloadCallback)==null||e.call(this)}};function gJ(r){let e,t,n;return{c(){e=re("div"),t=re("img"),z(t,"class","mb-image-card-image"),Oi(t.src,n=r[0].internal.imagePathToUri(r[1]))||z(t,"src",n),z(t,"alt",r[1]),z(e,"class","mb-image-card")},m(i,a){Z(i,e,a),ae(e,t)},p(i,[a]){a&3&&!Oi(t.src,n=i[0].internal.imagePathToUri(i[1]))&&z(t,"src",n),a&2&&z(t,"alt",i[1])},i:Ke,o:Ke,d(i){i&&j(e)}}}function vJ(r,e,t){let{plugin:n}=e,{image:i}=e;return r.$$set=a=>{"plugin"in a&&t(0,n=a.plugin),"image"in a&&t(1,i=a.image)},[n,i]}var bS=class extends et{constructor(e){super(),it(this,e,vJ,gJ,nt,{plugin:0,image:1})}},qL=bS;function zL(r,e,t){let n=r.slice();return n[2]=e[t],n}function $L(r){let e,t;return e=new qL({props:{plugin:r[1],image:r[2]}}),{c(){Re(e.$$.fragment)},m(n,i){Oe(e,n,i),t=!0},p(n,i){let a={};i&2&&(a.plugin=n[1]),i&1&&(a.image=n[2]),e.$set(a)},i(n){t||(ne(e.$$.fragment,n),t=!0)},o(n){ue(e.$$.fragment,n),t=!1},d(n){ke(e,n)}}}function yJ(r){let e,t,n=ft(r[0]),i=[];for(let o=0;o<n.length;o+=1)i[o]=$L(zL(r,n,o));let a=o=>ue(i[o],1,1,()=>{i[o]=null});return{c(){e=re("div");for(let o=0;o<i.length;o+=1)i[o].c();z(e,"class","mb-image-card-grid")},m(o,c){Z(o,e,c);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(e,null);t=!0},p(o,[c]){if(c&3){n=ft(o[0]);let u;for(u=0;u<n.length;u+=1){let s=zL(o,n,u);i[u]?(i[u].p(s,c),ne(i[u],1)):(i[u]=$L(s),i[u].c(),ne(i[u],1),i[u].m(e,null))}for(Bt(),u=n.length;u<i.length;u+=1)a(u);Pt()}},i(o){if(!t){for(let c=0;c<n.length;c+=1)ne(i[c]);t=!0}},o(o){i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)ue(i[c]);t=!1},d(o){o&&j(e),Qt(i,o)}}}function bJ(r,e,t){let{images:n=[]}=e,{plugin:i}=e;return r.$$set=a=>{"images"in a&&t(0,n=a.images),"plugin"in a&&t(1,i=a.plugin)},[n,i]}var xS=class extends et{constructor(e){super(),it(this,e,bJ,yJ,nt,{images:0,plugin:1})}},wS=xS;var Cm=class extends ma{constructor(e){super(e)}buildVariables(){let e=this.base.getDeclaration().templateDeclaration.filter(n=>typeof n=="string"?n:!0);if(e.length!==1)throw new io({errorLevel:"ERROR",effect:"can not create view field",cause:"image view filed only supports exactly a single bind target and not text content"});let t=e[0];if(typeof t=="string")throw new io({errorLevel:"ERROR",effect:"can not create view field",cause:"image view filed only supports exactly a single bind target and not text content"});t.listenToChildren=!0,this.variables=[{bindTargetDeclaration:t,inputSignal:new Xr(void 0),uuid:Tr(),contextName:"MB_VAR_0"}]}computeValue(){if(this.variables.length!==1)throw new Qi({errorLevel:"CRITICAL",effect:"failed to evaluate image view field",cause:"there should be exactly one variable"});let t=this.variables[0].inputSignal.get();return typeof t=="string"?rn.convertToLinkString(t):Array.isArray(t)?t.filter(i=>typeof i=="string").map(i=>rn.convertToLinkString(i)).filter(i=>i!=="").join(", "):""}onInitialRender(e){this.component=new wS({target:e,props:{images:[],plugin:this.base.plugin}})}onRerender(e,t){return St(this,null,function*(){var i;let n=rn.parseLinkList(t);(i=this.component)==null||i.$destroy(),this.component=new wS({target:e,props:{images:n.map(a=>a.target),plugin:this.base.plugin}})})}onUnmount(){var e;super.onUnmount(),(e=this.component)==null||e.$destroy()}};var Fm=class{constructor(e){this.plugin=e}createViewField(e){let t=e.declaration.viewFieldType;if(t==="math")return new Tm(e);if(t==="text")return new Mm(e);if(t==="link")return new Qf(e);if(t==="image")return new Cm(e);}};var Ro=class r{constructor(e){this.path=e}get(e){if(this.path.length===0)throw new Error("can not use empty path to access object");let t=this.path[0].get(e);for(let n of this.path.slice(1))t=n.get(t.child);return t}tryGet(e){try{return this.get(e)}catch(t){return}}set(e,t){if(this.path.length===0)throw new Error("can not use empty path to access object");let n=this.path[0].get(e);for(let i of this.path.slice(1))n=i.get(n.child);n.access.set(n.parent,t)}setAndCreate(e,t){if(this.path.length===0)throw new Error("can not use empty path to access object");let n=this.path[0].get(e);n.child===void 0&&(n.access.set(n.parent,this.getNextPathElementValue(0,t)),n=n.access.get(n.parent));for(let i=1;i<this.path.length;i++)n=this.path[i].get(n.child),n.child===void 0&&(n.access.set(n.parent,this.getNextPathElementValue(i,t)),n=n.access.get(n.parent));n.access.set(n.parent,t)}getNextPathElement(e){return this.path[e+1]}getNextPathElementValue(e,t){let n=this.getNextPathElement(e);return n===void 0?t:n.type==="object"?{}:[]}toStringArray(){return this.path.map(e=>e.prop)}toString(){return this.toStringArray().join(".")}concat(e){return new r(this.path.concat(e.path))}};var Im=class{constructor(e){this.plugin=e}fromString(e){return Dn(fa,e)}fromStringAndValidate(e,t,n){return this.validate(e,this.fromString(e),t,n)}fromSimpleDeclaration(e){return{storageType:e.storageType?{value:e.storageType}:void 0,storagePath:e.storagePath?{value:e.storagePath}:void 0,storageProp:e.storageProp.map(t=>({type:t.type,prop:{value:t.prop}})),listenToChildren:e.listenToChildren}}fromSimpleDeclarationAndValidate(e,t,n){return this.validate(void 0,this.fromSimpleDeclaration(e),t,n)}validate(e,t,n,i){var s;let a={};a.listenToChildren=t.listenToChildren,a.storageProp=new Ro(t.storageProp.map(l=>new Qo(l.type,l.prop.value))),t.storageType===void 0?a.storageType=this.plugin.metadataManager.defaultSource:a.storageType=this.validateStorageType(t.storageType,e);let o=t.storagePath!==void 0,c=(s=t.storagePath)!=null?s:{value:n},u=this.plugin.metadataManager.getSource(a.storageType);if(u===void 0)throw new vr({errorLevel:"CRITICAL",effect:"can not validate bind target",cause:`Source '${a.storageType}' not found. But validation was successful. This should not happen.`,context:{fullDeclaration:e,sources:[...this.plugin.metadataManager.sources.keys()]}});return a.storagePath=u.validateStoragePath(c,o,e,this),u.resolveBindTargetScope(a,i,this)}resolveScope(e,t){if(t===void 0)throw new ln("ERROR","Bind Target Scope Validator","Failed to resolve bind target scope, no scope provided");return e.storageType=t.scope.storageType,e.storagePath=t.scope.storagePath,e.storageProp=t.scope.storageProp.concat(e.storageProp),e}validateStorageType(e,t){for(let n of this.plugin.metadataManager.iterateSources())if(n===e.value)return n;throw new ln("ERROR","Bind Target Validator",`Encountered invalid identifier. Expected token to be a storage type but received '${e==null?void 0:e.value}'.`,t,e==null?void 0:e.position)}validateStoragePathAsFilePath(e,t){let n=e==null?void 0:e.value;if(n===void 0)throw new ln("ERROR","Bind Target Validator","Failed to parse bind target. Bind target storage path is undefined.",t,e==null?void 0:e.position);let i=this.plugin.internal.getFilePathByName(n);if(i===void 0)throw new ln("ERROR","Bind Target Validator",`Failed to parse bind target. Bind target file path '${n}' not found.`,t,e==null?void 0:e.position);return i}};var qu=class{constructor(){this.arguments=[]}add(e){this.arguments.push(e)}validate(){let e={};for(let t of Object.values(Zr))e[t]=0;for(let t of this.arguments){let n=t.getConfig();if(e[n.type]+=1,e[n.type]>1&&!n.allowMultiple)throw new Hr({errorLevel:"ERROR",effect:"failed to validate argument container",cause:`argument '${n.type}' does not allow duplicates`,docs:[kr.linkToSearch(n.type)]})}}mergeByOverride(e){for(let t of e.arguments){let n=t.getConfig();n.allowMultiple||(this.arguments=this.arguments.filter(i=>i.getConfig().type!==n.type)),this.arguments.push(t)}return this.validate(),this}mergeByThrow(e){for(let t of e.arguments){let n=t.getConfig();if(!n.allowMultiple&&this.arguments.filter(i=>i.getConfig().type===n.type).length>0)throw new Hr({errorLevel:"ERROR",effect:"failed to merge argument container",cause:"can not merge FieldArgumentContainers, since arguments overlap"});this.arguments.push(t)}return this.validate(),this}getAll(e){return this.arguments.filter(t=>t.getConfig().type===e)}get(e){return this.getAll(e).at(0)}};var Bm=class extends qu{getAll(e){return super.getAll(e)}get(e){return this.getAll(e).at(0)}};var zu=class{parseValue(e){this.validateValues(e,this.getConfig().values),this._parseValue(e)}validateValues(e,t){if(t.find(n=>n.length===e.length)===void 0)throw new Hr({errorLevel:"WARNING",effect:`Failed to parse argument value for argument '${this.getConfig().type}'.`,cause:`Expected argument values to follow the form ${t.map(n=>n.length===0?"none":n.map(i=>`'${i.name}'`).join(", ")).join(" or ")}. Received arguments of length ${e.length}.`,docs:[kr.linkToSearch(this.getConfig().type)]})}isAllowed(e){return this.getConfig().allowedFieldTypes.length===0?!0:this.getConfig().allowedFieldTypes.includes(e)}getAllowedFieldsAsString(){return this.getConfig().allowedFieldTypes.length===0?"all":this.getConfig().allowedFieldTypes.join(", ")}};var or=class extends zu{};var Pm=class extends or{constructor(){super(...arguments);this.value=!0}_parseValue(t){var n;this.value=t[0]===void 0||((n=t[0])==null?void 0:n.value.toLowerCase())==="true"}getConfig(){return fr.addLabels}};var Om=class extends or{constructor(){super(...arguments);this.value=[]}_parseValue(t){this.value=t[0].value.split(" ")}getConfig(){return fr.class}};var km=class extends or{constructor(){super(...arguments);this.value=""}_parseValue(t){this.value=bi(t[0].value)}getConfig(){return fr.defaultValue}};var Rm=class extends or{constructor(){super(...arguments);this.value=void 0}_parseValue(t){if(this.value=Number.parseInt(t[0].value),Number.isNaN(this.value))throw new Hr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'limit' must be of type number",docs:[kr.linkToInputFieldArgument(this.getConfig().type)]});if(this.value<=0)throw new Hr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'limit' must be a positive number",docs:[kr.linkToInputFieldArgument(this.getConfig().type)]})}getConfig(){return fr.limit}};var Lm=class extends or{constructor(){super(...arguments);this.value=100}_parseValue(t){if(this.value=Number.parseFloat(t[0].value),Number.isNaN(this.value))throw new Hr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'maxValue' must be of type number",docs:[kr.linkToInputFieldArgument(this.getConfig().type)]})}getConfig(){return fr.maxValue}};var Um=class extends or{constructor(){super(...arguments);this.value=0}_parseValue(t){if(this.value=Number.parseFloat(t[0].value),Number.isNaN(this.value))throw new Hr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'minValue' must be of type number",docs:[kr.linkToInputFieldArgument(this.getConfig().type)]})}getConfig(){return fr.minValue}};var Vm=class extends or{constructor(){super(...arguments);this.value=!1}_parseValue(t){this.value=bi(t[0].value)}getConfig(){return fr.offValue}};var qm=class extends or{constructor(){super(...arguments);this.value=!0}_parseValue(t){this.value=bi(t[0].value)}getConfig(){return fr.onValue}};var zm=class extends or{constructor(){super(...arguments);this.value="";this.name=""}_parseValue(t){t.length===1?(this.value=bi(t[0].value),this.name=t[0].value):t.length===2&&(this.value=bi(t[0].value),this.name=t[1].value)}getConfig(){return fr.option}};var $m=class extends or{constructor(){super(...arguments);this.value=""}_parseValue(t){this.value=t[0].value}getConfig(){return fr.optionQuery}};var Hm=class extends or{constructor(){super(...arguments);this.value=""}_parseValue(t){this.value=t[0].value}getConfig(){return fr.placeholder}};var Gm=class extends or{constructor(){super(...arguments);this.value=!0}_parseValue(t){var n;this.value=t[0]===void 0||((n=t[0])==null?void 0:n.value.toLowerCase())==="true"}getConfig(){return fr.showcase}};var Wm=class extends or{constructor(){super(...arguments);this.value=0}_parseValue(t){if(this.value=Number.parseFloat(t[0].value),Number.isNaN(this.value))throw new Hr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'stepSize' must be of type number",docs:[kr.linkToInputFieldArgument(this.getConfig().type)]});if(this.value<=0)throw new Hr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'stepSize' must be a positive number",docs:[kr.linkToInputFieldArgument(this.getConfig().type)]})}getConfig(){return fr.stepSize}};var Ym=class extends or{constructor(){super(...arguments);this.value=""}_parseValue(t){this.value=t[0].value}getConfig(){return fr.title}};var jm=class extends or{constructor(){super(...arguments);this.value="true"}_parseValue(t){var i;let n=(i=t[0])==null?void 0:i.value.toLowerCase();if(n===void 0){this.value="true";return}if(n==="true"||n==="partial"||n==="false"){this.value=n;return}throw new Hr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:`value of argument 'useLinks' must be one of ${MD(["true","partial","false"],a=>`'${a}'`,", ","or")}`,docs:[kr.linkToInputFieldArgument(this.getConfig().type)]})}getConfig(){return fr.useLinks}};var Zm=class extends or{constructor(){super(...arguments);this.value=!0}_parseValue(t){var n;this.value=t[0]===void 0||((n=t[0])==null?void 0:n.value.toLowerCase())==="true"}getConfig(){return fr.multiLine}};var Jm=class extends or{constructor(){super(...arguments);this.value=!0}_parseValue(t){var n;this.value=t[0]===void 0||((n=t[0])==null?void 0:n.value.toLowerCase())==="true"}getConfig(){return fr.allowOther}};var HL={class:Om,addLabels:Pm,minValue:Um,maxValue:Lm,stepSize:Wm,option:zm,title:Ym,optionQuery:$m,showcase:Gm,offValue:Vm,onValue:qm,defaultValue:km,placeholder:Hm,useLinks:jm,limit:Rm,allowOther:Jm,multiLine:Zm},Xm=class{static createInputFieldArgument(e){if(e in HL){let t=HL[e];if(t)return new t}throw new Fa({errorLevel:"WARNING",effect:"can not crate input field argument",cause:`unknown argument '${e}'`})}};var Qm=class{constructor(e,t,n){this.plugin=e,this.unvalidatedDeclaration=t,this.filePath=n,this.errorCollection=new Kt("input field declaration")}validate(e){let t=this.validateInputFieldType(),n=this.validateBindTarget(e),i=this.validateArguments(t),a={declarationString:this.unvalidatedDeclaration.declarationString,inputFieldType:t,bindTarget:n,argumentContainer:i,errorCollection:this.errorCollection.merge(this.unvalidatedDeclaration.errorCollection)};return this.checkForDeprecation(a),a}validateInputFieldType(){let e=this.unvalidatedDeclaration.inputFieldType;for(let t of Object.entries(ao))if(t[1]===(e==null?void 0:e.value))return t[1];return this.errorCollection.add(new ln("ERROR","Declaration Validator",`Encountered invalid identifier. Expected token to be an input field type but received '${e==null?void 0:e.value}'.`,this.unvalidatedDeclaration.declarationString,e==null?void 0:e.position)),"invalid"}checkForDeprecation(e){}validateBindTarget(e){if(this.unvalidatedDeclaration.bindTarget!==void 0)try{return this.plugin.api.bindTargetParser.validate(this.unvalidatedDeclaration.declarationString,this.unvalidatedDeclaration.bindTarget,this.filePath,e)}catch(t){this.errorCollection.add(t)}}validateArguments(e){let t=new Bm;for(let n of this.unvalidatedDeclaration.arguments){let i=this.validateArgumentType(n.name);if(i==="invalid")continue;let a=Xm.createInputFieldArgument(i);if(!a.isAllowed(e)){this.errorCollection.add(new ln("WARNING","Declaration Validator",`Failed to parse input field arguments. Argument "${n.name.value}" is only applicable to "${a.getAllowedFieldsAsString()}" input fields.`,this.unvalidatedDeclaration.declarationString,n.name.position));continue}try{a.parseValue(n.value)}catch(o){this.errorCollection.add(o);continue}t.add(a)}try{t.validate()}catch(n){this.errorCollection.add(n)}return t}validateArgumentType(e){for(let t of Object.entries(Zr))if(t[1]===e.value)return t[1];return this.errorCollection.add(new ln("WARNING","Declaration Validator",`Encountered invalid identifier. Expected identifier to be an input field argument type but received '${e.value}'.`,this.unvalidatedDeclaration.declarationString,e.position)),"invalid"}};var Hn=dr(gi()),Br=dr(ni());var xJ=Br.P.sequenceMap((r,e,t)=>{let n=t===void 0?void 0:t[1];return{inputFieldType:r,arguments:e,bindTarget:n}},Pn.node(jn).trim(Hn.P_UTILS.optionalWhitespace()).describe("input field type"),dl.trim(Hn.P_UTILS.optionalWhitespace()).wrap(Br.P.string("(").describe('arguments paren "("'),Br.P.string(")").describe('arguments paren ")"')).trim(Hn.P_UTILS.optionalWhitespace()).optional([]),Br.P.sequence(Br.P.string(":").trim(Hn.P_UTILS.optionalWhitespace()).describe('bind target separator ":"'),fa).trim(Hn.P_UTILS.optionalWhitespace()).optional()),GL=Br.P.sequenceMap((r,e,t)=>{let n=t===void 0?void 0:t[1];return{inputFieldType:r,arguments:e,bindTarget:n}},Pn.node(jn).trim(Hn.P_UTILS.optionalWhitespace()).optional().describe("input field type"),dl.trim(Hn.P_UTILS.optionalWhitespace()).wrap(Br.P.string("(").describe('arguments paren "("'),Br.P.string(")").describe('arguments paren ")"')).trim(Hn.P_UTILS.optionalWhitespace()).optional([]),Br.P.sequence(Br.P.string(":").trim(Hn.P_UTILS.optionalWhitespace()).describe('bind target separator ":"'),fa).trim(Hn.P_UTILS.optionalWhitespace()).optional()),WL=Br.P.or(Br.P.sequenceMap((r,e,t)=>(t.templateName=e,t),Br.P.string("INPUT"),Br.P.sequenceMap((r,e,t)=>e,Br.P.string("["),OD.node(jn).trim(Hn.P_UTILS.optionalWhitespace()).describe("template name"),Br.P.string("]").skip(Hn.P_UTILS.optionalWhitespace())),GL.wrap(Br.P.string("["),Br.P.string("]")),Hn.P_UTILS.eof()),Br.P.sequenceMap((r,e)=>e,Br.P.string("INPUT"),xJ.wrap(Br.P.string("["),Br.P.string("]")),Hn.P_UTILS.eof())),YL=Br.P.sequenceMap((r,e)=>e,Br.P.string("INPUT"),GL.wrap(Br.P.string("["),Br.P.string("]")),Hn.P_UTILS.eof());var Km=class{constructor(e){this.plugin=e,this.templates=[]}fromString(e){let t=new Kt("InputField");try{let n=Dn(WL,e),i=this.partialToFullDeclaration(n,e,t);return i=this.applyTemplate(i),i}catch(n){t.add(n)}return{declarationString:e,inputFieldType:{value:"invalid"},bindTarget:void 0,arguments:[],errorCollection:t}}fromStringAndValidate(e,t,n){return this.validate(this.fromString(e),t,n)}fromSimpleDeclaration(e){var n;let t=new Kt("InputField");return{declarationString:void 0,inputFieldType:e.inputFieldType?{value:e.inputFieldType}:void 0,bindTarget:e.bindTarget?this.plugin.api.bindTargetParser.fromSimpleDeclaration(e.bindTarget):void 0,arguments:((n=e.arguments)!=null?n:[]).map(i=>({name:{value:i.name},value:i.value.map(a=>({value:a}))})),errorCollection:t}}fromSimpleDeclarationAndValidate(e,t,n){return this.validate(this.fromSimpleDeclaration(e),t,n)}partialToFullDeclaration(e,t,n){return _t(Me({},structuredClone(e)),{declarationString:t,errorCollection:n})}validate(e,t,n){return new Qm(this.plugin,e,t).validate(n)}merge(e,t){var i,a,o;let n;return e.bindTarget===void 0?n=t.bindTarget:(n=e.bindTarget,((i=t.bindTarget)==null?void 0:i.storagePath)!==void 0&&(n.storagePath=t.bindTarget.storagePath),((a=t.bindTarget)==null?void 0:a.storageProp)!==void 0&&(n.storageProp=t.bindTarget.storageProp)),{declarationString:t.declarationString,inputFieldType:(o=t.inputFieldType)!=null?o:e.inputFieldType,bindTarget:n,arguments:t.arguments.concat(e.arguments).reduce((c,u)=>(c.find(s=>s.name===u.name)===void 0&&c.push(u),c),[]),errorCollection:new Kt("input field declaration").merge(e.errorCollection).merge(t.errorCollection)}}parseTemplateString(e){let t=new Kt("InputFieldParser");try{let n=Dn(YL,e);return this.partialToFullDeclaration(n,e,t)}catch(n){t.add(n)}return{declarationString:e,inputFieldType:{value:"invalid"},bindTarget:void 0,arguments:[],errorCollection:t}}parseTemplates(e){this.templates=[];let t=new Kt("input field template parser");for(let n of e){let i=this.parseTemplateString(n.declaration);t.merge(i.errorCollection);let a={name:n.name,template:i};this.templates.push(hh(a))}return t}getTemplate(e){var t;return(t=this.templates.find(n=>n.name===e))==null?void 0:t.template}applyTemplate(e){if(e.templateName===void 0)return e;let t=this.getTemplate(e.templateName.value);return t===void 0?(e.errorCollection.add(new ln("WARNING","Input Field Parser",`Invalid template name. Could not find template with name '${e.templateName.value}'`,e.declarationString,e.templateName.position,["https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/guides/templates/"])),e):this.merge(t,e)}};var ed=class extends qu{getAll(e){return super.getAll(e)}get(e){return this.getAll(e).at(0)}};var $u=class extends zu{};var td=class extends $u{constructor(){super(...arguments);this.value=!0}_parseValue(t){var n;this.value=t[0]===void 0||((n=t[0])==null?void 0:n.value.toLowerCase())==="true"}getConfig(){return af.hidden}};var rd=class extends $u{constructor(){super(...arguments);this.value=!0}_parseValue(t){var n;this.value=t[0]===void 0||((n=t[0])==null?void 0:n.value.toLowerCase())==="true"}getConfig(){return af.renderMarkdown}};var jL={renderMarkdown:rd,hidden:td},nd=class{static createViewFieldArgument(e){if(e in jL){let t=jL[e];if(t)return new t}throw new Fa({errorLevel:"WARNING",effect:"can not crate view field argument",cause:`unknown argument '${e}'`})}};var id=class{constructor(e,t,n){this.unvalidatedDeclaration=e,this.plugin=n,this.filePath=t,this.errorCollection=new Kt("view field declaration")}validate(e){let t=this.validateInputFieldType(),n=this.validateBindTarget(e),i=this.validateArguments(t),a=this.validateTemplateDeclaration(e),o={declarationString:this.unvalidatedDeclaration.declarationString,viewFieldType:t,writeToBindTarget:n,argumentContainer:i,templateDeclaration:a,errorCollection:this.errorCollection.merge(this.unvalidatedDeclaration.errorCollection)};return this.checkForDeprecation(o),o}validateInputFieldType(){let e=this.unvalidatedDeclaration.viewFieldType;if(e===void 0)return"math";for(let t of Object.entries(hl))if(t[1]===(e==null?void 0:e.value))return t[1];return this.errorCollection.add(new ln("ERROR","Declaration Validator",`Encountered invalid identifier. Expected token to be a view field type but received '${e.value}'.`,this.unvalidatedDeclaration.declarationString,e.position)),"invalid"}checkForDeprecation(e){}validateBindTarget(e){if(this.unvalidatedDeclaration.writeToBindTarget!==void 0)return this.plugin.api.bindTargetParser.validate(this.unvalidatedDeclaration.declarationString,this.unvalidatedDeclaration.writeToBindTarget,this.filePath,e)}validateArguments(e){let t=new ed;for(let n of this.unvalidatedDeclaration.arguments){let i=this.validateArgumentType(n.name);if(i==="invalid")continue;let a=nd.createViewFieldArgument(i);if(!a.isAllowed(e)){this.errorCollection.add(new ln("WARNING","Declaration Validator",`Failed to parse view field arguments. Argument "${n.name.value}" is only applicable to "${a.getAllowedFieldsAsString()}" view fields.`,this.unvalidatedDeclaration.declarationString,n.name.position));continue}try{a.parseValue(n.value)}catch(o){this.errorCollection.add(o);continue}t.add(a)}try{t.validate()}catch(n){this.errorCollection.add(n)}return t}validateArgumentType(e){for(let t of Object.entries(Qs))if(t[1]===e.value)return t[1];return this.errorCollection.add(new ln("WARNING","Declaration Validator",`Encountered invalid identifier. Expected identifier to be a view field argument type but received '${e.value}'.`,this.unvalidatedDeclaration.declarationString,e.position)),"invalid"}validateTemplateDeclaration(e){var t,n;try{return(n=(t=this.unvalidatedDeclaration.templateDeclaration)==null?void 0:t.map(i=>typeof i=="string"?i:this.plugin.api.bindTargetParser.validate(this.unvalidatedDeclaration.declarationString,i,this.filePath,e)))!=null?n:[]}catch(i){return this.errorCollection.add(i),[]}}};var ad=class{constructor(e){this.plugin=e}fromString(e){let t=new Kt("ViewFieldDeclaration");try{let n=Dn(qD,e);return this.partialToFullDeclaration(n,e,t)}catch(n){t.add(n)}return{declarationString:e,errorCollection:t,viewFieldType:{value:"invalid"},writeToBindTarget:void 0,arguments:[],templateDeclaration:[]}}fromStringAndValidate(e,t,n){return this.validate(this.fromString(e),t,n)}fromSimpleDeclaration(e){var n,i;let t=new Kt("ViewFieldDeclaration");return{declarationString:void 0,templateDeclaration:((n=e.templateDeclaration)!=null?n:[]).map(a=>typeof a=="string"?a:this.plugin.api.bindTargetParser.fromSimpleDeclaration(a)),viewFieldType:e.viewFieldType?{value:e.viewFieldType}:void 0,arguments:((i=e.arguments)!=null?i:[]).map(a=>({name:{value:a.name},value:a.value.map(o=>({value:o}))})),writeToBindTarget:e.writeToBindTarget?this.plugin.api.bindTargetParser.fromSimpleDeclaration(e.writeToBindTarget):void 0,errorCollection:t}}fromSimpleDeclarationAndValidate(e,t,n){return this.validate(this.fromSimpleDeclaration(e),t,n)}partialToFullDeclaration(e,t,n){return _t(Me({},structuredClone(e)),{declarationString:t,errorCollection:n})}validate(e,t,n){return new id(e,t,this.plugin).validate(n)}};var od=class extends On{constructor(e,t,n,i,a){super(e,t,n),this.depth=i,this.content=a}parseContent(){return St(this,null,function*(){let e=this.content.split(`
`).map(a=>a.trim()).filter(a=>a.length>0);if(e.length===0)return"";if(e.length>1)throw new Jo({errorLevel:"ERROR",effect:"can not create embed",cause:"embed may only contain one link"});let t=e[0],n=rn.parseLink(t);if(!n.internal)throw new Jo({errorLevel:"ERROR",effect:"can not create embed",cause:"embed link is not an internal link"});let i=this.plugin.internal.getFilePathByName(n.target,this.getFilePath());if(i===void 0)throw new Jo({errorLevel:"ERROR",effect:"can not create embed",cause:"link target not found"});return yield this.plugin.internal.readFilePath(i)})}checkMaxDepth(){if(this.depth>of)throw new Jo({errorLevel:"ERROR",effect:"can not create embed",cause:"embed depth exceeds maximum"})}renderContent(e){return St(this,null,function*(){try{this.checkMaxDepth();let n=(yield this.parseContent()).replace(/(```+|~~~+)meta-bind-embed.*/g,`$1meta-bind-embed-internal-${this.depth+1}`);this.markdownUnloadCallback=yield this.plugin.internal.renderMarkdown(n,e,this.getFilePath())}catch(t){let n=new Kt("Embed");n.add(t),this.plugin.internal.createErrorIndicator(e,{errorCollection:n})}})}onMount(e){console.log("meta-bind | EmbedBase >> mount",this.content),this.renderContent(e)}onUnmount(e){var t;console.log("meta-bind | EmbedBase >> unmount",this.content),(t=this.markdownUnloadCallback)==null||t.call(this),ti(e,"Embed")}};var sd=class extends On{constructor(e,t,n){super(e,t,n)}onMount(e){console.log("meta-bind | ExcludedBase >> mount"),vt.empty(e),vt.createElement(e,"span",{text:"[META_BIND] This folder has been excluded in the settings",class:"mb-error"})}onUnmount(e){console.log("meta-bind | ExcludedBase >> unmount"),vt.empty(e),ti(e,"Excluded")}};var c4=dr(gi()),hc=dr(ni());var yr;(function(r){r.assertEqual=i=>i;function e(i){}r.assertIs=e;function t(i){throw new Error}r.assertNever=t,r.arrayToEnum=i=>{let a={};for(let o of i)a[o]=o;return a},r.getValidEnumValues=i=>{let a=r.objectKeys(i).filter(c=>typeof i[i[c]]!="number"),o={};for(let c of a)o[c]=i[c];return r.objectValues(o)},r.objectValues=i=>r.objectKeys(i).map(function(a){return i[a]}),r.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{let a=[];for(let o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},r.find=(i,a)=>{for(let o of i)if(a(o))return o},r.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}r.joinValues=n,r.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(yr||(yr={}));var SS;(function(r){r.mergeShapes=(e,t)=>Me(Me({},e),t)})(SS||(SS={}));var lt=yr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Lo=r=>{switch(typeof r){case"undefined":return lt.undefined;case"string":return lt.string;case"number":return isNaN(r)?lt.nan:lt.number;case"boolean":return lt.boolean;case"function":return lt.function;case"bigint":return lt.bigint;case"symbol":return lt.symbol;case"object":return Array.isArray(r)?lt.array:r===null?lt.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?lt.promise:typeof Map!="undefined"&&r instanceof Map?lt.map:typeof Set!="undefined"&&r instanceof Set?lt.set:typeof Date!="undefined"&&r instanceof Date?lt.date:lt.object;default:return lt.unknown}},Qe=yr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),wJ=r=>JSON.stringify(r,null,2).replace(/"([^"]+)":/g,"$1:"),Mi=class extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let t=e||function(a){return a.message},n={_errors:[]},i=a=>{for(let o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(t(o));else{let c=n,u=0;for(;u<o.path.length;){let s=o.path[u];u===o.path.length-1?(c[s]=c[s]||{_errors:[]},c[s]._errors.push(t(o))):c[s]=c[s]||{_errors:[]},c=c[s],u++}}};return i(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,yr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){let t={},n=[];for(let i of this.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}};Mi.create=r=>new Mi(r);var fc=(r,e)=>{let t;switch(r.code){case Qe.invalid_type:r.received===lt.undefined?t="Required":t=`Expected ${r.expected}, received ${r.received}`;break;case Qe.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(r.expected,yr.jsonStringifyReplacer)}`;break;case Qe.unrecognized_keys:t=`Unrecognized key(s) in object: ${yr.joinValues(r.keys,", ")}`;break;case Qe.invalid_union:t="Invalid input";break;case Qe.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${yr.joinValues(r.options)}`;break;case Qe.invalid_enum_value:t=`Invalid enum value. Expected ${yr.joinValues(r.options)}, received '${r.received}'`;break;case Qe.invalid_arguments:t="Invalid function arguments";break;case Qe.invalid_return_type:t="Invalid function return type";break;case Qe.invalid_date:t="Invalid date";break;case Qe.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(t=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?t=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?t=`Invalid input: must end with "${r.validation.endsWith}"`:yr.assertNever(r.validation):r.validation!=="regex"?t=`Invalid ${r.validation}`:t="Invalid";break;case Qe.too_small:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:t="Invalid input";break;case Qe.too_big:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?t=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:t="Invalid input";break;case Qe.custom:t="Invalid input";break;case Qe.invalid_intersection_types:t="Intersection results could not be merged";break;case Qe.not_multiple_of:t=`Number must be a multiple of ${r.multipleOf}`;break;case Qe.not_finite:t="Number must be finite";break;default:t=e.defaultError,yr.assertNever(r)}return{message:t}},XL=fc;function _J(r){XL=r}function ld(){return XL}var cd=r=>{let{data:e,path:t,errorMaps:n,issueData:i}=r,a=[...t,...i.path||[]],o=_t(Me({},i),{path:a}),c="",u=n.filter(s=>!!s).slice().reverse();for(let s of u)c=s(o,{data:e,defaultError:c}).message;return _t(Me({},i),{path:a,message:i.message||c})},SJ=[];function dt(r,e){let t=cd({issueData:e,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,ld(),fc].filter(n=>!!n)});r.common.issues.push(t)}var Gn=class r{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){let n=[];for(let i of t){if(i.status==="aborted")return Wt;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static mergeObjectAsync(e,t){return St(this,null,function*(){let n=[];for(let i of t)n.push({key:yield i.key,value:yield i.value});return r.mergeObjectSync(e,n)})}static mergeObjectSync(e,t){let n={};for(let i of t){let{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return Wt;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value!="undefined"||i.alwaysSet)&&(n[a.value]=o.value)}return{status:e.value,value:n}}},Wt=Object.freeze({status:"aborted"}),QL=r=>({status:"dirty",value:r}),ei=r=>({status:"valid",value:r}),DS=r=>r.status==="aborted",NS=r=>r.status==="dirty",pc=r=>r.status==="valid",fd=r=>typeof Promise!="undefined"&&r instanceof Promise,Tt;(function(r){r.errToObj=e=>typeof e=="string"?{message:e}:e||{},r.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Tt||(Tt={}));var Yi=class{constructor(e,t,n,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},ZL=(r,e)=>{if(pc(e))return{success:!0,data:e.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new Mi(r.common.issues);return this._error=t,this._error}}};function Jt(r){if(!r)return{};let{errorMap:e,invalid_type_error:t,required_error:n,description:i}=r;if(e&&(t||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,c)=>o.code!=="invalid_type"?{message:c.defaultError}:typeof c.data=="undefined"?{message:n!=null?n:c.defaultError}:{message:t!=null?t:c.defaultError},description:i}}var Xt=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Lo(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Lo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Gn,ctx:{common:e.parent.common,data:e.data,parsedType:Lo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(fd(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){let t=this._parse(e);return Promise.resolve(t)}parse(e,t){let n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;let i={common:{issues:[],async:(n=t==null?void 0:t.async)!==null&&n!==void 0?n:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Lo(e)},a=this._parseSync({data:e,path:i.path,parent:i});return ZL(i,a)}parseAsync(e,t){return St(this,null,function*(){let n=yield this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error})}safeParseAsync(e,t){return St(this,null,function*(){let n={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Lo(e)},i=this._parse({data:e,path:n.path,parent:n}),a=yield fd(i)?i:Promise.resolve(i);return ZL(n,a)})}refine(e,t){let n=i=>typeof t=="string"||typeof t=="undefined"?{message:t}:typeof t=="function"?t(i):t;return this._refinement((i,a)=>{let o=e(i),c=()=>a.addIssue(Me({code:Qe.custom},n(i)));return typeof Promise!="undefined"&&o instanceof Promise?o.then(u=>u?!0:(c(),!1)):o?!0:(c(),!1)})}refinement(e,t){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof t=="function"?t(n,i):t),!1))}_refinement(e){return new Ci({schema:this,typeName:Ot.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return la.create(this,this._def)}nullable(){return Qa.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Xa.create(this,this._def)}promise(){return qo.create(this,this._def)}or(e){return Ts.create([this,e],this._def)}and(e){return Ms.create(this,e,this._def)}transform(e){return new Ci(_t(Me({},Jt(this._def)),{schema:this,typeName:Ot.ZodEffects,effect:{type:"transform",transform:e}}))}default(e){let t=typeof e=="function"?e:()=>e;return new Ps(_t(Me({},Jt(this._def)),{innerType:this,defaultValue:t,typeName:Ot.ZodDefault}))}brand(){return new hd(Me({typeName:Ot.ZodBranded,type:this},Jt(this._def)))}catch(e){let t=typeof e=="function"?e:()=>e;return new Zu(_t(Me({},Jt(this._def)),{innerType:this,catchValue:t,typeName:Ot.ZodCatch}))}describe(e){let t=this.constructor;return new t(_t(Me({},this._def),{description:e}))}pipe(e){return mc.create(this,e)}readonly(){return Xu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},DJ=/^c[^\s-]{8,}$/i,NJ=/^[a-z][a-z0-9]*$/,AJ=/^[0-9A-HJKMNP-TV-Z]{26}$/,EJ=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,TJ=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,MJ="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",_S,CJ=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,FJ=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,IJ=r=>r.precision?r.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${r.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${r.precision}}Z$`):r.precision===0?r.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):r.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function BJ(r,e){return!!((e==="v4"||!e)&&CJ.test(r)||(e==="v6"||!e)&&FJ.test(r))}var Uo=class r extends Xt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==lt.string){let a=this._getOrReturnCtx(e);return dt(a,{code:Qe.invalid_type,expected:lt.string,received:a.parsedType}),Wt}let n=new Gn,i;for(let a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),dt(i,{code:Qe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),dt(i,{code:Qe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){let o=e.data.length>a.value,c=e.data.length<a.value;(o||c)&&(i=this._getOrReturnCtx(e,i),o?dt(i,{code:Qe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):c&&dt(i,{code:Qe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")TJ.test(e.data)||(i=this._getOrReturnCtx(e,i),dt(i,{validation:"email",code:Qe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")_S||(_S=new RegExp(MJ,"u")),_S.test(e.data)||(i=this._getOrReturnCtx(e,i),dt(i,{validation:"emoji",code:Qe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")EJ.test(e.data)||(i=this._getOrReturnCtx(e,i),dt(i,{validation:"uuid",code:Qe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")DJ.test(e.data)||(i=this._getOrReturnCtx(e,i),dt(i,{validation:"cuid",code:Qe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")NJ.test(e.data)||(i=this._getOrReturnCtx(e,i),dt(i,{validation:"cuid2",code:Qe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")AJ.test(e.data)||(i=this._getOrReturnCtx(e,i),dt(i,{validation:"ulid",code:Qe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch(o){i=this._getOrReturnCtx(e,i),dt(i,{validation:"url",code:Qe.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),dt(i,{validation:"regex",code:Qe.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),dt(i,{code:Qe.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),dt(i,{code:Qe.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),dt(i,{code:Qe.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?IJ(a).test(e.data)||(i=this._getOrReturnCtx(e,i),dt(i,{code:Qe.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="ip"?BJ(e.data,a.version)||(i=this._getOrReturnCtx(e,i),dt(i,{validation:"ip",code:Qe.invalid_string,message:a.message}),n.dirty()):yr.assertNever(a);return{status:n.value,value:e.data}}_regex(e,t,n){return this.refinement(i=>e.test(i),Me({validation:t,code:Qe.invalid_string},Tt.errToObj(n)))}_addCheck(e){return new r(_t(Me({},this._def),{checks:[...this._def.checks,e]}))}email(e){return this._addCheck(Me({kind:"email"},Tt.errToObj(e)))}url(e){return this._addCheck(Me({kind:"url"},Tt.errToObj(e)))}emoji(e){return this._addCheck(Me({kind:"emoji"},Tt.errToObj(e)))}uuid(e){return this._addCheck(Me({kind:"uuid"},Tt.errToObj(e)))}cuid(e){return this._addCheck(Me({kind:"cuid"},Tt.errToObj(e)))}cuid2(e){return this._addCheck(Me({kind:"cuid2"},Tt.errToObj(e)))}ulid(e){return this._addCheck(Me({kind:"ulid"},Tt.errToObj(e)))}ip(e){return this._addCheck(Me({kind:"ip"},Tt.errToObj(e)))}datetime(e){var t;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck(Me({kind:"datetime",precision:typeof(e==null?void 0:e.precision)=="undefined"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1},Tt.errToObj(e==null?void 0:e.message)))}regex(e,t){return this._addCheck(Me({kind:"regex",regex:e},Tt.errToObj(t)))}includes(e,t){return this._addCheck(Me({kind:"includes",value:e,position:t==null?void 0:t.position},Tt.errToObj(t==null?void 0:t.message)))}startsWith(e,t){return this._addCheck(Me({kind:"startsWith",value:e},Tt.errToObj(t)))}endsWith(e,t){return this._addCheck(Me({kind:"endsWith",value:e},Tt.errToObj(t)))}min(e,t){return this._addCheck(Me({kind:"min",value:e},Tt.errToObj(t)))}max(e,t){return this._addCheck(Me({kind:"max",value:e},Tt.errToObj(t)))}length(e,t){return this._addCheck(Me({kind:"length",value:e},Tt.errToObj(t)))}nonempty(e){return this.min(1,Tt.errToObj(e))}trim(){return new r(_t(Me({},this._def),{checks:[...this._def.checks,{kind:"trim"}]}))}toLowerCase(){return new r(_t(Me({},this._def),{checks:[...this._def.checks,{kind:"toLowerCase"}]}))}toUpperCase(){return new r(_t(Me({},this._def),{checks:[...this._def.checks,{kind:"toUpperCase"}]}))}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};Uo.create=r=>{var e;return new Uo(Me({checks:[],typeName:Ot.ZodString,coerce:(e=r==null?void 0:r.coerce)!==null&&e!==void 0?e:!1},Jt(r)))};function PJ(r,e){let t=(r.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=t>n?t:n,a=parseInt(r.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return a%o/Math.pow(10,i)}var _s=class r extends Xt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==lt.number){let a=this._getOrReturnCtx(e);return dt(a,{code:Qe.invalid_type,expected:lt.number,received:a.parsedType}),Wt}let n,i=new Gn;for(let a of this._def.checks)a.kind==="int"?yr.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),dt(n,{code:Qe.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),dt(n,{code:Qe.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),dt(n,{code:Qe.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?PJ(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),dt(n,{code:Qe.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),dt(n,{code:Qe.not_finite,message:a.message}),i.dirty()):yr.assertNever(a);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Tt.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Tt.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Tt.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Tt.toString(t))}setLimit(e,t,n,i){return new r(_t(Me({},this._def),{checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Tt.toString(i)}]}))}_addCheck(e){return new r(_t(Me({},this._def),{checks:[...this._def.checks,e]}))}int(e){return this._addCheck({kind:"int",message:Tt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Tt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Tt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Tt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Tt.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Tt.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Tt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Tt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Tt.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&yr.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(t===null||n.value>t)&&(t=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}};_s.create=r=>new _s(Me({checks:[],typeName:Ot.ZodNumber,coerce:(r==null?void 0:r.coerce)||!1},Jt(r)));var Ss=class r extends Xt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==lt.bigint){let a=this._getOrReturnCtx(e);return dt(a,{code:Qe.invalid_type,expected:lt.bigint,received:a.parsedType}),Wt}let n,i=new Gn;for(let a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),dt(n,{code:Qe.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),dt(n,{code:Qe.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),dt(n,{code:Qe.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):yr.assertNever(a);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Tt.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Tt.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Tt.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Tt.toString(t))}setLimit(e,t,n,i){return new r(_t(Me({},this._def),{checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Tt.toString(i)}]}))}_addCheck(e){return new r(_t(Me({},this._def),{checks:[...this._def.checks,e]}))}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Tt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Tt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Tt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Tt.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Tt.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};Ss.create=r=>{var e;return new Ss(Me({checks:[],typeName:Ot.ZodBigInt,coerce:(e=r==null?void 0:r.coerce)!==null&&e!==void 0?e:!1},Jt(r)))};var Ds=class extends Xt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==lt.boolean){let n=this._getOrReturnCtx(e);return dt(n,{code:Qe.invalid_type,expected:lt.boolean,received:n.parsedType}),Wt}return ei(e.data)}};Ds.create=r=>new Ds(Me({typeName:Ot.ZodBoolean,coerce:(r==null?void 0:r.coerce)||!1},Jt(r)));var Ns=class r extends Xt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==lt.date){let a=this._getOrReturnCtx(e);return dt(a,{code:Qe.invalid_type,expected:lt.date,received:a.parsedType}),Wt}if(isNaN(e.data.getTime())){let a=this._getOrReturnCtx(e);return dt(a,{code:Qe.invalid_date}),Wt}let n=new Gn,i;for(let a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),dt(i,{code:Qe.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),dt(i,{code:Qe.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):yr.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new r(_t(Me({},this._def),{checks:[...this._def.checks,e]}))}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Tt.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Tt.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}};Ns.create=r=>new Ns(Me({checks:[],coerce:(r==null?void 0:r.coerce)||!1,typeName:Ot.ZodDate},Jt(r)));var Gu=class extends Xt{_parse(e){if(this._getType(e)!==lt.symbol){let n=this._getOrReturnCtx(e);return dt(n,{code:Qe.invalid_type,expected:lt.symbol,received:n.parsedType}),Wt}return ei(e.data)}};Gu.create=r=>new Gu(Me({typeName:Ot.ZodSymbol},Jt(r)));var As=class extends Xt{_parse(e){if(this._getType(e)!==lt.undefined){let n=this._getOrReturnCtx(e);return dt(n,{code:Qe.invalid_type,expected:lt.undefined,received:n.parsedType}),Wt}return ei(e.data)}};As.create=r=>new As(Me({typeName:Ot.ZodUndefined},Jt(r)));var Es=class extends Xt{_parse(e){if(this._getType(e)!==lt.null){let n=this._getOrReturnCtx(e);return dt(n,{code:Qe.invalid_type,expected:lt.null,received:n.parsedType}),Wt}return ei(e.data)}};Es.create=r=>new Es(Me({typeName:Ot.ZodNull},Jt(r)));var Vo=class extends Xt{constructor(){super(...arguments),this._any=!0}_parse(e){return ei(e.data)}};Vo.create=r=>new Vo(Me({typeName:Ot.ZodAny},Jt(r)));var Ja=class extends Xt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ei(e.data)}};Ja.create=r=>new Ja(Me({typeName:Ot.ZodUnknown},Jt(r)));var ca=class extends Xt{_parse(e){let t=this._getOrReturnCtx(e);return dt(t,{code:Qe.invalid_type,expected:lt.never,received:t.parsedType}),Wt}};ca.create=r=>new ca(Me({typeName:Ot.ZodNever},Jt(r)));var Wu=class extends Xt{_parse(e){if(this._getType(e)!==lt.undefined){let n=this._getOrReturnCtx(e);return dt(n,{code:Qe.invalid_type,expected:lt.void,received:n.parsedType}),Wt}return ei(e.data)}};Wu.create=r=>new Wu(Me({typeName:Ot.ZodVoid},Jt(r)));var Xa=class r extends Xt{_parse(e){let{ctx:t,status:n}=this._processInputParams(e),i=this._def;if(t.parsedType!==lt.array)return dt(t,{code:Qe.invalid_type,expected:lt.array,received:t.parsedType}),Wt;if(i.exactLength!==null){let o=t.data.length>i.exactLength.value,c=t.data.length<i.exactLength.value;(o||c)&&(dt(t,{code:o?Qe.too_big:Qe.too_small,minimum:c?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&t.data.length<i.minLength.value&&(dt(t,{code:Qe.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&t.data.length>i.maxLength.value&&(dt(t,{code:Qe.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((o,c)=>i.type._parseAsync(new Yi(t,o,t.path,c)))).then(o=>Gn.mergeArray(n,o));let a=[...t.data].map((o,c)=>i.type._parseSync(new Yi(t,o,t.path,c)));return Gn.mergeArray(n,a)}get element(){return this._def.type}min(e,t){return new r(_t(Me({},this._def),{minLength:{value:e,message:Tt.toString(t)}}))}max(e,t){return new r(_t(Me({},this._def),{maxLength:{value:e,message:Tt.toString(t)}}))}length(e,t){return new r(_t(Me({},this._def),{exactLength:{value:e,message:Tt.toString(t)}}))}nonempty(e){return this.min(1,e)}};Xa.create=(r,e)=>new Xa(Me({type:r,minLength:null,maxLength:null,exactLength:null,typeName:Ot.ZodArray},Jt(e)));function Hu(r){if(r instanceof pi){let e={};for(let t in r.shape){let n=r.shape[t];e[t]=la.create(Hu(n))}return new pi(_t(Me({},r._def),{shape:()=>e}))}else return r instanceof Xa?new Xa(_t(Me({},r._def),{type:Hu(r.element)})):r instanceof la?la.create(Hu(r.unwrap())):r instanceof Qa?Qa.create(Hu(r.unwrap())):r instanceof _a?_a.create(r.items.map(e=>Hu(e))):r}var pi=class r extends Xt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),t=yr.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==lt.object){let s=this._getOrReturnCtx(e);return dt(s,{code:Qe.invalid_type,expected:lt.object,received:s.parsedType}),Wt}let{status:n,ctx:i}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),c=[];if(!(this._def.catchall instanceof ca&&this._def.unknownKeys==="strip"))for(let s in i.data)o.includes(s)||c.push(s);let u=[];for(let s of o){let l=a[s],f=i.data[s];u.push({key:{status:"valid",value:s},value:l._parse(new Yi(i,f,i.path,s)),alwaysSet:s in i.data})}if(this._def.catchall instanceof ca){let s=this._def.unknownKeys;if(s==="passthrough")for(let l of c)u.push({key:{status:"valid",value:l},value:{status:"valid",value:i.data[l]}});else if(s==="strict")c.length>0&&(dt(i,{code:Qe.unrecognized_keys,keys:c}),n.dirty());else if(s!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let s=this._def.catchall;for(let l of c){let f=i.data[l];u.push({key:{status:"valid",value:l},value:s._parse(new Yi(i,f,i.path,l)),alwaysSet:l in i.data})}}return i.common.async?Promise.resolve().then(()=>St(this,null,function*(){let s=[];for(let l of u){let f=yield l.key;s.push({key:f,value:yield l.value,alwaysSet:l.alwaysSet})}return s})).then(s=>Gn.mergeObjectSync(n,s)):Gn.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(e){return Tt.errToObj,new r(Me(_t(Me({},this._def),{unknownKeys:"strict"}),e!==void 0?{errorMap:(t,n)=>{var i,a,o,c;let u=(o=(a=(i=this._def).errorMap)===null||a===void 0?void 0:a.call(i,t,n).message)!==null&&o!==void 0?o:n.defaultError;return t.code==="unrecognized_keys"?{message:(c=Tt.errToObj(e).message)!==null&&c!==void 0?c:u}:{message:u}}}:{}))}strip(){return new r(_t(Me({},this._def),{unknownKeys:"strip"}))}passthrough(){return new r(_t(Me({},this._def),{unknownKeys:"passthrough"}))}extend(e){return new r(_t(Me({},this._def),{shape:()=>Me(Me({},this._def.shape()),e)}))}merge(e){return new r({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>Me(Me({},this._def.shape()),e._def.shape()),typeName:Ot.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new r(_t(Me({},this._def),{catchall:e}))}pick(e){let t={};return yr.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])}),new r(_t(Me({},this._def),{shape:()=>t}))}omit(e){let t={};return yr.objectKeys(this.shape).forEach(n=>{e[n]||(t[n]=this.shape[n])}),new r(_t(Me({},this._def),{shape:()=>t}))}deepPartial(){return Hu(this)}partial(e){let t={};return yr.objectKeys(this.shape).forEach(n=>{let i=this.shape[n];e&&!e[n]?t[n]=i:t[n]=i.optional()}),new r(_t(Me({},this._def),{shape:()=>t}))}required(e){let t={};return yr.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])t[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof la;)a=a._def.innerType;t[n]=a}}),new r(_t(Me({},this._def),{shape:()=>t}))}keyof(){return KL(yr.objectKeys(this.shape))}};pi.create=(r,e)=>new pi(Me({shape:()=>r,unknownKeys:"strip",catchall:ca.create(),typeName:Ot.ZodObject},Jt(e)));pi.strictCreate=(r,e)=>new pi(Me({shape:()=>r,unknownKeys:"strict",catchall:ca.create(),typeName:Ot.ZodObject},Jt(e)));pi.lazycreate=(r,e)=>new pi(Me({shape:r,unknownKeys:"strip",catchall:ca.create(),typeName:Ot.ZodObject},Jt(e)));var Ts=class extends Xt{_parse(e){let{ctx:t}=this._processInputParams(e),n=this._def.options;function i(a){for(let c of a)if(c.result.status==="valid")return c.result;for(let c of a)if(c.result.status==="dirty")return t.common.issues.push(...c.ctx.common.issues),c.result;let o=a.map(c=>new Mi(c.ctx.common.issues));return dt(t,{code:Qe.invalid_union,unionErrors:o}),Wt}if(t.common.async)return Promise.all(n.map(a=>St(this,null,function*(){let o=_t(Me({},t),{common:_t(Me({},t.common),{issues:[]}),parent:null});return{result:yield a._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}}))).then(i);{let a,o=[];for(let u of n){let s=_t(Me({},t),{common:_t(Me({},t.common),{issues:[]}),parent:null}),l=u._parseSync({data:t.data,path:t.path,parent:s});if(l.status==="valid")return l;l.status==="dirty"&&!a&&(a={result:l,ctx:s}),s.common.issues.length&&o.push(s.common.issues)}if(a)return t.common.issues.push(...a.ctx.common.issues),a.result;let c=o.map(u=>new Mi(u));return dt(t,{code:Qe.invalid_union,unionErrors:c}),Wt}}get options(){return this._def.options}};Ts.create=(r,e)=>new Ts(Me({options:r,typeName:Ot.ZodUnion},Jt(e)));var ud=r=>r instanceof Cs?ud(r.schema):r instanceof Ci?ud(r.innerType()):r instanceof Fs?[r.value]:r instanceof Is?r.options:r instanceof Bs?Object.keys(r.enum):r instanceof Ps?ud(r._def.innerType):r instanceof As?[void 0]:r instanceof Es?[null]:null,pd=class r extends Xt{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==lt.object)return dt(t,{code:Qe.invalid_type,expected:lt.object,received:t.parsedType}),Wt;let n=this.discriminator,i=t.data[n],a=this.optionsMap.get(i);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(dt(t,{code:Qe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Wt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){let i=new Map;for(let a of t){let o=ud(a.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let c of o){if(i.has(c))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(c)}`);i.set(c,a)}}return new r(Me({typeName:Ot.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i},Jt(n)))}};function AS(r,e){let t=Lo(r),n=Lo(e);if(r===e)return{valid:!0,data:r};if(t===lt.object&&n===lt.object){let i=yr.objectKeys(e),a=yr.objectKeys(r).filter(c=>i.indexOf(c)!==-1),o=Me(Me({},r),e);for(let c of a){let u=AS(r[c],e[c]);if(!u.valid)return{valid:!1};o[c]=u.data}return{valid:!0,data:o}}else if(t===lt.array&&n===lt.array){if(r.length!==e.length)return{valid:!1};let i=[];for(let a=0;a<r.length;a++){let o=r[a],c=e[a],u=AS(o,c);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return t===lt.date&&n===lt.date&&+r==+e?{valid:!0,data:r}:{valid:!1}}var Ms=class extends Xt{_parse(e){let{status:t,ctx:n}=this._processInputParams(e),i=(a,o)=>{if(DS(a)||DS(o))return Wt;let c=AS(a.value,o.value);return c.valid?((NS(a)||NS(o))&&t.dirty(),{status:t.value,value:c.data}):(dt(n,{code:Qe.invalid_intersection_types}),Wt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};Ms.create=(r,e,t)=>new Ms(Me({left:r,right:e,typeName:Ot.ZodIntersection},Jt(t)));var _a=class r extends Xt{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==lt.array)return dt(n,{code:Qe.invalid_type,expected:lt.array,received:n.parsedType}),Wt;if(n.data.length<this._def.items.length)return dt(n,{code:Qe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Wt;!this._def.rest&&n.data.length>this._def.items.length&&(dt(n,{code:Qe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let a=[...n.data].map((o,c)=>{let u=this._def.items[c]||this._def.rest;return u?u._parse(new Yi(n,o,n.path,c)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>Gn.mergeArray(t,o)):Gn.mergeArray(t,a)}get items(){return this._def.items}rest(e){return new r(_t(Me({},this._def),{rest:e}))}};_a.create=(r,e)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new _a(Me({items:r,typeName:Ot.ZodTuple,rest:null},Jt(e)))};var md=class r extends Xt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==lt.object)return dt(n,{code:Qe.invalid_type,expected:lt.object,received:n.parsedType}),Wt;let i=[],a=this._def.keyType,o=this._def.valueType;for(let c in n.data)i.push({key:a._parse(new Yi(n,c,n.path,c)),value:o._parse(new Yi(n,n.data[c],n.path,c))});return n.common.async?Gn.mergeObjectAsync(t,i):Gn.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,n){return t instanceof Xt?new r(Me({keyType:e,valueType:t,typeName:Ot.ZodRecord},Jt(n))):new r(Me({keyType:Uo.create(),valueType:e,typeName:Ot.ZodRecord},Jt(t)))}},Yu=class extends Xt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==lt.map)return dt(n,{code:Qe.invalid_type,expected:lt.map,received:n.parsedType}),Wt;let i=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([c,u],s)=>({key:i._parse(new Yi(n,c,n.path,[s,"key"])),value:a._parse(new Yi(n,u,n.path,[s,"value"]))}));if(n.common.async){let c=new Map;return Promise.resolve().then(()=>St(this,null,function*(){for(let u of o){let s=yield u.key,l=yield u.value;if(s.status==="aborted"||l.status==="aborted")return Wt;(s.status==="dirty"||l.status==="dirty")&&t.dirty(),c.set(s.value,l.value)}return{status:t.value,value:c}}))}else{let c=new Map;for(let u of o){let s=u.key,l=u.value;if(s.status==="aborted"||l.status==="aborted")return Wt;(s.status==="dirty"||l.status==="dirty")&&t.dirty(),c.set(s.value,l.value)}return{status:t.value,value:c}}}};Yu.create=(r,e,t)=>new Yu(Me({valueType:e,keyType:r,typeName:Ot.ZodMap},Jt(t)));var ju=class r extends Xt{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==lt.set)return dt(n,{code:Qe.invalid_type,expected:lt.set,received:n.parsedType}),Wt;let i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(dt(n,{code:Qe.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(dt(n,{code:Qe.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());let a=this._def.valueType;function o(u){let s=new Set;for(let l of u){if(l.status==="aborted")return Wt;l.status==="dirty"&&t.dirty(),s.add(l.value)}return{status:t.value,value:s}}let c=[...n.data.values()].map((u,s)=>a._parse(new Yi(n,u,n.path,s)));return n.common.async?Promise.all(c).then(u=>o(u)):o(c)}min(e,t){return new r(_t(Me({},this._def),{minSize:{value:e,message:Tt.toString(t)}}))}max(e,t){return new r(_t(Me({},this._def),{maxSize:{value:e,message:Tt.toString(t)}}))}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}};ju.create=(r,e)=>new ju(Me({valueType:r,minSize:null,maxSize:null,typeName:Ot.ZodSet},Jt(e)));var dd=class r extends Xt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==lt.function)return dt(t,{code:Qe.invalid_type,expected:lt.function,received:t.parsedType}),Wt;function n(c,u){return cd({data:c,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,ld(),fc].filter(s=>!!s),issueData:{code:Qe.invalid_arguments,argumentsError:u}})}function i(c,u){return cd({data:c,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,ld(),fc].filter(s=>!!s),issueData:{code:Qe.invalid_return_type,returnTypeError:u}})}let a={errorMap:t.common.contextualErrorMap},o=t.data;if(this._def.returns instanceof qo){let c=this;return ei(function(...u){return St(this,null,function*(){let s=new Mi([]),l=yield c._def.args.parseAsync(u,a).catch(m=>{throw s.addIssue(n(u,m)),s}),f=yield Reflect.apply(o,this,l);return yield c._def.returns._def.type.parseAsync(f,a).catch(m=>{throw s.addIssue(i(f,m)),s})})})}else{let c=this;return ei(function(...u){let s=c._def.args.safeParse(u,a);if(!s.success)throw new Mi([n(u,s.error)]);let l=Reflect.apply(o,this,s.data),f=c._def.returns.safeParse(l,a);if(!f.success)throw new Mi([i(l,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new r(_t(Me({},this._def),{args:_a.create(e).rest(Ja.create())}))}returns(e){return new r(_t(Me({},this._def),{returns:e}))}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new r(Me({args:e||_a.create([]).rest(Ja.create()),returns:t||Ja.create(),typeName:Ot.ZodFunction},Jt(n)))}},Cs=class extends Xt{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}};Cs.create=(r,e)=>new Cs(Me({getter:r,typeName:Ot.ZodLazy},Jt(e)));var Fs=class extends Xt{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return dt(t,{received:t.data,code:Qe.invalid_literal,expected:this._def.value}),Wt}return{status:"valid",value:e.data}}get value(){return this._def.value}};Fs.create=(r,e)=>new Fs(Me({value:r,typeName:Ot.ZodLiteral},Jt(e)));function KL(r,e){return new Is(Me({values:r,typeName:Ot.ZodEnum},Jt(e)))}var Is=class r extends Xt{_parse(e){if(typeof e.data!="string"){let t=this._getOrReturnCtx(e),n=this._def.values;return dt(t,{expected:yr.joinValues(n),received:t.parsedType,code:Qe.invalid_type}),Wt}if(this._def.values.indexOf(e.data)===-1){let t=this._getOrReturnCtx(e),n=this._def.values;return dt(t,{received:t.data,code:Qe.invalid_enum_value,options:n}),Wt}return ei(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e){return r.create(e)}exclude(e){return r.create(this.options.filter(t=>!e.includes(t)))}};Is.create=KL;var Bs=class extends Xt{_parse(e){let t=yr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==lt.string&&n.parsedType!==lt.number){let i=yr.objectValues(t);return dt(n,{expected:yr.joinValues(i),received:n.parsedType,code:Qe.invalid_type}),Wt}if(t.indexOf(e.data)===-1){let i=yr.objectValues(t);return dt(n,{received:n.data,code:Qe.invalid_enum_value,options:i}),Wt}return ei(e.data)}get enum(){return this._def.values}};Bs.create=(r,e)=>new Bs(Me({values:r,typeName:Ot.ZodNativeEnum},Jt(e)));var qo=class extends Xt{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==lt.promise&&t.common.async===!1)return dt(t,{code:Qe.invalid_type,expected:lt.promise,received:t.parsedType}),Wt;let n=t.parsedType===lt.promise?t.data:Promise.resolve(t.data);return ei(n.then(i=>this._def.type.parseAsync(i,{path:t.path,errorMap:t.common.contextualErrorMap})))}};qo.create=(r,e)=>new qo(Me({type:r,typeName:Ot.ZodPromise},Jt(e)));var Ci=class extends Xt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ot.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:n}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:o=>{dt(n,o),o.fatal?t.abort():t.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){let o=i.transform(n.data,a);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(o).then(c=>this._def.schema._parseAsync({data:c,path:n.path,parent:n})):this._def.schema._parseSync({data:o,path:n.path,parent:n})}if(i.type==="refinement"){let o=c=>{let u=i.refinement(c,a);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(n.common.async===!1){let c=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return c.status==="aborted"?Wt:(c.status==="dirty"&&t.dirty(),o(c.value),{status:t.value,value:c.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(c=>c.status==="aborted"?Wt:(c.status==="dirty"&&t.dirty(),o(c.value).then(()=>({status:t.value,value:c.value}))))}if(i.type==="transform")if(n.common.async===!1){let o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!pc(o))return o;let c=i.transform(o.value,a);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:c}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>pc(o)?Promise.resolve(i.transform(o.value,a)).then(c=>({status:t.value,value:c})):o);yr.assertNever(i)}};Ci.create=(r,e,t)=>new Ci(Me({schema:r,typeName:Ot.ZodEffects,effect:e},Jt(t)));Ci.createWithPreprocess=(r,e,t)=>new Ci(Me({schema:e,effect:{type:"preprocess",transform:r},typeName:Ot.ZodEffects},Jt(t)));var la=class extends Xt{_parse(e){return this._getType(e)===lt.undefined?ei(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};la.create=(r,e)=>new la(Me({innerType:r,typeName:Ot.ZodOptional},Jt(e)));var Qa=class extends Xt{_parse(e){return this._getType(e)===lt.null?ei(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Qa.create=(r,e)=>new Qa(Me({innerType:r,typeName:Ot.ZodNullable},Jt(e)));var Ps=class extends Xt{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return t.parsedType===lt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}};Ps.create=(r,e)=>new Ps(Me({innerType:r,typeName:Ot.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default},Jt(e)));var Zu=class extends Xt{_parse(e){let{ctx:t}=this._processInputParams(e),n=_t(Me({},t),{common:_t(Me({},t.common),{issues:[]})}),i=this._def.innerType._parse({data:n.data,path:n.path,parent:Me({},n)});return fd(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Mi(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Mi(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};Zu.create=(r,e)=>new Zu(Me({innerType:r,typeName:Ot.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch},Jt(e)));var Ju=class extends Xt{_parse(e){if(this._getType(e)!==lt.nan){let n=this._getOrReturnCtx(e);return dt(n,{code:Qe.invalid_type,expected:lt.nan,received:n.parsedType}),Wt}return{status:"valid",value:e.data}}};Ju.create=r=>new Ju(Me({typeName:Ot.ZodNaN},Jt(r)));var OJ=Symbol("zod_brand"),hd=class extends Xt{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}},mc=class r extends Xt{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return St(this,null,function*(){let a=yield this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Wt:a.status==="dirty"?(t.dirty(),QL(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})});{let i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Wt:i.status==="dirty"?(t.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,t){return new r({in:e,out:t,typeName:Ot.ZodPipeline})}},Xu=class extends Xt{_parse(e){let t=this._def.innerType._parse(e);return pc(t)&&(t.value=Object.freeze(t.value)),t}};Xu.create=(r,e)=>new Xu(Me({innerType:r,typeName:Ot.ZodReadonly},Jt(e)));var e4=(r,e={},t)=>r?Vo.create().superRefine((n,i)=>{var a,o;if(!r(n)){let c=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,u=(o=(a=c.fatal)!==null&&a!==void 0?a:t)!==null&&o!==void 0?o:!0,s=typeof c=="string"?{message:c}:c;i.addIssue(_t(Me({code:"custom"},s),{fatal:u}))}}):Vo.create(),kJ={object:pi.lazycreate},Ot;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(Ot||(Ot={}));var RJ=(r,e={message:`Input not instance of ${r.name}`})=>e4(t=>t instanceof r,e),t4=Uo.create,r4=_s.create,LJ=Ju.create,UJ=Ss.create,n4=Ds.create,VJ=Ns.create,qJ=Gu.create,zJ=As.create,$J=Es.create,HJ=Vo.create,GJ=Ja.create,WJ=ca.create,YJ=Wu.create,jJ=Xa.create,ZJ=pi.create,JJ=pi.strictCreate,XJ=Ts.create,QJ=pd.create,KJ=Ms.create,eX=_a.create,tX=md.create,rX=Yu.create,nX=ju.create,iX=dd.create,aX=Cs.create,oX=Fs.create,sX=Is.create,uX=Bs.create,lX=qo.create,JL=Ci.create,cX=la.create,fX=Qa.create,pX=Ci.createWithPreprocess,mX=mc.create,dX=()=>t4().optional(),hX=()=>r4().optional(),gX=()=>n4().optional(),vX={string:r=>Uo.create(_t(Me({},r),{coerce:!0})),number:r=>_s.create(_t(Me({},r),{coerce:!0})),boolean:r=>Ds.create(_t(Me({},r),{coerce:!0})),bigint:r=>Ss.create(_t(Me({},r),{coerce:!0})),date:r=>Ns.create(_t(Me({},r),{coerce:!0}))},yX=Wt,pe=Object.freeze({__proto__:null,defaultErrorMap:fc,setErrorMap:_J,getErrorMap:ld,makeIssue:cd,EMPTY_PATH:SJ,addIssueToContext:dt,ParseStatus:Gn,INVALID:Wt,DIRTY:QL,OK:ei,isAborted:DS,isDirty:NS,isValid:pc,isAsync:fd,get util(){return yr},get objectUtil(){return SS},ZodParsedType:lt,getParsedType:Lo,ZodType:Xt,ZodString:Uo,ZodNumber:_s,ZodBigInt:Ss,ZodBoolean:Ds,ZodDate:Ns,ZodSymbol:Gu,ZodUndefined:As,ZodNull:Es,ZodAny:Vo,ZodUnknown:Ja,ZodNever:ca,ZodVoid:Wu,ZodArray:Xa,ZodObject:pi,ZodUnion:Ts,ZodDiscriminatedUnion:pd,ZodIntersection:Ms,ZodTuple:_a,ZodRecord:md,ZodMap:Yu,ZodSet:ju,ZodFunction:dd,ZodLazy:Cs,ZodLiteral:Fs,ZodEnum:Is,ZodNativeEnum:Bs,ZodPromise:qo,ZodEffects:Ci,ZodTransformer:Ci,ZodOptional:la,ZodNullable:Qa,ZodDefault:Ps,ZodCatch:Zu,ZodNaN:Ju,BRAND:OJ,ZodBranded:hd,ZodPipeline:mc,ZodReadonly:Xu,custom:e4,Schema:Xt,ZodSchema:Xt,late:kJ,get ZodFirstPartyTypeKind(){return Ot},coerce:vX,any:HJ,array:jJ,bigint:UJ,boolean:n4,date:VJ,discriminatedUnion:QJ,effect:JL,enum:sX,function:iX,instanceof:RJ,intersection:KJ,lazy:aX,literal:oX,map:rX,nan:LJ,nativeEnum:uX,never:WJ,null:$J,nullable:fX,number:r4,object:ZJ,oboolean:gX,onumber:hX,optional:cX,ostring:dX,pipeline:mX,preprocess:pX,promise:lX,record:tX,set:nX,strictObject:JJ,string:t4,symbol:qJ,transformer:JL,tuple:eX,undefined:zJ,union:XJ,unknown:GJ,void:YJ,NEVER:yX,ZodIssueCode:Qe,quotelessJson:wJ,ZodError:Mi});var bX=/[$_\p{ID_Start}][$\u200c\u200d\p{ID_Continue}]*/u;function i4(r){return r.length===1?r[0].toString():r.reduce((e,t)=>{if(typeof t=="number")return e+"["+t.toString()+"]";if(t.includes('"'))return e+'["'+xX(t)+'"]';if(!bX.test(t))return e+'["'+t+'"]';let n=e.length===0?"":".";return e+n+t},"")}function xX(r){return r.replace(/"/g,'\\"')}function a4(r){return r.length!==0}var wX=99,_X="; ",SX=", or ",o4="Validation error",DX=": ",gd=class extends Error{constructor(t,n=[]){super(t);tn(this,"details");tn(this,"name");this.details=n,this.name="ZodValidationError"}toString(){return this.message}};function s4(r){let{issue:e,issueSeparator:t,unionSeparator:n,includePath:i}=r;if(e.code==="invalid_union")return e.unionErrors.reduce((a,o)=>{let c=o.issues.map(u=>s4({issue:u,issueSeparator:t,unionSeparator:n,includePath:i})).join(t);return a.includes(c)||a.push(c),a},[]).join(n);if(i&&a4(e.path)){if(e.path.length===1){let a=e.path[0];if(typeof a=="number")return`${e.message} at index ${a}`}return`${e.message} at "${i4(e.path)}"`}return e.message}function NX(r,e,t){return e!==null?r.length>0?[e,r].join(t):e:r.length>0?r:o4}function dc(r,e={}){let{maxIssuesInMessage:t=wX,issueSeparator:n=_X,unionSeparator:i=SX,prefixSeparator:a=DX,prefix:o=o4,includePath:c=!0}=e,u=r.errors.slice(0,t).map(l=>s4({issue:l,issueSeparator:n,unionSeparator:i,includePath:c})).join(n),s=NX(u,o,a);return new gd(s,r.errors)}function u4(r,e){return(t,n)=>t[r]===void 0==(t[e]===void 0)?(n.addIssue({code:pe.ZodIssueCode.custom,message:`Either ${r} or ${e} must be filled, but not both`}),!1):!0}function Rt(){return function(r){return r}}function un(r,e){let t=r.safeParse(e);if(!t.success)throw new vr({errorLevel:"CRITICAL",effect:"invalid arguments supplied to function",cause:dc(t.error)})}var AX=Rt()(pe.object({type:pe.literal("command"),command:pe.string()})),EX=Rt()(pe.object({type:pe.literal("js"),file:pe.string(),args:pe.record(pe.unknown()).optional()})),TX=Rt()(pe.object({type:pe.literal("open"),link:pe.string(),newTab:pe.boolean().optional()})),MX=Rt()(pe.object({type:pe.literal("input"),str:pe.string()})),CX=Rt()(pe.object({type:pe.literal("sleep"),ms:pe.number()})),FX=Rt()(pe.object({type:pe.literal("templaterCreateNote"),templateFile:pe.string(),folderPath:pe.string().optional(),fileName:pe.string().optional(),openNote:pe.boolean().optional()})),IX=Rt()(pe.object({type:pe.literal("updateMetadata"),bindTarget:pe.string(),evaluate:pe.boolean(),value:pe.coerce.string()})),BX=Rt()(pe.object({type:pe.literal("createNote"),folderPath:pe.string().optional(),fileName:pe.string(),openNote:pe.boolean().optional()})),PX=Rt()(pe.object({type:pe.literal("replaceInNote"),fromLine:pe.number(),toLine:pe.number(),replacement:pe.string(),templater:pe.boolean().optional()})),OX=Rt()(pe.object({type:pe.literal("replaceSelf"),replacement:pe.string(),templater:pe.boolean().optional()})),kX=Rt()(pe.object({type:pe.literal("regexpReplaceInNote"),regexp:pe.string(),replacement:pe.string()})),RX=Rt()(pe.object({type:pe.literal("insertIntoNote"),line:pe.number(),value:pe.string(),templater:pe.boolean().optional()})),l4=Rt()(pe.union([AX,EX,TX,MX,CX,FX,IX,BX,PX,OX,kX,RX])),LX=pe.nativeEnum(vn),vd=Rt()(pe.object({label:pe.string(),style:LX,class:pe.string().optional(),tooltip:pe.string().optional(),id:pe.string().optional(),hidden:pe.boolean().optional(),action:l4.optional(),actions:l4.array().optional()}).superRefine(u4("action","actions")));var UX=hc.P.sequenceMap((r,e)=>e,hc.P.string("BUTTON"),hc.P.manyNotOf("[],^").separateBy(hc.P.string(",").trim(c4.P_UTILS.optionalWhitespace())).wrapString("[","]")),yd=class{constructor(e){this.plugin=e}fromGroupString(e){let t=new Kt("ButtonGroup"),n=[];try{n=Dn(UX,e)}catch(i){t.add(i)}return{declarationString:e,referencedButtonIds:n,errorCollection:t}}validateGroup(e){return{declarationString:void 0,referencedButtonIds:e.referencedButtonIds,errorCollection:new Kt("ButtonGroup")}}fromString(e){let t=new Kt("Button"),n;try{let i=this.plugin.internal.parseYaml(e);n=this.validateConfig(i)}catch(i){t.add(i)}return{declarationString:e,config:n,errorCollection:t}}validateConfig(e){let t=vd.safeParse(e);if(!t.success){let n=dc(t.error,{unionSeparator:`
OR `,issueSeparator:" AND ",prefix:null});throw new Xo({errorLevel:"ERROR",effect:"can not parse button config",cause:"zod validation failed. Check your button syntax",positionContext:n.message,docs:[kr.linkToButtonConfig()]})}return t.data}validate(e){let t=new Kt("Button"),n;try{n=this.validateConfig(e)}catch(i){t.add(i)}return{declarationString:void 0,config:n,errorCollection:t}}};var bd=class{constructor(e){this.plugin=e}fromString(e){let t=new Kt("JsViewFieldDeclaration");try{let n=Dn(zD,e);return this.partialToFullDeclaration(n,e,t)}catch(n){t.add(n)}return{declarationString:e,errorCollection:t,bindTargetMappings:[],writeToBindTarget:void 0,code:""}}fromStringAndValidate(e,t){return this.validate(this.fromString(e),t)}fromSimpleDeclaration(e){let t=new Kt("JsViewFieldDeclaration");return{declarationString:void 0,code:e.code,bindTargetMappings:e.bindTargetMappings.map(n=>({bindTarget:this.plugin.api.bindTargetParser.fromSimpleDeclaration(n.bindTarget),name:n.name})),writeToBindTarget:e.writeToBindTarget?this.plugin.api.bindTargetParser.fromSimpleDeclaration(e.writeToBindTarget):void 0,errorCollection:t}}fromSimpleDeclarationAndValidate(e,t){return this.validate(this.fromSimpleDeclaration(e),t)}partialToFullDeclaration(e,t,n){let i=e;return i.declarationString=t,i.errorCollection=n,i.bindTargetMappings=[...i.bindTargetMappings],i}validate(e,t){let n={};n.declarationString=e.declarationString,n.errorCollection=e.errorCollection;try{return n.bindTargetMappings=e.bindTargetMappings.map(i=>({bindTarget:this.plugin.api.bindTargetParser.validate(e.declarationString,i.bindTarget,t),name:i.name})),e.writeToBindTarget!==void 0&&(n.writeToBindTarget=this.plugin.api.bindTargetParser.validate(e.declarationString,e.writeToBindTarget,t)),n.code=e.code,n}catch(i){n.errorCollection.add(i)}return{declarationString:e.declarationString,errorCollection:n.errorCollection,bindTargetMappings:[],writeToBindTarget:void 0,code:""}}};function f4(r){return new Ro(r.map(e=>KD.tryParse(e).success?new Qo("array",e):new Qo("object",e)))}var xd=class{constructor(e){this.scope=e}};var ji=Rt()(pe.string()),Qu=Rt()(pe.nativeEnum(Bi)),vc=Rt()(pe.nativeEnum(Ks)),m4=Rt()(pe.nativeEnum(ao)),JGe=Rt()(pe.instanceof(HTMLElement)),Ku=Rt()(pe.instanceof(xd)),XGe=Rt()(pe.instanceof(Xr)),QGe=Rt()(pe.function().args().returns(pe.void())),p4=Rt()(pe.object({index:pe.number(),line:pe.number(),column:pe.number()})),VX=Rt()(pe.object({from:p4,to:p4})),zo=Rt()(pe.object({value:pe.string(),position:VX.optional()})),d4=Rt()(pe.object({name:zo,value:zo.array()})),qX=Rt()(pe.object({type:pe.nativeEnum(Ko),prop:zo})),ES=Rt()(pe.object({storageType:zo.optional(),storagePath:zo.optional(),storageProp:qX.array(),listenToChildren:pe.boolean()})),KGe=Rt()(pe.object({declarationString:pe.string().optional(),inputFieldType:zo.optional(),templateName:zo.optional(),bindTarget:ES.optional(),arguments:d4.array(),errorCollection:pe.instanceof(Kt)})),eWe=Rt()(pe.object({declarationString:pe.string().optional(),templateDeclaration:pe.array(pe.union([pe.string(),ES])).optional(),viewFieldType:zo.optional(),arguments:d4.array(),writeToBindTarget:ES.optional(),errorCollection:pe.instanceof(Kt)})),yc=Rt()(pe.object({storageType:pe.string(),storagePath:pe.string(),storageProp:pe.instanceof(Ro),listenToChildren:pe.boolean()})),h4=Rt()(pe.object({name:pe.string(),value:pe.string().array()})),zX=Rt()(pe.object({type:pe.nativeEnum(Ko),prop:pe.string()})),gc=Rt()(pe.object({storageType:pe.string().optional(),storagePath:pe.string().optional(),storageProp:zX.array(),listenToChildren:pe.boolean()})),$X=Rt()(pe.object({inputFieldType:m4.optional(),templateName:pe.string().optional(),bindTarget:gc.optional(),arguments:h4.array().optional()})),HX=Rt()(pe.object({viewFieldType:m4.optional(),templateDeclaration:pe.union([pe.string(),gc]).array().optional(),arguments:h4.array().optional(),writeToBindTarget:gc.optional()})),GX=Rt()(pe.object({bindTarget:gc,name:pe.string()})),WX=Rt()(pe.object({bindTargetMappings:GX.array(),writeToBindTarget:gc.optional(),code:pe.string()})),YX=Rt()(pe.object({referencedButtonIds:pe.string().array()})),g4=Rt()(pe.object({renderChildType:Qu,declaration:pe.union([pe.string(),$X]),scope:Ku.optional()})),v4=Rt()(pe.object({renderChildType:Qu,declaration:pe.union([pe.string(),HX]),scope:Ku.optional()})),y4=Rt()(pe.object({declaration:pe.union([pe.string(),WX])})),b4=Rt()(pe.object({lineStart:pe.number(),lineEnd:pe.number()})),x4=Rt()(pe.object({renderChildType:Qu,declaration:pe.union([pe.string(),YX]),position:b4.optional()})),w4=Rt()(pe.object({declaration:pe.union([pe.string(),vd]),position:b4.optional(),isPreview:pe.boolean()})),_4=Rt()(pe.object({depth:pe.number(),content:pe.string()}));var wd=class{constructor(e,t){var n,i,a,o,c,u,s,l,f,p;this.plugin=e,this.inputFieldParser=(n=t==null?void 0:t.inputFieldParser)!=null?n:new Km(e),this.viewFieldParser=(i=t==null?void 0:t.viewFieldParser)!=null?i:new ad(e),this.jsViewFieldParser=(a=t==null?void 0:t.jsViewFieldParser)!=null?a:new bd(e),this.buttonParser=(o=t==null?void 0:t.buttonParser)!=null?o:new yd(e),this.bindTargetParser=(c=t==null?void 0:t.bindTargetParser)!=null?c:new Im(e),this.inputFieldFactory=(u=t==null?void 0:t.inputFieldFactory)!=null?u:new Zf(e),this.viewFieldFactory=(s=t==null?void 0:t.viewFieldFactory)!=null?s:new Fm(e),this.buttonActionRunner=(l=t==null?void 0:t.buttonActionRunner)!=null?l:new lf(e),this.buttonManager=(f=t==null?void 0:t.buttonManager)!=null?f:new _f(e),this.syntaxHighlighting=(p=t==null?void 0:t.syntaxHighlighting)!=null?p:new sf(e)}createField(e,t,n,i=!0){if(un(pe.object({type:vc,filePath:ji,options:pe.any(),honorExcludedSetting:pe.boolean()}),{type:e,filePath:t,options:n,honorExcludedSetting:i}),this.plugin.internal.isFilePathExcluded(t)&&i)return this.createExcludedBase(t);if(e==="INPUT_FIELD")return this.createInputFieldBase(t,n);if(e==="VIEW_FIELD")return this.createViewFieldBase(t,n);if(e==="JS_VIEW_FIELD")return this.createJsViewFieldBase(t,n);if(e==="BUTTON_GROUP")return this.createButtonGroupBase(t,n);if(e==="BUTTON")return this.createButtonBase(t,n);if(e==="EMBED")return this.createEmbedBase(t,n);if(e==="EXCLUDED")return this.createExcludedBase(t);throw new Error(`Unknown field type: ${e}`)}createInlineFieldFromString(e,t,n,i="inline",a,o=!0){un(pe.object({fieldString:pe.string(),filePath:ji,scope:Ku.optional(),renderChildType:Qu,honorExcludedSetting:pe.boolean()}),{fieldString:e,filePath:t,scope:n,renderChildType:i,honorExcludedSetting:o});let c=this.isInlineFieldDeclarationAndGetType(e);if(c===void 0)throw new vr({errorLevel:"CRITICAL",effect:"failed to create inline field",cause:`Invalid inline mdrc type "${c}"`});return this.createInlineFieldOfTypeFromString(c,e,t,n,i,a,o)}createInlineFieldOfTypeFromString(e,t,n,i,a="inline",o,c=!0){if(un(pe.object({type:vc,declaration:pe.string(),filePath:ji,scope:Ku.optional(),renderChildType:Qu,honorExcludedSetting:pe.boolean()}),{type:e,declaration:t,filePath:n,scope:i,renderChildType:a,honorExcludedSetting:c}),this.plugin.internal.isFilePathExcluded(n)&&c)return this.createExcludedBase(n);if(e==="INPUT_FIELD")return this.createInputFieldBase(n,{renderChildType:a,declaration:t,scope:i});if(e==="VIEW_FIELD")return this.createViewFieldBase(n,{renderChildType:a,declaration:t,scope:i});if(e==="BUTTON_GROUP")return this.createButtonGroupBase(n,{renderChildType:a,declaration:t,position:o});throw new vr({errorLevel:"CRITICAL",effect:"failed to create inline field",cause:`Invalid inline mdrc type "${e}"`})}createInputFieldBase(e,t){un(pe.object({filePath:ji,options:g4}),{filePath:e,options:t});let n=Tr(),i;return typeof t.declaration=="string"?i=this.inputFieldParser.fromStringAndValidate(t.declaration,e,t.scope):i=this.inputFieldParser.fromSimpleDeclarationAndValidate(t.declaration,e,t.scope),new Nf(this.plugin,n,e,t.renderChildType,i)}createViewFieldBase(e,t){un(pe.object({filePath:ji,options:v4}),{filePath:e,options:t});let n=Tr(),i;return typeof t.declaration=="string"?i=this.viewFieldParser.fromStringAndValidate(t.declaration,e,t.scope):i=this.viewFieldParser.fromSimpleDeclarationAndValidate(t.declaration,e,t.scope),new Xf(this.plugin,n,e,t.renderChildType,i)}createJsViewFieldBase(e,t){un(pe.object({filePath:ji,options:y4}),{filePath:e,options:t});let n=Tr(),i;return typeof t.declaration=="string"?i=this.jsViewFieldParser.fromStringAndValidate(t.declaration,e):i=this.jsViewFieldParser.fromSimpleDeclarationAndValidate(t.declaration,e),new Jf(this.plugin,n,e,i)}createButtonGroupBase(e,t){un(pe.object({filePath:ji,options:x4}),{filePath:e,options:t});let n=Tr(),i;return typeof t.declaration=="string"?i=this.buttonParser.fromGroupString(t.declaration):i=this.buttonParser.validateGroup(t.declaration),new Df(this.plugin,n,e,i,t.renderChildType,t.position)}createButtonBase(e,t){un(pe.object({filePath:ji,options:w4}),{filePath:e,options:t});let n=Tr(),i;return typeof t.declaration=="string"?i=this.buttonParser.fromString(t.declaration):i=this.buttonParser.validate(t.declaration),new xf(this.plugin,n,e,i,t.position,t.isPreview)}createEmbedBase(e,t){un(pe.object({filePath:ji,options:_4}),{filePath:e,options:t});let n=Tr();return new od(this.plugin,n,e,t.depth,t.content)}createExcludedBase(e){un(pe.object({filePath:ji}),{filePath:e});let t=Tr();return new sd(this.plugin,t,e)}getInlineFieldDeclarationPrefix(e){if(un(pe.object({fieldType:vc}),{fieldType:e}),e==="INPUT_FIELD")return"INPUT";if(e==="VIEW_FIELD")return"VIEW";if(e==="BUTTON_GROUP")return"BUTTON";throw new vr({errorLevel:"CRITICAL",effect:"failed to get declaration prefix",cause:`Invalid inline mdrc type "${e}"`})}isInlineFieldDeclaration(e,t){un(pe.object({fieldType:vc,str:pe.string()}),{fieldType:e,str:t});let n=this.getInlineFieldDeclarationPrefix(e)+"[";return t.startsWith(n)&&t.endsWith("]")}isInlineFieldDeclarationAndGetType(e){if(un(pe.object({str:pe.string()}),{str:e}),!!e.endsWith("]"))for(let t of Object.values(Ks)){if(!jD(t))continue;let n=this.getInlineFieldDeclarationPrefix(t)+"[";if(e.startsWith(n))return t}}createSignal(e){return new Xr(e)}createBindTarget(e,t,n,i=!1){return un(pe.object({storageType:pe.string(),storagePath:pe.string(),property:pe.string().array(),listenToChildren:pe.boolean()}),{storageType:e,storagePath:t,property:n,listenToChildren:i}),{storageType:e,storagePath:t,storageProp:f4(n),listenToChildren:i}}parseBindTarget(e,t,n){return un(pe.object({declarationString:pe.string(),filePath:ji,scope:Ku.optional()}),{declarationString:e,filePath:t,scope:n}),this.bindTargetParser.fromStringAndValidate(e,t,n)}setMetadata(e,t){un(pe.object({bindTarget:yc}),{bindTarget:e}),this.plugin.metadataManager.write(t,e)}getMetadata(e){return un(pe.object({bindTarget:yc}),{bindTarget:e}),this.plugin.metadataManager.read(e)}updateMetadata(e,t){un(pe.object({bindTarget:yc,updateFn:pe.function().args(pe.any()).returns(pe.any())}),{bindTarget:e,updateFn:t});let n=this.plugin.metadataManager.read(e),i=t(n);this.plugin.metadataManager.write(i,e)}subscribeToMetadata(e,t){un(pe.object({bindTarget:yc,callback:pe.function().args(pe.any()).returns(pe.void())}),{bindTarget:e,callback:t});let n=Tr(),i=new Xr(void 0);return i.registerListener({callback:t}),this.plugin.metadataManager.subscribe(n,i,e,()=>{i.unregisterAllListeners()})}};var S4=ll("obsidian/publish"),_d=class extends S4.MarkdownRenderChild{constructor(e,t,n){super(n),this.plugin=e,this.base=t,this.uuid=Tr(),this.filePath=t.getFilePath()}onload(){this.base.mount(this.containerEl),super.onload()}onunload(){this.base.unmount(),super.onunload()}};var Sd=class extends wd{constructor(e){super(e)}wrapInMDRC(e,t,n){let i=new _d(this.plugin,e,t);return n.addChild(i),i}};var Sa=class{constructor(e,t){this.plugin=e,this.selectCallback=t}onSelected(e){this.selectCallback(e)}};var Dd=class extends Sa{getItemText(e){return e.name}getItems(){return this.plugin.internal.getAllCommands()}};var Nd=class extends Sa{getItemText(e){return e}getItems(){return this.plugin.internal.getAllFiles()}};var Ad=class extends Sa{getItemText(e){return e}getItems(){return this.plugin.internal.getAllFolders()}};function jX(r){ai(r,"svelte-17mpvkc",".vertical.svelte-17mpvkc{flex-direction:column;align-items:flex-start;gap:var(--size-4-1)}.vertical-control.svelte-17mpvkc{flex-direction:column;align-items:flex-start;gap:var(--size-4-1);width:100%}")}function ZX(r){var d,v;let e,t,n,i=((d=r[0])!=null?d:"")+"",a,o,c,u=((v=r[1])!=null?v:"")+"",s,l,f,p,m=r[5].default,h=Pa(m,r,r[4],null);return{c(){e=re("div"),t=re("div"),n=re("div"),a=je(i),o=xe(),c=re("div"),s=je(u),l=xe(),f=re("div"),h&&h.c(),z(n,"class","setting-item-name"),z(c,"class","setting-item-description"),z(t,"class","setting-item-info"),z(f,"class","setting-item-control svelte-17mpvkc"),Ut(f,"vertical-control",r[3]),z(e,"class","setting-item svelte-17mpvkc"),Ut(e,"setting-item-heading",r[2]),Ut(e,"vertical",r[3])},m(y,S){Z(y,e,S),ae(e,t),ae(t,n),ae(n,a),ae(t,o),ae(t,c),ae(c,s),ae(e,l),ae(e,f),h&&h.m(f,null),p=!0},p(y,[S]){var b,w;(!p||S&1)&&i!==(i=((b=y[0])!=null?b:"")+"")&&mt(a,i),(!p||S&2)&&u!==(u=((w=y[1])!=null?w:"")+"")&&mt(s,u),h&&h.p&&(!p||S&16)&&ka(h,m,y,y[4],p?Oa(m,y[4],S,null):Ra(y[4]),null),(!p||S&8)&&Ut(f,"vertical-control",y[3]),(!p||S&4)&&Ut(e,"setting-item-heading",y[2]),(!p||S&8)&&Ut(e,"vertical",y[3])},i(y){p||(ne(h,y),p=!0)},o(y){ue(h,y),p=!1},d(y){y&&j(e),h&&h.d(y)}}}function JX(r,e,t){let{$$slots:n={},$$scope:i}=e,{name:a=void 0}=e,{description:o=void 0}=e,{heading:c=!1}=e,{vertical:u=!1}=e;return r.$$set=s=>{"name"in s&&t(0,a=s.name),"description"in s&&t(1,o=s.description),"heading"in s&&t(2,c=s.heading),"vertical"in s&&t(3,u=s.vertical),"$$scope"in s&&t(4,i=s.$$scope)},[a,o,c,u,i,n]}var TS=class extends et{constructor(e){super(),it(this,e,JX,ZX,nt,{name:0,description:1,heading:2,vertical:3},jX)}},Nr=TS;function XX(r){let e,t,n=r[1].default,i=Pa(n,r,r[0],null);return{c(){e=re("div"),i&&i.c(),z(e,"class","modal-button-container")},m(a,o){Z(a,e,o),i&&i.m(e,null),t=!0},p(a,[o]){i&&i.p&&(!t||o&1)&&ka(i,n,a,a[0],t?Oa(n,a[0],o,null):Ra(a[0]),null)},i(a){t||(ne(i,a),t=!0)},o(a){ue(i,a),t=!1},d(a){a&&j(e),i&&i.d(a)}}}function QX(r,e,t){let{$$slots:n={},$$scope:i}=e;return r.$$set=a=>{"$$scope"in a&&t(0,i=a.$$scope)},[i,n]}var MS=class extends et{constructor(e){super(),it(this,e,QX,XX,nt,{})}},Ed=MS;function KX(r){let e,t,n,i,a,o;return{c(){var c,u,s;e=re("div"),t=re("input"),z(t,"type","checkbox"),z(t,"tabindex","-1"),t.checked=n=(c=r[0])!=null?c:!1,z(e,"class","checkbox-container"),z(e,"role","switch"),z(e,"tabindex","0"),z(e,"aria-checked",i=(u=r[0])!=null?u:!1),Ut(e,"is-enabled",(s=r[0])!=null?s:!1)},m(c,u){Z(c,e,u),ae(e,t),a||(o=[Pe(e,"click",r[1]),Pe(e,"keydown",r[2])],a=!0)},p(c,[u]){var s,l,f;u&1&&n!==(n=(s=c[0])!=null?s:!1)&&(t.checked=n),u&1&&i!==(i=(l=c[0])!=null?l:!1)&&z(e,"aria-checked",i),u&1&&Ut(e,"is-enabled",(f=c[0])!=null?f:!1)},i:Ke,o:Ke,d(c){c&&j(e),a=!1,Et(o)}}}function eQ(r,e,t){let{checked:n}=e,i=()=>t(0,n=!n),a=o=>{o.key===" "&&t(0,n=!n)};return r.$$set=o=>{"checked"in o&&t(0,n=o.checked)},[n,i,a]}var CS=class extends et{constructor(e){super(),it(this,e,eQ,KX,nt,{checked:0})}},bc=CS;function D4(r,e,t){let n=r.slice();return n[60]=e[t],n[61]=e,n[62]=t,n}function N4(r,e,t){let n=r.slice();return n[63]=e[t],n}function A4(r,e,t){let n=r.slice();return n[63]=e[t],n}function tQ(r){let e,t,n;return{c(){e=re("input"),z(e,"type","text")},m(i,a){Z(i,e,a),Je(e,r[0].label),t||(n=Pe(e,"input",r[12]),t=!0)},p(i,a){a[0]&1&&e.value!==i[0].label&&Je(e,i[0].label)},d(i){i&&j(e),t=!1,n()}}}function E4(r){let e,t=r[63]+"",n,i;return{c(){e=re("option"),n=je(t),e.__value=i=r[63],Je(e,e.__value)},m(a,o){Z(a,e,o),ae(e,n)},p:Ke,d(a){a&&j(e)}}}function rQ(r){let e,t,n,i=ft(Object.values(vn)),a=[];for(let o=0;o<i.length;o+=1)a[o]=E4(A4(r,i,o));return{c(){e=re("select");for(let o=0;o<a.length;o+=1)a[o].c();z(e,"class","dropdown"),r[0].style===void 0&&bn(()=>r[13].call(e))},m(o,c){Z(o,e,c);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(e,null);Jr(e,r[0].style,!0),t||(n=Pe(e,"change",r[13]),t=!0)},p(o,c){if(c&0){i=ft(Object.values(vn));let u;for(u=0;u<i.length;u+=1){let s=A4(o,i,u);a[u]?a[u].p(s,c):(a[u]=E4(s),a[u].c(),a[u].m(e,null))}for(;u<a.length;u+=1)a[u].d(1);a.length=i.length}c[0]&1&&Jr(e,o[0].style)},d(o){o&&j(e),Qt(a,o),t=!1,n()}}}function nQ(r){let e,t,n;return{c(){e=re("input"),z(e,"type","text")},m(i,a){Z(i,e,a),Je(e,r[0].class),t||(n=Pe(e,"input",r[14]),t=!0)},p(i,a){a[0]&1&&e.value!==i[0].class&&Je(e,i[0].class)},d(i){i&&j(e),t=!1,n()}}}function iQ(r){let e,t,n;return{c(){e=re("input"),z(e,"type","text")},m(i,a){Z(i,e,a),Je(e,r[0].tooltip),t||(n=Pe(e,"input",r[15]),t=!0)},p(i,a){a[0]&1&&e.value!==i[0].tooltip&&Je(e,i[0].tooltip)},d(i){i&&j(e),t=!1,n()}}}function aQ(r){let e,t,n;return{c(){e=re("input"),z(e,"type","text")},m(i,a){Z(i,e,a),Je(e,r[0].id),t||(n=Pe(e,"input",r[16]),t=!0)},p(i,a){a[0]&1&&e.value!==i[0].id&&Je(e,i[0].id)},d(i){i&&j(e),t=!1,n()}}}function oQ(r){let e,t,n;function i(o){r[17](o)}let a={};return r[0].hidden!==void 0&&(a.checked=r[0].hidden),e=new bc({props:a}),Nn.push(()=>as(e,"checked",i)),{c(){Re(e.$$.fragment)},m(o,c){Oe(e,o,c),n=!0},p(o,c){let u={};!t&&c[0]&1&&(t=!0,u.checked=o[0].hidden,ns(()=>t=!1)),e.$set(u)},i(o){n||(ne(e.$$.fragment,o),n=!0)},o(o){ue(e.$$.fragment,o),n=!1},d(o){ke(e,o)}}}function T4(r){let e,t=r[63]+"",n,i;return{c(){e=re("option"),n=je(t),e.__value=i=r[63],Je(e,e.__value)},m(a,o){Z(a,e,o),ae(e,n)},p:Ke,d(a){a&&j(e)}}}function sQ(r){let e;return{c(){e=je("Add Action")},m(t,n){Z(t,e,n)},d(t){t&&j(e)}}}function M4(r){let e,t;return e=new Nr({props:{name:"Command: "+(r[60].command||"none"),description:"The command to execute when this action runs.",$$slots:{default:[cQ]},$$scope:{ctx:r}}}),{c(){Re(e.$$.fragment)},m(n,i){Oe(e,n,i),t=!0},p(n,i){let a={};i[0]&1&&(a.name="Command: "+(n[60].command||"none")),i[0]&3|i[2]&64&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||(ne(e.$$.fragment,n),t=!0)},o(n){ue(e.$$.fragment,n),t=!1},d(n){ke(e,n)}}}function uQ(r){let e;return{c(){e=je("Change")},m(t,n){Z(t,e,n)},d(t){t&&j(e)}}}function lQ(r){let e,t;return e=new Pr({props:{plugin:r[1].plugin,iconName:"x"}}),{c(){Re(e.$$.fragment)},m(n,i){Oe(e,n,i),t=!0},p(n,i){let a={};i[0]&2&&(a.plugin=n[1].plugin),e.$set(a)},i(n){t||(ne(e.$$.fragment,n),t=!0)},o(n){ue(e.$$.fragment,n),t=!1},d(n){ke(e,n)}}}function cQ(r){let e,t,n,i;function a(){return r[20](r[60])}e=new jt({props:{variant:"primary",$$slots:{default:[uQ]},$$scope:{ctx:r}}}),e.$on("click",a);function o(){return r[21](r[62])}return n=new jt({props:{variant:"destructive",$$slots:{default:[lQ]},$$scope:{ctx:r}}}),n.$on("click",o),{c(){Re(e.$$.fragment),t=xe(),Re(n.$$.fragment)},m(c,u){Oe(e,c,u),Z(c,t,u),Oe(n,c,u),i=!0},p(c,u){r=c;let s={};u[2]&64&&(s.$$scope={dirty:u,ctx:r}),e.$set(s);let l={};u[0]&2|u[2]&64&&(l.$$scope={dirty:u,ctx:r}),n.$set(l)},i(c){i||(ne(e.$$.fragment,c),ne(n.$$.fragment,c),i=!0)},o(c){ue(e.$$.fragment,c),ue(n.$$.fragment,c),i=!1},d(c){c&&j(t),ke(e,c),ke(n,c)}}}function C4(r){let e,t;return e=new Nr({props:{name:"Link",description:"The link to open.",$$slots:{default:[pQ]},$$scope:{ctx:r}}}),{c(){Re(e.$$.fragment)},m(n,i){Oe(e,n,i),t=!0},p(n,i){let a={};i[0]&3|i[2]&64&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||(ne(e.$$.fragment,n),t=!0)},o(n){ue(e.$$.fragment,n),t=!1},d(n){ke(e,n)}}}function fQ(r){let e,t;return e=new Pr({props:{plugin:r[1].plugin,iconName:"x"}}),{c(){Re(e.$$.fragment)},m(n,i){Oe(e,n,i),t=!0},p(n,i){let a={};i[0]&2&&(a.plugin=n[1].plugin),e.$set(a)},i(n){t||(ne(e.$$.fragment,n),t=!0)},o(n){ue(e.$$.fragment,n),t=!1},d(n){ke(e,n)}}}function pQ(r){let e,t,n,i,a,o;function c(){r[22].call(e,r[61],r[62])}function u(){return r[23](r[62])}return n=new jt({props:{variant:"destructive",$$slots:{default:[fQ]},$$scope:{ctx:r}}}),n.$on("click",u),{c(){e=re("input"),t=xe(),Re(n.$$.fragment),z(e,"type","text"),z(e,"placeholder","[[Some Note]] or https://www.example.com")},m(s,l){Z(s,e,l),Je(e,r[60].link),Z(s,t,l),Oe(n,s,l),i=!0,a||(o=Pe(e,"input",c),a=!0)},p(s,l){r=s,l[0]&1&&e.value!==r[60].link&&Je(e,r[60].link);let f={};l[0]&2|l[2]&64&&(f.$$scope={dirty:l,ctx:r}),n.$set(f)},i(s){i||(ne(n.$$.fragment,s),i=!0)},o(s){ue(n.$$.fragment,s),i=!1},d(s){s&&(j(e),j(t)),ke(n,s),a=!1,o()}}}function F4(r){let e,t;return e=new Nr({props:{name:"JS File",description:"The JavaScript file to run.",$$slots:{default:[dQ]},$$scope:{ctx:r}}}),{c(){Re(e.$$.fragment)},m(n,i){Oe(e,n,i),t=!0},p(n,i){let a={};i[0]&3|i[2]&64&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||(ne(e.$$.fragment,n),t=!0)},o(n){ue(e.$$.fragment,n),t=!1},d(n){ke(e,n)}}}function mQ(r){let e,t;return e=new Pr({props:{plugin:r[1].plugin,iconName:"x"}}),{c(){Re(e.$$.fragment)},m(n,i){Oe(e,n,i),t=!0},p(n,i){let a={};i[0]&2&&(a.plugin=n[1].plugin),e.$set(a)},i(n){t||(ne(e.$$.fragment,n),t=!0)},o(n){ue(e.$$.fragment,n),t=!1},d(n){ke(e,n)}}}function dQ(r){let e,t,n,i,a,o;function c(){r[24].call(e,r[61],r[62])}function u(){return r[25](r[62])}return n=new jt({props:{variant:"destructive",$$slots:{default:[mQ]},$$scope:{ctx:r}}}),n.$on("click",u),{c(){e=re("input"),t=xe(),Re(n.$$.fragment),z(e,"type","text"),z(e,"placeholder","someJsFile.js")},m(s,l){Z(s,e,l),Je(e,r[60].file),Z(s,t,l),Oe(n,s,l),i=!0,a||(o=Pe(e,"input",c),a=!0)},p(s,l){r=s,l[0]&1&&e.value!==r[60].file&&Je(e,r[60].file);let f={};l[0]&2|l[2]&64&&(f.$$scope={dirty:l,ctx:r}),n.$set(f)},i(s){i||(ne(n.$$.fragment,s),i=!0)},o(s){ue(n.$$.fragment,s),i=!1},d(s){s&&(j(e),j(t)),ke(n,s),a=!1,o()}}}function I4(r){let e,t;return e=new Nr({props:{name:"Text",description:"The text to input at the cursor.",$$slots:{default:[gQ]},$$scope:{ctx:r}}}),{c(){Re(e.$$.fragment)},m(n,i){Oe(e,n,i),t=!0},p(n,i){let a={};i[0]&3|i[2]&64&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||(ne(e.$$.fragment,n),t=!0)},o(n){ue(e.$$.fragment,n),t=!1},d(n){ke(e,n)}}}function hQ(r){let e,t;return e=new Pr({props:{plugin:r[1].plugin,iconName:"x"}}),{c(){Re(e.$$.fragment)},m(n,i){Oe(e,n,i),t=!0},p(n,i){let a={};i[0]&2&&(a.plugin=n[1].plugin),e.$set(a)},i(n){t||(ne(e.$$.fragment,n),t=!0)},o(n){ue(e.$$.fragment,n),t=!1},d(n){ke(e,n)}}}function gQ(r){let e,t,n,i,a,o;function c(){r[26].call(e,r[61],r[62])}function u(){return r[27](r[62])}return n=new jt({props:{variant:"destructive",$$slots:{default:[hQ]},$$scope:{ctx:r}}}),n.$on("click",u),{c(){e=re("input"),t=xe(),Re(n.$$.fragment),z(e,"type","text"),z(e,"placeholder","some text")},m(s,l){Z(s,e,l),Je(e,r[60].str),Z(s,t,l),Oe(n,s,l),i=!0,a||(o=Pe(e,"input",c),a=!0)},p(s,l){r=s,l[0]&1&&e.value!==r[60].str&&Je(e,r[60].str);let f={};l[0]&2|l[2]&64&&(f.$$scope={dirty:l,ctx:r}),n.$set(f)},i(s){i||(ne(n.$$.fragment,s),i=!0)},o(s){ue(n.$$.fragment,s),i=!1},d(s){s&&(j(e),j(t)),ke(n,s),a=!1,o()}}}function B4(r){let e,t;return e=new Nr({props:{name:"Sleep Time",description:"The time to sleep in milliseconds.",$$slots:{default:[yQ]},$$scope:{ctx:r}}}),{c(){Re(e.$$.fragment)},m(n,i){Oe(e,n,i),t=!0},p(n,i){let a={};i[0]&3|i[2]&64&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||(ne(e.$$.fragment,n),t=!0)},o(n){ue(e.$$.fragment,n),t=!1},d(n){ke(e,n)}}}function vQ(r){let e,t;return e=new Pr({props:{plugin:r[1].plugin,iconName:"x"}}),{c(){Re(e.$$.fragment)},m(n,i){Oe(e,n,i),t=!0},p(n,i){let a={};i[0]&2&&(a.plugin=n[1].plugin),e.$set(a)},i(n){t||(ne(e.$$.fragment,n),t=!0)},o(n){ue(e.$$.fragment,n),t=!1},d(n){ke(e,n)}}}function yQ(r){let e,t,n,i,a,o;function c(){r[28].call(e,r[61],r[62])}function u(){return r[29](r[62])}return n=new jt({props:{variant:"destructive",$$slots:{default:[vQ]},$$scope:{ctx:r}}}),n.$on("click",u),{c(){e=re("input"),t=xe(),Re(n.$$.fragment),z(e,"type","number"),z(e,"placeholder","100 ms")},m(s,l){Z(s,e,l),Je(e,r[60].ms),Z(s,t,l),Oe(n,s,l),i=!0,a||(o=Pe(e,"input",c),a=!0)},p(s,l){r=s,l[0]&1&&yn(e.value)!==r[60].ms&&Je(e,r[60].ms);let f={};l[0]&2|l[2]&64&&(f.$$scope={dirty:l,ctx:r}),n.$set(f)},i(s){i||(ne(n.$$.fragment,s),i=!0)},o(s){ue(n.$$.fragment,s),i=!1},d(s){s&&(j(e),j(t)),ke(n,s),a=!1,o()}}}function P4(r){let e,t,n,i,a,o,c,u,s,l;function f(){return r[30](r[62])}return e=new jt({props:{variant:"destructive",$$slots:{default:[bQ]},$$scope:{ctx:r}}}),e.$on("click",f),n=new Nr({props:{name:"Template File: "+(r[60].templateFile||"none"),description:"The template file to create a new note of.",$$slots:{default:[wQ]},$$scope:{ctx:r}}}),a=new Nr({props:{name:"Folder: "+(r[60].folderPath||"none"),description:"The folder to create a new note in.",$$slots:{default:[SQ]},$$scope:{ctx:r}}}),c=new Nr({props:{name:"File Name: "+(r[60].fileName||"default"),description:"The file name of the new note.",$$slots:{default:[DQ]},$$scope:{ctx:r}}}),s=new Nr({props:{name:"Open Note",description:"Whether to open the new note after this action ran.",$$slots:{default:[NQ]},$$scope:{ctx:r}}}),{c(){Re(e.$$.fragment),t=xe(),Re(n.$$.fragment),i=xe(),Re(a.$$.fragment),o=xe(),Re(c.$$.fragment),u=xe(),Re(s.$$.fragment)},m(p,m){Oe(e,p,m),Z(p,t,m),Oe(n,p,m),Z(p,i,m),Oe(a,p,m),Z(p,o,m),Oe(c,p,m),Z(p,u,m),Oe(s,p,m),l=!0},p(p,m){r=p;let h={};m[2]&64&&(h.$$scope={dirty:m,ctx:r}),e.$set(h);let d={};m[0]&1&&(d.name="Template File: "+(r[60].templateFile||"none")),m[0]&1|m[2]&64&&(d.$$scope={dirty:m,ctx:r}),n.$set(d);let v={};m[0]&1&&(v.name="Folder: "+(r[60].folderPath||"none")),m[0]&1|m[2]&64&&(v.$$scope={dirty:m,ctx:r}),a.$set(v);let y={};m[0]&1&&(y.name="File Name: "+(r[60].fileName||"default")),m[0]&1|m[2]&64&&(y.$$scope={dirty:m,ctx:r}),c.$set(y);let S={};m[0]&1|m[2]&64&&(S.$$scope={dirty:m,ctx:r}),s.$set(S)},i(p){l||(ne(e.$$.fragment,p),ne(n.$$.fragment,p),ne(a.$$.fragment,p),ne(c.$$.fragment,p),ne(s.$$.fragment,p),l=!0)},o(p){ue(e.$$.fragment,p),ue(n.$$.fragment,p),ue(a.$$.fragment,p),ue(c.$$.fragment,p),ue(s.$$.fragment,p),l=!1},d(p){p&&(j(t),j(i),j(o),j(u)),ke(e,p),ke(n,p),ke(a,p),ke(c,p),ke(s,p)}}}function bQ(r){let e;return{c(){e=je("Remove Action")},m(t,n){Z(t,e,n)},d(t){t&&j(e)}}}function xQ(r){let e;return{c(){e=je("Change")},m(t,n){Z(t,e,n)},d(t){t&&j(e)}}}function wQ(r){let e,t;function n(){return r[31](r[60])}return e=new jt({props:{variant:"primary",$$slots:{default:[xQ]},$$scope:{ctx:r}}}),e.$on("click",n),{c(){Re(e.$$.fragment)},m(i,a){Oe(e,i,a),t=!0},p(i,a){r=i;let o={};a[2]&64&&(o.$$scope={dirty:a,ctx:r}),e.$set(o)},i(i){t||(ne(e.$$.fragment,i),t=!0)},o(i){ue(e.$$.fragment,i),t=!1},d(i){ke(e,i)}}}function _Q(r){let e;return{c(){e=je("Change")},m(t,n){Z(t,e,n)},d(t){t&&j(e)}}}function SQ(r){let e,t;function n(){return r[32](r[60])}return e=new jt({props:{variant:"primary",$$slots:{default:[_Q]},$$scope:{ctx:r}}}),e.$on("click",n),{c(){Re(e.$$.fragment)},m(i,a){Oe(e,i,a),t=!0},p(i,a){r=i;let o={};a[2]&64&&(o.$$scope={dirty:a,ctx:r}),e.$set(o)},i(i){t||(ne(e.$$.fragment,i),t=!0)},o(i){ue(e.$$.fragment,i),t=!1},d(i){ke(e,i)}}}function DQ(r){let e,t,n;function i(){r[33].call(e,r[61],r[62])}return{c(){e=re("input"),z(e,"type","text"),z(e,"placeholder","some name")},m(a,o){Z(a,e,o),Je(e,r[60].fileName),t||(n=Pe(e,"input",i),t=!0)},p(a,o){r=a,o[0]&1&&e.value!==r[60].fileName&&Je(e,r[60].fileName)},d(a){a&&j(e),t=!1,n()}}}function NQ(r){let e,t,n;function i(o){r[34](o,r[60])}let a={};return r[60].openNote!==void 0&&(a.checked=r[60].openNote),e=new bc({props:a}),Nn.push(()=>as(e,"checked",i)),{c(){Re(e.$$.fragment)},m(o,c){Oe(e,o,c),n=!0},p(o,c){r=o;let u={};!t&&c[0]&1&&(t=!0,u.checked=r[60].openNote,ns(()=>t=!1)),e.$set(u)},i(o){n||(ne(e.$$.fragment,o),n=!0)},o(o){ue(e.$$.fragment,o),n=!1},d(o){ke(e,o)}}}function O4(r){let e,t,n,i,a,o,c,u;function s(){return r[35](r[62])}return e=new jt({props:{variant:"destructive",$$slots:{default:[AQ]},$$scope:{ctx:r}}}),e.$on("click",s),n=new Nr({props:{name:"Metadata Property",description:"The metadata property in form of a bind target.",$$slots:{default:[EQ]},$$scope:{ctx:r}}}),a=new Nr({props:{name:"Value",description:"The new value.",$$slots:{default:[TQ]},$$scope:{ctx:r}}}),c=new Nr({props:{name:"Evaluate",description:"Whether to evaluate the value as a JS expression.",$$slots:{default:[MQ]},$$scope:{ctx:r}}}),{c(){Re(e.$$.fragment),t=xe(),Re(n.$$.fragment),i=xe(),Re(a.$$.fragment),o=xe(),Re(c.$$.fragment)},m(l,f){Oe(e,l,f),Z(l,t,f),Oe(n,l,f),Z(l,i,f),Oe(a,l,f),Z(l,o,f),Oe(c,l,f),u=!0},p(l,f){r=l;let p={};f[2]&64&&(p.$$scope={dirty:f,ctx:r}),e.$set(p);let m={};f[0]&1|f[2]&64&&(m.$$scope={dirty:f,ctx:r}),n.$set(m);let h={};f[0]&1|f[2]&64&&(h.$$scope={dirty:f,ctx:r}),a.$set(h);let d={};f[0]&1|f[2]&64&&(d.$$scope={dirty:f,ctx:r}),c.$set(d)},i(l){u||(ne(e.$$.fragment,l),ne(n.$$.fragment,l),ne(a.$$.fragment,l),ne(c.$$.fragment,l),u=!0)},o(l){ue(e.$$.fragment,l),ue(n.$$.fragment,l),ue(a.$$.fragment,l),ue(c.$$.fragment,l),u=!1},d(l){l&&(j(t),j(i),j(o)),ke(e,l),ke(n,l),ke(a,l),ke(c,l)}}}function AQ(r){let e;return{c(){e=je("Remove Action")},m(t,n){Z(t,e,n)},d(t){t&&j(e)}}}function EQ(r){let e,t,n;function i(){r[36].call(e,r[61],r[62])}return{c(){e=re("input"),z(e,"type","text"),z(e,"placeholder","some value")},m(a,o){Z(a,e,o),Je(e,r[60].bindTarget),t||(n=Pe(e,"input",i),t=!0)},p(a,o){r=a,o[0]&1&&e.value!==r[60].bindTarget&&Je(e,r[60].bindTarget)},d(a){a&&j(e),t=!1,n()}}}function TQ(r){let e,t,n;function i(){r[37].call(e,r[61],r[62])}return{c(){e=re("input"),z(e,"type","text"),z(e,"placeholder","some value")},m(a,o){Z(a,e,o),Je(e,r[60].value),t||(n=Pe(e,"input",i),t=!0)},p(a,o){r=a,o[0]&1&&e.value!==r[60].value&&Je(e,r[60].value)},d(a){a&&j(e),t=!1,n()}}}function MQ(r){let e,t,n;function i(o){r[38](o,r[60])}let a={};return r[60].evaluate!==void 0&&(a.checked=r[60].evaluate),e=new bc({props:a}),Nn.push(()=>as(e,"checked",i)),{c(){Re(e.$$.fragment)},m(o,c){Oe(e,o,c),n=!0},p(o,c){r=o;let u={};!t&&c[0]&1&&(t=!0,u.checked=r[60].evaluate,ns(()=>t=!1)),e.$set(u)},i(o){n||(ne(e.$$.fragment,o),n=!0)},o(o){ue(e.$$.fragment,o),n=!1},d(o){ke(e,o)}}}function k4(r){let e,t,n,i,a,o,c,u;function s(){return r[39](r[62])}return e=new jt({props:{variant:"destructive",$$slots:{default:[CQ]},$$scope:{ctx:r}}}),e.$on("click",s),n=new Nr({props:{name:"Folder: "+(r[60].folderPath||"none"),description:"The folder to create a new note in.",$$slots:{default:[IQ]},$$scope:{ctx:r}}}),a=new Nr({props:{name:"File Name: "+(r[60].fileName||"default"),description:"The file name of the new note.",$$slots:{default:[BQ]},$$scope:{ctx:r}}}),c=new Nr({props:{name:"Open Note",description:"Whether to open the new note after this action ran.",$$slots:{default:[PQ]},$$scope:{ctx:r}}}),{c(){Re(e.$$.fragment),t=xe(),Re(n.$$.fragment),i=xe(),Re(a.$$.fragment),o=xe(),Re(c.$$.fragment)},m(l,f){Oe(e,l,f),Z(l,t,f),Oe(n,l,f),Z(l,i,f),Oe(a,l,f),Z(l,o,f),Oe(c,l,f),u=!0},p(l,f){r=l;let p={};f[2]&64&&(p.$$scope={dirty:f,ctx:r}),e.$set(p);let m={};f[0]&1&&(m.name="Folder: "+(r[60].folderPath||"none")),f[0]&1|f[2]&64&&(m.$$scope={dirty:f,ctx:r}),n.$set(m);let h={};f[0]&1&&(h.name="File Name: "+(r[60].fileName||"default")),f[0]&1|f[2]&64&&(h.$$scope={dirty:f,ctx:r}),a.$set(h);let d={};f[0]&1|f[2]&64&&(d.$$scope={dirty:f,ctx:r}),c.$set(d)},i(l){u||(ne(e.$$.fragment,l),ne(n.$$.fragment,l),ne(a.$$.fragment,l),ne(c.$$.fragment,l),u=!0)},o(l){ue(e.$$.fragment,l),ue(n.$$.fragment,l),ue(a.$$.fragment,l),ue(c.$$.fragment,l),u=!1},d(l){l&&(j(t),j(i),j(o)),ke(e,l),ke(n,l),ke(a,l),ke(c,l)}}}function CQ(r){let e;return{c(){e=je("Remove Action")},m(t,n){Z(t,e,n)},d(t){t&&j(e)}}}function FQ(r){let e;return{c(){e=je("Change")},m(t,n){Z(t,e,n)},d(t){t&&j(e)}}}function IQ(r){let e,t;function n(){return r[40](r[60])}return e=new jt({props:{variant:"primary",$$slots:{default:[FQ]},$$scope:{ctx:r}}}),e.$on("click",n),{c(){Re(e.$$.fragment)},m(i,a){Oe(e,i,a),t=!0},p(i,a){r=i;let o={};a[2]&64&&(o.$$scope={dirty:a,ctx:r}),e.$set(o)},i(i){t||(ne(e.$$.fragment,i),t=!0)},o(i){ue(e.$$.fragment,i),t=!1},d(i){ke(e,i)}}}function BQ(r){let e,t,n;function i(){r[41].call(e,r[61],r[62])}return{c(){e=re("input"),z(e,"type","text"),z(e,"placeholder","some name")},m(a,o){Z(a,e,o),Je(e,r[60].fileName),t||(n=Pe(e,"input",i),t=!0)},p(a,o){r=a,o[0]&1&&e.value!==r[60].fileName&&Je(e,r[60].fileName)},d(a){a&&j(e),t=!1,n()}}}function PQ(r){let e,t,n;function i(o){r[42](o,r[60])}let a={};return r[60].openNote!==void 0&&(a.checked=r[60].openNote),e=new bc({props:a}),Nn.push(()=>as(e,"checked",i)),{c(){Re(e.$$.fragment)},m(o,c){Oe(e,o,c),n=!0},p(o,c){r=o;let u={};!t&&c[0]&1&&(t=!0,u.checked=r[60].openNote,ns(()=>t=!1)),e.$set(u)},i(o){n||(ne(e.$$.fragment,o),n=!0)},o(o){ue(e.$$.fragment,o),n=!1},d(o){ke(e,o)}}}function R4(r){let e,t,n,i,a,o,c,u,s,l,f,p,m;function h(){return r[43](r[62])}e=new jt({props:{variant:"destructive",$$slots:{default:[OQ]},$$scope:{ctx:r}}}),e.$on("click",h),n=new Nr({props:{name:"Line From",description:"The line that marks the start of the area to replace.",$$slots:{default:[kQ]},$$scope:{ctx:r}}}),a=new Nr({props:{name:"Line To",description:"The line that marks the end of the area to replace.",$$slots:{default:[RQ]},$$scope:{ctx:r}}}),c=new Nr({props:{name:"Replacement Text",description:"The text to replace the note section."}});function d(){r[46].call(l,r[61],r[62])}return{c(){Re(e.$$.fragment),t=xe(),Re(n.$$.fragment),i=xe(),Re(a.$$.fragment),o=xe(),Re(c.$$.fragment),u=xe(),s=re("div"),l=re("textarea"),z(s,"class","meta-bind-full-width meta-bind-high")},m(v,y){Oe(e,v,y),Z(v,t,y),Oe(n,v,y),Z(v,i,y),Oe(a,v,y),Z(v,o,y),Oe(c,v,y),Z(v,u,y),Z(v,s,y),ae(s,l),Je(l,r[60].replacement),f=!0,p||(m=Pe(l,"input",d),p=!0)},p(v,y){r=v;let S={};y[2]&64&&(S.$$scope={dirty:y,ctx:r}),e.$set(S);let b={};y[0]&1|y[2]&64&&(b.$$scope={dirty:y,ctx:r}),n.$set(b);let w={};y[0]&1|y[2]&64&&(w.$$scope={dirty:y,ctx:r}),a.$set(w),y[0]&1&&Je(l,r[60].replacement)},i(v){f||(ne(e.$$.fragment,v),ne(n.$$.fragment,v),ne(a.$$.fragment,v),ne(c.$$.fragment,v),f=!0)},o(v){ue(e.$$.fragment,v),ue(n.$$.fragment,v),ue(a.$$.fragment,v),ue(c.$$.fragment,v),f=!1},d(v){v&&(j(t),j(i),j(o),j(u),j(s)),ke(e,v),ke(n,v),ke(a,v),ke(c,v),p=!1,m()}}}function OQ(r){let e;return{c(){e=je("Remove Action")},m(t,n){Z(t,e,n)},d(t){t&&j(e)}}}function kQ(r){let e,t,n;function i(){r[44].call(e,r[61],r[62])}return{c(){e=re("input"),z(e,"type","number"),z(e,"placeholder","0")},m(a,o){Z(a,e,o),Je(e,r[60].fromLine),t||(n=Pe(e,"input",i),t=!0)},p(a,o){r=a,o[0]&1&&yn(e.value)!==r[60].fromLine&&Je(e,r[60].fromLine)},d(a){a&&j(e),t=!1,n()}}}function RQ(r){let e,t,n;function i(){r[45].call(e,r[61],r[62])}return{c(){e=re("input"),z(e,"type","number"),z(e,"placeholder","0")},m(a,o){Z(a,e,o),Je(e,r[60].toLine),t||(n=Pe(e,"input",i),t=!0)},p(a,o){r=a,o[0]&1&&yn(e.value)!==r[60].toLine&&Je(e,r[60].toLine)},d(a){a&&j(e),t=!1,n()}}}function L4(r){let e,t,n,i,a,o,c,u,s,l,f;function p(){return r[47](r[62])}e=new jt({props:{variant:"destructive",$$slots:{default:[LQ]},$$scope:{ctx:r}}}),e.$on("click",p),n=new Nr({props:{name:"Regexp",description:"The regexp to find replacements.",$$slots:{default:[UQ]},$$scope:{ctx:r}}}),a=new Nr({props:{name:"Replacement Text",description:"The text to replace the button with."}});function m(){r[49].call(u,r[61],r[62])}return{c(){Re(e.$$.fragment),t=xe(),Re(n.$$.fragment),i=xe(),Re(a.$$.fragment),o=xe(),c=re("div"),u=re("textarea"),z(c,"class","meta-bind-full-width meta-bind-high")},m(h,d){Oe(e,h,d),Z(h,t,d),Oe(n,h,d),Z(h,i,d),Oe(a,h,d),Z(h,o,d),Z(h,c,d),ae(c,u),Je(u,r[60].replacement),s=!0,l||(f=Pe(u,"input",m),l=!0)},p(h,d){r=h;let v={};d[2]&64&&(v.$$scope={dirty:d,ctx:r}),e.$set(v);let y={};d[0]&1|d[2]&64&&(y.$$scope={dirty:d,ctx:r}),n.$set(y),d[0]&1&&Je(u,r[60].replacement)},i(h){s||(ne(e.$$.fragment,h),ne(n.$$.fragment,h),ne(a.$$.fragment,h),s=!0)},o(h){ue(e.$$.fragment,h),ue(n.$$.fragment,h),ue(a.$$.fragment,h),s=!1},d(h){h&&(j(t),j(i),j(o),j(c)),ke(e,h),ke(n,h),ke(a,h),l=!1,f()}}}function LQ(r){let e;return{c(){e=je("Remove Action")},m(t,n){Z(t,e,n)},d(t){t&&j(e)}}}function UQ(r){let e,t,n;function i(){r[48].call(e,r[61],r[62])}return{c(){e=re("input"),z(e,"type","text")},m(a,o){Z(a,e,o),Je(e,r[60].regexp),t||(n=Pe(e,"input",i),t=!0)},p(a,o){r=a,o[0]&1&&e.value!==r[60].regexp&&Je(e,r[60].regexp)},d(a){a&&j(e),t=!1,n()}}}function U4(r){let e,t,n,i,a,o,c,u,s;function l(){return r[50](r[62])}e=new jt({props:{variant:"destructive",$$slots:{default:[VQ]},$$scope:{ctx:r}}}),e.$on("click",l),n=new Nr({props:{name:"Replacement Text",description:"The text to replace the match with."}});function f(){r[51].call(o,r[61],r[62])}return{c(){Re(e.$$.fragment),t=xe(),Re(n.$$.fragment),i=xe(),a=re("div"),o=re("textarea"),z(a,"class","meta-bind-full-width meta-bind-high")},m(p,m){Oe(e,p,m),Z(p,t,m),Oe(n,p,m),Z(p,i,m),Z(p,a,m),ae(a,o),Je(o,r[60].replacement),c=!0,u||(s=Pe(o,"input",f),u=!0)},p(p,m){r=p;let h={};m[2]&64&&(h.$$scope={dirty:m,ctx:r}),e.$set(h),m[0]&1&&Je(o,r[60].replacement)},i(p){c||(ne(e.$$.fragment,p),ne(n.$$.fragment,p),c=!0)},o(p){ue(e.$$.fragment,p),ue(n.$$.fragment,p),c=!1},d(p){p&&(j(t),j(i),j(a)),ke(e,p),ke(n,p),u=!1,s()}}}function VQ(r){let e;return{c(){e=je("Remove Action")},m(t,n){Z(t,e,n)},d(t){t&&j(e)}}}function V4(r){let e,t,n,i,a,o,c,u,s,l,f;function p(){return r[52](r[62])}e=new jt({props:{variant:"destructive",$$slots:{default:[qQ]},$$scope:{ctx:r}}}),e.$on("click",p),n=new Nr({props:{name:"Line",description:"The line number to insert at.",$$slots:{default:[zQ]},$$scope:{ctx:r}}}),a=new Nr({props:{name:"Text to Insert",description:"The text to insert into the note."}});function m(){r[54].call(u,r[61],r[62])}return{c(){Re(e.$$.fragment),t=xe(),Re(n.$$.fragment),i=xe(),Re(a.$$.fragment),o=xe(),c=re("div"),u=re("textarea"),z(c,"class","meta-bind-full-width meta-bind-high")},m(h,d){Oe(e,h,d),Z(h,t,d),Oe(n,h,d),Z(h,i,d),Oe(a,h,d),Z(h,o,d),Z(h,c,d),ae(c,u),Je(u,r[60].value),s=!0,l||(f=Pe(u,"input",m),l=!0)},p(h,d){r=h;let v={};d[2]&64&&(v.$$scope={dirty:d,ctx:r}),e.$set(v);let y={};d[0]&1|d[2]&64&&(y.$$scope={dirty:d,ctx:r}),n.$set(y),d[0]&1&&Je(u,r[60].value)},i(h){s||(ne(e.$$.fragment,h),ne(n.$$.fragment,h),ne(a.$$.fragment,h),s=!0)},o(h){ue(e.$$.fragment,h),ue(n.$$.fragment,h),ue(a.$$.fragment,h),s=!1},d(h){h&&(j(t),j(i),j(o),j(c)),ke(e,h),ke(n,h),ke(a,h),l=!1,f()}}}function qQ(r){let e;return{c(){e=je("Remove Action")},m(t,n){Z(t,e,n)},d(t){t&&j(e)}}}function zQ(r){let e,t,n;function i(){r[53].call(e,r[61],r[62])}return{c(){e=re("input"),z(e,"type","number"),z(e,"placeholder","0")},m(a,o){Z(a,e,o),Je(e,r[60].line),t||(n=Pe(e,"input",i),t=!0)},p(a,o){r=a,o[0]&1&&yn(e.value)!==r[60].line&&Je(e,r[60].line)},d(a){a&&j(e),t=!1,n()}}}function q4(r,e){let t,n=e[10](e[60].type)+"",i,a,o,c,u,s,l,f,p,m,h,d,v,y,S,b=e[60].type==="command"&&M4(e),w=e[60].type==="open"&&C4(e),_=e[60].type==="js"&&F4(e),x=e[60].type==="input"&&I4(e),T=e[60].type==="sleep"&&B4(e),A=e[60].type==="templaterCreateNote"&&P4(e),N=e[60].type==="updateMetadata"&&O4(e),E=e[60].type==="createNote"&&k4(e),C=e[60].type==="replaceInNote"&&R4(e),O=e[60].type==="regexpReplaceInNote"&&L4(e),U=e[60].type==="replaceSelf"&&U4(e),q=e[60].type==="insertIntoNote"&&V4(e);return{key:r,first:null,c(){t=re("h5"),i=je(n),a=xe(),b&&b.c(),o=xe(),w&&w.c(),c=xe(),_&&_.c(),u=xe(),x&&x.c(),s=xe(),T&&T.c(),l=xe(),A&&A.c(),f=xe(),N&&N.c(),p=xe(),E&&E.c(),m=xe(),C&&C.c(),h=xe(),O&&O.c(),d=xe(),U&&U.c(),v=xe(),q&&q.c(),y=Mr(),this.first=t},m(L,P){Z(L,t,P),ae(t,i),Z(L,a,P),b&&b.m(L,P),Z(L,o,P),w&&w.m(L,P),Z(L,c,P),_&&_.m(L,P),Z(L,u,P),x&&x.m(L,P),Z(L,s,P),T&&T.m(L,P),Z(L,l,P),A&&A.m(L,P),Z(L,f,P),N&&N.m(L,P),Z(L,p,P),E&&E.m(L,P),Z(L,m,P),C&&C.m(L,P),Z(L,h,P),O&&O.m(L,P),Z(L,d,P),U&&U.m(L,P),Z(L,v,P),q&&q.m(L,P),Z(L,y,P),S=!0},p(L,P){e=L,(!S||P[0]&1)&&n!==(n=e[10](e[60].type)+"")&&mt(i,n),e[60].type==="command"?b?(b.p(e,P),P[0]&1&&ne(b,1)):(b=M4(e),b.c(),ne(b,1),b.m(o.parentNode,o)):b&&(Bt(),ue(b,1,1,()=>{b=null}),Pt()),e[60].type==="open"?w?(w.p(e,P),P[0]&1&&ne(w,1)):(w=C4(e),w.c(),ne(w,1),w.m(c.parentNode,c)):w&&(Bt(),ue(w,1,1,()=>{w=null}),Pt()),e[60].type==="js"?_?(_.p(e,P),P[0]&1&&ne(_,1)):(_=F4(e),_.c(),ne(_,1),_.m(u.parentNode,u)):_&&(Bt(),ue(_,1,1,()=>{_=null}),Pt()),e[60].type==="input"?x?(x.p(e,P),P[0]&1&&ne(x,1)):(x=I4(e),x.c(),ne(x,1),x.m(s.parentNode,s)):x&&(Bt(),ue(x,1,1,()=>{x=null}),Pt()),e[60].type==="sleep"?T?(T.p(e,P),P[0]&1&&ne(T,1)):(T=B4(e),T.c(),ne(T,1),T.m(l.parentNode,l)):T&&(Bt(),ue(T,1,1,()=>{T=null}),Pt()),e[60].type==="templaterCreateNote"?A?(A.p(e,P),P[0]&1&&ne(A,1)):(A=P4(e),A.c(),ne(A,1),A.m(f.parentNode,f)):A&&(Bt(),ue(A,1,1,()=>{A=null}),Pt()),e[60].type==="updateMetadata"?N?(N.p(e,P),P[0]&1&&ne(N,1)):(N=O4(e),N.c(),ne(N,1),N.m(p.parentNode,p)):N&&(Bt(),ue(N,1,1,()=>{N=null}),Pt()),e[60].type==="createNote"?E?(E.p(e,P),P[0]&1&&ne(E,1)):(E=k4(e),E.c(),ne(E,1),E.m(m.parentNode,m)):E&&(Bt(),ue(E,1,1,()=>{E=null}),Pt()),e[60].type==="replaceInNote"?C?(C.p(e,P),P[0]&1&&ne(C,1)):(C=R4(e),C.c(),ne(C,1),C.m(h.parentNode,h)):C&&(Bt(),ue(C,1,1,()=>{C=null}),Pt()),e[60].type==="regexpReplaceInNote"?O?(O.p(e,P),P[0]&1&&ne(O,1)):(O=L4(e),O.c(),ne(O,1),O.m(d.parentNode,d)):O&&(Bt(),ue(O,1,1,()=>{O=null}),Pt()),e[60].type==="replaceSelf"?U?(U.p(e,P),P[0]&1&&ne(U,1)):(U=U4(e),U.c(),ne(U,1),U.m(v.parentNode,v)):U&&(Bt(),ue(U,1,1,()=>{U=null}),Pt()),e[60].type==="insertIntoNote"?q?(q.p(e,P),P[0]&1&&ne(q,1)):(q=V4(e),q.c(),ne(q,1),q.m(y.parentNode,y)):q&&(Bt(),ue(q,1,1,()=>{q=null}),Pt())},i(L){S||(ne(b),ne(w),ne(_),ne(x),ne(T),ne(A),ne(N),ne(E),ne(C),ne(O),ne(U),ne(q),S=!0)},o(L){ue(b),ue(w),ue(_),ue(x),ue(T),ue(A),ue(N),ue(E),ue(C),ue(O),ue(U),ue(q),S=!1},d(L){L&&(j(t),j(a),j(o),j(c),j(u),j(s),j(l),j(f),j(p),j(m),j(h),j(d),j(v),j(y)),b&&b.d(L),w&&w.d(L),_&&_.d(L),x&&x.d(L),T&&T.d(L),A&&A.d(L),N&&N.d(L),E&&E.d(L),C&&C.d(L),O&&O.d(L),U&&U.d(L),q&&q.d(L)}}}function $Q(r){let e=r[1].options.submitText+"",t;return{c(){t=je(e)},m(n,i){Z(n,t,i)},p(n,i){i[0]&2&&e!==(e=n[1].options.submitText+"")&&mt(t,e)},d(n){n&&j(t)}}}function HQ(r){let e;return{c(){e=je("Cancel")},m(t,n){Z(t,e,n)},d(t){t&&j(e)}}}function GQ(r){let e,t,n,i;return e=new jt({props:{variant:"primary",$$slots:{default:[$Q]},$$scope:{ctx:r}}}),e.$on("click",r[56]),n=new jt({props:{variant:"default",$$slots:{default:[HQ]},$$scope:{ctx:r}}}),n.$on("click",r[57]),{c(){Re(e.$$.fragment),t=xe(),Re(n.$$.fragment)},m(a,o){Oe(e,a,o),Z(a,t,o),Oe(n,a,o),i=!0},p(a,o){let c={};o[0]&2|o[2]&64&&(c.$$scope={dirty:o,ctx:a}),e.$set(c);let u={};o[2]&64&&(u.$$scope={dirty:o,ctx:a}),n.$set(u)},i(a){i||(ne(e.$$.fragment,a),ne(n.$$.fragment,a),i=!0)},o(a){ue(e.$$.fragment,a),ue(n.$$.fragment,a),i=!1},d(a){a&&j(t),ke(e,a),ke(n,a)}}}function WQ(r){var H;let e,t,n,i,a,o,c,u,s,l,f,p,m,h,d,v,y,S,b=[],w=new Map,_,x,T,A,N,E,C,O,U;e=new Nr({props:{name:"Label",description:"The label shown on the button.",$$slots:{default:[tQ]},$$scope:{ctx:r}}}),n=new Nr({props:{name:"Style",description:"The style variant of the button",$$slots:{default:[rQ]},$$scope:{ctx:r}}}),a=new Nr({props:{name:"CSS Classes",description:"A list of CSS classes to add to the button. Multiple classes should be separated by a space.",$$slots:{default:[nQ]},$$scope:{ctx:r}}}),c=new Nr({props:{name:"Tooltip",description:"A tooltip to show when hovering the button. If not set, the button label will be shown instead.",$$slots:{default:[iQ]},$$scope:{ctx:r}}}),s=new Nr({props:{name:"ID",description:"An ID that allows the button to be referenced in inline buttons.",$$slots:{default:[aQ]},$$scope:{ctx:r}}}),f=new Nr({props:{name:"Hidden",description:"Whether to not render this button. This can be useful when using inline buttons.",$$slots:{default:[oQ]},$$scope:{ctx:r}}});let q=ft(Object.values(eu)),L=[];for(let B=0;B<q.length;B+=1)L[B]=T4(N4(r,q,B));y=new jt({props:{variant:"primary",$$slots:{default:[sQ]},$$scope:{ctx:r}}}),y.$on("click",r[19]);let P=ft((H=r[0].actions)!=null?H:[]),k=B=>B[62];for(let B=0;B<P.length;B+=1){let W=D4(r,P,B),ie=k(W);w.set(ie,b[B]=q4(ie,W))}return E=new Ed({props:{$$slots:{default:[GQ]},$$scope:{ctx:r}}}),{c(){Re(e.$$.fragment),t=xe(),Re(n.$$.fragment),i=xe(),Re(a.$$.fragment),o=xe(),Re(c.$$.fragment),u=xe(),Re(s.$$.fragment),l=xe(),Re(f.$$.fragment),p=xe(),m=re("h4"),m.textContent="Actions",h=je(`

Add action of type
`),d=re("select");for(let B=0;B<L.length;B+=1)L[B].c();v=xe(),Re(y.$$.fragment),S=xe();for(let B=0;B<b.length;B+=1)b[B].c();_=xe(),x=re("h4"),x.textContent="Preview",T=xe(),A=re("div"),N=xe(),Re(E.$$.fragment),z(d,"class","dropdown"),r[3]===void 0&&bn(()=>r[18].call(d))},m(B,W){Oe(e,B,W),Z(B,t,W),Oe(n,B,W),Z(B,i,W),Oe(a,B,W),Z(B,o,W),Oe(c,B,W),Z(B,u,W),Oe(s,B,W),Z(B,l,W),Oe(f,B,W),Z(B,p,W),Z(B,m,W),Z(B,h,W),Z(B,d,W);for(let ie=0;ie<L.length;ie+=1)L[ie]&&L[ie].m(d,null);Jr(d,r[3],!0),Z(B,v,W),Oe(y,B,W),Z(B,S,W);for(let ie=0;ie<b.length;ie+=1)b[ie]&&b[ie].m(B,W);Z(B,_,W),Z(B,x,W),Z(B,T,W),Z(B,A,W),r[55](A),Z(B,N,W),Oe(E,B,W),C=!0,O||(U=Pe(d,"change",r[18]),O=!0)},p(B,W){var ge;let ie={};W[0]&1|W[2]&64&&(ie.$$scope={dirty:W,ctx:B}),e.$set(ie);let Q={};W[0]&1|W[2]&64&&(Q.$$scope={dirty:W,ctx:B}),n.$set(Q);let V={};W[0]&1|W[2]&64&&(V.$$scope={dirty:W,ctx:B}),a.$set(V);let le={};W[0]&1|W[2]&64&&(le.$$scope={dirty:W,ctx:B}),c.$set(le);let Se={};W[0]&1|W[2]&64&&(Se.$$scope={dirty:W,ctx:B}),s.$set(Se);let fe={};if(W[0]&1|W[2]&64&&(fe.$$scope={dirty:W,ctx:B}),f.$set(fe),W&0){q=ft(Object.values(eu));let me;for(me=0;me<q.length;me+=1){let we=N4(B,q,me);L[me]?L[me].p(we,W):(L[me]=T4(we),L[me].c(),L[me].m(d,null))}for(;me<L.length;me+=1)L[me].d(1);L.length=q.length}W[0]&8&&Jr(d,B[3]);let he={};W[2]&64&&(he.$$scope={dirty:W,ctx:B}),y.$set(he),W[0]&2019&&(P=ft((ge=B[0].actions)!=null?ge:[]),Bt(),b=yf(b,W,k,1,B,P,w,_.parentNode,dN,q4,_,D4),Pt());let _e={};W[0]&3|W[2]&64&&(_e.$$scope={dirty:W,ctx:B}),E.$set(_e)},i(B){if(!C){ne(e.$$.fragment,B),ne(n.$$.fragment,B),ne(a.$$.fragment,B),ne(c.$$.fragment,B),ne(s.$$.fragment,B),ne(f.$$.fragment,B),ne(y.$$.fragment,B);for(let W=0;W<P.length;W+=1)ne(b[W]);ne(E.$$.fragment,B),C=!0}},o(B){ue(e.$$.fragment,B),ue(n.$$.fragment,B),ue(a.$$.fragment,B),ue(c.$$.fragment,B),ue(s.$$.fragment,B),ue(f.$$.fragment,B),ue(y.$$.fragment,B);for(let W=0;W<b.length;W+=1)ue(b[W]);ue(E.$$.fragment,B),C=!1},d(B){B&&(j(t),j(i),j(o),j(u),j(l),j(p),j(m),j(h),j(d),j(v),j(S),j(_),j(x),j(T),j(A),j(N)),ke(e,B),ke(n,B),ke(a,B),ke(c,B),ke(s,B),ke(f,B),Qt(L,B),ke(y,B);for(let W=0;W<b.length;W+=1)b[W].d(B);r[55](null),ke(E,B),O=!1,U()}}}function YQ(r,e,t){let{plugin:n}=e,{modal:i}=e,{buttonConfig:a}=e,o,c,u;kh(()=>{c==null||c.unmount()});function s(ye,Ue){c==null||c.unmount(),Ue&&(vt.empty(Ue),c=new co(n,ye,"","block",void 0,!0),c.mount(Ue))}function l(){var ye;(ye=a.actions)===null||ye===void 0||ye.push(n.api.buttonActionRunner.createDefaultAction(u)),t(0,a)}function f(ye){var Ue;(Ue=a.actions)===null||Ue===void 0||Ue.splice(ye,1),t(0,a)}function p(ye){ye.type==="command"&&n.internal.openCommandSelectModal(Ue=>{ye.command=Ue.id,t(0,a)})}function m(ye){ye.type==="templaterCreateNote"&&n.internal.openFileSelectModal(Ue=>{ye.templateFile=Ue,t(0,a)})}function h(ye){ye.type==="templaterCreateNote"&&n.internal.openFolderSelectModal(Ue=>{ye.folderPath=Ue,t(0,a)})}function d(ye){ye.type==="createNote"&&n.internal.openFolderSelectModal(Ue=>{ye.folderPath=Ue,t(0,a)})}function v(ye){return ye==="command"?"Run a Command":ye==="open"?"Open a Link":ye==="js"?"Run a JavaScript File":ye==="input"?"Insert Text at Cursor":ye==="sleep"?"Sleep for Some Time":ye==="templaterCreateNote"?"Create a New Note Using Templater":ye==="updateMetadata"?"Update Metadata":ye==="createNote"?"Create a New Note":ye==="replaceInNote"?"Replace Text in Note":ye==="regexpReplaceInNote"?"Replace Text in Note using Regexp":ye==="replaceSelf"?"Replace Button with Text":ye==="insertIntoNote"?"Insert Text into the Note":"CHANGE ME"}function y(){a.label=this.value,t(0,a)}function S(){a.style=wi(this),t(0,a)}function b(){a.class=this.value,t(0,a)}function w(){a.tooltip=this.value,t(0,a)}function _(){a.id=this.value,t(0,a)}function x(ye){r.$$.not_equal(a.hidden,ye)&&(a.hidden=ye,t(0,a))}function T(){u=wi(this),t(3,u)}let A=()=>l(),N=ye=>p(ye),E=ye=>f(ye);function C(ye,Ue){ye[Ue].link=this.value,t(0,a)}let O=ye=>f(ye);function U(ye,Ue){ye[Ue].file=this.value,t(0,a)}let q=ye=>f(ye);function L(ye,Ue){ye[Ue].str=this.value,t(0,a)}let P=ye=>f(ye);function k(ye,Ue){ye[Ue].ms=yn(this.value),t(0,a)}let H=ye=>f(ye),B=ye=>f(ye),W=ye=>m(ye),ie=ye=>h(ye);function Q(ye,Ue){ye[Ue].fileName=this.value,t(0,a)}function V(ye,Ue){r.$$.not_equal(Ue.openNote,ye)&&(Ue.openNote=ye,t(0,a))}let le=ye=>f(ye);function Se(ye,Ue){ye[Ue].bindTarget=this.value,t(0,a)}function fe(ye,Ue){ye[Ue].value=this.value,t(0,a)}function he(ye,Ue){r.$$.not_equal(Ue.evaluate,ye)&&(Ue.evaluate=ye,t(0,a))}let _e=ye=>f(ye),ge=ye=>d(ye);function me(ye,Ue){ye[Ue].fileName=this.value,t(0,a)}function we(ye,Ue){r.$$.not_equal(Ue.openNote,ye)&&(Ue.openNote=ye,t(0,a))}let Te=ye=>f(ye);function ze(ye,Ue){ye[Ue].fromLine=yn(this.value),t(0,a)}function tt(ye,Ue){ye[Ue].toLine=yn(this.value),t(0,a)}function Y(ye,Ue){ye[Ue].replacement=this.value,t(0,a)}let K=ye=>f(ye);function ve(ye,Ue){ye[Ue].regexp=this.value,t(0,a)}function J(ye,Ue){ye[Ue].replacement=this.value,t(0,a)}let te=ye=>f(ye);function se(ye,Ue){ye[Ue].replacement=this.value,t(0,a)}let De=ye=>f(ye);function Ne(ye,Ue){ye[Ue].line=yn(this.value),t(0,a)}function Ge(ye,Ue){ye[Ue].value=this.value,t(0,a)}function Ae(ye){Nn[ye?"unshift":"push"](()=>{o=ye,t(2,o)})}let xt=()=>i.okay(a),At=()=>i.cancel();return r.$$set=ye=>{"plugin"in ye&&t(11,n=ye.plugin),"modal"in ye&&t(1,i=ye.modal),"buttonConfig"in ye&&t(0,a=ye.buttonConfig)},r.$$.update=()=>{r.$$.dirty[0]&5&&s(a,o)},[a,i,o,u,l,f,p,m,h,d,v,n,y,S,b,w,_,x,T,A,N,E,C,O,U,q,L,P,k,H,B,W,ie,Q,V,le,Se,fe,he,_e,ge,me,we,Te,ze,tt,Y,K,ve,J,te,se,De,Ne,Ge,Ae,xt,At]}var FS=class extends et{constructor(e){super(),it(this,e,YQ,WQ,nt,{plugin:11,modal:1,buttonConfig:0},null,[-1,-1,-1])}},z4=FS;var el=class extends ii{setModal(e){this.modal=e}closeModal(){if(this.modal!==void 0)this.modal.close();else throw new vr({errorLevel:"CRITICAL",effect:"Failed to close modal.",cause:"Modal reference in ModalContent is undefined."})}};var Td=class extends el{constructor(e,t){super(),this.plugin=e,this.options=t}onMount(e){var t;vt.empty(e),this.component&&this.component.$destroy(),this.component=new z4({target:e,props:{plugin:this.plugin,modal:this,buttonConfig:(t=this.config)!=null?t:this.plugin.api.buttonActionRunner.createDefaultButtonConfig()}})}onUnmount(e){vt.empty(e),this.component&&this.component.$destroy()}okay(e){this.closeModal(),this.options.onOkay(e)}cancel(){this.closeModal()}};var Os=class extends el{constructor(e){super(),this.createComponent=e}onMount(e){vt.empty(e),this.component=this.createComponent(this,e)}onUnmount(e){var t;(t=this.component)==null||t.$destroy(),vt.empty(e)}};var H4=dr(yl());var $4=["January","February","March","April","May","June","July","August","September","October","November","December"],Md=[{index:0,name:"Sunday",shortName:"Su"},{index:1,name:"Monday",shortName:"Mo"},{index:2,name:"Tuesday",shortName:"Tu"},{index:3,name:"Wednesday",shortName:"We"},{index:4,name:"Thursday",shortName:"Th"},{index:5,name:"Friday",shortName:"Fr"},{index:6,name:"Saturday",shortName:"Sa"}],EYe={devMode:!1,ignoreCodeBlockRestrictions:!1,preferredDateFormat:"YYYY-MM-DD",useUsDateInputOrder:!1,firstWeekday:Md[1],syncInterval:200,minSyncInterval:50,maxSyncInterval:1e3,enableJs:!1,viewFieldDisplayNullAsEmpty:!1,enableSyntaxHighlighting:!0,enableEditorRightClickMenu:!0,inputFieldTemplates:[],buttonTemplates:[],excludedFolders:["templates"],inputTemplates:void 0};var IS=Md[1];function G4(r){IS=r}function BS(r){return $4[r]}function W4(r,e){let t=(0,H4.default)(new Date(e,r)).daysInMonth(),n=new Array(42).fill(0),i=jQ(new Date(e,r,1));for(let a=0;a<t;a++)n[a+i]=a+1;return n=n[n.length-7]?n:n.slice(0,-7),n=n[n.length-7]?n:n.slice(0,-7),n}function jQ(r){return mh(r.getDay()-IS.index,7)}function Y4(){return Md.map(e=>({index:mh(e.index-IS.index,7),name:e.name,shortName:e.shortName})).sort((e,t)=>e.index-t.index).map(e=>e.shortName)}function j4(){let r=0;return()=>++r}var X4=dr(yl());function ZQ(r){ai(r,"svelte-12l82wb",".calendar.svelte-12l82wb{margin-top:10px}.calendar-header.svelte-12l82wb{display:flex;justify-content:space-around;flex-wrap:wrap;gap:var(--size-4-1);background:var(--background-secondary);border-radius:var(--mb-border-radius);margin-bottom:var(--size-4-1)}.calendar-content.svelte-12l82wb{display:grid;flex-wrap:wrap;grid-template-columns:repeat(7, 1fr);gap:var(--size-4-1)}.cell.svelte-12l82wb{min-width:40px;padding:var(--size-4-2);display:flex;justify-content:center;align-items:center;border-radius:var(--mb-border-radius)}.content-cell.svelte-12l82wb{cursor:pointer}.cell-text.svelte-12l82wb{margin:auto;text-align:center}.selected.svelte-12l82wb{background:var(--interactive-accent);color:var(--text-on-accent)}.highlight.svelte-12l82wb:hover{background:var(--interactive-hover)}.selected.highlight.svelte-12l82wb:hover{background:var(--interactive-accent-hover)}")}function Z4(r,e,t){let n=r.slice();return n[10]=e[t],n}function JQ(r,e,t){let n=r.slice();return n[13]=e[t],n}function XQ(r){let e,t,n;return{c(){e=re("div"),t=re("span"),t.textContent=`${r[13]}`,n=xe(),z(t,"class","cell-text svelte-12l82wb"),z(e,"class","cell header-cell svelte-12l82wb")},m(i,a){Z(i,e,a),ae(e,t),ae(e,n)},p:Ke,d(i){i&&j(e)}}}function J4(r,e){let t,n,i=(e[10]||"")+"",a,o,c,u;function s(){return e[6](e[10])}function l(...f){return e[7](e[10],...f)}return{key:r,first:null,c(){var f,p,m;t=re("div"),n=re("span"),a=je(i),o=xe(),z(n,"class","cell-text svelte-12l82wb"),z(t,"class","cell svelte-12l82wb"),z(t,"role","button"),z(t,"tabindex","0"),Ut(t,"highlight",e[10]),Ut(t,"content-cell",e[10]),Ut(t,"selected",((f=e[0])==null?void 0:f.year())===e[2]&&((p=e[0])==null?void 0:p.month())===e[1]&&((m=e[0])==null?void 0:m.date())===e[10]),this.first=t},m(f,p){Z(f,t,p),ae(t,n),ae(n,a),ae(t,o),c||(u=[Pe(t,"click",s),Pe(t,"keydown",l)],c=!0)},p(f,p){var m,h,d;e=f,p&8&&i!==(i=(e[10]||"")+"")&&mt(a,i),p&8&&Ut(t,"highlight",e[10]),p&8&&Ut(t,"content-cell",e[10]),p&15&&Ut(t,"selected",((m=e[0])==null?void 0:m.year())===e[2]&&((h=e[0])==null?void 0:h.month())===e[1]&&((d=e[0])==null?void 0:d.date())===e[10])},d(f){f&&j(t),c=!1,Et(u)}}}function QQ(r){let e,t,n,i,a=[],o=new Map,c=ft(Y4()),u=[];for(let f=0;f<c.length;f+=1)u[f]=XQ(JQ(r,c,f));let s=ft(r[3]),l=f=>j4();for(let f=0;f<s.length;f+=1){let p=Z4(r,s,f),m=l(p);o.set(m,a[f]=J4(m,p))}return{c(){e=re("div"),t=re("div");for(let f=0;f<u.length;f+=1)u[f].c();n=xe(),i=re("div");for(let f=0;f<a.length;f+=1)a[f].c();z(t,"class","calendar-header svelte-12l82wb"),z(i,"class","calendar-content svelte-12l82wb"),z(e,"class","calendar svelte-12l82wb")},m(f,p){Z(f,e,p),ae(e,t);for(let m=0;m<u.length;m+=1)u[m]&&u[m].m(t,null);ae(e,n),ae(e,i);for(let m=0;m<a.length;m+=1)a[m]&&a[m].m(i,null)},p(f,[p]){p&63&&(s=ft(f[3]),a=yf(a,p,l,1,f,s,o,i,mN,J4,null,Z4))},i:Ke,o:Ke,d(f){f&&j(e),Qt(u,f);for(let p=0;p<a.length;p+=1)a[p].d()}}}function KQ(r,e,t){let n=Rh(),{selectedDate:i}=e,{month:a}=e,{year:o}=e,c;function u(m){n("dateChange",(0,X4.default)(new Date(o,a,m)))}function s(m){m&&u(m)}function l(m,h){m.key===" "&&s(h)}let f=m=>s(m),p=(m,h)=>l(h,m);return r.$$set=m=>{"selectedDate"in m&&t(0,i=m.selectedDate),"month"in m&&t(1,a=m.month),"year"in m&&t(2,o=m.year)},r.$$.update=()=>{r.$$.dirty&6&&t(3,c=W4(a,o))},[i,a,o,c,s,l,f,p]}var PS=class extends et{constructor(e){super(),it(this,e,KQ,QQ,nt,{selectedDate:0,month:1,year:2},ZQ)}},Q4=PS;var Cd=dr(yl());function eK(r){ai(r,"svelte-berpp6",".date-picker.svelte-berpp6{display:block;padding:var(--size-4-4)}.date-picker-header.svelte-berpp6{display:flex;gap:var(--size-4-2);align-items:center;justify-content:space-around}.date-picker-header-text.svelte-berpp6{flex:1;text-align:center;display:flex;gap:var(--size-4-2);align-items:center;justify-content:center;width:min-content}.date-picker-header-text-year.svelte-berpp6{width:60px;padding:var(--size-4-2)}.date-picker-header-text-month.svelte-berpp6{height:min-content}.month-switch-button.svelte-berpp6{margin:0}.date-picker-footer.svelte-berpp6{display:flex;gap:var(--size-4-2);align-items:center;justify-content:center}.none-button.svelte-berpp6{margin:0}")}function tK(r){let e,t,n,i,a,o,c=BS(r[1])+"",u,s,l,f,p,m,h,d,v,y,S,b,w,_,x,T;return d=new Q4({props:{month:r[1],year:r[2],selectedDate:r[0]}}),d.$on("dateChange",r[6]),{c(){e=re("div"),t=re("div"),n=re("button"),n.textContent="Prev",i=xe(),a=re("div"),o=re("span"),u=je(c),s=xe(),l=re("input"),p=xe(),m=re("button"),m.textContent="Next",h=xe(),Re(d.$$.fragment),v=xe(),y=re("div"),S=re("button"),S.textContent="Set no Date",b=xe(),w=re("button"),w.textContent="Set to Now",z(n,"class","month-switch-button svelte-berpp6"),z(o,"class","date-picker-header-text-month svelte-berpp6"),z(l,"class","date-picker-header-text-year svelte-berpp6"),z(l,"type","number"),l.value=f=r[2].toString(),z(a,"class","date-picker-header-text svelte-berpp6"),z(m,"class","month-switch-button svelte-berpp6"),z(t,"class","date-picker-header svelte-berpp6"),z(S,"class","none-button svelte-berpp6"),z(w,"class","none-button svelte-berpp6"),z(y,"class","date-picker-footer svelte-berpp6"),z(e,"class","date-picker svelte-berpp6")},m(A,N){Z(A,e,N),ae(e,t),ae(t,n),ae(t,i),ae(t,a),ae(a,o),ae(o,u),ae(a,s),ae(a,l),ae(t,p),ae(t,m),ae(e,h),Oe(d,e,null),ae(e,v),ae(e,y),ae(y,S),ae(y,b),ae(y,w),_=!0,x||(T=[Pe(n,"click",r[4]),Pe(l,"input",r[5]),Pe(m,"click",r[3]),Pe(S,"click",r[7]),Pe(w,"click",r[8])],x=!0)},p(A,[N]){(!_||N&2)&&c!==(c=BS(A[1])+"")&&mt(u,c),(!_||N&4&&f!==(f=A[2].toString())&&l.value!==f)&&(l.value=f);let E={};N&2&&(E.month=A[1]),N&4&&(E.year=A[2]),N&1&&(E.selectedDate=A[0]),d.$set(E)},i(A){_||(ne(d.$$.fragment,A),_=!0)},o(A){ue(d.$$.fragment,A),_=!1},d(A){A&&j(e),ke(d),x=!1,Et(T)}}}function rK(r,e,t){let{selectedDate:n=(0,Cd.default)()}=e,{dateChangeCallback:i}=e,a,o;function c(){if(a===11){t(1,a=0),t(2,o+=1);return}t(1,a=a+1)}function u(){if(a===0){t(1,a=11),t(2,o-=1);return}t(1,a-=1)}function s(m){let h=m.target.value,d=Number.parseInt(h);Number.isNaN(d)||t(2,o=d)}function l(m){t(0,n=m.detail),i(m.detail)}function f(){t(0,n=null),i(null)}function p(){t(0,n=(0,Cd.default)()),i(n)}return r.$$set=m=>{"selectedDate"in m&&t(0,n=m.selectedDate),"dateChangeCallback"in m&&t(9,i=m.dateChangeCallback)},r.$$.update=()=>{if(r.$$.dirty&1)if(n)t(1,a=n.month()),t(2,o=n.year());else{let m=(0,Cd.default)();t(1,a=m.month()),t(2,o=m.year())}},[n,a,o,c,u,s,l,f,p,i]}var OS=class extends et{constructor(e){super(),it(this,e,rK,tK,nt,{selectedDate:0,dateChangeCallback:9},eK)}},K4=OS;function nK(r){let e,t,n,i,a,o,c,u;return{c(){e=re("div"),t=re("img"),i=xe(),a=re("span"),o=je(r[1]),z(t,"class","mb-image-card-image"),Oi(t.src,n=r[0].internal.imagePathToUri(r[1]))||z(t,"src",n),z(t,"alt",r[1]),z(a,"class","mb-image-card-text"),z(e,"class","mb-image-card"),z(e,"role","button"),z(e,"tabindex","0")},m(s,l){Z(s,e,l),ae(e,t),ae(e,i),ae(e,a),ae(a,o),c||(u=[Pe(e,"click",r[4]),Pe(e,"keydown",r[5])],c=!0)},p(s,[l]){l&3&&!Oi(t.src,n=s[0].internal.imagePathToUri(s[1]))&&z(t,"src",n),l&2&&z(t,"alt",s[1]),l&2&&mt(o,s[1])},i:Ke,o:Ke,d(s){s&&j(e),c=!1,Et(u)}}}function iK(r,e,t){let{plugin:n}=e,{image:i}=e,{onSelect:a}=e;function o(s,l){s.key===" "&&a(l)}let c=()=>a(i),u=s=>o(s,i);return r.$$set=s=>{"plugin"in s&&t(0,n=s.plugin),"image"in s&&t(1,i=s.image),"onSelect"in s&&t(2,a=s.onSelect)},[n,i,a,o,c,u]}var kS=class extends et{constructor(e){super(),it(this,e,iK,nK,nt,{plugin:0,image:1,onSelect:2})}},e6=kS;function t6(r,e,t){let n=r.slice();return n[8]=e[t],n}function r6(r){let e,t;return e=new e6({props:{plugin:r[0],image:r[8].value,onSelect:r[1]}}),{c(){Re(e.$$.fragment)},m(n,i){Oe(e,n,i),t=!0},p(n,i){let a={};i&1&&(a.plugin=n[0]),i&8&&(a.image=n[8].value),i&2&&(a.onSelect=n[1]),e.$set(a)},i(n){t||(ne(e.$$.fragment,n),t=!0)},o(n){ue(e.$$.fragment,n),t=!1},d(n){ke(e,n)}}}function aK(r){let e,t,n,i,a,o,c,u=ft(r[3]),s=[];for(let f=0;f<u.length;f+=1)s[f]=r6(t6(r,u,f));let l=f=>ue(s[f],1,1,()=>{s[f]=null});return{c(){e=re("div"),t=re("input"),n=xe(),i=re("div");for(let f=0;f<s.length;f+=1)s[f].c();z(t,"type","text"),z(t,"placeholder","Search Images..."),z(e,"class","mb-image-search-container"),z(i,"class","mb-image-card-grid")},m(f,p){Z(f,e,p),ae(e,t),Je(t,r[2]),Z(f,n,p),Z(f,i,p);for(let m=0;m<s.length;m+=1)s[m]&&s[m].m(i,null);a=!0,o||(c=Pe(t,"input",r[5]),o=!0)},p(f,[p]){if(p&4&&t.value!==f[2]&&Je(t,f[2]),p&11){u=ft(f[3]);let m;for(m=0;m<u.length;m+=1){let h=t6(f,u,m);s[m]?(s[m].p(h,p),ne(s[m],1)):(s[m]=r6(h),s[m].c(),ne(s[m],1),s[m].m(i,null))}for(Bt(),m=u.length;m<s.length;m+=1)l(m);Pt()}},i(f){if(!a){for(let p=0;p<u.length;p+=1)ne(s[p]);a=!0}},o(f){s=s.filter(Boolean);for(let p=0;p<s.length;p+=1)ue(s[p]);a=!1},d(f){f&&(j(e),j(n),j(i)),Qt(s,f),o=!1,c()}}}function oK(r,e,t){let{plugin:n}=e,{options:i}=e,{onSelect:a}=e,o="",c,u=n.internal.createFuzzySearch();function s(f){if(!f){t(3,c=i);return}u.setSearch(f),t(3,c=u.filterItems(i,p=>p.value))}function l(){o=this.value,t(2,o)}return r.$$set=f=>{"plugin"in f&&t(0,n=f.plugin),"options"in f&&t(4,i=f.options),"onSelect"in f&&t(1,a=f.onSelect)},r.$$.update=()=>{r.$$.dirty&4&&s(o)},[n,a,o,c,i,l]}var RS=class extends et{constructor(e){super(),it(this,e,oK,aK,nt,{plugin:0,options:4,onSelect:1})}},n6=RS;function i6(r,e,t){let n=r.slice();return n[1]=e[t],n}function sK(r){let e,t,n,i=r[0].stack+"",a;return{c(){e=re("div"),t=re("pre"),n=re("code"),a=je(i),z(n,"class","language-none mb-none"),z(t,"class","mb-pre"),z(e,"class","mb-card")},m(o,c){Z(o,e,c),ae(e,t),ae(t,n),ae(n,a)},p(o,c){c&1&&i!==(i=o[0].stack+"")&&mt(a,i)},d(o){o&&j(e)}}}function uK(r){let e,t,n,i=r[0].errorLevel+"",a,o,c=r[0].getErrorType()+"",u,s,l,f,p=r[0].effect+"",m,h,d,v,y,S,b,w,_,x=r[0].cause+"",T,A,N,E,C,O,U=r[0].effect+"",q,L,P,k,H=r[0].positionContext&&a6(r),B=r[0].tip&&o6(r),W=r[0].docs&&s6(r),ie=r[0].context&&l6(r);return{c(){e=re("div"),t=re("h6"),n=re("span"),a=je(i),o=je(`
				[`),u=je(c),s=je("]"),f=je(`
			- `),m=je(p),h=xe(),H&&H.c(),d=xe(),v=re("table"),y=re("tbody"),S=re("tr"),b=re("td"),b.textContent="Cause",w=xe(),_=re("td"),T=je(x),A=xe(),N=re("tr"),E=re("td"),E.textContent="Effect",C=xe(),O=re("td"),q=je(U),L=xe(),B&&B.c(),P=xe(),W&&W.c(),k=xe(),ie&&ie.c(),z(n,"class",l=r[0].errorLevel==="WARNING"?"mb-warning-text":"mb-error-text"),z(e,"class","mb-card mb-card-full-width markdown-rendered")},m(Q,V){Z(Q,e,V),ae(e,t),ae(t,n),ae(n,a),ae(n,o),ae(n,u),ae(n,s),ae(t,f),ae(t,m),ae(e,h),H&&H.m(e,null),ae(e,d),ae(e,v),ae(v,y),ae(y,S),ae(S,b),ae(S,w),ae(S,_),ae(_,T),ae(y,A),ae(y,N),ae(N,E),ae(N,C),ae(N,O),ae(O,q),ae(y,L),B&&B.m(y,null),ae(y,P),W&&W.m(y,null),ae(y,k),ie&&ie.m(y,null)},p(Q,V){V&1&&i!==(i=Q[0].errorLevel+"")&&mt(a,i),V&1&&c!==(c=Q[0].getErrorType()+"")&&mt(u,c),V&1&&l!==(l=Q[0].errorLevel==="WARNING"?"mb-warning-text":"mb-error-text")&&z(n,"class",l),V&1&&p!==(p=Q[0].effect+"")&&mt(m,p),Q[0].positionContext?H?H.p(Q,V):(H=a6(Q),H.c(),H.m(e,d)):H&&(H.d(1),H=null),V&1&&x!==(x=Q[0].cause+"")&&mt(T,x),V&1&&U!==(U=Q[0].effect+"")&&mt(q,U),Q[0].tip?B?B.p(Q,V):(B=o6(Q),B.c(),B.m(y,P)):B&&(B.d(1),B=null),Q[0].docs?W?W.p(Q,V):(W=s6(Q),W.c(),W.m(y,k)):W&&(W.d(1),W=null),Q[0].context?ie?ie.p(Q,V):(ie=l6(Q),ie.c(),ie.m(y,null)):ie&&(ie.d(1),ie=null)},d(Q){Q&&j(e),H&&H.d(),B&&B.d(),W&&W.d(),ie&&ie.d()}}}function a6(r){let e,t,n=r[0].positionContext+"",i;return{c(){e=re("pre"),t=re("code"),i=je(n),z(t,"class","language-none mb-none"),z(e,"class","mb-pre")},m(a,o){Z(a,e,o),ae(e,t),ae(t,i)},p(a,o){o&1&&n!==(n=a[0].positionContext+"")&&mt(i,n)},d(a){a&&j(e)}}}function o6(r){let e,t,n,i,a=r[0].tip+"",o;return{c(){e=re("tr"),t=re("td"),t.textContent="Tip",n=xe(),i=re("td"),o=je(a)},m(c,u){Z(c,e,u),ae(e,t),ae(e,n),ae(e,i),ae(i,o)},p(c,u){u&1&&a!==(a=c[0].tip+"")&&mt(o,a)},d(c){c&&j(e)}}}function s6(r){let e,t,n,i,a=ft(r[0].docs),o=[];for(let c=0;c<a.length;c+=1)o[c]=u6(i6(r,a,c));return{c(){e=re("tr"),t=re("td"),t.textContent="Docs",n=xe(),i=re("td");for(let c=0;c<o.length;c+=1)o[c].c()},m(c,u){Z(c,e,u),ae(e,t),ae(e,n),ae(e,i);for(let s=0;s<o.length;s+=1)o[s]&&o[s].m(i,null)},p(c,u){if(u&1){a=ft(c[0].docs);let s;for(s=0;s<a.length;s+=1){let l=i6(c,a,s);o[s]?o[s].p(l,u):(o[s]=u6(l),o[s].c(),o[s].m(i,null))}for(;s<o.length;s+=1)o[s].d(1);o.length=a.length}},d(c){c&&j(e),Qt(o,c)}}}function u6(r){let e,t=r[1]+"",n,i,a;return{c(){e=re("a"),n=je(t),a=re("br"),z(e,"href",i=r[1])},m(o,c){Z(o,e,c),ae(e,n),Z(o,a,c)},p(o,c){c&1&&t!==(t=o[1]+"")&&mt(n,t),c&1&&i!==(i=o[1])&&z(e,"href",i)},d(o){o&&(j(e),j(a))}}}function l6(r){let e,t,n,i,a,o,c=JSON.stringify(r[0].context,null,4)+"",u;return{c(){e=re("tr"),t=re("td"),t.textContent="Context",n=xe(),i=re("td"),a=re("pre"),o=re("code"),u=je(c),z(o,"class","language-none mb-none"),z(a,"class","mb-pre")},m(s,l){Z(s,e,l),ae(e,t),ae(e,n),ae(e,i),ae(i,a),ae(a,o),ae(o,u)},p(s,l){l&1&&c!==(c=JSON.stringify(s[0].context,null,4)+"")&&mt(u,c)},d(s){s&&j(e)}}}function lK(r){let e;function t(a,o){return a[0]instanceof gn?uK:sK}let n=t(r,-1),i=n(r);return{c(){i.c(),e=Mr()},m(a,o){i.m(a,o),Z(a,e,o)},p(a,[o]){n===(n=t(a,o))&&i?i.p(a,o):(i.d(1),i=n(a),i&&(i.c(),i.m(e.parentNode,e)))},i:Ke,o:Ke,d(a){a&&j(e),i.d(a)}}}function cK(r,e,t){let{error:n}=e;return r.$$set=i=>{"error"in i&&t(0,n=i.error)},[n]}var LS=class extends et{constructor(e){super(),it(this,e,cK,lK,nt,{error:0})}},US=LS;function c6(r,e,t){let n=r.slice();return n[1]=e[t],n}function f6(r,e,t){let n=r.slice();return n[4]=e[t],n}function p6(r){let e,t=r[0].text+"",n;return{c(){e=re("p"),n=je(t)},m(i,a){Z(i,e,a),ae(e,n)},p(i,a){a&1&&t!==(t=i[0].text+"")&&mt(n,t)},d(i){i&&j(e)}}}function m6(r){let e,t,n=r[0].code+"",i;return{c(){e=re("pre"),t=re("code"),i=je(n),z(t,"class","language-none meta-bind-none"),z(e,"class","mb-pre")},m(a,o){Z(a,e,o),ae(e,t),ae(t,i)},p(a,o){o&1&&n!==(n=a[0].code+"")&&mt(i,n)},d(a){a&&j(e)}}}function d6(r){let e,t,n,i,a,o=r[0].errorText&&h6(r),c=ft(r[0].errorCollection.getErrors()),u=[];for(let l=0;l<c.length;l+=1)u[l]=g6(f6(r,c,l));let s=l=>ue(u[l],1,1,()=>{u[l]=null});return{c(){e=re("h6"),e.textContent="Errors",t=xe(),o&&o.c(),n=xe();for(let l=0;l<u.length;l+=1)u[l].c();i=Mr()},m(l,f){Z(l,e,f),Z(l,t,f),o&&o.m(l,f),Z(l,n,f);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(l,f);Z(l,i,f),a=!0},p(l,f){if(l[0].errorText?o?o.p(l,f):(o=h6(l),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null),f&1){c=ft(l[0].errorCollection.getErrors());let p;for(p=0;p<c.length;p+=1){let m=f6(l,c,p);u[p]?(u[p].p(m,f),ne(u[p],1)):(u[p]=g6(m),u[p].c(),ne(u[p],1),u[p].m(i.parentNode,i))}for(Bt(),p=c.length;p<u.length;p+=1)s(p);Pt()}},i(l){if(!a){for(let f=0;f<c.length;f+=1)ne(u[f]);a=!0}},o(l){u=u.filter(Boolean);for(let f=0;f<u.length;f+=1)ue(u[f]);a=!1},d(l){l&&(j(e),j(t),j(n),j(i)),o&&o.d(l),Qt(u,l)}}}function h6(r){let e,t=r[0].errorText+"",n;return{c(){e=re("p"),n=je(t)},m(i,a){Z(i,e,a),ae(e,n)},p(i,a){a&1&&t!==(t=i[0].errorText+"")&&mt(n,t)},d(i){i&&j(e)}}}function g6(r){let e,t;return e=new US({props:{error:r[4]}}),{c(){Re(e.$$.fragment)},m(n,i){Oe(e,n,i),t=!0},p(n,i){let a={};i&1&&(a.error=n[4]),e.$set(a)},i(n){t||(ne(e.$$.fragment,n),t=!0)},o(n){ue(e.$$.fragment,n),t=!1},d(n){ke(e,n)}}}function v6(r){let e,t,n,i,a,o=r[0].warningText&&y6(r),c=ft(r[0].errorCollection.getWarnings()),u=[];for(let l=0;l<c.length;l+=1)u[l]=b6(c6(r,c,l));let s=l=>ue(u[l],1,1,()=>{u[l]=null});return{c(){e=re("h6"),e.textContent="Warnings",t=xe(),o&&o.c(),n=xe();for(let l=0;l<u.length;l+=1)u[l].c();i=Mr()},m(l,f){Z(l,e,f),Z(l,t,f),o&&o.m(l,f),Z(l,n,f);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(l,f);Z(l,i,f),a=!0},p(l,f){if(l[0].warningText?o?o.p(l,f):(o=y6(l),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null),f&1){c=ft(l[0].errorCollection.getWarnings());let p;for(p=0;p<c.length;p+=1){let m=c6(l,c,p);u[p]?(u[p].p(m,f),ne(u[p],1)):(u[p]=b6(m),u[p].c(),ne(u[p],1),u[p].m(i.parentNode,i))}for(Bt(),p=c.length;p<u.length;p+=1)s(p);Pt()}},i(l){if(!a){for(let f=0;f<c.length;f+=1)ne(u[f]);a=!0}},o(l){u=u.filter(Boolean);for(let f=0;f<u.length;f+=1)ue(u[f]);a=!1},d(l){l&&(j(e),j(t),j(n),j(i)),o&&o.d(l),Qt(u,l)}}}function y6(r){let e,t=r[0].warningText+"",n;return{c(){e=re("p"),n=je(t)},m(i,a){Z(i,e,a),ae(e,n)},p(i,a){a&1&&t!==(t=i[0].warningText+"")&&mt(n,t)},d(i){i&&j(e)}}}function b6(r){let e,t;return e=new US({props:{error:r[1]}}),{c(){Re(e.$$.fragment)},m(n,i){Oe(e,n,i),t=!0},p(n,i){let a={};i&1&&(a.error=n[1]),e.$set(a)},i(n){t||(ne(e.$$.fragment,n),t=!0)},o(n){ue(e.$$.fragment,n),t=!1},d(n){ke(e,n)}}}function fK(r){let e,t,n=r[0].errorCollection.hasErrors(),i,a=r[0].errorCollection.hasWarnings(),o,c,u=r[0].text&&p6(r),s=r[0].code&&m6(r),l=n&&d6(r),f=a&&v6(r);return{c(){u&&u.c(),e=xe(),s&&s.c(),t=xe(),l&&l.c(),i=xe(),f&&f.c(),o=Mr()},m(p,m){u&&u.m(p,m),Z(p,e,m),s&&s.m(p,m),Z(p,t,m),l&&l.m(p,m),Z(p,i,m),f&&f.m(p,m),Z(p,o,m),c=!0},p(p,[m]){p[0].text?u?u.p(p,m):(u=p6(p),u.c(),u.m(e.parentNode,e)):u&&(u.d(1),u=null),p[0].code?s?s.p(p,m):(s=m6(p),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null),m&1&&(n=p[0].errorCollection.hasErrors()),n?l?(l.p(p,m),m&1&&ne(l,1)):(l=d6(p),l.c(),ne(l,1),l.m(i.parentNode,i)):l&&(Bt(),ue(l,1,1,()=>{l=null}),Pt()),m&1&&(a=p[0].errorCollection.hasWarnings()),a?f?(f.p(p,m),m&1&&ne(f,1)):(f=v6(p),f.c(),ne(f,1),f.m(o.parentNode,o)):f&&(Bt(),ue(f,1,1,()=>{f=null}),Pt())},i(p){c||(ne(l),ne(f),c=!0)},o(p){ue(l),ue(f),c=!1},d(p){p&&(j(e),j(t),j(i),j(o)),u&&u.d(p),s&&s.d(p),l&&l.d(p),f&&f.d(p)}}}function pK(r,e,t){let{settings:n}=e;return r.$$set=i=>{"settings"in i&&t(0,n=i.settings)},[n]}var VS=class extends et{constructor(e){super(),it(this,e,pK,fK,nt,{settings:0})}},x6=VS;function w6(r){let e,t,n,i,a;function o(s,l){return l&1&&(t=null),l&1&&(n=null),t==null&&(t=!!s[0].errorCollection.hasErrors()),t?hK:(n==null&&(n=!!s[0].errorCollection.hasWarnings()),n?dK:mK)}let c=o(r,-1),u=c(r);return{c(){e=re("div"),u.c(),z(e,"class","mb-error-collection"),z(e,"role","button"),z(e,"tabindex","0")},m(s,l){Z(s,e,l),u.m(e,null),i||(a=[Pe(e,"click",r[3]),Pe(e,"keydown",r[4])],i=!0)},p(s,l){c!==(c=o(s,l))&&(u.d(1),u=c(s),u&&(u.c(),u.m(e,null)))},d(s){s&&j(e),u.d(),i=!1,Et(a)}}}function mK(r){let e,t,n,i;return{c(){e=xi("svg"),t=xi("circle"),n=xi("path"),i=xi("path"),z(t,"cx","12"),z(t,"cy","12"),z(t,"r","10"),z(n,"d","M12 16v-4"),z(i,"d","M12 8h.01"),z(e,"xmlns","http://www.w3.org/2000/svg"),z(e,"width","24"),z(e,"height","24"),z(e,"viewBox","0 0 24 24"),z(e,"fill","none"),z(e,"stroke","currentColor"),z(e,"stroke-width","2"),z(e,"stroke-linecap","round"),z(e,"stroke-linejoin","round"),z(e,"class","lucide lucide-info")},m(a,o){Z(a,e,o),ae(e,t),ae(e,n),ae(e,i)},d(a){a&&j(e)}}}function dK(r){let e,t,n,i;return{c(){e=xi("svg"),t=xi("path"),n=xi("line"),i=xi("line"),z(t,"d","m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"),z(n,"x1","12"),z(n,"x2","12"),z(n,"y1","9"),z(n,"y2","13"),z(i,"x1","12"),z(i,"x2","12.01"),z(i,"y1","17"),z(i,"y2","17"),z(e,"xmlns","http://www.w3.org/2000/svg"),z(e,"width","24"),z(e,"height","24"),z(e,"viewBox","0 0 24 24"),z(e,"fill","none"),z(e,"stroke","currentColor"),z(e,"stroke-width","2"),z(e,"stroke-linecap","round"),z(e,"stroke-linejoin","round"),z(e,"class","lucide lucide-alert-triangle")},m(a,o){Z(a,e,o),ae(e,t),ae(e,n),ae(e,i)},d(a){a&&j(e)}}}function hK(r){let e,t,n,i,a,o;return{c(){e=xi("svg"),t=xi("circle"),n=xi("line"),i=xi("line"),a=xe(),o=re("span"),o.textContent="[META_BIND_ERROR]",z(t,"cx","12"),z(t,"cy","12"),z(t,"r","10"),z(n,"x1","12"),z(n,"x2","12"),z(n,"y1","8"),z(n,"y2","12"),z(i,"x1","12"),z(i,"x2","12.01"),z(i,"y1","16"),z(i,"y2","16"),z(e,"xmlns","http://www.w3.org/2000/svg"),z(e,"width","24"),z(e,"height","24"),z(e,"viewBox","0 0 24 24"),z(e,"fill","none"),z(e,"stroke","currentColor"),z(e,"stroke-width","2"),z(e,"stroke-linecap","round"),z(e,"stroke-linejoin","round"),z(e,"class","lucide lucide-alert-circle"),z(o,"class","mb-error")},m(c,u){Z(c,e,u),ae(e,t),ae(e,n),ae(e,i),Z(c,a,u),Z(c,o,u)},d(c){c&&(j(e),j(a),j(o))}}}function gK(r){let e=!r[0].errorCollection.isEmpty(),t,n=e&&w6(r);return{c(){n&&n.c(),t=Mr()},m(i,a){n&&n.m(i,a),Z(i,t,a)},p(i,[a]){a&1&&(e=!i[0].errorCollection.isEmpty()),e?n?n.p(i,a):(n=w6(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:Ke,o:Ke,d(i){i&&j(t),n&&n.d(i)}}}function vK(r,e,t){let{plugin:n}=e,{settings:i}=e;function a(){n.internal.openErrorCollectionViewModal(i)}let o=()=>a(),c=u=>{u.key===" "&&a()};return r.$$set=u=>{"plugin"in u&&t(2,n=u.plugin),"settings"in u&&t(0,i=u.settings)},[i,a,n,o,c]}var qS=class extends et{constructor(e){super(),it(this,e,vK,gK,nt,{plugin:2,settings:0})}},_6=qS;var Fd=class extends Sa{constructor(e,t,n){super(e,t),this.ipf=n}getItemText(e){return e.displayValue}getItems(){return this.plugin.internal.getSuggesterOptions(this.ipf)}};function yK(r){let e,t,n;return{c(){e=re("input"),z(e,"type","text")},m(i,a){Z(i,e,a),Je(e,r[1]),t||(n=Pe(e,"input",r[3]),t=!0)},p(i,a){a&2&&e.value!==i[1]&&Je(e,i[1])},d(i){i&&j(e),t=!1,n()}}}function bK(r){let e,t,n;return{c(){e=re("textarea")},m(i,a){Z(i,e,a),Je(e,r[1]),t||(n=Pe(e,"input",r[2]),t=!0)},p(i,a){a&2&&Je(e,i[1])},d(i){i&&j(e),t=!1,n()}}}function xK(r){let e;return{c(){e=je("OK")},m(t,n){Z(t,e,n)},d(t){t&&j(e)}}}function wK(r){let e;return{c(){e=je("Cancel")},m(t,n){Z(t,e,n)},d(t){t&&j(e)}}}function _K(r){let e,t,n,i;return e=new jt({props:{variant:"primary",$$slots:{default:[xK]},$$scope:{ctx:r}}}),e.$on("click",r[4]),n=new jt({props:{$$slots:{default:[wK]},$$scope:{ctx:r}}}),n.$on("click",r[5]),{c(){Re(e.$$.fragment),t=xe(),Re(n.$$.fragment)},m(a,o){Oe(e,a,o),Z(a,t,o),Oe(n,a,o),i=!0},p(a,o){let c={};o&64&&(c.$$scope={dirty:o,ctx:a}),e.$set(c);let u={};o&64&&(u.$$scope={dirty:o,ctx:a}),n.$set(u)},i(a){i||(ne(e.$$.fragment,a),ne(n.$$.fragment,a),i=!0)},o(a){ue(e.$$.fragment,a),ue(n.$$.fragment,a),i=!1},d(a){a&&j(t),ke(e,a),ke(n,a)}}}function SK(r){let e,t=r[0].subTitle+"",n,i,a,o,c,u;function s(p,m){return p[0].multiline?bK:yK}let l=s(r,-1),f=l(r);return c=new Ed({props:{$$slots:{default:[_K]},$$scope:{ctx:r}}}),{c(){e=re("p"),n=je(t),i=xe(),a=re("div"),f.c(),o=xe(),Re(c.$$.fragment),z(a,"class","mb-full-width-text-input")},m(p,m){Z(p,e,m),ae(e,n),Z(p,i,m),Z(p,a,m),f.m(a,null),Z(p,o,m),Oe(c,p,m),u=!0},p(p,[m]){(!u||m&1)&&t!==(t=p[0].subTitle+"")&&mt(n,t),l===(l=s(p,m))&&f?f.p(p,m):(f.d(1),f=l(p),f&&(f.c(),f.m(a,null)));let h={};m&67&&(h.$$scope={dirty:m,ctx:p}),c.$set(h)},i(p){u||(ne(c.$$.fragment,p),u=!0)},o(p){ue(c.$$.fragment,p),u=!1},d(p){p&&(j(e),j(i),j(a),j(o)),f.d(),ke(c,p)}}}function DK(r,e,t){let{options:n}=e,i=n.value;function a(){i=this.value,t(1,i)}function o(){i=this.value,t(1,i)}let c=()=>n.onSubmit(i),u=()=>n.onCancel();return r.$$set=s=>{"options"in s&&t(0,n=s.options)},[n,i,a,o,c,u]}var zS=class extends et{constructor(e){super(),it(this,e,DK,SK,nt,{options:0})}},S6=zS;var Id=class{constructor(e){this.plugin=e}openCommandSelectModal(e){this.createSearchModal(new Dd(this.plugin,e)).open()}openFileSelectModal(e){this.createSearchModal(new Nd(this.plugin,e)).open()}openFolderSelectModal(e){this.createSearchModal(new Ad(this.plugin,e)).open()}openButtonBuilderModal(e){this.createModal(new Td(this.plugin,e),{title:"Meta Bind Button Builder"}).open()}openSuggesterModal(e,t){this.createSearchModal(new Fd(this.plugin,t,e)).open()}openImageSuggesterModal(e,t){this.createModal(new Os((n,i)=>new n6({target:i,props:{plugin:this.plugin,options:this.getImageSuggesterOptions(e),onSelect:a=>{t(a),n.closeModal()}}})),{title:"Meta Bind Image Suggester",classes:["mb-image-suggester-modal"]}).open()}openDatePickerModal(e){this.createModal(new Os((t,n)=>new K4({target:n,props:{selectedDate:e.getInternalValue(),dateChangeCallback:i=>{e.setInternalValue(i),t.closeModal()}}})),{title:"Meta Bind Date Picker"}).open()}openTextPromptModal(e){this.createModal(new Os((t,n)=>new S6({target:n,props:{options:_t(Me({},e),{onSubmit:i=>{e.onSubmit(i),t.closeModal()},onCancel:()=>{e.onCancel(),t.closeModal()}})}})),e).open()}openErrorCollectionViewModal(e){this.createModal(new Os((t,n)=>new x6({target:n,props:{settings:e}})),{title:"Meta Bind Error Overview",classes:["mb-error-collection-modal","markdown-rendered"]}).open()}createErrorIndicator(e,t){new _6({target:e,props:{plugin:this.plugin,settings:t}})}isFilePathExcluded(e){for(let t of this.plugin.settings.excludedFolders)if(e.startsWith(t))return!0;return!1}};var $o=ll("obsidian/publish");var Bd=class extends Id{renderMarkdown(e,t,n){return St(this,null,function*(){return t.innerText+=e,()=>{}})}executeCommandById(e){throw new Error("not implemented")}isJsEngineAvailable(){return!1}jsEngineRunFile(e,t,n,i){return Promise.reject(new Error("not implemented"))}jsEngineRunCode(e,t,n){return Promise.reject(new Error("not implemented"))}createJsRenderer(e,t,n){throw new Error("not implemented")}openFile(e,t,n){throw new Error("not implemented")}getFilePathByName(e,t=""){return e}showNotice(e){new $o.Notice(e)}parseYaml(e){return(0,$o.parseYaml)(e)}stringifyYaml(e){return(0,$o.stringifyYaml)(e)}setIcon(e,t){(0,$o.setIcon)(e,t)}imagePathToUri(e){return e}createFuzzySearch(){throw new Error("not implemented")}createModal(e,t){throw new Error("not implemented")}createSearchModal(e){throw new Error("not implemented")}getAllCommands(){return[]}getAllFiles(){return Object.keys(publish.site.cache)}getAllFolders(){let e=this.getAllFiles(),t=new Set;for(let n of e){let i=n.split("/");i.pop(),t.add(i.join("/"))}return Array.from(t)}getImageSuggesterOptions(e){return[]}getSuggesterOptions(e){return[]}readFilePath(e){return Promise.resolve("")}writeFilePath(e,t){return Promise.resolve()}createFile(e,t,n,i){return Promise.resolve("")}createContextMenu(e){throw new Error("not implemented")}createNoteWithTemplater(e,t,n,i){throw new Error("not implemented")}evaluateTemplaterTemplate(e,t){throw new Error("not implemented")}};var Pd=class extends $s{constructor(e,t,n){super(t,n),this.plugin=e}readExternal(e){var n,i;let t=(n=publish.site.cache.cache[e])==null?void 0:n.frontmatter;return(i=structuredClone(t))!=null?i:{}}getDefaultCacheItem(e){var n,i;let t=(n=publish.site.cache.cache[e])==null?void 0:n.frontmatter;return console.log("meta-bind | Obs Source >> loaded frontmatter",structuredClone(t),e),Me({data:(i=structuredClone(t))!=null?i:{},storagePath:e},this.manager.getDefaultCacheItem())}syncExternal(e){return St(this,null,function*(){})}};var Od=class{constructor(e){this.settings=e,this.api=new Sd(this),this.internal=new Bd(this),this.metadataManager=new qc,this.setUpMetadataManager(),this.load()}setUpMetadataManager(){this.metadataManager.registerSource(new Pd(this,"frontmatter",this.metadataManager)),this.metadataManager.registerSource(new Oc("memory",this.metadataManager)),this.metadataManager.registerSource(new kc("globalMemory",this.metadataManager)),this.metadataManager.setDefaultSource("frontmatter"),window.setInterval(()=>this.metadataManager.cycle(),this.settings.syncInterval)}onLoad(){console.log("meta-bind-publish | loaded"),this.updateInternalSettings(),publish.registerMarkdownPostProcessor((e,t)=>{let n=e.querySelectorAll("code"),i=t.sourcePath;for(let a=0;a<n.length;a++){let o=n.item(a);if(o.hasClass("mb-none"))continue;let c=o.innerText,u=this.api.isInlineFieldDeclarationAndGetType(c);if(u===void 0)continue;let s=this.api.createInlineFieldOfTypeFromString(u,c,i,void 0);this.api.wrapInMDRC(s,o,t).load()}},1),publish.registerMarkdownCodeBlockProcessor("meta-bind",(e,t,n)=>{let i=t,a=e.trim(),o=n.sourcePath,c=this.api.isInlineFieldDeclarationAndGetType(a);if(c===void 0)return;let u=n.getSectionInfo(t),s;u&&(s={lineStart:u.lineStart,lineEnd:u.lineEnd});let l=this.api.createInlineFieldOfTypeFromString(c,a,o,void 0,"block",s);this.api.wrapInMDRC(l,i,n).load()}),publish.registerMarkdownCodeBlockProcessor("meta-bind-js-view",(e,t,n)=>{let i=this.api.createJsViewFieldBase(n.sourcePath,{declaration:e});this.api.wrapInMDRC(i,t,n).load()}),publish.registerMarkdownCodeBlockProcessor("meta-bind-embed",(e,t,n)=>{let i=this.api.createEmbedBase(n.sourcePath,{content:e,depth:0});this.api.wrapInMDRC(i,t,n).load()});for(let e=1;e<=of;e++)publish.registerMarkdownCodeBlockProcessor(`meta-bind-embed-internal-${e}`,(t,n,i)=>{let a=this.api.createEmbedBase(i.sourcePath,{content:t,depth:e});this.api.wrapInMDRC(a,n,i).load()});publish.registerMarkdownCodeBlockProcessor("meta-bind-button",(e,t,n)=>{let i=n.getSectionInfo(t),a;i&&(a={lineStart:i.lineStart,lineEnd:i.lineEnd});let o=this.api.createButtonBase(n.sourcePath,{declaration:e,isPreview:!1,position:a});this.api.wrapInMDRC(o,t,n).load()})}onUnload(){console.log("meta-bind-publish | unloaded")}load(){this.onLoad()}unload(){this.onUnload()}updateInternalSettings(){fn.dateFormat=this.settings.preferredDateFormat,G4(this.settings.firstWeekday),this.loadTemplates()}loadTemplates(){if(!this.api)return;let e=this.api.inputFieldParser.parseTemplates(this.settings.inputFieldTemplates);e.hasErrors()&&console.warn("meta-bind | failed to parse input field templates",e);let t=this.api.buttonManager.setButtonTemplates(this.settings.buttonTemplates);t.hasErrors()&&console.warn("meta-bind | failed to parse button templates",t)}},NK=new Od(mb_settings);window.mb=NK;return ZU(AK);})();
