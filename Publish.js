/*
-------------------------------------------
Meta Bind - Publish Build (based on 0.12.5)
-------------------------------------------
By: Moritz Jung (https://mprojectscode.github.io/)
Time: Tue, 20 Feb 2024 14:06:48 GMT
Version: Publish Build (based on 0.12.5)
-------------------------------------------
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";var meta_bind_publish=(()=>{var c8=Object.create;var Fu=Object.defineProperty,f8=Object.defineProperties,p8=Object.getOwnPropertyDescriptor,m8=Object.getOwnPropertyDescriptors,d8=Object.getOwnPropertyNames,pS=Object.getOwnPropertySymbols,h8=Object.getPrototypeOf,mS=Object.prototype.hasOwnProperty,v8=Object.prototype.propertyIsEnumerable;var fd=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t);var pd=(t,e,r)=>e in t?Fu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ae=(t,e)=>{for(var r in e||(e={}))mS.call(e,r)&&pd(t,r,e[r]);if(pS)for(var r of pS(e))v8.call(e,r)&&pd(t,r,e[r]);return t},br=(t,e)=>f8(t,m8(e));var ic=(t=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(t,{get:(e,r)=>(typeof require!="undefined"?require:e)[r]}):t)(function(t){if(typeof require!="undefined")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var jt=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),g8=(t,e)=>{for(var r in e)Fu(t,r,{get:e[r],enumerable:!0})},dS=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of d8(e))!mS.call(t,i)&&i!==r&&Fu(t,i,{get:()=>e[i],enumerable:!(n=p8(e,i))||n.enumerable});return t};var yt=(t,e,r)=>(r=t!=null?c8(h8(t)):{},dS(e||!t||!t.__esModule?Fu(r,"default",{value:t,enumerable:!0}):r,t)),y8=t=>dS(Fu({},"__esModule",{value:!0}),t);var Wt=(t,e,r)=>(pd(t,typeof e!="symbol"?e+"":e,r),r);var Fr=(t,e,r)=>new Promise((n,i)=>{var a=l=>{try{c(r.next(l))}catch(s){i(s)}},o=l=>{try{c(r.throw(l))}catch(s){i(s)}},c=l=>l.done?n(l.value):Promise.resolve(l.value).then(a,o);c((r=r.apply(t,e)).next())}),x8=function(t,e){this[0]=t,this[1]=e};var md=t=>{var e=t[fd("asyncIterator")],r=!1,n,i={};return e==null?(e=t[fd("iterator")](),n=a=>i[a]=o=>e[a](o)):(e=e.call(t),n=a=>i[a]=o=>{if(r){if(r=!1,a==="throw")throw o;return o}return r=!0,{done:!1,value:new x8(new Promise(c=>{var l=e[a](o);if(!(l instanceof Object))throw TypeError("Object expected");c(l)}),1)}}),i[fd("iterator")]=()=>i,n("next"),"throw"in e?n("throw"):i.throw=a=>{throw a},"return"in e&&n("return"),i};var dc=jt(Zn=>{"use strict";Object.defineProperty(Zn,"__esModule",{value:!0});Zn.P_HELPERS=Zn.ParserHelpers=Zn.validateRegexFlags=Zn.validateRange=Zn.getIndex=Zn.arrayUnion=void 0;var gd=hc();function b8(t,e){if(t===void 0&&e===void 0)return;if(t===void 0)return e;if(e===void 0)return t;let r=[...t];for(let n of e)r.includes(n)||r.push(n);return r}Zn.arrayUnion=b8;function w8(t){return t===void 0?-1:t.index}Zn.getIndex=w8;function D8(t,e){if(e<t)throw new Error(`Invalid Range: max might not be smaller than min. Received [${t}, ${e}].`);if(t<0||e<0)throw new Error(`Invalid Range: max and min might not be smaller than 0. Received [${t}, ${e}].`);if(t===1/0||e===1/0)throw new Error(`Invalid Range: max and min might not be infinity. Received [${t}, ${e}].`);if(!Number.isInteger(t)||!Number.isInteger(e))throw new Error(`Invalid Range: max and min must be integers. Received [${t}, ${e}].`)}Zn.validateRange=D8;function S8(t){for(let e of t)if(e!=="i"&&e!=="m"&&e!=="s"&&e!=="u")throw new Error(`RegExp flag '${e}' is not allowed. The only allowed flags are 'i', 'm', 's' and 'u'.`)}Zn.validateRegexFlags=S8;var mc=class{followedBy(e){return new gd.Parser(function(n){return e.p(n.copy())})}notFollowedBy(e){return new gd.Parser(function(n){let i=n.copy(),a=e.p(i),o=n.sliceTo(i.position.index);return a.success?n.fail("not '"+o+"'"):n.succeed(void 0)})}test(e){return new gd.Parser(function(n){let i=n.input[n.position.index];return!n.atEOF()&&e(i)?n.succeedOffset(1,i):n.fail(`a character matching ${e}`)})}};Zn.ParserHelpers=mc;Zn.P_HELPERS=new mc});var xS=jt(vc=>{"use strict";Object.defineProperty(vc,"__esModule",{value:!0});vc.ParserContext=void 0;var yd=dc(),xd=class t{constructor(e,r){this.input=e,this.position=r}moveToPosition(e){return this.position=e,this}copy(){return new t(this.input,{index:this.position.index,column:this.position.column,line:this.position.line})}getPosition(){return{index:this.position.index,column:this.position.column,line:this.position.line}}atEOF(){return this.position.index>=this.input.length}advanceTo(e){if(e<this.position.index)throw new Error(`Can not advance backwards. Current pos ${this.position.index}. Advance target index ${e}.`);if(e!==this.position.index){for(let r=this.position.index;r<e;r++)this.input[r]===`
`?(this.position.line+=1,this.position.column=1):this.position.column+=1;this.position.index=e}}sliceTo(e){return this.input.slice(this.position.index,e)}succeedOffset(e,r){return this.succeedAt(this.position.index+e,r)}failOffset(e,r){return this.failAt(this.position.index+e,r)}succeed(e){return this.succeedAt(this.position.index,e)}fail(e){return this.failAt(this.position.index,e)}succeedAt(e,r){return this.advanceTo(e),{success:!0,value:r,furthest:void 0,expected:void 0}}failAt(e,r){return this.advanceTo(e),{success:!1,value:void 0,furthest:this.position,expected:Array.isArray(r)?r:[r]}}merge(e,r){if(e===void 0)return r;let n=(0,yd.getIndex)(e.furthest),i=(0,yd.getIndex)(r.furthest);if(i>n)return r;let a=i===n?(0,yd.arrayUnion)(e.expected,r.expected):e.expected;return r.furthest=e.furthest,r.expected=a,r}};vc.ParserContext=xd});var yi=jt(yc=>{"use strict";Object.defineProperty(yc,"__esModule",{value:!0});yc.P_UTILS=void 0;var gc=hc(),bt=ii(),bd=class t{static position(){return new gc.Parser(e=>e.succeed(e.getPosition()))}static any(){return new gc.Parser(e=>e.atEOF()?e.fail("any character"):e.succeedOffset(1,e.input[e.position.index]))}static remaining(){return new gc.Parser(e=>e.succeedAt(e.input.length,e.input.slice(e.position.index)))}static eof(){return new gc.Parser(e=>e.atEOF()?e.succeed(void 0):e.fail("eof"))}static digit(){return bt.P.regexp(/^[0-9]/).describe("a digit")}static digits(){return bt.P.regexp(/^[0-9]+/).describe("multiple digits")}static letter(){return bt.P.regexp(/^[a-z]/i).describe("a letter")}static letters(){return bt.P.regexp(/^[a-z]+/i).describe("multiple letters")}static unicodeLetter(){return bt.P.regexp(new RegExp("^\\p{L}","iu")).describe("a unicode letter")}static unicodeLetters(){return bt.P.regexp(new RegExp("^\\p{L}+","iu")).describe("multiple unicode letters")}static unicodeAlphanumeric(){return bt.P.regexp(/^[\p{L}\p{N}]/iu).describe("a unicode alphanumeric character")}static unicodeAlphanumerics(){return bt.P.regexp(/^[\p{L}\p{N}]+/iu).describe("multiple unicode alphanumeric characters")}static optionalWhitespace(){return bt.P.regexp(/^\s*/).describe("optional whitespace")}static whitespace(){return bt.P.regexp(/^\s+/).describe("whitespace")}static cr(){return bt.P.string("\r")}static lf(){return bt.P.string(`
`)}static crlf(){return bt.P.string(`\r
`)}static newline(){return bt.P.or(this.crlf(),this.lf(),this.cr()).describe("newline")}static prefix(e,r,n){return bt.P.sequenceMap((i,a)=>i.reduce((o,c)=>n(c,o),a),e.many(),r)}static postfix(e,r,n){return bt.P.sequenceMap((i,a)=>a.reduce((o,c)=>n(c,o),i),r,e.many())}static binaryRight(e,r,n){return bt.P.sequenceMap((i,a)=>i.reverse().reduce((o,c)=>{let[l,s]=c;return n(l,s,o)},a),bt.P.sequence(r,e.trim(this.optionalWhitespace())).many(),r)}static binaryLeft(e,r,n){return bt.P.sequenceMap((i,a)=>a.reduce((o,c)=>{let[l,s]=c;return n(o,l,s)},i),r,bt.P.sequence(e.trim(this.optionalWhitespace()),r).many())}static binaryRightRange(e,r,n){return bt.P.sequenceMap((i,a,o)=>i.reverse().reduce((c,l)=>{let[s,u,f]=l;return n({from:s,to:o},u,f,c)},a),bt.P.sequence(t.position(),r,e.trim(this.optionalWhitespace())).many(),r,t.position())}static binaryLeftRange(e,r,n){return bt.P.sequenceMap((i,a,o)=>o.reduce((c,l)=>{let[s,u,f]=l;return n({from:i,to:f},c,s,u)},a),t.position(),r,bt.P.sequence(e.trim(this.optionalWhitespace()),r,t.position()).many())}static func(e,r,n){let i=typeof e=="string"?bt.P.string(e):e;return bt.P.sequenceMap((a,o,c,l,s,u)=>n(a,l),i,bt.P.string("("),this.optionalWhitespace(),r,this.optionalWhitespace(),bt.P.string(")"))}};yc.P_UTILS=bd});var wS=jt(Ss=>{"use strict";Object.defineProperty(Ss,"__esModule",{value:!0});Ss.ParsingError=Ss.createParsingErrorMessage=void 0;function bS(t,e,r){let n=`Expected ${e.expected.sort().join(" or ")}`,i=`Parse Failure: ${n} at index ${e.furthest.index}, line ${e.furthest.line}, column ${e.furthest.column}.`;if(r){let o=t.split(`
`)[e.furthest.line-1],c=`${e.furthest.line} |   `;i+=`

${c}${o}`,i+=`
${" ".repeat(e.furthest.column-1+c.length)}^ (${n})`}return i}Ss.createParsingErrorMessage=bS;var wd=class extends Error{constructor(e,r){super(bS(e,r,!0))}};Ss.ParsingError=wd});var hc=jt(xc=>{"use strict";Object.defineProperty(xc,"__esModule",{value:!0});xc.Parser=void 0;var A8=xS(),xi=ii(),Dd=dc(),As=yi(),N8=wS(),Sd=class t{constructor(e){this.p=e}tryParse(e){return this.p(new A8.ParserContext(e,{index:0,line:1,column:1}))}parse(e){let r=this.tryParse(e);if(r.success)return r.value;throw new N8.ParsingError(e,r)}or(e){return xi.P.or(this,e)}trim(e){return this.wrap(e,e)}trimString(e){return this.trim(xi.P.string(e))}wrap(e,r){let n=this;return new t(function(a){let o=e.p(a);if(!o.success)return o;let c=a.merge(o,n.p(a));if(!c.success)return c;let l=a.merge(c,r.p(a));return l.success?a.merge(l,a.succeed(c.value)):l})}wrapString(e,r){return this.wrap(xi.P.string(e),xi.P.string(r))}then(e){let r=this;return new t(function(i){let a=r.p(i);if(!a.success)return a;let o=i.merge(a,e.p(i));return o.success,o})}skip(e){let r=this;return new t(function(i){let a=r.p(i);if(!a.success)return a;let o=i.merge(a,e.p(i));return o.success?i.merge(o,i.succeed(a.value)):o})}and(e){return xi.P.sequence(this,e)}many(){let e=this;return new t(function(n){let i,a=n.position.index,o=[];for(;;){let c=n.copy(),l=e.p(c);if(i=n.merge(i,l),i.success){if(c.position.index===a)throw new Error("infinite loop in many() parser detected");n.moveToPosition(c.position),o.push(i.value)}else return n.merge(i,n.succeed(o))}})}repeat(e,r){(0,Dd.validateRange)(e,r);let n=this;return new t(function(a){let o,c,l=[],s=0;for(;s<e;s++)if(o=n.p(a),c=a.merge(c,o),o.success)l.push(o.value);else return c;for(;s<r;s++){let u=a.copy();if(o=n.p(u),c=a.merge(c,o),o.success)a.moveToPosition(u.position),l.push(o.value);else break}return a.merge(c,a.succeed(l))})}atMost(e){return this.repeat(0,e)}atLeast(e){return xi.P.sequenceMap((r,n)=>r.concat(n),this.repeat(e,e),this.many())}separateBy(e){return xi.P.separateBy(this,e)}separateByNotEmpty(e){return xi.P.separateByNotEmpty(this,e)}result(e){return this.map(()=>e)}map(e){let r=this;return new t(function(i){let a=r.p(i);return a.success&&(a.value=e(a.value)),a})}marker(){return xi.P.sequenceMap(function(r,n,i){return{value:n,range:{from:r,to:i}}},As.P_UTILS.position(),this,As.P_UTILS.position())}namedMarker(e){return xi.P.sequenceMap(function(n,i,a){return{value:i,name:e,range:{from:n,to:a}}},As.P_UTILS.position(),this,As.P_UTILS.position())}node(e){return xi.P.sequenceMap(function(n,i,a){return e(i,{from:n,to:a})},As.P_UTILS.position(),this,As.P_UTILS.position())}followedBy(e){return this.skip(Dd.P_HELPERS.followedBy(e))}notFollowedBy(e){return this.skip(Dd.P_HELPERS.notFollowedBy(e))}describe(e){typeof e=="string"&&(e=[e]);let r=this;return new t(function(i){let a=r.p(i);return a.expected!==void 0&&a.expected.length!==0&&(a.expected=e),a})}box(e){let r=this;return new t(function(i){var a;let o=r.p(i);return o.expected!==void 0&&o.expected.length!==0&&(o.expected=[`(${(a=o.expected)===null||a===void 0?void 0:a.join(" or ")} as part of ${e})`]),o})}optional(e){return this.or(xi.P.succeed(e))}chain(e){let r=this;return new t(function(i){let a=r.p(i);if(!a.success)return a;let c=e(a.value).p(i);return i.merge(a,c)})}thenEof(){let e=this;return new t(function(n){let i=e.p(n);return i.success?n.atEOF()?i:n.merge(i,n.fail("eof")):i})}memorize(){let e=this,r="",n=new Map,i=new Map;return new t(function(o){let c=o.position.index;if(o.input!==r)r=o.input,n.clear(),i.clear();else{let s=n.get(c),u=i.get(c);if(s!==void 0&&u!==void 0)return o.moveToPosition(Object.assign({},u)),Object.assign({},s)}let l=e.p(o);return n.set(c,Object.assign({},l)),i.set(c,o.getPosition()),l})}};xc.Parser=Sd});var ii=jt(wc=>{"use strict";Object.defineProperty(wc,"__esModule",{value:!0});wc.P=void 0;var ai=hc(),bc=dc(),Ad=class t{static sequence(...e){if(e.length===0)throw new Error("sequence must have at least one parser argument");return new ai.Parser(function(n){let i,a=new Array(e.length);for(let o=0;o<e.length;o++){let l=e[o].p(n);if(i=n.merge(i,l),!i.success)return i;a[o]=i.value}return i.value=a,i})}static sequenceMap(e,...r){if(r.length===0)throw new Error("sequenceMap must have at least one parser argument");return new ai.Parser(function(i){let a,o=new Array(r.length);for(let c=0;c<r.length;c++){let s=r[c].p(i);if(a=i.merge(a,s),!a.success)return a;o[c]=a.value}return a.value=e(...o),a})}static createLanguage(e){let r={},n={},i={};for(let a in e)i[a]=t.reference(()=>e[a](r,i)),Object.defineProperty(n,a,{get:()=>{if(r[a]!==void 0)return r[a];throw new Error(`Can not access rule '${a}' in language. Rule is not yet defined. Try to access it via 'ref'.`)}});for(let a in e)r[a]=e[a](n,i);return r}static or(...e){if(e.length===0)throw new Error("or must have at least one alternative");return new ai.Parser(function(n){let i;for(let a of e){let o=a,c=n.copy(),l=o.p(c);if(i=n.merge(i,l),i.success)return n.moveToPosition(c.position),i}return i})}static separateBy(e,r){return this.separateByNotEmpty(e,r).or(t.succeed([]))}static separateByNotEmpty(e,r){return this.sequenceMap(function(i,a){return a.unshift(i),a},e,r.then(e).many())}static string(e){let r="'"+e+"'";return new ai.Parser(function(i){for(let a=0;a<e.length;a++)if(i.input[i.position.index+a]!==e[a])return i.fail(r);return i.succeedAt(i.position.index+e.length,e)})}static regexp(e,r){(0,bc.validateRegexFlags)(e.flags);let n=e.source;return r!==void 0?new ai.Parser(function(a){let o=a.input.slice(a.position.index),c=e.exec(o);if(c!==null){let l=r!=null?r:0;if(l>=0&&l<=c.length){let u=c[0],f=c[l];return a.succeedOffset(u.length,f)}let s="expected valid match group (0 to "+c.length+") in "+n;return a.fail(s)}else return a.fail(n)}):new ai.Parser(function(a){let o=a.input.slice(a.position.index),c=e.exec(o);if(c!==null){let l=c[0];return a.succeedOffset(l.length,l)}else return a.fail(n)})}static succeed(e){return new ai.Parser(function(n){return n.succeed(e)})}static fail(e){return new ai.Parser(function(n){return n.fail(e)})}static oneOf(e){return bc.P_HELPERS.test(function(n){return e.includes(n)}).describe(`one character of '${e}'`)}static noneOf(e){return bc.P_HELPERS.test(function(n){return!e.includes(n)}).describe(`no character of '${e}'`)}static oneStringOf(e){return this.or(...e.map(r=>this.string(r))).describe(e.map(r=>`'${r}'`).join(" or "))}static manyOf(e){return new ai.Parser(function(n){let i=n.position.index;for(;i<n.input.length&&e.includes(n.input[i]);i++);return n.succeedAt(i,n.sliceTo(i))})}static manyNotOf(e){return new ai.Parser(function(n){let i=n.position.index;for(;i<n.input.length&&!e.includes(n.input[i]);i++);return n.succeedAt(i,n.sliceTo(i))})}static custom(e){return new ai.Parser(e)}static range(e,r){let n=e.charCodeAt(0),i=r.charCodeAt(0);return bc.P_HELPERS.test(function(o){let c=o.charCodeAt(0);return n<=c&&c<=i}).describe(`${e}-${r}`)}static takeWhile(e){return new ai.Parser(function(n){let i=n.position.index;for(;i<n.input.length&&e(n.input[i]);)i++;return n.succeedAt(i,n.input.slice(n.position.index,i))})}static reference(e){return new ai.Parser(function(n){return e().p(n)})}};wc.P=Ad});var yA=jt((Xd,Is)=>{(function(t,e){typeof Xd=="object"&&typeof Is!="undefined"?Is.exports=e():typeof define=="function"&&define.amd?define(e):t.moment=e()})(Xd,function(){"use strict";var t;function e(){return t.apply(null,arguments)}function r(h){t=h}function n(h){return h instanceof Array||Object.prototype.toString.call(h)==="[object Array]"}function i(h){return h!=null&&Object.prototype.toString.call(h)==="[object Object]"}function a(h,D){return Object.prototype.hasOwnProperty.call(h,D)}function o(h){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(h).length===0;var D;for(D in h)if(a(h,D))return!1;return!0}function c(h){return h===void 0}function l(h){return typeof h=="number"||Object.prototype.toString.call(h)==="[object Number]"}function s(h){return h instanceof Date||Object.prototype.toString.call(h)==="[object Date]"}function u(h,D){var T=[],P,V=h.length;for(P=0;P<V;++P)T.push(D(h[P],P));return T}function f(h,D){for(var T in D)a(D,T)&&(h[T]=D[T]);return a(D,"toString")&&(h.toString=D.toString),a(D,"valueOf")&&(h.valueOf=D.valueOf),h}function p(h,D,T,P){return HD(h,D,T,P,!0).utc()}function m(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function v(h){return h._pf==null&&(h._pf=m()),h._pf}var d;Array.prototype.some?d=Array.prototype.some:d=function(h){var D=Object(this),T=D.length>>>0,P;for(P=0;P<T;P++)if(P in D&&h.call(this,D[P],P,D))return!0;return!1};function g(h){var D=null,T=!1,P=h._d&&!isNaN(h._d.getTime());if(P&&(D=v(h),T=d.call(D.parsedDateParts,function(V){return V!=null}),P=D.overflow<0&&!D.empty&&!D.invalidEra&&!D.invalidMonth&&!D.invalidWeekday&&!D.weekdayMismatch&&!D.nullInput&&!D.invalidFormat&&!D.userInvalidated&&(!D.meridiem||D.meridiem&&T),h._strict&&(P=P&&D.charsLeftOver===0&&D.unusedTokens.length===0&&D.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(h))h._isValid=P;else return P;return h._isValid}function x(h){var D=p(NaN);return h!=null?f(v(D),h):v(D).userInvalidated=!0,D}var A=e.momentProperties=[],y=!1;function w(h,D){var T,P,V,K=A.length;if(c(D._isAMomentObject)||(h._isAMomentObject=D._isAMomentObject),c(D._i)||(h._i=D._i),c(D._f)||(h._f=D._f),c(D._l)||(h._l=D._l),c(D._strict)||(h._strict=D._strict),c(D._tzm)||(h._tzm=D._tzm),c(D._isUTC)||(h._isUTC=D._isUTC),c(D._offset)||(h._offset=D._offset),c(D._pf)||(h._pf=v(D)),c(D._locale)||(h._locale=D._locale),K>0)for(T=0;T<K;T++)P=A[T],V=D[P],c(V)||(h[P]=V);return h}function S(h){w(this,h),this._d=new Date(h._d!=null?h._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),y===!1&&(y=!0,e.updateOffset(this),y=!1)}function b(h){return h instanceof S||h!=null&&h._isAMomentObject!=null}function C(h){e.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+h)}function _(h,D){var T=!0;return f(function(){if(e.deprecationHandler!=null&&e.deprecationHandler(null,h),T){var P=[],V,K,ge,Je=arguments.length;for(K=0;K<Je;K++){if(V="",typeof arguments[K]=="object"){V+=`
[`+K+"] ";for(ge in arguments[0])a(arguments[0],ge)&&(V+=ge+": "+arguments[0][ge]+", ");V=V.slice(0,-2)}else V=arguments[K];P.push(V)}C(h+`
Arguments: `+Array.prototype.slice.call(P).join("")+`
`+new Error().stack),T=!1}return D.apply(this,arguments)},D)}var N={};function E(h,D){e.deprecationHandler!=null&&e.deprecationHandler(h,D),N[h]||(C(D),N[h]=!0)}e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;function I(h){return typeof Function!="undefined"&&h instanceof Function||Object.prototype.toString.call(h)==="[object Function]"}function B(h){var D,T;for(T in h)a(h,T)&&(D=h[T],I(D)?this[T]=D:this["_"+T]=D);this._config=h,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function L(h,D){var T=f({},h),P;for(P in D)a(D,P)&&(i(h[P])&&i(D[P])?(T[P]={},f(T[P],h[P]),f(T[P],D[P])):D[P]!=null?T[P]=D[P]:delete T[P]);for(P in h)a(h,P)&&!a(D,P)&&i(h[P])&&(T[P]=f({},T[P]));return T}function z(h){h!=null&&this.set(h)}var U;Object.keys?U=Object.keys:U=function(h){var D,T=[];for(D in h)a(h,D)&&T.push(D);return T};var R={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function O(h,D,T){var P=this._calendar[h]||this._calendar.sameElse;return I(P)?P.call(D,T):P}function G(h,D,T){var P=""+Math.abs(h),V=D-P.length,K=h>=0;return(K?T?"+":"":"-")+Math.pow(10,Math.max(0,V)).toString().substr(1)+P}var k=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Q=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,te={},X={};function q(h,D,T,P){var V=P;typeof P=="string"&&(V=function(){return this[P]()}),h&&(X[h]=V),D&&(X[D[0]]=function(){return G(V.apply(this,arguments),D[1],D[2])}),T&&(X[T]=function(){return this.localeData().ordinal(V.apply(this,arguments),h)})}function ne(h){return h.match(/\[[\s\S]/)?h.replace(/^\[|\]$/g,""):h.replace(/\\/g,"")}function de(h){var D=h.match(k),T,P;for(T=0,P=D.length;T<P;T++)X[D[T]]?D[T]=X[D[T]]:D[T]=ne(D[T]);return function(V){var K="",ge;for(ge=0;ge<P;ge++)K+=I(D[ge])?D[ge].call(V,h):D[ge];return K}}function ae(h,D){return h.isValid()?(D=se(D,h.localeData()),te[D]=te[D]||de(D),te[D](h)):h.localeData().invalidDate()}function se(h,D){var T=5;function P(V){return D.longDateFormat(V)||V}for(Q.lastIndex=0;T>=0&&Q.test(h);)h=h.replace(Q,P),Q.lastIndex=0,T-=1;return h}var me={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function le(h){var D=this._longDateFormat[h],T=this._longDateFormat[h.toUpperCase()];return D||!T?D:(this._longDateFormat[h]=T.match(k).map(function(P){return P==="MMMM"||P==="MM"||P==="DD"||P==="dddd"?P.slice(1):P}).join(""),this._longDateFormat[h])}var ce="Invalid date";function pe(){return this._invalidDate}var xe="%d",Fe=/\d{1,2}/;function He(h){return this._ordinal.replace("%d",h)}var Y={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function j(h,D,T,P){var V=this._relativeTime[T];return I(V)?V(h,D,T,P):V.replace(/%d/i,h)}function ue(h,D){var T=this._relativeTime[h>0?"future":"past"];return I(T)?T(D):T.replace(/%s/i,D)}var W={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function J(h){return typeof h=="string"?W[h]||W[h.toLowerCase()]:void 0}function ee(h){var D={},T,P;for(P in h)a(h,P)&&(T=J(P),T&&(D[T]=h[P]));return D}var he={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function ve(h){var D=[],T;for(T in h)a(h,T)&&D.push({unit:T,priority:he[T]});return D.sort(function(P,V){return P.priority-V.priority}),D}var Re=/\d/,ye=/\d\d/,sr=/\d{3}/,pr=/\d{4}/,kr=/[+-]?\d{6}/,or=/\d\d?/,Z=/\d\d\d\d?/,re=/\d\d\d\d\d\d?/,fe=/\d{1,3}/,Se=/\d{1,4}/,_e=/[+-]?\d{1,6}/,be=/\d+/,Ne=/[+-]?\d+/,Ie=/Z|[+-]\d\d:?\d\d/gi,F=/Z|[+-]\d\d(?::?\d\d)?/gi,H=/[+-]?\d+(\.\d{1,3})?/,oe=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,we=/^[1-9]\d?/,je=/^([1-9]\d|\d)/,nr;nr={};function Be(h,D,T){nr[h]=I(D)?D:function(P,V){return P&&T?T:D}}function Rn(h,D){return a(nr,h)?nr[h](D._strict,D._locale):new RegExp(ti(h))}function ti(h){return Dn(h.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(D,T,P,V,K){return T||P||V||K}))}function Dn(h){return h.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function fn(h){return h<0?Math.ceil(h)||0:Math.floor(h)}function zr(h){var D=+h,T=0;return D!==0&&isFinite(D)&&(T=fn(D)),T}var Au={};function ct(h,D){var T,P=D,V;for(typeof h=="string"&&(h=[h]),l(D)&&(P=function(K,ge){ge[D]=zr(K)}),V=h.length,T=0;T<V;T++)Au[h[T]]=P}function Ao(h,D){ct(h,function(T,P,V,K){V._w=V._w||{},D(T,V._w,V,K)})}function Lm(h,D,T){D!=null&&a(Au,h)&&Au[h](D,T._a,T,h)}function cs(h){return h%4===0&&h%100!==0||h%400===0}var an=0,Oi=1,gi=2,Gt=3,ni=4,Bi=5,ca=6,Um=7,qm=8;q("Y",0,0,function(){var h=this.year();return h<=9999?G(h,4):"+"+h}),q(0,["YY",2],0,function(){return this.year()%100}),q(0,["YYYY",4],0,"year"),q(0,["YYYYY",5],0,"year"),q(0,["YYYYYY",6,!0],0,"year"),Be("Y",Ne),Be("YY",or,ye),Be("YYYY",Se,pr),Be("YYYYY",_e,kr),Be("YYYYYY",_e,kr),ct(["YYYYY","YYYYYY"],an),ct("YYYY",function(h,D){D[an]=h.length===2?e.parseTwoDigitYear(h):zr(h)}),ct("YY",function(h,D){D[an]=e.parseTwoDigitYear(h)}),ct("Y",function(h,D){D[an]=parseInt(h,10)});function No(h){return cs(h)?366:365}e.parseTwoDigitYear=function(h){return zr(h)+(zr(h)>68?1900:2e3)};var Yl=Pa("FullYear",!0);function Vm(){return cs(this.year())}function Pa(h,D){return function(T){return T!=null?(Gl(this,h,T),e.updateOffset(this,D),this):_o(this,h)}}function _o(h,D){if(!h.isValid())return NaN;var T=h._d,P=h._isUTC;switch(D){case"Milliseconds":return P?T.getUTCMilliseconds():T.getMilliseconds();case"Seconds":return P?T.getUTCSeconds():T.getSeconds();case"Minutes":return P?T.getUTCMinutes():T.getMinutes();case"Hours":return P?T.getUTCHours():T.getHours();case"Date":return P?T.getUTCDate():T.getDate();case"Day":return P?T.getUTCDay():T.getDay();case"Month":return P?T.getUTCMonth():T.getMonth();case"FullYear":return P?T.getUTCFullYear():T.getFullYear();default:return NaN}}function Gl(h,D,T){var P,V,K,ge,Je;if(!(!h.isValid()||isNaN(T))){switch(P=h._d,V=h._isUTC,D){case"Milliseconds":return void(V?P.setUTCMilliseconds(T):P.setMilliseconds(T));case"Seconds":return void(V?P.setUTCSeconds(T):P.setSeconds(T));case"Minutes":return void(V?P.setUTCMinutes(T):P.setMinutes(T));case"Hours":return void(V?P.setUTCHours(T):P.setHours(T));case"Date":return void(V?P.setUTCDate(T):P.setDate(T));case"FullYear":break;default:return}K=T,ge=h.month(),Je=h.date(),Je=Je===29&&ge===1&&!cs(K)?28:Je,V?P.setUTCFullYear(K,ge,Je):P.setFullYear(K,ge,Je)}}function zm(h){return h=J(h),I(this[h])?this[h]():this}function Hm(h,D){if(typeof h=="object"){h=ee(h);var T=ve(h),P,V=T.length;for(P=0;P<V;P++)this[T[P].unit](h[T[P].unit])}else if(h=J(h),I(this[h]))return this[h](D);return this}function Ym(h,D){return(h%D+D)%D}var Bt;Array.prototype.indexOf?Bt=Array.prototype.indexOf:Bt=function(h){var D;for(D=0;D<this.length;++D)if(this[D]===h)return D;return-1};function Nu(h,D){if(isNaN(h)||isNaN(D))return NaN;var T=Ym(D,12);return h+=(D-T)/12,T===1?cs(h)?29:28:31-T%7%2}q("M",["MM",2],"Mo",function(){return this.month()+1}),q("MMM",0,0,function(h){return this.localeData().monthsShort(this,h)}),q("MMMM",0,0,function(h){return this.localeData().months(this,h)}),Be("M",or,we),Be("MM",or,ye),Be("MMM",function(h,D){return D.monthsShortRegex(h)}),Be("MMMM",function(h,D){return D.monthsRegex(h)}),ct(["M","MM"],function(h,D){D[Oi]=zr(h)-1}),ct(["MMM","MMMM"],function(h,D,T,P){var V=T._locale.monthsParse(h,P,T._strict);V!=null?D[Oi]=V:v(T).invalidMonth=h});var Gm="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Wl="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ra=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ut=oe,Sn=oe;function Wm(h,D){return h?n(this._months)?this._months[h.month()]:this._months[(this._months.isFormat||Ra).test(D)?"format":"standalone"][h.month()]:n(this._months)?this._months:this._months.standalone}function fs(h,D){return h?n(this._monthsShort)?this._monthsShort[h.month()]:this._monthsShort[Ra.test(D)?"format":"standalone"][h.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Eo(h,D,T){var P,V,K,ge=h.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],P=0;P<12;++P)K=p([2e3,P]),this._shortMonthsParse[P]=this.monthsShort(K,"").toLocaleLowerCase(),this._longMonthsParse[P]=this.months(K,"").toLocaleLowerCase();return T?D==="MMM"?(V=Bt.call(this._shortMonthsParse,ge),V!==-1?V:null):(V=Bt.call(this._longMonthsParse,ge),V!==-1?V:null):D==="MMM"?(V=Bt.call(this._shortMonthsParse,ge),V!==-1?V:(V=Bt.call(this._longMonthsParse,ge),V!==-1?V:null)):(V=Bt.call(this._longMonthsParse,ge),V!==-1?V:(V=Bt.call(this._shortMonthsParse,ge),V!==-1?V:null))}function Zm(h,D,T){var P,V,K;if(this._monthsParseExact)return Eo.call(this,h,D,T);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),P=0;P<12;P++){if(V=p([2e3,P]),T&&!this._longMonthsParse[P]&&(this._longMonthsParse[P]=new RegExp("^"+this.months(V,"").replace(".","")+"$","i"),this._shortMonthsParse[P]=new RegExp("^"+this.monthsShort(V,"").replace(".","")+"$","i")),!T&&!this._monthsParse[P]&&(K="^"+this.months(V,"")+"|^"+this.monthsShort(V,""),this._monthsParse[P]=new RegExp(K.replace(".",""),"i")),T&&D==="MMMM"&&this._longMonthsParse[P].test(h))return P;if(T&&D==="MMM"&&this._shortMonthsParse[P].test(h))return P;if(!T&&this._monthsParse[P].test(h))return P}}function FD(h,D){if(!h.isValid())return h;if(typeof D=="string"){if(/^\d+$/.test(D))D=zr(D);else if(D=h.localeData().monthsParse(D),!l(D))return h}var T=D,P=h.date();return P=P<29?P:Math.min(P,Nu(h.year(),T)),h._isUTC?h._d.setUTCMonth(T,P):h._d.setMonth(T,P),h}function ID(h){return h!=null?(FD(this,h),e.updateOffset(this,!0),this):_o(this,"Month")}function Zk(){return Nu(this.year(),this.month())}function jk(h){return this._monthsParseExact?(a(this,"_monthsRegex")||OD.call(this),h?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=ut),this._monthsShortStrictRegex&&h?this._monthsShortStrictRegex:this._monthsShortRegex)}function $k(h){return this._monthsParseExact?(a(this,"_monthsRegex")||OD.call(this),h?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=Sn),this._monthsStrictRegex&&h?this._monthsStrictRegex:this._monthsRegex)}function OD(){function h(Nr,Qr){return Qr.length-Nr.length}var D=[],T=[],P=[],V,K,ge,Je;for(V=0;V<12;V++)K=p([2e3,V]),ge=Dn(this.monthsShort(K,"")),Je=Dn(this.months(K,"")),D.push(ge),T.push(Je),P.push(Je),P.push(ge);D.sort(h),T.sort(h),P.sort(h),this._monthsRegex=new RegExp("^("+P.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+T.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+D.join("|")+")","i")}function Jk(h,D,T,P,V,K,ge){var Je;return h<100&&h>=0?(Je=new Date(h+400,D,T,P,V,K,ge),isFinite(Je.getFullYear())&&Je.setFullYear(h)):Je=new Date(h,D,T,P,V,K,ge),Je}function _u(h){var D,T;return h<100&&h>=0?(T=Array.prototype.slice.call(arguments),T[0]=h+400,D=new Date(Date.UTC.apply(null,T)),isFinite(D.getUTCFullYear())&&D.setUTCFullYear(h)):D=new Date(Date.UTC.apply(null,arguments)),D}function Zl(h,D,T){var P=7+D-T,V=(7+_u(h,0,P).getUTCDay()-D)%7;return-V+P-1}function BD(h,D,T,P,V){var K=(7+T-P)%7,ge=Zl(h,P,V),Je=1+7*(D-1)+K+ge,Nr,Qr;return Je<=0?(Nr=h-1,Qr=No(Nr)+Je):Je>No(h)?(Nr=h+1,Qr=Je-No(h)):(Nr=h,Qr=Je),{year:Nr,dayOfYear:Qr}}function Eu(h,D,T){var P=Zl(h.year(),D,T),V=Math.floor((h.dayOfYear()-P-1)/7)+1,K,ge;return V<1?(ge=h.year()-1,K=V+fa(ge,D,T)):V>fa(h.year(),D,T)?(K=V-fa(h.year(),D,T),ge=h.year()+1):(ge=h.year(),K=V),{week:K,year:ge}}function fa(h,D,T){var P=Zl(h,D,T),V=Zl(h+1,D,T);return(No(h)-P+V)/7}q("w",["ww",2],"wo","week"),q("W",["WW",2],"Wo","isoWeek"),Be("w",or,we),Be("ww",or,ye),Be("W",or,we),Be("WW",or,ye),Ao(["w","ww","W","WW"],function(h,D,T,P){D[P.substr(0,1)]=zr(h)});function Xk(h){return Eu(h,this._week.dow,this._week.doy).week}var Qk={dow:0,doy:6};function Kk(){return this._week.dow}function eL(){return this._week.doy}function rL(h){var D=this.localeData().week(this);return h==null?D:this.add((h-D)*7,"d")}function tL(h){var D=Eu(this,1,4).week;return h==null?D:this.add((h-D)*7,"d")}q("d",0,"do","day"),q("dd",0,0,function(h){return this.localeData().weekdaysMin(this,h)}),q("ddd",0,0,function(h){return this.localeData().weekdaysShort(this,h)}),q("dddd",0,0,function(h){return this.localeData().weekdays(this,h)}),q("e",0,0,"weekday"),q("E",0,0,"isoWeekday"),Be("d",or),Be("e",or),Be("E",or),Be("dd",function(h,D){return D.weekdaysMinRegex(h)}),Be("ddd",function(h,D){return D.weekdaysShortRegex(h)}),Be("dddd",function(h,D){return D.weekdaysRegex(h)}),Ao(["dd","ddd","dddd"],function(h,D,T,P){var V=T._locale.weekdaysParse(h,P,T._strict);V!=null?D.d=V:v(T).invalidWeekday=h}),Ao(["d","e","E"],function(h,D,T,P){D[P]=zr(h)});function nL(h,D){return typeof h!="string"?h:isNaN(h)?(h=D.weekdaysParse(h),typeof h=="number"?h:null):parseInt(h,10)}function iL(h,D){return typeof h=="string"?D.weekdaysParse(h)%7||7:isNaN(h)?null:h}function jm(h,D){return h.slice(D,7).concat(h.slice(0,D))}var aL="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),PD="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),oL="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),sL=oe,uL=oe,lL=oe;function cL(h,D){var T=n(this._weekdays)?this._weekdays:this._weekdays[h&&h!==!0&&this._weekdays.isFormat.test(D)?"format":"standalone"];return h===!0?jm(T,this._week.dow):h?T[h.day()]:T}function fL(h){return h===!0?jm(this._weekdaysShort,this._week.dow):h?this._weekdaysShort[h.day()]:this._weekdaysShort}function pL(h){return h===!0?jm(this._weekdaysMin,this._week.dow):h?this._weekdaysMin[h.day()]:this._weekdaysMin}function mL(h,D,T){var P,V,K,ge=h.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],P=0;P<7;++P)K=p([2e3,1]).day(P),this._minWeekdaysParse[P]=this.weekdaysMin(K,"").toLocaleLowerCase(),this._shortWeekdaysParse[P]=this.weekdaysShort(K,"").toLocaleLowerCase(),this._weekdaysParse[P]=this.weekdays(K,"").toLocaleLowerCase();return T?D==="dddd"?(V=Bt.call(this._weekdaysParse,ge),V!==-1?V:null):D==="ddd"?(V=Bt.call(this._shortWeekdaysParse,ge),V!==-1?V:null):(V=Bt.call(this._minWeekdaysParse,ge),V!==-1?V:null):D==="dddd"?(V=Bt.call(this._weekdaysParse,ge),V!==-1||(V=Bt.call(this._shortWeekdaysParse,ge),V!==-1)?V:(V=Bt.call(this._minWeekdaysParse,ge),V!==-1?V:null)):D==="ddd"?(V=Bt.call(this._shortWeekdaysParse,ge),V!==-1||(V=Bt.call(this._weekdaysParse,ge),V!==-1)?V:(V=Bt.call(this._minWeekdaysParse,ge),V!==-1?V:null)):(V=Bt.call(this._minWeekdaysParse,ge),V!==-1||(V=Bt.call(this._weekdaysParse,ge),V!==-1)?V:(V=Bt.call(this._shortWeekdaysParse,ge),V!==-1?V:null))}function dL(h,D,T){var P,V,K;if(this._weekdaysParseExact)return mL.call(this,h,D,T);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),P=0;P<7;P++){if(V=p([2e3,1]).day(P),T&&!this._fullWeekdaysParse[P]&&(this._fullWeekdaysParse[P]=new RegExp("^"+this.weekdays(V,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[P]=new RegExp("^"+this.weekdaysShort(V,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[P]=new RegExp("^"+this.weekdaysMin(V,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[P]||(K="^"+this.weekdays(V,"")+"|^"+this.weekdaysShort(V,"")+"|^"+this.weekdaysMin(V,""),this._weekdaysParse[P]=new RegExp(K.replace(".",""),"i")),T&&D==="dddd"&&this._fullWeekdaysParse[P].test(h))return P;if(T&&D==="ddd"&&this._shortWeekdaysParse[P].test(h))return P;if(T&&D==="dd"&&this._minWeekdaysParse[P].test(h))return P;if(!T&&this._weekdaysParse[P].test(h))return P}}function hL(h){if(!this.isValid())return h!=null?this:NaN;var D=_o(this,"Day");return h!=null?(h=nL(h,this.localeData()),this.add(h-D,"d")):D}function vL(h){if(!this.isValid())return h!=null?this:NaN;var D=(this.day()+7-this.localeData()._week.dow)%7;return h==null?D:this.add(h-D,"d")}function gL(h){if(!this.isValid())return h!=null?this:NaN;if(h!=null){var D=iL(h,this.localeData());return this.day(this.day()%7?D:D-7)}else return this.day()||7}function yL(h){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||$m.call(this),h?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=sL),this._weekdaysStrictRegex&&h?this._weekdaysStrictRegex:this._weekdaysRegex)}function xL(h){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||$m.call(this),h?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=uL),this._weekdaysShortStrictRegex&&h?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function bL(h){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||$m.call(this),h?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=lL),this._weekdaysMinStrictRegex&&h?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function $m(){function h(kn,va){return va.length-kn.length}var D=[],T=[],P=[],V=[],K,ge,Je,Nr,Qr;for(K=0;K<7;K++)ge=p([2e3,1]).day(K),Je=Dn(this.weekdaysMin(ge,"")),Nr=Dn(this.weekdaysShort(ge,"")),Qr=Dn(this.weekdays(ge,"")),D.push(Je),T.push(Nr),P.push(Qr),V.push(Je),V.push(Nr),V.push(Qr);D.sort(h),T.sort(h),P.sort(h),V.sort(h),this._weekdaysRegex=new RegExp("^("+V.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+P.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+T.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+D.join("|")+")","i")}function Jm(){return this.hours()%12||12}function wL(){return this.hours()||24}q("H",["HH",2],0,"hour"),q("h",["hh",2],0,Jm),q("k",["kk",2],0,wL),q("hmm",0,0,function(){return""+Jm.apply(this)+G(this.minutes(),2)}),q("hmmss",0,0,function(){return""+Jm.apply(this)+G(this.minutes(),2)+G(this.seconds(),2)}),q("Hmm",0,0,function(){return""+this.hours()+G(this.minutes(),2)}),q("Hmmss",0,0,function(){return""+this.hours()+G(this.minutes(),2)+G(this.seconds(),2)});function RD(h,D){q(h,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),D)})}RD("a",!0),RD("A",!1);function kD(h,D){return D._meridiemParse}Be("a",kD),Be("A",kD),Be("H",or,je),Be("h",or,we),Be("k",or,we),Be("HH",or,ye),Be("hh",or,ye),Be("kk",or,ye),Be("hmm",Z),Be("hmmss",re),Be("Hmm",Z),Be("Hmmss",re),ct(["H","HH"],Gt),ct(["k","kk"],function(h,D,T){var P=zr(h);D[Gt]=P===24?0:P}),ct(["a","A"],function(h,D,T){T._isPm=T._locale.isPM(h),T._meridiem=h}),ct(["h","hh"],function(h,D,T){D[Gt]=zr(h),v(T).bigHour=!0}),ct("hmm",function(h,D,T){var P=h.length-2;D[Gt]=zr(h.substr(0,P)),D[ni]=zr(h.substr(P)),v(T).bigHour=!0}),ct("hmmss",function(h,D,T){var P=h.length-4,V=h.length-2;D[Gt]=zr(h.substr(0,P)),D[ni]=zr(h.substr(P,2)),D[Bi]=zr(h.substr(V)),v(T).bigHour=!0}),ct("Hmm",function(h,D,T){var P=h.length-2;D[Gt]=zr(h.substr(0,P)),D[ni]=zr(h.substr(P))}),ct("Hmmss",function(h,D,T){var P=h.length-4,V=h.length-2;D[Gt]=zr(h.substr(0,P)),D[ni]=zr(h.substr(P,2)),D[Bi]=zr(h.substr(V))});function DL(h){return(h+"").toLowerCase().charAt(0)==="p"}var SL=/[ap]\.?m?\.?/i,AL=Pa("Hours",!0);function NL(h,D,T){return h>11?T?"pm":"PM":T?"am":"AM"}var LD={calendar:R,longDateFormat:me,invalidDate:ce,ordinal:xe,dayOfMonthOrdinalParse:Fe,relativeTime:Y,months:Gm,monthsShort:Wl,week:Qk,weekdays:aL,weekdaysMin:oL,weekdaysShort:PD,meridiemParse:SL},Ct={},Mu={},Cu;function _L(h,D){var T,P=Math.min(h.length,D.length);for(T=0;T<P;T+=1)if(h[T]!==D[T])return T;return P}function UD(h){return h&&h.toLowerCase().replace("_","-")}function EL(h){for(var D=0,T,P,V,K;D<h.length;){for(K=UD(h[D]).split("-"),T=K.length,P=UD(h[D+1]),P=P?P.split("-"):null;T>0;){if(V=jl(K.slice(0,T).join("-")),V)return V;if(P&&P.length>=T&&_L(K,P)>=T-1)break;T--}D++}return Cu}function ML(h){return!!(h&&h.match("^[^/\\\\]*$"))}function jl(h){var D=null,T;if(Ct[h]===void 0&&typeof Is!="undefined"&&Is&&Is.exports&&ML(h))try{D=Cu._abbr,T=ic,T("./locale/"+h),ka(D)}catch(P){Ct[h]=null}return Ct[h]}function ka(h,D){var T;return h&&(c(D)?T=pa(h):T=Xm(h,D),T?Cu=T:typeof console!="undefined"&&console.warn&&console.warn("Locale "+h+" not found. Did you forget to load it?")),Cu._abbr}function Xm(h,D){if(D!==null){var T,P=LD;if(D.abbr=h,Ct[h]!=null)E("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),P=Ct[h]._config;else if(D.parentLocale!=null)if(Ct[D.parentLocale]!=null)P=Ct[D.parentLocale]._config;else if(T=jl(D.parentLocale),T!=null)P=T._config;else return Mu[D.parentLocale]||(Mu[D.parentLocale]=[]),Mu[D.parentLocale].push({name:h,config:D}),null;return Ct[h]=new z(L(P,D)),Mu[h]&&Mu[h].forEach(function(V){Xm(V.name,V.config)}),ka(h),Ct[h]}else return delete Ct[h],null}function CL(h,D){if(D!=null){var T,P,V=LD;Ct[h]!=null&&Ct[h].parentLocale!=null?Ct[h].set(L(Ct[h]._config,D)):(P=jl(h),P!=null&&(V=P._config),D=L(V,D),P==null&&(D.abbr=h),T=new z(D),T.parentLocale=Ct[h],Ct[h]=T),ka(h)}else Ct[h]!=null&&(Ct[h].parentLocale!=null?(Ct[h]=Ct[h].parentLocale,h===ka()&&ka(h)):Ct[h]!=null&&delete Ct[h]);return Ct[h]}function pa(h){var D;if(h&&h._locale&&h._locale._abbr&&(h=h._locale._abbr),!h)return Cu;if(!n(h)){if(D=jl(h),D)return D;h=[h]}return EL(h)}function TL(){return U(Ct)}function Qm(h){var D,T=h._a;return T&&v(h).overflow===-2&&(D=T[Oi]<0||T[Oi]>11?Oi:T[gi]<1||T[gi]>Nu(T[an],T[Oi])?gi:T[Gt]<0||T[Gt]>24||T[Gt]===24&&(T[ni]!==0||T[Bi]!==0||T[ca]!==0)?Gt:T[ni]<0||T[ni]>59?ni:T[Bi]<0||T[Bi]>59?Bi:T[ca]<0||T[ca]>999?ca:-1,v(h)._overflowDayOfYear&&(D<an||D>gi)&&(D=gi),v(h)._overflowWeeks&&D===-1&&(D=Um),v(h)._overflowWeekday&&D===-1&&(D=qm),v(h).overflow=D),h}var FL=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,IL=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,OL=/Z|[+-]\d\d(?::?\d\d)?/,$l=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Km=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],BL=/^\/?Date\((-?\d+)/i,PL=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,RL={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function qD(h){var D,T,P=h._i,V=FL.exec(P)||IL.exec(P),K,ge,Je,Nr,Qr=$l.length,kn=Km.length;if(V){for(v(h).iso=!0,D=0,T=Qr;D<T;D++)if($l[D][1].exec(V[1])){ge=$l[D][0],K=$l[D][2]!==!1;break}if(ge==null){h._isValid=!1;return}if(V[3]){for(D=0,T=kn;D<T;D++)if(Km[D][1].exec(V[3])){Je=(V[2]||" ")+Km[D][0];break}if(Je==null){h._isValid=!1;return}}if(!K&&Je!=null){h._isValid=!1;return}if(V[4])if(OL.exec(V[4]))Nr="Z";else{h._isValid=!1;return}h._f=ge+(Je||"")+(Nr||""),rd(h)}else h._isValid=!1}function kL(h,D,T,P,V,K){var ge=[LL(h),Wl.indexOf(D),parseInt(T,10),parseInt(P,10),parseInt(V,10)];return K&&ge.push(parseInt(K,10)),ge}function LL(h){var D=parseInt(h,10);return D<=49?2e3+D:D<=999?1900+D:D}function UL(h){return h.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function qL(h,D,T){if(h){var P=PD.indexOf(h),V=new Date(D[0],D[1],D[2]).getDay();if(P!==V)return v(T).weekdayMismatch=!0,T._isValid=!1,!1}return!0}function VL(h,D,T){if(h)return RL[h];if(D)return 0;var P=parseInt(T,10),V=P%100,K=(P-V)/100;return K*60+V}function VD(h){var D=PL.exec(UL(h._i)),T;if(D){if(T=kL(D[4],D[3],D[2],D[5],D[6],D[7]),!qL(D[1],T,h))return;h._a=T,h._tzm=VL(D[8],D[9],D[10]),h._d=_u.apply(null,h._a),h._d.setUTCMinutes(h._d.getUTCMinutes()-h._tzm),v(h).rfc2822=!0}else h._isValid=!1}function zL(h){var D=BL.exec(h._i);if(D!==null){h._d=new Date(+D[1]);return}if(qD(h),h._isValid===!1)delete h._isValid;else return;if(VD(h),h._isValid===!1)delete h._isValid;else return;h._strict?h._isValid=!1:e.createFromInputFallback(h)}e.createFromInputFallback=_("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(h){h._d=new Date(h._i+(h._useUTC?" UTC":""))});function ps(h,D,T){return h!=null?h:D!=null?D:T}function HL(h){var D=new Date(e.now());return h._useUTC?[D.getUTCFullYear(),D.getUTCMonth(),D.getUTCDate()]:[D.getFullYear(),D.getMonth(),D.getDate()]}function ed(h){var D,T,P=[],V,K,ge;if(!h._d){for(V=HL(h),h._w&&h._a[gi]==null&&h._a[Oi]==null&&YL(h),h._dayOfYear!=null&&(ge=ps(h._a[an],V[an]),(h._dayOfYear>No(ge)||h._dayOfYear===0)&&(v(h)._overflowDayOfYear=!0),T=_u(ge,0,h._dayOfYear),h._a[Oi]=T.getUTCMonth(),h._a[gi]=T.getUTCDate()),D=0;D<3&&h._a[D]==null;++D)h._a[D]=P[D]=V[D];for(;D<7;D++)h._a[D]=P[D]=h._a[D]==null?D===2?1:0:h._a[D];h._a[Gt]===24&&h._a[ni]===0&&h._a[Bi]===0&&h._a[ca]===0&&(h._nextDay=!0,h._a[Gt]=0),h._d=(h._useUTC?_u:Jk).apply(null,P),K=h._useUTC?h._d.getUTCDay():h._d.getDay(),h._tzm!=null&&h._d.setUTCMinutes(h._d.getUTCMinutes()-h._tzm),h._nextDay&&(h._a[Gt]=24),h._w&&typeof h._w.d!="undefined"&&h._w.d!==K&&(v(h).weekdayMismatch=!0)}}function YL(h){var D,T,P,V,K,ge,Je,Nr,Qr;D=h._w,D.GG!=null||D.W!=null||D.E!=null?(K=1,ge=4,T=ps(D.GG,h._a[an],Eu(_t(),1,4).year),P=ps(D.W,1),V=ps(D.E,1),(V<1||V>7)&&(Nr=!0)):(K=h._locale._week.dow,ge=h._locale._week.doy,Qr=Eu(_t(),K,ge),T=ps(D.gg,h._a[an],Qr.year),P=ps(D.w,Qr.week),D.d!=null?(V=D.d,(V<0||V>6)&&(Nr=!0)):D.e!=null?(V=D.e+K,(D.e<0||D.e>6)&&(Nr=!0)):V=K),P<1||P>fa(T,K,ge)?v(h)._overflowWeeks=!0:Nr!=null?v(h)._overflowWeekday=!0:(Je=BD(T,P,V,K,ge),h._a[an]=Je.year,h._dayOfYear=Je.dayOfYear)}e.ISO_8601=function(){},e.RFC_2822=function(){};function rd(h){if(h._f===e.ISO_8601){qD(h);return}if(h._f===e.RFC_2822){VD(h);return}h._a=[],v(h).empty=!0;var D=""+h._i,T,P,V,K,ge,Je=D.length,Nr=0,Qr,kn;for(V=se(h._f,h._locale).match(k)||[],kn=V.length,T=0;T<kn;T++)K=V[T],P=(D.match(Rn(K,h))||[])[0],P&&(ge=D.substr(0,D.indexOf(P)),ge.length>0&&v(h).unusedInput.push(ge),D=D.slice(D.indexOf(P)+P.length),Nr+=P.length),X[K]?(P?v(h).empty=!1:v(h).unusedTokens.push(K),Lm(K,P,h)):h._strict&&!P&&v(h).unusedTokens.push(K);v(h).charsLeftOver=Je-Nr,D.length>0&&v(h).unusedInput.push(D),h._a[Gt]<=12&&v(h).bigHour===!0&&h._a[Gt]>0&&(v(h).bigHour=void 0),v(h).parsedDateParts=h._a.slice(0),v(h).meridiem=h._meridiem,h._a[Gt]=GL(h._locale,h._a[Gt],h._meridiem),Qr=v(h).era,Qr!==null&&(h._a[an]=h._locale.erasConvertYear(Qr,h._a[an])),ed(h),Qm(h)}function GL(h,D,T){var P;return T==null?D:h.meridiemHour!=null?h.meridiemHour(D,T):(h.isPM!=null&&(P=h.isPM(T),P&&D<12&&(D+=12),!P&&D===12&&(D=0)),D)}function WL(h){var D,T,P,V,K,ge,Je=!1,Nr=h._f.length;if(Nr===0){v(h).invalidFormat=!0,h._d=new Date(NaN);return}for(V=0;V<Nr;V++)K=0,ge=!1,D=w({},h),h._useUTC!=null&&(D._useUTC=h._useUTC),D._f=h._f[V],rd(D),g(D)&&(ge=!0),K+=v(D).charsLeftOver,K+=v(D).unusedTokens.length*10,v(D).score=K,Je?K<P&&(P=K,T=D):(P==null||K<P||ge)&&(P=K,T=D,ge&&(Je=!0));f(h,T||D)}function ZL(h){if(!h._d){var D=ee(h._i),T=D.day===void 0?D.date:D.day;h._a=u([D.year,D.month,T,D.hour,D.minute,D.second,D.millisecond],function(P){return P&&parseInt(P,10)}),ed(h)}}function jL(h){var D=new S(Qm(zD(h)));return D._nextDay&&(D.add(1,"d"),D._nextDay=void 0),D}function zD(h){var D=h._i,T=h._f;return h._locale=h._locale||pa(h._l),D===null||T===void 0&&D===""?x({nullInput:!0}):(typeof D=="string"&&(h._i=D=h._locale.preparse(D)),b(D)?new S(Qm(D)):(s(D)?h._d=D:n(T)?WL(h):T?rd(h):$L(h),g(h)||(h._d=null),h))}function $L(h){var D=h._i;c(D)?h._d=new Date(e.now()):s(D)?h._d=new Date(D.valueOf()):typeof D=="string"?zL(h):n(D)?(h._a=u(D.slice(0),function(T){return parseInt(T,10)}),ed(h)):i(D)?ZL(h):l(D)?h._d=new Date(D):e.createFromInputFallback(h)}function HD(h,D,T,P,V){var K={};return(D===!0||D===!1)&&(P=D,D=void 0),(T===!0||T===!1)&&(P=T,T=void 0),(i(h)&&o(h)||n(h)&&h.length===0)&&(h=void 0),K._isAMomentObject=!0,K._useUTC=K._isUTC=V,K._l=T,K._i=h,K._f=D,K._strict=P,jL(K)}function _t(h,D,T,P){return HD(h,D,T,P,!1)}var JL=_("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var h=_t.apply(null,arguments);return this.isValid()&&h.isValid()?h<this?this:h:x()}),XL=_("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var h=_t.apply(null,arguments);return this.isValid()&&h.isValid()?h>this?this:h:x()});function YD(h,D){var T,P;if(D.length===1&&n(D[0])&&(D=D[0]),!D.length)return _t();for(T=D[0],P=1;P<D.length;++P)(!D[P].isValid()||D[P][h](T))&&(T=D[P]);return T}function QL(){var h=[].slice.call(arguments,0);return YD("isBefore",h)}function KL(){var h=[].slice.call(arguments,0);return YD("isAfter",h)}var e4=function(){return Date.now?Date.now():+new Date},Tu=["year","quarter","month","week","day","hour","minute","second","millisecond"];function r4(h){var D,T=!1,P,V=Tu.length;for(D in h)if(a(h,D)&&!(Bt.call(Tu,D)!==-1&&(h[D]==null||!isNaN(h[D]))))return!1;for(P=0;P<V;++P)if(h[Tu[P]]){if(T)return!1;parseFloat(h[Tu[P]])!==zr(h[Tu[P]])&&(T=!0)}return!0}function t4(){return this._isValid}function n4(){return Pi(NaN)}function Jl(h){var D=ee(h),T=D.year||0,P=D.quarter||0,V=D.month||0,K=D.week||D.isoWeek||0,ge=D.day||0,Je=D.hour||0,Nr=D.minute||0,Qr=D.second||0,kn=D.millisecond||0;this._isValid=r4(D),this._milliseconds=+kn+Qr*1e3+Nr*6e4+Je*1e3*60*60,this._days=+ge+K*7,this._months=+V+P*3+T*12,this._data={},this._locale=pa(),this._bubble()}function Xl(h){return h instanceof Jl}function td(h){return h<0?Math.round(-1*h)*-1:Math.round(h)}function i4(h,D,T){var P=Math.min(h.length,D.length),V=Math.abs(h.length-D.length),K=0,ge;for(ge=0;ge<P;ge++)(T&&h[ge]!==D[ge]||!T&&zr(h[ge])!==zr(D[ge]))&&K++;return K+V}function GD(h,D){q(h,0,0,function(){var T=this.utcOffset(),P="+";return T<0&&(T=-T,P="-"),P+G(~~(T/60),2)+D+G(~~T%60,2)})}GD("Z",":"),GD("ZZ",""),Be("Z",F),Be("ZZ",F),ct(["Z","ZZ"],function(h,D,T){T._useUTC=!0,T._tzm=nd(F,h)});var a4=/([\+\-]|\d\d)/gi;function nd(h,D){var T=(D||"").match(h),P,V,K;return T===null?null:(P=T[T.length-1]||[],V=(P+"").match(a4)||["-",0,0],K=+(V[1]*60)+zr(V[2]),K===0?0:V[0]==="+"?K:-K)}function id(h,D){var T,P;return D._isUTC?(T=D.clone(),P=(b(h)||s(h)?h.valueOf():_t(h).valueOf())-T.valueOf(),T._d.setTime(T._d.valueOf()+P),e.updateOffset(T,!1),T):_t(h).local()}function ad(h){return-Math.round(h._d.getTimezoneOffset())}e.updateOffset=function(){};function o4(h,D,T){var P=this._offset||0,V;if(!this.isValid())return h!=null?this:NaN;if(h!=null){if(typeof h=="string"){if(h=nd(F,h),h===null)return this}else Math.abs(h)<16&&!T&&(h=h*60);return!this._isUTC&&D&&(V=ad(this)),this._offset=h,this._isUTC=!0,V!=null&&this.add(V,"m"),P!==h&&(!D||this._changeInProgress?$D(this,Pi(h-P,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?P:ad(this)}function s4(h,D){return h!=null?(typeof h!="string"&&(h=-h),this.utcOffset(h,D),this):-this.utcOffset()}function u4(h){return this.utcOffset(0,h)}function l4(h){return this._isUTC&&(this.utcOffset(0,h),this._isUTC=!1,h&&this.subtract(ad(this),"m")),this}function c4(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var h=nd(Ie,this._i);h!=null?this.utcOffset(h):this.utcOffset(0,!0)}return this}function f4(h){return this.isValid()?(h=h?_t(h).utcOffset():0,(this.utcOffset()-h)%60===0):!1}function p4(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function m4(){if(!c(this._isDSTShifted))return this._isDSTShifted;var h={},D;return w(h,this),h=zD(h),h._a?(D=h._isUTC?p(h._a):_t(h._a),this._isDSTShifted=this.isValid()&&i4(h._a,D.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function d4(){return this.isValid()?!this._isUTC:!1}function h4(){return this.isValid()?this._isUTC:!1}function WD(){return this.isValid()?this._isUTC&&this._offset===0:!1}var v4=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,g4=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Pi(h,D){var T=h,P=null,V,K,ge;return Xl(h)?T={ms:h._milliseconds,d:h._days,M:h._months}:l(h)||!isNaN(+h)?(T={},D?T[D]=+h:T.milliseconds=+h):(P=v4.exec(h))?(V=P[1]==="-"?-1:1,T={y:0,d:zr(P[gi])*V,h:zr(P[Gt])*V,m:zr(P[ni])*V,s:zr(P[Bi])*V,ms:zr(td(P[ca]*1e3))*V}):(P=g4.exec(h))?(V=P[1]==="-"?-1:1,T={y:Mo(P[2],V),M:Mo(P[3],V),w:Mo(P[4],V),d:Mo(P[5],V),h:Mo(P[6],V),m:Mo(P[7],V),s:Mo(P[8],V)}):T==null?T={}:typeof T=="object"&&("from"in T||"to"in T)&&(ge=y4(_t(T.from),_t(T.to)),T={},T.ms=ge.milliseconds,T.M=ge.months),K=new Jl(T),Xl(h)&&a(h,"_locale")&&(K._locale=h._locale),Xl(h)&&a(h,"_isValid")&&(K._isValid=h._isValid),K}Pi.fn=Jl.prototype,Pi.invalid=n4;function Mo(h,D){var T=h&&parseFloat(h.replace(",","."));return(isNaN(T)?0:T)*D}function ZD(h,D){var T={};return T.months=D.month()-h.month()+(D.year()-h.year())*12,h.clone().add(T.months,"M").isAfter(D)&&--T.months,T.milliseconds=+D-+h.clone().add(T.months,"M"),T}function y4(h,D){var T;return h.isValid()&&D.isValid()?(D=id(D,h),h.isBefore(D)?T=ZD(h,D):(T=ZD(D,h),T.milliseconds=-T.milliseconds,T.months=-T.months),T):{milliseconds:0,months:0}}function jD(h,D){return function(T,P){var V,K;return P!==null&&!isNaN(+P)&&(E(D,"moment()."+D+"(period, number) is deprecated. Please use moment()."+D+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),K=T,T=P,P=K),V=Pi(T,P),$D(this,V,h),this}}function $D(h,D,T,P){var V=D._milliseconds,K=td(D._days),ge=td(D._months);h.isValid()&&(P=P==null?!0:P,ge&&FD(h,_o(h,"Month")+ge*T),K&&Gl(h,"Date",_o(h,"Date")+K*T),V&&h._d.setTime(h._d.valueOf()+V*T),P&&e.updateOffset(h,K||ge))}var x4=jD(1,"add"),b4=jD(-1,"subtract");function JD(h){return typeof h=="string"||h instanceof String}function w4(h){return b(h)||s(h)||JD(h)||l(h)||S4(h)||D4(h)||h===null||h===void 0}function D4(h){var D=i(h)&&!o(h),T=!1,P=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],V,K,ge=P.length;for(V=0;V<ge;V+=1)K=P[V],T=T||a(h,K);return D&&T}function S4(h){var D=n(h),T=!1;return D&&(T=h.filter(function(P){return!l(P)&&JD(h)}).length===0),D&&T}function A4(h){var D=i(h)&&!o(h),T=!1,P=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],V,K;for(V=0;V<P.length;V+=1)K=P[V],T=T||a(h,K);return D&&T}function N4(h,D){var T=h.diff(D,"days",!0);return T<-6?"sameElse":T<-1?"lastWeek":T<0?"lastDay":T<1?"sameDay":T<2?"nextDay":T<7?"nextWeek":"sameElse"}function _4(h,D){arguments.length===1&&(arguments[0]?w4(arguments[0])?(h=arguments[0],D=void 0):A4(arguments[0])&&(D=arguments[0],h=void 0):(h=void 0,D=void 0));var T=h||_t(),P=id(T,this).startOf("day"),V=e.calendarFormat(this,P)||"sameElse",K=D&&(I(D[V])?D[V].call(this,T):D[V]);return this.format(K||this.localeData().calendar(V,this,_t(T)))}function E4(){return new S(this)}function M4(h,D){var T=b(h)?h:_t(h);return this.isValid()&&T.isValid()?(D=J(D)||"millisecond",D==="millisecond"?this.valueOf()>T.valueOf():T.valueOf()<this.clone().startOf(D).valueOf()):!1}function C4(h,D){var T=b(h)?h:_t(h);return this.isValid()&&T.isValid()?(D=J(D)||"millisecond",D==="millisecond"?this.valueOf()<T.valueOf():this.clone().endOf(D).valueOf()<T.valueOf()):!1}function T4(h,D,T,P){var V=b(h)?h:_t(h),K=b(D)?D:_t(D);return this.isValid()&&V.isValid()&&K.isValid()?(P=P||"()",(P[0]==="("?this.isAfter(V,T):!this.isBefore(V,T))&&(P[1]===")"?this.isBefore(K,T):!this.isAfter(K,T))):!1}function F4(h,D){var T=b(h)?h:_t(h),P;return this.isValid()&&T.isValid()?(D=J(D)||"millisecond",D==="millisecond"?this.valueOf()===T.valueOf():(P=T.valueOf(),this.clone().startOf(D).valueOf()<=P&&P<=this.clone().endOf(D).valueOf())):!1}function I4(h,D){return this.isSame(h,D)||this.isAfter(h,D)}function O4(h,D){return this.isSame(h,D)||this.isBefore(h,D)}function B4(h,D,T){var P,V,K;if(!this.isValid())return NaN;if(P=id(h,this),!P.isValid())return NaN;switch(V=(P.utcOffset()-this.utcOffset())*6e4,D=J(D),D){case"year":K=Ql(this,P)/12;break;case"month":K=Ql(this,P);break;case"quarter":K=Ql(this,P)/3;break;case"second":K=(this-P)/1e3;break;case"minute":K=(this-P)/6e4;break;case"hour":K=(this-P)/36e5;break;case"day":K=(this-P-V)/864e5;break;case"week":K=(this-P-V)/6048e5;break;default:K=this-P}return T?K:fn(K)}function Ql(h,D){if(h.date()<D.date())return-Ql(D,h);var T=(D.year()-h.year())*12+(D.month()-h.month()),P=h.clone().add(T,"months"),V,K;return D-P<0?(V=h.clone().add(T-1,"months"),K=(D-P)/(P-V)):(V=h.clone().add(T+1,"months"),K=(D-P)/(V-P)),-(T+K)||0}e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function P4(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function R4(h){if(!this.isValid())return null;var D=h!==!0,T=D?this.clone().utc():this;return T.year()<0||T.year()>9999?ae(T,D?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):I(Date.prototype.toISOString)?D?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",ae(T,"Z")):ae(T,D?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function k4(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var h="moment",D="",T,P,V,K;return this.isLocal()||(h=this.utcOffset()===0?"moment.utc":"moment.parseZone",D="Z"),T="["+h+'("]',P=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",V="-MM-DD[T]HH:mm:ss.SSS",K=D+'[")]',this.format(T+P+V+K)}function L4(h){h||(h=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var D=ae(this,h);return this.localeData().postformat(D)}function U4(h,D){return this.isValid()&&(b(h)&&h.isValid()||_t(h).isValid())?Pi({to:this,from:h}).locale(this.locale()).humanize(!D):this.localeData().invalidDate()}function q4(h){return this.from(_t(),h)}function V4(h,D){return this.isValid()&&(b(h)&&h.isValid()||_t(h).isValid())?Pi({from:this,to:h}).locale(this.locale()).humanize(!D):this.localeData().invalidDate()}function z4(h){return this.to(_t(),h)}function XD(h){var D;return h===void 0?this._locale._abbr:(D=pa(h),D!=null&&(this._locale=D),this)}var QD=_("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(h){return h===void 0?this.localeData():this.locale(h)});function KD(){return this._locale}var Kl=1e3,ms=60*Kl,ec=60*ms,eS=(365*400+97)*24*ec;function ds(h,D){return(h%D+D)%D}function rS(h,D,T){return h<100&&h>=0?new Date(h+400,D,T)-eS:new Date(h,D,T).valueOf()}function tS(h,D,T){return h<100&&h>=0?Date.UTC(h+400,D,T)-eS:Date.UTC(h,D,T)}function H4(h){var D,T;if(h=J(h),h===void 0||h==="millisecond"||!this.isValid())return this;switch(T=this._isUTC?tS:rS,h){case"year":D=T(this.year(),0,1);break;case"quarter":D=T(this.year(),this.month()-this.month()%3,1);break;case"month":D=T(this.year(),this.month(),1);break;case"week":D=T(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":D=T(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":D=T(this.year(),this.month(),this.date());break;case"hour":D=this._d.valueOf(),D-=ds(D+(this._isUTC?0:this.utcOffset()*ms),ec);break;case"minute":D=this._d.valueOf(),D-=ds(D,ms);break;case"second":D=this._d.valueOf(),D-=ds(D,Kl);break}return this._d.setTime(D),e.updateOffset(this,!0),this}function Y4(h){var D,T;if(h=J(h),h===void 0||h==="millisecond"||!this.isValid())return this;switch(T=this._isUTC?tS:rS,h){case"year":D=T(this.year()+1,0,1)-1;break;case"quarter":D=T(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":D=T(this.year(),this.month()+1,1)-1;break;case"week":D=T(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":D=T(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":D=T(this.year(),this.month(),this.date()+1)-1;break;case"hour":D=this._d.valueOf(),D+=ec-ds(D+(this._isUTC?0:this.utcOffset()*ms),ec)-1;break;case"minute":D=this._d.valueOf(),D+=ms-ds(D,ms)-1;break;case"second":D=this._d.valueOf(),D+=Kl-ds(D,Kl)-1;break}return this._d.setTime(D),e.updateOffset(this,!0),this}function G4(){return this._d.valueOf()-(this._offset||0)*6e4}function W4(){return Math.floor(this.valueOf()/1e3)}function Z4(){return new Date(this.valueOf())}function j4(){var h=this;return[h.year(),h.month(),h.date(),h.hour(),h.minute(),h.second(),h.millisecond()]}function $4(){var h=this;return{years:h.year(),months:h.month(),date:h.date(),hours:h.hours(),minutes:h.minutes(),seconds:h.seconds(),milliseconds:h.milliseconds()}}function J4(){return this.isValid()?this.toISOString():null}function X4(){return g(this)}function Q4(){return f({},v(this))}function K4(){return v(this).overflow}function e5(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}q("N",0,0,"eraAbbr"),q("NN",0,0,"eraAbbr"),q("NNN",0,0,"eraAbbr"),q("NNNN",0,0,"eraName"),q("NNNNN",0,0,"eraNarrow"),q("y",["y",1],"yo","eraYear"),q("y",["yy",2],0,"eraYear"),q("y",["yyy",3],0,"eraYear"),q("y",["yyyy",4],0,"eraYear"),Be("N",od),Be("NN",od),Be("NNN",od),Be("NNNN",f5),Be("NNNNN",p5),ct(["N","NN","NNN","NNNN","NNNNN"],function(h,D,T,P){var V=T._locale.erasParse(h,P,T._strict);V?v(T).era=V:v(T).invalidEra=h}),Be("y",be),Be("yy",be),Be("yyy",be),Be("yyyy",be),Be("yo",m5),ct(["y","yy","yyy","yyyy"],an),ct(["yo"],function(h,D,T,P){var V;T._locale._eraYearOrdinalRegex&&(V=h.match(T._locale._eraYearOrdinalRegex)),T._locale.eraYearOrdinalParse?D[an]=T._locale.eraYearOrdinalParse(h,V):D[an]=parseInt(h,10)});function r5(h,D){var T,P,V,K=this._eras||pa("en")._eras;for(T=0,P=K.length;T<P;++T){switch(typeof K[T].since){case"string":V=e(K[T].since).startOf("day"),K[T].since=V.valueOf();break}switch(typeof K[T].until){case"undefined":K[T].until=1/0;break;case"string":V=e(K[T].until).startOf("day").valueOf(),K[T].until=V.valueOf();break}}return K}function t5(h,D,T){var P,V,K=this.eras(),ge,Je,Nr;for(h=h.toUpperCase(),P=0,V=K.length;P<V;++P)if(ge=K[P].name.toUpperCase(),Je=K[P].abbr.toUpperCase(),Nr=K[P].narrow.toUpperCase(),T)switch(D){case"N":case"NN":case"NNN":if(Je===h)return K[P];break;case"NNNN":if(ge===h)return K[P];break;case"NNNNN":if(Nr===h)return K[P];break}else if([ge,Je,Nr].indexOf(h)>=0)return K[P]}function n5(h,D){var T=h.since<=h.until?1:-1;return D===void 0?e(h.since).year():e(h.since).year()+(D-h.offset)*T}function i5(){var h,D,T,P=this.localeData().eras();for(h=0,D=P.length;h<D;++h)if(T=this.clone().startOf("day").valueOf(),P[h].since<=T&&T<=P[h].until||P[h].until<=T&&T<=P[h].since)return P[h].name;return""}function a5(){var h,D,T,P=this.localeData().eras();for(h=0,D=P.length;h<D;++h)if(T=this.clone().startOf("day").valueOf(),P[h].since<=T&&T<=P[h].until||P[h].until<=T&&T<=P[h].since)return P[h].narrow;return""}function o5(){var h,D,T,P=this.localeData().eras();for(h=0,D=P.length;h<D;++h)if(T=this.clone().startOf("day").valueOf(),P[h].since<=T&&T<=P[h].until||P[h].until<=T&&T<=P[h].since)return P[h].abbr;return""}function s5(){var h,D,T,P,V=this.localeData().eras();for(h=0,D=V.length;h<D;++h)if(T=V[h].since<=V[h].until?1:-1,P=this.clone().startOf("day").valueOf(),V[h].since<=P&&P<=V[h].until||V[h].until<=P&&P<=V[h].since)return(this.year()-e(V[h].since).year())*T+V[h].offset;return this.year()}function u5(h){return a(this,"_erasNameRegex")||sd.call(this),h?this._erasNameRegex:this._erasRegex}function l5(h){return a(this,"_erasAbbrRegex")||sd.call(this),h?this._erasAbbrRegex:this._erasRegex}function c5(h){return a(this,"_erasNarrowRegex")||sd.call(this),h?this._erasNarrowRegex:this._erasRegex}function od(h,D){return D.erasAbbrRegex(h)}function f5(h,D){return D.erasNameRegex(h)}function p5(h,D){return D.erasNarrowRegex(h)}function m5(h,D){return D._eraYearOrdinalRegex||be}function sd(){var h=[],D=[],T=[],P=[],V,K,ge,Je,Nr,Qr=this.eras();for(V=0,K=Qr.length;V<K;++V)ge=Dn(Qr[V].name),Je=Dn(Qr[V].abbr),Nr=Dn(Qr[V].narrow),D.push(ge),h.push(Je),T.push(Nr),P.push(ge),P.push(Je),P.push(Nr);this._erasRegex=new RegExp("^("+P.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+D.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+h.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+T.join("|")+")","i")}q(0,["gg",2],0,function(){return this.weekYear()%100}),q(0,["GG",2],0,function(){return this.isoWeekYear()%100});function rc(h,D){q(0,[h,h.length],0,D)}rc("gggg","weekYear"),rc("ggggg","weekYear"),rc("GGGG","isoWeekYear"),rc("GGGGG","isoWeekYear"),Be("G",Ne),Be("g",Ne),Be("GG",or,ye),Be("gg",or,ye),Be("GGGG",Se,pr),Be("gggg",Se,pr),Be("GGGGG",_e,kr),Be("ggggg",_e,kr),Ao(["gggg","ggggg","GGGG","GGGGG"],function(h,D,T,P){D[P.substr(0,2)]=zr(h)}),Ao(["gg","GG"],function(h,D,T,P){D[P]=e.parseTwoDigitYear(h)});function d5(h){return nS.call(this,h,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function h5(h){return nS.call(this,h,this.isoWeek(),this.isoWeekday(),1,4)}function v5(){return fa(this.year(),1,4)}function g5(){return fa(this.isoWeekYear(),1,4)}function y5(){var h=this.localeData()._week;return fa(this.year(),h.dow,h.doy)}function x5(){var h=this.localeData()._week;return fa(this.weekYear(),h.dow,h.doy)}function nS(h,D,T,P,V){var K;return h==null?Eu(this,P,V).year:(K=fa(h,P,V),D>K&&(D=K),b5.call(this,h,D,T,P,V))}function b5(h,D,T,P,V){var K=BD(h,D,T,P,V),ge=_u(K.year,0,K.dayOfYear);return this.year(ge.getUTCFullYear()),this.month(ge.getUTCMonth()),this.date(ge.getUTCDate()),this}q("Q",0,"Qo","quarter"),Be("Q",Re),ct("Q",function(h,D){D[Oi]=(zr(h)-1)*3});function w5(h){return h==null?Math.ceil((this.month()+1)/3):this.month((h-1)*3+this.month()%3)}q("D",["DD",2],"Do","date"),Be("D",or,we),Be("DD",or,ye),Be("Do",function(h,D){return h?D._dayOfMonthOrdinalParse||D._ordinalParse:D._dayOfMonthOrdinalParseLenient}),ct(["D","DD"],gi),ct("Do",function(h,D){D[gi]=zr(h.match(or)[0])});var iS=Pa("Date",!0);q("DDD",["DDDD",3],"DDDo","dayOfYear"),Be("DDD",fe),Be("DDDD",sr),ct(["DDD","DDDD"],function(h,D,T){T._dayOfYear=zr(h)});function D5(h){var D=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return h==null?D:this.add(h-D,"d")}q("m",["mm",2],0,"minute"),Be("m",or,je),Be("mm",or,ye),ct(["m","mm"],ni);var S5=Pa("Minutes",!1);q("s",["ss",2],0,"second"),Be("s",or,je),Be("ss",or,ye),ct(["s","ss"],Bi);var A5=Pa("Seconds",!1);q("S",0,0,function(){return~~(this.millisecond()/100)}),q(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),q(0,["SSS",3],0,"millisecond"),q(0,["SSSS",4],0,function(){return this.millisecond()*10}),q(0,["SSSSS",5],0,function(){return this.millisecond()*100}),q(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),q(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),q(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),q(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),Be("S",fe,Re),Be("SS",fe,ye),Be("SSS",fe,sr);var La,aS;for(La="SSSS";La.length<=9;La+="S")Be(La,be);function N5(h,D){D[ca]=zr(("0."+h)*1e3)}for(La="S";La.length<=9;La+="S")ct(La,N5);aS=Pa("Milliseconds",!1),q("z",0,0,"zoneAbbr"),q("zz",0,0,"zoneName");function _5(){return this._isUTC?"UTC":""}function E5(){return this._isUTC?"Coordinated Universal Time":""}var Le=S.prototype;Le.add=x4,Le.calendar=_4,Le.clone=E4,Le.diff=B4,Le.endOf=Y4,Le.format=L4,Le.from=U4,Le.fromNow=q4,Le.to=V4,Le.toNow=z4,Le.get=zm,Le.invalidAt=K4,Le.isAfter=M4,Le.isBefore=C4,Le.isBetween=T4,Le.isSame=F4,Le.isSameOrAfter=I4,Le.isSameOrBefore=O4,Le.isValid=X4,Le.lang=QD,Le.locale=XD,Le.localeData=KD,Le.max=XL,Le.min=JL,Le.parsingFlags=Q4,Le.set=Hm,Le.startOf=H4,Le.subtract=b4,Le.toArray=j4,Le.toObject=$4,Le.toDate=Z4,Le.toISOString=R4,Le.inspect=k4,typeof Symbol!="undefined"&&Symbol.for!=null&&(Le[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Le.toJSON=J4,Le.toString=P4,Le.unix=W4,Le.valueOf=G4,Le.creationData=e5,Le.eraName=i5,Le.eraNarrow=a5,Le.eraAbbr=o5,Le.eraYear=s5,Le.year=Yl,Le.isLeapYear=Vm,Le.weekYear=d5,Le.isoWeekYear=h5,Le.quarter=Le.quarters=w5,Le.month=ID,Le.daysInMonth=Zk,Le.week=Le.weeks=rL,Le.isoWeek=Le.isoWeeks=tL,Le.weeksInYear=y5,Le.weeksInWeekYear=x5,Le.isoWeeksInYear=v5,Le.isoWeeksInISOWeekYear=g5,Le.date=iS,Le.day=Le.days=hL,Le.weekday=vL,Le.isoWeekday=gL,Le.dayOfYear=D5,Le.hour=Le.hours=AL,Le.minute=Le.minutes=S5,Le.second=Le.seconds=A5,Le.millisecond=Le.milliseconds=aS,Le.utcOffset=o4,Le.utc=u4,Le.local=l4,Le.parseZone=c4,Le.hasAlignedHourOffset=f4,Le.isDST=p4,Le.isLocal=d4,Le.isUtcOffset=h4,Le.isUtc=WD,Le.isUTC=WD,Le.zoneAbbr=_5,Le.zoneName=E5,Le.dates=_("dates accessor is deprecated. Use date instead.",iS),Le.months=_("months accessor is deprecated. Use month instead",ID),Le.years=_("years accessor is deprecated. Use year instead",Yl),Le.zone=_("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",s4),Le.isDSTShifted=_("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",m4);function M5(h){return _t(h*1e3)}function C5(){return _t.apply(null,arguments).parseZone()}function oS(h){return h}var at=z.prototype;at.calendar=O,at.longDateFormat=le,at.invalidDate=pe,at.ordinal=He,at.preparse=oS,at.postformat=oS,at.relativeTime=j,at.pastFuture=ue,at.set=B,at.eras=r5,at.erasParse=t5,at.erasConvertYear=n5,at.erasAbbrRegex=l5,at.erasNameRegex=u5,at.erasNarrowRegex=c5,at.months=Wm,at.monthsShort=fs,at.monthsParse=Zm,at.monthsRegex=$k,at.monthsShortRegex=jk,at.week=Xk,at.firstDayOfYear=eL,at.firstDayOfWeek=Kk,at.weekdays=cL,at.weekdaysMin=pL,at.weekdaysShort=fL,at.weekdaysParse=dL,at.weekdaysRegex=yL,at.weekdaysShortRegex=xL,at.weekdaysMinRegex=bL,at.isPM=DL,at.meridiem=NL;function tc(h,D,T,P){var V=pa(),K=p().set(P,D);return V[T](K,h)}function sS(h,D,T){if(l(h)&&(D=h,h=void 0),h=h||"",D!=null)return tc(h,D,T,"month");var P,V=[];for(P=0;P<12;P++)V[P]=tc(h,P,T,"month");return V}function ud(h,D,T,P){typeof h=="boolean"?(l(D)&&(T=D,D=void 0),D=D||""):(D=h,T=D,h=!1,l(D)&&(T=D,D=void 0),D=D||"");var V=pa(),K=h?V._week.dow:0,ge,Je=[];if(T!=null)return tc(D,(T+K)%7,P,"day");for(ge=0;ge<7;ge++)Je[ge]=tc(D,(ge+K)%7,P,"day");return Je}function T5(h,D){return sS(h,D,"months")}function F5(h,D){return sS(h,D,"monthsShort")}function I5(h,D,T){return ud(h,D,T,"weekdays")}function O5(h,D,T){return ud(h,D,T,"weekdaysShort")}function B5(h,D,T){return ud(h,D,T,"weekdaysMin")}ka("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(h){var D=h%10,T=zr(h%100/10)===1?"th":D===1?"st":D===2?"nd":D===3?"rd":"th";return h+T}}),e.lang=_("moment.lang is deprecated. Use moment.locale instead.",ka),e.langData=_("moment.langData is deprecated. Use moment.localeData instead.",pa);var ma=Math.abs;function P5(){var h=this._data;return this._milliseconds=ma(this._milliseconds),this._days=ma(this._days),this._months=ma(this._months),h.milliseconds=ma(h.milliseconds),h.seconds=ma(h.seconds),h.minutes=ma(h.minutes),h.hours=ma(h.hours),h.months=ma(h.months),h.years=ma(h.years),this}function uS(h,D,T,P){var V=Pi(D,T);return h._milliseconds+=P*V._milliseconds,h._days+=P*V._days,h._months+=P*V._months,h._bubble()}function R5(h,D){return uS(this,h,D,1)}function k5(h,D){return uS(this,h,D,-1)}function lS(h){return h<0?Math.floor(h):Math.ceil(h)}function L5(){var h=this._milliseconds,D=this._days,T=this._months,P=this._data,V,K,ge,Je,Nr;return h>=0&&D>=0&&T>=0||h<=0&&D<=0&&T<=0||(h+=lS(ld(T)+D)*864e5,D=0,T=0),P.milliseconds=h%1e3,V=fn(h/1e3),P.seconds=V%60,K=fn(V/60),P.minutes=K%60,ge=fn(K/60),P.hours=ge%24,D+=fn(ge/24),Nr=fn(cS(D)),T+=Nr,D-=lS(ld(Nr)),Je=fn(T/12),T%=12,P.days=D,P.months=T,P.years=Je,this}function cS(h){return h*4800/146097}function ld(h){return h*146097/4800}function U5(h){if(!this.isValid())return NaN;var D,T,P=this._milliseconds;if(h=J(h),h==="month"||h==="quarter"||h==="year")switch(D=this._days+P/864e5,T=this._months+cS(D),h){case"month":return T;case"quarter":return T/3;case"year":return T/12}else switch(D=this._days+Math.round(ld(this._months)),h){case"week":return D/7+P/6048e5;case"day":return D+P/864e5;case"hour":return D*24+P/36e5;case"minute":return D*1440+P/6e4;case"second":return D*86400+P/1e3;case"millisecond":return Math.floor(D*864e5)+P;default:throw new Error("Unknown unit "+h)}}function da(h){return function(){return this.as(h)}}var fS=da("ms"),q5=da("s"),V5=da("m"),z5=da("h"),H5=da("d"),Y5=da("w"),G5=da("M"),W5=da("Q"),Z5=da("y"),j5=fS;function $5(){return Pi(this)}function J5(h){return h=J(h),this.isValid()?this[h+"s"]():NaN}function Co(h){return function(){return this.isValid()?this._data[h]:NaN}}var X5=Co("milliseconds"),Q5=Co("seconds"),K5=Co("minutes"),e8=Co("hours"),r8=Co("days"),t8=Co("months"),n8=Co("years");function i8(){return fn(this.days()/7)}var ha=Math.round,hs={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function a8(h,D,T,P,V){return V.relativeTime(D||1,!!T,h,P)}function o8(h,D,T,P){var V=Pi(h).abs(),K=ha(V.as("s")),ge=ha(V.as("m")),Je=ha(V.as("h")),Nr=ha(V.as("d")),Qr=ha(V.as("M")),kn=ha(V.as("w")),va=ha(V.as("y")),Ua=K<=T.ss&&["s",K]||K<T.s&&["ss",K]||ge<=1&&["m"]||ge<T.m&&["mm",ge]||Je<=1&&["h"]||Je<T.h&&["hh",Je]||Nr<=1&&["d"]||Nr<T.d&&["dd",Nr];return T.w!=null&&(Ua=Ua||kn<=1&&["w"]||kn<T.w&&["ww",kn]),Ua=Ua||Qr<=1&&["M"]||Qr<T.M&&["MM",Qr]||va<=1&&["y"]||["yy",va],Ua[2]=D,Ua[3]=+h>0,Ua[4]=P,a8.apply(null,Ua)}function s8(h){return h===void 0?ha:typeof h=="function"?(ha=h,!0):!1}function u8(h,D){return hs[h]===void 0?!1:D===void 0?hs[h]:(hs[h]=D,h==="s"&&(hs.ss=D-1),!0)}function l8(h,D){if(!this.isValid())return this.localeData().invalidDate();var T=!1,P=hs,V,K;return typeof h=="object"&&(D=h,h=!1),typeof h=="boolean"&&(T=h),typeof D=="object"&&(P=Object.assign({},hs,D),D.s!=null&&D.ss==null&&(P.ss=D.s-1)),V=this.localeData(),K=o8(this,!T,P,V),T&&(K=V.pastFuture(+this,K)),V.postformat(K)}var cd=Math.abs;function vs(h){return(h>0)-(h<0)||+h}function nc(){if(!this.isValid())return this.localeData().invalidDate();var h=cd(this._milliseconds)/1e3,D=cd(this._days),T=cd(this._months),P,V,K,ge,Je=this.asSeconds(),Nr,Qr,kn,va;return Je?(P=fn(h/60),V=fn(P/60),h%=60,P%=60,K=fn(T/12),T%=12,ge=h?h.toFixed(3).replace(/\.?0+$/,""):"",Nr=Je<0?"-":"",Qr=vs(this._months)!==vs(Je)?"-":"",kn=vs(this._days)!==vs(Je)?"-":"",va=vs(this._milliseconds)!==vs(Je)?"-":"",Nr+"P"+(K?Qr+K+"Y":"")+(T?Qr+T+"M":"")+(D?kn+D+"D":"")+(V||P||h?"T":"")+(V?va+V+"H":"")+(P?va+P+"M":"")+(h?va+ge+"S":"")):"P0D"}var rt=Jl.prototype;rt.isValid=t4,rt.abs=P5,rt.add=R5,rt.subtract=k5,rt.as=U5,rt.asMilliseconds=fS,rt.asSeconds=q5,rt.asMinutes=V5,rt.asHours=z5,rt.asDays=H5,rt.asWeeks=Y5,rt.asMonths=G5,rt.asQuarters=W5,rt.asYears=Z5,rt.valueOf=j5,rt._bubble=L5,rt.clone=$5,rt.get=J5,rt.milliseconds=X5,rt.seconds=Q5,rt.minutes=K5,rt.hours=e8,rt.days=r8,rt.weeks=i8,rt.months=t8,rt.years=n8,rt.humanize=l8,rt.toISOString=nc,rt.toString=nc,rt.toJSON=nc,rt.locale=XD,rt.localeData=KD,rt.toIsoString=_("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",nc),rt.lang=QD,q("X",0,0,"unix"),q("x",0,0,"valueOf"),Be("x",Ne),Be("X",H),ct("X",function(h,D,T){T._d=new Date(parseFloat(h)*1e3)}),ct("x",function(h,D,T){T._d=new Date(zr(h))});return e.version="2.30.1",r(_t),e.fn=Le,e.min=QL,e.max=KL,e.now=e4,e.utc=p,e.unix=M5,e.months=T5,e.isDate=s,e.locale=ka,e.invalid=x,e.duration=Pi,e.isMoment=b,e.weekdays=I5,e.parseZone=C5,e.localeData=pa,e.isDuration=Xl,e.monthsShort=F5,e.weekdaysMin=B5,e.defineLocale=Xm,e.updateLocale=CL,e.locales=TL,e.weekdaysShort=O5,e.normalizeUnits=J,e.relativeTimeRounding=s8,e.relativeTimeThreshold=u8,e.calendarFormat=N4,e.prototype=Le,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e})});var Ah=jt((Dh,Sh)=>{(function(t,e){typeof Dh=="object"&&typeof Sh!="undefined"?Sh.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis!="undefined"?globalThis:t||self,t["'typed'"]=e())})(Dh,function(){"use strict";function t(){return!0}function e(){return!1}function r(){}let n="Argument is not a typed-function.";function i(){function o(Z){return typeof Z=="object"&&Z!==null&&Z.constructor===Object}let c=[{name:"number",test:function(Z){return typeof Z=="number"}},{name:"string",test:function(Z){return typeof Z=="string"}},{name:"boolean",test:function(Z){return typeof Z=="boolean"}},{name:"Function",test:function(Z){return typeof Z=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(Z){return Z instanceof Date}},{name:"RegExp",test:function(Z){return Z instanceof RegExp}},{name:"Object",test:o},{name:"null",test:function(Z){return Z===null}},{name:"undefined",test:function(Z){return Z===void 0}}],l={name:"any",test:t,isAny:!0},s,u,f=0,p={createCount:0};function m(Z){let re=s.get(Z);if(re)return re;let fe='Unknown type "'+Z+'"',Se=Z.toLowerCase(),_e;for(_e of u)if(_e.toLowerCase()===Se){fe+='. Did you mean "'+_e+'" ?';break}throw new TypeError(fe)}function v(Z){let re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any",fe=re?m(re).index:u.length,Se=[];for(let be=0;be<Z.length;++be){if(!Z[be]||typeof Z[be].name!="string"||typeof Z[be].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");let Ne=Z[be].name;if(s.has(Ne))throw new TypeError('Duplicate type name "'+Ne+'"');Se.push(Ne),s.set(Ne,{name:Ne,test:Z[be].test,isAny:Z[be].isAny,index:fe+be,conversionsTo:[]})}let _e=u.slice(fe);u=u.slice(0,fe).concat(Se).concat(_e);for(let be=fe+Se.length;be<u.length;++be)s.get(u[be]).index=be}function d(){s=new Map,u=[],f=0,v([l],!1)}d(),v(c);function g(){let Z;for(Z of u)s.get(Z).conversionsTo=[];f=0}function x(Z){let re=u.filter(fe=>{let Se=s.get(fe);return!Se.isAny&&Se.test(Z)});return re.length?re:["any"]}function A(Z){return Z&&typeof Z=="function"&&"_typedFunctionData"in Z}function y(Z,re,fe){if(!A(Z))throw new TypeError(n);let Se=fe&&fe.exact,_e=Array.isArray(re)?re.join(","):re,be=E(_e),Ne=b(be);if(!Se||Ne in Z.signatures){let oe=Z._typedFunctionData.signatureMap.get(Ne);if(oe)return oe}let Ie=be.length,F;if(Se){F=[];let oe;for(oe in Z.signatures)F.push(Z._typedFunctionData.signatureMap.get(oe))}else F=Z._typedFunctionData.signatures;for(let oe=0;oe<Ie;++oe){let we=be[oe],je=[],nr;for(nr of F){let Be=z(nr.params,oe);if(!(!Be||we.restParam&&!Be.restParam)){if(!Be.hasAny){let Rn=N(Be);if(we.types.some(ti=>!Rn.has(ti.name)))continue}je.push(nr)}}if(F=je,F.length===0)break}let H;for(H of F)if(H.params.length<=Ie)return H;throw new TypeError("Signature not found (signature: "+(Z.name||"unnamed")+"("+b(be,", ")+"))")}function w(Z,re,fe){return y(Z,re,fe).implementation}function S(Z,re){let fe=m(re);if(fe.test(Z))return Z;let Se=fe.conversionsTo;if(Se.length===0)throw new Error("There are no conversions to "+re+" defined.");for(let _e=0;_e<Se.length;_e++)if(m(Se[_e].from).test(Z))return Se[_e].convert(Z);throw new Error("Cannot convert "+Z+" to "+re)}function b(Z){let re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return Z.map(fe=>fe.name).join(re)}function C(Z){let re=Z.indexOf("...")===0,Se=(re?Z.length>3?Z.slice(3):"any":Z).split("|").map(Ie=>m(Ie.trim())),_e=!1,be=re?"...":"";return{types:Se.map(function(Ie){return _e=Ie.isAny||_e,be+=Ie.name+"|",{name:Ie.name,typeIndex:Ie.index,test:Ie.test,isAny:Ie.isAny,conversion:null,conversionIndex:-1}}),name:be.slice(0,-1),hasAny:_e,hasConversion:!1,restParam:re}}function _(Z){let re=Z.types.map(Ne=>Ne.name),fe=q(re),Se=Z.hasAny,_e=Z.name,be=fe.map(function(Ne){let Ie=m(Ne.from);return Se=Ie.isAny||Se,_e+="|"+Ne.from,{name:Ne.from,typeIndex:Ie.index,test:Ie.test,isAny:Ie.isAny,conversion:Ne,conversionIndex:Ne.index}});return{types:Z.types.concat(be),name:_e,hasAny:Se,hasConversion:be.length>0,restParam:Z.restParam}}function N(Z){return Z.typeSet||(Z.typeSet=new Set,Z.types.forEach(re=>Z.typeSet.add(re.name))),Z.typeSet}function E(Z){let re=[];if(typeof Z!="string")throw new TypeError("Signatures must be strings");let fe=Z.trim();if(fe==="")return re;let Se=fe.split(",");for(let _e=0;_e<Se.length;++_e){let be=C(Se[_e].trim());if(be.restParam&&_e!==Se.length-1)throw new SyntaxError('Unexpected rest parameter "'+Se[_e]+'": only allowed for the last parameter');if(be.types.length===0)return null;re.push(be)}return re}function I(Z){let re=Y(Z);return re?re.restParam:!1}function B(Z){if(!Z||Z.types.length===0)return t;if(Z.types.length===1)return m(Z.types[0].name).test;if(Z.types.length===2){let re=m(Z.types[0].name).test,fe=m(Z.types[1].name).test;return function(_e){return re(_e)||fe(_e)}}else{let re=Z.types.map(function(fe){return m(fe.name).test});return function(Se){for(let _e=0;_e<re.length;_e++)if(re[_e](Se))return!0;return!1}}}function L(Z){let re,fe,Se;if(I(Z)){re=He(Z).map(B);let _e=re.length,be=B(Y(Z)),Ne=function(Ie){for(let F=_e;F<Ie.length;F++)if(!be(Ie[F]))return!1;return!0};return function(F){for(let H=0;H<re.length;H++)if(!re[H](F[H]))return!1;return Ne(F)&&F.length>=_e+1}}else return Z.length===0?function(be){return be.length===0}:Z.length===1?(fe=B(Z[0]),function(be){return fe(be[0])&&be.length===1}):Z.length===2?(fe=B(Z[0]),Se=B(Z[1]),function(be){return fe(be[0])&&Se(be[1])&&be.length===2}):(re=Z.map(B),function(be){for(let Ne=0;Ne<re.length;Ne++)if(!re[Ne](be[Ne]))return!1;return be.length===re.length})}function z(Z,re){return re<Z.length?Z[re]:I(Z)?Y(Z):null}function U(Z,re){let fe=z(Z,re);return fe?N(fe):new Set}function R(Z){return Z.conversion===null||Z.conversion===void 0}function O(Z,re){let fe=new Set;return Z.forEach(Se=>{let _e=U(Se.params,re),be;for(be of _e)fe.add(be)}),fe.has("any")?["any"]:Array.from(fe)}function G(Z,re,fe){let Se,_e,be=Z||"unnamed",Ne=fe,Ie;for(Ie=0;Ie<re.length;Ie++){let we=[];if(Ne.forEach(je=>{let nr=z(je.params,Ie),Be=B(nr);(Ie<je.params.length||I(je.params))&&Be(re[Ie])&&we.push(je)}),we.length===0){if(_e=O(Ne,Ie),_e.length>0){let je=x(re[Ie]);return Se=new TypeError("Unexpected type of argument in function "+be+" (expected: "+_e.join(" or ")+", actual: "+je.join(" | ")+", index: "+Ie+")"),Se.data={category:"wrongType",fn:be,index:Ie,actual:je,expected:_e},Se}}else Ne=we}let F=Ne.map(function(we){return I(we.params)?1/0:we.params.length});if(re.length<Math.min.apply(null,F))return _e=O(Ne,Ie),Se=new TypeError("Too few arguments in function "+be+" (expected: "+_e.join(" or ")+", index: "+re.length+")"),Se.data={category:"tooFewArgs",fn:be,index:re.length,expected:_e},Se;let H=Math.max.apply(null,F);if(re.length>H)return Se=new TypeError("Too many arguments in function "+be+" (expected: "+H+", actual: "+re.length+")"),Se.data={category:"tooManyArgs",fn:be,index:re.length,expectedLength:H},Se;let oe=[];for(let we=0;we<re.length;++we)oe.push(x(re[we]).join("|"));return Se=new TypeError('Arguments of type "'+oe.join(", ")+'" do not match any of the defined signatures of function '+be+"."),Se.data={category:"mismatch",actual:oe},Se}function k(Z){let re=u.length+1;for(let fe=0;fe<Z.types.length;fe++)R(Z.types[fe])&&(re=Math.min(re,Z.types[fe].typeIndex));return re}function Q(Z){let re=f+1;for(let fe=0;fe<Z.types.length;fe++)R(Z.types[fe])||(re=Math.min(re,Z.types[fe].conversionIndex));return re}function te(Z,re){if(Z.hasAny){if(!re.hasAny)return 1}else if(re.hasAny)return-1;if(Z.restParam){if(!re.restParam)return 1}else if(re.restParam)return-1;if(Z.hasConversion){if(!re.hasConversion)return 1}else if(re.hasConversion)return-1;let fe=k(Z)-k(re);if(fe<0)return-1;if(fe>0)return 1;let Se=Q(Z)-Q(re);return Se<0?-1:Se>0?1:0}function X(Z,re){let fe=Z.params,Se=re.params,_e=Y(fe),be=Y(Se),Ne=I(fe),Ie=I(Se);if(Ne&&_e.hasAny){if(!Ie||!be.hasAny)return 1}else if(Ie&&be.hasAny)return-1;let F=0,H=0,oe;for(oe of fe)oe.hasAny&&++F,oe.hasConversion&&++H;let we=0,je=0;for(oe of Se)oe.hasAny&&++we,oe.hasConversion&&++je;if(F!==we)return F-we;if(Ne&&_e.hasConversion){if(!Ie||!be.hasConversion)return 1}else if(Ie&&be.hasConversion)return-1;if(H!==je)return H-je;if(Ne){if(!Ie)return 1}else if(Ie)return-1;let nr=(fe.length-Se.length)*(Ne?-1:1);if(nr!==0)return nr;let Be=[],Rn=0;for(let Dn=0;Dn<fe.length;++Dn){let fn=te(fe[Dn],Se[Dn]);Be.push(fn),Rn+=fn}if(Rn!==0)return Rn;let ti;for(ti of Be)if(ti!==0)return ti;return 0}function q(Z){if(Z.length===0)return[];let re=Z.map(m);Z.length>1&&re.sort((_e,be)=>_e.index-be.index);let fe=re[0].conversionsTo;if(Z.length===1)return fe;fe=fe.concat([]);let Se=new Set(Z);for(let _e=1;_e<re.length;++_e){let be;for(be of re[_e].conversionsTo)Se.has(be.from)||(fe.push(be),Se.add(be.from))}return fe}function ne(Z,re){let fe=re;if(Z.some(_e=>_e.hasConversion)){let _e=I(Z),be=Z.map(de);fe=function(){let Ie=[],F=_e?arguments.length-1:arguments.length;for(let H=0;H<F;H++)Ie[H]=be[H](arguments[H]);return _e&&(Ie[F]=arguments[F].map(be[F])),re.apply(this,Ie)}}let Se=fe;if(I(Z)){let _e=Z.length-1;Se=function(){return fe.apply(this,j(arguments,0,_e).concat([j(arguments,_e)]))}}return Se}function de(Z){let re,fe,Se,_e,be=[],Ne=[];switch(Z.types.forEach(function(Ie){Ie.conversion&&(be.push(m(Ie.conversion.from).test),Ne.push(Ie.conversion.convert))}),Ne.length){case 0:return function(F){return F};case 1:return re=be[0],Se=Ne[0],function(F){return re(F)?Se(F):F};case 2:return re=be[0],fe=be[1],Se=Ne[0],_e=Ne[1],function(F){return re(F)?Se(F):fe(F)?_e(F):F};default:return function(F){for(let H=0;H<Ne.length;H++)if(be[H](F))return Ne[H](F);return F}}}function ae(Z){function re(fe,Se,_e){if(Se<fe.length){let be=fe[Se],Ne=[];if(be.restParam){let Ie=be.types.filter(R);Ie.length<be.types.length&&Ne.push({types:Ie,name:"..."+Ie.map(F=>F.name).join("|"),hasAny:Ie.some(F=>F.isAny),hasConversion:!1,restParam:!0}),Ne.push(be)}else Ne=be.types.map(function(Ie){return{types:[Ie],name:Ie.name,hasAny:Ie.isAny,hasConversion:Ie.conversion,restParam:!1}});return W(Ne,function(Ie){return re(fe,Se+1,_e.concat([Ie]))})}else return[_e]}return re(Z,0,[])}function se(Z,re){let fe=Math.max(Z.length,re.length);for(let Ie=0;Ie<fe;Ie++){let F=U(Z,Ie),H=U(re,Ie),oe=!1,we;for(we of H)if(F.has(we)){oe=!0;break}if(!oe)return!1}let Se=Z.length,_e=re.length,be=I(Z),Ne=I(re);return be?Ne?Se===_e:_e>=Se:Ne?Se>=_e:Se===_e}function me(Z){return Z.map(re=>Re(re)?he(re.referToSelf.callback):ve(re)?ee(re.referTo.references,re.referTo.callback):re)}function le(Z,re,fe){let Se=[],_e;for(_e of Z){let be=fe[_e];if(typeof be!="number")throw new TypeError('No definition for referenced signature "'+_e+'"');if(be=re[be],typeof be!="function")return!1;Se.push(be)}return Se}function ce(Z,re,fe){let Se=me(Z),_e=new Array(Se.length).fill(!1),be=!0;for(;be;){be=!1;let Ne=!0;for(let Ie=0;Ie<Se.length;++Ie){if(_e[Ie])continue;let F=Se[Ie];if(Re(F))Se[Ie]=F.referToSelf.callback(fe),Se[Ie].referToSelf=F.referToSelf,_e[Ie]=!0,Ne=!1;else if(ve(F)){let H=le(F.referTo.references,Se,re);H?(Se[Ie]=F.referTo.callback.apply(this,H),Se[Ie].referTo=F.referTo,_e[Ie]=!0,Ne=!1):be=!0}}if(Ne&&be)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return Se}function pe(Z){let re=/\bthis(\(|\.signatures\b)/;Object.keys(Z).forEach(fe=>{let Se=Z[fe];if(re.test(Se.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function xe(Z,re){if(p.createCount++,Object.keys(re).length===0)throw new SyntaxError("No signatures provided");p.warnAgainstDeprecatedThis&&pe(re);let fe=[],Se=[],_e={},be=[],Ne;for(Ne in re){if(!Object.prototype.hasOwnProperty.call(re,Ne))continue;let ut=E(Ne);if(!ut)continue;fe.forEach(function(Eo){if(se(Eo,ut))throw new TypeError('Conflicting signatures "'+b(Eo)+'" and "'+b(ut)+'".')}),fe.push(ut);let Sn=Se.length;Se.push(re[Ne]);let Wm=ut.map(_),fs;for(fs of ae(Wm)){let Eo=b(fs);be.push({params:fs,name:Eo,fn:Sn}),fs.every(Zm=>!Zm.hasConversion)&&(_e[Eo]=Sn)}}be.sort(X);let Ie=ce(Se,_e,Ra),F;for(F in _e)Object.prototype.hasOwnProperty.call(_e,F)&&(_e[F]=Ie[_e[F]]);let H=[],oe=new Map;for(F of be)oe.has(F.name)||(F.fn=Ie[F.fn],H.push(F),oe.set(F.name,F));let we=H[0]&&H[0].params.length<=2&&!I(H[0].params),je=H[1]&&H[1].params.length<=2&&!I(H[1].params),nr=H[2]&&H[2].params.length<=2&&!I(H[2].params),Be=H[3]&&H[3].params.length<=2&&!I(H[3].params),Rn=H[4]&&H[4].params.length<=2&&!I(H[4].params),ti=H[5]&&H[5].params.length<=2&&!I(H[5].params),Dn=we&&je&&nr&&Be&&Rn&&ti;for(let ut=0;ut<H.length;++ut)H[ut].test=L(H[ut].params);let fn=we?B(H[0].params[0]):e,zr=je?B(H[1].params[0]):e,Au=nr?B(H[2].params[0]):e,ct=Be?B(H[3].params[0]):e,Ao=Rn?B(H[4].params[0]):e,Lm=ti?B(H[5].params[0]):e,cs=we?B(H[0].params[1]):e,an=je?B(H[1].params[1]):e,Oi=nr?B(H[2].params[1]):e,gi=Be?B(H[3].params[1]):e,Gt=Rn?B(H[4].params[1]):e,ni=ti?B(H[5].params[1]):e;for(let ut=0;ut<H.length;++ut)H[ut].implementation=ne(H[ut].params,H[ut].fn);let Bi=we?H[0].implementation:r,ca=je?H[1].implementation:r,Um=nr?H[2].implementation:r,qm=Be?H[3].implementation:r,No=Rn?H[4].implementation:r,Yl=ti?H[5].implementation:r,Vm=we?H[0].params.length:-1,Pa=je?H[1].params.length:-1,_o=nr?H[2].params.length:-1,Gl=Be?H[3].params.length:-1,zm=Rn?H[4].params.length:-1,Hm=ti?H[5].params.length:-1,Ym=Dn?6:0,Bt=H.length,Nu=H.map(ut=>ut.test),Gm=H.map(ut=>ut.implementation),Wl=function(){for(let Sn=Ym;Sn<Bt;Sn++)if(Nu[Sn](arguments))return Gm[Sn].apply(this,arguments);return p.onMismatch(Z,arguments,H)};function Ra(ut,Sn){return arguments.length===Vm&&fn(ut)&&cs(Sn)?Bi.apply(this,arguments):arguments.length===Pa&&zr(ut)&&an(Sn)?ca.apply(this,arguments):arguments.length===_o&&Au(ut)&&Oi(Sn)?Um.apply(this,arguments):arguments.length===Gl&&ct(ut)&&gi(Sn)?qm.apply(this,arguments):arguments.length===zm&&Ao(ut)&&Gt(Sn)?No.apply(this,arguments):arguments.length===Hm&&Lm(ut)&&ni(Sn)?Yl.apply(this,arguments):Wl.apply(this,arguments)}try{Object.defineProperty(Ra,"name",{value:Z})}catch(ut){}return Ra.signatures=_e,Ra._typedFunctionData={signatures:H,signatureMap:oe},Ra}function Fe(Z,re,fe){throw G(Z,re,fe)}function He(Z){return j(Z,0,Z.length-1)}function Y(Z){return Z[Z.length-1]}function j(Z,re,fe){return Array.prototype.slice.call(Z,re,fe)}function ue(Z,re){for(let fe=0;fe<Z.length;fe++)if(re(Z[fe]))return Z[fe]}function W(Z,re){return Array.prototype.concat.apply([],Z.map(re))}function J(){let Z=He(arguments).map(fe=>b(E(fe))),re=Y(arguments);if(typeof re!="function")throw new TypeError("Callback function expected as last argument");return ee(Z,re)}function ee(Z,re){return{referTo:{references:Z,callback:re}}}function he(Z){if(typeof Z!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:Z}}}function ve(Z){return Z&&typeof Z.referTo=="object"&&Array.isArray(Z.referTo.references)&&typeof Z.referTo.callback=="function"}function Re(Z){return Z&&typeof Z.referToSelf=="object"&&typeof Z.referToSelf.callback=="function"}function ye(Z,re){if(!Z)return re;if(re&&re!==Z){let fe=new Error("Function names do not match (expected: "+Z+", actual: "+re+")");throw fe.data={actual:re,expected:Z},fe}return Z}function sr(Z){let re;for(let fe in Z)Object.prototype.hasOwnProperty.call(Z,fe)&&(A(Z[fe])||typeof Z[fe].signature=="string")&&(re=ye(re,Z[fe].name));return re}function pr(Z,re){let fe;for(fe in re)if(Object.prototype.hasOwnProperty.call(re,fe)){if(fe in Z&&re[fe]!==Z[fe]){let Se=new Error('Signature "'+fe+'" is defined twice');throw Se.data={signature:fe,sourceFunction:re[fe],destFunction:Z[fe]},Se}Z[fe]=re[fe]}}let kr=p;p=function(Z){let re=typeof Z=="string",fe=re?1:0,Se=re?Z:"",_e={};for(let be=fe;be<arguments.length;++be){let Ne=arguments[be],Ie={},F;if(typeof Ne=="function"?(F=Ne.name,typeof Ne.signature=="string"?Ie[Ne.signature]=Ne:A(Ne)&&(Ie=Ne.signatures)):o(Ne)&&(Ie=Ne,re||(F=sr(Ne))),Object.keys(Ie).length===0){let H=new TypeError("Argument to 'typed' at index "+be+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw H.data={index:be,argument:Ne},H}re||(Se=ye(Se,F)),pr(_e,Ie)}return xe(Se||"",_e)},p.create=i,p.createCount=kr.createCount,p.onMismatch=Fe,p.throwMismatchError=Fe,p.createError=G,p.clear=d,p.clearConversions=g,p.addTypes=v,p._findType=m,p.referTo=J,p.referToSelf=he,p.convert=S,p.findSignature=y,p.find=w,p.isTypedFunction=A,p.warnAgainstDeprecatedThis=!0,p.addType=function(Z,re){let fe="any";re!==!1&&s.has("Object")&&(fe="Object"),p.addTypes([Z],fe)};function or(Z){if(!Z||typeof Z.from!="string"||typeof Z.to!="string"||typeof Z.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(Z.to===Z.from)throw new SyntaxError('Illegal to define conversion from "'+Z.from+'" to itself.')}return p.addConversion=function(Z){or(Z);let re=m(Z.to);if(re.conversionsTo.every(function(fe){return fe.from!==Z.from}))re.conversionsTo.push({from:Z.from,convert:Z.convert,index:f++});else throw new Error('There is already a conversion from "'+Z.from+'" to "'+re.name+'"')},p.addConversions=function(Z){Z.forEach(p.addConversion)},p.removeConversion=function(Z){or(Z);let re=m(Z.to),fe=ue(re.conversionsTo,_e=>_e.from===Z.from);if(!fe)throw new Error("Attempt to remove nonexistent conversion from "+Z.from+" to "+Z.to);if(fe.convert!==Z.convert)throw new Error("Conversion to remove does not match existing conversion");let Se=re.conversionsTo.indexOf(fe);re.conversionsTo.splice(Se,1)},p.resolve=function(Z,re){if(!A(Z))throw new TypeError(n);let fe=Z._typedFunctionData.signatures;for(let Se=0;Se<fe.length;++Se)if(fe[Se].test(re))return fe[Se];return null},p}var a=i();return a})});var g_=jt((Zh,v_)=>{(function(t){"use strict";var e=Math.cosh||function(s){return Math.abs(s)<1e-9?1-s:(Math.exp(s)+Math.exp(-s))*.5},r=Math.sinh||function(s){return Math.abs(s)<1e-9?s:(Math.exp(s)-Math.exp(-s))*.5},n=function(s){var u=Math.PI/4;if(-u>s||s>u)return Math.cos(s)-1;var f=s*s;return f*(f*(f*(f*(f*(f*(f*(f/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},i=function(s,u){var f=Math.abs(s),p=Math.abs(u);return f<3e3&&p<3e3?Math.sqrt(f*f+p*p):(f<p?(f=p,p=s/u):p=u/s,f*Math.sqrt(1+p*p))},a=function(){throw SyntaxError("Invalid Param")};function o(s,u){var f=Math.abs(s),p=Math.abs(u);return s===0?Math.log(p):u===0?Math.log(f):f<3e3&&p<3e3?Math.log(s*s+u*u)*.5:(s=s/2,u=u/2,.5*Math.log(s*s+u*u)+Math.LN2)}var c=function(s,u){var f={re:0,im:0};if(s==null)f.re=f.im=0;else if(u!==void 0)f.re=s,f.im=u;else switch(typeof s){case"object":if("im"in s&&"re"in s)f.re=s.re,f.im=s.im;else if("abs"in s&&"arg"in s){if(!Number.isFinite(s.abs)&&Number.isFinite(s.arg))return l.INFINITY;f.re=s.abs*Math.cos(s.arg),f.im=s.abs*Math.sin(s.arg)}else if("r"in s&&"phi"in s){if(!Number.isFinite(s.r)&&Number.isFinite(s.phi))return l.INFINITY;f.re=s.r*Math.cos(s.phi),f.im=s.r*Math.sin(s.phi)}else s.length===2?(f.re=s[0],f.im=s[1]):a();break;case"string":f.im=f.re=0;var p=s.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),m=1,v=0;p===null&&a();for(var d=0;d<p.length;d++){var g=p[d];g===" "||g==="	"||g===`
`||(g==="+"?m++:g==="-"?v++:g==="i"||g==="I"?(m+v===0&&a(),p[d+1]!==" "&&!isNaN(p[d+1])?(f.im+=parseFloat((v%2?"-":"")+p[d+1]),d++):f.im+=parseFloat((v%2?"-":"")+"1"),m=v=0):((m+v===0||isNaN(g))&&a(),p[d+1]==="i"||p[d+1]==="I"?(f.im+=parseFloat((v%2?"-":"")+g),d++):f.re+=parseFloat((v%2?"-":"")+g),m=v=0))}m+v>0&&a();break;case"number":f.im=0,f.re=s;break;default:a()}return isNaN(f.re)||isNaN(f.im),f};function l(s,u){if(!(this instanceof l))return new l(s,u);var f=c(s,u);this.re=f.re,this.im=f.im}l.prototype={re:0,im:0,sign:function(){var s=this.abs();return new l(this.re/s,this.im/s)},add:function(s,u){var f=new l(s,u);return this.isInfinite()&&f.isInfinite()?l.NAN:this.isInfinite()||f.isInfinite()?l.INFINITY:new l(this.re+f.re,this.im+f.im)},sub:function(s,u){var f=new l(s,u);return this.isInfinite()&&f.isInfinite()?l.NAN:this.isInfinite()||f.isInfinite()?l.INFINITY:new l(this.re-f.re,this.im-f.im)},mul:function(s,u){var f=new l(s,u);return this.isInfinite()&&f.isZero()||this.isZero()&&f.isInfinite()?l.NAN:this.isInfinite()||f.isInfinite()?l.INFINITY:f.im===0&&this.im===0?new l(this.re*f.re,0):new l(this.re*f.re-this.im*f.im,this.re*f.im+this.im*f.re)},div:function(s,u){var f=new l(s,u);if(this.isZero()&&f.isZero()||this.isInfinite()&&f.isInfinite())return l.NAN;if(this.isInfinite()||f.isZero())return l.INFINITY;if(this.isZero()||f.isInfinite())return l.ZERO;s=this.re,u=this.im;var p=f.re,m=f.im,v,d;return m===0?new l(s/p,u/p):Math.abs(p)<Math.abs(m)?(d=p/m,v=p*d+m,new l((s*d+u)/v,(u*d-s)/v)):(d=m/p,v=m*d+p,new l((s+u*d)/v,(u-s*d)/v))},pow:function(s,u){var f=new l(s,u);if(s=this.re,u=this.im,f.isZero())return l.ONE;if(f.im===0){if(u===0&&s>0)return new l(Math.pow(s,f.re),0);if(s===0)switch((f.re%4+4)%4){case 0:return new l(Math.pow(u,f.re),0);case 1:return new l(0,Math.pow(u,f.re));case 2:return new l(-Math.pow(u,f.re),0);case 3:return new l(0,-Math.pow(u,f.re))}}if(s===0&&u===0&&f.re>0&&f.im>=0)return l.ZERO;var p=Math.atan2(u,s),m=o(s,u);return s=Math.exp(f.re*m-f.im*p),u=f.im*m+f.re*p,new l(s*Math.cos(u),s*Math.sin(u))},sqrt:function(){var s=this.re,u=this.im,f=this.abs(),p,m;if(s>=0){if(u===0)return new l(Math.sqrt(s),0);p=.5*Math.sqrt(2*(f+s))}else p=Math.abs(u)/Math.sqrt(2*(f-s));return s<=0?m=.5*Math.sqrt(2*(f-s)):m=Math.abs(u)/Math.sqrt(2*(f+s)),new l(p,u<0?-m:m)},exp:function(){var s=Math.exp(this.re);return this.im,new l(s*Math.cos(this.im),s*Math.sin(this.im))},expm1:function(){var s=this.re,u=this.im;return new l(Math.expm1(s)*Math.cos(u)+n(u),Math.exp(s)*Math.sin(u))},log:function(){var s=this.re,u=this.im;return u===0&&s>0,new l(o(s,u),Math.atan2(u,s))},abs:function(){return i(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var s=this.re,u=this.im;return new l(Math.sin(s)*e(u),Math.cos(s)*r(u))},cos:function(){var s=this.re,u=this.im;return new l(Math.cos(s)*e(u),-Math.sin(s)*r(u))},tan:function(){var s=2*this.re,u=2*this.im,f=Math.cos(s)+e(u);return new l(Math.sin(s)/f,r(u)/f)},cot:function(){var s=2*this.re,u=2*this.im,f=Math.cos(s)-e(u);return new l(-Math.sin(s)/f,r(u)/f)},sec:function(){var s=this.re,u=this.im,f=.5*e(2*u)+.5*Math.cos(2*s);return new l(Math.cos(s)*e(u)/f,Math.sin(s)*r(u)/f)},csc:function(){var s=this.re,u=this.im,f=.5*e(2*u)-.5*Math.cos(2*s);return new l(Math.sin(s)*e(u)/f,-Math.cos(s)*r(u)/f)},asin:function(){var s=this.re,u=this.im,f=new l(u*u-s*s+1,-2*s*u).sqrt(),p=new l(f.re-u,f.im+s).log();return new l(p.im,-p.re)},acos:function(){var s=this.re,u=this.im,f=new l(u*u-s*s+1,-2*s*u).sqrt(),p=new l(f.re-u,f.im+s).log();return new l(Math.PI/2-p.im,p.re)},atan:function(){var s=this.re,u=this.im;if(s===0){if(u===1)return new l(0,1/0);if(u===-1)return new l(0,-1/0)}var f=s*s+(1-u)*(1-u),p=new l((1-u*u-s*s)/f,-2*s/f).log();return new l(-.5*p.im,.5*p.re)},acot:function(){var s=this.re,u=this.im;if(u===0)return new l(Math.atan2(1,s),0);var f=s*s+u*u;return f!==0?new l(s/f,-u/f).atan():new l(s!==0?s/0:0,u!==0?-u/0:0).atan()},asec:function(){var s=this.re,u=this.im;if(s===0&&u===0)return new l(0,1/0);var f=s*s+u*u;return f!==0?new l(s/f,-u/f).acos():new l(s!==0?s/0:0,u!==0?-u/0:0).acos()},acsc:function(){var s=this.re,u=this.im;if(s===0&&u===0)return new l(Math.PI/2,1/0);var f=s*s+u*u;return f!==0?new l(s/f,-u/f).asin():new l(s!==0?s/0:0,u!==0?-u/0:0).asin()},sinh:function(){var s=this.re,u=this.im;return new l(r(s)*Math.cos(u),e(s)*Math.sin(u))},cosh:function(){var s=this.re,u=this.im;return new l(e(s)*Math.cos(u),r(s)*Math.sin(u))},tanh:function(){var s=2*this.re,u=2*this.im,f=e(s)+Math.cos(u);return new l(r(s)/f,Math.sin(u)/f)},coth:function(){var s=2*this.re,u=2*this.im,f=e(s)-Math.cos(u);return new l(r(s)/f,-Math.sin(u)/f)},csch:function(){var s=this.re,u=this.im,f=Math.cos(2*u)-e(2*s);return new l(-2*r(s)*Math.cos(u)/f,2*e(s)*Math.sin(u)/f)},sech:function(){var s=this.re,u=this.im,f=Math.cos(2*u)+e(2*s);return new l(2*e(s)*Math.cos(u)/f,-2*r(s)*Math.sin(u)/f)},asinh:function(){var s=this.im;this.im=-this.re,this.re=s;var u=this.asin();return this.re=-this.im,this.im=s,s=u.re,u.re=-u.im,u.im=s,u},acosh:function(){var s=this.acos();if(s.im<=0){var u=s.re;s.re=-s.im,s.im=u}else{var u=s.im;s.im=-s.re,s.re=u}return s},atanh:function(){var s=this.re,u=this.im,f=s>1&&u===0,p=1-s,m=1+s,v=p*p+u*u,d=v!==0?new l((m*p-u*u)/v,(u*p+m*u)/v):new l(s!==-1?s/0:0,u!==0?u/0:0),g=d.re;return d.re=o(d.re,d.im)/2,d.im=Math.atan2(d.im,g)/2,f&&(d.im=-d.im),d},acoth:function(){var s=this.re,u=this.im;if(s===0&&u===0)return new l(0,Math.PI/2);var f=s*s+u*u;return f!==0?new l(s/f,-u/f).atanh():new l(s!==0?s/0:0,u!==0?-u/0:0).atanh()},acsch:function(){var s=this.re,u=this.im;if(u===0)return new l(s!==0?Math.log(s+Math.sqrt(s*s+1)):1/0,0);var f=s*s+u*u;return f!==0?new l(s/f,-u/f).asinh():new l(s!==0?s/0:0,u!==0?-u/0:0).asinh()},asech:function(){var s=this.re,u=this.im;if(this.isZero())return l.INFINITY;var f=s*s+u*u;return f!==0?new l(s/f,-u/f).acosh():new l(s!==0?s/0:0,u!==0?-u/0:0).acosh()},inverse:function(){if(this.isZero())return l.INFINITY;if(this.isInfinite())return l.ZERO;var s=this.re,u=this.im,f=s*s+u*u;return new l(s/f,-u/f)},conjugate:function(){return new l(this.re,-this.im)},neg:function(){return new l(-this.re,-this.im)},ceil:function(s){return s=Math.pow(10,s||0),new l(Math.ceil(this.re*s)/s,Math.ceil(this.im*s)/s)},floor:function(s){return s=Math.pow(10,s||0),new l(Math.floor(this.re*s)/s,Math.floor(this.im*s)/s)},round:function(s){return s=Math.pow(10,s||0),new l(Math.round(this.re*s)/s,Math.round(this.im*s)/s)},equals:function(s,u){var f=new l(s,u);return Math.abs(f.re-this.re)<=l.EPSILON&&Math.abs(f.im-this.im)<=l.EPSILON},clone:function(){return new l(this.re,this.im)},toString:function(){var s=this.re,u=this.im,f="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(s)<l.EPSILON&&(s=0),Math.abs(u)<l.EPSILON&&(u=0),u===0?f+s:(s!==0?(f+=s,f+=" ",u<0?(u=-u,f+="-"):f+="+",f+=" "):u<0&&(u=-u,f+="-"),u!==1&&(f+=u),f+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},l.ZERO=new l(0,0),l.ONE=new l(1,0),l.I=new l(0,1),l.PI=new l(Math.PI,0),l.E=new l(Math.E,0),l.INFINITY=new l(1/0,1/0),l.NAN=new l(NaN,NaN),l.EPSILON=1e-15,typeof define=="function"&&define.amd?define([],function(){return l}):typeof Zh=="object"?(Object.defineProperty(l,"__esModule",{value:!0}),l.default=l,l.Complex=l,v_.exports=l):t.Complex=l})(Zh)});var x_=jt(($h,y_)=>{(function(t){"use strict";var e=2e3,r={s:1,n:0,d:1};function n(d,g){if(isNaN(d=parseInt(d,10)))throw m();return d*g}function i(d,g){if(g===0)throw p();var x=Object.create(f.prototype);x.s=d<0?-1:1,d=d<0?-d:d;var A=u(d,g);return x.n=d/A,x.d=g/A,x}function a(d){for(var g={},x=d,A=2,y=4;y<=x;){for(;x%A===0;)x/=A,g[A]=(g[A]||0)+1;y+=1+2*A++}return x!==d?x>1&&(g[x]=(g[x]||0)+1):g[d]=(g[d]||0)+1,g}var o=function(d,g){var x=0,A=1,y=1,w=0,S=0,b=0,C=1,_=1,N=0,E=1,I=1,B=1,L=1e7,z;if(d!=null)if(g!==void 0){if(x=d,A=g,y=x*A,x%1!==0||A%1!==0)throw v()}else switch(typeof d){case"object":{if("d"in d&&"n"in d)x=d.n,A=d.d,"s"in d&&(x*=d.s);else if(0 in d)x=d[0],1 in d&&(A=d[1]);else throw m();y=x*A;break}case"number":{if(d<0&&(y=d,d=-d),d%1===0)x=d;else if(d>0){for(d>=1&&(_=Math.pow(10,Math.floor(1+Math.log(d)/Math.LN10)),d/=_);E<=L&&B<=L;)if(z=(N+I)/(E+B),d===z){E+B<=L?(x=N+I,A=E+B):B>E?(x=I,A=B):(x=N,A=E);break}else d>z?(N+=I,E+=B):(I+=N,B+=E),E>L?(x=I,A=B):(x=N,A=E);x*=_}else(isNaN(d)||isNaN(g))&&(A=x=NaN);break}case"string":{if(E=d.match(/\d+|./g),E===null)throw m();if(E[N]==="-"?(y=-1,N++):E[N]==="+"&&N++,E.length===N+1?S=n(E[N++],y):E[N+1]==="."||E[N]==="."?(E[N]!=="."&&(w=n(E[N++],y)),N++,(N+1===E.length||E[N+1]==="("&&E[N+3]===")"||E[N+1]==="'"&&E[N+3]==="'")&&(S=n(E[N],y),C=Math.pow(10,E[N].length),N++),(E[N]==="("&&E[N+2]===")"||E[N]==="'"&&E[N+2]==="'")&&(b=n(E[N+1],y),_=Math.pow(10,E[N+1].length)-1,N+=3)):E[N+1]==="/"||E[N+1]===":"?(S=n(E[N],y),C=n(E[N+2],1),N+=3):E[N+3]==="/"&&E[N+1]===" "&&(w=n(E[N],y),S=n(E[N+2],y),C=n(E[N+4],1),N+=5),E.length<=N){A=C*_,y=x=b+A*w+_*S;break}}default:throw m()}if(A===0)throw p();r.s=y<0?-1:1,r.n=Math.abs(x),r.d=Math.abs(A)};function c(d,g,x){for(var A=1;g>0;d=d*d%x,g>>=1)g&1&&(A=A*d%x);return A}function l(d,g){for(;g%2===0;g/=2);for(;g%5===0;g/=5);if(g===1)return 0;for(var x=10%g,A=1;x!==1;A++)if(x=x*10%g,A>e)return 0;return A}function s(d,g,x){for(var A=1,y=c(10,x,g),w=0;w<300;w++){if(A===y)return w;A=A*10%g,y=y*10%g}return 0}function u(d,g){if(!d)return g;if(!g)return d;for(;;){if(d%=g,!d)return g;if(g%=d,!g)return d}}function f(d,g){if(o(d,g),this instanceof f)d=u(r.d,r.n),this.s=r.s,this.n=r.n/d,this.d=r.d/d;else return i(r.s*r.n,r.d)}var p=function(){return new Error("Division by Zero")},m=function(){return new Error("Invalid argument")},v=function(){return new Error("Parameters must be integer")};f.prototype={s:1,n:0,d:1,abs:function(){return i(this.n,this.d)},neg:function(){return i(-this.s*this.n,this.d)},add:function(d,g){return o(d,g),i(this.s*this.n*r.d+r.s*this.d*r.n,this.d*r.d)},sub:function(d,g){return o(d,g),i(this.s*this.n*r.d-r.s*this.d*r.n,this.d*r.d)},mul:function(d,g){return o(d,g),i(this.s*r.s*this.n*r.n,this.d*r.d)},div:function(d,g){return o(d,g),i(this.s*r.s*this.n*r.d,this.d*r.n)},clone:function(){return i(this.s*this.n,this.d)},mod:function(d,g){if(isNaN(this.n)||isNaN(this.d))return new f(NaN);if(d===void 0)return i(this.s*this.n%this.d,1);if(o(d,g),r.n===0&&this.d===0)throw p();return i(this.s*(r.d*this.n)%(r.n*this.d),r.d*this.d)},gcd:function(d,g){return o(d,g),i(u(r.n,this.n)*u(r.d,this.d),r.d*this.d)},lcm:function(d,g){return o(d,g),r.n===0&&this.n===0?i(0,1):i(r.n*this.n,u(r.n,this.n)*u(r.d,this.d))},ceil:function(d){return d=Math.pow(10,d||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):i(Math.ceil(d*this.s*this.n/this.d),d)},floor:function(d){return d=Math.pow(10,d||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):i(Math.floor(d*this.s*this.n/this.d),d)},round:function(d){return d=Math.pow(10,d||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):i(Math.round(d*this.s*this.n/this.d),d)},inverse:function(){return i(this.s*this.d,this.n)},pow:function(d,g){if(o(d,g),r.d===1)return r.s<0?i(Math.pow(this.s*this.d,r.n),Math.pow(this.n,r.n)):i(Math.pow(this.s*this.n,r.n),Math.pow(this.d,r.n));if(this.s<0)return null;var x=a(this.n),A=a(this.d),y=1,w=1;for(var S in x)if(S!=="1"){if(S==="0"){y=0;break}if(x[S]*=r.n,x[S]%r.d===0)x[S]/=r.d;else return null;y*=Math.pow(S,x[S])}for(var S in A)if(S!=="1"){if(A[S]*=r.n,A[S]%r.d===0)A[S]/=r.d;else return null;w*=Math.pow(S,A[S])}return r.s<0?i(w,y):i(y,w)},equals:function(d,g){return o(d,g),this.s*this.n*r.d===r.s*r.n*this.d},compare:function(d,g){o(d,g);var x=this.s*this.n*r.d-r.s*r.n*this.d;return(0<x)-(x<0)},simplify:function(d){if(isNaN(this.n)||isNaN(this.d))return this;d=d||.001;for(var g=this.abs(),x=g.toContinued(),A=1;A<x.length;A++){for(var y=i(x[A-1],1),w=A-2;w>=0;w--)y=y.inverse().add(x[w]);if(Math.abs(y.sub(g).valueOf())<d)return y.mul(this.s)}return this},divisible:function(d,g){return o(d,g),!(!(r.n*this.d)||this.n*r.d%(r.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(d){var g,x="",A=this.n,y=this.d;return this.s<0&&(x+="-"),y===1?x+=A:(d&&(g=Math.floor(A/y))>0&&(x+=g,x+=" ",A%=y),x+=A,x+="/",x+=y),x},toLatex:function(d){var g,x="",A=this.n,y=this.d;return this.s<0&&(x+="-"),y===1?x+=A:(d&&(g=Math.floor(A/y))>0&&(x+=g,A%=y),x+="\\frac{",x+=A,x+="}{",x+=y,x+="}"),x},toContinued:function(){var d,g=this.n,x=this.d,A=[];if(isNaN(g)||isNaN(x))return A;do A.push(Math.floor(g/x)),d=g%x,g=x,x=d;while(g!==1);return A},toString:function(d){var g=this.n,x=this.d;if(isNaN(g)||isNaN(x))return"NaN";d=d||15;var A=l(g,x),y=s(g,x,A),w=this.s<0?"-":"";if(w+=g/x|0,g%=x,g*=10,g&&(w+="."),A){for(var S=y;S--;)w+=g/x|0,g%=x,g*=10;w+="(";for(var S=A;S--;)w+=g/x|0,g%=x,g*=10;w+=")"}else for(var S=d;g&&S--;)w+=g/x|0,g%=x,g*=10;return w}},typeof $h=="object"?(Object.defineProperty(f,"__esModule",{value:!0}),f.default=f,f.Fraction=f,y_.exports=f):t.Fraction=f})($h)});var BM=jt((rye,OM)=>{OM.exports=function t(e,r){"use strict";var n=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,i=/(^[ ]*|[ ]*$)/g,a=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,o=/^0x[0-9a-f]+$/i,c=/^0/,l=function(y){return t.insensitive&&(""+y).toLowerCase()||""+y},s=l(e).replace(i,"")||"",u=l(r).replace(i,"")||"",f=s.replace(n,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=u.replace(n,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=parseInt(s.match(o),16)||f.length!==1&&s.match(a)&&Date.parse(s),v=parseInt(u.match(o),16)||m&&u.match(a)&&Date.parse(u)||null,d,g;if(v){if(m<v)return-1;if(m>v)return 1}for(var x=0,A=Math.max(f.length,p.length);x<A;x++){if(d=!(f[x]||"").match(c)&&parseFloat(f[x])||f[x]||0,g=!(p[x]||"").match(c)&&parseFloat(p[x])||p[x]||0,isNaN(d)!==isNaN(g))return isNaN(d)?1:-1;if(typeof d!=typeof g&&(d+="",g+=""),d<g)return-1;if(d>g)return 1}return 0}});var kC=jt((ywe,RC)=>{"use strict";var gx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},SY={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},AY={"\u2013":"\\--","\u2014":"\\---"," ":"~","	":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},NY=function(e,r){return gx({},e,r)};RC.exports=function(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.preserveFormatting,n=r===void 0?!1:r,i=e.escapeMapFn,a=i===void 0?NY:i,o=String(t),c="",l=a(gx({},SY),n?gx({},AY):{}),s=Object.keys(l),u=function(){var p=!1;s.forEach(function(m,v){p||o.length>=m.length&&o.slice(0,m.length)===m&&(c+=l[s[v]],o=o.slice(m.length,o.length),p=!0)}),p||(c+=o.slice(0,1),o=o.slice(1,o.length))};o;)u();return c}});var mB=jt((pB,yb)=>{(function(t,e,r){function n(c){var l=this,s=o();l.next=function(){var u=2091639*l.s0+l.c*23283064365386963e-26;return l.s0=l.s1,l.s1=l.s2,l.s2=u-(l.c=u|0)},l.c=1,l.s0=s(" "),l.s1=s(" "),l.s2=s(" "),l.s0-=s(c),l.s0<0&&(l.s0+=1),l.s1-=s(c),l.s1<0&&(l.s1+=1),l.s2-=s(c),l.s2<0&&(l.s2+=1),s=null}function i(c,l){return l.c=c.c,l.s0=c.s0,l.s1=c.s1,l.s2=c.s2,l}function a(c,l){var s=new n(c),u=l&&l.state,f=s.next;return f.int32=function(){return s.next()*4294967296|0},f.double=function(){return f()+(f()*2097152|0)*11102230246251565e-32},f.quick=f,u&&(typeof u=="object"&&i(u,s),f.state=function(){return i(s,{})}),f}function o(){var c=4022871197,l=function(s){s=String(s);for(var u=0;u<s.length;u++){c+=s.charCodeAt(u);var f=.02519603282416938*c;c=f>>>0,f-=c,f*=c,c=f>>>0,f-=c,c+=f*4294967296}return(c>>>0)*23283064365386963e-26};return l}e&&e.exports?e.exports=a:r&&r.amd?r(function(){return a}):this.alea=a})(pB,typeof yb=="object"&&yb,typeof define=="function"&&define)});var hB=jt((dB,xb)=>{(function(t,e,r){function n(o){var c=this,l="";c.x=0,c.y=0,c.z=0,c.w=0,c.next=function(){var u=c.x^c.x<<11;return c.x=c.y,c.y=c.z,c.z=c.w,c.w^=c.w>>>19^u^u>>>8},o===(o|0)?c.x=o:l+=o;for(var s=0;s<l.length+64;s++)c.x^=l.charCodeAt(s)|0,c.next()}function i(o,c){return c.x=o.x,c.y=o.y,c.z=o.z,c.w=o.w,c}function a(o,c){var l=new n(o),s=c&&c.state,u=function(){return(l.next()>>>0)/4294967296};return u.double=function(){do var f=l.next()>>>11,p=(l.next()>>>0)/4294967296,m=(f+p)/(1<<21);while(m===0);return m},u.int32=l.next,u.quick=u,s&&(typeof s=="object"&&i(s,l),u.state=function(){return i(l,{})}),u}e&&e.exports?e.exports=a:r&&r.amd?r(function(){return a}):this.xor128=a})(dB,typeof xb=="object"&&xb,typeof define=="function"&&define)});var gB=jt((vB,bb)=>{(function(t,e,r){function n(o){var c=this,l="";c.next=function(){var u=c.x^c.x>>>2;return c.x=c.y,c.y=c.z,c.z=c.w,c.w=c.v,(c.d=c.d+362437|0)+(c.v=c.v^c.v<<4^(u^u<<1))|0},c.x=0,c.y=0,c.z=0,c.w=0,c.v=0,o===(o|0)?c.x=o:l+=o;for(var s=0;s<l.length+64;s++)c.x^=l.charCodeAt(s)|0,s==l.length&&(c.d=c.x<<10^c.x>>>4),c.next()}function i(o,c){return c.x=o.x,c.y=o.y,c.z=o.z,c.w=o.w,c.v=o.v,c.d=o.d,c}function a(o,c){var l=new n(o),s=c&&c.state,u=function(){return(l.next()>>>0)/4294967296};return u.double=function(){do var f=l.next()>>>11,p=(l.next()>>>0)/4294967296,m=(f+p)/(1<<21);while(m===0);return m},u.int32=l.next,u.quick=u,s&&(typeof s=="object"&&i(s,l),u.state=function(){return i(l,{})}),u}e&&e.exports?e.exports=a:r&&r.amd?r(function(){return a}):this.xorwow=a})(vB,typeof bb=="object"&&bb,typeof define=="function"&&define)});var xB=jt((yB,wb)=>{(function(t,e,r){function n(o){var c=this;c.next=function(){var s=c.x,u=c.i,f,p,m;return f=s[u],f^=f>>>7,p=f^f<<24,f=s[u+1&7],p^=f^f>>>10,f=s[u+3&7],p^=f^f>>>3,f=s[u+4&7],p^=f^f<<7,f=s[u+7&7],f=f^f<<13,p^=f^f<<9,s[u]=p,c.i=u+1&7,p};function l(s,u){var f,p,m=[];if(u===(u|0))p=m[0]=u;else for(u=""+u,f=0;f<u.length;++f)m[f&7]=m[f&7]<<15^u.charCodeAt(f)+m[f+1&7]<<13;for(;m.length<8;)m.push(0);for(f=0;f<8&&m[f]===0;++f);for(f==8?p=m[7]=-1:p=m[f],s.x=m,s.i=0,f=256;f>0;--f)s.next()}l(c,o)}function i(o,c){return c.x=o.x.slice(),c.i=o.i,c}function a(o,c){o==null&&(o=+new Date);var l=new n(o),s=c&&c.state,u=function(){return(l.next()>>>0)/4294967296};return u.double=function(){do var f=l.next()>>>11,p=(l.next()>>>0)/4294967296,m=(f+p)/(1<<21);while(m===0);return m},u.int32=l.next,u.quick=u,s&&(s.x&&i(s,l),u.state=function(){return i(l,{})}),u}e&&e.exports?e.exports=a:r&&r.amd?r(function(){return a}):this.xorshift7=a})(yB,typeof wb=="object"&&wb,typeof define=="function"&&define)});var wB=jt((bB,Db)=>{(function(t,e,r){function n(o){var c=this;c.next=function(){var s=c.w,u=c.X,f=c.i,p,m;return c.w=s=s+1640531527|0,m=u[f+34&127],p=u[f=f+1&127],m^=m<<13,p^=p<<17,m^=m>>>15,p^=p>>>12,m=u[f]=m^p,c.i=f,m+(s^s>>>16)|0};function l(s,u){var f,p,m,v,d,g=[],x=128;for(u===(u|0)?(p=u,u=null):(u=u+"\0",p=0,x=Math.max(x,u.length)),m=0,v=-32;v<x;++v)u&&(p^=u.charCodeAt((v+32)%u.length)),v===0&&(d=p),p^=p<<10,p^=p>>>15,p^=p<<4,p^=p>>>13,v>=0&&(d=d+1640531527|0,f=g[v&127]^=p+d,m=f==0?m+1:0);for(m>=128&&(g[(u&&u.length||0)&127]=-1),m=127,v=4*128;v>0;--v)p=g[m+34&127],f=g[m=m+1&127],p^=p<<13,f^=f<<17,p^=p>>>15,f^=f>>>12,g[m]=p^f;s.w=d,s.X=g,s.i=m}l(c,o)}function i(o,c){return c.i=o.i,c.w=o.w,c.X=o.X.slice(),c}function a(o,c){o==null&&(o=+new Date);var l=new n(o),s=c&&c.state,u=function(){return(l.next()>>>0)/4294967296};return u.double=function(){do var f=l.next()>>>11,p=(l.next()>>>0)/4294967296,m=(f+p)/(1<<21);while(m===0);return m},u.int32=l.next,u.quick=u,s&&(s.X&&i(s,l),u.state=function(){return i(l,{})}),u}e&&e.exports?e.exports=a:r&&r.amd?r(function(){return a}):this.xor4096=a})(bB,typeof Db=="object"&&Db,typeof define=="function"&&define)});var SB=jt((DB,Sb)=>{(function(t,e,r){function n(o){var c=this,l="";c.next=function(){var u=c.b,f=c.c,p=c.d,m=c.a;return u=u<<25^u>>>7^f,f=f-p|0,p=p<<24^p>>>8^m,m=m-u|0,c.b=u=u<<20^u>>>12^f,c.c=f=f-p|0,c.d=p<<16^f>>>16^m,c.a=m-u|0},c.a=0,c.b=0,c.c=-1640531527,c.d=1367130551,o===Math.floor(o)?(c.a=o/4294967296|0,c.b=o|0):l+=o;for(var s=0;s<l.length+20;s++)c.b^=l.charCodeAt(s)|0,c.next()}function i(o,c){return c.a=o.a,c.b=o.b,c.c=o.c,c.d=o.d,c}function a(o,c){var l=new n(o),s=c&&c.state,u=function(){return(l.next()>>>0)/4294967296};return u.double=function(){do var f=l.next()>>>11,p=(l.next()>>>0)/4294967296,m=(f+p)/(1<<21);while(m===0);return m},u.int32=l.next,u.quick=u,s&&(typeof s=="object"&&i(s,l),u.state=function(){return i(l,{})}),u}e&&e.exports?e.exports=a:r&&r.amd?r(function(){return a}):this.tychei=a})(DB,typeof Sb=="object"&&Sb,typeof define=="function"&&define)});var NB=jt((AB,Lp)=>{(function(t,e,r){var n=256,i=6,a=52,o="random",c=r.pow(n,i),l=r.pow(2,a),s=l*2,u=n-1,f;function p(y,w,S){var b=[];w=w==!0?{entropy:!0}:w||{};var C=g(d(w.entropy?[y,A(e)]:y==null?x():y,3),b),_=new m(b),N=function(){for(var E=_.g(i),I=c,B=0;E<l;)E=(E+B)*n,I*=n,B=_.g(1);for(;E>=s;)E/=2,I/=2,B>>>=1;return(E+B)/I};return N.int32=function(){return _.g(4)|0},N.quick=function(){return _.g(4)/4294967296},N.double=N,g(A(_.S),e),(w.pass||S||function(E,I,B,L){return L&&(L.S&&v(L,_),E.state=function(){return v(_,{})}),B?(r[o]=E,I):E})(N,C,"global"in w?w.global:this==r,w.state)}function m(y){var w,S=y.length,b=this,C=0,_=b.i=b.j=0,N=b.S=[];for(S||(y=[S++]);C<n;)N[C]=C++;for(C=0;C<n;C++)N[C]=N[_=u&_+y[C%S]+(w=N[C])],N[_]=w;(b.g=function(E){for(var I,B=0,L=b.i,z=b.j,U=b.S;E--;)I=U[L=u&L+1],B=B*n+U[u&(U[L]=U[z=u&z+I])+(U[z]=I)];return b.i=L,b.j=z,B})(n)}function v(y,w){return w.i=y.i,w.j=y.j,w.S=y.S.slice(),w}function d(y,w){var S=[],b=typeof y,C;if(w&&b=="object")for(C in y)try{S.push(d(y[C],w-1))}catch(_){}return S.length?S:b=="string"?y:y+"\0"}function g(y,w){for(var S=y+"",b,C=0;C<S.length;)w[u&C]=u&(b^=w[u&C]*19)+S.charCodeAt(C++);return A(w)}function x(){try{var y;return f&&(y=f.randomBytes)?y=y(n):(y=new Uint8Array(n),(t.crypto||t.msCrypto).getRandomValues(y)),A(y)}catch(b){var w=t.navigator,S=w&&w.plugins;return[+new Date,t,S,t.screen,A(e)]}}function A(y){return String.fromCharCode.apply(0,y)}if(g(r.random(),e),typeof Lp=="object"&&Lp.exports){Lp.exports=p;try{f=ic("crypto")}catch(y){}}else typeof define=="function"&&define.amd?define(function(){return p}):r["seed"+o]=p})(typeof self!="undefined"?self:AB,[],Math)});var EB=jt((kBe,_B)=>{var zG=mB(),HG=hB(),YG=gB(),GG=xB(),WG=wB(),ZG=SB(),Go=NB();Go.alea=zG;Go.xor128=HG;Go.xorwow=YG;Go.xorshift7=GG;Go.xor4096=WG;Go.tychei=ZG;_B.exports=Go});var Yj={};g8(Yj,{MetaBindPublishPlugin:()=>km});var Ln=class extends Error{constructor(e){super(""),this.errorLevel=e.errorLevel,this.effect=e.effect,this.cause=e.cause,this.tip=e.tip,this.docs=e.docs,this.context=e.context,this.positionContext=e.positionContext,this.updateMessage()}updateMessage(){this.cause instanceof Error?this.message=`[${this.getErrorType()}] "${this.effect}" caused by error "${this.cause.message}"`:this.message=`[${this.getErrorType()}] "${this.effect}" caused by "${this.cause}"`}log(){console.log(this.message,this.stack,this.context)}},xt=class extends Ln{getErrorType(){return"MB_INTERNAL"}},ga=class extends Ln{getErrorType(){return"MB_PARSING"}},Iu=class extends Ln{getErrorType(){return"MB_VALIDATION"}},ac=class extends Ln{getErrorType(){return"MB_BIND_TARGET"}};var Pt=class extends Ln{getErrorType(){return"MB_ARGUMENT"}},Ou=class extends Ln{getErrorType(){return"MB_JS"}},ya=class extends Ln{getErrorType(){return"MB_EXPRESSION"}};var To=class extends Ln{getErrorType(){return"MB_BUTTON"}};var gs=(w=>(w.TOGGLE="toggle",w.SLIDER="slider",w.TEXT="text",w.TEXT_AREA="textArea",w.SELECT="select",w.MULTI_SELECT="multiSelect",w.DATE="date",w.TIME="time",w.DATE_PICKER="datePicker",w.NUMBER="number",w.SUGGESTER="suggester",w.EDITOR="editor",w.IMAGE_SUGGESTER="imageSuggester",w.PROGRESS_BAR="progressBar",w.INLINE_SELECT="inlineSelect",w.LIST="list",w.LIST_SUGGESTER="listSuggester",w.INLINE_LIST_SUGGESTER="inlineListSuggester",w.INLINE_LIST="inlineList",w.INVALID="invalid",w))(gs||{}),Qt=(g=>(g.CLASS="class",g.ADD_LABELS="addLabels",g.MIN_VALUE="minValue",g.MAX_VALUE="maxValue",g.STEP_SIZE="stepSize",g.OPTION="option",g.TITLE="title",g.OPTION_QUERY="optionQuery",g.SHOWCASE="showcase",g.ON_VALUE="onValue",g.OFF_VALUE="offValue",g.DEFAULT_VALUE="defaultValue",g.PLACEHOLDER="placeholder",g.USE_LINKS="useLinks",g.LIMIT="limit",g.INVALID="invalid",g))(Qt||{}),hS={toggle:{type:"toggle",allowInBlock:!0,allowInline:!0},slider:{type:"slider",allowInBlock:!0,allowInline:!0},text:{type:"text",allowInBlock:!0,allowInline:!0},textArea:{type:"textArea",allowInBlock:!0,allowInline:!0},select:{type:"select",allowInBlock:!0,allowInline:!1},multiSelect:{type:"multiSelect",allowInBlock:!0,allowInline:!1},date:{type:"date",allowInBlock:!0,allowInline:!0},time:{type:"time",allowInBlock:!0,allowInline:!0},datePicker:{type:"datePicker",allowInBlock:!0,allowInline:!0},number:{type:"number",allowInBlock:!0,allowInline:!0},suggester:{type:"suggester",allowInBlock:!0,allowInline:!0},editor:{type:"editor",allowInBlock:!0,allowInline:!1},imageSuggester:{type:"imageSuggester",allowInBlock:!0,allowInline:!1},progressBar:{type:"progressBar",allowInBlock:!0,allowInline:!1},inlineSelect:{type:"inlineSelect",allowInBlock:!0,allowInline:!0},list:{type:"list",allowInBlock:!0,allowInline:!1},listSuggester:{type:"listSuggester",allowInBlock:!0,allowInline:!1},inlineListSuggester:{type:"inlineListSuggester",allowInBlock:!0,allowInline:!0},inlineList:{type:"inlineList",allowInBlock:!0,allowInline:!0},invalid:{type:"invalid",allowInBlock:!1,allowInline:!1}};var ft={addLabels:{type:"addLabels",allowedFieldTypes:["slider","progressBar"],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},class:{type:"class",allowedFieldTypes:[],values:[[{name:"className",allowed:[],description:"the name of the css class to add"}]],allowMultiple:!0},defaultValue:{type:"defaultValue",allowedFieldTypes:[],values:[[{name:"value",allowed:[],description:""}]],allowMultiple:!1},maxValue:{type:"maxValue",allowedFieldTypes:["slider","progressBar"],values:[[{name:"value",allowed:["number"],description:"the maximally allowed value"}]],allowMultiple:!1},minValue:{type:"minValue",allowedFieldTypes:["slider","progressBar"],values:[[{name:"value",allowed:["number"],description:"the minimally allowed value"}]],allowMultiple:!1},stepSize:{type:"stepSize",allowedFieldTypes:["slider","progressBar"],values:[[{name:"value",allowed:["number"],description:"the step size for sliders"}]],allowMultiple:!1},offValue:{type:"offValue",allowedFieldTypes:["toggle"],values:[[{name:"value",allowed:[],description:"the value for the off state"}]],allowMultiple:!1},onValue:{type:"onValue",allowedFieldTypes:["toggle"],values:[[{name:"value",allowed:[],description:"the value for the off state"}]],allowMultiple:!1},option:{type:"option",allowedFieldTypes:["select","multiSelect","suggester","imageSuggester","inlineSelect","listSuggester","inlineListSuggester"],values:[[{name:"value",allowed:[],description:"the value and display name of the option"}],[{name:"value",allowed:[],description:"the value of the option"},{name:"name",allowed:[],description:"the display name of the option"}]],allowMultiple:!0},optionQuery:{type:"optionQuery",allowedFieldTypes:["suggester","imageSuggester","listSuggester","inlineListSuggester"],values:[[{name:"value",allowed:[],description:"the query for options"}]],allowMultiple:!0},placeholder:{type:"placeholder",allowedFieldTypes:["text","textArea","number","list","inlineList"],values:[[{name:"value",allowed:[],description:""}]],allowMultiple:!1},showcase:{type:"showcase",allowedFieldTypes:[],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},title:{type:"title",allowedFieldTypes:[],values:[[{name:"value",allowed:[],description:""}]],allowMultiple:!1},useLinks:{type:"useLinks",allowedFieldTypes:["suggester","listSuggester","inlineListSuggester"],values:[[],[{name:"value",allowed:["true","partial","false"],description:""}]],allowMultiple:!1},limit:{type:"limit",allowedFieldTypes:["text","textArea","list","inlineList"],values:[[{name:"value",allowed:["number"],description:"a character limit for text fields"}]],allowMultiple:!1},invalid:{type:"invalid",allowedFieldTypes:[],values:[[]],allowMultiple:!0}},Bu=(i=>(i.MATH="math",i.TEXT="text",i.LINK="link",i.INVALID="invalid",i))(Bu||{}),ys=(n=>(n.RENDER_MARKDOWN="renderMarkdown",n.HIDDEN="hidden",n.INVALID="invalid",n))(ys||{}),oc={renderMarkdown:{type:"renderMarkdown",allowedFieldTypes:["text"],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},hidden:{type:"hidden",allowedFieldTypes:[],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},invalid:{type:"invalid",allowedFieldTypes:[],values:[[]],allowMultiple:!0}};function Pu(t,e,r){return Math.min(Math.max(t,e),r)}function sc(t,e,r){return t!==void 0?Math.min(Math.max(t,e),r):void 0}function dd(t,e,r,n,i){return(t-e)/(r-e)*(i-n)+n}function vS(t,e){if(t==null&&e==null)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function hd(t,e){for(let r=0;r<e.length;r++)if(t[r]!==e[r])return!1;return!0}function gS(t){return!!t}function vd(t){let e=Reflect.ownKeys(t);for(let r of e){let n=t[r];(n&&typeof n=="object"||typeof n=="function")&&vd(n)}return Object.freeze(t)}function $t(){return window.crypto.randomUUID()}function xs(t){try{return new URL(t),!0}catch(e){return!1}}function uc(t){window.open(t,"_blank")}function yS(t,e,r=", ",n="and"){return t.length===0?"":(t=t.map(e),t.length===1?t[0]:t.length===2?`${t[0]} ${n} ${t[1]}`:`${t.slice(0,-1).join(r)} ${n} ${t.slice(-1)}`)}function $i(t,e){t.innerHTML="",t.className="";let r=document.createElement("span");r.className="mb-warning mb-unloaded",r.innerText=`[MB_UNLOADED] ${e}`,t.appendChild(r)}var Ar=class{static createElement(e,r,n){let i=document.createElement(r);return n!=null&&n.text&&(i.innerText=n.text),n!=null&&n.class&&(i.className=n.class),e.appendChild(i),i}static addClass(e,r){e.classList.add(...r.split(" "))}static addClasses(e,r){e.classList.add(...r)}static removeClass(e,r){e.classList.remove(...r.split(" "))}static hasClass(e,r){return e.classList.contains(r)}static removeAllClasses(e){e.className=""}static empty(e){e.innerHTML=""}};var Et=class{static linkToInputField(e){return`https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/reference/inputfields/${e.toLowerCase()}/`}static linkToInputFieldArgument(e){return`https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/reference/inputfieldarguments/${e.toLowerCase()}/`}static linkToViewField(e){return`https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/reference/viewfields/${e.toLowerCase()}/`}static linkToViewFieldArgument(e){return`https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/reference/viewfieldarguments/${e.toLowerCase()}/`}static linkToInputFields(){return"https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/guides/inputfields/"}static linkToViewFields(){return"https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/guides/viewfields/"}static linkToButtons(){return"https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/guides/buttons/#button-configuration"}static linkToButtonConfig(){return"https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/guides/buttons/#button-configuration"}static linkToSearch(e){return`https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/?s=${encodeURIComponent(e)}`}static linkToHome(){return"https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/"}static linkToGithub(){return"https://github.com/mProjectsCode/obsidian-meta-bind-plugin"}static linkToIssues(){return"https://github.com/mProjectsCode/obsidian-meta-bind-plugin/issues"}static linkToCanaryBuilds(){return"https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/guides/installation/#canary-builds"}static open(e){uc(e)}};var bs=class{constructor(){this.arguments=[]}add(e){this.arguments.push(e)}validate(){let e={};for(let r of Object.values(Qt))e[r]=0;for(let r of this.arguments){let n=r.getConfig();if(e[n.type]+=1,e[n.type]>1&&!n.allowMultiple)throw new Pt({errorLevel:"ERROR",effect:"failed to validate argument container",cause:`argument '${n.type}' does not allow duplicates`,docs:[Et.linkToSearch(n.type)]})}}mergeByOverride(e){for(let r of e.arguments){let n=r.getConfig();n.allowMultiple||(this.arguments=this.arguments.filter(i=>i.getConfig().type!==n.type)),this.arguments.push(r)}return this.validate(),this}mergeByThrow(e){for(let r of e.arguments){let n=r.getConfig();if(!n.allowMultiple&&this.arguments.filter(i=>i.getConfig().type===n.type).length>0)throw new Pt({errorLevel:"ERROR",effect:"failed to merge argument container",cause:"can not merge FieldArgumentContainers, since arguments overlap"});this.arguments.push(r)}return this.validate(),this}getAll(e){return this.arguments.filter(r=>r.getConfig().type===e)}get(e){return this.getAll(e).at(0)}};var ws=class extends bs{getAll(e){return super.getAll(e)}get(e){return this.getAll(e).at(0)}};var mt=class{constructor(e){this.subject=e,this.errors=[]}add(e){e instanceof Error?(e instanceof Ln?this.errors.push(e):this.otherError=e,console.warn(e)):console.warn("[MB_ERROR_CONTAINER] received invalid error type",e)}merge(e){return this.errors=this.errors.concat(e.errors),e.otherError&&(this.otherError=e.otherError),this}hasErrors(){if(this.otherError)return!0;for(let e of this.errors)if(e.errorLevel==="ERROR"||e.errorLevel==="CRITICAL")return!0;return!1}hasCriticalErrors(){if(this.otherError)return!0;for(let e of this.errors)if(e.errorLevel==="CRITICAL")return!0;return!1}hasWarnings(){for(let e of this.errors)if(e.errorLevel==="WARNING")return!0;return!1}isEmpty(){return this.errors.length===0&&!this.otherError}getErrors(){let e=this.errors.filter(r=>r.errorLevel==="ERROR"||r.errorLevel==="CRITICAL");return this.otherError?e.concat([this.otherError]):e}getWarnings(){return this.errors.filter(e=>e.errorLevel==="WARNING")}};function on(t,e){let r=t.tryParse(e);if(r.success)return r.value;throw new Ru("ERROR","parsiNOM parser",e,r)}var Ru=class extends Ln{constructor(e,r,n,i){super({errorLevel:e,effect:"failed to parse",cause:`expected ${i.expected.sort().join(" or ")}`}),this.str=n,this.parseFailure=i,this.source=r,this.updateMessage2()}getErrorType(){return"MB_PARSINOM"}updateMessage2(){this.cause instanceof Error?this.message=`[${this.getErrorType()}] "${this.effect}" caused by error "${this.cause.message}"
`:this.message=`[${this.getErrorType()}] "${this.effect}" caused by "${this.cause}"
`;let r=this.str.split(`
`)[this.parseFailure.furthest.line-1],n=`${this.parseFailure.furthest.line} |   `;this.positionContext=`${n}${r}`,this.positionContext+=`
${this.getUnderline(n.length)}
`,this.message+=`
`+this.positionContext}getUnderline(e){let r=" ".repeat(this.parseFailure.furthest.column+e-1),n=`^ (${this.cause})`;return r+n}},Kt=class extends Ln{constructor(e,r,n,i,a,o){super({errorLevel:e,effect:"failed to validate parser result",cause:n,docs:o}),this.str=i,this.position=a,this.source=r,this.updateMessage2()}getErrorType(){return"MB_VALIDATION"}updateMessage2(){if(this.cause instanceof Error?this.message=`[${this.getErrorType()}] "${this.effect}" caused by error "${this.cause.message}"
`:this.message=`[${this.getErrorType()}] "${this.effect}" caused by "${this.cause}"
`,this.str&&this.position){let r=this.str.split(`
`)[this.position.from.line-1],n=`${this.position.from.line} |   `;this.positionContext=`${n}${r}`,this.positionContext+=`
${this.getUnderline(n.length,r.length)}
`,this.message+=`
`+this.positionContext}}getUnderline(e,r){if(this.position===void 0)return"";let n=" ".repeat(this.position.from.column+e-1),i=this.position.to.line===this.position.from.line?this.position.to.column:r,a="^".repeat(i-this.position.from.column);return n+a}};var Ds=class{parseValue(e){this.validateValues(e,this.getConfig().values),this._parseValue(e)}validateValues(e,r){if(r.find(n=>n.length===e.length)===void 0)throw new Pt({errorLevel:"WARNING",effect:`Failed to parse argument value for argument '${this.getConfig().type}'.`,cause:`Expected argument values to follow the form ${r.map(n=>n.length===0?"none":n.map(i=>`'${i.name}'`).join(", ")).join(" or ")}. Received arguments of length ${e.length}.`,docs:[Et.linkToSearch(this.getConfig().type)]})}isAllowed(e){return this.getConfig().allowedFieldTypes.length===0?!0:this.getConfig().allowedFieldTypes.includes(e)}getAllowedFieldsAsString(){return this.getConfig().allowedFieldTypes.length===0?"all":this.getConfig().allowedFieldTypes.join(", ")}};var ot=class extends Ds{};var lc=class extends ot{constructor(){super(...arguments);this.value=[]}_parseValue(r){this.value=r[0].value.split(" ")}getConfig(){return ft.class}};var cc=class extends ot{constructor(){super(...arguments);this.value=!0}_parseValue(r){var n;this.value=r[0]===void 0||((n=r[0])==null?void 0:n.value.toLowerCase())==="true"}getConfig(){return ft.addLabels}};var fc=class extends ot{constructor(){super(...arguments);this.value=0}_parseValue(r){if(this.value=Number.parseFloat(r[0].value),Number.isNaN(this.value))throw new Pt({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'minValue' must be of type number",docs:[Et.linkToInputFieldArgument(this.getConfig().type)]})}getConfig(){return ft.minValue}};var pc=class extends ot{constructor(){super(...arguments);this.value=100}_parseValue(r){if(this.value=Number.parseFloat(r[0].value),Number.isNaN(this.value))throw new Pt({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'maxValue' must be of type number",docs:[Et.linkToInputFieldArgument(this.getConfig().type)]})}getConfig(){return ft.maxValue}};var Va=yt(ii()),Uu=yt(yi());var qn=yt(ii());var An=yt(ii()),ES=yt(yi());var Zt=yt(ii()),qa=yt(yi()),Un=Zt.P.sequence(Zt.P.or(qa.P_UTILS.unicodeLetter(),Zt.P.oneOf("_$")),Zt.P.or(qa.P_UTILS.unicodeAlphanumeric(),Zt.P.oneOf("-_$")).many()).map(t=>t[0]+t[1].join("")).describe("identifier"),DS=Zt.P.sequenceMap((t,e)=>t+e.map(r=>r[0]+r[1]).join(""),Un,Zt.P.sequence(qa.P_UTILS.optionalWhitespace(),Un).many()).describe("identifier with spaces"),_8=Zt.P.string("\\").then(qa.P_UTILS.any()).map(t=>t==="'"?"'":t==="\\"?"\\":"\\"+t);function SS(t){return Zt.P.or(_8,Zt.P.noneOf(t+"\\")).many().map(e=>e.join("")).trim(Zt.P.string(t))}var Nd=SS("'"),AS=SS('"');function jn(t,e){return{value:t,position:e}}var _d=Zt.P.regexp(/^[^()',]+/).describe("any character except parentheses, single quotation marks and commas"),E8=Zt.P.or(Nd,_d).node(jn),M8=Zt.P.separateBy(E8,Zt.P.string(",").describe('argument value separator ","').trim(qa.P_UTILS.optionalWhitespace())),C8=Zt.P.sequenceMap((t,e)=>({name:t,value:e}),Un.node(jn),M8.trim(qa.P_UTILS.optionalWhitespace()).wrap(Zt.P.string("(").describe('argument value paren "("'),Zt.P.string(")").describe('argument value paren ")"')).optional([])),ku=Zt.P.separateBy(C8,Zt.P.string(",").describe('argument separator ","').trim(qa.P_UTILS.optionalWhitespace()));var Dc=class{constructor(e,r,n){this.parent=e,this.access=r,this.child=n}};function T8(t,e){return t[e]}function NS(t,e,r){t[e]=r}var Sc=class{constructor(e,r){if(this.type=e,this.prop=e==="object"?r:"",this.index=e==="array"?Number(r):0,Number.isNaN(this.index))throw new Error("can not access array with non number index")}get(e){if(this.type==="object"){if(typeof e!="object"||e==null)throw new Error("can not access property of non-object");return new Dc(e,this,T8(e,this.prop))}else{if(typeof e!="object"||e==null||!Array.isArray(e))throw new Error("can not access property of non-array");return new Dc(e,this,e[this.index])}}set(e,r){if(this.type==="object"){if(typeof e!="object"||e==null)throw new Error("can not access property of non-object");NS(e,this.prop,r)}else{if(typeof e!="object"||e==null||!Array.isArray(e))throw new Error("can not access property of non-array");e[this.index]=r}}create(e){if(this.type==="object"){if(typeof e!="object"||e==null)throw new Error("can not access property of non-object");NS(e,this.prop,void 0)}else{if(typeof e!="object"||e==null||!Array.isArray(e))throw new Error("can not access property of non-array");e[this.index]=void 0}}};var Lu=An.P.manyNotOf("{}[]#^|:?").box("file path"),MS=Un.node((t,e)=>({type:"object",prop:jn(t,e)})),Ed=An.P.or(ES.P_UTILS.digits().wrap(An.P.string("["),An.P.string("]")).node((t,e)=>({type:"array",prop:jn(t,e)})),AS.wrap(An.P.string("["),An.P.string("]")).node((t,e)=>({type:"object",prop:jn(t,e)}))),F8=An.P.or(An.P.sequenceMap(t=>({storagePath:void 0,listenToChildren:!1,storageProp:t}),Ed.atLeast(1)),An.P.sequenceMap((t,e)=>({storagePath:void 0,listenToChildren:!1,storageProp:[t,...e]}),MS,Ed.many())),I8=An.P.sequenceMap((t,e)=>[t,...e],MS,Ed.many()),Md=An.P.sequenceMap((t,e)=>(t.storageProp=t.storageProp.concat(e.flat()),t),F8,An.P.string(".").then(I8).many()),Ji=An.P.sequenceMap((t,e,r)=>(r.storageType=t,r.storagePath=e,r),Un.describe("storage type").node(jn).skip(An.P.string("^").describe('storage type separator "^"')).optional(),Lu.describe("storage path").node(jn).skip(An.P.string("#").describe('storage/file path separator "#"')).optional(),Md.describe("property path")).box("bind target");var CS=yt(yi());var O8=qn.P.sequence(Lu,qn.P.string("#").then(qn.P.manyNotOf("[]#|^:")).optional(),qn.P.string("|").then(qn.P.manyNotOf("[]")).optional()),Cd=qn.P.or(qn.P.sequenceMap((t,e)=>({isEmbed:t!==void 0,target:e[0],block:e[1],alias:e[2],internal:!0}),qn.P.string("!").optional(),O8.wrapString("[[","]]")),qn.P.sequenceMap((t,e,r)=>{let n=!xs(r);return{isEmbed:t!==void 0,target:r,block:void 0,alias:e,internal:n}},qn.P.string("!").optional(),qn.P.manyNotOf("[]").wrapString("[","]"),qn.P.manyNotOf("()").wrapString("(",")"))),B8=qn.P.separateBy(Cd,qn.P.string(",").trim(CS.P_UTILS.optionalWhitespace())),Vn=class t{static parseLink(e){return on(Cd.thenEof(),e)}static parseLinkList(e){return on(B8.thenEof(),e)}static isLink(e){return Cd.thenEof().tryParse(e).success}static urlToLink(e){return{isEmbed:!1,target:e.href,block:void 0,alias:e.hostname,internal:!1}}static parseLinkOrUrl(e){return xs(e)?t.urlToLink(new URL(e)):t.parseLink(e)}static convertToLinkString(e){return t.isLink(e)?e:xs(e)?`[${new URL(e).hostname}](${e})`:t.isLink(`[[${e}]]`)?`[[${e}]]`:""}};var FS=Va.P.sequenceMap((t,e)=>t===void 0?e:-e,Va.P.string("-").optional(),Va.P.or(Va.P.sequenceMap((t,e,r)=>Number(t+e+r),Uu.P_UTILS.digits(),Va.P.string("."),Uu.P_UTILS.digits()),Uu.P_UTILS.digits().map(t=>Number(t)))).thenEof(),W$=Va.P.sequenceMap((t,e)=>t===void 0?e:-e,Va.P.string("-").optional(),Uu.P_UTILS.digits().map(t=>Number(t))).thenEof();function oi(t){if(t.toLowerCase()==="null")return null;if(t==="true")return!0;if(t==="false")return!1;{let e=FS.tryParse(t);return e.success?e.value:t}}function Fd(t){return t===void 0||t===null?"":typeof t=="string"?t:typeof t=="boolean"?t?"true":"false":t.toString()}function za(t){return t===null||typeof t=="string"||typeof t=="boolean"||typeof t=="number"}function Xi(t){if(t!==void 0){if(za(t))return[t];if(typeof t=="object"&&Array.isArray(t))return t.filter(e=>za(e))}}function Ns(t){if(typeof t=="number")return t;if(typeof t=="string"){let e=FS.tryParse(t);if(e.success)return e.value}}function _s(t){return za(t)?Fd(t):void 0}function Ha(t){return za(t)?t:void 0}function Ac(t,e){return Array.isArray(t)?t.map(r=>Td(r,e)).filter(r=>r!=="").join(", "):Td(t,e)}function Td(t,e){return t==null?e?"":"null":typeof t=="function"?"<function>":typeof t=="object"||Array.isArray(t)?JSON.stringify(t):t.toString()}function IS(t,e){return Array.isArray(t)?t.map(r=>TS(r,e)).filter(r=>r!==""):TS(t,e)}function TS(t,e){return typeof t=="string"?Vn.isLink(t)?Vn.parseLink(t):xs(t)?Vn.urlToLink(new URL(t)):t:Td(t,e)}var Nc=class extends ot{constructor(){super(...arguments);this.value="";this.name=""}_parseValue(r){r.length===1?(this.value=oi(r[0].value),this.name=r[0].value):r.length===2&&(this.value=oi(r[0].value),this.name=r[1].value)}getConfig(){return ft.option}};var _c=class extends ot{constructor(){super(...arguments);this.value=""}_parseValue(r){this.value=r[0].value}getConfig(){return ft.title}};var Ec=class extends ot{constructor(){super(...arguments);this.value=""}_parseValue(r){this.value=r[0].value}getConfig(){return ft.optionQuery}};var Mc=class extends ot{constructor(){super(...arguments);this.value=!0}_parseValue(r){var n;this.value=r[0]===void 0||((n=r[0])==null?void 0:n.value.toLowerCase())==="true"}getConfig(){return ft.showcase}};var Cc=class extends ot{constructor(){super(...arguments);this.value=!1}_parseValue(r){this.value=oi(r[0].value)}getConfig(){return ft.offValue}};var Tc=class extends ot{constructor(){super(...arguments);this.value=!0}_parseValue(r){this.value=oi(r[0].value)}getConfig(){return ft.onValue}};var Fc=class extends ot{constructor(){super(...arguments);this.value=""}_parseValue(r){this.value=oi(r[0].value)}getConfig(){return ft.defaultValue}};var Ic=class extends ot{constructor(){super(...arguments);this.value=""}_parseValue(r){this.value=r[0].value}getConfig(){return ft.placeholder}};var Oc=class extends ot{constructor(){super(...arguments);this.value="true"}_parseValue(r){var i;let n=(i=r[0])==null?void 0:i.value.toLowerCase();if(n===void 0){this.value="true";return}if(n==="true"||n==="partial"||n==="false"){this.value=n;return}throw new Pt({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:`value of argument 'useLinks' must be one of ${yS(["true","partial","false"],a=>`'${a}'`,", ","or")}`,docs:[Et.linkToInputFieldArgument(this.getConfig().type)]})}getConfig(){return ft.useLinks}};var Bc=class extends ot{constructor(){super(...arguments);this.value=0}_parseValue(r){if(this.value=Number.parseFloat(r[0].value),Number.isNaN(this.value))throw new Pt({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'stepSize' must be of type number",docs:[Et.linkToInputFieldArgument(this.getConfig().type)]});if(this.value<=0)throw new Pt({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'stepSize' must be a positive number",docs:[Et.linkToInputFieldArgument(this.getConfig().type)]})}getConfig(){return ft.stepSize}};var Pc=class extends ot{constructor(){super(...arguments);this.value=void 0}_parseValue(r){if(this.value=Number.parseInt(r[0].value),Number.isNaN(this.value))throw new Pt({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'limit' must be of type number",docs:[Et.linkToInputFieldArgument(this.getConfig().type)]});if(this.value<=0)throw new Pt({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'limit' must be a positive number",docs:[Et.linkToInputFieldArgument(this.getConfig().type)]})}getConfig(){return ft.limit}};var OS={class:lc,addLabels:cc,minValue:fc,maxValue:pc,stepSize:Bc,option:Nc,title:_c,optionQuery:Ec,showcase:Mc,offValue:Cc,onValue:Tc,defaultValue:Fc,placeholder:Ic,useLinks:Oc,limit:Pc},Rc=class{static createInputFieldArgument(e){if(e in OS){let r=OS[e];if(r)return new r}throw new ga({errorLevel:"WARNING",effect:"can not crate input field argument",cause:`unknown argument '${e}'`})}};var qu=class{constructor(e,r,n){this.plugin=e,this.unvalidatedDeclaration=r,this.filePath=n,this.errorCollection=new mt("input field declaration")}validate(e){let r=this.validateInputFieldType(),n=this.validateBindTarget(e),i=this.validateArguments(r),a={fullDeclaration:this.unvalidatedDeclaration.fullDeclaration,inputFieldType:r,bindTarget:n,argumentContainer:i,errorCollection:this.errorCollection.merge(this.unvalidatedDeclaration.errorCollection)};return this.checkForDeprecation(a),a}validateInputFieldType(){let e=this.unvalidatedDeclaration.inputFieldType;for(let r of Object.entries(gs))if(r[1]===(e==null?void 0:e.value))return r[1];return this.errorCollection.add(new Kt("ERROR","Declaration Validator",`Encountered invalid identifier. Expected token to be an input field type but received '${e==null?void 0:e.value}'.`,this.unvalidatedDeclaration.fullDeclaration,e==null?void 0:e.position)),"invalid"}checkForDeprecation(e){}validateBindTarget(e){if(this.unvalidatedDeclaration.bindTarget!==void 0)return this.plugin.api.bindTargetParser.validateBindTarget(this.unvalidatedDeclaration.fullDeclaration,this.unvalidatedDeclaration.bindTarget,this.filePath,e)}validateArguments(e){let r=new ws;for(let n of this.unvalidatedDeclaration.arguments){let i=this.validateArgumentType(n.name);if(i==="invalid")continue;let a=Rc.createInputFieldArgument(i);if(!a.isAllowed(e)){this.errorCollection.add(new Kt("WARNING","Declaration Validator",`Failed to parse input field arguments. Argument "${n.name.value}" is only applicable to "${a.getAllowedFieldsAsString()}" input fields.`,this.unvalidatedDeclaration.fullDeclaration,n.name.position));continue}try{a.parseValue(n.value)}catch(o){this.errorCollection.add(o);continue}r.add(a)}try{r.validate()}catch(n){this.errorCollection.add(n)}return r}validateArgumentType(e){for(let r of Object.entries(Qt))if(r[1]===e.value)return r[1];return this.errorCollection.add(new Kt("WARNING","Declaration Validator",`Encountered invalid identifier. Expected identifier to be an input field argument type but received '${e.value}'.`,this.unvalidatedDeclaration.fullDeclaration,e.position)),"invalid"}};var Dt=yt(ii());var Nn=yt(yi());var P8=Dt.P.sequenceMap((t,e,r)=>{let n=r===void 0?void 0:r[1];return{inputFieldType:t,arguments:e,bindTarget:n}},Un.node(jn).trim(Nn.P_UTILS.optionalWhitespace()).describe("input field type"),ku.trim(Nn.P_UTILS.optionalWhitespace()).wrap(Dt.P.string("(").describe('arguments paren "("'),Dt.P.string(")").describe('arguments paren ")"')).trim(Nn.P_UTILS.optionalWhitespace()).optional([]),Dt.P.sequence(Dt.P.string(":").trim(Nn.P_UTILS.optionalWhitespace()).describe('bind target separator ":"'),Ji).trim(Nn.P_UTILS.optionalWhitespace()).optional()),BS=Dt.P.sequenceMap((t,e,r)=>{let n=r===void 0?void 0:r[1];return{inputFieldType:t,arguments:e,bindTarget:n}},Un.node(jn).trim(Nn.P_UTILS.optionalWhitespace()).optional().describe("input field type"),ku.trim(Nn.P_UTILS.optionalWhitespace()).wrap(Dt.P.string("(").describe('arguments paren "("'),Dt.P.string(")").describe('arguments paren ")"')).trim(Nn.P_UTILS.optionalWhitespace()).optional([]),Dt.P.sequence(Dt.P.string(":").trim(Nn.P_UTILS.optionalWhitespace()).describe('bind target separator ":"'),Ji).trim(Nn.P_UTILS.optionalWhitespace()).optional()),Id=Dt.P.or(Dt.P.sequenceMap((t,e,r)=>(r.templateName=e,r),Dt.P.string("INPUT"),Dt.P.sequenceMap((t,e,r)=>e,Dt.P.string("["),DS.node(jn).trim(Nn.P_UTILS.optionalWhitespace()).describe("template name"),Dt.P.string("]").skip(Nn.P_UTILS.optionalWhitespace())),BS.wrap(Dt.P.string("["),Dt.P.string("]")),Nn.P_UTILS.eof()),Dt.P.sequenceMap((t,e)=>e,Dt.P.string("INPUT"),P8.wrap(Dt.P.string("["),Dt.P.string("]")),Nn.P_UTILS.eof())),PS=Dt.P.sequenceMap((t,e)=>e,Dt.P.string("INPUT"),BS.wrap(Dt.P.string("["),Dt.P.string("]")),Nn.P_UTILS.eof());var kc=class{constructor(e){this.plugin=e,this.templates=[]}parseString(e,r,n){let i=new mt("InputFieldParser");try{let a=on(Id,e);return a.fullDeclaration=e,a.errorCollection=i,a.arguments=[...a.arguments],a=this.applyTemplate(a),new qu(this.plugin,a,r).validate(n)}catch(a){i.add(a)}return{fullDeclaration:e,inputFieldType:"invalid",bindTarget:void 0,argumentContainer:new ws,errorCollection:i}}parseStringWithoutValidation(e){let r=new mt("InputFieldParser");try{let n=on(Id,e);return n.fullDeclaration=e,n.errorCollection=r,n.arguments=[...n.arguments],n}catch(n){r.add(n)}return{fullDeclaration:e,inputFieldType:{value:"invalid"},bindTarget:void 0,arguments:[],errorCollection:r}}validateDeclaration(e,r,n){return new qu(this.plugin,e,r).validate(n)}parseTemplateString(e){let r=new mt("InputFieldParser");try{let n=on(PS,e);return n.fullDeclaration=e,n.errorCollection=r,n.arguments=[...n.arguments],n}catch(n){r.add(n)}return{fullDeclaration:e,inputFieldType:{value:"invalid"},bindTarget:void 0,arguments:[],errorCollection:r}}parseTemplates(e){this.templates=[];let r=new mt("input field template parser");for(let n of e){let i=this.parseTemplateString(n.declaration);r.merge(i.errorCollection);let a={name:n.name,template:i};this.templates.push(vd(a))}return r}getTemplate(e){var r;return(r=this.templates.find(n=>n.name===e))==null?void 0:r.template}applyTemplate(e){if(e.templateName===void 0)return e;let r=this.getTemplate(e.templateName.value);return r===void 0?(e.errorCollection.add(new Kt("WARNING","Input Field Parser",`Invalid template name. Could not find template with name '${e.templateName.value}'`,e.fullDeclaration,e.templateName.position,["https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/guides/templates/"])),e):this.plugin.api.inputField.merge(r,e)}};var en=yt(ii()),si=yt(yi());var R8=en.P.string("\\").then(si.P_UTILS.any()).map(t=>t==="["?"[":t==="]"?"]":t==="{"?"{":t==="}"?"}":t==="\\"?"\\":"\\"+t),Lc=en.P.sequenceMap((t,e)=>t+e.flat().join(""),en.P.manyNotOf("{}[]\\"),en.P.sequence(R8,en.P.manyNotOf("{}[]\\")).many()).box("View Field Content"),k8=en.P.sequenceMap((t,e)=>[t,...e.flat()],Lc,en.P.sequence(Ji.wrapString("{","}"),Lc).many()),L8=en.P.sequenceMap((t,e,r)=>{let n=r===void 0?void 0:r[1];return{viewFieldType:t,writeToBindTarget:n,arguments:e,templateDeclaration:void 0}},Un.node(jn).trim(si.P_UTILS.optionalWhitespace()).optional().describe("input field type"),ku.trim(si.P_UTILS.optionalWhitespace()).wrapString("(",")").trim(si.P_UTILS.optionalWhitespace()).optional([]),en.P.sequence(en.P.string(":").trim(si.P_UTILS.optionalWhitespace()),Ji).trim(si.P_UTILS.optionalWhitespace()).optional()),Od=en.P.sequenceMap((t,e,r,n)=>n===void 0?{viewFieldType:void 0,writeToBindTarget:void 0,arguments:[],templateDeclaration:e}:(n.templateDeclaration=e,n),en.P.string("VIEW"),k8.wrapString("[","]"),si.P_UTILS.optionalWhitespace(),L8.wrapString("[","]").optional(),si.P_UTILS.eof()),U8=en.P.sequenceMap((t,e,r,n)=>(e!==void 0&&(t.listenToChildren=!0),{bindTarget:t,name:n}),Ji.wrapString("{","}"),en.P.string(" and children").optional(),en.P.string(" as "),Un),RS=en.P.sequenceMap((t,e,r)=>({bindTargetMappings:t,writeToBindTarget:e,code:r}),U8.separateBy(si.P_UTILS.whitespace()).skip(si.P_UTILS.whitespace()),en.P.string("save to ").then(Ji.wrapString("{","}")).skip(si.P_UTILS.whitespace()).optional(),en.P.string("---").then(si.P_UTILS.remaining()));var Es=class extends bs{getAll(e){return super.getAll(e)}get(e){return this.getAll(e).at(0)}};var Ms=class extends Ds{};var Uc=class extends Ms{constructor(){super(...arguments);this.value=!0}_parseValue(r){var n;this.value=r[0]===void 0||((n=r[0])==null?void 0:n.value.toLowerCase())==="true"}getConfig(){return oc.renderMarkdown}};var qc=class extends Ms{constructor(){super(...arguments);this.value=!0}_parseValue(r){var n;this.value=r[0]===void 0||((n=r[0])==null?void 0:n.value.toLowerCase())==="true"}getConfig(){return oc.hidden}};var kS={renderMarkdown:Uc,hidden:qc},Vc=class{static createViewFieldArgument(e){if(e in kS){let r=kS[e];if(r)return new r}throw new ga({errorLevel:"WARNING",effect:"can not crate view field argument",cause:`unknown argument '${e}'`})}};var zc=class{constructor(e,r,n){this.unvalidatedDeclaration=e,this.plugin=n,this.filePath=r,this.errorCollection=new mt("view field declaration")}validate(e){let r=this.validateInputFieldType(),n=this.validateBindTarget(e),i=this.validateArguments(r),a=this.validateTemplateDeclaration(e),o={fullDeclaration:this.unvalidatedDeclaration.fullDeclaration,viewFieldType:r,writeToBindTarget:n,argumentContainer:i,templateDeclaration:a,errorCollection:this.errorCollection.merge(this.unvalidatedDeclaration.errorCollection)};return this.checkForDeprecation(o),o}validateInputFieldType(){let e=this.unvalidatedDeclaration.viewFieldType;if(e===void 0)return"math";for(let r of Object.entries(Bu))if(r[1]===(e==null?void 0:e.value))return r[1];return this.errorCollection.add(new Kt("ERROR","Declaration Validator",`Encountered invalid identifier. Expected token to be a view field type but received '${e.value}'.`,this.unvalidatedDeclaration.fullDeclaration,e.position)),"invalid"}checkForDeprecation(e){}validateBindTarget(e){if(this.unvalidatedDeclaration.writeToBindTarget!==void 0)return this.plugin.api.bindTargetParser.validateBindTarget(this.unvalidatedDeclaration.fullDeclaration,this.unvalidatedDeclaration.writeToBindTarget,this.filePath,e)}validateArguments(e){let r=new Es;for(let n of this.unvalidatedDeclaration.arguments){let i=this.validateArgumentType(n.name);if(i==="invalid")continue;let a=Vc.createViewFieldArgument(i);if(!a.isAllowed(e)){this.errorCollection.add(new Kt("WARNING","Declaration Validator",`Failed to parse view field arguments. Argument "${n.name.value}" is only applicable to "${a.getAllowedFieldsAsString()}" view fields.`,this.unvalidatedDeclaration.fullDeclaration,n.name.position));continue}try{a.parseValue(n.value)}catch(o){this.errorCollection.add(o);continue}r.add(a)}try{r.validate()}catch(n){this.errorCollection.add(n)}return r}validateArgumentType(e){for(let r of Object.entries(ys))if(r[1]===e.value)return r[1];return this.errorCollection.add(new Kt("WARNING","Declaration Validator",`Encountered invalid identifier. Expected identifier to be a view field argument type but received '${e.value}'.`,this.unvalidatedDeclaration.fullDeclaration,e.position)),"invalid"}validateTemplateDeclaration(e){var r,n;try{return(n=(r=this.unvalidatedDeclaration.templateDeclaration)==null?void 0:r.map(i=>typeof i=="string"?i:this.plugin.api.bindTargetParser.validateBindTarget(this.unvalidatedDeclaration.fullDeclaration,i,this.filePath,e)))!=null?n:[]}catch(i){return this.errorCollection.add(i),[]}}};var Hc=class{constructor(e){this.plugin=e}parseString(e,r,n){let i=new mt("ViewFieldDeclaration");try{let a=on(Od,e);return a.fullDeclaration=e,a.errorCollection=i,a.arguments=[...a.arguments],this.validateDeclaration(a,r,n)}catch(a){i.add(a)}return{fullDeclaration:e,errorCollection:i,templateDeclaration:[],viewFieldType:"invalid",argumentContainer:new Es,writeToBindTarget:void 0}}parseStringWithoutValidation(e){let r=new mt("ViewFieldDeclaration");try{let n=on(Od,e);return n.fullDeclaration=e,n.errorCollection=r,n.arguments=[...n.arguments],n}catch(n){r.add(n)}return{fullDeclaration:e,errorCollection:r,viewFieldType:{value:"invalid"},writeToBindTarget:void 0,arguments:[],templateDeclaration:[]}}validateDeclaration(e,r,n){return new zc(e,r,this.plugin).validate(n)}parseJsString(e,r){let n={};n.errorCollection=new mt("JsViewFieldDeclaration"),n.fullDeclaration=e;try{let i=on(RS,e);n.bindTargetMappings=i.bindTargetMappings.map(a=>({bindTarget:this.plugin.api.bindTargetParser.validateBindTarget(e,a.bindTarget,r),name:a.name})),i.writeToBindTarget!==void 0&&(n.writeToBindTarget=this.plugin.api.bindTargetParser.validateBindTarget(e,i.writeToBindTarget,r)),n.code=i.code}catch(i){n.errorCollection.add(i)}return n}};var Yc=class t{constructor(e){this.path=e}get(e){if(this.path.length===0)throw new Error("can not use empty path to access object");let r=this.path[0].get(e);for(let n of this.path.slice(1))r=n.get(r.child);return r}tryGet(e){try{return this.get(e)}catch(r){return}}set(e,r){if(this.path.length===0)throw new Error("can not use empty path to access object");let n=this.path[0].get(e);for(let i of this.path.slice(1))n=i.get(n.child);n.access.set(n.parent,r)}setAndCreate(e,r){if(this.path.length===0)throw new Error("can not use empty path to access object");let n=this.path[0].get(e);n.child===void 0&&(n.access.set(n.parent,this.getNextPathElementValue(0,r)),n=n.access.get(n.parent));for(let i=1;i<this.path.length;i++)n=this.path[i].get(n.child),n.child===void 0&&(n.access.set(n.parent,this.getNextPathElementValue(i,r)),n=n.access.get(n.parent));n.access.set(n.parent,r)}getNextPathElement(e){return this.path[e+1]}getNextPathElementValue(e,r){let n=this.getNextPathElement(e);return n===void 0?r:n.type==="object"?{}:[]}toStringArray(){return this.path.map(e=>e.prop)}toString(){return this.toStringArray().join(".")}concat(e){return new t(this.path.concat(e.path))}};var Gc=class{constructor(e){this.plugin=e}parseAndValidateBindTarget(e,r,n){return this.validateBindTarget(e,this.parseBindTarget(e),r,n)}parseBindTarget(e){return on(Ji,e)}validateBindTarget(e,r,n,i){var s;let a={};a.listenToChildren=r.listenToChildren,a.storageProp=new Yc(r.storageProp.map(u=>new Sc(u.type,u.prop.value))),r.storageType===void 0?a.storageType=this.plugin.metadataManager.defaultSource:a.storageType=this.validateStorageType(r.storageType,e);let o=r.storagePath!==void 0,c=(s=r.storagePath)!=null?s:{value:n},l=this.plugin.metadataManager.getSource(a.storageType);if(l===void 0)throw new xt({errorLevel:"CRITICAL",effect:"can not validate bind target",cause:`Source '${a.storageType}' not found. But validation was successful. This should not happen.`,context:{fullDeclaration:e,sources:[...this.plugin.metadataManager.sources.keys()]}});return a.storagePath=l.validateStoragePath(c,o,e,this),l.resolveBindTargetScope(a,i,this)}resolveScope(e,r){if(r===void 0)throw new Kt("ERROR","Bind Target Scope Validator","Failed to resolve bind target scope, no scope provided");return e.storageType=r.scope.storageType,e.storagePath=r.scope.storagePath,e.storageProp=r.scope.storageProp.concat(e.storageProp),e}validateStorageType(e,r){for(let n of this.plugin.metadataManager.iterateSources())if(n===e.value)return n;throw new Kt("ERROR","Bind Target Validator",`Encountered invalid identifier. Expected token to be a storage type but received '${e==null?void 0:e.value}'.`,r,e==null?void 0:e.position)}validateStoragePathAsFilePath(e,r){let n=e==null?void 0:e.value;if(n===void 0)throw new Kt("ERROR","Bind Target Validator","Failed to parse bind target. Bind target storage path is undefined.",r,e==null?void 0:e.position);let i=this.plugin.internal.getFilePathByName(n);if(i===void 0)throw new Kt("ERROR","Bind Target Validator",`Failed to parse bind target. Bind target file path '${n}' not found.`,r,e==null?void 0:e.position);return i}};var Wc=class{constructor(e){this.plugin=e}createInputFieldDeclaration(e,r){let n=new mt("input field declaration"),i=(r!=null?r:[]).map(a=>({name:{value:a.name},value:a.value.map(o=>({value:o}))}));return{fullDeclaration:"",inputFieldType:e?{value:e}:void 0,bindTarget:void 0,arguments:i,errorCollection:n}}createInputFieldDeclarationFromString(e){return this.plugin.api.inputFieldParser.parseStringWithoutValidation(e)}setType(e,r){return e.inputFieldType={value:r},e}setArguments(e,r){return e.arguments=r.map(n=>({name:{value:n.name},value:n.value.map(i=>({value:i}))})),e}addArgument(e,r){return Array.isArray(r)?e.arguments=e.arguments.concat(r.map(n=>({name:{value:n.name},value:n.value.map(i=>({value:i}))}))):e.arguments.push({name:{value:r.name},value:r.value.map(n=>({value:n}))}),e}setBindTargetFile(e,r){return e.bindTarget?e.bindTarget.storagePath={value:r}:e.bindTarget={storagePath:{value:r},storageProp:[],listenToChildren:!1},e}setBindTargetMetadataField(e,r){return typeof r=="string"&&(r=[r]),e.bindTarget?e.bindTarget.storageProp=r.map(n=>({type:"object",prop:{value:n}})):e.bindTarget={storagePath:void 0,storageProp:r.map(n=>({type:"object",prop:{value:n}})),listenToChildren:!1},e}setTemplateName(e,r){return e.templateName={value:r},e}applyTemplate(e){return this.plugin.api.inputFieldParser.applyTemplate(e)}getTemplate(e){return this.plugin.api.inputFieldParser.getTemplate(e)}merge(e,r){var i,a,o;let n;return e.bindTarget===void 0?n=r.bindTarget:(n=e.bindTarget,((i=r.bindTarget)==null?void 0:i.storagePath)!==void 0&&(n.storagePath=r.bindTarget.storagePath),((a=r.bindTarget)==null?void 0:a.storageProp)!==void 0&&(n.storageProp=r.bindTarget.storageProp)),{fullDeclaration:r.fullDeclaration,inputFieldType:(o=r.inputFieldType)!=null?o:e.inputFieldType,bindTarget:n,arguments:r.arguments.concat(e.arguments).reduce((c,l)=>(c.find(s=>s.name===l.name)===void 0&&c.push(l),c),[]),errorCollection:new mt("input field declaration").merge(e.errorCollection).merge(r.errorCollection)}}};var Cs=class{constructor(){this.listeners=[]}registerListener(e){let r=e;return r.uuid=$t(),this.listeners.push(r),r}unregisterListener(e){this.unregisterListenerById(e.uuid)}unregisterListenerById(e){this.listeners=this.listeners.filter(r=>r.uuid!==e)}unregisterAllListeners(){this.listeners=[]}notifyListeners(e){for(let r of this.listeners)r.callback(e)}},pn=class extends Cs{constructor(e){super(),this.value=e}get(){return this.value}set(e){this.value=e,this.notifyListeners(e)}},Zc=class extends Cs{constructor(e,r){super(),this.dependency=e,this.value=r(e.get()),this.dependencyListener=e.registerListener({callback:n=>this.set(r(n))})}get(){return this.value}set(e){this.value=e,this.notifyListeners(e)}destroy(){this.dependency.unregisterListener(this.dependencyListener)}};var jc=class extends Cs{constructor(e,r){super(),this.plugin=e,this.mounted=!1,this.svelteComponent=r}setValue(e){var r;(r=this.svelteComponentInstance)==null||r.setValue(e)}mount(e,r,n={}){let i=Object.assign({plugin:this.plugin,value:r,onValueChange:a=>{this.notifyListeners(a)}},n);this.svelteComponentInstance=new this.svelteComponent({target:e,props:i}),this.mounted=!0}unmount(){var e;this.unregisterAllListeners(),(e=this.svelteComponentInstance)==null||e.$destroy(),this.mounted=!1}isMounted(){return this.mounted}};var Ya=class{constructor(){this.mounted=!1}isMounted(){return this.mounted}getTargetEl(){return this.targetEl}mount(e){if(this.mounted||this.targetEl)throw new Error("Mountable is already mounted");this.mounted=!0,this.targetEl=e,this.onMount(e)}unmount(){if(!this.mounted||!this.targetEl)throw new Error("Mountable is not mounted");this.mounted=!1,this.onUnmount(this.targetEl),this.targetEl=void 0}};var Lr=class extends Ya{constructor(e){super(),this.base=e,this.inputSignal=new pn(void 0),this.inputFieldComponent=new jc(this.base.plugin,this.getSvelteComponent()),this.computedSignal=new Zc(this.inputSignal,r=>{let n=this.filterValue(r);return n!==void 0?n:this.getDefaultValue()})}destroy(){this.inputFieldComponent.isMounted()&&this.unmount()}reverseMapValue(e){let r=this.rawReverseMapValue(e);if(r!==void 0)return r;let n=this.rawReverseMapValue(this.getDefaultValue());return n!==void 0?n:this.getFallbackDefaultValue()}mapValue(e){return this.rawMapValue(e)}getValue(){return this.computedSignal.get()}getInternalValue(){return this.reverseMapValue(this.getValue())}setValue(e){this.computedSignal.set(e),this.notifySubscription(e)}setInternalValue(e){this.setValue(this.mapValue(e))}notifySubscription(e){var r;(r=this.metadataSubscription)==null||r.update(e)}getDefaultValue(){let e=this.base.getArgument("defaultValue");if(e===void 0)return this.mapValue(this.getFallbackDefaultValue());let r=this.filterValue(e.value);return r!==void 0?r:this.mapValue(this.getFallbackDefaultValue())}getMountArgs(){return{}}onMount(e){this.computedSignal.registerListener({callback:n=>this.inputFieldComponent.setValue(this.reverseMapValue(n))});let r=this.base.getBindTarget();r&&(this.inputFieldComponent.registerListener({callback:n=>{this.notifySubscription(this.mapValue(n))}}),this.metadataSubscription=this.base.plugin.metadataManager.subscribe(this.base.getUuid(),this.inputSignal,r,()=>this.base.unmount())),this.inputFieldComponent.mount(e,this.reverseMapValue(this.getValue()),this.getMountArgs())}onUnmount(){var e;this.computedSignal.unregisterAllListeners(),(e=this.metadataSubscription)==null||e.unsubscribe(),this.inputFieldComponent.unmount()}};function Ke(){}function q8(t,e){for(let r in e)t[r]=e[r];return t}function Bd(t){return t()}function Jc(){return Object.create(null)}function wr(t){t.forEach(Bd)}function Xc(t){return typeof t=="function"}function mr(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}var $c;function Pd(t,e){return t===e?!0:($c||($c=document.createElement("a")),$c.href=e,t===$c.href)}function LS(t){return Object.keys(t).length===0}function Vu(t,e,r,n){if(t){let i=US(t,e,r,n);return t[0](i)}}function US(t,e,r,n){return t[1]&&n?q8(r.ctx.slice(),t[1](n(e))):r.ctx}function zu(t,e,r,n){if(t[2]&&n){let i=t[2](n(r));if(e.dirty===void 0)return i;if(typeof i=="object"){let a=[],o=Math.max(e.dirty.length,i.length);for(let c=0;c<o;c+=1)a[c]=e.dirty[c]|i[c];return a}return e.dirty|i}return e.dirty}function Hu(t,e,r,n,i,a){if(i){let o=US(e,r,n,a);t.p(o,i)}}function Yu(t){if(t.ctx.length>32){let e=[],r=t.ctx.length/32;for(let n=0;n<r;n++)e[n]=-1;return e}return-1}var Gu=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;var Qc=class t{constructor(e){Wt(this,"_listeners","WeakMap"in Gu?new WeakMap:void 0);Wt(this,"_observer");Wt(this,"options");this.options=e}observe(e,r){return this._listeners.set(e,r),this._getObserver().observe(e,this.options),()=>{this._listeners.delete(e),this._observer.unobserve(e)}}_getObserver(){var e;return(e=this._observer)!=null?e:this._observer=new ResizeObserver(r=>{var n;for(let i of r)t.entries.set(i.target,i),(n=this._listeners.get(i.target))==null||n(i)})}};Qc.entries="WeakMap"in Gu?new WeakMap:void 0;var qS=!1;function VS(){qS=!0}function zS(){qS=!1}function ke(t,e){t.appendChild(e)}function Qi(t,e,r){let n=HS(t);if(!n.getElementById(e)){let i=Ee("style");i.id=e,i.textContent=r,H8(n,i)}}function HS(t){if(!t)return document;let e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function H8(t,e){return ke(t.head||t,e),e.sheet}function Te(t,e,r){t.insertBefore(e,r||null)}function Me(t){t.parentNode&&t.parentNode.removeChild(t)}function Tt(t,e){for(let r=0;r<t.length;r+=1)t[r]&&t[r].d(e)}function Ee(t){return document.createElement(t)}function Gr(t){return document.createTextNode(t)}function vr(){return Gr(" ")}function mn(){return Gr("")}function qe(t,e,r,n){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r,n)}function ie(t,e,r){r==null?t.removeAttribute(e):t.getAttribute(e)!==r&&t.setAttribute(e,r)}function xa(t){return t===""?null:+t}function YS(t){return Array.from(t.childNodes)}function Kr(t,e){e=""+e,t.data!==e&&(t.data=e)}function Vr(t,e){t.value=e==null?"":e}function dn(t,e,r){for(let n=0;n<t.options.length;n+=1){let i=t.options[n];if(i.__value===e){i.selected=!0;return}}(!r||e!==void 0)&&(t.selectedIndex=-1)}function Ki(t){let e=t.querySelector(":checked");return e&&e.__value}function gt(t,e,r){t.classList.toggle(e,!!r)}function GS(t){let e={};return t.childNodes.forEach(r=>{e[r.slot||"default"]=!0}),e}var Ga;function ba(t){Ga=t}function ZS(){if(!Ga)throw new Error("Function called outside component initialization");return Ga}function Ri(t){ZS().$$.on_mount.push(t)}function jS(t,e){let r=t.$$.callbacks[e.type];r&&r.slice().forEach(n=>n.call(this,e))}var Fo=[];var ki=[],Fs=[],kd=[],$8=Promise.resolve(),Ld=!1;function $S(){Ld||(Ld=!0,$8.then(Kc))}function zn(t){Fs.push(t)}function JS(t){kd.push(t)}var Rd=new Set,Ts=0;function Kc(){if(Ts!==0)return;let t=Ga;do{try{for(;Ts<Fo.length;){let e=Fo[Ts];Ts++,ba(e),J8(e.$$)}}catch(e){throw Fo.length=0,Ts=0,e}for(ba(null),Fo.length=0,Ts=0;ki.length;)ki.pop()();for(let e=0;e<Fs.length;e+=1){let r=Fs[e];Rd.has(r)||(Rd.add(r),r())}Fs.length=0}while(Fo.length);for(;kd.length;)kd.pop()();Ld=!1,Rd.clear(),ba(t)}function J8(t){if(t.fragment!==null){t.update(),wr(t.before_update);let e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(zn)}}function XS(t){let e=[],r=[];Fs.forEach(n=>t.indexOf(n)===-1?e.push(n):r.push(n)),r.forEach(n=>n()),Fs=e}var ef=new Set,Io;function qt(){Io={r:0,c:[],p:Io}}function Vt(){Io.r||wr(Io.c),Io=Io.p}function We(t,e){t&&t.i&&(ef.delete(t),t.i(e))}function rr(t,e,r,n){if(t&&t.o){if(ef.has(t))return;ef.add(t),Io.c.push(()=>{ef.delete(t),n&&(r&&t.d(1),n())}),t.o(e)}else n&&n()}function Ur(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}var X8=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],Q8=new Set([...X8]);function QS(t,e,r){let n=t.$$.props[e];n!==void 0&&(t.$$.bound[n]=r,r(t.$$.ctx[n]))}function Xr(t){t&&t.c()}function Wr(t,e,r){let{fragment:n,after_update:i}=t.$$;n&&n.m(e,r),zn(()=>{let a=t.$$.on_mount.map(Bd).filter(Xc);t.$$.on_destroy?t.$$.on_destroy.push(...a):wr(a),t.$$.on_mount=[]}),i.forEach(zn)}function Zr(t,e){let r=t.$$;r.fragment!==null&&(XS(r.after_update),wr(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function eU(t,e){t.$$.dirty[0]===-1&&(Fo.push(t),$S(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function dr(t,e,r,n,i,a,o=null,c=[-1]){let l=Ga;ba(t);let s=t.$$={fragment:null,ctx:[],props:a,update:Ke,not_equal:i,bound:Jc(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:Jc(),dirty:c,skip_bound:!1,root:e.target||l.$$.root};o&&o(s.root);let u=!1;if(s.ctx=r?r(t,e.props||{},(f,p,...m)=>{let v=m.length?m[0]:p;return s.ctx&&i(s.ctx[f],s.ctx[f]=v)&&(!s.skip_bound&&s.bound[f]&&s.bound[f](v),u&&eU(t,f)),p}):[],s.update(),u=!0,wr(s.before_update),s.fragment=n?n(s.ctx):!1,e.target){if(e.hydrate){VS();let f=YS(e.target);s.fragment&&s.fragment.l(f),f.forEach(Me)}else s.fragment&&s.fragment.c();e.intro&&We(t.$$.fragment),Wr(t,e.target,e.anchor),zS(),Kc()}ba(l)}var rU;typeof HTMLElement=="function"&&(rU=class extends HTMLElement{constructor(e,r,n){super();Wt(this,"$$ctor");Wt(this,"$$s");Wt(this,"$$c");Wt(this,"$$cn",!1);Wt(this,"$$d",{});Wt(this,"$$r",!1);Wt(this,"$$p_d",{});Wt(this,"$$l",{});Wt(this,"$$l_u",new Map);this.$$ctor=e,this.$$s=r,n&&this.attachShadow({mode:"open"})}addEventListener(e,r,n){if(this.$$l[e]=this.$$l[e]||[],this.$$l[e].push(r),this.$$c){let i=this.$$c.$on(e,r);this.$$l_u.set(r,i)}super.addEventListener(e,r,n)}removeEventListener(e,r,n){if(super.removeEventListener(e,r,n),this.$$c){let i=this.$$l_u.get(r);i&&(i(),this.$$l_u.delete(r))}}connectedCallback(){return Fr(this,null,function*(){if(this.$$cn=!0,!this.$$c){let e=function(a){return()=>{let o;return{c:function(){o=Ee("slot"),a!=="default"&&ie(o,"name",a)},m:function(s,u){Te(s,o,u)},d:function(s){s&&Me(o)}}}};if(yield Promise.resolve(),!this.$$cn||this.$$c)return;let r={},n=GS(this);for(let a of this.$$s)a in n&&(r[a]=[e(a)]);for(let a of this.attributes){let o=this.$$g_p(a.name);o in this.$$d||(this.$$d[o]=Ud(o,a.value,this.$$p_d,"toProp"))}for(let a in this.$$p_d)!(a in this.$$d)&&this[a]!==void 0&&(this.$$d[a]=this[a],delete this[a]);this.$$c=new this.$$ctor({target:this.shadowRoot||this,props:br(Ae({},this.$$d),{$$slots:r,$$scope:{ctx:[]}})});let i=()=>{this.$$r=!0;for(let a in this.$$p_d)if(this.$$d[a]=this.$$c.$$.ctx[this.$$c.$$.props[a]],this.$$p_d[a].reflect){let o=Ud(a,this.$$d[a],this.$$p_d,"toAttribute");o==null?this.removeAttribute(this.$$p_d[a].attribute||a):this.setAttribute(this.$$p_d[a].attribute||a,o)}this.$$r=!1};this.$$c.$$.after_update.push(i),i();for(let a in this.$$l)for(let o of this.$$l[a]){let c=this.$$c.$on(a,o);this.$$l_u.set(o,c)}this.$$l={}}})}attributeChangedCallback(e,r,n){var i;this.$$r||(e=this.$$g_p(e),this.$$d[e]=Ud(e,n,this.$$p_d,"toProp"),(i=this.$$c)==null||i.$set({[e]:this.$$d[e]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{this.$$cn||(this.$$c.$destroy(),this.$$c=void 0)})}$$g_p(e){return Object.keys(this.$$p_d).find(r=>this.$$p_d[r].attribute===e||!this.$$p_d[r].attribute&&r.toLowerCase()===e)||e}});function Ud(t,e,r,n){var a;let i=(a=r[t])==null?void 0:a.type;if(e=i==="Boolean"&&typeof e!="boolean"?e!=null:e,!n||!r[t])return e;if(n==="toAttribute")switch(i){case"Object":case"Array":return e==null?null:JSON.stringify(e);case"Boolean":return e?"":null;case"Number":return e==null?null:e;default:return e}else switch(i){case"Object":case"Array":return e&&JSON.parse(e);case"Boolean":return e;case"Number":return e!=null?+e:e;default:return e}}var cr=class{constructor(){Wt(this,"$$");Wt(this,"$$set")}$destroy(){Zr(this,1),this.$destroy=Ke}$on(e,r){if(!Xc(r))return Ke;let n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(r),()=>{let i=n.indexOf(r);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!LS(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}};var KS="4";typeof window!="undefined"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(KS);function tU(t){let e,r,n,i;return{c(){e=Ee("div"),r=Ee("input"),ie(r,"type","checkbox"),ie(r,"tabindex","-1"),r.checked=t[0],ie(e,"class","checkbox-container"),ie(e,"role","switch"),ie(e,"tabindex","0"),ie(e,"aria-checked",t[0]),gt(e,"is-enabled",t[0])},m(a,o){Te(a,e,o),ke(e,r),n||(i=[qe(e,"click",t[5]),qe(e,"keypress",t[6])],n=!0)},p(a,[o]){o&1&&(r.checked=a[0]),o&1&&ie(e,"aria-checked",a[0]),o&1&&gt(e,"is-enabled",a[0])},i:Ke,o:Ke,d(a){a&&Me(e),n=!1,wr(i)}}}function nU(t,e,r){let{value:n}=e,{onValueChange:i}=e;function a(u){r(0,n=u)}function o(){r(0,n=!n),i(n)}function c(u){u.key===" "&&o()}let l=()=>o(),s=u=>c(u);return t.$$set=u=>{"value"in u&&r(0,n=u.value),"onValueChange"in u&&r(3,i=u.onValueChange)},[n,o,c,i,a,l,s]}var qd=class extends cr{constructor(e){super(),dr(this,e,nU,tU,mr,{value:0,onValueChange:3,setValue:4})}get setValue(){return this.$$.ctx[4]}},eA=qd;var rf=class extends Lr{constructor(e){var r,n,i,a;super(e),this.onValue=(n=(r=this.base.getArgument("onValue"))==null?void 0:r.value)!=null?n:!0,this.offValue=(a=(i=this.base.getArgument("offValue"))==null?void 0:i.value)!=null?a:!1}filterValue(e){return e===this.onValue||e===this.offValue?Ha(e):void 0}getFallbackDefaultValue(){return!1}getSvelteComponent(){return eA}rawReverseMapValue(e){return e===this.onValue?!0:(e===this.offValue,!1)}rawMapValue(e){return e?this.onValue:this.offValue}};function rA(t){let e,r=tA(t[0].length,t[2])+"",n,i;return{c(){e=Ee("span"),n=Gr(r),ie(e,"class",i=`mb-content-limit-indicator ${t[0].length>t[2]?"mb-content-limit-indicator-overflow":""}`)},m(a,o){Te(a,e,o),ke(e,n)},p(a,o){o&5&&r!==(r=tA(a[0].length,a[2])+"")&&Kr(n,r),o&5&&i!==(i=`mb-content-limit-indicator ${a[0].length>a[2]?"mb-content-limit-indicator-overflow":""}`)&&ie(e,"class",i)},d(a){a&&Me(e)}}}function iU(t){let e,r,n,i,a,o=t[2]!==void 0&&rA(t);return{c(){e=Ee("input"),r=vr(),o&&o.c(),n=mn(),ie(e,"type","text"),ie(e,"tabindex","0"),ie(e,"placeholder",t[1]),ie(e,"maxlength",t[2])},m(c,l){Te(c,e,l),Vr(e,t[0]),Te(c,r,l),o&&o.m(c,l),Te(c,n,l),i||(a=[qe(e,"input",t[6]),qe(e,"input",t[7])],i=!0)},p(c,[l]){l&2&&ie(e,"placeholder",c[1]),l&4&&ie(e,"maxlength",c[2]),l&1&&e.value!==c[0]&&Vr(e,c[0]),c[2]!==void 0?o?o.p(c,l):(o=rA(c),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},i:Ke,o:Ke,d(c){c&&(Me(e),Me(r),Me(n)),o&&o.d(c),i=!1,wr(a)}}}function tA(t,e){let r=e.toString();return`${t.toString().padStart(r.length,"0")}/${r}`}function aU(t,e,r){let{plugin:n}=e,{value:i}=e,{placeholder:a}=e,{limit:o}=e,{onValueChange:c}=e;function l(f){r(0,i=f)}function s(){i=this.value,r(0,i)}let u=()=>c(i);return t.$$set=f=>{"plugin"in f&&r(4,n=f.plugin),"value"in f&&r(0,i=f.value),"placeholder"in f&&r(1,a=f.placeholder),"limit"in f&&r(2,o=f.limit),"onValueChange"in f&&r(3,c=f.onValueChange)},[i,a,o,c,n,l,s,u]}var Vd=class extends cr{constructor(e){super(),dr(this,e,aU,iU,mr,{plugin:4,value:0,placeholder:1,limit:2,onValueChange:3,setValue:5})}get setValue(){return this.$$.ctx[5]}},nA=Vd;var tf=class extends Lr{filterValue(e){return _s(e)}getFallbackDefaultValue(){return""}getSvelteComponent(){return nA}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){var e,r,n;return{placeholder:(r=(e=this.base.getArgument("placeholder"))==null?void 0:e.value)!=null?r:"Text",limit:(n=this.base.getArgument("limit"))==null?void 0:n.value}}};function oU(t){let e,r,n;return{c(){e=Ee("input"),ie(e,"class","mb-slider-input"),ie(e,"type","range"),ie(e,"tabindex","0"),ie(e,"min",t[1]),ie(e,"max",t[2]),ie(e,"step",t[3])},m(i,a){Te(i,e,a),Vr(e,t[0]),r||(n=[qe(e,"change",t[9]),qe(e,"input",t[9]),qe(e,"input",t[10])],r=!0)},p(i,a){a&2&&ie(e,"min",i[1]),a&4&&ie(e,"max",i[2]),a&8&&ie(e,"step",i[3]),a&1&&Vr(e,i[0])},d(i){i&&Me(e),r=!1,wr(n)}}}function sU(t){let e,r,n,i,a,o,c,l,s;return{c(){e=Ee("span"),r=Gr(t[1]),n=vr(),i=Ee("input"),a=vr(),o=Ee("span"),c=Gr(t[2]),ie(e,"class","mb-slider-input-label"),ie(i,"class","mb-slider-input"),ie(i,"type","range"),ie(i,"tabindex","0"),ie(i,"min",t[1]),ie(i,"max",t[2]),ie(i,"step",t[3]),ie(o,"class","mb-slider-input-label")},m(u,f){Te(u,e,f),ke(e,r),Te(u,n,f),Te(u,i,f),Vr(i,t[0]),Te(u,a,f),Te(u,o,f),ke(o,c),l||(s=[qe(i,"change",t[7]),qe(i,"input",t[7]),qe(i,"input",t[8])],l=!0)},p(u,f){f&2&&Kr(r,u[1]),f&2&&ie(i,"min",u[1]),f&4&&ie(i,"max",u[2]),f&8&&ie(i,"step",u[3]),f&1&&Vr(i,u[0]),f&4&&Kr(c,u[2])},d(u){u&&(Me(e),Me(n),Me(i),Me(a),Me(o)),l=!1,wr(s)}}}function uU(t){let e;function r(a,o){return a[4]?sU:oU}let n=r(t,-1),i=n(t);return{c(){i.c(),e=mn()},m(a,o){i.m(a,o),Te(a,e,o)},p(a,[o]){n===(n=r(a,o))&&i?i.p(a,o):(i.d(1),i=n(a),i&&(i.c(),i.m(e.parentNode,e)))},i:Ke,o:Ke,d(a){a&&Me(e),i.d(a)}}}function lU(t,e,r){let{value:n}=e,{minValue:i}=e,{maxValue:a}=e,{stepSize:o}=e,{addLabels:c}=e,{onValueChange:l}=e;function s(v){r(0,n=v)}function u(){n=xa(this.value),r(0,n)}let f=()=>l(n);function p(){n=xa(this.value),r(0,n)}let m=()=>l(n);return t.$$set=v=>{"value"in v&&r(0,n=v.value),"minValue"in v&&r(1,i=v.minValue),"maxValue"in v&&r(2,a=v.maxValue),"stepSize"in v&&r(3,o=v.stepSize),"addLabels"in v&&r(4,c=v.addLabels),"onValueChange"in v&&r(5,l=v.onValueChange)},[n,i,a,o,c,l,s,u,f,p,m]}var zd=class extends cr{constructor(e){super(),dr(this,e,lU,uU,mr,{value:0,minValue:1,maxValue:2,stepSize:3,addLabels:4,onValueChange:5,setValue:6})}get setValue(){return this.$$.ctx[6]}},iA=zd;var nf=class extends Lr{constructor(e){var r,n,i,a,o,c;if(super(e),this.minValue=(n=(r=this.base.getArgument("minValue"))==null?void 0:r.value)!=null?n:0,this.maxValue=(a=(i=this.base.getArgument("maxValue"))==null?void 0:i.value)!=null?a:100,this.stepSize=(c=(o=this.base.getArgument("stepSize"))==null?void 0:o.value)!=null?c:1,this.minValue>=this.maxValue)throw new Pt({errorLevel:"ERROR",effect:"can not create slider input field",cause:`minValue (${this.maxValue}) must be less than maxValue (${this.maxValue})`})}filterValue(e){return sc(Ns(e),this.minValue,this.maxValue)}getFallbackDefaultValue(){return this.minValue}getSvelteComponent(){return iA}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){var e;return{minValue:this.minValue,maxValue:this.maxValue,stepSize:this.stepSize,addLabels:((e=this.base.getArgument("addLabels"))==null?void 0:e.value)===!0}}};function cU(t){let e,r,n;return{c(){e=Ee("textarea"),ie(e,"tabindex","0"),ie(e,"placeholder",t[1]),ie(e,"maxlength",t[2])},m(i,a){Te(i,e,a),Vr(e,t[0]),r||(n=[qe(e,"input",t[5]),qe(e,"input",t[6])],r=!0)},p(i,[a]){a&2&&ie(e,"placeholder",i[1]),a&4&&ie(e,"maxlength",i[2]),a&1&&Vr(e,i[0])},i:Ke,o:Ke,d(i){i&&Me(e),r=!1,wr(n)}}}function fU(t,e,r){let{value:n}=e,{placeholder:i}=e,{limit:a}=e,{onValueChange:o}=e;function c(u){r(0,n=u)}function l(){n=this.value,r(0,n)}let s=()=>o(n);return t.$$set=u=>{"value"in u&&r(0,n=u.value),"placeholder"in u&&r(1,i=u.placeholder),"limit"in u&&r(2,a=u.limit),"onValueChange"in u&&r(3,o=u.onValueChange)},[n,i,a,o,c,l,s]}var Hd=class extends cr{constructor(e){super(),dr(this,e,fU,cU,mr,{value:0,placeholder:1,limit:2,onValueChange:3,setValue:4})}get setValue(){return this.$$.ctx[4]}},aA=Hd;var af=class extends Lr{filterValue(e){return _s(e)}getFallbackDefaultValue(){return""}getSvelteComponent(){return aA}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){var e,r,n;return{placeholder:(r=(e=this.base.getArgument("placeholder"))==null?void 0:e.value)!=null?r:"Text",limit:(n=this.base.getArgument("limit"))==null?void 0:n.value}}};function pU(t){let e,r;return{c(){e=Ee("a"),r=Gr(t[2]),ie(e,"data-href",t[2]),ie(e,"href",t[2]),ie(e,"class",t[1]),ie(e,"target","_blank"),ie(e,"rel","noopener")},m(n,i){Te(n,e,i),ke(e,r)},p(n,i){i&4&&Kr(r,n[2]),i&4&&ie(e,"data-href",n[2]),i&4&&ie(e,"href",n[2]),i&2&&ie(e,"class",n[1])},d(n){n&&Me(e)}}}function mU(t){let e,r=t[0].alias+"",n;return{c(){e=Ee("a"),n=Gr(r),ie(e,"data-href",t[2]),ie(e,"href",t[2]),ie(e,"class",t[1]),ie(e,"target","_blank"),ie(e,"rel","noopener"),ie(e,"aria-label",t[2])},m(i,a){Te(i,e,a),ke(e,n)},p(i,a){a&1&&r!==(r=i[0].alias+"")&&Kr(n,r),a&4&&ie(e,"data-href",i[2]),a&4&&ie(e,"href",i[2]),a&2&&ie(e,"class",i[1]),a&4&&ie(e,"aria-label",i[2])},d(i){i&&Me(e)}}}function dU(t){let e;function r(a,o){return a[0].alias?mU:pU}let n=r(t,-1),i=n(t);return{c(){i.c(),e=mn()},m(a,o){i.m(a,o),Te(a,e,o)},p(a,[o]){n===(n=r(a,o))&&i?i.p(a,o):(i.d(1),i=n(a),i&&(i.c(),i.m(e.parentNode,e)))},i:Ke,o:Ke,d(a){a&&Me(e),i.d(a)}}}function hU(t,e,r){let n,i,{mdLink:a}=e;return t.$$set=o=>{"mdLink"in o&&r(0,a=o.mdLink)},t.$$.update=()=>{t.$$.dirty&1&&r(2,n=a.block?`${a.target}#${a.block}`:a.target),t.$$.dirty&1&&r(1,i=a.internal?"internal-link":"external-link")},[a,i,n]}var Yd=class extends cr{constructor(e){super(),dr(this,e,hU,dU,mr,{mdLink:0})}},Wa=Yd;var vU=t=>({element:t&1}),oA=t=>({element:t[0][t[0].length-1]});function sA(t,e,r){let n=t.slice();return n[3]=e[r],n}var gU=t=>({element:t&1}),uA=t=>({element:t[3]});function lA(t){let e,r,n,i,a,o=t[2].default,c=Vu(o,t,t[1],uA);return{c(){c&&c.c(),e=vr(),r=Ee("span"),r.textContent=",",n=vr(),i=Ee("span")},m(l,s){c&&c.m(l,s),Te(l,e,s),Te(l,r,s),Te(l,n,s),Te(l,i,s),a=!0},p(l,s){c&&c.p&&(!a||s&3)&&Hu(c,o,l,l[1],a?zu(o,l[1],s,gU):Yu(l[1]),uA)},i(l){a||(We(c,l),a=!0)},o(l){rr(c,l),a=!1},d(l){l&&(Me(e),Me(r),Me(n),Me(i)),c&&c.d(l)}}}function yU(t){let e,r,n=Ur(t[0].slice(0,t[0].length-1)),i=[];for(let l=0;l<n.length;l+=1)i[l]=lA(sA(t,n,l));let a=l=>rr(i[l],1,1,()=>{i[l]=null}),o=t[2].default,c=Vu(o,t,t[1],oA);return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=vr(),c&&c.c()},m(l,s){for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(l,s);Te(l,e,s),c&&c.m(l,s),r=!0},p(l,[s]){if(s&3){n=Ur(l[0].slice(0,l[0].length-1));let u;for(u=0;u<n.length;u+=1){let f=sA(l,n,u);i[u]?(i[u].p(f,s),We(i[u],1)):(i[u]=lA(f),i[u].c(),We(i[u],1),i[u].m(e.parentNode,e))}for(qt(),u=n.length;u<i.length;u+=1)a(u);Vt()}c&&c.p&&(!r||s&3)&&Hu(c,o,l,l[1],r?zu(o,l[1],s,vU):Yu(l[1]),oA)},i(l){if(!r){for(let s=0;s<n.length;s+=1)We(i[s]);We(c,l),r=!0}},o(l){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)rr(i[s]);rr(c,l),r=!1},d(l){l&&Me(e),Tt(i,l),c&&c.d(l)}}}function xU(t,e,r){let{$$slots:n={},$$scope:i}=e,{elements:a=[]}=e;return t.$$set=o=>{"elements"in o&&r(0,a=o.elements),"$$scope"in o&&r(1,i=o.$$scope)},[a,i,n]}var Gd=class extends cr{constructor(e){super(),dr(this,e,xU,yU,mr,{elements:0})}},of=Gd;function bU(t){let e,r,n;return r=new Wa({props:{mdLink:t[0]}}),{c(){e=Ee("span"),Xr(r.$$.fragment)},m(i,a){Te(i,e,a),Wr(r,e,null),n=!0},p(i,a){let o={};a&1&&(o.mdLink=i[0]),r.$set(o)},i(i){n||(We(r.$$.fragment,i),n=!0)},o(i){rr(r.$$.fragment,i),n=!1},d(i){i&&Me(e),Zr(r)}}}function wU(t){let e,r,n;return r=new of({props:{elements:t[0],$$slots:{default:[NU,({element:i})=>({2:i}),({element:i})=>i?4:0]},$$scope:{ctx:t}}}),{c(){e=Ee("span"),Xr(r.$$.fragment)},m(i,a){Te(i,e,a),Wr(r,e,null),n=!0},p(i,a){let o={};a&1&&(o.elements=i[0]),a&12&&(o.$$scope={dirty:a,ctx:i}),r.$set(o)},i(i){n||(We(r.$$.fragment,i),n=!0)},o(i){rr(r.$$.fragment,i),n=!1},d(i){i&&Me(e),Zr(r)}}}function DU(t){let e,r;return{c(){e=Ee("span"),r=Gr(t[0])},m(n,i){Te(n,e,i),ke(e,r)},p(n,i){i&1&&Kr(r,n[0])},i:Ke,o:Ke,d(n){n&&Me(e)}}}function SU(t){let e,r;return e=new Wa({props:{mdLink:t[2]}}),{c(){Xr(e.$$.fragment)},m(n,i){Wr(e,n,i),r=!0},p(n,i){let a={};i&4&&(a.mdLink=n[2]),e.$set(a)},i(n){r||(We(e.$$.fragment,n),r=!0)},o(n){rr(e.$$.fragment,n),r=!1},d(n){Zr(e,n)}}}function AU(t){let e,r=t[2]+"",n;return{c(){e=Ee("span"),n=Gr(r)},m(i,a){Te(i,e,a),ke(e,n)},p(i,a){a&4&&r!==(r=i[2]+"")&&Kr(n,r)},i:Ke,o:Ke,d(i){i&&Me(e)}}}function NU(t){let e,r,n,i,a=[AU,SU],o=[];function c(l,s){return typeof l[2]=="string"?0:1}return e=c(t,-1),r=o[e]=a[e](t),{c(){r.c(),n=mn()},m(l,s){o[e].m(l,s),Te(l,n,s),i=!0},p(l,s){let u=e;e=c(l,s),e===u?o[e].p(l,s):(qt(),rr(o[u],1,1,()=>{o[u]=null}),Vt(),r=o[e],r?r.p(l,s):(r=o[e]=a[e](l),r.c()),We(r,1),r.m(n.parentNode,n))},i(l){i||(We(r),i=!0)},o(l){rr(r),i=!1},d(l){l&&Me(n),o[e].d(l)}}}function _U(t){let e,r,n,i,a,o=[DU,wU,bU],c=[];function l(s,u){return u&1&&(e=null),typeof s[0]=="string"?0:(e==null&&(e=!!Array.isArray(s[0])),e?1:2)}return r=l(t,-1),n=c[r]=o[r](t),{c(){n.c(),i=mn()},m(s,u){c[r].m(s,u),Te(s,i,u),a=!0},p(s,[u]){let f=r;r=l(s,u),r===f?c[r].p(s,u):(qt(),rr(c[f],1,1,()=>{c[f]=null}),Vt(),n=c[r],n?n.p(s,u):(n=c[r]=o[r](s),n.c()),We(n,1),n.m(i.parentNode,i))},i(s){a||(We(n),a=!0)},o(s){rr(n),a=!1},d(s){s&&Me(i),c[r].d(s)}}}function EU(t,e,r){let n,{value:i=void 0}=e;return t.$$set=a=>{"value"in a&&r(1,i=a.value)},t.$$.update=()=>{t.$$.dirty&2&&r(0,n=IS(i))},[n,i]}var Wd=class extends cr{constructor(e){super(),dr(this,e,EU,_U,mr,{value:1})}},bi=Wd;function cA(t,e,r){let n=t.slice();return n[9]=e[r],n}function fA(t){let e,r,n,i,a,o;r=new bi({props:{value:t[9].name}});function c(){return t[7](t[9])}function l(...s){return t[8](t[9],...s)}return{c(){e=Ee("div"),Xr(r.$$.fragment),n=vr(),ie(e,"class","mb-select-input-element"),ie(e,"role","button"),ie(e,"tabindex","0"),gt(e,"is-selected",t[9].value===t[0])},m(s,u){Te(s,e,u),Wr(r,e,null),ke(e,n),i=!0,a||(o=[qe(e,"click",c),qe(e,"keypress",l)],a=!0)},p(s,u){t=s;let f={};u&2&&(f.value=t[9].name),r.$set(f),(!i||u&3)&&gt(e,"is-selected",t[9].value===t[0])},i(s){i||(We(r.$$.fragment,s),i=!0)},o(s){rr(r.$$.fragment,s),i=!1},d(s){s&&Me(e),Zr(r),a=!1,wr(o)}}}function MU(t){let e,r,n=Ur(t[1]),i=[];for(let o=0;o<n.length;o+=1)i[o]=fA(cA(t,n,o));let a=o=>rr(i[o],1,1,()=>{i[o]=null});return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=mn()},m(o,c){for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(o,c);Te(o,e,c),r=!0},p(o,[c]){if(c&15){n=Ur(o[1]);let l;for(l=0;l<n.length;l+=1){let s=cA(o,n,l);i[l]?(i[l].p(s,c),We(i[l],1)):(i[l]=fA(s),i[l].c(),We(i[l],1),i[l].m(e.parentNode,e))}for(qt(),l=n.length;l<i.length;l+=1)a(l);Vt()}},i(o){if(!r){for(let c=0;c<n.length;c+=1)We(i[c]);r=!0}},o(o){i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)rr(i[c]);r=!1},d(o){o&&Me(e),Tt(i,o)}}}function CU(t,e,r){let{plugin:n}=e,{value:i}=e,{options:a}=e,{onValueChange:o}=e;function c(p){r(0,i=p)}function l(p){i===p?r(0,i=null):r(0,i=p),o(i)}function s(p,m){p.key===" "&&l(m)}let u=p=>l(p.value),f=(p,m)=>s(m,p.value);return t.$$set=p=>{"plugin"in p&&r(4,n=p.plugin),"value"in p&&r(0,i=p.value),"options"in p&&r(1,a=p.options),"onValueChange"in p&&r(5,o=p.onValueChange)},[i,a,l,s,n,o,c,u,f]}var Zd=class extends cr{constructor(e){super(),dr(this,e,CU,MU,mr,{plugin:4,value:0,options:1,onValueChange:5,setValue:6})}get setValue(){return this.$$.ctx[6]}},pA=Zd;var sf=class extends Lr{constructor(e){super(e),this.options=this.base.getArguments("option")}filterValue(e){return Ha(e)}getFallbackDefaultValue(){return null}getSvelteComponent(){return pA}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{options:this.options}}};function mA(t,e,r){let n=t.slice();return n[9]=e[r],n}function dA(t){let e,r,n,i,a,o;r=new bi({props:{value:t[9].name}});function c(){return t[7](t[9])}function l(...s){return t[8](t[9],...s)}return{c(){e=Ee("div"),Xr(r.$$.fragment),n=vr(),ie(e,"class","mb-select-input-element"),ie(e,"role","button"),ie(e,"tabindex","0"),gt(e,"is-selected",t[0].includes(t[9].value))},m(s,u){Te(s,e,u),Wr(r,e,null),ke(e,n),i=!0,a||(o=[qe(e,"click",c),qe(e,"keypress",l)],a=!0)},p(s,u){t=s;let f={};u&2&&(f.value=t[9].name),r.$set(f),(!i||u&3)&&gt(e,"is-selected",t[0].includes(t[9].value))},i(s){i||(We(r.$$.fragment,s),i=!0)},o(s){rr(r.$$.fragment,s),i=!1},d(s){s&&Me(e),Zr(r),a=!1,wr(o)}}}function TU(t){let e,r,n=Ur(t[1]),i=[];for(let o=0;o<n.length;o+=1)i[o]=dA(mA(t,n,o));let a=o=>rr(i[o],1,1,()=>{i[o]=null});return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=mn()},m(o,c){for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(o,c);Te(o,e,c),r=!0},p(o,[c]){if(c&15){n=Ur(o[1]);let l;for(l=0;l<n.length;l+=1){let s=mA(o,n,l);i[l]?(i[l].p(s,c),We(i[l],1)):(i[l]=dA(s),i[l].c(),We(i[l],1),i[l].m(e.parentNode,e))}for(qt(),l=n.length;l<i.length;l+=1)a(l);Vt()}},i(o){if(!r){for(let c=0;c<n.length;c+=1)We(i[c]);r=!0}},o(o){i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)rr(i[c]);r=!1},d(o){o&&Me(e),Tt(i,o)}}}function FU(t,e,r){let{plugin:n}=e,{value:i}=e,{options:a}=e,{onValueChange:o}=e;function c(p){r(0,i=p)}function l(p){i.includes(p)?r(0,i=i.filter(m=>m!==p)):(i.push(p),r(0,i)),o(i)}function s(p,m){p.key===" "&&l(m)}let u=p=>l(p.value),f=(p,m)=>s(m,p.value);return t.$$set=p=>{"plugin"in p&&r(4,n=p.plugin),"value"in p&&r(0,i=p.value),"options"in p&&r(1,a=p.options),"onValueChange"in p&&r(5,o=p.onValueChange)},[i,a,l,s,n,o,c,u,f]}var jd=class extends cr{constructor(e){super(),dr(this,e,FU,TU,mr,{plugin:4,value:0,options:1,onValueChange:5,setValue:6})}get setValue(){return this.$$.ctx[6]}},hA=jd;var uf=class extends Lr{constructor(e){super(e),this.options=this.base.getArguments("option")}filterValue(e){return Xi(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return hA}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{options:this.options}}};function vA(t){let e;return{c(){e=Ee("div"),ie(e,"class","mb-icon-wrapper")},m(r,n){Te(r,e,n),t[3](e)},p:Ke,d(r){r&&Me(e),t[3](null)}}}function IU(t){let e,r=t[0].length>0&&vA(t);return{c(){r&&r.c(),e=mn()},m(n,i){r&&r.m(n,i),Te(n,e,i)},p(n,[i]){n[0].length>0?r?r.p(n,i):(r=vA(n),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},i:Ke,o:Ke,d(n){n&&Me(e),r&&r.d(n)}}}function OU(t,e,r){let{iconName:n=""}=e,{plugin:i}=e,a;Ri(()=>{i.internal.setIcon(a,n)});function o(c){ki[c?"unshift":"push"](()=>{a=c,r(1,a)})}return t.$$set=c=>{"iconName"in c&&r(0,n=c.iconName),"plugin"in c&&r(2,i=c.plugin)},[n,a,i,o]}var $d=class extends cr{constructor(e){super(),dr(this,e,OU,IU,mr,{iconName:0,plugin:2})}},_n=$d;function BU(t){Qi(t,"svelte-f2wb67",".date-picker-input.svelte-f2wb67{background:var(--background-modifier-form-field);border-radius:var(--mb-border-radius);border:var(--mb-border-width) solid var(--background-modifier-border);padding:5px 5px 5px 7px;cursor:pointer;position:relative;color:var(--text-normal);display:inline-flex;align-items:center;gap:5px;font-size:var(--font-ui-small)}.date-picker-text.svelte-f2wb67{display:inline-block}")}function PU(t){let e,r,n=(t[0]?t[0].format(t[2]):"none")+"",i,a,o,c,l,s;return o=new _n({props:{plugin:t[1],iconName:"calendar"}}),{c(){e=Ee("div"),r=Ee("span"),i=Gr(n),a=vr(),Xr(o.$$.fragment),ie(r,"class","date-picker-text svelte-f2wb67"),ie(e,"class","date-picker-input svelte-f2wb67"),ie(e,"role","button"),ie(e,"tabindex","0")},m(u,f){Te(u,e,f),ke(e,r),ke(r,i),ke(e,a),Wr(o,e,null),c=!0,l||(s=[qe(e,"click",t[3]),qe(e,"keydown",t[4])],l=!0)},p(u,[f]){(!c||f&5)&&n!==(n=(u[0]?u[0].format(u[2]):"none")+"")&&Kr(i,n);let p={};f&2&&(p.plugin=u[1]),o.$set(p)},i(u){c||(We(o.$$.fragment,u),c=!0)},o(u){rr(o.$$.fragment,u),c=!1},d(u){u&&Me(e),Zr(o),l=!1,wr(s)}}}function RU(t,e,r){let{plugin:n}=e,{value:i}=e,{dateFormat:a}=e,{showDatePicker:o}=e,{onValueChange:c}=e;function l(f){r(0,i=f)}function s(f){o()}function u(f){f.key===" "&&o()}return t.$$set=f=>{"plugin"in f&&r(1,n=f.plugin),"value"in f&&r(0,i=f.value),"dateFormat"in f&&r(2,a=f.dateFormat),"showDatePicker"in f&&r(5,o=f.showDatePicker),"onValueChange"in f&&r(6,c=f.onValueChange)},[i,n,a,s,u,o,c,l]}var Jd=class extends cr{constructor(e){super(),dr(this,e,RU,PU,mr,{plugin:1,value:0,dateFormat:2,showDatePicker:5,onValueChange:6,setValue:7},BU)}get setValue(){return this.$$.ctx[7]}},gA=Jd;var Qd=yt(yA()),hn=class t{static stringify(e){return e.format(this.dateFormat)}static parse(e){return(0,Qd.default)(e,t.dateFormat)}static getDefaultDate(){return(0,Qd.default)(new Date)}static getDefaultDay(){return new Date().getDate()}static getDefaultMonth(){return 1}static getDefaultYear(){return new Date().getFullYear()}};var lf=class extends Lr{constructor(e){super(e),this.options=this.base.getArguments("option")}filterValue(e){if(e===null)return null;if(e===void 0||typeof e!="string")return;let r=hn.parse(e);if(r.isValid())return hn.stringify(r)}getFallbackDefaultValue(){return hn.getDefaultDate()}getSvelteComponent(){return gA}rawMapValue(e){return e===null?null:hn.stringify(e)}rawReverseMapValue(e){if(e===null)return null;let r=hn.parse(e);if(r.isValid())return r}getMountArgs(){return{dateFormat:this.base.plugin.settings.preferredDateFormat,showDatePicker:()=>{this.base.plugin.internal.openDatePickerModal(this)}}}};function kU(t){let e,r,n;return{c(){e=Ee("input"),ie(e,"type","number"),ie(e,"tabindex","0"),ie(e,"placeholder",t[1])},m(i,a){Te(i,e,a),Vr(e,t[0]),r||(n=[qe(e,"input",t[5]),qe(e,"input",t[6])],r=!0)},p(i,[a]){a&2&&ie(e,"placeholder",i[1]),a&1&&xa(e.value)!==i[0]&&Vr(e,i[0])},i:Ke,o:Ke,d(i){i&&Me(e),r=!1,wr(n)}}}function LU(t,e,r){let{plugin:n}=e,{value:i}=e,{placeholder:a}=e,{onValueChange:o}=e;function c(u){r(0,i=u)}function l(){i=xa(this.value),r(0,i)}let s=()=>o(i);return t.$$set=u=>{"plugin"in u&&r(3,n=u.plugin),"value"in u&&r(0,i=u.value),"placeholder"in u&&r(1,a=u.placeholder),"onValueChange"in u&&r(2,o=u.onValueChange)},[i,a,o,n,c,l,s]}var Kd=class extends cr{constructor(e){super(),dr(this,e,LU,kU,mr,{plugin:3,value:0,placeholder:1,onValueChange:2,setValue:4})}get setValue(){return this.$$.ctx[4]}},xA=Kd;var cf=class extends Lr{filterValue(e){return Ns(e)}getFallbackDefaultValue(){return 0}getSvelteComponent(){return xA}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){var e;return{placeholder:(e=this.base.getArgument("placeholder"))!=null?e:"Number"}}};function UU(t){let e,r;return{c(){e=Ee("span"),r=Gr(t[2])},m(n,i){Te(n,e,i),ke(e,r)},p(n,i){i&4&&Kr(r,n[2])},i:Ke,o:Ke,d(n){n&&Me(e)}}}function qU(t){let e,r,n;function i(o){t[10](o)}let a={};return t[1]!==void 0&&(a.mdLink=t[1]),e=new Wa({props:a}),ki.push(()=>QS(e,"mdLink",i)),{c(){Xr(e.$$.fragment)},m(o,c){Wr(e,o,c),n=!0},p(o,c){let l={};!r&&c&2&&(r=!0,l.mdLink=o[1],JS(()=>r=!1)),e.$set(l)},i(o){n||(We(e.$$.fragment,o),n=!0)},o(o){rr(e.$$.fragment,o),n=!1},d(o){Zr(e,o)}}}function VU(t){let e,r,n,i,a,o,c,l,s,u=[qU,UU],f=[];function p(m,v){return m[3]?0:1}return n=p(t,-1),i=f[n]=u[n](t),o=new _n({props:{plugin:t[0],iconName:"list"}}),{c(){e=Ee("div"),r=Ee("div"),i.c(),a=vr(),Xr(o.$$.fragment),ie(r,"class","mb-suggest-text"),ie(e,"class","mb-suggest-input"),ie(e,"role","button"),ie(e,"tabindex","0")},m(m,v){Te(m,e,v),ke(e,r),f[n].m(r,null),ke(e,a),Wr(o,e,null),c=!0,l||(s=[qe(e,"click",t[4]),qe(e,"keydown",t[5])],l=!0)},p(m,[v]){let d=n;n=p(m,v),n===d?f[n].p(m,v):(qt(),rr(f[d],1,1,()=>{f[d]=null}),Vt(),i=f[n],i?i.p(m,v):(i=f[n]=u[n](m),i.c()),We(i,1),i.m(r,null));let g={};v&1&&(g.plugin=m[0]),o.$set(g)},i(m){c||(We(i),We(o.$$.fragment,m),c=!0)},o(m){rr(i),rr(o.$$.fragment,m),c=!1},d(m){m&&Me(e),f[n].d(),Zr(o),l=!1,wr(s)}}}function zU(t,e,r){let{plugin:n}=e,{value:i}=e,{showSuggester:a}=e,{onValueChange:o}=e,c,l,s=!1;Ri(()=>{u(i)});function u(v){var d;let g=(d=v==null?void 0:v.toString())!==null&&d!==void 0?d:"null";if(r(3,s=Vn.isLink(g)),s)try{r(1,c=Vn.parseLink(g))}catch(x){console.warn(x)}else r(2,l=g)}function f(v){v.target instanceof HTMLAnchorElement||a()}function p(v){v.key===" "&&a()}function m(v){c=v,r(1,c)}return t.$$set=v=>{"plugin"in v&&r(0,n=v.plugin),"value"in v&&r(6,i=v.value),"showSuggester"in v&&r(7,a=v.showSuggester),"onValueChange"in v&&r(8,o=v.onValueChange)},[n,c,l,s,f,p,i,a,o,u,m]}var eh=class extends cr{constructor(e){super(),dr(this,e,zU,VU,mr,{plugin:0,value:6,showSuggester:7,onValueChange:8,setValue:9})}get setValue(){return this.$$.ctx[9]}},bA=eh;var ff=class extends Lr{filterValue(e){return Ha(e)}getFallbackDefaultValue(){return null}getSvelteComponent(){return bA}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{showSuggester:()=>this.openModal()}}openModal(){this.base.plugin.internal.openSuggesterModal(this,e=>this.setInternalValue(e.value))}};function HU(t){Qi(t,"svelte-1tfnqy0",".editor-input.svelte-1tfnqy0.svelte-1tfnqy0{background:var(--background-secondary);width:100%;height:500px;padding:0;position:relative;margin-left:0;overflow:scroll}.editor-input.svelte-1tfnqy0>textarea.svelte-1tfnqy0{background:var(--background-secondary);border:none;padding:var(--size-4-4) var(--size-4-8);margin:0;position:absolute;inset:0;resize:none;border-radius:0}.editor-input.svelte-1tfnqy0>div.svelte-1tfnqy0{padding:var(--size-4-4) var(--size-4-8);position:absolute;inset:0}")}function YU(t){let e,r,n,i,a,o;return{c(){e=Ee("div"),r=Ee("textarea"),n=vr(),i=Ee("div"),ie(r,"class","svelte-1tfnqy0"),ie(i,"class","svelte-1tfnqy0"),ie(e,"class","editor-input card svelte-1tfnqy0"),ie(e,"role","button"),ie(e,"tabindex","0")},m(c,l){Te(c,e,l),ke(e,r),t[10](r),Vr(r,t[0]),ke(e,n),ke(e,i),t[14](i),a||(o=[qe(r,"input",t[11]),qe(r,"focusout",t[12]),qe(r,"input",t[13]),qe(e,"click",t[15]),qe(e,"keypress",t[16])],a=!0)},p(c,[l]){l&1&&Vr(r,c[0])},i:Ke,o:Ke,d(c){c&&Me(e),t[10](null),t[14](null),a=!1,wr(o)}}}function GU(t,e,r){let{plugin:n}=e,{value:i}=e,{onValueChange:a}=e,{render:o}=e,c,l;Ri(()=>{r(2,c.style.display="block",c),r(3,l.style.display="none",l),o(c,i)});function s(w){r(0,i=w),o(c,w)}function u(){r(2,c.style.display="block",c),r(3,l.style.display="none",l),o(c,i)}function f(){r(2,c.style.display="none",c),r(3,l.style.display="block",l),l.focus()}function p(w){w.key===" "&&f()}function m(w){ki[w?"unshift":"push"](()=>{l=w,r(3,l)})}function v(){i=this.value,r(0,i)}let d=()=>u(),g=()=>a(i);function x(w){ki[w?"unshift":"push"](()=>{c=w,r(2,c)})}let A=()=>f(),y=w=>p(w);return t.$$set=w=>{"plugin"in w&&r(7,n=w.plugin),"value"in w&&r(0,i=w.value),"onValueChange"in w&&r(1,a=w.onValueChange),"render"in w&&r(8,o=w.render)},[i,a,c,l,u,f,p,n,o,s,m,v,d,g,x,A,y]}var rh=class extends cr{constructor(e){super(),dr(this,e,GU,YU,mr,{plugin:7,value:0,onValueChange:1,render:8,setValue:9},HU)}get setValue(){return this.$$.ctx[9]}},wA=rh;var pf=class extends Lr{filterValue(e){return za(e)?e==null?void 0:e.toString():void 0}getFallbackDefaultValue(){return""}getSvelteComponent(){return wA}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){return{render:(e,r)=>void this.renderInElement(e,r)}}renderInElement(e,r){return Fr(this,null,function*(){var n;(n=this.mdUnloadCallback)==null||n.call(this),e.innerHTML="",this.mdUnloadCallback=yield this.base.plugin.internal.renderMarkdown(r,e,this.base.getFilePath())})}onUnmount(){var e;super.onUnmount(),(e=this.mdUnloadCallback)==null||e.call(this)}};var{window:Wu}=Gu;function WU(t){let e,r,n,i,a,o,c,l,s,u,f,p,m,v;return{c(){e=Ee("div"),r=Ee("div"),i=vr(),a=Ee("span"),o=Gr(t[0]),c=vr(),l=Ee("span"),s=Gr(t[1]),u=vr(),f=Ee("span"),p=Gr(t[2]),ie(r,"class","mb-progress-bar-progress"),ie(r,"style",n=`width: ${t[5](t[0])}%`),ie(r,"role","slider"),ie(r,"aria-valuemin",t[1]),ie(r,"aria-valuemax",t[2]),ie(r,"aria-valuenow",t[0]),ie(r,"tabindex","0"),ie(a,"class","mb-progress-bar-value"),ie(l,"class","mb-progress-bar-label-left"),ie(f,"class","mb-progress-bar-label-right"),ie(e,"class","mb-progress-bar-input"),ie(e,"tabindex","0"),ie(e,"role","button")},m(d,g){Te(d,e,g),ke(e,r),ke(e,i),ke(e,a),ke(a,o),ke(e,c),ke(e,l),ke(l,s),ke(e,u),ke(e,f),ke(f,p),t[15](e),m||(v=[qe(Wu,"touchmove",t[8],{passive:!1}),qe(Wu,"touchcancel",t[6]),qe(Wu,"touchend",t[6]),qe(Wu,"mousemove",t[8]),qe(Wu,"mouseup",t[6]),qe(r,"dragstart",t[14]),qe(e,"keydown",t[9]),qe(e,"mousedown",t[7]),qe(e,"touchstart",t[7])],m=!0)},p(d,[g]){g&1&&n!==(n=`width: ${d[5](d[0])}%`)&&ie(r,"style",n),g&2&&ie(r,"aria-valuemin",d[1]),g&4&&ie(r,"aria-valuemax",d[2]),g&1&&ie(r,"aria-valuenow",d[0]),g&1&&Kr(o,d[0]),g&2&&Kr(s,d[1]),g&4&&Kr(p,d[2])},i:Ke,o:Ke,d(d){d&&Me(e),t[15](null),m=!1,wr(v)}}}function ZU(t,e){return Number.parseFloat((Math.round(t/e)*e).toFixed(10))}function jU(t,e,r){let{plugin:n}=e,{onValueChange:i}=e,{value:a}=e,{minValue:o}=e,{maxValue:c}=e,{stepSize:l}=e,s=!1,u,f=0,p;function m(_){r(0,a=_)}function v(_){r(0,a=_),i(_)}function d(_){return _=Pu(_,o,c),dd(_,o,c,0,100)}function g(){r(3,s=!0)}function x(){r(3,s=!1)}function A(_){g(),y(_)}function y(_){if(!s)return;_.stopPropagation&&_.stopPropagation(),_.preventDefault&&_.preventDefault();let N=_ instanceof TouchEvent?_.touches[0].clientX:_.clientX;w(N)}function w(_){let N=u.getBoundingClientRect();_=Pu(_,N.left,N.right);let E=dd(_,N.left,N.right,o,c);E=ZU(E,l),v(E)}function S(_){f<50&&(f+=1);let N=Math.ceil(f/5);if(_.key==="ArrowUp"||_.key==="ArrowRight"){let E=Pu(a+N,o,c);v(E)}if(_.key==="ArrowDown"||_.key==="ArrowLeft"){let E=Pu(a-N,o,c);v(E)}window.clearTimeout(p),p=window.setTimeout(()=>f=1,100)}let b=()=>r(3,s=!0);function C(_){ki[_?"unshift":"push"](()=>{u=_,r(4,u)})}return t.$$set=_=>{"plugin"in _&&r(10,n=_.plugin),"onValueChange"in _&&r(11,i=_.onValueChange),"value"in _&&r(0,a=_.value),"minValue"in _&&r(1,o=_.minValue),"maxValue"in _&&r(2,c=_.maxValue),"stepSize"in _&&r(12,l=_.stepSize)},[a,o,c,s,u,d,x,A,y,S,n,i,l,m,b,C]}var th=class extends cr{constructor(e){super(),dr(this,e,jU,WU,mr,{plugin:10,onValueChange:11,value:0,minValue:1,maxValue:2,stepSize:12,setValue:13})}get setValue(){return this.$$.ctx[13]}},DA=th;var mf=class extends Lr{constructor(e){var r,n,i,a,o,c;if(super(e),this.minValue=(n=(r=this.base.getArgument("minValue"))==null?void 0:r.value)!=null?n:0,this.maxValue=(a=(i=this.base.getArgument("maxValue"))==null?void 0:i.value)!=null?a:100,this.stepSize=(c=(o=this.base.getArgument("stepSize"))==null?void 0:o.value)!=null?c:1,this.minValue>=this.maxValue)throw new Pt({errorLevel:"ERROR",effect:"can not create progress bar input field",cause:`minValue (${this.maxValue}) must be less than maxValue (${this.maxValue})`})}filterValue(e){return sc(Ns(e),this.minValue,this.maxValue)}getFallbackDefaultValue(){return this.minValue}getSvelteComponent(){return DA}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){return{minValue:this.minValue,maxValue:this.maxValue,stepSize:this.stepSize}}};function SA(t,e,r){let n=t.slice();return n[8]=e[r],n}function AA(t){let e,r=t[8].name+"",n,i;return{c(){e=Ee("option"),n=Gr(r),e.__value=i=t[8].value,Vr(e,e.__value)},m(a,o){Te(a,e,o),ke(e,n)},p(a,o){o&2&&r!==(r=a[8].name+"")&&Kr(n,r),o&2&&i!==(i=a[8].value)&&(e.__value=i,Vr(e,e.__value))},d(a){a&&Me(e)}}}function $U(t){let e,r,n,i=Ur(t[1]),a=[];for(let o=0;o<i.length;o+=1)a[o]=AA(SA(t,i,o));return{c(){e=Ee("select");for(let o=0;o<a.length;o+=1)a[o].c();ie(e,"class","dropdown"),t[0]===void 0&&zn(()=>t[6].call(e))},m(o,c){Te(o,e,c);for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(e,null);dn(e,t[0],!0),r||(n=[qe(e,"change",t[6]),qe(e,"change",t[7])],r=!0)},p(o,[c]){if(c&2){i=Ur(o[1]);let l;for(l=0;l<i.length;l+=1){let s=SA(o,i,l);a[l]?a[l].p(s,c):(a[l]=AA(s),a[l].c(),a[l].m(e,null))}for(;l<a.length;l+=1)a[l].d(1);a.length=i.length}c&3&&dn(e,o[0])},i:Ke,o:Ke,d(o){o&&Me(e),Tt(a,o),r=!1,wr(n)}}}function JU(t,e,r){let{plugin:n}=e,{value:i}=e,{options:a}=e,{onValueChange:o}=e;function c(f){r(0,i=f)}function l(){o(i)}function s(){i=Ki(this),r(0,i),r(1,a)}let u=()=>l();return t.$$set=f=>{"plugin"in f&&r(3,n=f.plugin),"value"in f&&r(0,i=f.value),"options"in f&&r(1,a=f.options),"onValueChange"in f&&r(4,o=f.onValueChange)},[i,a,l,n,o,c,s,u]}var nh=class extends cr{constructor(e){super(),dr(this,e,JU,$U,mr,{plugin:3,value:0,options:1,onValueChange:4,setValue:5})}get setValue(){return this.$$.ctx[5]}},NA=nh;var df=class extends Lr{constructor(e){super(e),this.options=this.base.getArguments("option")}filterValue(e){return Ha(e)}getFallbackDefaultValue(){return null}getSvelteComponent(){return NA}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{options:this.options}}};function XU(t){Qi(t,"svelte-hrm3dz",".mb-image-suggest-input.svelte-hrm3dz{background:var(--background-secondary);border-radius:var(--mb-border-radius);border:var(--mb-border-width) solid var(--background-modifier-border);padding:var(--size-4-2);width:100%}.mb-image-suggest-image.svelte-hrm3dz{width:100%;height:fit-content;max-height:500px;object-fit:contain}.mb-image-suggest-footer.svelte-hrm3dz{display:flex;flex-direction:row;color:var(--text-normal);align-items:baseline}.mb-image-suggest-footer-text.svelte-hrm3dz{flex:1;margin-left:var(--size-4-2)}")}function _A(t){let e,r;return{c(){e=Ee("img"),ie(e,"class","mb-image-suggest-image svelte-hrm3dz"),Pd(e.src,r=t[1].internal.imagePathToUri(t[0]))||ie(e,"src",r),ie(e,"alt",t[0])},m(n,i){Te(n,e,i)},p(n,i){i&3&&!Pd(e.src,r=n[1].internal.imagePathToUri(n[0]))&&ie(e,"src",r),i&1&&ie(e,"alt",n[0])},d(n){n&&Me(e)}}}function QU(t){let e,r,n,i,a=(t[0]||"no image selected")+"",o,c,l,s,u,f=t[0]&&_A(t);return{c(){e=Ee("div"),f&&f.c(),r=vr(),n=Ee("div"),i=Ee("span"),o=Gr(a),c=vr(),l=Ee("button"),l.textContent="Change Image",ie(i,"class","mb-image-suggest-footer-text svelte-hrm3dz"),ie(l,"class","btn btn-active"),ie(n,"class","mb-image-suggest-footer svelte-hrm3dz"),ie(e,"class","mb-image-suggest-input svelte-hrm3dz")},m(p,m){Te(p,e,m),f&&f.m(e,null),ke(e,r),ke(e,n),ke(n,i),ke(i,o),ke(n,c),ke(n,l),s||(u=[qe(l,"click",t[2]),qe(l,"keydown",t[3])],s=!0)},p(p,[m]){p[0]?f?f.p(p,m):(f=_A(p),f.c(),f.m(e,r)):f&&(f.d(1),f=null),m&1&&a!==(a=(p[0]||"no image selected")+"")&&Kr(o,a)},i:Ke,o:Ke,d(p){p&&Me(e),f&&f.d(),s=!1,wr(u)}}}function KU(t,e,r){let{plugin:n}=e,{value:i}=e,{showSuggester:a}=e,{onValueChange:o}=e;function c(u){r(0,i=u)}function l(u){a()}function s(u){u.key===" "&&a()}return t.$$set=u=>{"plugin"in u&&r(1,n=u.plugin),"value"in u&&r(0,i=u.value),"showSuggester"in u&&r(4,a=u.showSuggester),"onValueChange"in u&&r(5,o=u.onValueChange)},[i,n,l,s,a,o,c]}var ih=class extends cr{constructor(e){super(),dr(this,e,KU,QU,mr,{plugin:1,value:0,showSuggester:4,onValueChange:5,setValue:6},XU)}get setValue(){return this.$$.ctx[6]}},EA=ih;var hf=class extends Lr{filterValue(e){return za(e)?e:void 0}getFallbackDefaultValue(){return""}getSvelteComponent(){return EA}rawMapValue(e){return e}rawReverseMapValue(e){return Fd(e)}getMountArgs(){return{showSuggester:()=>this.openModal()}}openModal(){this.base.plugin.internal.openImageSuggesterModal(this,e=>this.setInternalValue(e))}};var Oo=(i=>(i.DEFAULT="default",i.PRIMARY="primary",i.DESTRUCTIVE="destructive",i.PLAIN="plain",i))(Oo||{});function e6(t){Qi(t,"svelte-12xcpmj","button.svelte-12xcpmj{gap:var(--size-4-1)}.mod-plain.svelte-12xcpmj{background:none;box-shadow:none;border:none;color:var(--text-muted)}.mod-plain.svelte-12xcpmj:hover{color:var(--text-normal)}.disabled.svelte-12xcpmj{opacity:0.6}")}function r6(t){let e,r,n,i,a=t[4].default,o=Vu(a,t,t[3],null);return{c(){e=Ee("button"),o&&o.c(),ie(e,"aria-label",t[2]),e.disabled=t[1],ie(e,"class","svelte-12xcpmj"),gt(e,"mod-cta",t[0]==="primary"),gt(e,"mod-warning",t[0]==="destructive"),gt(e,"mod-plain",t[0]==="plain"),gt(e,"disabled",t[1])},m(c,l){Te(c,e,l),o&&o.m(e,null),r=!0,n||(i=qe(e,"click",t[5]),n=!0)},p(c,[l]){o&&o.p&&(!r||l&8)&&Hu(o,a,c,c[3],r?zu(a,c[3],l,null):Yu(c[3]),null),(!r||l&4)&&ie(e,"aria-label",c[2]),(!r||l&2)&&(e.disabled=c[1]),(!r||l&1)&&gt(e,"mod-cta",c[0]==="primary"),(!r||l&1)&&gt(e,"mod-warning",c[0]==="destructive"),(!r||l&1)&&gt(e,"mod-plain",c[0]==="plain"),(!r||l&2)&&gt(e,"disabled",c[1])},i(c){r||(We(o,c),r=!0)},o(c){rr(o,c),r=!1},d(c){c&&Me(e),o&&o.d(c),n=!1,i()}}}function t6(t,e,r){let{$$slots:n={},$$scope:i}=e,{variant:a="default"}=e,{disabled:o=!1}=e,{tooltip:c=""}=e;function l(s){jS.call(this,t,s)}return t.$$set=s=>{"variant"in s&&r(0,a=s.variant),"disabled"in s&&r(1,o=s.disabled),"tooltip"in s&&r(2,c=s.tooltip),"$$scope"in s&&r(3,i=s.$$scope)},[a,o,c,i,n,l]}var ah=class extends cr{constructor(e){super(),dr(this,e,t6,r6,mr,{variant:0,disabled:1,tooltip:2},e6)}},Zu=ah;function MA(t,e,r){let n=t.slice();return n[12]=e[r],n[14]=r,n}function CA(t){let e;return{c(){e=Ee("span"),e.textContent="Empty",ie(e,"class","mb-list-empty")},m(r,n){Te(r,e,n)},p:Ke,d(r){r&&Me(e)}}}function n6(t){let e,r;return e=new _n({props:{plugin:t[1],iconName:"x"}}),{c(){Xr(e.$$.fragment)},m(n,i){Wr(e,n,i),r=!0},p(n,i){let a={};i&2&&(a.plugin=n[1]),e.$set(a)},i(n){r||(We(e.$$.fragment,n),r=!0)},o(n){rr(e.$$.fragment,n),r=!1},d(n){Zr(e,n)}}}function TA(t){let e,r,n,i,a,o;r=new bi({props:{value:t[12]}});function c(){return t[9](t[14])}return i=new Zu({props:{$$slots:{default:[n6]},$$scope:{ctx:t}}}),i.$on("click",c),{c(){e=Ee("div"),Xr(r.$$.fragment),n=vr(),Xr(i.$$.fragment),a=vr(),ie(e,"class","mb-list-item")},m(l,s){Te(l,e,s),Wr(r,e,null),ke(e,n),Wr(i,e,null),ke(e,a),o=!0},p(l,s){t=l;let u={};s&1&&(u.value=t[12]),r.$set(u);let f={};s&32770&&(f.$$scope={dirty:s,ctx:t}),i.$set(f)},i(l){o||(We(r.$$.fragment,l),We(i.$$.fragment,l),o=!0)},o(l){rr(r.$$.fragment,l),rr(i.$$.fragment,l),o=!1},d(l){l&&Me(e),Zr(r),Zr(i)}}}function FA(t){let e,r=IA(t[0].length,t[2])+"",n,i;return{c(){e=Ee("span"),n=Gr(r),ie(e,"class",i=`mb-content-limit-indicator ${t[0].length>t[2]?"mb-content-limit-indicator-overflow":""}`)},m(a,o){Te(a,e,o),ke(e,n)},p(a,o){o&5&&r!==(r=IA(a[0].length,a[2])+"")&&Kr(n,r),o&5&&i!==(i=`mb-content-limit-indicator ${a[0].length>a[2]?"mb-content-limit-indicator-overflow":""}`)&&ie(e,"class",i)},d(a){a&&Me(e)}}}function i6(t){let e,r;return e=new _n({props:{plugin:t[1],iconName:"plus"}}),{c(){Xr(e.$$.fragment)},m(n,i){Wr(e,n,i),r=!0},p(n,i){let a={};i&2&&(a.plugin=n[1]),e.$set(a)},i(n){r||(We(e.$$.fragment,n),r=!0)},o(n){rr(e.$$.fragment,n),r=!1},d(n){Zr(e,n)}}}function a6(t){let e,r,n,i,a,o,c,l,s,u,f=Ur(t[0]),p=[];for(let g=0;g<f.length;g+=1)p[g]=TA(MA(t,f,g));let m=g=>rr(p[g],1,1,()=>{p[g]=null}),v=null;f.length||(v=CA(t));let d=t[2]!==void 0&&FA(t);return c=new Zu({props:{disabled:!t[4],$$slots:{default:[i6]},$$scope:{ctx:t}}}),c.$on("click",t[11]),{c(){e=Ee("div");for(let g=0;g<p.length;g+=1)p[g].c();v&&v.c(),r=vr(),n=Ee("div"),i=Ee("input"),a=vr(),d&&d.c(),o=vr(),Xr(c.$$.fragment),ie(e,"class","mb-list-items"),ie(i,"type","text"),ie(i,"tabindex","0"),ie(i,"placeholder",t[3]),ie(i,"maxlength",t[2]),ie(n,"class","mb-list-input")},m(g,x){Te(g,e,x);for(let A=0;A<p.length;A+=1)p[A]&&p[A].m(e,null);v&&v.m(e,null),Te(g,r,x),Te(g,n,x),ke(n,i),Vr(i,t[4]),ke(n,a),d&&d.m(n,null),ke(n,o),Wr(c,n,null),l=!0,s||(u=qe(i,"input",t[10]),s=!0)},p(g,[x]){if(x&67){f=Ur(g[0]);let y;for(y=0;y<f.length;y+=1){let w=MA(g,f,y);p[y]?(p[y].p(w,x),We(p[y],1)):(p[y]=TA(w),p[y].c(),We(p[y],1),p[y].m(e,null))}for(qt(),y=f.length;y<p.length;y+=1)m(y);Vt(),!f.length&&v?v.p(g,x):f.length?v&&(v.d(1),v=null):(v=CA(g),v.c(),v.m(e,null))}(!l||x&8)&&ie(i,"placeholder",g[3]),(!l||x&4)&&ie(i,"maxlength",g[2]),x&16&&i.value!==g[4]&&Vr(i,g[4]),g[2]!==void 0?d?d.p(g,x):(d=FA(g),d.c(),d.m(n,o)):d&&(d.d(1),d=null);let A={};x&16&&(A.disabled=!g[4]),x&32770&&(A.$$scope={dirty:x,ctx:g}),c.$set(A)},i(g){if(!l){for(let x=0;x<f.length;x+=1)We(p[x]);We(c.$$.fragment,g),l=!0}},o(g){p=p.filter(Boolean);for(let x=0;x<p.length;x+=1)rr(p[x]);rr(c.$$.fragment,g),l=!1},d(g){g&&(Me(e),Me(r),Me(n)),Tt(p,g),v&&v.d(),d&&d.d(),Zr(c),s=!1,u()}}}function IA(t,e){let r=e.toString();return`${t.toString().padStart(r.length,"0")}/${r}`}function o6(t,e,r){let{plugin:n}=e,{value:i}=e,{limit:a}=e,{placeholder:o}=e,{onValueChange:c}=e,l="";function s(d){r(0,i=d)}function u(){i.push(l),c(i),r(4,l=""),r(0,i)}function f(d){i.splice(d,1),c(i),r(0,i)}let p=d=>f(d);function m(){l=this.value,r(4,l)}let v=()=>u();return t.$$set=d=>{"plugin"in d&&r(1,n=d.plugin),"value"in d&&r(0,i=d.value),"limit"in d&&r(2,a=d.limit),"placeholder"in d&&r(3,o=d.placeholder),"onValueChange"in d&&r(7,c=d.onValueChange)},[i,n,a,o,l,u,f,c,s,p,m,v]}var oh=class extends cr{constructor(e){super(),dr(this,e,o6,a6,mr,{plugin:1,value:0,limit:2,placeholder:3,onValueChange:7,setValue:8})}get setValue(){return this.$$.ctx[8]}},OA=oh;var vf=class extends Lr{filterValue(e){return Xi(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return OA}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){var e,r,n;return{placeholder:(r=(e=this.base.getArgument("placeholder"))==null?void 0:e.value)!=null?r:"New Entry...",limit:(n=this.base.getArgument("limit"))==null?void 0:n.value}}};function BA(t,e,r){let n=t.slice();return n[10]=e[r],n[12]=r,n}function PA(t){let e;return{c(){e=Ee("span"),e.textContent="Empty",ie(e,"class","mb-list-empty")},m(r,n){Te(r,e,n)},p:Ke,d(r){r&&Me(e)}}}function s6(t){let e,r;return e=new _n({props:{plugin:t[1],iconName:"x"}}),{c(){Xr(e.$$.fragment)},m(n,i){Wr(e,n,i),r=!0},p(n,i){let a={};i&2&&(a.plugin=n[1]),e.$set(a)},i(n){r||(We(e.$$.fragment,n),r=!0)},o(n){rr(e.$$.fragment,n),r=!1},d(n){Zr(e,n)}}}function RA(t){let e,r,n,i,a,o;r=new bi({props:{value:t[10]}});function c(){return t[9](t[12])}return i=new Zu({props:{$$slots:{default:[s6]},$$scope:{ctx:t}}}),i.$on("click",c),{c(){e=Ee("div"),Xr(r.$$.fragment),n=vr(),Xr(i.$$.fragment),a=vr(),ie(e,"class","mb-list-item")},m(l,s){Te(l,e,s),Wr(r,e,null),ke(e,n),Wr(i,e,null),ke(e,a),o=!0},p(l,s){t=l;let u={};s&1&&(u.value=t[10]),r.$set(u);let f={};s&8194&&(f.$$scope={dirty:s,ctx:t}),i.$set(f)},i(l){o||(We(r.$$.fragment,l),We(i.$$.fragment,l),o=!0)},o(l){rr(r.$$.fragment,l),rr(i.$$.fragment,l),o=!1},d(l){l&&Me(e),Zr(r),Zr(i)}}}function u6(t){let e,r,n,i,a,o,c,l,s,u,f=Ur(t[0]),p=[];for(let d=0;d<f.length;d+=1)p[d]=RA(BA(t,f,d));let m=d=>rr(p[d],1,1,()=>{p[d]=null}),v=null;return f.length||(v=PA(t)),c=new _n({props:{plugin:t[1],iconName:"list"}}),{c(){e=Ee("div");for(let d=0;d<p.length;d+=1)p[d].c();v&&v.c(),r=vr(),n=Ee("div"),i=Ee("div"),a=Ee("div"),a.innerHTML="<span>Add Element...</span>",o=vr(),Xr(c.$$.fragment),ie(e,"class","mb-list-items"),ie(a,"class","mb-suggest-text"),ie(i,"class","mb-suggest-input"),ie(i,"role","button"),ie(i,"tabindex","0"),ie(n,"class","mb-list-input")},m(d,g){Te(d,e,g);for(let x=0;x<p.length;x+=1)p[x]&&p[x].m(e,null);v&&v.m(e,null),Te(d,r,g),Te(d,n,g),ke(n,i),ke(i,a),ke(i,o),Wr(c,i,null),l=!0,s||(u=[qe(i,"click",t[3]),qe(i,"keydown",t[4])],s=!0)},p(d,[g]){if(g&7){f=Ur(d[0]);let A;for(A=0;A<f.length;A+=1){let y=BA(d,f,A);p[A]?(p[A].p(y,g),We(p[A],1)):(p[A]=RA(y),p[A].c(),We(p[A],1),p[A].m(e,null))}for(qt(),A=f.length;A<p.length;A+=1)m(A);Vt(),!f.length&&v?v.p(d,g):f.length?v&&(v.d(1),v=null):(v=PA(d),v.c(),v.m(e,null))}let x={};g&2&&(x.plugin=d[1]),c.$set(x)},i(d){if(!l){for(let g=0;g<f.length;g+=1)We(p[g]);We(c.$$.fragment,d),l=!0}},o(d){p=p.filter(Boolean);for(let g=0;g<p.length;g+=1)rr(p[g]);rr(c.$$.fragment,d),l=!1},d(d){d&&(Me(e),Me(r),Me(n)),Tt(p,d),v&&v.d(),Zr(c),s=!1,wr(u)}}}function l6(t,e,r){let{plugin:n}=e,{value:i}=e,{showSuggester:a}=e,{onValueChange:o}=e;function c(m){r(0,i=m)}function l(m){i.push(m),r(0,i)}function s(m){i.splice(m,1),o(i),r(0,i)}function u(m){m.target instanceof HTMLAnchorElement||a()}function f(m){m.key===" "&&a()}let p=m=>s(m);return t.$$set=m=>{"plugin"in m&&r(1,n=m.plugin),"value"in m&&r(0,i=m.value),"showSuggester"in m&&r(5,a=m.showSuggester),"onValueChange"in m&&r(6,o=m.onValueChange)},[i,n,s,u,f,a,o,c,l,p]}var sh=class extends cr{constructor(e){super(),dr(this,e,l6,u6,mr,{plugin:1,value:0,showSuggester:5,onValueChange:6,setValue:7,addValue:8})}get setValue(){return this.$$.ctx[7]}get addValue(){return this.$$.ctx[8]}},kA=sh;var gf=class extends Lr{filterValue(e){return Xi(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return kA}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{showSuggester:()=>this.openModal()}}openModal(){this.base.plugin.internal.openSuggesterModal(this,e=>{let r=this.getInternalValue();r.push(e.value),this.setInternalValue(r)})}};function LA(t,e,r){let n=t.slice();return n[27]=e[r][0],n[28]=e[r][1],n}function UA(t,e,r){let n=t.slice();return n[24]=e[r],n}function qA(t,e,r){let n=t.slice();return n[24]=e[r],n}function VA(t,e,r){let n=t.slice();return n[27]=e[r][0],n[28]=e[r][1],n}function c6(t){let e,r,n,i,a,o=Ur(Object.values(t[2])),c=[];for(let u=0;u<o.length;u+=1)c[u]=zA(UA(t,o,u));let l=Ur(Object.entries(t[1])),s=[];for(let u=0;u<l.length;u+=1)s[u]=HA(LA(t,l,u));return{c(){e=Ee("select");for(let u=0;u<c.length;u+=1)c[u].c();r=vr(),n=Ee("select");for(let u=0;u<s.length;u+=1)s[u].c();ie(e,"class","dropdown mb-input-element-group-element"),t[5]===void 0&&zn(()=>t[17].call(e)),ie(n,"class","dropdown mb-input-element-group-element"),t[4]===void 0&&zn(()=>t[19].call(n))},m(u,f){Te(u,e,f);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(e,null);dn(e,t[5],!0),Te(u,r,f),Te(u,n,f);for(let p=0;p<s.length;p+=1)s[p]&&s[p].m(n,null);dn(n,t[4],!0),i||(a=[qe(e,"change",t[17]),qe(e,"change",t[18]),qe(n,"change",t[19]),qe(n,"change",t[20])],i=!0)},p(u,f){if(f[0]&4){o=Ur(Object.values(u[2]));let p;for(p=0;p<o.length;p+=1){let m=UA(u,o,p);c[p]?c[p].p(m,f):(c[p]=zA(m),c[p].c(),c[p].m(e,null))}for(;p<c.length;p+=1)c[p].d(1);c.length=o.length}if(f[0]&36&&dn(e,u[5]),f[0]&2){l=Ur(Object.entries(u[1]));let p;for(p=0;p<l.length;p+=1){let m=LA(u,l,p);s[p]?s[p].p(m,f):(s[p]=HA(m),s[p].c(),s[p].m(n,null))}for(;p<s.length;p+=1)s[p].d(1);s.length=l.length}f[0]&18&&dn(n,u[4])},d(u){u&&(Me(e),Me(r),Me(n)),Tt(c,u),Tt(s,u),i=!1,wr(a)}}}function f6(t){let e,r,n,i,a,o=Ur(Object.entries(t[1])),c=[];for(let u=0;u<o.length;u+=1)c[u]=YA(VA(t,o,u));let l=Ur(Object.values(t[2])),s=[];for(let u=0;u<l.length;u+=1)s[u]=GA(qA(t,l,u));return{c(){e=Ee("select");for(let u=0;u<c.length;u+=1)c[u].c();r=vr(),n=Ee("select");for(let u=0;u<s.length;u+=1)s[u].c();ie(e,"class","dropdown mb-input-element-group-element"),t[4]===void 0&&zn(()=>t[13].call(e)),ie(n,"class","dropdown mb-input-element-group-element"),t[5]===void 0&&zn(()=>t[15].call(n))},m(u,f){Te(u,e,f);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(e,null);dn(e,t[4],!0),Te(u,r,f),Te(u,n,f);for(let p=0;p<s.length;p+=1)s[p]&&s[p].m(n,null);dn(n,t[5],!0),i||(a=[qe(e,"change",t[13]),qe(e,"change",t[14]),qe(n,"change",t[15]),qe(n,"change",t[16])],i=!0)},p(u,f){if(f[0]&2){o=Ur(Object.entries(u[1]));let p;for(p=0;p<o.length;p+=1){let m=VA(u,o,p);c[p]?c[p].p(m,f):(c[p]=YA(m),c[p].c(),c[p].m(e,null))}for(;p<c.length;p+=1)c[p].d(1);c.length=o.length}if(f[0]&18&&dn(e,u[4]),f[0]&4){l=Ur(Object.values(u[2]));let p;for(p=0;p<l.length;p+=1){let m=qA(u,l,p);s[p]?s[p].p(m,f):(s[p]=GA(m),s[p].c(),s[p].m(n,null))}for(;p<s.length;p+=1)s[p].d(1);s.length=l.length}f[0]&36&&dn(n,u[5])},d(u){u&&(Me(e),Me(r),Me(n)),Tt(c,u),Tt(s,u),i=!1,wr(a)}}}function zA(t){let e,r=t[24]+"",n,i;return{c(){e=Ee("option"),n=Gr(r),e.__value=i=t[24],Vr(e,e.__value)},m(a,o){Te(a,e,o),ke(e,n)},p(a,o){o[0]&4&&r!==(r=a[24]+"")&&Kr(n,r),o[0]&4&&i!==(i=a[24])&&(e.__value=i,Vr(e,e.__value))},d(a){a&&Me(e)}}}function HA(t){let e,r=t[28]+"",n,i;return{c(){e=Ee("option"),n=Gr(r),e.__value=i=t[27],Vr(e,e.__value)},m(a,o){Te(a,e,o),ke(e,n)},p(a,o){o[0]&2&&r!==(r=a[28]+"")&&Kr(n,r),o[0]&2&&i!==(i=a[27])&&(e.__value=i,Vr(e,e.__value))},d(a){a&&Me(e)}}}function YA(t){let e,r=t[28]+"",n,i;return{c(){e=Ee("option"),n=Gr(r),e.__value=i=t[27],Vr(e,e.__value)},m(a,o){Te(a,e,o),ke(e,n)},p(a,o){o[0]&2&&r!==(r=a[28]+"")&&Kr(n,r),o[0]&2&&i!==(i=a[27])&&(e.__value=i,Vr(e,e.__value))},d(a){a&&Me(e)}}}function GA(t){let e,r=t[24]+"",n,i;return{c(){e=Ee("option"),n=Gr(r),e.__value=i=t[24],Vr(e,e.__value)},m(a,o){Te(a,e,o),ke(e,n)},p(a,o){o[0]&4&&r!==(r=a[24]+"")&&Kr(n,r),o[0]&4&&i!==(i=a[24])&&(e.__value=i,Vr(e,e.__value))},d(a){a&&Me(e)}}}function p6(t){let e,r,n,i,a;function o(s,u){return s[0]?f6:c6}let c=o(t,[-1,-1]),l=c(t);return{c(){e=Ee("div"),l.c(),r=vr(),n=Ee("input"),ie(n,"class","mb-date-input-year-input mb-input-element-group-element"),ie(n,"type","number"),ie(n,"tabindex","0"),ie(n,"max","9999"),ie(n,"min","0"),ie(e,"class","mb-input-element-group")},m(s,u){Te(s,e,u),l.m(e,null),ke(e,r),ke(e,n),Vr(n,t[3]),i||(a=[qe(n,"input",t[21]),qe(n,"input",t[22])],i=!0)},p(s,u){c===(c=o(s,u))&&l?l.p(s,u):(l.d(1),l=c(s),l&&(l.c(),l.m(e,r))),u[0]&8&&xa(n.value)!==s[3]&&Vr(n,s[3])},i:Ke,o:Ke,d(s){s&&Me(e),l.d(),i=!1,wr(a)}}}function m6(t,e,r){let{plugin:n}=e,{value:i}=e,{useUsInputOrder:a}=e,{onValueChange:o}=e,c={},l={},s,u,f;Ri(()=>{r(1,c={0:"January",1:"February",2:"March",3:"April",4:"May",5:"June",6:"July",7:"August",8:"September",9:"October",10:"November",11:"December"});for(let I=1;I<=31;I++)r(2,l[I.toString()]=I.toString(),l);r(3,s=i.year().toString()),r(4,u=i.month().toString()),r(5,f=i.date().toString())});function p(I){r(9,i=I),r(3,s=i.year().toString()),r(4,u=i.month().toString()),r(5,f=i.date().toString())}function m(){let I=Number.parseInt(s),B=Number.isNaN(I)?hn.getDefaultYear():I;i.year(B),o(i)}function v(){i.month(u);let I=g(i.date());i.date(I),r(5,f=I.toString()),o(i)}function d(){let I=Number.parseInt(f),B=g(I);i.date(B),r(5,f=B.toString()),o(i)}function g(I){return Number.isNaN(I)?hn.getDefaultDay():I<1?1:I>i.daysInMonth()?i.daysInMonth():I}function x(){u=Ki(this),r(4,u),r(1,c)}let A=()=>v();function y(){f=Ki(this),r(5,f),r(2,l)}let w=()=>d();function S(){f=Ki(this),r(5,f),r(2,l)}let b=()=>d();function C(){u=Ki(this),r(4,u),r(1,c)}let _=()=>v();function N(){s=xa(this.value),r(3,s)}let E=()=>m();return t.$$set=I=>{"plugin"in I&&r(10,n=I.plugin),"value"in I&&r(9,i=I.value),"useUsInputOrder"in I&&r(0,a=I.useUsInputOrder),"onValueChange"in I&&r(11,o=I.onValueChange)},[a,c,l,s,u,f,m,v,d,i,n,o,p,x,A,y,w,S,b,C,_,N,E]}var uh=class extends cr{constructor(e){super(),dr(this,e,m6,p6,mr,{plugin:10,value:9,useUsInputOrder:0,onValueChange:11,setValue:12},null,[-1,-1])}get setValue(){return this.$$.ctx[12]}},WA=uh;var yf=class extends Lr{filterValue(e){if(e==null||typeof e!="string")return;let r=hn.parse(e);if(r.isValid())return hn.stringify(r)}getFallbackDefaultValue(){return hn.getDefaultDate()}getSvelteComponent(){return WA}rawMapValue(e){return hn.stringify(e)}rawReverseMapValue(e){return hn.parse(e)}getMountArgs(){return{useUsInputOrder:this.base.plugin.settings.useUsDateInputOrder}}};var lh=yt(ii()),ju=yt(yi()),ch=class{constructor(){this._hour=ui.getDefaultHour(),this._minute=ui.getDefaultHour()}getHour(){return this._hour}setHour(e){if(e<0||e>24){this._hour=ui.getDefaultHour();return}this._hour=e}getMinute(){return this._minute}setMinute(e){if(e<0||e>59){this._minute=ui.getDefaultMinute();return}this._minute=e}getUniformHour(){return this.getHour().toString().padStart(2,"0")}getUniformMinute(){return this.getMinute().toString().padStart(2,"0")}setHourFromString(e){let r=Number.parseInt(e);this.setHour(Number.isNaN(r)?ui.getDefaultHour():r)}setMinuteFromString(e){let r=Number.parseInt(e);this.setMinute(Number.isNaN(r)?ui.getDefaultMinute():r)}},d6=lh.P.sequenceMap((t,e,r,n,i)=>({hour:Number.parseInt(t+e),minute:Number.parseInt(n+i)}),ju.P_UTILS.digit(),ju.P_UTILS.digit(),lh.P.string(":"),ju.P_UTILS.digit(),ju.P_UTILS.digit()),ui=class t{static parse(e){if(!e)return;let r=t.getDefaultTime(),n=d6.tryParse(e);if(n.success&&!(Number.isNaN(n.value.hour)||Number.isNaN(n.value.minute))&&!(n.value.hour<0||n.value.hour>=24)&&!(n.value.minute<0||n.value.minute>=60))return r.setHour(n.value.hour),r.setMinute(n.value.minute),r}static stringify(e){return`${e.getUniformHour()}:${e.getUniformMinute()}`}static getDefaultTime(){return new ch}static getDefaultHour(){return 0}static getDefaultMinute(){return 0}};function ZA(t,e,r){let n=t.slice();return n[13]=e[r][0],n[14]=e[r][1],n}function jA(t,e,r){let n=t.slice();return n[17]=e[r][0],n[18]=e[r][1],n}function $A(t){let e,r=t[18]+"",n,i;return{c(){e=Ee("option"),n=Gr(r),e.__value=i=t[17],Vr(e,e.__value)},m(a,o){Te(a,e,o),ke(e,n)},p(a,o){o&1&&r!==(r=a[18]+"")&&Kr(n,r),o&1&&i!==(i=a[17])&&(e.__value=i,Vr(e,e.__value))},d(a){a&&Me(e)}}}function JA(t){let e,r=t[14]+"",n,i;return{c(){e=Ee("option"),n=Gr(r),e.__value=i=t[13],Vr(e,e.__value)},m(a,o){Te(a,e,o),ke(e,n)},p(a,o){o&2&&r!==(r=a[14]+"")&&Kr(n,r),o&2&&i!==(i=a[13])&&(e.__value=i,Vr(e,e.__value))},d(a){a&&Me(e)}}}function h6(t){let e,r,n,i,a,o,c=Ur(Object.entries(t[0])),l=[];for(let f=0;f<c.length;f+=1)l[f]=$A(jA(t,c,f));let s=Ur(Object.entries(t[1])),u=[];for(let f=0;f<s.length;f+=1)u[f]=JA(ZA(t,s,f));return{c(){e=Ee("div"),r=Ee("select");for(let f=0;f<l.length;f+=1)l[f].c();n=vr(),i=Ee("select");for(let f=0;f<u.length;f+=1)u[f].c();ie(r,"class","dropdown mb-input-element-group-element"),t[2]===void 0&&zn(()=>t[9].call(r)),ie(i,"class","dropdown mb-input-element-group-element"),t[3]===void 0&&zn(()=>t[11].call(i)),ie(e,"class","mb-input-element-group")},m(f,p){Te(f,e,p),ke(e,r);for(let m=0;m<l.length;m+=1)l[m]&&l[m].m(r,null);dn(r,t[2],!0),ke(e,n),ke(e,i);for(let m=0;m<u.length;m+=1)u[m]&&u[m].m(i,null);dn(i,t[3],!0),a||(o=[qe(r,"change",t[9]),qe(r,"change",t[10]),qe(i,"change",t[11]),qe(i,"change",t[12])],a=!0)},p(f,[p]){if(p&1){c=Ur(Object.entries(f[0]));let m;for(m=0;m<c.length;m+=1){let v=jA(f,c,m);l[m]?l[m].p(v,p):(l[m]=$A(v),l[m].c(),l[m].m(r,null))}for(;m<l.length;m+=1)l[m].d(1);l.length=c.length}if(p&5&&dn(r,f[2]),p&2){s=Ur(Object.entries(f[1]));let m;for(m=0;m<s.length;m+=1){let v=ZA(f,s,m);u[m]?u[m].p(v,p):(u[m]=JA(v),u[m].c(),u[m].m(i,null))}for(;m<u.length;m+=1)u[m].d(1);u.length=s.length}p&10&&dn(i,f[3])},i:Ke,o:Ke,d(f){f&&Me(e),Tt(l,f),Tt(u,f),a=!1,wr(o)}}}function v6(t,e,r){let{value:n}=e,{onValueChange:i}=e,a={},o={},c,l;Ri(()=>{for(let g=0;g<=24;g++)r(0,a[g.toString()]=g.toString().padStart(2,"0"),a);for(let g=0;g<=59;g++)r(1,o[g.toString()]=g.toString().padStart(2,"0"),o);r(3,l=n.getMinute().toString()),r(2,c=n.getHour().toString())});function s(g){r(6,n=g),r(3,l=n.getMinute().toString()),r(2,c=n.getHour().toString())}function u(){n.setMinuteFromString(l),i(n)}function f(){n.setHourFromString(c),i(n)}function p(){c=Ki(this),r(2,c),r(0,a)}let m=()=>f();function v(){l=Ki(this),r(3,l),r(1,o)}let d=()=>u();return t.$$set=g=>{"value"in g&&r(6,n=g.value),"onValueChange"in g&&r(7,i=g.onValueChange)},[a,o,c,l,u,f,n,i,s,p,m,v,d]}var fh=class extends cr{constructor(e){super(),dr(this,e,v6,h6,mr,{value:6,onValueChange:7,setValue:8})}get setValue(){return this.$$.ctx[8]}},XA=fh;var xf=class extends Lr{filterValue(e){let r=_s(e);return ui.parse(r)?r:void 0}getFallbackDefaultValue(){return ui.getDefaultTime()}getSvelteComponent(){return XA}rawMapValue(e){return ui.stringify(e)}rawReverseMapValue(e){return ui.parse(e)}};function QA(t,e,r){let n=t.slice();return n[10]=e[r],n[12]=r,n}function KA(t){let e,r,n,i,a,o,c,l;r=new bi({props:{value:t[10]}}),a=new _n({props:{plugin:t[1],iconName:"x"}});function s(){return t[9](t[12])}return{c(){e=Ee("div"),Xr(r.$$.fragment),n=vr(),i=Ee("button"),Xr(a.$$.fragment),ie(i,"class","mb-inline-list-item-button"),ie(e,"class","mb-inline-list-item")},m(u,f){Te(u,e,f),Wr(r,e,null),ke(e,n),ke(e,i),Wr(a,i,null),o=!0,c||(l=qe(i,"click",s),c=!0)},p(u,f){t=u;let p={};f&1&&(p.value=t[10]),r.$set(p);let m={};f&2&&(m.plugin=t[1]),a.$set(m)},i(u){o||(We(r.$$.fragment,u),We(a.$$.fragment,u),o=!0)},o(u){rr(r.$$.fragment,u),rr(a.$$.fragment,u),o=!1},d(u){u&&Me(e),Zr(r),Zr(a),c=!1,l()}}}function g6(t){let e,r,n,i,a,o,c,l,s,u=Ur(t[0]),f=[];for(let m=0;m<u.length;m+=1)f[m]=KA(QA(t,u,m));let p=m=>rr(f[m],1,1,()=>{f[m]=null});return o=new _n({props:{plugin:t[1],iconName:"plus"}}),{c(){e=Ee("div");for(let m=0;m<f.length;m+=1)f[m].c();r=vr(),n=Ee("div"),i=Ee("span"),i.textContent="\u200B",a=vr(),Xr(o.$$.fragment),ie(n,"class","mb-inline-list-add"),ie(n,"role","button"),ie(n,"tabindex","0"),ie(e,"class","mb-inline-list")},m(m,v){Te(m,e,v);for(let d=0;d<f.length;d+=1)f[d]&&f[d].m(e,null);ke(e,r),ke(e,n),ke(n,i),ke(n,a),Wr(o,n,null),c=!0,l||(s=[qe(n,"click",t[3]),qe(n,"keydown",t[4])],l=!0)},p(m,[v]){if(v&7){u=Ur(m[0]);let g;for(g=0;g<u.length;g+=1){let x=QA(m,u,g);f[g]?(f[g].p(x,v),We(f[g],1)):(f[g]=KA(x),f[g].c(),We(f[g],1),f[g].m(e,r))}for(qt(),g=u.length;g<f.length;g+=1)p(g);Vt()}let d={};v&2&&(d.plugin=m[1]),o.$set(d)},i(m){if(!c){for(let v=0;v<u.length;v+=1)We(f[v]);We(o.$$.fragment,m),c=!0}},o(m){f=f.filter(Boolean);for(let v=0;v<f.length;v+=1)rr(f[v]);rr(o.$$.fragment,m),c=!1},d(m){m&&Me(e),Tt(f,m),Zr(o),l=!1,wr(s)}}}function y6(t,e,r){let{plugin:n}=e,{value:i}=e,{showSuggester:a}=e,{onValueChange:o}=e;function c(m){r(0,i=m)}function l(m){i.push(m),r(0,i)}function s(m){i.splice(m,1),o(i),r(0,i)}function u(m){m.target instanceof HTMLAnchorElement||a()}function f(m){m.key===" "&&a()}let p=m=>s(m);return t.$$set=m=>{"plugin"in m&&r(1,n=m.plugin),"value"in m&&r(0,i=m.value),"showSuggester"in m&&r(5,a=m.showSuggester),"onValueChange"in m&&r(6,o=m.onValueChange)},[i,n,s,u,f,a,o,c,l,p]}var ph=class extends cr{constructor(e){super(),dr(this,e,y6,g6,mr,{plugin:1,value:0,showSuggester:5,onValueChange:6,setValue:7,addValue:8})}get setValue(){return this.$$.ctx[7]}get addValue(){return this.$$.ctx[8]}},eN=ph;var bf=class extends Lr{filterValue(e){return Xi(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return eN}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{showSuggester:()=>this.openModal()}}openModal(){this.base.plugin.internal.openSuggesterModal(this,e=>{let r=this.getInternalValue();r.push(e.value),this.setInternalValue(r)})}};function rN(t,e,r){let n=t.slice();return n[10]=e[r],n[12]=r,n}function tN(t){let e,r,n,i,a,o,c,l;r=new bi({props:{value:t[10]}}),a=new _n({props:{plugin:t[1],iconName:"x"}});function s(){return t[9](t[12])}return{c(){e=Ee("div"),Xr(r.$$.fragment),n=vr(),i=Ee("button"),Xr(a.$$.fragment),ie(i,"class","mb-inline-list-item-button"),ie(e,"class","mb-inline-list-item")},m(u,f){Te(u,e,f),Wr(r,e,null),ke(e,n),ke(e,i),Wr(a,i,null),o=!0,c||(l=qe(i,"click",s),c=!0)},p(u,f){t=u;let p={};f&1&&(p.value=t[10]),r.$set(p);let m={};f&2&&(m.plugin=t[1]),a.$set(m)},i(u){o||(We(r.$$.fragment,u),We(a.$$.fragment,u),o=!0)},o(u){rr(r.$$.fragment,u),rr(a.$$.fragment,u),o=!1},d(u){u&&Me(e),Zr(r),Zr(a),c=!1,l()}}}function x6(t){let e,r,n,i,a,o,c,l,s,u=Ur(t[0]),f=[];for(let m=0;m<u.length;m+=1)f[m]=tN(rN(t,u,m));let p=m=>rr(f[m],1,1,()=>{f[m]=null});return o=new _n({props:{plugin:t[1],iconName:"plus"}}),{c(){e=Ee("div");for(let m=0;m<f.length;m+=1)f[m].c();r=vr(),n=Ee("div"),i=Ee("span"),i.textContent="\u200B",a=vr(),Xr(o.$$.fragment),ie(n,"class","mb-inline-list-add"),ie(n,"role","button"),ie(n,"tabindex","0"),ie(e,"class","mb-inline-list")},m(m,v){Te(m,e,v);for(let d=0;d<f.length;d+=1)f[d]&&f[d].m(e,null);ke(e,r),ke(e,n),ke(n,i),ke(n,a),Wr(o,n,null),c=!0,l||(s=[qe(n,"click",t[3]),qe(n,"keydown",t[4])],l=!0)},p(m,[v]){if(v&7){u=Ur(m[0]);let g;for(g=0;g<u.length;g+=1){let x=rN(m,u,g);f[g]?(f[g].p(x,v),We(f[g],1)):(f[g]=tN(x),f[g].c(),We(f[g],1),f[g].m(e,r))}for(qt(),g=u.length;g<f.length;g+=1)p(g);Vt()}let d={};v&2&&(d.plugin=m[1]),o.$set(d)},i(m){if(!c){for(let v=0;v<u.length;v+=1)We(f[v]);We(o.$$.fragment,m),c=!0}},o(m){f=f.filter(Boolean);for(let v=0;v<f.length;v+=1)rr(f[v]);rr(o.$$.fragment,m),c=!1},d(m){m&&Me(e),Tt(f,m),Zr(o),l=!1,wr(s)}}}function b6(t,e,r){let{plugin:n}=e,{value:i}=e,{showInput:a}=e,{onValueChange:o}=e;function c(m){r(0,i=m)}function l(m){i.push(m),r(0,i)}function s(m){i.splice(m,1),o(i),r(0,i)}function u(m){m.target instanceof HTMLAnchorElement||a()}function f(m){m.key===" "&&a()}let p=m=>s(m);return t.$$set=m=>{"plugin"in m&&r(1,n=m.plugin),"value"in m&&r(0,i=m.value),"showInput"in m&&r(5,a=m.showInput),"onValueChange"in m&&r(6,o=m.onValueChange)},[i,n,s,u,f,a,o,c,l,p]}var mh=class extends cr{constructor(e){super(),dr(this,e,b6,x6,mr,{plugin:1,value:0,showInput:5,onValueChange:6,setValue:7,addValue:8})}get setValue(){return this.$$.ctx[7]}get addValue(){return this.$$.ctx[8]}},nN=mh;var wf=class extends Lr{filterValue(e){return Xi(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return nN}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{showInput:()=>this.openModal()}}openModal(){this.base.plugin.internal.openTextPromptModal("","Meta Bind List","New List Element","",e=>{let r=this.getInternalValue();r.push(e),this.setInternalValue(r)},()=>{})}};var Df=class{constructor(e){this.plugin=e}createInputField(e){let r=e.declaration.inputFieldType,n=e.renderChildType;if(r!=="invalid"&&this.checkRenderChildTypeAllowed(r,n),r==="toggle")return new rf(e);if(r==="slider")return new nf(e);if(r==="text")return new tf(e);if(r==="textArea")return new af(e);if(r==="select")return new sf(e);if(r==="multiSelect")return new uf(e);if(r==="datePicker")return new lf(e);if(r==="number")return new cf(e);if(r==="suggester")return new ff(e);if(r==="editor")return new pf(e);if(r==="progressBar")return new mf(e);if(r==="inlineSelect")return new df(e);if(r==="imageSuggester")return new hf(e);if(r==="list")return new vf(e);if(r==="listSuggester")return new gf(e);if(r==="date")return new yf(e);if(r==="time")return new xf(e);if(r==="inlineListSuggester")return new bf(e);if(r==="inlineList")return new wf(e)}checkRenderChildTypeAllowed(e,r){if(this.plugin.settings.ignoreCodeBlockRestrictions)return;let n=hS[e];if(r==="block"&&!n.allowInBlock)throw new ga({errorLevel:"ERROR",effect:"can not create input field",cause:`input fields of type '${e}' are not allowed inside of code blocks`,docs:[Et.linkToInputField(e)]});if(r==="inline"&&!n.allowInline)throw new ga({errorLevel:"ERROR",effect:"can not create input field",cause:`input fields of type '${e}' are not allowed inside of inline code blocks`,docs:[Et.linkToInputField(e)]})}};var Sf=class{constructor(e){this.plugin=e}createDefaultButtonConfig(){return{label:"This is a button",hidden:!1,class:"",tooltip:"",id:"",style:"default",actions:[]}}runButtonAction(e,r){return Fr(this,null,function*(){try{if(e.action)yield this.plugin.api.buttonActionRunner.runAction(e.action,r);else if(e.actions)for(let n of e.actions)yield this.plugin.api.buttonActionRunner.runAction(n,r);else console.warn("meta-bind | ButtonMDRC >> no action defined")}catch(n){console.warn("meta-bind | ButtonMDRC >> error while running action",n),this.plugin.internal.showNotice("meta-bind | Error while running button action. Check the console for details.")}})}createDefaultAction(e){if(e==="command")return{type:"command",command:""};if(e==="open")return{type:"open",link:""};if(e==="js")return{type:"js",file:""};if(e==="input")return{type:"input",str:""};if(e==="sleep")return{type:"sleep",ms:0};if(e==="templaterCreateNote")return{type:"templaterCreateNote",templateFile:"",folderPath:"",fileName:"",openNote:!0};if(e==="updateMetadata")return{type:"updateMetadata",bindTarget:"",evaluate:!1,value:""};throw new Error(`Unknown button action type: ${e}`)}runAction(e,r){return Fr(this,null,function*(){if(e.type==="command"){yield this.runCommandAction(e);return}else if(e.type==="js"){yield this.runJSAction(e,r);return}else if(e.type==="open"){yield this.runOpenAction(e,r);return}else if(e.type==="input"){yield this.runInputAction(e);return}else if(e.type==="sleep"){yield this.runSleepAction(e);return}else if(e.type==="templaterCreateNote"){yield this.runTemplaterCreateNoteAction(e);return}else if(e.type==="updateMetadata"){yield this.runUpdateMetadataAction(e,r);return}throw new Error("Unknown button action type")})}runCommandAction(e){return Fr(this,null,function*(){this.plugin.internal.executeCommandById(e.command)})}runJSAction(e,r){return Fr(this,null,function*(){(yield this.plugin.internal.jsEngineRunFile(e.file,r))()})}runOpenAction(e,r){return Fr(this,null,function*(){var i;let n=Vn.parseLinkOrUrl(e.link);n.internal?this.plugin.internal.openFile(n.target,r,(i=e.newTab)!=null?i:!1):uc(n.target)})}runInputAction(e){return Fr(this,null,function*(){let r=document.activeElement;r&&r instanceof HTMLInputElement&&(r.setRangeText(e.str,r.selectionStart,r.selectionEnd,"end"),r.dispatchEvent(new Event("input",{bubbles:!0})))})}runSleepAction(e){return Fr(this,null,function*(){yield new Promise(r=>setTimeout(r,e.ms))})}runTemplaterCreateNoteAction(e){return Fr(this,null,function*(){throw new Error("Not supported")})}runUpdateMetadataAction(e,r){return Fr(this,null,function*(){let n=this.plugin.api.bindTargetParser.parseAndValidateBindTarget(e.bindTarget,r),i=$t(),a=new pn(void 0),o=this.plugin.metadataManager.subscribe(i,a,n,()=>{});o.applyUpdate({value:e.value,evaluate:e.evaluate}),o.unsubscribe()})}};var Af=class{constructor(e){this.value=e,this.count=1}getValue(){return this.value}increment(){return this.count+=1,this.count}decrement(){return this.count-=1,this.count}getCount(){return this.count}isEmpty(){return this.count===0}};var Nf=class{constructor(e){this.plugin=e,this.buttons=new Map,this.buttonLoadListeners=new Map,this.buttonTemplates=new Map}setButtonTemplates(e){let r=new Set,n=new mt("ButtonManager");this.buttonTemplates.clear();for(let i of e)i.id===void 0||i.id===""?n.add(new To({errorLevel:"ERROR",cause:`Button with label "${i.label}" has no id, but button templates must have an id.`,effect:"Button templates could not be saved."})):r.has(i.id)?n.add(new To({errorLevel:"ERROR",cause:`Button id "${i.id}" is not unique. The same id is used by multiple buttons.`,effect:"Button templates could not be saved."})):(r.add(i.id),this.buttonTemplates.set(i.id,i));return n.hasErrors()&&this.buttonTemplates.clear(),n}registerButtonLoadListener(e,r,n){let i=this.getButton(e,r);i&&n(i),this.buttonLoadListeners.has(e)||this.buttonLoadListeners.set(e,new Map);let a=this.buttonLoadListeners.get(e);a.has(r)||a.set(r,new Map);let o=a.get(r),c=$t();return o.set(c,n),()=>this.removeButtonLoadListener(e,r,c)}notifyButtonLoadListeners(e,r){let n=this.getButton(e,r);if(!n)throw new Error(`ButtonManager | button with id ${r} does not exist`);let i=this.buttonLoadListeners.get(e);if(!i)return;let a=i.get(r);if(a)for(let[o,c]of a)c(n)}removeButtonLoadListener(e,r,n){let i=this.buttonLoadListeners.get(e);if(!i)return;let a=i.get(r);a&&(a.delete(n),a.size===0&&i.delete(r),i.size===0&&this.buttonLoadListeners.delete(e))}addButton(e,r){var i,a;if(r.id===void 0||r.id==="")throw new Error("ButtonManager | button id is undefined");if(this.buttonTemplates.has(r.id))throw new Error(`ButtonManager | button with id "${r.id}" already exists in the button templates`);this.buttons.has(e)||this.buttons.set(e,new Map);let n=this.buttons.get(e);if(n.has(r.id))if(JSON.stringify((i=n.get(r.id))==null?void 0:i.getValue())===JSON.stringify(r)){(a=n.get(r.id))==null||a.increment();return}else throw new Error(`ButtonManager | button with id "${r.id}" already exists`);n.set(r.id,new Af(r)),this.notifyButtonLoadListeners(e,r.id)}getButton(e,r){var i;if(this.buttonTemplates.has(r))return this.buttonTemplates.get(r);let n=this.buttons.get(e);if(n)return(i=n.get(r))==null?void 0:i.getValue()}removeButton(e,r){var i,a;let n=this.buttons.get(e);n&&((i=n.get(r))==null||i.decrement(),(a=n.get(r))!=null&&a.isEmpty()&&n.delete(r),n.size===0&&this.buttons.delete(e))}};var uN=yt(yi());var Os=class{constructor(e,r){this.range=e,this.tokenClass=r}};var hh=yt(ii());var gr=class t{static sequence(...e){return hh.P.sequenceMap((...r)=>r.flat(2).filter(n=>n!==void 0),...e)}static separateBy(e,r){return t.sequence(e,t.sequence(r,e).many()).optional([])}static highlight(e,r){return e.node((n,i)=>[new Os(i,r)])}static highlightStr(e,r){return t.highlight(hh.P.string(e),r)}};var Bo=class{constructor(e,r,n){this.str=e,this.highlights=r.filter(i=>i.range.from.index!==i.range.to.index),this.parsingError=n}getHighlights(){if(this.parsingError===void 0)return this.highlights;let e;return this.str[this.parsingError.parseFailure.furthest.index]===`
`?e={index:this.parsingError.parseFailure.furthest.index+1,column:1,line:this.parsingError.parseFailure.furthest.line+1}:e={index:this.parsingError.parseFailure.furthest.index+1,column:this.parsingError.parseFailure.furthest.column+1,line:this.parsingError.parseFailure.furthest.line},[new Os({from:this.parsingError.parseFailure.furthest,to:e},"error")]}};var Rt=yt(yi());var vh=yt(ii());var gh=gr.highlight(Un,"ident"),_f=gr.highlight(Un,"keyword"),yh=gr.highlightStr(",","control"),Ef=gr.highlightStr("(","control"),Mf=gr.highlightStr(")","control"),Bs=gr.highlightStr("[","control"),Ps=gr.highlightStr("]","control"),S6=gr.highlight(Nd,"string"),A6=gr.highlight(_d,"ident"),N6=vh.P.or(A6,S6),_6=gr.separateBy(N6,yh.trim(Rt.P_UTILS.optionalWhitespace())),E6=gr.sequence(_f,gr.sequence(Ef,_6.trim(Rt.P_UTILS.optionalWhitespace()),Mf).optional()),xh=gr.separateBy(E6,yh.trim(Rt.P_UTILS.optionalWhitespace())),Rs=gr.sequence(gr.sequence(gh,gr.highlightStr("^","control")).optional(),gr.sequence(gr.highlight(Lu,"ident"),gr.highlightStr("#","control")).optional(),gr.highlight(Md,"ident")),M6=gr.sequence(_f.trim(Rt.P_UTILS.optionalWhitespace()),gr.sequence(Ef,xh.trim(Rt.P_UTILS.optionalWhitespace()),Mf).trim(Rt.P_UTILS.optionalWhitespace()).optional(),gr.sequence(gr.highlightStr(":","control").trim(Rt.P_UTILS.optionalWhitespace()),Rs).trim(Rt.P_UTILS.optionalWhitespace()).optional()),C6=gr.sequence(_f.trim(Rt.P_UTILS.optionalWhitespace()).optional(),gr.sequence(Ef,xh.trim(Rt.P_UTILS.optionalWhitespace()),Mf).trim(Rt.P_UTILS.optionalWhitespace()).optional(),gr.sequence(gr.highlightStr(":","control").trim(Rt.P_UTILS.optionalWhitespace()),Rs).trim(Rt.P_UTILS.optionalWhitespace()).optional()),aN=vh.P.or(gr.sequence(gr.highlightStr("INPUT","control"),Bs,gh.trim(Rt.P_UTILS.optionalWhitespace()),Ps.skip(Rt.P_UTILS.optionalWhitespace()),Bs,C6,Ps),gr.sequence(gr.highlightStr("INPUT","control"),Bs,M6,Ps)),iN=gr.highlight(Lc,"ident"),T6=gr.sequence(gr.highlightStr("{","string"),Rs,gr.highlightStr("}","string")),F6=gr.sequence(iN,gr.sequence(T6,iN).many()),I6=gr.sequence(_f.trim(Rt.P_UTILS.optionalWhitespace()).optional(),gr.sequence(Ef,xh.trim(Rt.P_UTILS.optionalWhitespace()).optional(),Mf).trim(Rt.P_UTILS.optionalWhitespace()).optional(),gr.sequence(gr.highlightStr(":","control").trim(Rt.P_UTILS.optionalWhitespace()),Rs).trim(Rt.P_UTILS.optionalWhitespace()).optional()),oN=gr.sequence(gr.highlightStr("VIEW","control"),Bs,F6,Ps,gr.sequence(Bs.skip(Rt.P_UTILS.optionalWhitespace()),I6,Ps).optional()),sN=gr.sequence(gr.highlightStr("BUTTON","control"),Bs,gr.separateBy(gh,yh.trim(Rt.P_UTILS.optionalWhitespace())),Ps);var Cf=class{constructor(e){this.plugin=e}highlightInputFieldDeclaration(e,r){return this.highlightWithParser(e,r,aN)}highlightViewFieldDeclaration(e,r){return this.highlightWithParser(e,r,oN)}highlightInlineButtonDeclaration(e,r){return this.highlightWithParser(e,r,sN)}highlight(e,r,n){if(r==="INPUT_FIELD")return this.highlightInputFieldDeclaration(e,n);if(r==="VIEW_FIELD")return this.highlightViewFieldDeclaration(e,n);if(r==="INLINE_BUTTON")return this.highlightInlineButtonDeclaration(e,n);throw new Error(`Unknown MDRCType ${r}`)}highlightBindTarget(e,r){return this.highlightWithParser(e,r,Rs)}highlightWithParser(e,r,n){try{return r?new Bo(e,on(n.trim(uN.P_UTILS.optionalWhitespace()).thenEof(),e)):new Bo(e,on(n.thenEof(),e))}catch(i){return i instanceof Ru?new Bo(e,[],i):(console.error(i),new Bo(e,[]))}}};var Za=class extends Ya{constructor(e){super(),this.base=e,this.inputSignal=new pn(void 0),this.variables=[],this.hidden=!1}initialRender(e){return Fr(this,null,function*(){var r,n;Ar.addClass(e,"mb-view-text"),this.hidden=(n=(r=this.base.getArgument("hidden"))==null?void 0:r.value)!=null?n:!1,this.hidden&&Ar.addClass(e,"mb-view-hidden"),yield this.onInitialRender(e),yield this.rerender(e,"")})}rerender(e,r){return Fr(this,null,function*(){var n;if(!this.hidden){let i=(n=Ac(r,this.base.plugin.settings.viewFieldDisplayNullAsEmpty))!=null?n:"";Ar.empty(e),yield this.onRerender(e,i)}})}onMount(e){this.buildVariables(),this.inputSignal.registerListener({callback:r=>void this.rerender(e,r)}),this.metadataSubscription=this.base.plugin.metadataManager.subscribeComputed(this.base.getUuid(),this.inputSignal,this.base.getDeclaration().writeToBindTarget,this.variables.map(r=>({bindTarget:r.bindTargetDeclaration,callbackSignal:r.inputSignal})),()=>Fr(this,null,function*(){return yield this.computeValue()}),()=>this.base.unmount()),this.initialRender(e)}onUnmount(){var e;this.inputSignal.unregisterAllListeners(),(e=this.metadataSubscription)==null||e.unsubscribe()}};function St(){return St=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},St.apply(this,arguments)}var wh={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function tr(t){return typeof t=="number"}function Ze(t){return!t||typeof t!="object"||typeof t.constructor!="function"?!1:t.isBigNumber===!0&&typeof t.constructor.prototype=="object"&&t.constructor.prototype.isBigNumber===!0||typeof t.constructor.isDecimal=="function"&&t.constructor.isDecimal(t)===!0}function Hn(t){return t&&typeof t=="object"&&Object.getPrototypeOf(t).isComplex===!0||!1}function wa(t){return t&&typeof t=="object"&&Object.getPrototypeOf(t).isFraction===!0||!1}function vn(t){return t&&t.constructor.prototype.isUnit===!0||!1}function Ft(t){return typeof t=="string"}var Ir=Array.isArray;function ze(t){return t&&t.constructor.prototype.isMatrix===!0||!1}function kt(t){return Array.isArray(t)||ze(t)}function Po(t){return t&&t.isDenseMatrix&&t.constructor.prototype.isMatrix===!0||!1}function Li(t){return t&&t.isSparseMatrix&&t.constructor.prototype.isMatrix===!0||!1}function ks(t){return t&&t.constructor.prototype.isRange===!0||!1}function ja(t){return t&&t.constructor.prototype.isIndex===!0||!1}function lN(t){return typeof t=="boolean"}function cN(t){return t&&t.constructor.prototype.isResultSet===!0||!1}function Tf(t){return t&&t.constructor.prototype.isHelp===!0||!1}function fN(t){return typeof t=="function"}function pN(t){return t instanceof Date}function mN(t){return t instanceof RegExp}function $a(t){return!!(t&&typeof t=="object"&&t.constructor===Object&&!Hn(t)&&!wa(t))}function dN(t){return t===null}function hN(t){return t===void 0}function li(t){return t&&t.isAccessorNode===!0&&t.constructor.prototype.isNode===!0||!1}function gn(t){return t&&t.isArrayNode===!0&&t.constructor.prototype.isNode===!0||!1}function vN(t){return t&&t.isAssignmentNode===!0&&t.constructor.prototype.isNode===!0||!1}function gN(t){return t&&t.isBlockNode===!0&&t.constructor.prototype.isNode===!0||!1}function yN(t){return t&&t.isConditionalNode===!0&&t.constructor.prototype.isNode===!0||!1}function Sr(t){return t&&t.isConstantNode===!0&&t.constructor.prototype.isNode===!0||!1}function $u(t){return Sr(t)||wt(t)&&t.args.length===1&&Sr(t.args[0])&&"-+~".includes(t.op)}function ea(t){return t&&t.isFunctionAssignmentNode===!0&&t.constructor.prototype.isNode===!0||!1}function Yn(t){return t&&t.isFunctionNode===!0&&t.constructor.prototype.isNode===!0||!1}function wi(t){return t&&t.isIndexNode===!0&&t.constructor.prototype.isNode===!0||!1}function _r(t){return t&&t.isNode===!0&&t.constructor.prototype.isNode===!0||!1}function Ja(t){return t&&t.isObjectNode===!0&&t.constructor.prototype.isNode===!0||!1}function wt(t){return t&&t.isOperatorNode===!0&&t.constructor.prototype.isNode===!0||!1}function yn(t){return t&&t.isParenthesisNode===!0&&t.constructor.prototype.isNode===!0||!1}function xN(t){return t&&t.isRangeNode===!0&&t.constructor.prototype.isNode===!0||!1}function bN(t){return t&&t.isRelationalNode===!0&&t.constructor.prototype.isNode===!0||!1}function lt(t){return t&&t.isSymbolNode===!0&&t.constructor.prototype.isNode===!0||!1}function Ff(t){return t&&t.constructor.prototype.isChain===!0||!1}function Cr(t){var e=typeof t;return e==="object"?t===null?"null":Ze(t)?"BigNumber":t.constructor&&t.constructor.name?t.constructor.name:"Object":e}function Xe(t){var e=typeof t;if(e==="number"||e==="string"||e==="boolean"||t===null||t===void 0)return t;if(typeof t.clone=="function")return t.clone();if(Array.isArray(t))return t.map(function(r){return Xe(r)});if(t instanceof Date)return new Date(t.valueOf());if(Ze(t))return t;if($a(t))return O6(t,Xe);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(t,")"))}function O6(t,e){var r={};for(var n in t)Ye(t,n)&&(r[n]=e(t[n]));return r}function If(t,e){for(var r in e)Ye(e,r)&&(t[r]=e[r]);return t}function Ui(t,e){var r,n,i;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;n++)if(!Ui(t[n],e[n]))return!1;return!0}else{if(typeof t=="function")return t===e;if(t instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(r in t)if(!(r in e)||!Ui(t[r],e[r]))return!1;for(r in e)if(!(r in t))return!1;return!0}else return t===e}}function wN(t,e,r){var n=!0,i;Object.defineProperty(t,e,{get:function(){return n&&(i=r(),n=!1),i},set:function(o){i=o,n=!1},configurable:!0,enumerable:!0})}function Ye(t,e){return t&&Object.hasOwnProperty.call(t,e)}function DN(t,e){for(var r={},n=0;n<e.length;n++){var i=e[n],a=t[i];a!==void 0&&(r[i]=a)}return r}var SN=["Matrix","Array"],AN=["number","BigNumber","Fraction"];var De=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(wh)};St(De,wh,{MATRIX_OPTIONS:SN,NUMBER_OPTIONS:AN});var kh=yt(Ah(),1);function Ue(t){return typeof t=="boolean"?!0:isFinite(t)?t===Math.round(t):!1}var Di=Math.sign||function(t){return t>0?1:t<0?-1:0},EN=Math.log2||function(e){return Math.log(e)/Math.LN2},MN=Math.log10||function(e){return Math.log(e)/Math.LN10},Of=Math.log1p||function(t){return Math.log(t+1)},CN=Math.cbrt||function(e){if(e===0)return e;var r=e<0,n;return r&&(e=-e),isFinite(e)?(n=Math.exp(Math.log(e)/3),n=(e/(n*n)+2*n)/3):n=e,r?-n:n},TN=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function Nh(t,e,r){var n={2:"0b",8:"0o",16:"0x"},i=n[e],a="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!Ue(r))throw new Error("size must be an integer");if(t>2**(r-1)-1||t<-(2**(r-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!Ue(t))throw new Error("Value must be an integer");t<0&&(t=t+2**r),a="i".concat(r)}var o="";return t<0&&(t=-t,o="-"),"".concat(o).concat(i).concat(t.toString(e)).concat(a)}function qi(t,e){if(typeof e=="function")return e(t);if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(isNaN(t))return"NaN";var{notation:r,precision:n,wordSize:i}=_h(e);switch(r){case"fixed":return Eh(t,n);case"exponential":return FN(t,n);case"engineering":return B6(t,n);case"bin":return Nh(t,2,i);case"oct":return Nh(t,8,i);case"hex":return Nh(t,16,i);case"auto":return P6(t,n,e).replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],o=arguments[4];return a!=="."?a+o:o});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function _h(t){var e="auto",r,n;if(t!==void 0)if(tr(t))r=t;else if(Ze(t))r=t.toNumber();else if($a(t))t.precision!==void 0&&(r=NN(t.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),t.wordSize!==void 0&&(n=NN(t.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),t.notation&&(e=t.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:e,precision:r,wordSize:n}}function Bf(t){var e=String(t).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+t);var r=e[1],n=e[2],i=parseFloat(e[4]||"0"),a=n.indexOf(".");i+=a!==-1?a-1:n.length-1;var o=n.replace(".","").replace(/^0*/,function(c){return i-=c.length,""}).replace(/0*$/,"").split("").map(function(c){return parseInt(c)});return o.length===0&&(o.push(0),i++),{sign:r,coefficients:o,exponent:i}}function B6(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=Bf(t),n=Pf(r,e),i=n.exponent,a=n.coefficients,o=i%3===0?i:i<0?i-3-i%3:i-i%3;if(tr(e))for(;e>a.length||i-o+1>a.length;)a.push(0);else for(var c=Math.abs(i-o)-(a.length-1),l=0;l<c;l++)a.push(0);for(var s=Math.abs(i-o),u=1;s>0;)u++,s--;var f=a.slice(u).join(""),p=tr(e)&&f.length||f.match(/[1-9]/)?"."+f:"",m=a.slice(0,u).join("")+p+"e"+(i>=0?"+":"")+o.toString();return n.sign+m}function Eh(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=Bf(t),n=typeof e=="number"?Pf(r,r.exponent+1+e):r,i=n.coefficients,a=n.exponent+1,o=a+(e||0);return i.length<o&&(i=i.concat(Ls(o-i.length))),a<0&&(i=Ls(-a+1).concat(i),a=1),a<i.length&&i.splice(a,0,a===0?"0.":"."),n.sign+i.join("")}function FN(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=Bf(t),n=e?Pf(r,e):r,i=n.coefficients,a=n.exponent;i.length<e&&(i=i.concat(Ls(e-i.length)));var o=i.shift();return n.sign+o+(i.length>0?"."+i.join(""):"")+"e"+(a>=0?"+":"")+a}function P6(t,e,r){if(isNaN(t)||!isFinite(t))return String(t);var n=_N(r==null?void 0:r.lowerExp,-3),i=_N(r==null?void 0:r.upperExp,5),a=Bf(t),o=e?Pf(a,e):a;if(o.exponent<n||o.exponent>=i)return FN(t,e);var c=o.coefficients,l=o.exponent;c.length<e&&(c=c.concat(Ls(e-c.length))),c=c.concat(Ls(l-c.length+1+(c.length<e?e-c.length:0))),c=Ls(-l).concat(c);var s=l>0?l:0;return s<c.length-1&&c.splice(s+1,0,"."),o.sign+c.join("")}function Pf(t,e){for(var r={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},n=r.coefficients;e<=0;)n.unshift(0),r.exponent++,e++;if(n.length>e){var i=n.splice(e,n.length-e);if(i[0]>=5){var a=e-1;for(n[a]++;n[a]===10;)n.pop(),a===0&&(n.unshift(0),r.exponent++,a++),a--,n[a]++}}return r}function Ls(t){for(var e=[],r=0;r<t;r++)e.push(0);return e}function IN(t){return t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var R6=Number.EPSILON||2220446049250313e-31;function zt(t,e,r){if(r==null)return t===e;if(t===e)return!0;if(isNaN(t)||isNaN(e))return!1;if(isFinite(t)&&isFinite(e)){var n=Math.abs(t-e);return n<=R6?!0:n<=Math.max(Math.abs(t),Math.abs(e))*r}return!1}var ON=Math.acosh||function(t){return Math.log(Math.sqrt(t*t-1)+t)},BN=Math.asinh||function(t){return Math.log(Math.sqrt(t*t+1)+t)},PN=Math.atanh||function(t){return Math.log((1+t)/(1-t))/2},Rf=Math.cosh||function(t){return(Math.exp(t)+Math.exp(-t))/2},RN=Math.sinh||function(t){return(Math.exp(t)-Math.exp(-t))/2},kf=Math.tanh||function(t){var e=Math.exp(2*t);return(e-1)/(e+1)};function kN(t,e){var r=t>0?!0:t<0?!1:1/t===1/0,n=e>0?!0:e<0?!1:1/e===1/0;return r^n?-t:t}function NN(t,e){if(tr(t))return t;if(Ze(t))return t.toNumber();e()}function _N(t,e){return tr(t)?t:Ze(t)?t.toNumber():e}function Mh(t,e,r){var n=t.constructor,i=new n(2),a="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!Ue(r))throw new Error("size must be an integer");if(t.greaterThan(i.pow(r-1).sub(1))||t.lessThan(i.pow(r-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!t.isInteger())throw new Error("Value must be an integer");t.lessThan(0)&&(t=t.add(i.pow(r))),a="i".concat(r)}switch(e){case 2:return"".concat(t.toBinary()).concat(a);case 8:return"".concat(t.toOctal()).concat(a);case 16:return"".concat(t.toHexadecimal()).concat(a);default:throw new Error("Base ".concat(e," not supported "))}}function qN(t,e){if(typeof e=="function")return e(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var{notation:r,precision:n,wordSize:i}=_h(e);switch(r){case"fixed":return L6(t,n);case"exponential":return LN(t,n);case"engineering":return k6(t,n);case"bin":return Mh(t,2,i);case"oct":return Mh(t,8,i);case"hex":return Mh(t,16,i);case"auto":{var a=UN(e==null?void 0:e.lowerExp,-3),o=UN(e==null?void 0:e.upperExp,5);if(t.isZero())return"0";var c,l=t.toSignificantDigits(n),s=l.e;return s>=a&&s<o?c=l.toFixed():c=LN(t,n),c.replace(/((\.\d*?)(0+))($|e)/,function(){var u=arguments[2],f=arguments[4];return u!=="."?u+f:f})}default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function k6(t,e){var r=t.e,n=r%3===0?r:r<0?r-3-r%3:r-r%3,i=t.mul(Math.pow(10,-n)),a=i.toPrecision(e);if(a.indexOf("e")!==-1){var o=t.constructor;a=new o(a).toFixed()}return a+"e"+(r>=0?"+":"")+n.toString()}function LN(t,e){return e!==void 0?t.toExponential(e-1):t.toExponential()}function L6(t,e){return t.toFixed(e)}function UN(t,e){return tr(t)?t:Ze(t)?t.toNumber():e}function zN(t,e){var r=t.length-e.length,n=t.length;return t.substring(r,n)===e}function ir(t,e){var r=U6(t,e);return e&&typeof e=="object"&&"truncate"in e&&r.length>e.truncate?r.substring(0,e.truncate-3)+"...":r}function U6(t,e){if(typeof t=="number")return qi(t,e);if(Ze(t))return qN(t,e);if(q6(t))return!e||e.fraction!=="decimal"?t.s*t.n+"/"+t.d:t.toString();if(Array.isArray(t))return HN(t,e);if(Ft(t))return Ro(t);if(typeof t=="function")return t.syntax?String(t.syntax):"function";if(t&&typeof t=="object"){if(typeof t.format=="function")return t.format(e);if(t&&t.toString(e)!=={}.toString())return t.toString(e);var r=Object.keys(t).map(n=>Ro(n)+": "+ir(t[n],e));return"{"+r.join(", ")+"}"}return String(t)}function Ro(t){for(var e=String(t),r="",n=0;n<e.length;){var i=e.charAt(n);r+=i in VN?VN[i]:i,n++}return'"'+r+'"'}var VN={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function rn(t){var e=String(t);return e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),e}function HN(t,e){if(Array.isArray(t)){for(var r="[",n=t.length,i=0;i<n;i++)i!==0&&(r+=", "),r+=HN(t[i],e);return r+="]",r}else return ir(t,e)}function q6(t){return t&&typeof t=="object"&&typeof t.s=="number"&&typeof t.n=="number"&&typeof t.d=="number"||!1}function Lf(t,e){if(!Ft(t))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+Cr(t)+", index: 0)");if(!Ft(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+Cr(e)+", index: 1)");return t===e?0:t>e?1:-1}function ar(t,e,r){if(!(this instanceof ar))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=e,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}ar.prototype=new RangeError;ar.prototype.constructor=RangeError;ar.prototype.name="DimensionError";ar.prototype.isDimensionError=!0;function xn(t,e,r){if(!(this instanceof xn))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=r),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}xn.prototype=new RangeError;xn.prototype.constructor=RangeError;xn.prototype.name="IndexError";xn.prototype.isIndexError=!0;function er(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e}function YN(t,e,r){var n,i=t.length;if(i!==e[r])throw new ar(i,e[r]);if(r<e.length-1){var a=r+1;for(n=0;n<i;n++){var o=t[n];if(!Array.isArray(o))throw new ar(e.length-1,e.length,"<");YN(t[n],e,a)}}else for(n=0;n<i;n++)if(Array.isArray(t[n]))throw new ar(e.length+1,e.length,">")}function Th(t,e){var r=e.length===0;if(r){if(Array.isArray(t))throw new ar(t.length,0)}else YN(t,e,0)}function Ju(t,e){var r=t.isMatrix?t._size:er(t),n=e._sourceSize;n.forEach((i,a)=>{if(i!==null&&i!==r[a])throw new ar(i,r[a])})}function tt(t,e){if(t!==void 0){if(!tr(t)||!Ue(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||typeof e=="number"&&t>=e)throw new xn(t,e)}}function ko(t){for(var e=0;e<t._dimensions.length;++e){var r=t._dimensions[e];if(r._data&&Ir(r._data)){if(r._size[0]===0)return!0}else if(r.isRange){if(r.start===r.end)return!0}else if(Ft(r)&&r.length===0)return!0}return!1}function Vi(t,e,r){if(!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(i){if(!tr(i)||!Ue(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+ir(e)+")")}),(tr(t)||Ze(t))&&(t=[t]);var n=r!==void 0?r:0;return Ch(t,e,0,n),t}function Ch(t,e,r,n){var i,a,o=t.length,c=e[r],l=Math.min(o,c);if(t.length=c,r<e.length-1){var s=r+1;for(i=0;i<l;i++)a=t[i],Array.isArray(a)||(a=[a],t[i]=a),Ch(a,e,s,n);for(i=l;i<c;i++)a=[],t[i]=a,Ch(a,e,s,n)}else{for(i=0;i<l;i++)for(;Array.isArray(t[i]);)t[i]=t[i][0];for(i=l;i<c;i++)t[i]=n}}function Xu(t,e){var r=hr(t),n=r.length;if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new ar(0,n,"!=");e=Qu(e,n);var i=GN(e);if(n!==i)throw new ar(i,n,"!=");try{return V6(r,e)}catch(a){throw a instanceof ar?new ar(i,n,"!="):a}}function Qu(t,e){var r=GN(t),n=t.slice(),i=-1,a=t.indexOf(i),o=t.indexOf(i,a+1)>=0;if(o)throw new Error("More than one wildcard in sizes");var c=a>=0,l=e%r===0;if(c)if(l)n[a]=-e/r;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-r);return n}function GN(t){return t.reduce((e,r)=>e*r,1)}function V6(t,e){for(var r=t,n,i=e.length-1;i>0;i--){var a=e[i];n=[];for(var o=r.length/a,c=0;c<o;c++)n.push(r.slice(c*a,(c+1)*a));r=n}return r}function Us(t,e){for(var r=e||er(t);Array.isArray(t)&&t.length===1;)t=t[0],r.shift();for(var n=r.length;r[n-1]===1;)n--;return n<r.length&&(t=WN(t,n,0),r.length=n),t}function WN(t,e,r){var n,i;if(r<e){var a=r+1;for(n=0,i=t.length;n<i;n++)t[n]=WN(t[n],e,a)}else for(;Array.isArray(t);)t=t[0];return t}function Uf(t,e,r,n){var i=n||er(t);if(r)for(var a=0;a<r;a++)t=[t],i.unshift(1);for(t=ZN(t,e,0);i.length<e;)i.push(1);return t}function ZN(t,e,r){var n,i;if(Array.isArray(t)){var a=r+1;for(n=0,i=t.length;n<i;n++)t[n]=ZN(t[n],e,a)}else for(var o=r;o<e;o++)t=[t];return t}function hr(t){if(!Array.isArray(t))return t;var e=[];return t.forEach(function r(n){Array.isArray(n)?n.forEach(r):e.push(n)}),e}function $n(t,e){return Array.prototype.map.call(t,e)}function Xa(t,e){Array.prototype.forEach.call(t,e)}function qf(t,e){if(er(t).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(t,e)}function qs(t,e){if(er(t).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(t,r=>e.test(r))}function Fh(t,e){return Array.prototype.join.call(t,e)}function Da(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(t.length===0)return t;var e=[],r=0;e[0]={value:t[0],identifier:0};for(var n=1;n<t.length;n++)t[n]===t[n-1]?r++:r=0,e.push({value:t[n],identifier:r});return e}function Vs(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(t.length===0)return t;for(var e=[],r=0;r<t.length;r++)e.push(t[r].value);return e}function Qa(t,e){for(var r,n=0,i=0;i<t.length;i++){var a=t[i],o=Array.isArray(a);if(i===0&&o&&(n=a.length),o&&a.length!==n)return;var c=o?Qa(a,e):e(a);if(r===void 0)r=c;else if(r!==c)return"mixed"}return r}function jN(t,e,r,n){if(n<r){if(t.length!==e.length)throw new ar(t.length,e.length);for(var i=[],a=0;a<t.length;a++)i[a]=jN(t[a],e[a],r,n+1);return i}else return t.concat(e)}function Ih(){var t=Array.prototype.slice.call(arguments,0,-1),e=Array.prototype.slice.call(arguments,-1);if(t.length===1)return t[0];if(t.length>1)return t.slice(1).reduce(function(r,n){return jN(r,n,e,0)},t[0]);throw new Error("Wrong number of arguments in function concat")}function z6(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var n=e.map(p=>p.length),i=Math.max(...n),a=new Array(i).fill(null),o=0;o<e.length;o++)for(var c=e[o],l=n[o],s=0;s<l;s++){var u=i-l+s;c[s]>a[u]&&(a[u]=c[s])}for(var f=0;f<e.length;f++)Ku(e[f],a);return a}function Ku(t,e){for(var r=e.length,n=t.length,i=0;i<n;i++){var a=r-n+i;if(t[i]<e[a]&&t[i]>1||t[i]>e[a])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(t,") not possible to broadcast dimension ").concat(n," with size ").concat(t[i]," to size ").concat(e[a]))}}function Oh(t,e){var r=er(t);if(Ui(r,e))return t;Ku(r,e);var n=z6(r,e),i=n.length,a=[...Array(i-r.length).fill(1),...r],o=Y6(t);r.length<i&&(o=Xu(o,a),r=er(o));for(var c=0;c<i;c++)r[c]<n[c]&&(o=H6(o,n[c],c),r=er(o));return o}function H6(t,e,r){return Ih(...Array(e).fill(t),r)}function Y6(t){return St([],t)}function M(t,e,r,n){function i(a){var o=DN(a,e.map(Z6));return G6(t,e,a),r(o)}return i.isFactory=!0,i.fn=t,i.dependencies=e.slice().sort(),n&&(i.meta=n),i}function G6(t,e,r){var n=e.filter(a=>!W6(a)).every(a=>r[a]!==void 0);if(!n){var i=e.filter(a=>r[a]===void 0);throw new Error('Cannot create function "'.concat(t,'", ')+"some dependencies are missing: ".concat(i.map(a=>'"'.concat(a,'"')).join(", "),"."))}}function W6(t){return t&&t[0]==="?"}function Z6(t){return t&&t[0]==="?"?t.slice(1):t}function At(t,e){if(QN(t)&&JN(t,e))return t[e];throw typeof t[e]=="function"&&Vf(t,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function ra(t,e,r){if(QN(t)&&JN(t,e))return t[e]=r,r;throw new Error('No access to property "'+e+'"')}function $N(t,e){return e in t}function JN(t,e){return!t||typeof t!="object"?!1:Ye(j6,e)?!0:!(e in Object.prototype||e in Function.prototype)}function XN(t,e){if(!Vf(t,e))throw new Error('No access to method "'+e+'"');return t[e]}function Vf(t,e){return t==null||typeof t[e]!="function"||Ye(t,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(t)?!1:Ye($6,e)?!0:!(e in Object.prototype||e in Function.prototype)}function QN(t){return typeof t=="object"&&t&&t.constructor===Object}var j6={length:!0,name:!0},$6={toString:!0,valueOf:!0,toLocaleString:!0};var Lo=class{constructor(e){this.wrappedObject=e}keys(){return Object.keys(this.wrappedObject).values()}get(e){return At(this.wrappedObject,e)}set(e,r){return ra(this.wrappedObject,e,r),this}has(e){return $N(this.wrappedObject,e)}entries(){return KN(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var r of this.keys())e(this.get(r),r,this)}delete(e){delete this.wrappedObject[e]}clear(){for(var e of this.keys())this.delete(e)}get size(){return Object.keys(this.wrappedObject).length}},zs=class{constructor(e,r,n){this.a=e,this.b=r,this.bKeys=n}get(e){return this.bKeys.has(e)?this.b.get(e):this.a.get(e)}set(e,r){return this.bKeys.has(e)?this.b.set(e,r):this.a.set(e,r),this}has(e){return this.b.has(e)||this.a.has(e)}keys(){return new Set([...this.a.keys(),...this.b.keys()])[Symbol.iterator]()}entries(){return KN(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var r of this.keys())e(this.get(r),r,this)}delete(e){return this.bKeys.has(e)?this.b.delete(e):this.a.delete(e)}clear(){this.a.clear(),this.b.clear()}get size(){return[...this.keys()].length}};function KN(t,e){return{next:()=>{var r=t.next();return r.done?r:{value:e(r.value),done:!1}}}}function Ka(){return new Map}function Sa(t){if(!t)return Ka();if(Bh(t))return t;if($a(t))return new Lo(t);throw new Error("createMap can create maps from objects or Maps")}function e_(t){if(t instanceof Lo)return t.wrappedObject;var e={};for(var r of t.keys()){var n=t.get(r);ra(e,r,n)}return e}function Bh(t){return t?t instanceof Map||t instanceof Lo||typeof t.set=="function"&&typeof t.get=="function"&&typeof t.keys=="function"&&typeof t.has=="function":!1}var r_=function(){return r_=kh.default.create,kh.default},J6=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],Lh=M("typed",J6,function(e){var{BigNumber:r,Complex:n,DenseMatrix:i,Fraction:a}=e,o=r_();return o.clear(),o.addTypes([{name:"number",test:tr},{name:"Complex",test:Hn},{name:"BigNumber",test:Ze},{name:"Fraction",test:wa},{name:"Unit",test:vn},{name:"identifier",test:c=>Ft&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(c)},{name:"string",test:Ft},{name:"Chain",test:Ff},{name:"Array",test:Ir},{name:"Matrix",test:ze},{name:"DenseMatrix",test:Po},{name:"SparseMatrix",test:Li},{name:"Range",test:ks},{name:"Index",test:ja},{name:"boolean",test:lN},{name:"ResultSet",test:cN},{name:"Help",test:Tf},{name:"function",test:fN},{name:"Date",test:pN},{name:"RegExp",test:mN},{name:"null",test:dN},{name:"undefined",test:hN},{name:"AccessorNode",test:li},{name:"ArrayNode",test:gn},{name:"AssignmentNode",test:vN},{name:"BlockNode",test:gN},{name:"ConditionalNode",test:yN},{name:"ConstantNode",test:Sr},{name:"FunctionNode",test:Yn},{name:"FunctionAssignmentNode",test:ea},{name:"IndexNode",test:wi},{name:"Node",test:_r},{name:"ObjectNode",test:Ja},{name:"OperatorNode",test:wt},{name:"ParenthesisNode",test:yn},{name:"RangeNode",test:xN},{name:"RelationalNode",test:bN},{name:"SymbolNode",test:lt},{name:"Map",test:Bh},{name:"Object",test:$a}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(l){if(r||Ph(l),IN(l)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+l+"). Use function bignumber(x) to convert to BigNumber.");return new r(l)}},{from:"number",to:"Complex",convert:function(l){return n||zf(l),new n(l,0)}},{from:"BigNumber",to:"Complex",convert:function(l){return n||zf(l),new n(l.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(l){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(l){return n||zf(l),new n(l.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(l){a||Rh(l);var s=new a(l);if(s.valueOf()!==l)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+l+"). Use function fraction(x) to convert to Fraction.");return s}},{from:"string",to:"number",convert:function(l){var s=Number(l);if(isNaN(s))throw new Error('Cannot convert "'+l+'" to a number');return s}},{from:"string",to:"BigNumber",convert:function(l){r||Ph(l);try{return new r(l)}catch(s){throw new Error('Cannot convert "'+l+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(l){a||Rh(l);try{return new a(l)}catch(s){throw new Error('Cannot convert "'+l+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(l){n||zf(l);try{return new n(l)}catch(s){throw new Error('Cannot convert "'+l+'" to Complex')}}},{from:"boolean",to:"number",convert:function(l){return+l}},{from:"boolean",to:"BigNumber",convert:function(l){return r||Ph(l),new r(+l)}},{from:"boolean",to:"Fraction",convert:function(l){return a||Rh(l),new a(+l)}},{from:"boolean",to:"string",convert:function(l){return String(l)}},{from:"Array",to:"Matrix",convert:function(l){return i||X6(),new i(l)}},{from:"Matrix",to:"Array",convert:function(l){return l.valueOf()}}]),o.onMismatch=(c,l,s)=>{var u=o.createError(c,l,s);if(["wrongType","mismatch"].includes(u.data.category)&&l.length===1&&kt(l[0])&&s.some(p=>!p.params.includes(","))){var f=new TypeError("Function '".concat(c,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(c,")'."));throw f.data=u.data,f}throw u},o.onMismatch=(c,l,s)=>{var u=o.createError(c,l,s);if(["wrongType","mismatch"].includes(u.data.category)&&l.length===1&&kt(l[0])&&s.some(p=>!p.params.includes(","))){var f=new TypeError("Function '".concat(c,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(c,")'."));throw f.data=u.data,f}throw u},o});function Ph(t){throw new Error("Cannot convert value ".concat(t," into a BigNumber: no class 'BigNumber' provided"))}function zf(t){throw new Error("Cannot convert value ".concat(t," into a Complex number: no class 'Complex' provided"))}function X6(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Rh(t){throw new Error("Cannot convert value ".concat(t," into a Fraction, no class 'Fraction' provided."))}var Q6="ResultSet",K6=[],Uh=M(Q6,K6,()=>{function t(e){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this.entries=e||[]}return t.prototype.type="ResultSet",t.prototype.isResultSet=!0,t.prototype.valueOf=function(){return this.entries},t.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},t.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},t.fromJSON=function(e){return new t(e.entries)},t},{isClass:!0});var Hs=9e15,no=1e9,qh="0123456789abcdef",Yf="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Gf="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Vh={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Hs,maxE:Hs,crypto:!1},a_,Aa,Er=!0,Zf="[DecimalError] ",to=Zf+"Invalid argument: ",o_=Zf+"Precision limit exceeded",s_=Zf+"crypto unavailable",u_="[object Decimal]",En=Math.floor,tn=Math.pow,e9=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,r9=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,t9=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,l_=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Hi=1e7,yr=7,n9=9007199254740991,i9=Yf.length-1,zh=Gf.length-1,Ce={toStringTag:u_};Ce.absoluteValue=Ce.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),ur(t)};Ce.ceil=function(){return ur(new this.constructor(this),this.e+1,2)};Ce.clampedTo=Ce.clamp=function(t,e){var r,n=this,i=n.constructor;if(t=new i(t),e=new i(e),!t.s||!e.s)return new i(NaN);if(t.gt(e))throw Error(to+e);return r=n.cmp(t),r<0?t:n.cmp(e)>0?e:new i(n)};Ce.comparedTo=Ce.cmp=function(t){var e,r,n,i,a=this,o=a.d,c=(t=new a.constructor(t)).d,l=a.s,s=t.s;if(!o||!c)return!l||!s?NaN:l!==s?l:o===c?0:!o^l<0?1:-1;if(!o[0]||!c[0])return o[0]?l:c[0]?-s:0;if(l!==s)return l;if(a.e!==t.e)return a.e>t.e^l<0?1:-1;for(n=o.length,i=c.length,e=0,r=n<i?n:i;e<r;++e)if(o[e]!==c[e])return o[e]>c[e]^l<0?1:-1;return n===i?0:n>i^l<0?1:-1};Ce.cosine=Ce.cos=function(){var t,e,r=this,n=r.constructor;return r.d?r.d[0]?(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+yr,n.rounding=1,r=a9(n,d_(n,r)),n.precision=t,n.rounding=e,ur(Aa==2||Aa==3?r.neg():r,t,e,!0)):new n(1):new n(NaN)};Ce.cubeRoot=Ce.cbrt=function(){var t,e,r,n,i,a,o,c,l,s,u=this,f=u.constructor;if(!u.isFinite()||u.isZero())return new f(u);for(Er=!1,a=u.s*tn(u.s*u,1/3),!a||Math.abs(a)==1/0?(r=bn(u.d),t=u.e,(a=(t-r.length+1)%3)&&(r+=a==1||a==-2?"0":"00"),a=tn(r,1/3),t=En((t+1)/3)-(t%3==(t<0?-1:2)),a==1/0?r="5e"+t:(r=a.toExponential(),r=r.slice(0,r.indexOf("e")+1)+t),n=new f(r),n.s=u.s):n=new f(a.toString()),o=(t=f.precision)+3;;)if(c=n,l=c.times(c).times(c),s=l.plus(u),n=Nt(s.plus(u).times(c),s.plus(l),o+2,1),bn(c.d).slice(0,o)===(r=bn(n.d)).slice(0,o))if(r=r.slice(o-3,o+1),r=="9999"||!i&&r=="4999"){if(!i&&(ur(c,t+1,0),c.times(c).times(c).eq(u))){n=c;break}o+=4,i=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(ur(n,t+1,1),e=!n.times(n).times(n).eq(u));break}return Er=!0,ur(n,t,f.rounding,e)};Ce.decimalPlaces=Ce.dp=function(){var t,e=this.d,r=NaN;if(e){if(t=e.length-1,r=(t-En(this.e/yr))*yr,t=e[t],t)for(;t%10==0;t/=10)r--;r<0&&(r=0)}return r};Ce.dividedBy=Ce.div=function(t){return Nt(this,new this.constructor(t))};Ce.dividedToIntegerBy=Ce.divToInt=function(t){var e=this,r=e.constructor;return ur(Nt(e,new r(t),0,1,1),r.precision,r.rounding)};Ce.equals=Ce.eq=function(t){return this.cmp(t)===0};Ce.floor=function(){return ur(new this.constructor(this),this.e+1,3)};Ce.greaterThan=Ce.gt=function(t){return this.cmp(t)>0};Ce.greaterThanOrEqualTo=Ce.gte=function(t){var e=this.cmp(t);return e==1||e===0};Ce.hyperbolicCosine=Ce.cosh=function(){var t,e,r,n,i,a=this,o=a.constructor,c=new o(1);if(!a.isFinite())return new o(a.s?1/0:NaN);if(a.isZero())return c;r=o.precision,n=o.rounding,o.precision=r+Math.max(a.e,a.sd())+4,o.rounding=1,i=a.d.length,i<32?(t=Math.ceil(i/3),e=(1/$f(4,t)).toString()):(t=16,e="2.3283064365386962890625e-10"),a=Ys(o,1,a.times(e),new o(1),!0);for(var l,s=t,u=new o(8);s--;)l=a.times(a),a=c.minus(l.times(u.minus(l.times(u))));return ur(a,o.precision=r,o.rounding=n,!0)};Ce.hyperbolicSine=Ce.sinh=function(){var t,e,r,n,i=this,a=i.constructor;if(!i.isFinite()||i.isZero())return new a(i);if(e=a.precision,r=a.rounding,a.precision=e+Math.max(i.e,i.sd())+4,a.rounding=1,n=i.d.length,n<3)i=Ys(a,2,i,i,!0);else{t=1.4*Math.sqrt(n),t=t>16?16:t|0,i=i.times(1/$f(5,t)),i=Ys(a,2,i,i,!0);for(var o,c=new a(5),l=new a(16),s=new a(20);t--;)o=i.times(i),i=i.times(c.plus(o.times(l.times(o).plus(s))))}return a.precision=e,a.rounding=r,ur(i,e,r,!0)};Ce.hyperbolicTangent=Ce.tanh=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+7,n.rounding=1,Nt(r.sinh(),r.cosh(),n.precision=t,n.rounding=e)):new n(r.s)};Ce.inverseCosine=Ce.acos=function(){var t,e=this,r=e.constructor,n=e.abs().cmp(1),i=r.precision,a=r.rounding;return n!==-1?n===0?e.isNeg()?zi(r,i,a):new r(0):new r(NaN):e.isZero()?zi(r,i+4,a).times(.5):(r.precision=i+6,r.rounding=1,e=e.asin(),t=zi(r,i+4,a).times(.5),r.precision=i,r.rounding=a,t.minus(e))};Ce.inverseHyperbolicCosine=Ce.acosh=function(){var t,e,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(t=n.precision,e=n.rounding,n.precision=t+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,Er=!1,r=r.times(r).minus(1).sqrt().plus(r),Er=!0,n.precision=t,n.rounding=e,r.ln()):new n(r)};Ce.inverseHyperbolicSine=Ce.asinh=function(){var t,e,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,Er=!1,r=r.times(r).plus(1).sqrt().plus(r),Er=!0,n.precision=t,n.rounding=e,r.ln())};Ce.inverseHyperbolicTangent=Ce.atanh=function(){var t,e,r,n,i=this,a=i.constructor;return i.isFinite()?i.e>=0?new a(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=a.precision,e=a.rounding,n=i.sd(),Math.max(n,t)<2*-i.e-1?ur(new a(i),t,e,!0):(a.precision=r=n-i.e,i=Nt(i.plus(1),new a(1).minus(i),r+t,1),a.precision=t+4,a.rounding=1,i=i.ln(),a.precision=t,a.rounding=e,i.times(.5))):new a(NaN)};Ce.inverseSine=Ce.asin=function(){var t,e,r,n,i=this,a=i.constructor;return i.isZero()?new a(i):(e=i.abs().cmp(1),r=a.precision,n=a.rounding,e!==-1?e===0?(t=zi(a,r+4,n).times(.5),t.s=i.s,t):new a(NaN):(a.precision=r+6,a.rounding=1,i=i.div(new a(1).minus(i.times(i)).sqrt().plus(1)).atan(),a.precision=r,a.rounding=n,i.times(2)))};Ce.inverseTangent=Ce.atan=function(){var t,e,r,n,i,a,o,c,l,s=this,u=s.constructor,f=u.precision,p=u.rounding;if(s.isFinite()){if(s.isZero())return new u(s);if(s.abs().eq(1)&&f+4<=zh)return o=zi(u,f+4,p).times(.25),o.s=s.s,o}else{if(!s.s)return new u(NaN);if(f+4<=zh)return o=zi(u,f+4,p).times(.5),o.s=s.s,o}for(u.precision=c=f+10,u.rounding=1,r=Math.min(28,c/yr+2|0),t=r;t;--t)s=s.div(s.times(s).plus(1).sqrt().plus(1));for(Er=!1,e=Math.ceil(c/yr),n=1,l=s.times(s),o=new u(s),i=s;t!==-1;)if(i=i.times(l),a=o.minus(i.div(n+=2)),i=i.times(l),o=a.plus(i.div(n+=2)),o.d[e]!==void 0)for(t=e;o.d[t]===a.d[t]&&t--;);return r&&(o=o.times(2<<r-1)),Er=!0,ur(o,u.precision=f,u.rounding=p,!0)};Ce.isFinite=function(){return!!this.d};Ce.isInteger=Ce.isInt=function(){return!!this.d&&En(this.e/yr)>this.d.length-2};Ce.isNaN=function(){return!this.s};Ce.isNegative=Ce.isNeg=function(){return this.s<0};Ce.isPositive=Ce.isPos=function(){return this.s>0};Ce.isZero=function(){return!!this.d&&this.d[0]===0};Ce.lessThan=Ce.lt=function(t){return this.cmp(t)<0};Ce.lessThanOrEqualTo=Ce.lte=function(t){return this.cmp(t)<1};Ce.logarithm=Ce.log=function(t){var e,r,n,i,a,o,c,l,s=this,u=s.constructor,f=u.precision,p=u.rounding,m=5;if(t==null)t=new u(10),e=!0;else{if(t=new u(t),r=t.d,t.s<0||!r||!r[0]||t.eq(1))return new u(NaN);e=t.eq(10)}if(r=s.d,s.s<0||!r||!r[0]||s.eq(1))return new u(r&&!r[0]?-1/0:s.s!=1?NaN:r?0:1/0);if(e)if(r.length>1)a=!0;else{for(i=r[0];i%10===0;)i/=10;a=i!==1}if(Er=!1,c=f+m,o=ro(s,c),n=e?Wf(u,c+10):ro(t,c),l=Nt(o,n,c,1),el(l.d,i=f,p))do if(c+=10,o=ro(s,c),n=e?Wf(u,c+10):ro(t,c),l=Nt(o,n,c,1),!a){+bn(l.d).slice(i+1,i+15)+1==1e14&&(l=ur(l,f+1,0));break}while(el(l.d,i+=10,p));return Er=!0,ur(l,f,p)};Ce.minus=Ce.sub=function(t){var e,r,n,i,a,o,c,l,s,u,f,p,m=this,v=m.constructor;if(t=new v(t),!m.d||!t.d)return!m.s||!t.s?t=new v(NaN):m.d?t.s=-t.s:t=new v(t.d||m.s!==t.s?m:NaN),t;if(m.s!=t.s)return t.s=-t.s,m.plus(t);if(s=m.d,p=t.d,c=v.precision,l=v.rounding,!s[0]||!p[0]){if(p[0])t.s=-t.s;else if(s[0])t=new v(m);else return new v(l===3?-0:0);return Er?ur(t,c,l):t}if(r=En(t.e/yr),u=En(m.e/yr),s=s.slice(),a=u-r,a){for(f=a<0,f?(e=s,a=-a,o=p.length):(e=p,r=u,o=s.length),n=Math.max(Math.ceil(c/yr),o)+2,a>n&&(a=n,e.length=1),e.reverse(),n=a;n--;)e.push(0);e.reverse()}else{for(n=s.length,o=p.length,f=n<o,f&&(o=n),n=0;n<o;n++)if(s[n]!=p[n]){f=s[n]<p[n];break}a=0}for(f&&(e=s,s=p,p=e,t.s=-t.s),o=s.length,n=p.length-o;n>0;--n)s[o++]=0;for(n=p.length;n>a;){if(s[--n]<p[n]){for(i=n;i&&s[--i]===0;)s[i]=Hi-1;--s[i],s[n]+=Hi}s[n]-=p[n]}for(;s[--o]===0;)s.pop();for(;s[0]===0;s.shift())--r;return s[0]?(t.d=s,t.e=jf(s,r),Er?ur(t,c,l):t):new v(l===3?-0:0)};Ce.modulo=Ce.mod=function(t){var e,r=this,n=r.constructor;return t=new n(t),!r.d||!t.s||t.d&&!t.d[0]?new n(NaN):!t.d||r.d&&!r.d[0]?ur(new n(r),n.precision,n.rounding):(Er=!1,n.modulo==9?(e=Nt(r,t.abs(),0,3,1),e.s*=t.s):e=Nt(r,t,0,n.modulo,1),e=e.times(t),Er=!0,r.minus(e))};Ce.naturalExponential=Ce.exp=function(){return Hh(this)};Ce.naturalLogarithm=Ce.ln=function(){return ro(this)};Ce.negated=Ce.neg=function(){var t=new this.constructor(this);return t.s=-t.s,ur(t)};Ce.plus=Ce.add=function(t){var e,r,n,i,a,o,c,l,s,u,f=this,p=f.constructor;if(t=new p(t),!f.d||!t.d)return!f.s||!t.s?t=new p(NaN):f.d||(t=new p(t.d||f.s===t.s?f:NaN)),t;if(f.s!=t.s)return t.s=-t.s,f.minus(t);if(s=f.d,u=t.d,c=p.precision,l=p.rounding,!s[0]||!u[0])return u[0]||(t=new p(f)),Er?ur(t,c,l):t;if(a=En(f.e/yr),n=En(t.e/yr),s=s.slice(),i=a-n,i){for(i<0?(r=s,i=-i,o=u.length):(r=u,n=a,o=s.length),a=Math.ceil(c/yr),o=a>o?a+1:o+1,i>o&&(i=o,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(o=s.length,i=u.length,o-i<0&&(i=o,r=u,u=s,s=r),e=0;i;)e=(s[--i]=s[i]+u[i]+e)/Hi|0,s[i]%=Hi;for(e&&(s.unshift(e),++n),o=s.length;s[--o]==0;)s.pop();return t.d=s,t.e=jf(s,n),Er?ur(t,c,l):t};Ce.precision=Ce.sd=function(t){var e,r=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(to+t);return r.d?(e=c_(r.d),t&&r.e+1>e&&(e=r.e+1)):e=NaN,e};Ce.round=function(){var t=this,e=t.constructor;return ur(new e(t),t.e+1,e.rounding)};Ce.sine=Ce.sin=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+yr,n.rounding=1,r=s9(n,d_(n,r)),n.precision=t,n.rounding=e,ur(Aa>2?r.neg():r,t,e,!0)):new n(NaN)};Ce.squareRoot=Ce.sqrt=function(){var t,e,r,n,i,a,o=this,c=o.d,l=o.e,s=o.s,u=o.constructor;if(s!==1||!c||!c[0])return new u(!s||s<0&&(!c||c[0])?NaN:c?o:1/0);for(Er=!1,s=Math.sqrt(+o),s==0||s==1/0?(e=bn(c),(e.length+l)%2==0&&(e+="0"),s=Math.sqrt(e),l=En((l+1)/2)-(l<0||l%2),s==1/0?e="5e"+l:(e=s.toExponential(),e=e.slice(0,e.indexOf("e")+1)+l),n=new u(e)):n=new u(s.toString()),r=(l=u.precision)+3;;)if(a=n,n=a.plus(Nt(o,a,r+2,1)).times(.5),bn(a.d).slice(0,r)===(e=bn(n.d)).slice(0,r))if(e=e.slice(r-3,r+1),e=="9999"||!i&&e=="4999"){if(!i&&(ur(a,l+1,0),a.times(a).eq(o))){n=a;break}r+=4,i=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(ur(n,l+1,1),t=!n.times(n).eq(o));break}return Er=!0,ur(n,l,u.rounding,t)};Ce.tangent=Ce.tan=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+10,n.rounding=1,r=r.sin(),r.s=1,r=Nt(r,new n(1).minus(r.times(r)).sqrt(),t+10,0),n.precision=t,n.rounding=e,ur(Aa==2||Aa==4?r.neg():r,t,e,!0)):new n(NaN)};Ce.times=Ce.mul=function(t){var e,r,n,i,a,o,c,l,s,u=this,f=u.constructor,p=u.d,m=(t=new f(t)).d;if(t.s*=u.s,!p||!p[0]||!m||!m[0])return new f(!t.s||p&&!p[0]&&!m||m&&!m[0]&&!p?NaN:!p||!m?t.s/0:t.s*0);for(r=En(u.e/yr)+En(t.e/yr),l=p.length,s=m.length,l<s&&(a=p,p=m,m=a,o=l,l=s,s=o),a=[],o=l+s,n=o;n--;)a.push(0);for(n=s;--n>=0;){for(e=0,i=l+n;i>n;)c=a[i]+m[n]*p[i-n-1]+e,a[i--]=c%Hi|0,e=c/Hi|0;a[i]=(a[i]+e)%Hi|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=jf(a,r),Er?ur(t,f.precision,f.rounding):t};Ce.toBinary=function(t,e){return Gh(this,2,t,e)};Ce.toDecimalPlaces=Ce.toDP=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Jn(t,0,no),e===void 0?e=n.rounding:Jn(e,0,8),ur(r,t+r.e+1,e))};Ce.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=ta(n,!0):(Jn(t,0,no),e===void 0?e=i.rounding:Jn(e,0,8),n=ur(new i(n),t+1,e),r=ta(n,!0,t+1)),n.isNeg()&&!n.isZero()?"-"+r:r};Ce.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?r=ta(i):(Jn(t,0,no),e===void 0?e=a.rounding:Jn(e,0,8),n=ur(new a(i),t+i.e+1,e),r=ta(n,!1,t+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r};Ce.toFraction=function(t){var e,r,n,i,a,o,c,l,s,u,f,p,m=this,v=m.d,d=m.constructor;if(!v)return new d(m);if(s=r=new d(1),n=l=new d(0),e=new d(n),a=e.e=c_(v)-m.e-1,o=a%yr,e.d[0]=tn(10,o<0?yr+o:o),t==null)t=a>0?e:s;else{if(c=new d(t),!c.isInt()||c.lt(s))throw Error(to+c);t=c.gt(e)?a>0?e:s:c}for(Er=!1,c=new d(bn(v)),u=d.precision,d.precision=a=v.length*yr*2;f=Nt(c,e,0,1,1),i=r.plus(f.times(n)),i.cmp(t)!=1;)r=n,n=i,i=s,s=l.plus(f.times(i)),l=i,i=e,e=c.minus(f.times(i)),c=i;return i=Nt(t.minus(r),n,0,1,1),l=l.plus(i.times(s)),r=r.plus(i.times(n)),l.s=s.s=m.s,p=Nt(s,n,a,1).minus(m).abs().cmp(Nt(l,r,a,1).minus(m).abs())<1?[s,n]:[l,r],d.precision=u,Er=!0,p};Ce.toHexadecimal=Ce.toHex=function(t,e){return Gh(this,16,t,e)};Ce.toNearest=function(t,e){var r=this,n=r.constructor;if(r=new n(r),t==null){if(!r.d)return r;t=new n(1),e=n.rounding}else{if(t=new n(t),e===void 0?e=n.rounding:Jn(e,0,8),!r.d)return t.s?r:t;if(!t.d)return t.s&&(t.s=r.s),t}return t.d[0]?(Er=!1,r=Nt(r,t,0,e,1).times(t),Er=!0,ur(r)):(t.s=r.s,r=t),r};Ce.toNumber=function(){return+this};Ce.toOctal=function(t,e){return Gh(this,8,t,e)};Ce.toPower=Ce.pow=function(t){var e,r,n,i,a,o,c=this,l=c.constructor,s=+(t=new l(t));if(!c.d||!t.d||!c.d[0]||!t.d[0])return new l(tn(+c,s));if(c=new l(c),c.eq(1))return c;if(n=l.precision,a=l.rounding,t.eq(1))return ur(c,n,a);if(e=En(t.e/yr),e>=t.d.length-1&&(r=s<0?-s:s)<=n9)return i=f_(l,c,r,n),t.s<0?new l(1).div(i):ur(i,n,a);if(o=c.s,o<0){if(e<t.d.length-1)return new l(NaN);if(t.d[e]&1||(o=1),c.e==0&&c.d[0]==1&&c.d.length==1)return c.s=o,c}return r=tn(+c,s),e=r==0||!isFinite(r)?En(s*(Math.log("0."+bn(c.d))/Math.LN10+c.e+1)):new l(r+"").e,e>l.maxE+1||e<l.minE-1?new l(e>0?o/0:0):(Er=!1,l.rounding=c.s=1,r=Math.min(12,(e+"").length),i=Hh(t.times(ro(c,n+r)),n),i.d&&(i=ur(i,n+5,1),el(i.d,n,a)&&(e=n+10,i=ur(Hh(t.times(ro(c,e+r)),e),e+5,1),+bn(i.d).slice(n+1,n+15)+1==1e14&&(i=ur(i,n+1,0)))),i.s=o,Er=!0,l.rounding=a,ur(i,n,a))};Ce.toPrecision=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=ta(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(Jn(t,1,no),e===void 0?e=i.rounding:Jn(e,0,8),n=ur(new i(n),t,e),r=ta(n,t<=n.e||n.e<=i.toExpNeg,t)),n.isNeg()&&!n.isZero()?"-"+r:r};Ce.toSignificantDigits=Ce.toSD=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Jn(t,1,no),e===void 0?e=n.rounding:Jn(e,0,8)),ur(new n(r),t,e)};Ce.toString=function(){var t=this,e=t.constructor,r=ta(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+r:r};Ce.truncated=Ce.trunc=function(){return ur(new this.constructor(this),this.e+1,1)};Ce.valueOf=Ce.toJSON=function(){var t=this,e=t.constructor,r=ta(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+r:r};function bn(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=yr-n.length,r&&(a+=eo(r)),a+=n;o=t[e],n=o+"",r=yr-n.length,r&&(a+=eo(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}function Jn(t,e,r){if(t!==~~t||t<e||t>r)throw Error(to+t)}function el(t,e,r,n){var i,a,o,c;for(a=t[0];a>=10;a/=10)--e;return--e<0?(e+=yr,i=0):(i=Math.ceil((e+1)/yr),e%=yr),a=tn(10,yr-e),c=t[i]%a|0,n==null?e<3?(e==0?c=c/100|0:e==1&&(c=c/10|0),o=r<4&&c==99999||r>3&&c==49999||c==5e4||c==0):o=(r<4&&c+1==a||r>3&&c+1==a/2)&&(t[i+1]/a/100|0)==tn(10,e-2)-1||(c==a/2||c==0)&&(t[i+1]/a/100|0)==0:e<4?(e==0?c=c/1e3|0:e==1?c=c/100|0:e==2&&(c=c/10|0),o=(n||r<4)&&c==9999||!n&&r>3&&c==4999):o=((n||r<4)&&c+1==a||!n&&r>3&&c+1==a/2)&&(t[i+1]/a/1e3|0)==tn(10,e-3)-1,o}function Hf(t,e,r){for(var n,i=[0],a,o=0,c=t.length;o<c;){for(a=i.length;a--;)i[a]*=e;for(i[0]+=qh.indexOf(t.charAt(o++)),n=0;n<i.length;n++)i[n]>r-1&&(i[n+1]===void 0&&(i[n+1]=0),i[n+1]+=i[n]/r|0,i[n]%=r)}return i.reverse()}function a9(t,e){var r,n,i;if(e.isZero())return e;n=e.d.length,n<32?(r=Math.ceil(n/3),i=(1/$f(4,r)).toString()):(r=16,i="2.3283064365386962890625e-10"),t.precision+=r,e=Ys(t,1,e.times(i),new t(1));for(var a=r;a--;){var o=e.times(e);e=o.times(o).minus(o).times(8).plus(1)}return t.precision-=r,e}var Nt=function(){function t(n,i,a){var o,c=0,l=n.length;for(n=n.slice();l--;)o=n[l]*i+c,n[l]=o%a|0,c=o/a|0;return c&&n.unshift(c),n}function e(n,i,a,o){var c,l;if(a!=o)l=a>o?1:-1;else for(c=l=0;c<a;c++)if(n[c]!=i[c]){l=n[c]>i[c]?1:-1;break}return l}function r(n,i,a,o){for(var c=0;a--;)n[a]-=c,c=n[a]<i[a]?1:0,n[a]=c*o+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o,c,l){var s,u,f,p,m,v,d,g,x,A,y,w,S,b,C,_,N,E,I,B,L=n.constructor,z=n.s==i.s?1:-1,U=n.d,R=i.d;if(!U||!U[0]||!R||!R[0])return new L(!n.s||!i.s||(U?R&&U[0]==R[0]:!R)?NaN:U&&U[0]==0||!R?z*0:z/0);for(l?(m=1,u=n.e-i.e):(l=Hi,m=yr,u=En(n.e/m)-En(i.e/m)),I=R.length,N=U.length,x=new L(z),A=x.d=[],f=0;R[f]==(U[f]||0);f++);if(R[f]>(U[f]||0)&&u--,a==null?(b=a=L.precision,o=L.rounding):c?b=a+(n.e-i.e)+1:b=a,b<0)A.push(1),v=!0;else{if(b=b/m+2|0,f=0,I==1){for(p=0,R=R[0],b++;(f<N||p)&&b--;f++)C=p*l+(U[f]||0),A[f]=C/R|0,p=C%R|0;v=p||f<N}else{for(p=l/(R[0]+1)|0,p>1&&(R=t(R,p,l),U=t(U,p,l),I=R.length,N=U.length),_=I,y=U.slice(0,I),w=y.length;w<I;)y[w++]=0;B=R.slice(),B.unshift(0),E=R[0],R[1]>=l/2&&++E;do p=0,s=e(R,y,I,w),s<0?(S=y[0],I!=w&&(S=S*l+(y[1]||0)),p=S/E|0,p>1?(p>=l&&(p=l-1),d=t(R,p,l),g=d.length,w=y.length,s=e(d,y,g,w),s==1&&(p--,r(d,I<g?B:R,g,l))):(p==0&&(s=p=1),d=R.slice()),g=d.length,g<w&&d.unshift(0),r(y,d,w,l),s==-1&&(w=y.length,s=e(R,y,I,w),s<1&&(p++,r(y,I<w?B:R,w,l))),w=y.length):s===0&&(p++,y=[0]),A[f++]=p,s&&y[0]?y[w++]=U[_]||0:(y=[U[_]],w=1);while((_++<N||y[0]!==void 0)&&b--);v=y[0]!==void 0}A[0]||A.shift()}if(m==1)x.e=u,a_=v;else{for(f=1,p=A[0];p>=10;p/=10)f++;x.e=f+u*m-1,ur(x,c?a+x.e+1:a,o,v)}return x}}();function ur(t,e,r,n){var i,a,o,c,l,s,u,f,p,m=t.constructor;e:if(e!=null){if(f=t.d,!f)return t;for(i=1,c=f[0];c>=10;c/=10)i++;if(a=e-i,a<0)a+=yr,o=e,u=f[p=0],l=u/tn(10,i-o-1)%10|0;else if(p=Math.ceil((a+1)/yr),c=f.length,p>=c)if(n){for(;c++<=p;)f.push(0);u=l=0,i=1,a%=yr,o=a-yr+1}else break e;else{for(u=c=f[p],i=1;c>=10;c/=10)i++;a%=yr,o=a-yr+i,l=o<0?0:u/tn(10,i-o-1)%10|0}if(n=n||e<0||f[p+1]!==void 0||(o<0?u:u%tn(10,i-o-1)),s=r<4?(l||n)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||n||r==6&&(a>0?o>0?u/tn(10,i-o):0:f[p-1])%10&1||r==(t.s<0?8:7)),e<1||!f[0])return f.length=0,s?(e-=t.e+1,f[0]=tn(10,(yr-e%yr)%yr),t.e=-e||0):f[0]=t.e=0,t;if(a==0?(f.length=p,c=1,p--):(f.length=p+1,c=tn(10,yr-a),f[p]=o>0?(u/tn(10,i-o)%tn(10,o)|0)*c:0),s)for(;;)if(p==0){for(a=1,o=f[0];o>=10;o/=10)a++;for(o=f[0]+=c,c=1;o>=10;o/=10)c++;a!=c&&(t.e++,f[0]==Hi&&(f[0]=1));break}else{if(f[p]+=c,f[p]!=Hi)break;f[p--]=0,c=1}for(a=f.length;f[--a]===0;)f.pop()}return Er&&(t.e>m.maxE?(t.d=null,t.e=NaN):t.e<m.minE&&(t.e=0,t.d=[0])),t}function ta(t,e,r){if(!t.isFinite())return m_(t);var n,i=t.e,a=bn(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+eo(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(t.e<0?"e":"e+")+t.e):i<0?(a="0."+eo(-i-1)+a,r&&(n=r-o)>0&&(a+=eo(n))):i>=o?(a+=eo(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+eo(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=eo(n))),a}function jf(t,e){var r=t[0];for(e*=yr;r>=10;r/=10)e++;return e}function Wf(t,e,r){if(e>i9)throw Er=!0,r&&(t.precision=r),Error(o_);return ur(new t(Yf),e,1,!0)}function zi(t,e,r){if(e>zh)throw Error(o_);return ur(new t(Gf),e,r,!0)}function c_(t){var e=t.length-1,r=e*yr+1;if(e=t[e],e){for(;e%10==0;e/=10)r--;for(e=t[0];e>=10;e/=10)r++}return r}function eo(t){for(var e="";t--;)e+="0";return e}function f_(t,e,r,n){var i,a=new t(1),o=Math.ceil(n/yr+4);for(Er=!1;;){if(r%2&&(a=a.times(e),n_(a.d,o)&&(i=!0)),r=En(r/2),r===0){r=a.d.length-1,i&&a.d[r]===0&&++a.d[r];break}e=e.times(e),n_(e.d,o)}return Er=!0,a}function t_(t){return t.d[t.d.length-1]&1}function p_(t,e,r){for(var n,i=new t(e[0]),a=0;++a<e.length;)if(n=new t(e[a]),n.s)i[r](n)&&(i=n);else{i=n;break}return i}function Hh(t,e){var r,n,i,a,o,c,l,s=0,u=0,f=0,p=t.constructor,m=p.rounding,v=p.precision;if(!t.d||!t.d[0]||t.e>17)return new p(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(e==null?(Er=!1,l=v):l=e,c=new p(.03125);t.e>-2;)t=t.times(c),f+=5;for(n=Math.log(tn(2,f))/Math.LN10*2+5|0,l+=n,r=a=o=new p(1),p.precision=l;;){if(a=ur(a.times(t),l,1),r=r.times(++u),c=o.plus(Nt(a,r,l,1)),bn(c.d).slice(0,l)===bn(o.d).slice(0,l)){for(i=f;i--;)o=ur(o.times(o),l,1);if(e==null)if(s<3&&el(o.d,l-n,m,s))p.precision=l+=10,r=a=c=new p(1),u=0,s++;else return ur(o,p.precision=v,m,Er=!0);else return p.precision=v,o}o=c}}function ro(t,e){var r,n,i,a,o,c,l,s,u,f,p,m=1,v=10,d=t,g=d.d,x=d.constructor,A=x.rounding,y=x.precision;if(d.s<0||!g||!g[0]||!d.e&&g[0]==1&&g.length==1)return new x(g&&!g[0]?-1/0:d.s!=1?NaN:g?0:d);if(e==null?(Er=!1,u=y):u=e,x.precision=u+=v,r=bn(g),n=r.charAt(0),Math.abs(a=d.e)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)d=d.times(t),r=bn(d.d),n=r.charAt(0),m++;a=d.e,n>1?(d=new x("0."+r),a++):d=new x(n+"."+r.slice(1))}else return s=Wf(x,u+2,y).times(a+""),d=ro(new x(n+"."+r.slice(1)),u-v).plus(s),x.precision=y,e==null?ur(d,y,A,Er=!0):d;for(f=d,l=o=d=Nt(d.minus(1),d.plus(1),u,1),p=ur(d.times(d),u,1),i=3;;){if(o=ur(o.times(p),u,1),s=l.plus(Nt(o,new x(i),u,1)),bn(s.d).slice(0,u)===bn(l.d).slice(0,u))if(l=l.times(2),a!==0&&(l=l.plus(Wf(x,u+2,y).times(a+""))),l=Nt(l,new x(m),u,1),e==null)if(el(l.d,u-v,A,c))x.precision=u+=v,s=o=d=Nt(f.minus(1),f.plus(1),u,1),p=ur(d.times(d),u,1),i=c=1;else return ur(l,x.precision=y,A,Er=!0);else return x.precision=y,l;l=s,i+=2}}function m_(t){return String(t.s*t.s/0)}function Yh(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;n++);for(i=e.length;e.charCodeAt(i-1)===48;--i);if(e=e.slice(n,i),e){if(i-=n,t.e=r=r-n-1,t.d=[],n=(r+1)%yr,r<0&&(n+=yr),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=yr;n<i;)t.d.push(+e.slice(n,n+=yr));e=e.slice(n),n=yr-e.length}else n-=i;for(;n--;)e+="0";t.d.push(+e),Er&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function o9(t,e){var r,n,i,a,o,c,l,s,u;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),l_.test(e))return Yh(t,e)}else if(e==="Infinity"||e==="NaN")return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(r9.test(e))r=16,e=e.toLowerCase();else if(e9.test(e))r=2;else if(t9.test(e))r=8;else throw Error(to+e);for(a=e.search(/p/i),a>0?(l=+e.slice(a+1),e=e.substring(2,a)):e=e.slice(2),a=e.indexOf("."),o=a>=0,n=t.constructor,o&&(e=e.replace(".",""),c=e.length,a=c-a,i=f_(n,new n(r),a,a*2)),s=Hf(e,r,Hi),u=s.length-1,a=u;s[a]===0;--a)s.pop();return a<0?new n(t.s*0):(t.e=jf(s,u),t.d=s,Er=!1,o&&(t=Nt(t,i,c*4)),l&&(t=t.times(Math.abs(l)<54?tn(2,l):rl.pow(2,l))),Er=!0,t)}function s9(t,e){var r,n=e.d.length;if(n<3)return e.isZero()?e:Ys(t,2,e,e);r=1.4*Math.sqrt(n),r=r>16?16:r|0,e=e.times(1/$f(5,r)),e=Ys(t,2,e,e);for(var i,a=new t(5),o=new t(16),c=new t(20);r--;)i=e.times(e),e=e.times(a.plus(i.times(o.times(i).minus(c))));return e}function Ys(t,e,r,n,i){var a,o,c,l,s=1,u=t.precision,f=Math.ceil(u/yr);for(Er=!1,l=r.times(r),c=new t(n);;){if(o=Nt(c.times(l),new t(e++*e++),u,1),c=i?n.plus(o):n.minus(o),n=Nt(o.times(l),new t(e++*e++),u,1),o=c.plus(n),o.d[f]!==void 0){for(a=f;o.d[a]===c.d[a]&&a--;);if(a==-1)break}a=c,c=n,n=o,o=a,s++}return Er=!0,o.d.length=f+1,o}function $f(t,e){for(var r=t;--e;)r*=t;return r}function d_(t,e){var r,n=e.s<0,i=zi(t,t.precision,1),a=i.times(.5);if(e=e.abs(),e.lte(a))return Aa=n?4:1,e;if(r=e.divToInt(i),r.isZero())Aa=n?3:2;else{if(e=e.minus(r.times(i)),e.lte(a))return Aa=t_(r)?n?2:3:n?4:1,e;Aa=t_(r)?n?1:4:n?3:2}return e.minus(i).abs()}function Gh(t,e,r,n){var i,a,o,c,l,s,u,f,p,m=t.constructor,v=r!==void 0;if(v?(Jn(r,1,no),n===void 0?n=m.rounding:Jn(n,0,8)):(r=m.precision,n=m.rounding),!t.isFinite())u=m_(t);else{for(u=ta(t),o=u.indexOf("."),v?(i=2,e==16?r=r*4-3:e==8&&(r=r*3-2)):i=e,o>=0&&(u=u.replace(".",""),p=new m(1),p.e=u.length-o,p.d=Hf(ta(p),10,i),p.e=p.d.length),f=Hf(u,10,i),a=l=f.length;f[--l]==0;)f.pop();if(!f[0])u=v?"0p+0":"0";else{if(o<0?a--:(t=new m(t),t.d=f,t.e=a,t=Nt(t,p,r,n,0,i),f=t.d,a=t.e,s=a_),o=f[r],c=i/2,s=s||f[r+1]!==void 0,s=n<4?(o!==void 0||s)&&(n===0||n===(t.s<0?3:2)):o>c||o===c&&(n===4||s||n===6&&f[r-1]&1||n===(t.s<0?8:7)),f.length=r,s)for(;++f[--r]>i-1;)f[r]=0,r||(++a,f.unshift(1));for(l=f.length;!f[l-1];--l);for(o=0,u="";o<l;o++)u+=qh.charAt(f[o]);if(v){if(l>1)if(e==16||e==8){for(o=e==16?4:3,--l;l%o;l++)u+="0";for(f=Hf(u,i,e),l=f.length;!f[l-1];--l);for(o=1,u="1.";o<l;o++)u+=qh.charAt(f[o])}else u=u.charAt(0)+"."+u.slice(1);u=u+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)u="0"+u;u="0."+u}else if(++a>l)for(a-=l;a--;)u+="0";else a<l&&(u=u.slice(0,a)+"."+u.slice(a))}u=(e==16?"0x":e==2?"0b":e==8?"0o":"")+u}return t.s<0?"-"+u:u}function n_(t,e){if(t.length>e)return t.length=e,!0}function u9(t){return new this(t).abs()}function l9(t){return new this(t).acos()}function c9(t){return new this(t).acosh()}function f9(t,e){return new this(t).plus(e)}function p9(t){return new this(t).asin()}function m9(t){return new this(t).asinh()}function d9(t){return new this(t).atan()}function h9(t){return new this(t).atanh()}function v9(t,e){t=new this(t),e=new this(e);var r,n=this.precision,i=this.rounding,a=n+4;return!t.s||!e.s?r=new this(NaN):!t.d&&!e.d?(r=zi(this,a,1).times(e.s>0?.25:.75),r.s=t.s):!e.d||t.isZero()?(r=e.s<0?zi(this,n,i):new this(0),r.s=t.s):!t.d||e.isZero()?(r=zi(this,a,1).times(.5),r.s=t.s):e.s<0?(this.precision=a,this.rounding=1,r=this.atan(Nt(t,e,a,1)),e=zi(this,a,1),this.precision=n,this.rounding=i,r=t.s<0?r.minus(e):r.plus(e)):r=this.atan(Nt(t,e,a,1)),r}function g9(t){return new this(t).cbrt()}function y9(t){return ur(t=new this(t),t.e+1,2)}function x9(t,e,r){return new this(t).clamp(e,r)}function b9(t){if(!t||typeof t!="object")throw Error(Zf+"Object expected");var e,r,n,i=t.defaults===!0,a=["precision",1,no,"rounding",0,8,"toExpNeg",-Hs,0,"toExpPos",0,Hs,"maxE",0,Hs,"minE",-Hs,0,"modulo",0,9];for(e=0;e<a.length;e+=3)if(r=a[e],i&&(this[r]=Vh[r]),(n=t[r])!==void 0)if(En(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(to+r+": "+n);if(r="crypto",i&&(this[r]=Vh[r]),(n=t[r])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto!="undefined"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(s_);else this[r]=!1;else throw Error(to+r+": "+n);return this}function w9(t){return new this(t).cos()}function D9(t){return new this(t).cosh()}function h_(t){var e,r,n;function i(a){var o,c,l,s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,i_(a)){s.s=a.s,Er?!a.d||a.e>i.maxE?(s.e=NaN,s.d=null):a.e<i.minE?(s.e=0,s.d=[0]):(s.e=a.e,s.d=a.d.slice()):(s.e=a.e,s.d=a.d?a.d.slice():a.d);return}if(l=typeof a,l==="number"){if(a===0){s.s=1/a<0?-1:1,s.e=0,s.d=[0];return}if(a<0?(a=-a,s.s=-1):s.s=1,a===~~a&&a<1e7){for(o=0,c=a;c>=10;c/=10)o++;Er?o>i.maxE?(s.e=NaN,s.d=null):o<i.minE?(s.e=0,s.d=[0]):(s.e=o,s.d=[a]):(s.e=o,s.d=[a]);return}else if(a*0!==0){a||(s.s=NaN),s.e=NaN,s.d=null;return}return Yh(s,a.toString())}else if(l!=="string")throw Error(to+a);return(c=a.charCodeAt(0))===45?(a=a.slice(1),s.s=-1):(c===43&&(a=a.slice(1)),s.s=1),l_.test(a)?Yh(s,a):o9(s,a)}if(i.prototype=Ce,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=b9,i.clone=h_,i.isDecimal=i_,i.abs=u9,i.acos=l9,i.acosh=c9,i.add=f9,i.asin=p9,i.asinh=m9,i.atan=d9,i.atanh=h9,i.atan2=v9,i.cbrt=g9,i.ceil=y9,i.clamp=x9,i.cos=w9,i.cosh=D9,i.div=S9,i.exp=A9,i.floor=N9,i.hypot=_9,i.ln=E9,i.log=M9,i.log10=T9,i.log2=C9,i.max=F9,i.min=I9,i.mod=O9,i.mul=B9,i.pow=P9,i.random=R9,i.round=k9,i.sign=L9,i.sin=U9,i.sinh=q9,i.sqrt=V9,i.sub=z9,i.sum=H9,i.tan=Y9,i.tanh=G9,i.trunc=W9,t===void 0&&(t={}),t&&t.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function S9(t,e){return new this(t).div(e)}function A9(t){return new this(t).exp()}function N9(t){return ur(t=new this(t),t.e+1,3)}function _9(){var t,e,r=new this(0);for(Er=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)r.d&&(r=r.plus(e.times(e)));else{if(e.s)return Er=!0,new this(1/0);r=e}return Er=!0,r.sqrt()}function i_(t){return t instanceof rl||t&&t.toStringTag===u_||!1}function E9(t){return new this(t).ln()}function M9(t,e){return new this(t).log(e)}function C9(t){return new this(t).log(2)}function T9(t){return new this(t).log(10)}function F9(){return p_(this,arguments,"lt")}function I9(){return p_(this,arguments,"gt")}function O9(t,e){return new this(t).mod(e)}function B9(t,e){return new this(t).mul(e)}function P9(t,e){return new this(t).pow(e)}function R9(t){var e,r,n,i,a=0,o=new this(1),c=[];if(t===void 0?t=this.precision:Jn(t,1,no),n=Math.ceil(t/yr),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(n));a<n;)i=e[a],i>=429e7?e[a]=crypto.getRandomValues(new Uint32Array(1))[0]:c[a++]=i%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(n*=4);a<n;)i=e[a]+(e[a+1]<<8)+(e[a+2]<<16)+((e[a+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(e,a):(c.push(i%1e7),a+=4);a=n/4}else throw Error(s_);else for(;a<n;)c[a++]=Math.random()*1e7|0;for(n=c[--a],t%=yr,n&&t&&(i=tn(10,yr-t),c[a]=(n/i|0)*i);c[a]===0;a--)c.pop();if(a<0)r=0,c=[0];else{for(r=-1;c[0]===0;r-=yr)c.shift();for(n=1,i=c[0];i>=10;i/=10)n++;n<yr&&(r-=yr-n)}return o.e=r,o.d=c,o}function k9(t){return ur(t=new this(t),t.e+1,this.rounding)}function L9(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function U9(t){return new this(t).sin()}function q9(t){return new this(t).sinh()}function V9(t){return new this(t).sqrt()}function z9(t,e){return new this(t).sub(e)}function H9(){var t=0,e=arguments,r=new this(e[t]);for(Er=!1;r.s&&++t<e.length;)r=r.plus(e[t]);return Er=!0,ur(r,this.precision,this.rounding)}function Y9(t){return new this(t).tan()}function G9(t){return new this(t).tanh()}function W9(t){return ur(t=new this(t),t.e+1,1)}Ce[Symbol.for("nodejs.util.inspect.custom")]=Ce.toString;Ce[Symbol.toStringTag]="Decimal";var rl=Ce.constructor=h_(Vh);Yf=new rl(Yf);Gf=new rl(Gf);var Uo=rl;var Z9="BigNumber",j9=["?on","config"],Wh=M(Z9,j9,t=>{var{on:e,config:r}=t,n=Uo.clone({precision:r.precision,modulo:Uo.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(i){return new n(i.value)},e&&e("config",function(i,a){i.precision!==a.precision&&n.config({precision:i.precision})}),n},{isClass:!0});var sn=yt(g_(),1);var $9="Complex",J9=[],jh=M($9,J9,()=>(Object.defineProperty(sn.default,"name",{value:"Complex"}),sn.default.prototype.constructor=sn.default,sn.default.prototype.type="Complex",sn.default.prototype.isComplex=!0,sn.default.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},sn.default.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},sn.default.prototype.format=function(t){var e="",r=this.im,n=this.re,i=qi(this.re,t),a=qi(this.im,t),o=tr(t)?t:t?t.precision:null;if(o!==null){var c=Math.pow(10,-o);Math.abs(n/r)<c&&(n=0),Math.abs(r/n)<c&&(r=0)}return r===0?e=i:n===0?r===1?e="i":r===-1?e="-i":e=a+"i":r<0?r===-1?e=i+" - i":e=i+" - "+a.substring(1)+"i":r===1?e=i+" + i":e=i+" + "+a+"i",e},sn.default.fromPolar=function(t){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return(0,sn.default)(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var r=arguments[0],n=arguments[1];if(tr(r)){if(vn(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),tr(n))return new sn.default({r,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},sn.default.prototype.valueOf=sn.default.prototype.toString,sn.default.fromJSON=function(t){return new sn.default(t)},sn.default.compare=function(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0},sn.default),{isClass:!0});var na=yt(x_(),1);var X9="Fraction",Q9=[],Jh=M(X9,Q9,()=>(Object.defineProperty(na.default,"name",{value:"Fraction"}),na.default.prototype.constructor=na.default,na.default.prototype.type="Fraction",na.default.prototype.isFraction=!0,na.default.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},na.default.fromJSON=function(t){return new na.default(t)},na.default),{isClass:!0});var K9="Range",e7=[],Xh=M(K9,e7,()=>{function t(e,r,n){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");var i=e!=null,a=r!=null,o=n!=null;if(i){if(Ze(e))e=e.toNumber();else if(typeof e!="number")throw new TypeError("Parameter start must be a number")}if(a){if(Ze(r))r=r.toNumber();else if(typeof r!="number")throw new TypeError("Parameter end must be a number")}if(o){if(Ze(n))n=n.toNumber();else if(typeof n!="number")throw new TypeError("Parameter step must be a number")}this.start=i?parseFloat(e):0,this.end=a?parseFloat(r):0,this.step=o?parseFloat(n):1}return t.prototype.type="Range",t.prototype.isRange=!0,t.parse=function(e){if(typeof e!="string")return null;var r=e.split(":"),n=r.map(function(a){return parseFloat(a)}),i=n.some(function(a){return isNaN(a)});if(i)return null;switch(n.length){case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[2],n[1]);default:return null}},t.prototype.clone=function(){return new t(this.start,this.end,this.step)},t.prototype.size=function(){var e=0,r=this.start,n=this.step,i=this.end,a=i-r;return Di(n)===Di(a)?e=Math.ceil(a/n):a===0&&(e=0),isNaN(e)&&(e=0),[e]},t.prototype.min=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start:this.start+(e-1)*this.step},t.prototype.max=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start+(e-1)*this.step:this.start},t.prototype.forEach=function(e){var r=this.start,n=this.step,i=this.end,a=0;if(n>0)for(;r<i;)e(r,[a],this),r+=n,a++;else if(n<0)for(;r>i;)e(r,[a],this),r+=n,a++},t.prototype.map=function(e){var r=[];return this.forEach(function(n,i,a){r[i[0]]=e(n,i,a)}),r},t.prototype.toArray=function(){var e=[];return this.forEach(function(r,n){e[n[0]]=r}),e},t.prototype.valueOf=function(){return this.toArray()},t.prototype.format=function(e){var r=qi(this.start,e);return this.step!==1&&(r+=":"+qi(this.step,e)),r+=":"+qi(this.end,e),r},t.prototype.toString=function(){return this.format()},t.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},t.fromJSON=function(e){return new t(e.start,e.end,e.step)},t},{isClass:!0});var r7="Matrix",t7=[],Qh=M(r7,t7,()=>{function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator")}return t.prototype.type="Matrix",t.prototype.isMatrix=!0,t.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},t.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},t.prototype.create=function(e,r){throw new Error("Cannot invoke create on a Matrix interface")},t.prototype.subset=function(e,r,n){throw new Error("Cannot invoke subset on a Matrix interface")},t.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},t.prototype.set=function(e,r,n){throw new Error("Cannot invoke set on a Matrix interface")},t.prototype.resize=function(e,r){throw new Error("Cannot invoke resize on a Matrix interface")},t.prototype.reshape=function(e,r){throw new Error("Cannot invoke reshape on a Matrix interface")},t.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},t.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},t.prototype.map=function(e,r){throw new Error("Cannot invoke map on a Matrix interface")},t.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},t.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},t.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},t.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},t.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},t.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},t},{isClass:!0});function b_(t){var e=0,r=1,n=Object.create(null),i=Object.create(null),a=0,o=function(l){var s=i[l];if(s&&(delete n[s],delete i[l],--e,r===s)){if(!e){a=0,r=1;return}for(;!Object.prototype.hasOwnProperty.call(n,++r););}};return t=Math.abs(t),{hit:function(l){var s=i[l],u=++a;if(n[u]=l,i[l]=u,!s)return++e,e<=t?void 0:(l=n[r],o(l),l);if(delete n[s],r===s)for(;!Object.prototype.hasOwnProperty.call(n,++r););},delete:o,clear:function(){e=a=0,r=1,n=Object.create(null),i=Object.create(null)}}}function qo(t){var{hasher:e,limit:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return r=r==null?Number.POSITIVE_INFINITY:r,e=e==null?JSON.stringify:e,function n(){typeof n.cache!="object"&&(n.cache={values:new Map,lru:b_(r||Number.POSITIVE_INFINITY)});for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var o=e(i);if(n.cache.values.has(o))return n.cache.lru.hit(o),n.cache.values.get(o);var c=t.apply(t,i);return n.cache.values.set(o,c),n.cache.values.delete(n.cache.lru.hit(o)),c}}function Jf(t){return Object.keys(t.signatures||{}).reduce(function(e,r){var n=(r.match(/,/g)||[]).length+1;return Math.max(e,n)},-1)}var n7="DenseMatrix",i7=["Matrix"],Kh=M(n7,i7,t=>{var{Matrix:e}=t;function r(u,f){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(f&&!Ft(f))throw new Error("Invalid datatype: "+f);if(ze(u))u.type==="DenseMatrix"?(this._data=Xe(u._data),this._size=Xe(u._size),this._datatype=f||u._datatype):(this._data=u.toArray(),this._size=u.size(),this._datatype=f||u._datatype);else if(u&&Ir(u.data)&&Ir(u.size))this._data=u.data,this._size=u.size,Th(this._data,this._size),this._datatype=f||u.datatype;else if(Ir(u))this._data=s(u),this._size=er(this._data),Th(this._data,this._size),this._datatype=f;else{if(u)throw new TypeError("Unsupported type of data ("+Cr(u)+")");this._data=[],this._size=[0],this._datatype=f}}r.prototype=new e,r.prototype.createDenseMatrix=function(u,f){return new r(u,f)},Object.defineProperty(r,"name",{value:"DenseMatrix"}),r.prototype.constructor=r,r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return Qa(this._data,Cr)},r.prototype.storage=function(){return"dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(u,f){return new r(u,f)},r.prototype.subset=function(u,f,p){switch(arguments.length){case 1:return n(this,u);case 2:case 3:return a(this,u,f,p);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(u){if(!Ir(u))throw new TypeError("Array expected");if(u.length!==this._size.length)throw new ar(u.length,this._size.length);for(var f=0;f<u.length;f++)tt(u[f],this._size[f]);for(var p=this._data,m=0,v=u.length;m<v;m++){var d=u[m];tt(d,p.length),p=p[d]}return p},r.prototype.set=function(u,f,p){if(!Ir(u))throw new TypeError("Array expected");if(u.length<this._size.length)throw new ar(u.length,this._size.length,"<");var m,v,d,g=u.map(function(A){return A+1});l(this,g,p);var x=this._data;for(m=0,v=u.length-1;m<v;m++)d=u[m],tt(d,x.length),x=x[d];return d=u[u.length-1],tt(d,x.length),x[d]=f,this};function n(u,f){if(!ja(f))throw new TypeError("Invalid index");var p=f.isScalar();if(p)return u.get(f.min());var m=f.size();if(m.length!==u._size.length)throw new ar(m.length,u._size.length);for(var v=f.min(),d=f.max(),g=0,x=u._size.length;g<x;g++)tt(v[g],u._size[g]),tt(d[g],u._size[g]);return new r(i(u._data,f,m.length,0),u._datatype)}function i(u,f,p,m){var v=m===p-1,d=f.dimension(m);return v?d.map(function(g){return tt(g,u.length),u[g]}).valueOf():d.map(function(g){tt(g,u.length);var x=u[g];return i(x,f,p,m+1)}).valueOf()}function a(u,f,p,m){if(!f||f.isIndex!==!0)throw new TypeError("Invalid index");var v=f.size(),d=f.isScalar(),g;if(ze(p)?(g=p.size(),p=p.valueOf()):g=er(p),d){if(g.length!==0)throw new TypeError("Scalar expected");u.set(f.min(),p,m)}else{if(!Ui(g,v))try{g.length===0?p=Oh([p],v):p=Oh(p,v),g=er(p)}catch(b){}if(v.length<u._size.length)throw new ar(v.length,u._size.length,"<");if(g.length<v.length){for(var x=0,A=0;v[x]===1&&g[x]===1;)x++;for(;v[x]===1;)A++,x++;p=Uf(p,v.length,A,g)}if(!Ui(v,g))throw new ar(v,g,">");var y=f.max().map(function(b){return b+1});l(u,y,m);var w=v.length,S=0;o(u._data,f,p,w,S)}return u}function o(u,f,p,m,v){var d=v===m-1,g=f.dimension(v);d?g.forEach(function(x,A){tt(x),u[x]=p[A[0]]}):g.forEach(function(x,A){tt(x),o(u[x],f,p[A[0]],m,v+1)})}r.prototype.resize=function(u,f,p){if(!kt(u))throw new TypeError("Array or Matrix expected");var m=u.valueOf().map(d=>Array.isArray(d)&&d.length===1?d[0]:d),v=p?this.clone():this;return c(v,m,f)};function c(u,f,p){if(f.length===0){for(var m=u._data;Ir(m);)m=m[0];return m}return u._size=f.slice(0),u._data=Vi(u._data,u._size,p),u}r.prototype.reshape=function(u,f){var p=f?this.clone():this;p._data=Xu(p._data,u);var m=p._size.reduce((v,d)=>v*d);return p._size=Qu(u,m),p};function l(u,f,p){for(var m=u._size.slice(0),v=!1;m.length<f.length;)m.push(0),v=!0;for(var d=0,g=f.length;d<g;d++)f[d]>m[d]&&(m[d]=f[d],v=!0);v&&c(u,m,p)}r.prototype.clone=function(){var u=new r({data:Xe(this._data),size:Xe(this._size),datatype:this._datatype});return u},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(u){var f=this,p=Jf(u),m=function g(x,A){return Ir(x)?x.map(function(y,w){return g(y,A.concat(w))}):p===1?u(x):p===2?u(x,A):u(x,A,f)},v=m(this._data,[]),d=this._datatype!==void 0?Qa(v,Cr):void 0;return new r(v,d)},r.prototype.forEach=function(u){var f=this,p=function m(v,d){Ir(v)?v.forEach(function(g,x){m(g,d.concat(x))}):u(v,d,f)};p(this._data,[])},r.prototype[Symbol.iterator]=function*(){var u=function*f(p,m){if(Ir(p))for(var v=0;v<p.length;v++)yield*md(f(p[v],m.concat(v)));else yield{value:p,index:m}};yield*md(u(this._data,[]))},r.prototype.rows=function(){var u=[],f=this.size();if(f.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var p=this._data;for(var m of p)u.push(new r([m],this._datatype));return u},r.prototype.columns=function(){var u=this,f=[],p=this.size();if(p.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var m=this._data,v=function(x){var A=m.map(y=>[y[x]]);f.push(new r(A,u._datatype))},d=0;d<p[1];d++)v(d);return f},r.prototype.toArray=function(){return Xe(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(u){return ir(this._data,u)},r.prototype.toString=function(){return ir(this._data)},r.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(u){if(u){if(Ze(u)&&(u=u.toNumber()),!tr(u)||!Ue(u))throw new TypeError("The parameter k must be an integer number")}else u=0;for(var f=u>0?u:0,p=u<0?-u:0,m=this._size[0],v=this._size[1],d=Math.min(m-p,v-f),g=[],x=0;x<d;x++)g[x]=this._data[x+p][x+f];return new r({data:g,size:[d],datatype:this._datatype})},r.diagonal=function(u,f,p,m){if(!Ir(u))throw new TypeError("Array expected, size parameter");if(u.length!==2)throw new Error("Only two dimensions matrix are supported");if(u=u.map(function(C){if(Ze(C)&&(C=C.toNumber()),!tr(C)||!Ue(C)||C<1)throw new Error("Size values must be positive integers");return C}),p){if(Ze(p)&&(p=p.toNumber()),!tr(p)||!Ue(p))throw new TypeError("The parameter k must be an integer number")}else p=0;var v=p>0?p:0,d=p<0?-p:0,g=u[0],x=u[1],A=Math.min(g-d,x-v),y;if(Ir(f)){if(f.length!==A)throw new Error("Invalid value array length");y=function(_){return f[_]}}else if(ze(f)){var w=f.size();if(w.length!==1||w[0]!==A)throw new Error("Invalid matrix length");y=function(_){return f.get([_])}}else y=function(){return f};m||(m=Ze(y(0))?y(0).mul(0):0);var S=[];if(u.length>0){S=Vi(S,u,m);for(var b=0;b<A;b++)S[b+d][b+v]=y(b)}return new r({data:S,size:[g,x]})},r.fromJSON=function(u){return new r(u)},r.prototype.swapRows=function(u,f){if(!tr(u)||!Ue(u)||!tr(f)||!Ue(f))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return tt(u,this._size[0]),tt(f,this._size[0]),r._swapRows(u,f,this._data),this},r._swapRows=function(u,f,p){var m=p[u];p[u]=p[f],p[f]=m};function s(u){return ze(u)?s(u.valueOf()):Ir(u)?u.map(s):u}return r},{isClass:!0});var w_="clone",a7=["typed"],ev=M(w_,a7,t=>{var{typed:e}=t;return e(w_,{any:Xe})});function Xf(t){var e=t.length,r=t[0].length,n,i,a=[];for(i=0;i<r;i++){var o=[];for(n=0;n<e;n++)o.push(t[n][i]);a.push(o)}return a}function Si(t){for(var e=0;e<t.length;e++)if(kt(t[e]))return!0;return!1}function Mn(t,e){ze(t)&&(t=t.valueOf());for(var r=0,n=t.length;r<n;r++){var i=t[r];Array.isArray(i)?Mn(i,e):e(i)}}function Ge(t,e,r){return t&&typeof t.map=="function"?t.map(function(n){return Ge(n,e,r)}):e(t)}function io(t,e,r){var n=Array.isArray(t)?er(t):t.size();if(e<0||e>=n.length)throw new xn(e,n.length);return ze(t)?t.create(Qf(t.valueOf(),e,r)):Qf(t,e,r)}function Qf(t,e,r){var n,i,a,o;if(e<=0)if(Array.isArray(t[0])){for(o=Xf(t),i=[],n=0;n<o.length;n++)i[n]=Qf(o[n],e-1,r);return i}else{for(a=t[0],n=1;n<t.length;n++)a=r(a,t[n]);return a}else{for(i=[],n=0;n<t.length;n++)i[n]=Qf(t[n],e-1,r);return i}}function rv(t,e,r,n,i,a,o,c,l,s,u){var f=t._values,p=t._index,m=t._ptr,v,d,g,x;if(n)for(d=m[e],g=m[e+1],v=d;v<g;v++)x=p[v],r[x]!==a?(r[x]=a,o.push(x),s?(n[x]=l?c(f[v],u):c(u,f[v]),i[x]=a):n[x]=f[v]):(n[x]=l?c(f[v],n[x]):c(n[x],f[v]),i[x]=a);else for(d=m[e],g=m[e+1],v=d;v<g;v++)x=p[v],r[x]!==a?(r[x]=a,o.push(x)):i[x]=a}var D_="isInteger",o7=["typed"],tv=M(D_,o7,t=>{var{typed:e}=t;return e(D_,{number:Ue,BigNumber:function(n){return n.isInt()},Fraction:function(n){return n.d===1&&isFinite(n.n)},"Array | Matrix":e.referToSelf(r=>n=>Ge(n,r))})});var Xn="number",Na="number, number";function nv(t){return Math.abs(t)}nv.signature=Xn;function iv(t,e){return t+e}iv.signature=Na;function av(t,e){return t-e}av.signature=Na;function ov(t,e){return t*e}ov.signature=Na;function s7(t,e){return t/e}s7.signature=Na;function sv(t){return-t}sv.signature=Xn;function uv(t){return t}uv.signature=Xn;function Gs(t){return CN(t)}Gs.signature=Xn;function lv(t){return t*t*t}lv.signature=Xn;function cv(t){return Math.exp(t)}cv.signature=Xn;function fv(t){return TN(t)}fv.signature=Xn;function u7(t,e){if(!Ue(t)||!Ue(e))throw new Error("Parameters in function gcd must be integer numbers");for(var r;e!==0;)r=t%e,t=e,e=r;return t<0?-t:t}u7.signature=Na;function pv(t,e){if(!Ue(t)||!Ue(e))throw new Error("Parameters in function lcm must be integer numbers");if(t===0||e===0)return 0;for(var r,n=t*e;e!==0;)r=e,e=t%r,t=r;return Math.abs(n/t)}pv.signature=Na;function S_(t,e){return e?Math.log(t)/Math.log(e):Math.log(t)}function mv(t){return MN(t)}mv.signature=Xn;function dv(t){return EN(t)}dv.signature=Xn;function l7(t){return Of(t)}l7.signature=Xn;function c7(t,e){return e===0?t:t-e*Math.floor(t/e)}c7.signature=Na;function hv(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,r=e<0;if(r&&(e=-e),e===0)throw new Error("Root must be non-zero");if(t<0&&Math.abs(e)%2!==1)throw new Error("Root must be odd when a is negative.");if(t===0)return r?1/0:0;if(!isFinite(t))return r?0:t;var n=Math.pow(Math.abs(t),1/e);return n=t<0?-n:n,r?1/n:n}function Kf(t){return Di(t)}Kf.signature=Xn;function f7(t){return Math.sqrt(t)}f7.signature=Xn;function vv(t){return t*t}vv.signature=Xn;function gv(t,e){var r,n,i,a=0,o=1,c=1,l=0;if(!Ue(t)||!Ue(e))throw new Error("Parameters in function xgcd must be integer numbers");for(;e;)n=Math.floor(t/e),i=t-n*e,r=a,a=o-n*a,o=r,r=c,c=l-n*c,l=r,t=e,e=i;var s;return t<0?s=[-t,-o,-l]:s=[t,t?o:0,l],s}gv.signature=Na;function yv(t,e){return t*t<1&&e===1/0||t*t>1&&e===-1/0?0:Math.pow(t,e)}yv.signature=Na;function xv(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!Ue(e)||e<0||e>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(Eh(t,e))}function p7(t){return Math.abs(t)}p7.signature=Xn;var m7="number",Ws="number, number";function bv(t,e){if(!Ue(t)||!Ue(e))throw new Error("Integers expected in function bitAnd");return t&e}bv.signature=Ws;function wv(t){if(!Ue(t))throw new Error("Integer expected in function bitNot");return~t}wv.signature=m7;function Dv(t,e){if(!Ue(t)||!Ue(e))throw new Error("Integers expected in function bitOr");return t|e}Dv.signature=Ws;function Sv(t,e){if(!Ue(t)||!Ue(e))throw new Error("Integers expected in function bitXor");return t^e}Sv.signature=Ws;function Av(t,e){if(!Ue(t)||!Ue(e))throw new Error("Integers expected in function leftShift");return t<<e}Av.signature=Ws;function Nv(t,e){if(!Ue(t)||!Ue(e))throw new Error("Integers expected in function rightArithShift");return t>>e}Nv.signature=Ws;function _v(t,e){if(!Ue(t)||!Ue(e))throw new Error("Integers expected in function rightLogShift");return t>>>e}_v.signature=Ws;function ci(t,e){if(e<t)return 1;if(e===t)return e;var r=e+t>>1;return ci(t,r)*ci(r+1,e)}function Ev(t,e){if(!Ue(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(!Ue(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(e>t)throw new TypeError("k must be less than or equal to n");for(var r=t-e,n=1,i=e<r?r+1:e+1,a=2,o=e<r?e:r,c=i;c<=t;++c)for(n*=c;a<=o&&n%a===0;)n/=a,++a;return a<=o&&(n/=ci(a,o)),n}Ev.signature="number, number";var A_=Math.PI,N_=2*Math.PI,__=Math.E,E_=1.618033988749895;var d7="number",Mv="number, number";function Cv(t){return!t}Cv.signature=d7;function Tv(t,e){return!!(t||e)}Tv.signature=Mv;function Fv(t,e){return!!t!=!!e}Fv.signature=Mv;function Iv(t,e){return!!(t&&e)}Iv.signature=Mv;function tl(t){var e;if(Ue(t))return t<=0?isFinite(t)?1/0:NaN:t>171?1/0:ci(1,t-1);if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*tl(1-t));if(t>=171.35)return 1/0;if(t>85){var r=t*t,n=r*t,i=n*t,a=i*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*r)-139/(51840*n)-571/(2488320*i)+163879/(209018880*a)+5246819/(75246796800*a*t))}--t,e=Vo[0];for(var o=1;o<Vo.length;++o)e+=Vo[o]/(t+o);var c=t+Ov+.5;return Math.sqrt(2*Math.PI)*Math.pow(c,t+.5)*Math.exp(-c)*e}tl.signature="number";var Ov=4.7421875,Vo=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],Bv=.9189385332046728,h7=5,v7=7,M_=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function nl(t){if(t<0)return NaN;if(t===0)return 1/0;if(!isFinite(t))return t;if(t<.5)return Math.log(Math.PI/Math.sin(Math.PI*t))-nl(1-t);t=t-1;for(var e=t+h7+.5,r=M_[0],n=v7-1;n>=1;n--)r+=M_[n]/(t+n);return Bv+(t+.5)*Math.log(e)-e+Math.log(r)}nl.signature="number";var It="number",g7="number, number";function y7(t){return Math.acos(t)}y7.signature=It;function Pv(t){return ON(t)}Pv.signature=It;function Rv(t){return Math.atan(1/t)}Rv.signature=It;function kv(t){return isFinite(t)?(Math.log((t+1)/t)+Math.log(t/(t-1)))/2:0}kv.signature=It;function Lv(t){return Math.asin(1/t)}Lv.signature=It;function Uv(t){var e=1/t;return Math.log(e+Math.sqrt(e*e+1))}Uv.signature=It;function qv(t){return Math.acos(1/t)}qv.signature=It;function Vv(t){var e=1/t,r=Math.sqrt(e*e-1);return Math.log(r+e)}Vv.signature=It;function x7(t){return Math.asin(t)}x7.signature=It;function zv(t){return BN(t)}zv.signature=It;function b7(t){return Math.atan(t)}b7.signature=It;function w7(t,e){return Math.atan2(t,e)}w7.signature=g7;function Hv(t){return PN(t)}Hv.signature=It;function D7(t){return Math.cos(t)}D7.signature=It;function S7(t){return Rf(t)}S7.signature=It;function Yv(t){return 1/Math.tan(t)}Yv.signature=It;function Gv(t){var e=Math.exp(2*t);return(e+1)/(e-1)}Gv.signature=It;function Wv(t){return 1/Math.sin(t)}Wv.signature=It;function Zv(t){return t===0?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(t)-Math.exp(-t)))*Di(t)}Zv.signature=It;function jv(t){return 1/Math.cos(t)}jv.signature=It;function $v(t){return 2/(Math.exp(t)+Math.exp(-t))}$v.signature=It;function A7(t){return Math.sin(t)}A7.signature=It;function Jv(t){return RN(t)}Jv.signature=It;function N7(t){return Math.tan(t)}N7.signature=It;function _7(t){return kf(t)}_7.signature=It;var il="number";function E7(t){return Ue(t)}E7.signature=il;function Xv(t){return t<0}Xv.signature=il;function Qv(t){return t>0}Qv.signature=il;function Kv(t){return t===0}Kv.signature=il;function eg(t){return Number.isNaN(t)}eg.signature=il;var C_="isNegative",M7=["typed"],rg=M(C_,M7,t=>{var{typed:e}=t;return e(C_,{number:Xv,BigNumber:function(n){return n.isNeg()&&!n.isZero()&&!n.isNaN()},Fraction:function(n){return n.s<0},Unit:e.referToSelf(r=>n=>e.find(r,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(r=>n=>Ge(n,r))})});var T_="isNumeric",C7=["typed"],tg=M(T_,C7,t=>{var{typed:e}=t;return e(T_,{"number | BigNumber | Fraction | boolean":()=>!0,"Complex | Unit | string | null | undefined | Node":()=>!1,"Array | Matrix":e.referToSelf(r=>n=>Ge(n,r))})});var F_="hasNumericValue",T7=["typed","isNumeric"],ng=M(F_,T7,t=>{var{typed:e,isNumeric:r}=t;return e(F_,{boolean:()=>!0,string:function(i){return i.trim().length>0&&!isNaN(Number(i))},any:function(i){return r(i)}})});var I_="isPositive",F7=["typed"],ig=M(I_,F7,t=>{var{typed:e}=t;return e(I_,{number:Qv,BigNumber:function(n){return!n.isNeg()&&!n.isZero()&&!n.isNaN()},Fraction:function(n){return n.s>0&&n.n>0},Unit:e.referToSelf(r=>n=>e.find(r,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(r=>n=>Ge(n,r))})});var O_="isZero",I7=["typed"],ag=M(O_,I7,t=>{var{typed:e}=t;return e(O_,{number:Kv,BigNumber:function(n){return n.isZero()},Complex:function(n){return n.re===0&&n.im===0},Fraction:function(n){return n.d===1&&n.n===0},Unit:e.referToSelf(r=>n=>e.find(r,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(r=>n=>Ge(n,r))})});var B_="isNaN",O7=["typed"],og=M(B_,O7,t=>{var{typed:e}=t;return e(B_,{number:eg,BigNumber:function(n){return n.isNaN()},Fraction:function(n){return!1},Complex:function(n){return n.isNaN()},Unit:function(n){return Number.isNaN(n.value)},"Array | Matrix":function(n){return Ge(n,Number.isNaN)}})});var P_="typeOf",B7=["typed"],sg=M(P_,B7,t=>{var{typed:e}=t;return e(P_,{any:Cr})});function un(t,e,r){if(r==null)return t.eq(e);if(t.eq(e))return!0;if(t.isNaN()||e.isNaN())return!1;if(t.isFinite()&&e.isFinite()){var n=t.minus(e).abs();if(n.isZero())return!0;var i=t.constructor.max(t.abs(),e.abs());return n.lte(i.times(r))}return!1}function R_(t,e,r){return zt(t.re,e.re,r)&&zt(t.im,e.im,r)}var Ai=M("compareUnits",["typed"],t=>{var{typed:e}=t;return{"Unit, Unit":e.referToSelf(r=>(n,i)=>{if(!n.equalBase(i))throw new Error("Cannot compare units with different base");return e.find(r,[n.valueType(),i.valueType()])(n.value,i.value)})}});var ep="equalScalar",P7=["typed","config"],ug=M(ep,P7,t=>{var{typed:e,config:r}=t,n=Ai({typed:e});return e(ep,{"boolean, boolean":function(a,o){return a===o},"number, number":function(a,o){return zt(a,o,r.epsilon)},"BigNumber, BigNumber":function(a,o){return a.eq(o)||un(a,o,r.epsilon)},"Fraction, Fraction":function(a,o){return a.equals(o)},"Complex, Complex":function(a,o){return R_(a,o,r.epsilon)}},n)}),Cse=M(ep,["typed","config"],t=>{var{typed:e,config:r}=t;return e(ep,{"number, number":function(i,a){return zt(i,a,r.epsilon)}})});var R7="SparseMatrix",k7=["typed","equalScalar","Matrix"],lg=M(R7,k7,t=>{var{typed:e,equalScalar:r,Matrix:n}=t;function i(d,g){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(g&&!Ft(g))throw new Error("Invalid datatype: "+g);if(ze(d))a(this,d,g);else if(d&&Ir(d.index)&&Ir(d.ptr)&&Ir(d.size))this._values=d.values,this._index=d.index,this._ptr=d.ptr,this._size=d.size,this._datatype=g||d.datatype;else if(Ir(d))o(this,d,g);else{if(d)throw new TypeError("Unsupported type of data ("+Cr(d)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=g}}function a(d,g,x){g.type==="SparseMatrix"?(d._values=g._values?Xe(g._values):void 0,d._index=Xe(g._index),d._ptr=Xe(g._ptr),d._size=Xe(g._size),d._datatype=x||g._datatype):o(d,g.valueOf(),x||g._datatype)}function o(d,g,x){d._values=[],d._index=[],d._ptr=[],d._datatype=x;var A=g.length,y=0,w=r,S=0;if(Ft(x)&&(w=e.find(r,[x,x])||r,S=e.convert(0,x)),A>0){var b=0;do{d._ptr.push(d._index.length);for(var C=0;C<A;C++){var _=g[C];if(Ir(_)){if(b===0&&y<_.length&&(y=_.length),b<_.length){var N=_[b];w(N,S)||(d._values.push(N),d._index.push(C))}}else b===0&&y<1&&(y=1),w(_,S)||(d._values.push(_),d._index.push(C))}b++}while(b<y)}d._ptr.push(d._index.length),d._size=[A,y]}i.prototype=new n,i.prototype.createSparseMatrix=function(d,g){return new i(d,g)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return Qa(this._values,Cr)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(d,g){return new i(d,g)},i.prototype.density=function(){var d=this._size[0],g=this._size[1];return d!==0&&g!==0?this._index.length/(d*g):0},i.prototype.subset=function(d,g,x){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return c(this,d);case 2:case 3:return l(this,d,g,x);default:throw new SyntaxError("Wrong number of arguments")}};function c(d,g){if(!ja(g))throw new TypeError("Invalid index");var x=g.isScalar();if(x)return d.get(g.min());var A=g.size();if(A.length!==d._size.length)throw new ar(A.length,d._size.length);var y,w,S,b,C=g.min(),_=g.max();for(y=0,w=d._size.length;y<w;y++)tt(C[y],d._size[y]),tt(_[y],d._size[y]);var N=d._values,E=d._index,I=d._ptr,B=g.dimension(0),L=g.dimension(1),z=[],U=[];B.forEach(function(k,Q){U[k]=Q[0],z[k]=!0});var R=N?[]:void 0,O=[],G=[];return L.forEach(function(k){for(G.push(O.length),S=I[k],b=I[k+1];S<b;S++)y=E[S],z[y]===!0&&(O.push(U[y]),R&&R.push(N[S]))}),G.push(O.length),new i({values:R,index:O,ptr:G,size:A,datatype:d._datatype})}function l(d,g,x,A){if(!g||g.isIndex!==!0)throw new TypeError("Invalid index");var y=g.size(),w=g.isScalar(),S;if(ze(x)?(S=x.size(),x=x.toArray()):S=er(x),w){if(S.length!==0)throw new TypeError("Scalar expected");d.set(g.min(),x,A)}else{if(y.length!==1&&y.length!==2)throw new ar(y.length,d._size.length,"<");if(S.length<y.length){for(var b=0,C=0;y[b]===1&&S[b]===1;)b++;for(;y[b]===1;)C++,b++;x=Uf(x,y.length,C,S)}if(!Ui(y,S))throw new ar(y,S,">");if(y.length===1){var _=g.dimension(0);_.forEach(function(I,B){tt(I),d.set([I,0],x[B[0]],A)})}else{var N=g.dimension(0),E=g.dimension(1);N.forEach(function(I,B){tt(I),E.forEach(function(L,z){tt(L),d.set([I,L],x[B[0]][z[0]],A)})})}}return d}i.prototype.get=function(d){if(!Ir(d))throw new TypeError("Array expected");if(d.length!==this._size.length)throw new ar(d.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var g=d[0],x=d[1];tt(g,this._size[0]),tt(x,this._size[1]);var A=s(g,this._ptr[x],this._ptr[x+1],this._index);return A<this._ptr[x+1]&&this._index[A]===g?this._values[A]:0},i.prototype.set=function(d,g,x){if(!Ir(d))throw new TypeError("Array expected");if(d.length!==this._size.length)throw new ar(d.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var A=d[0],y=d[1],w=this._size[0],S=this._size[1],b=r,C=0;Ft(this._datatype)&&(b=e.find(r,[this._datatype,this._datatype])||r,C=e.convert(0,this._datatype)),(A>w-1||y>S-1)&&(p(this,Math.max(A+1,w),Math.max(y+1,S),x),w=this._size[0],S=this._size[1]),tt(A,w),tt(y,S);var _=s(A,this._ptr[y],this._ptr[y+1],this._index);return _<this._ptr[y+1]&&this._index[_]===A?b(g,C)?u(_,y,this._values,this._index,this._ptr):this._values[_]=g:b(g,C)||f(_,A,y,g,this._values,this._index,this._ptr),this};function s(d,g,x,A){if(x-g===0)return x;for(var y=g;y<x;y++)if(A[y]===d)return y;return g}function u(d,g,x,A,y){x.splice(d,1),A.splice(d,1);for(var w=g+1;w<y.length;w++)y[w]--}function f(d,g,x,A,y,w,S){y.splice(d,0,A),w.splice(d,0,g);for(var b=x+1;b<S.length;b++)S[b]++}i.prototype.resize=function(d,g,x){if(!kt(d))throw new TypeError("Array or Matrix expected");var A=d.valueOf().map(w=>Array.isArray(w)&&w.length===1?w[0]:w);if(A.length!==2)throw new Error("Only two dimensions matrix are supported");A.forEach(function(w){if(!tr(w)||!Ue(w)||w<0)throw new TypeError("Invalid size, must contain positive integers (size: "+ir(A)+")")});var y=x?this.clone():this;return p(y,A[0],A[1],g)};function p(d,g,x,A){var y=A||0,w=r,S=0;Ft(d._datatype)&&(w=e.find(r,[d._datatype,d._datatype])||r,S=e.convert(0,d._datatype),y=e.convert(y,d._datatype));var b=!w(y,S),C=d._size[0],_=d._size[1],N,E,I;if(x>_){for(E=_;E<x;E++)if(d._ptr[E]=d._values.length,b)for(N=0;N<C;N++)d._values.push(y),d._index.push(N);d._ptr[x]=d._values.length}else x<_&&(d._ptr.splice(x+1,_-x),d._values.splice(d._ptr[x],d._values.length),d._index.splice(d._ptr[x],d._index.length));if(_=x,g>C){if(b){var B=0;for(E=0;E<_;E++){d._ptr[E]=d._ptr[E]+B,I=d._ptr[E+1]+B;var L=0;for(N=C;N<g;N++,L++)d._values.splice(I+L,0,y),d._index.splice(I+L,0,N),B++}d._ptr[_]=d._values.length}}else if(g<C){var z=0;for(E=0;E<_;E++){d._ptr[E]=d._ptr[E]-z;var U=d._ptr[E],R=d._ptr[E+1]-z;for(I=U;I<R;I++)N=d._index[I],N>g-1&&(d._values.splice(I,1),d._index.splice(I,1),z++)}d._ptr[E]=d._values.length}return d._size[0]=g,d._size[1]=x,d}i.prototype.reshape=function(d,g){if(!Ir(d))throw new TypeError("Array expected");if(d.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");d.forEach(function(k){if(!tr(k)||!Ue(k)||k<=-2||k===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+ir(d)+")")});var x=this._size[0]*this._size[1];d=Qu(d,x);var A=d[0]*d[1];if(x!==A)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var y=g?this.clone():this;if(this._size[0]===d[0]&&this._size[1]===d[1])return y;for(var w=[],S=0;S<y._ptr.length;S++)for(var b=0;b<y._ptr[S+1]-y._ptr[S];b++)w.push(S);for(var C=y._values.slice(),_=y._index.slice(),N=0;N<y._index.length;N++){var E=_[N],I=w[N],B=E*y._size[1]+I;w[N]=B%d[1],_[N]=Math.floor(B/d[1])}y._values.length=0,y._index.length=0,y._ptr.length=d[1]+1,y._size=d.slice();for(var L=0;L<y._ptr.length;L++)y._ptr[L]=0;for(var z=0;z<C.length;z++){var U=_[z],R=w[z],O=C[z],G=s(U,y._ptr[R],y._ptr[R+1],y._index);f(G,U,R,O,y._values,y._index,y._ptr)}return y},i.prototype.clone=function(){var d=new i({values:this._values?Xe(this._values):void 0,index:Xe(this._index),ptr:Xe(this._ptr),size:Xe(this._size),datatype:this._datatype});return d},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(d,g){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var x=this,A=this._size[0],y=this._size[1],w=Jf(d),S=function(C,_,N){return w===1?d(C):w===2?d(C,[_,N]):d(C,[_,N],x)};return m(this,0,A-1,0,y-1,S,g)};function m(d,g,x,A,y,w,S){var b=[],C=[],_=[],N=r,E=0;Ft(d._datatype)&&(N=e.find(r,[d._datatype,d._datatype])||r,E=e.convert(0,d._datatype));for(var I=function(q,ne,de){q=w(q,ne,de),N(q,E)||(b.push(q),C.push(ne))},B=A;B<=y;B++){_.push(b.length);var L=d._ptr[B],z=d._ptr[B+1];if(S)for(var U=L;U<z;U++){var R=d._index[U];R>=g&&R<=x&&I(d._values[U],R-g,B-A)}else{for(var O={},G=L;G<z;G++){var k=d._index[G];O[k]=d._values[G]}for(var Q=g;Q<=x;Q++){var te=Q in O?O[Q]:0;I(te,Q-g,B-A)}}}return _.push(b.length),new i({values:b,index:C,ptr:_,size:[x-g+1,y-A+1]})}i.prototype.forEach=function(d,g){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var x=this,A=this._size[0],y=this._size[1],w=0;w<y;w++){var S=this._ptr[w],b=this._ptr[w+1];if(g)for(var C=S;C<b;C++){var _=this._index[C];d(this._values[C],[_,w],x)}else{for(var N={},E=S;E<b;E++){var I=this._index[E];N[I]=this._values[E]}for(var B=0;B<A;B++){var L=B in N?N[B]:0;d(L,[B,w],x)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var d=this._size[1],g=0;g<d;g++)for(var x=this._ptr[g],A=this._ptr[g+1],y=x;y<A;y++){var w=this._index[y];yield{value:this._values[y],index:[w,g]}}},i.prototype.toArray=function(){return v(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return v(this._values,this._index,this._ptr,this._size,!1)};function v(d,g,x,A,y){var w=A[0],S=A[1],b=[],C,_;for(C=0;C<w;C++)for(b[C]=[],_=0;_<S;_++)b[C][_]=0;for(_=0;_<S;_++)for(var N=x[_],E=x[_+1],I=N;I<E;I++)C=g[I],b[C][_]=d?y?Xe(d[I]):d[I]:1;return b}return i.prototype.format=function(d){for(var g=this._size[0],x=this._size[1],A=this.density(),y="Sparse Matrix ["+ir(g,d)+" x "+ir(x,d)+"] density: "+ir(A,d)+`
`,w=0;w<x;w++)for(var S=this._ptr[w],b=this._ptr[w+1],C=S;C<b;C++){var _=this._index[C];y+=`
    (`+ir(_,d)+", "+ir(w,d)+") ==> "+(this._values?ir(this._values[C],d):"X")}return y},i.prototype.toString=function(){return ir(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(d){if(d){if(Ze(d)&&(d=d.toNumber()),!tr(d)||!Ue(d))throw new TypeError("The parameter k must be an integer number")}else d=0;var g=d>0?d:0,x=d<0?-d:0,A=this._size[0],y=this._size[1],w=Math.min(A-x,y-g),S=[],b=[],C=[];C[0]=0;for(var _=g;_<y&&S.length<w;_++)for(var N=this._ptr[_],E=this._ptr[_+1],I=N;I<E;I++){var B=this._index[I];if(B===_-g+x){S.push(this._values[I]),b[S.length-1]=B-x;break}}return C.push(S.length),new i({values:S,index:b,ptr:C,size:[w,1]})},i.fromJSON=function(d){return new i(d)},i.diagonal=function(d,g,x,A,y){if(!Ir(d))throw new TypeError("Array expected, size parameter");if(d.length!==2)throw new Error("Only two dimensions matrix are supported");if(d=d.map(function(k){if(Ze(k)&&(k=k.toNumber()),!tr(k)||!Ue(k)||k<1)throw new Error("Size values must be positive integers");return k}),x){if(Ze(x)&&(x=x.toNumber()),!tr(x)||!Ue(x))throw new TypeError("The parameter k must be an integer number")}else x=0;var w=r,S=0;Ft(y)&&(w=e.find(r,[y,y])||r,S=e.convert(0,y));var b=x>0?x:0,C=x<0?-x:0,_=d[0],N=d[1],E=Math.min(_-C,N-b),I;if(Ir(g)){if(g.length!==E)throw new Error("Invalid value array length");I=function(Q){return g[Q]}}else if(ze(g)){var B=g.size();if(B.length!==1||B[0]!==E)throw new Error("Invalid matrix length");I=function(Q){return g.get([Q])}}else I=function(){return g};for(var L=[],z=[],U=[],R=0;R<N;R++){U.push(L.length);var O=R-b;if(O>=0&&O<E){var G=I(O);w(G,S)||(z.push(O+C),L.push(G))}}return U.push(L.length),new i({values:L,index:z,ptr:U,size:[_,N]})},i.prototype.swapRows=function(d,g){if(!tr(d)||!Ue(d)||!tr(g)||!Ue(g))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return tt(d,this._size[0]),tt(g,this._size[0]),i._swapRows(d,g,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(d,g,x,A,y){for(var w=A[d],S=A[d+1],b=w;b<S;b++)y(x[b],g[b])},i._swapRows=function(d,g,x,A,y,w){for(var S=0;S<x;S++){var b=w[S],C=w[S+1],_=s(d,b,C,y),N=s(g,b,C,y);if(_<C&&N<C&&y[_]===d&&y[N]===g){if(A){var E=A[_];A[_]=A[N],A[N]=E}continue}if(_<C&&y[_]===d&&(N>=C||y[N]!==g)){var I=A?A[_]:void 0;y.splice(N,0,g),A&&A.splice(N,0,I),y.splice(N<=_?_+1:_,1),A&&A.splice(N<=_?_+1:_,1);continue}if(N<C&&y[N]===g&&(_>=C||y[_]!==d)){var B=A?A[N]:void 0;y.splice(_,0,d),A&&A.splice(_,0,B),y.splice(_<=N?N+1:N,1),A&&A.splice(_<=N?N+1:N,1)}}},i},{isClass:!0});var L7="number",U7=["typed"];function q7(t){var e=t.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(e){var r={"0b":2,"0o":8,"0x":16}[e[1]],n=e[2],i=e[3];return{input:t,radix:r,integerPart:n,fractionalPart:i}}else return null}function V7(t){for(var e=parseInt(t.integerPart,t.radix),r=0,n=0;n<t.fractionalPart.length;n++){var i=parseInt(t.fractionalPart[n],t.radix);r+=i/Math.pow(t.radix,n+1)}var a=e+r;if(isNaN(a))throw new SyntaxError('String "'+t.input+'" is not a valid number');return a}var cg=M(L7,U7,t=>{var{typed:e}=t,r=e("number",{"":function(){return 0},number:function(i){return i},string:function(i){if(i==="NaN")return NaN;var a=q7(i);if(a)return V7(a);var o=0,c=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);c&&(o=Number(c[2]),i=c[1]);var l=Number(i);if(isNaN(l))throw new SyntaxError('String "'+i+'" is not a valid number');if(c){if(l>2**o-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));l>=2**(o-1)&&(l=l-2**o)}return l},BigNumber:function(i){return i.toNumber()},Fraction:function(i){return i.valueOf()},Unit:e.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),null:function(i){return 0},"Unit, string | Unit":function(i,a){return i.toNumber(a)},"Array | Matrix":e.referToSelf(n=>i=>Ge(i,n))});return r.fromJSON=function(n){return parseFloat(n.value)},r});var k_="string",z7=["typed"],fg=M(k_,z7,t=>{var{typed:e}=t;return e(k_,{"":function(){return""},number:qi,null:function(n){return"null"},boolean:function(n){return n+""},string:function(n){return n},"Array | Matrix":e.referToSelf(r=>n=>Ge(n,r)),any:function(n){return String(n)}})});var L_="boolean",H7=["typed"],pg=M(L_,H7,t=>{var{typed:e}=t;return e(L_,{"":function(){return!1},boolean:function(n){return n},number:function(n){return!!n},null:function(n){return!1},BigNumber:function(n){return!n.isZero()},string:function(n){var i=n.toLowerCase();if(i==="true")return!0;if(i==="false")return!1;var a=Number(n);if(n!==""&&!isNaN(a))return!!a;throw new Error('Cannot convert "'+n+'" to a boolean')},"Array | Matrix":e.referToSelf(r=>n=>Ge(n,r))})});var Y7="bignumber",G7=["typed","BigNumber"],mg=M(Y7,G7,t=>{var{typed:e,BigNumber:r}=t;return e("bignumber",{"":function(){return new r(0)},number:function(i){return new r(i+"")},string:function(i){var a=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(a){var o=a[2],c=r(a[1]),l=new r(2).pow(Number(o));if(c.gt(l.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var s=new r(2).pow(Number(o)-1);return c.gte(s)?c.sub(l):c}return new r(i)},BigNumber:function(i){return i},Unit:e.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),Fraction:function(i){return new r(i.n).div(i.d).times(i.s)},null:function(i){return new r(0)},"Array | Matrix":e.referToSelf(n=>i=>Ge(i,n))})});var W7="complex",Z7=["typed","Complex"],dg=M(W7,Z7,t=>{var{typed:e,Complex:r}=t;return e("complex",{"":function(){return r.ZERO},number:function(i){return new r(i,0)},"number, number":function(i,a){return new r(i,a)},"BigNumber, BigNumber":function(i,a){return new r(i.toNumber(),a.toNumber())},Fraction:function(i){return new r(i.valueOf(),0)},Complex:function(i){return i.clone()},string:function(i){return r(i)},null:function(i){return r(0)},Object:function(i){if("re"in i&&"im"in i)return new r(i.re,i.im);if("r"in i&&"phi"in i||"abs"in i&&"arg"in i)return new r(i);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":e.referToSelf(n=>i=>Ge(i,n))})});var j7="fraction",$7=["typed","Fraction"],hg=M(j7,$7,t=>{var{typed:e,Fraction:r}=t;return e("fraction",{number:function(i){if(!isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new r(i)},string:function(i){return new r(i)},"number, number":function(i,a){return new r(i,a)},null:function(i){return new r(0)},BigNumber:function(i){return new r(i.toString())},Fraction:function(i){return i},Unit:e.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),Object:function(i){return new r(i)},"Array | Matrix":e.referToSelf(n=>i=>Ge(i,n))})});var U_="matrix",J7=["typed","Matrix","DenseMatrix","SparseMatrix"],vg=M(U_,J7,t=>{var{typed:e,Matrix:r,DenseMatrix:n,SparseMatrix:i}=t;return e(U_,{"":function(){return a([])},string:function(c){return a([],c)},"string, string":function(c,l){return a([],c,l)},Array:function(c){return a(c)},Matrix:function(c){return a(c,c.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(o,c,l){if(c==="dense"||c==="default"||c===void 0)return new n(o,l);if(c==="sparse")return new i(o,l);throw new TypeError("Unknown matrix type "+JSON.stringify(c)+".")}});var q_="matrixFromFunction",X7=["typed","matrix","isZero"],gg=M(q_,X7,t=>{var{typed:e,matrix:r,isZero:n}=t;return e(q_,{"Array | Matrix, function, string, string":function(o,c,l,s){return i(o,c,l,s)},"Array | Matrix, function, string":function(o,c,l){return i(o,c,l)},"Matrix, function":function(o,c){return i(o,c,"dense")},"Array, function":function(o,c){return i(o,c,"dense").toArray()},"Array | Matrix, string, function":function(o,c,l){return i(o,l,c)},"Array | Matrix, string, string, function":function(o,c,l,s){return i(o,s,c,l)}});function i(a,o,c,l){var s;return l!==void 0?s=r(c,l):s=r(c),s.resize(a),s.forEach(function(u,f){var p=o(f);n(p)||s.set(f,p)}),s}});var V_="matrixFromRows",Q7=["typed","matrix","flatten","size"],yg=M(V_,Q7,t=>{var{typed:e,matrix:r,flatten:n,size:i}=t;return e(V_,{"...Array":function(l){return a(l)},"...Matrix":function(l){return r(a(l.map(s=>s.toArray())))}});function a(c){if(c.length===0)throw new TypeError("At least one row is needed to construct a matrix.");var l=o(c[0]),s=[];for(var u of c){var f=o(u);if(f!==l)throw new TypeError("The vectors had different length: "+(l|0)+" \u2260 "+(f|0));s.push(n(u))}return s}function o(c){var l=i(c);if(l.length===1)return l[0];if(l.length===2){if(l[0]===1)return l[1];if(l[1]===1)return l[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}});var z_="matrixFromColumns",K7=["typed","matrix","flatten","size"],xg=M(z_,K7,t=>{var{typed:e,matrix:r,flatten:n,size:i}=t;return e(z_,{"...Array":function(l){return a(l)},"...Matrix":function(l){return r(a(l.map(s=>s.toArray())))}});function a(c){if(c.length===0)throw new TypeError("At least one column is needed to construct a matrix.");for(var l=o(c[0]),s=[],u=0;u<l;u++)s[u]=[];for(var f of c){var p=o(f);if(p!==l)throw new TypeError("The vectors had different length: "+(l|0)+" \u2260 "+(p|0));for(var m=n(f),v=0;v<l;v++)s[v].push(m[v])}return s}function o(c){var l=i(c);if(l.length===1)return l[0];if(l.length===2){if(l[0]===1)return l[1];if(l[1]===1)return l[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}});var H_="splitUnit",eq=["typed"],bg=M(H_,eq,t=>{var{typed:e}=t;return e(H_,{"Unit, Array":function(n,i){return n.splitUnit(i)}})});var Y_="unaryMinus",rq=["typed"],wg=M(Y_,rq,t=>{var{typed:e}=t;return e(Y_,{number:sv,"Complex | BigNumber | Fraction":r=>r.neg(),Unit:e.referToSelf(r=>n=>{var i=n.clone();return i.value=e.find(r,i.valueType())(n.value),i}),"Array | Matrix":e.referToSelf(r=>n=>Ge(n,r,!0))})});var G_="unaryPlus",tq=["typed","config","BigNumber"],Dg=M(G_,tq,t=>{var{typed:e,config:r,BigNumber:n}=t;return e(G_,{number:uv,Complex:function(a){return a},BigNumber:function(a){return a},Fraction:function(a){return a},Unit:function(a){return a.clone()},"Array | Matrix":e.referToSelf(i=>a=>Ge(a,i,!0)),"boolean | string":function(a){return r.number==="BigNumber"?new n(+a):+a}})});var W_="abs",nq=["typed"],Sg=M(W_,nq,t=>{var{typed:e}=t;return e(W_,{number:nv,"Complex | BigNumber | Fraction | Unit":r=>r.abs(),"Array | Matrix":e.referToSelf(r=>n=>Ge(n,r,!0))})});var Z_="apply",iq=["typed","isInteger"],zo=M(Z_,iq,t=>{var{typed:e,isInteger:r}=t;return e(Z_,{"Array | Matrix, number | BigNumber, function":function(i,a,o){if(!r(a))throw new TypeError("Integer number expected for dimension");var c=Array.isArray(i)?er(i):i.size();if(a<0||a>=c.length)throw new xn(a,c.length);return ze(i)?i.create(rp(i.valueOf(),a,o)):rp(i,a,o)}})});function rp(t,e,r){var n,i,a;if(e<=0)if(Array.isArray(t[0])){for(a=aq(t),i=[],n=0;n<a.length;n++)i[n]=rp(a[n],e-1,r);return i}else return r(t);else{for(i=[],n=0;n<t.length;n++)i[n]=rp(t[n],e-1,r);return i}}function aq(t){var e=t.length,r=t[0].length,n,i,a=[];for(i=0;i<r;i++){var o=[];for(n=0;n<e;n++)o.push(t[n][i]);a.push(o)}return a}var j_="addScalar",oq=["typed"],Ag=M(j_,oq,t=>{var{typed:e}=t;return e(j_,{"number, number":iv,"Complex, Complex":function(n,i){return n.add(i)},"BigNumber, BigNumber":function(n,i){return n.plus(i)},"Fraction, Fraction":function(n,i){return n.add(i)},"Unit, Unit":e.referToSelf(r=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var a=n.clone();return a.value=e.find(r,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})});var $_="subtractScalar",sq=["typed"],Ng=M($_,sq,t=>{var{typed:e}=t;return e($_,{"number, number":av,"Complex, Complex":function(n,i){return n.sub(i)},"BigNumber, BigNumber":function(n,i){return n.minus(i)},"Fraction, Fraction":function(n,i){return n.sub(i)},"Unit, Unit":e.referToSelf(r=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var a=n.clone();return a.value=e.find(r,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})});var J_="cbrt",uq=["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],_g=M(J_,uq,t=>{var{config:e,typed:r,isNegative:n,unaryMinus:i,matrix:a,Complex:o,BigNumber:c,Fraction:l}=t;return r(J_,{number:Gs,Complex:s,"Complex, boolean":s,BigNumber:function(p){return p.cbrt()},Unit:u});function s(f,p){var m=f.arg()/3,v=f.abs(),d=new o(Gs(v),0).mul(new o(0,m).exp());if(p){var g=[d,new o(Gs(v),0).mul(new o(0,m+Math.PI*2/3).exp()),new o(Gs(v),0).mul(new o(0,m-Math.PI*2/3).exp())];return e.matrix==="Array"?g:a(g)}else return d}function u(f){if(f.value&&Hn(f.value)){var p=f.clone();return p.value=1,p=p.pow(1/3),p.value=s(f.value),p}else{var m=n(f.value);m&&(f.value=i(f.value));var v;Ze(f.value)?v=new c(1).div(3):wa(f.value)?v=new l(1,3):v=1/3;var d=f.pow(v);return m&&(d.value=i(d.value)),d}}});var lq="matAlgo11xS0s",cq=["typed","equalScalar"],nt=M(lq,cq,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,o,c){var l=i._values,s=i._index,u=i._ptr,f=i._size,p=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=f[0],v=f[1],d,g=r,x=0,A=o;typeof p=="string"&&(d=p,g=e.find(r,[d,d]),x=e.convert(0,d),a=e.convert(a,d),A=e.find(o,[d,d]));for(var y=[],w=[],S=[],b=0;b<v;b++){S[b]=w.length;for(var C=u[b],_=u[b+1],N=C;N<_;N++){var E=s[N],I=c?A(a,l[N]):A(l[N],a);g(I,x)||(w.push(E),y.push(I))}}return S[v]=w.length,i.createSparseMatrix({values:y,index:w,ptr:S,size:[m,v],datatype:d})}});var fq="matAlgo12xSfs",pq=["typed","DenseMatrix"],Hr=M(fq,pq,t=>{var{typed:e,DenseMatrix:r}=t;return function(i,a,o,c){var l=i._values,s=i._index,u=i._ptr,f=i._size,p=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=f[0],v=f[1],d,g=o;typeof p=="string"&&(d=p,a=e.convert(a,d),g=e.find(o,[d,d]));for(var x=[],A=[],y=[],w=0;w<v;w++){for(var S=w+1,b=u[w],C=u[w+1],_=b;_<C;_++){var N=s[_];A[N]=l[_],y[N]=S}for(var E=0;E<m;E++)w===0&&(x[E]=[]),y[E]===S?x[E][w]=c?g(a,A[E]):g(A[E],a):x[E][w]=c?g(a,0):g(0,a)}return new r({data:x,size:[m,v],datatype:d})}});var mq="matAlgo14xDs",dq=["typed"],Ht=M(mq,dq,t=>{var{typed:e}=t;return function(i,a,o,c){var l=i._data,s=i._size,u=i._datatype,f,p=o;typeof u=="string"&&(f=u,a=e.convert(a,f),p=e.find(o,[f,f]));var m=s.length>0?r(p,0,s,s[0],l,a,c):[];return i.createDenseMatrix({data:m,size:Xe(s),datatype:f})};function r(n,i,a,o,c,l,s){var u=[];if(i===a.length-1)for(var f=0;f<o;f++)u[f]=s?n(l,c[f]):n(c[f],l);else for(var p=0;p<o;p++)u[p]=r(n,i+1,a,a[i+1],c[p],l,s);return u}});var Eg="ceil",hq=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],vq=M(Eg,["typed","config","round"],t=>{var{typed:e,config:r,round:n}=t;return e(Eg,{number:function(a){return zt(a,n(a),r.epsilon)?n(a):Math.ceil(a)},"number, number":function(a,o){if(zt(a,n(a,o),r.epsilon))return n(a,o);var[c,l]="".concat(a,"e").split("e"),s=Math.ceil(Number("".concat(c,"e").concat(Number(l)+o)));return[c,l]="".concat(s,"e").split("e"),Number("".concat(c,"e").concat(Number(l)-o))}})}),Mg=M(Eg,hq,t=>{var{typed:e,config:r,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:c}=t,l=nt({typed:e,equalScalar:a}),s=Hr({typed:e,DenseMatrix:c}),u=Ht({typed:e}),f=vq({typed:e,config:r,round:n});return e("ceil",{number:f.signatures.number,"number,number":f.signatures["number,number"],Complex:function(m){return m.ceil()},"Complex, number":function(m,v){return m.ceil(v)},"Complex, BigNumber":function(m,v){return m.ceil(v.toNumber())},BigNumber:function(m){return un(m,n(m),r.epsilon)?n(m):m.ceil()},"BigNumber, BigNumber":function(m,v){return un(m,n(m,v),r.epsilon)?n(m,v):m.toDecimalPlaces(v.toNumber(),Uo.ROUND_CEIL)},Fraction:function(m){return m.ceil()},"Fraction, number":function(m,v){return m.ceil(v)},"Fraction, BigNumber":function(m,v){return m.ceil(v.toNumber())},"Array | Matrix":e.referToSelf(p=>m=>Ge(m,p,!0)),"Array, number | BigNumber":e.referToSelf(p=>(m,v)=>Ge(m,d=>p(d,v),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(p=>(m,v)=>l(m,v,p,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(p=>(m,v)=>u(m,v,p,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(p=>(m,v)=>u(i(v),m,p,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(p=>(m,v)=>a(m,0)?o(v.size(),v.storage()):v.storage()==="dense"?u(v,m,p,!0):s(v,m,p,!0))})});var X_="cube",gq=["typed"],Cg=M(X_,gq,t=>{var{typed:e}=t;return e(X_,{number:lv,Complex:function(n){return n.mul(n).mul(n)},BigNumber:function(n){return n.times(n).times(n)},Fraction:function(n){return n.pow(3)},Unit:function(n){return n.pow(3)}})});var Q_="exp",yq=["typed"],Tg=M(Q_,yq,t=>{var{typed:e}=t;return e(Q_,{number:cv,Complex:function(n){return n.exp()},BigNumber:function(n){return n.exp()}})});var K_="expm1",xq=["typed","Complex"],Fg=M(K_,xq,t=>{var{typed:e,Complex:r}=t;return e(K_,{number:fv,Complex:function(i){var a=Math.exp(i.re);return new r(a*Math.cos(i.im)-1,a*Math.sin(i.im))},BigNumber:function(i){return i.exp().minus(1)}})});var Ig="fix",bq=["typed","Complex","matrix","ceil","floor","equalScalar","zeros","DenseMatrix"],wq=M(Ig,["typed","ceil","floor"],t=>{var{typed:e,ceil:r,floor:n}=t;return e(Ig,{number:function(a){return a>0?n(a):r(a)},"number, number":function(a,o){return a>0?n(a,o):r(a,o)}})}),Og=M(Ig,bq,t=>{var{typed:e,Complex:r,matrix:n,ceil:i,floor:a,equalScalar:o,zeros:c,DenseMatrix:l}=t,s=Hr({typed:e,DenseMatrix:l}),u=Ht({typed:e}),f=wq({typed:e,ceil:i,floor:a});return e("fix",{number:f.signatures.number,"number, number | BigNumber":f.signatures["number,number"],Complex:function(m){return new r(m.re>0?Math.floor(m.re):Math.ceil(m.re),m.im>0?Math.floor(m.im):Math.ceil(m.im))},"Complex, number":function(m,v){return new r(m.re>0?a(m.re,v):i(m.re,v),m.im>0?a(m.im,v):i(m.im,v))},"Complex, BigNumber":function(m,v){var d=v.toNumber();return new r(m.re>0?a(m.re,d):i(m.re,d),m.im>0?a(m.im,d):i(m.im,d))},BigNumber:function(m){return m.isNegative()?i(m):a(m)},"BigNumber, number | BigNumber":function(m,v){return m.isNegative()?i(m,v):a(m,v)},Fraction:function(m){return m.s<0?m.ceil():m.floor()},"Fraction, number | BigNumber":function(m,v){return m.s<0?i(m,v):a(m,v)},"Array | Matrix":e.referToSelf(p=>m=>Ge(m,p,!0)),"Array | Matrix, number | BigNumber":e.referToSelf(p=>(m,v)=>Ge(m,d=>p(d,v),!0)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(p=>(m,v)=>u(n(v),m,p,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(p=>(m,v)=>o(m,0)?c(v.size(),v.storage()):v.storage()==="dense"?u(v,m,p,!0):s(v,m,p,!0))})});var Bg="floor",Dq=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],Sq=M(Bg,["typed","config","round"],t=>{var{typed:e,config:r,round:n}=t;return e(Bg,{number:function(a){return zt(a,n(a),r.epsilon)?n(a):Math.floor(a)},"number, number":function(a,o){if(zt(a,n(a,o),r.epsilon))return n(a,o);var[c,l]="".concat(a,"e").split("e"),s=Math.floor(Number("".concat(c,"e").concat(Number(l)+o)));return[c,l]="".concat(s,"e").split("e"),Number("".concat(c,"e").concat(Number(l)-o))}})}),al=M(Bg,Dq,t=>{var{typed:e,config:r,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:c}=t,l=nt({typed:e,equalScalar:a}),s=Hr({typed:e,DenseMatrix:c}),u=Ht({typed:e}),f=Sq({typed:e,config:r,round:n});return e("floor",{number:f.signatures.number,"number,number":f.signatures["number,number"],Complex:function(m){return m.floor()},"Complex, number":function(m,v){return m.floor(v)},"Complex, BigNumber":function(m,v){return m.floor(v.toNumber())},BigNumber:function(m){return un(m,n(m),r.epsilon)?n(m):m.floor()},"BigNumber, BigNumber":function(m,v){return un(m,n(m,v),r.epsilon)?n(m,v):m.toDecimalPlaces(v.toNumber(),Uo.ROUND_FLOOR)},Fraction:function(m){return m.floor()},"Fraction, number":function(m,v){return m.floor(v)},"Fraction, BigNumber":function(m,v){return m.floor(v.toNumber())},"Array | Matrix":e.referToSelf(p=>m=>Ge(m,p,!0)),"Array, number | BigNumber":e.referToSelf(p=>(m,v)=>Ge(m,d=>p(d,v),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(p=>(m,v)=>l(m,v,p,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(p=>(m,v)=>u(m,v,p,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(p=>(m,v)=>u(i(v),m,p,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(p=>(m,v)=>a(m,0)?o(v.size(),v.storage()):v.storage()==="dense"?u(v,m,p,!0):s(v,m,p,!0))})});var Aq="matAlgo02xDS0",Nq=["typed","equalScalar"],Yt=M(Aq,Nq,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,o,c){var l=i._data,s=i._size,u=i._datatype,f=a._values,p=a._index,m=a._ptr,v=a._size,d=a._datatype;if(s.length!==v.length)throw new ar(s.length,v.length);if(s[0]!==v[0]||s[1]!==v[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+v+")");if(!f)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var g=s[0],x=s[1],A,y=r,w=0,S=o;typeof u=="string"&&u===d&&(A=u,y=e.find(r,[A,A]),w=e.convert(0,A),S=e.find(o,[A,A]));for(var b=[],C=[],_=[],N=0;N<x;N++){_[N]=C.length;for(var E=m[N],I=m[N+1],B=E;B<I;B++){var L=p[B],z=c?S(f[B],l[L][N]):S(l[L][N],f[B]);y(z,w)||(C.push(L),b.push(z))}}return _[x]=C.length,a.createSparseMatrix({values:b,index:C,ptr:_,size:[g,x],datatype:A})}});var _q="matAlgo03xDSf",Eq=["typed"],dt=M(_q,Eq,t=>{var{typed:e}=t;return function(n,i,a,o){var c=n._data,l=n._size,s=n._datatype,u=i._values,f=i._index,p=i._ptr,m=i._size,v=i._datatype;if(l.length!==m.length)throw new ar(l.length,m.length);if(l[0]!==m[0]||l[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+m+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d=l[0],g=l[1],x,A=0,y=a;typeof s=="string"&&s===v&&(x=s,A=e.convert(0,x),y=e.find(a,[x,x]));for(var w=[],S=0;S<d;S++)w[S]=[];for(var b=[],C=[],_=0;_<g;_++){for(var N=_+1,E=p[_],I=p[_+1],B=E;B<I;B++){var L=f[B];b[L]=o?y(u[B],c[L][_]):y(c[L][_],u[B]),C[L]=N}for(var z=0;z<d;z++)C[z]===N?w[z][_]=b[z]:w[z][_]=o?y(A,c[z][_]):y(c[z][_],A)}return n.createDenseMatrix({data:w,size:[d,g],datatype:x})}});var Mq="matAlgo05xSfSf",Cq=["typed","equalScalar"],ao=M(Mq,Cq,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,o){var c=i._values,l=i._index,s=i._ptr,u=i._size,f=i._datatype,p=a._values,m=a._index,v=a._ptr,d=a._size,g=a._datatype;if(u.length!==d.length)throw new ar(u.length,d.length);if(u[0]!==d[0]||u[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+d+")");var x=u[0],A=u[1],y,w=r,S=0,b=o;typeof f=="string"&&f===g&&(y=f,w=e.find(r,[y,y]),S=e.convert(0,y),b=e.find(o,[y,y]));var C=c&&p?[]:void 0,_=[],N=[],E=C?[]:void 0,I=C?[]:void 0,B=[],L=[],z,U,R,O;for(U=0;U<A;U++){N[U]=_.length;var G=U+1;for(R=s[U],O=s[U+1];R<O;R++)z=l[R],_.push(z),B[z]=G,E&&(E[z]=c[R]);for(R=v[U],O=v[U+1];R<O;R++)z=m[R],B[z]!==G&&_.push(z),L[z]=G,I&&(I[z]=p[R]);if(C)for(R=N[U];R<_.length;){z=_[R];var k=B[z],Q=L[z];if(k===G||Q===G){var te=k===G?E[z]:S,X=Q===G?I[z]:S,q=b(te,X);w(q,S)?_.splice(R,1):(C.push(q),R++)}}}return N[A]=_.length,i.createSparseMatrix({values:C,index:_,ptr:N,size:[x,A],datatype:y})}});var Tq="matAlgo13xDD",Fq=["typed"],eE=M(Tq,Fq,t=>{var{typed:e}=t;return function(i,a,o){var c=i._data,l=i._size,s=i._datatype,u=a._data,f=a._size,p=a._datatype,m=[];if(l.length!==f.length)throw new ar(l.length,f.length);for(var v=0;v<l.length;v++){if(l[v]!==f[v])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+f+")");m[v]=l[v]}var d,g=o;typeof s=="string"&&s===p&&(d=s,g=e.find(o,[d,d]));var x=m.length>0?r(g,0,m,m[0],c,u):[];return i.createDenseMatrix({data:x,size:m,datatype:d})};function r(n,i,a,o,c,l){var s=[];if(i===a.length-1)for(var u=0;u<o;u++)s[u]=n(c[u],l[u]);else for(var f=0;f<o;f++)s[f]=r(n,i+1,a,a[i+1],c[f],l[f]);return s}});var Iq="broadcast",Oq=["concat"],rE=M(Iq,Oq,t=>{var{concat:e}=t;return function(i,a){var o=Math.max(i._size.length,a._size.length);if(i._size.length===a._size.length&&i._size.every((v,d)=>v===a._size[d]))return[i,a];for(var c=r(i._size,o,0),l=r(a._size,o,0),s=[],u=0;u<o;u++)s[u]=Math.max(c[u],l[u]);Ku(c,s),Ku(l,s);var f=i.clone(),p=a.clone();f._size.length<o?f.reshape(r(f._size,o,1)):p._size.length<o&&p.reshape(r(p._size,o,1));for(var m=0;m<o;m++)f._size[m]<s[m]&&(f=n(f,s[m],m)),p._size[m]<s[m]&&(p=n(p,s[m],m));return[f,p]};function r(i,a,o){return[...Array(a-i.length).fill(o),...i]}function n(i,a,o){return e(...Array(a).fill(i),o)}});var Bq="matrixAlgorithmSuite",Pq=["typed","matrix","concat"],lr=M(Bq,Pq,t=>{var{typed:e,matrix:r,concat:n}=t,i=eE({typed:e}),a=Ht({typed:e}),o=rE({concat:n});return function(l){var s=l.elop,u=l.SD||l.DS,f;s?(f={"DenseMatrix, DenseMatrix":(d,g)=>i(...o(d,g),s),"Array, Array":(d,g)=>i(...o(r(d),r(g)),s).valueOf(),"Array, DenseMatrix":(d,g)=>i(...o(r(d),g),s),"DenseMatrix, Array":(d,g)=>i(...o(d,r(g)),s)},l.SS&&(f["SparseMatrix, SparseMatrix"]=(d,g)=>l.SS(...o(d,g),s,!1)),l.DS&&(f["DenseMatrix, SparseMatrix"]=(d,g)=>l.DS(...o(d,g),s,!1),f["Array, SparseMatrix"]=(d,g)=>l.DS(...o(r(d),g),s,!1)),u&&(f["SparseMatrix, DenseMatrix"]=(d,g)=>u(...o(g,d),s,!0),f["SparseMatrix, Array"]=(d,g)=>u(...o(r(g),d),s,!0))):(f={"DenseMatrix, DenseMatrix":e.referToSelf(d=>(g,x)=>i(...o(g,x),d)),"Array, Array":e.referToSelf(d=>(g,x)=>i(...o(r(g),r(x)),d).valueOf()),"Array, DenseMatrix":e.referToSelf(d=>(g,x)=>i(...o(r(g),x),d)),"DenseMatrix, Array":e.referToSelf(d=>(g,x)=>i(...o(g,r(x)),d))},l.SS&&(f["SparseMatrix, SparseMatrix"]=e.referToSelf(d=>(g,x)=>l.SS(...o(g,x),d,!1))),l.DS&&(f["DenseMatrix, SparseMatrix"]=e.referToSelf(d=>(g,x)=>l.DS(...o(g,x),d,!1)),f["Array, SparseMatrix"]=e.referToSelf(d=>(g,x)=>l.DS(...o(r(g),x),d,!1))),u&&(f["SparseMatrix, DenseMatrix"]=e.referToSelf(d=>(g,x)=>u(...o(x,g),d,!0)),f["SparseMatrix, Array"]=e.referToSelf(d=>(g,x)=>u(...o(r(x),g),d,!0))));var p=l.scalar||"any",m=l.Ds||l.Ss;m&&(s?(f["DenseMatrix,"+p]=(d,g)=>a(d,g,s,!1),f[p+", DenseMatrix"]=(d,g)=>a(g,d,s,!0),f["Array,"+p]=(d,g)=>a(r(d),g,s,!1).valueOf(),f[p+", Array"]=(d,g)=>a(r(g),d,s,!0).valueOf()):(f["DenseMatrix,"+p]=e.referToSelf(d=>(g,x)=>a(g,x,d,!1)),f[p+", DenseMatrix"]=e.referToSelf(d=>(g,x)=>a(x,g,d,!0)),f["Array,"+p]=e.referToSelf(d=>(g,x)=>a(r(g),x,d,!1).valueOf()),f[p+", Array"]=e.referToSelf(d=>(g,x)=>a(r(x),g,d,!0).valueOf())));var v=l.sS!==void 0?l.sS:l.Ss;return s?(l.Ss&&(f["SparseMatrix,"+p]=(d,g)=>l.Ss(d,g,s,!1)),v&&(f[p+", SparseMatrix"]=(d,g)=>v(g,d,s,!0))):(l.Ss&&(f["SparseMatrix,"+p]=e.referToSelf(d=>(g,x)=>l.Ss(g,x,d,!1))),v&&(f[p+", SparseMatrix"]=e.referToSelf(d=>(g,x)=>v(x,g,d,!0)))),s&&s.signatures&&If(f,s.signatures),f}});var tE="mod",Rq=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix","concat"],ol=M(tE,Rq,t=>{var{typed:e,config:r,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:c,concat:l}=t,s=al({typed:e,config:r,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:c}),u=Yt({typed:e,equalScalar:a}),f=dt({typed:e}),p=ao({typed:e,equalScalar:a}),m=nt({typed:e,equalScalar:a}),v=Hr({typed:e,DenseMatrix:c}),d=lr({typed:e,matrix:i,concat:l});return e(tE,{"number, number":g,"BigNumber, BigNumber":function(A,y){return y.isZero()?A:A.sub(y.mul(s(A.div(y))))},"Fraction, Fraction":function(A,y){return y.equals(0)?A:A.sub(y.mul(s(A.div(y))))}},d({SS:p,DS:f,SD:u,Ss:m,sS:v}));function g(x,A){return A===0?x:x-A*s(x/A)}});var kq="matAlgo01xDSid",Lq=["typed"],Cn=M(kq,Lq,t=>{var{typed:e}=t;return function(n,i,a,o){var c=n._data,l=n._size,s=n._datatype,u=i._values,f=i._index,p=i._ptr,m=i._size,v=i._datatype;if(l.length!==m.length)throw new ar(l.length,m.length);if(l[0]!==m[0]||l[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+m+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d=l[0],g=l[1],x=typeof s=="string"&&s===v?s:void 0,A=x?e.find(a,[x,x]):a,y,w,S=[];for(y=0;y<d;y++)S[y]=[];var b=[],C=[];for(w=0;w<g;w++){for(var _=w+1,N=p[w],E=p[w+1],I=N;I<E;I++)y=f[I],b[y]=o?A(u[I],c[y][w]):A(c[y][w],u[I]),C[y]=_;for(y=0;y<d;y++)C[y]===_?S[y][w]=b[y]:S[y][w]=c[y][w]}return n.createDenseMatrix({data:S,size:[d,g],datatype:x})}});var Uq="matAlgo04xSidSid",qq=["typed","equalScalar"],Zs=M(Uq,qq,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,o){var c=i._values,l=i._index,s=i._ptr,u=i._size,f=i._datatype,p=a._values,m=a._index,v=a._ptr,d=a._size,g=a._datatype;if(u.length!==d.length)throw new ar(u.length,d.length);if(u[0]!==d[0]||u[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+d+")");var x=u[0],A=u[1],y,w=r,S=0,b=o;typeof f=="string"&&f===g&&(y=f,w=e.find(r,[y,y]),S=e.convert(0,y),b=e.find(o,[y,y]));var C=c&&p?[]:void 0,_=[],N=[],E=c&&p?[]:void 0,I=c&&p?[]:void 0,B=[],L=[],z,U,R,O,G;for(U=0;U<A;U++){N[U]=_.length;var k=U+1;for(O=s[U],G=s[U+1],R=O;R<G;R++)z=l[R],_.push(z),B[z]=k,E&&(E[z]=c[R]);for(O=v[U],G=v[U+1],R=O;R<G;R++)if(z=m[R],B[z]===k){if(E){var Q=b(E[z],p[R]);w(Q,S)?B[z]=null:E[z]=Q}}else _.push(z),L[z]=k,I&&(I[z]=p[R]);if(E&&I)for(R=N[U];R<_.length;)z=_[R],B[z]===k?(C[R]=E[z],R++):L[z]===k?(C[R]=I[z],R++):_.splice(R,1)}return N[A]=_.length,i.createSparseMatrix({values:C,index:_,ptr:N,size:[x,A],datatype:y})}});var Vq="matAlgo10xSids",zq=["typed","DenseMatrix"],Qn=M(Vq,zq,t=>{var{typed:e,DenseMatrix:r}=t;return function(i,a,o,c){var l=i._values,s=i._index,u=i._ptr,f=i._size,p=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=f[0],v=f[1],d,g=o;typeof p=="string"&&(d=p,a=e.convert(a,d),g=e.find(o,[d,d]));for(var x=[],A=[],y=[],w=0;w<v;w++){for(var S=w+1,b=u[w],C=u[w+1],_=b;_<C;_++){var N=s[_];A[N]=l[_],y[N]=S}for(var E=0;E<m;E++)w===0&&(x[E]=[]),y[E]===S?x[E][w]=c?g(a,A[E]):g(A[E],a):x[E][w]=a}return new r({data:x,size:[m,v],datatype:d})}});function _a(t,e,r,n){if(!(this instanceof _a))throw new SyntaxError("Constructor must be called with the new operator");this.fn=t,this.count=e,this.min=r,this.max=n,this.message="Wrong number of arguments in function "+t+" ("+e+" provided, "+r+(n!=null?"-"+n:"")+" expected)",this.stack=new Error().stack}_a.prototype=new Error;_a.prototype.constructor=Error;_a.prototype.name="ArgumentsError";_a.prototype.isArgumentsError=!0;var nE="gcd",Hq=["typed","config","round","matrix","equalScalar","zeros","BigNumber","DenseMatrix","concat"],Pg="number | BigNumber | Fraction | Matrix | Array",Yq="".concat(Pg,", ").concat(Pg,", ...").concat(Pg);function iE(t){return!t.some(e=>Array.isArray(e))}var Rg=M(nE,Hq,t=>{var{typed:e,matrix:r,config:n,round:i,equalScalar:a,zeros:o,BigNumber:c,DenseMatrix:l,concat:s}=t,u=ol({typed:e,config:n,round:i,matrix:r,equalScalar:a,zeros:o,DenseMatrix:l,concat:s}),f=Cn({typed:e}),p=Zs({typed:e,equalScalar:a}),m=Qn({typed:e,DenseMatrix:l}),v=lr({typed:e,matrix:r,concat:s});return e(nE,{"number, number":d,"BigNumber, BigNumber":g,"Fraction, Fraction":(x,A)=>x.gcd(A)},v({SS:p,DS:f,Ss:m}),{[Yq]:e.referToSelf(x=>(A,y,w)=>{for(var S=x(A,y),b=0;b<w.length;b++)S=x(S,w[b]);return S}),Array:e.referToSelf(x=>A=>{if(A.length===1&&Array.isArray(A[0])&&iE(A[0]))return x(...A[0]);if(iE(A))return x(...A);throw new _a("gcd() supports only 1d matrices!")}),Matrix:e.referToSelf(x=>A=>x(A.toArray()))});function d(x,A){if(!Ue(x)||!Ue(A))throw new Error("Parameters in function gcd must be integer numbers");for(var y;A!==0;)y=u(x,A),x=A,A=y;return x<0?-x:x}function g(x,A){if(!x.isInt()||!A.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var y=new c(0);!A.isZero();){var w=u(x,A);x=A,A=w}return x.lt(y)?x.neg():x}});var Gq="matAlgo06xS0S0",Wq=["typed","equalScalar"],oo=M(Gq,Wq,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,o){var c=i._values,l=i._size,s=i._datatype,u=a._values,f=a._size,p=a._datatype;if(l.length!==f.length)throw new ar(l.length,f.length);if(l[0]!==f[0]||l[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+f+")");var m=l[0],v=l[1],d,g=r,x=0,A=o;typeof s=="string"&&s===p&&(d=s,g=e.find(r,[d,d]),x=e.convert(0,d),A=e.find(o,[d,d]));for(var y=c&&u?[]:void 0,w=[],S=[],b=y?[]:void 0,C=[],_=[],N=0;N<v;N++){S[N]=w.length;var E=N+1;if(rv(i,N,C,b,_,E,w,A),rv(a,N,C,b,_,E,w,A),b)for(var I=S[N];I<w.length;){var B=w[I];if(_[B]===E){var L=b[B];g(L,x)?w.splice(I,1):(y.push(L),I++)}else w.splice(I,1)}else for(var z=S[N];z<w.length;){var U=w[z];_[U]!==E?w.splice(z,1):z++}}return S[v]=w.length,i.createSparseMatrix({values:y,index:w,ptr:S,size:[m,v],datatype:d})}});var aE="lcm",Zq=["typed","matrix","equalScalar","concat"],kg=M(aE,Zq,t=>{var{typed:e,matrix:r,equalScalar:n,concat:i}=t,a=Yt({typed:e,equalScalar:n}),o=oo({typed:e,equalScalar:n}),c=nt({typed:e,equalScalar:n}),l=lr({typed:e,matrix:r,concat:i}),s="number | BigNumber | Fraction | Matrix | Array",u={};return u["".concat(s,", ").concat(s,", ...").concat(s)]=e.referToSelf(p=>(m,v,d)=>{for(var g=p(m,v),x=0;x<d.length;x++)g=p(g,d[x]);return g}),e(aE,{"number, number":pv,"BigNumber, BigNumber":f,"Fraction, Fraction":(p,m)=>p.lcm(m)},l({SS:o,DS:a,Ss:c}),u);function f(p,m){if(!p.isInt()||!m.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(p.isZero())return p;if(m.isZero())return m;for(var v=p.times(m);!m.isZero();){var d=m;m=p.mod(d),p=d}return v.div(p).abs()}});var oE="log10",jq=["typed","config","Complex"],Lg=M(oE,jq,t=>{var{typed:e,config:r,Complex:n}=t;return e(oE,{number:function(a){return a>=0||r.predictable?mv(a):new n(a,0).log().div(Math.LN10)},Complex:function(a){return new n(a).log().div(Math.LN10)},BigNumber:function(a){return!a.isNegative()||r.predictable?a.log():new n(a.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":e.referToSelf(i=>a=>Ge(a,i))})});var sE="log2",$q=["typed","config","Complex"],Ug=M(sE,$q,t=>{var{typed:e,config:r,Complex:n}=t;return e(sE,{number:function(o){return o>=0||r.predictable?dv(o):i(new n(o,0))},Complex:i,BigNumber:function(o){return!o.isNegative()||r.predictable?o.log(2):i(new n(o.toNumber(),0))},"Array | Matrix":e.referToSelf(a=>o=>Ge(o,a))});function i(a){var o=Math.sqrt(a.re*a.re+a.im*a.im);return new n(Math.log2?Math.log2(o):Math.log(o)/Math.LN2,Math.atan2(a.im,a.re)/Math.LN2)}});var Jq="multiplyScalar",Xq=["typed"],qg=M(Jq,Xq,t=>{var{typed:e}=t;return e("multiplyScalar",{"number, number":ov,"Complex, Complex":function(n,i){return n.mul(i)},"BigNumber, BigNumber":function(n,i){return n.times(i)},"Fraction, Fraction":function(n,i){return n.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(r,n)=>n.multiply(r),"Unit, number | Fraction | BigNumber | Complex | Unit":(r,n)=>r.multiply(n)})});var uE="multiply",Qq=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],Vg=M(uE,Qq,t=>{var{typed:e,matrix:r,addScalar:n,multiplyScalar:i,equalScalar:a,dot:o}=t,c=nt({typed:e,equalScalar:a}),l=Ht({typed:e});function s(S,b){switch(S.length){case 1:switch(b.length){case 1:if(S[0]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(S[0]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+S[0]+") must match Matrix rows ("+b[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+b.length+" dimensions)")}break;case 2:switch(b.length){case 1:if(S[1]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+S[1]+") must match Vector length ("+b[0]+")");break;case 2:if(S[1]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+S[1]+") must match Matrix B rows ("+b[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+b.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+S.length+" dimensions)")}}function u(S,b,C){if(C===0)throw new Error("Cannot multiply two empty vectors");return o(S,b)}function f(S,b){if(b.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return p(S,b)}function p(S,b){var C=S._data,_=S._size,N=S._datatype,E=b._data,I=b._size,B=b._datatype,L=_[0],z=I[1],U,R=n,O=i;N&&B&&N===B&&typeof N=="string"&&(U=N,R=e.find(n,[U,U]),O=e.find(i,[U,U]));for(var G=[],k=0;k<z;k++){for(var Q=O(C[0],E[0][k]),te=1;te<L;te++)Q=R(Q,O(C[te],E[te][k]));G[k]=Q}return S.createDenseMatrix({data:G,size:[z],datatype:U})}var m=e("_multiplyMatrixVector",{"DenseMatrix, any":d,"SparseMatrix, any":A}),v=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":g,"DenseMatrix, SparseMatrix":x,"SparseMatrix, DenseMatrix":y,"SparseMatrix, SparseMatrix":w});function d(S,b){var C=S._data,_=S._size,N=S._datatype,E=b._data,I=b._datatype,B=_[0],L=_[1],z,U=n,R=i;N&&I&&N===I&&typeof N=="string"&&(z=N,U=e.find(n,[z,z]),R=e.find(i,[z,z]));for(var O=[],G=0;G<B;G++){for(var k=C[G],Q=R(k[0],E[0]),te=1;te<L;te++)Q=U(Q,R(k[te],E[te]));O[G]=Q}return S.createDenseMatrix({data:O,size:[B],datatype:z})}function g(S,b){var C=S._data,_=S._size,N=S._datatype,E=b._data,I=b._size,B=b._datatype,L=_[0],z=_[1],U=I[1],R,O=n,G=i;N&&B&&N===B&&typeof N=="string"&&(R=N,O=e.find(n,[R,R]),G=e.find(i,[R,R]));for(var k=[],Q=0;Q<L;Q++){var te=C[Q];k[Q]=[];for(var X=0;X<U;X++){for(var q=G(te[0],E[0][X]),ne=1;ne<z;ne++)q=O(q,G(te[ne],E[ne][X]));k[Q][X]=q}}return S.createDenseMatrix({data:k,size:[L,U],datatype:R})}function x(S,b){var C=S._data,_=S._size,N=S._datatype,E=b._values,I=b._index,B=b._ptr,L=b._size,z=b._datatype;if(!E)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var U=_[0],R=L[1],O,G=n,k=i,Q=a,te=0;N&&z&&N===z&&typeof N=="string"&&(O=N,G=e.find(n,[O,O]),k=e.find(i,[O,O]),Q=e.find(a,[O,O]),te=e.convert(0,O));for(var X=[],q=[],ne=[],de=b.createSparseMatrix({values:X,index:q,ptr:ne,size:[U,R],datatype:O}),ae=0;ae<R;ae++){ne[ae]=q.length;var se=B[ae],me=B[ae+1];if(me>se)for(var le=0,ce=0;ce<U;ce++){for(var pe=ce+1,xe=void 0,Fe=se;Fe<me;Fe++){var He=I[Fe];le!==pe?(xe=k(C[ce][He],E[Fe]),le=pe):xe=G(xe,k(C[ce][He],E[Fe]))}le===pe&&!Q(xe,te)&&(q.push(ce),X.push(xe))}}return ne[R]=q.length,de}function A(S,b){var C=S._values,_=S._index,N=S._ptr,E=S._datatype;if(!C)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var I=b._data,B=b._datatype,L=S._size[0],z=b._size[0],U=[],R=[],O=[],G,k=n,Q=i,te=a,X=0;E&&B&&E===B&&typeof E=="string"&&(G=E,k=e.find(n,[G,G]),Q=e.find(i,[G,G]),te=e.find(a,[G,G]),X=e.convert(0,G));var q=[],ne=[];O[0]=0;for(var de=0;de<z;de++){var ae=I[de];if(!te(ae,X))for(var se=N[de],me=N[de+1],le=se;le<me;le++){var ce=_[le];ne[ce]?q[ce]=k(q[ce],Q(ae,C[le])):(ne[ce]=!0,R.push(ce),q[ce]=Q(ae,C[le]))}}for(var pe=R.length,xe=0;xe<pe;xe++){var Fe=R[xe];U[xe]=q[Fe]}return O[1]=R.length,S.createSparseMatrix({values:U,index:R,ptr:O,size:[L,1],datatype:G})}function y(S,b){var C=S._values,_=S._index,N=S._ptr,E=S._datatype;if(!C)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var I=b._data,B=b._datatype,L=S._size[0],z=b._size[0],U=b._size[1],R,O=n,G=i,k=a,Q=0;E&&B&&E===B&&typeof E=="string"&&(R=E,O=e.find(n,[R,R]),G=e.find(i,[R,R]),k=e.find(a,[R,R]),Q=e.convert(0,R));for(var te=[],X=[],q=[],ne=S.createSparseMatrix({values:te,index:X,ptr:q,size:[L,U],datatype:R}),de=[],ae=[],se=0;se<U;se++){q[se]=X.length;for(var me=se+1,le=0;le<z;le++){var ce=I[le][se];if(!k(ce,Q))for(var pe=N[le],xe=N[le+1],Fe=pe;Fe<xe;Fe++){var He=_[Fe];ae[He]!==me?(ae[He]=me,X.push(He),de[He]=G(ce,C[Fe])):de[He]=O(de[He],G(ce,C[Fe]))}}for(var Y=q[se],j=X.length,ue=Y;ue<j;ue++){var W=X[ue];te[ue]=de[W]}}return q[U]=X.length,ne}function w(S,b){var C=S._values,_=S._index,N=S._ptr,E=S._datatype,I=b._values,B=b._index,L=b._ptr,z=b._datatype,U=S._size[0],R=b._size[1],O=C&&I,G,k=n,Q=i;E&&z&&E===z&&typeof E=="string"&&(G=E,k=e.find(n,[G,G]),Q=e.find(i,[G,G]));for(var te=O?[]:void 0,X=[],q=[],ne=S.createSparseMatrix({values:te,index:X,ptr:q,size:[U,R],datatype:G}),de=O?[]:void 0,ae=[],se,me,le,ce,pe,xe,Fe,He,Y=0;Y<R;Y++){q[Y]=X.length;var j=Y+1;for(pe=L[Y],xe=L[Y+1],ce=pe;ce<xe;ce++)if(He=B[ce],O)for(me=N[He],le=N[He+1],se=me;se<le;se++)Fe=_[se],ae[Fe]!==j?(ae[Fe]=j,X.push(Fe),de[Fe]=Q(I[ce],C[se])):de[Fe]=k(de[Fe],Q(I[ce],C[se]));else for(me=N[He],le=N[He+1],se=me;se<le;se++)Fe=_[se],ae[Fe]!==j&&(ae[Fe]=j,X.push(Fe));if(O)for(var ue=q[Y],W=X.length,J=ue;J<W;J++){var ee=X[J];te[J]=de[ee]}}return q[R]=X.length,ne}return e(uE,i,{"Array, Array":e.referTo("Matrix, Matrix",S=>(b,C)=>{s(er(b),er(C));var _=S(r(b),r(C));return ze(_)?_.valueOf():_}),"Matrix, Matrix":function(b,C){var _=b.size(),N=C.size();return s(_,N),_.length===1?N.length===1?u(b,C,_[0]):f(b,C):N.length===1?m(b,C):v(b,C)},"Matrix, Array":e.referTo("Matrix,Matrix",S=>(b,C)=>S(b,r(C))),"Array, Matrix":e.referToSelf(S=>(b,C)=>S(r(b,C.storage()),C)),"SparseMatrix, any":function(b,C){return c(b,C,i,!1)},"DenseMatrix, any":function(b,C){return l(b,C,i,!1)},"any, SparseMatrix":function(b,C){return c(C,b,i,!0)},"any, DenseMatrix":function(b,C){return l(C,b,i,!0)},"Array, any":function(b,C){return l(r(b),C,i,!1).valueOf()},"any, Array":function(b,C){return l(r(C),b,i,!0).valueOf()},"any, any":i,"any, any, ...any":e.referToSelf(S=>(b,C,_)=>{for(var N=S(b,C),E=0;E<_.length;E++)N=S(N,_[E]);return N})})});var lE="nthRoot",Kq=["typed","matrix","equalScalar","BigNumber","concat"],zg=M(lE,Kq,t=>{var{typed:e,matrix:r,equalScalar:n,BigNumber:i,concat:a}=t,o=Cn({typed:e}),c=Yt({typed:e,equalScalar:n}),l=oo({typed:e,equalScalar:n}),s=nt({typed:e,equalScalar:n}),u=lr({typed:e,matrix:r,concat:a});function f(){throw new Error("Complex number not supported in function nthRoot. Use nthRoots instead.")}return e(lE,{number:hv,"number, number":hv,BigNumber:m=>p(m,new i(2)),"BigNumber, BigNumber":p,Complex:f,"Complex, number":f,Array:e.referTo("DenseMatrix,number",m=>v=>m(r(v),2).valueOf()),DenseMatrix:e.referTo("DenseMatrix,number",m=>v=>m(v,2)),SparseMatrix:e.referTo("SparseMatrix,number",m=>v=>m(v,2)),"SparseMatrix, SparseMatrix":e.referToSelf(m=>(v,d)=>{if(d.density()===1)return l(v,d,m);throw new Error("Root must be non-zero")}),"DenseMatrix, SparseMatrix":e.referToSelf(m=>(v,d)=>{if(d.density()===1)return o(v,d,m,!1);throw new Error("Root must be non-zero")}),"Array, SparseMatrix":e.referTo("DenseMatrix,SparseMatrix",m=>(v,d)=>m(r(v),d)),"number | BigNumber, SparseMatrix":e.referToSelf(m=>(v,d)=>{if(d.density()===1)return s(d,v,m,!0);throw new Error("Root must be non-zero")})},u({scalar:"number | BigNumber",SD:c,Ss:s,sS:!1}));function p(m,v){var d=i.precision,g=i.clone({precision:d+2}),x=new i(0),A=new g(1),y=v.isNegative();if(y&&(v=v.neg()),v.isZero())throw new Error("Root must be non-zero");if(m.isNegative()&&!v.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(m.isZero())return y?new g(1/0):0;if(!m.isFinite())return y?x:m;var w=m.abs().pow(A.div(v));return w=m.isNeg()?w.neg():w,new i((y?A.div(w):w).toPrecision(d))}});var cE="sign",eV=["typed","BigNumber","Fraction","complex"],Hg=M(cE,eV,t=>{var{typed:e,BigNumber:r,complex:n,Fraction:i}=t;return e(cE,{number:Kf,Complex:function(o){return o.im===0?n(Kf(o.re)):o.sign()},BigNumber:function(o){return new r(o.cmp(0))},Fraction:function(o){return new i(o.s,1)},"Array | Matrix":e.referToSelf(a=>o=>Ge(o,a,!0)),Unit:e.referToSelf(a=>o=>{if(!o._isDerived()&&o.units[0].unit.offset!==0)throw new TypeError("sign is ambiguous for units with offset");return e.find(a,o.valueType())(o.value)})})});var rV="sqrt",tV=["config","typed","Complex"],Yg=M(rV,tV,t=>{var{config:e,typed:r,Complex:n}=t;return r("sqrt",{number:i,Complex:function(o){return o.sqrt()},BigNumber:function(o){return!o.isNegative()||e.predictable?o.sqrt():i(o.toNumber())},Unit:function(o){return o.pow(.5)}});function i(a){return isNaN(a)?NaN:a>=0||e.predictable?Math.sqrt(a):new n(a,0).sqrt()}});var fE="square",nV=["typed"],Gg=M(fE,nV,t=>{var{typed:e}=t;return e(fE,{number:vv,Complex:function(n){return n.mul(n)},BigNumber:function(n){return n.times(n)},Fraction:function(n){return n.mul(n)},Unit:function(n){return n.pow(2)}})});var pE="subtract",iV=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],Wg=M(pE,iV,t=>{var{typed:e,matrix:r,equalScalar:n,subtractScalar:i,unaryMinus:a,DenseMatrix:o,concat:c}=t,l=Cn({typed:e}),s=dt({typed:e}),u=ao({typed:e,equalScalar:n}),f=Qn({typed:e,DenseMatrix:o}),p=Hr({typed:e,DenseMatrix:o}),m=lr({typed:e,matrix:r,concat:c});return e(pE,{"any, any":i},m({elop:i,SS:u,DS:l,SD:s,Ss:p,sS:f}))});var mE="xgcd",aV=["typed","config","matrix","BigNumber"],Zg=M(mE,aV,t=>{var{typed:e,config:r,matrix:n,BigNumber:i}=t;return e(mE,{"number, number":function(c,l){var s=gv(c,l);return r.matrix==="Array"?s:n(s)},"BigNumber, BigNumber":a});function a(o,c){var l,s,u,f=new i(0),p=new i(1),m=f,v=p,d=p,g=f;if(!o.isInt()||!c.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!c.isZero();)s=o.div(c).floor(),u=o.mod(c),l=m,m=v.minus(s.times(m)),v=l,l=d,d=g.minus(s.times(d)),g=l,o=c,c=u;var x;return o.lt(f)?x=[o.neg(),v.neg(),g.neg()]:x=[o,o.isZero()?0:v,g],r.matrix==="Array"?x:n(x)}});var dE="invmod",oV=["typed","config","BigNumber","xgcd","equal","smaller","mod","add","isInteger"],jg=M(dE,oV,t=>{var{typed:e,config:r,BigNumber:n,xgcd:i,equal:a,smaller:o,mod:c,add:l,isInteger:s}=t;return e(dE,{"number, number":u,"BigNumber, BigNumber":u});function u(f,p){if(!s(f)||!s(p))throw new Error("Parameters in function invmod must be integer numbers");if(f=c(f,p),a(p,0))throw new Error("Divisor must be non zero");var m=i(f,p);m=m.valueOf();var[v,d]=m;return a(v,n(1))?(d=c(d,p),o(d,n(0))&&(d=l(d,p)),d):NaN}});var sV="matAlgo09xS0Sf",uV=["typed","equalScalar"],tp=M(sV,uV,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,o){var c=i._values,l=i._index,s=i._ptr,u=i._size,f=i._datatype,p=a._values,m=a._index,v=a._ptr,d=a._size,g=a._datatype;if(u.length!==d.length)throw new ar(u.length,d.length);if(u[0]!==d[0]||u[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+d+")");var x=u[0],A=u[1],y,w=r,S=0,b=o;typeof f=="string"&&f===g&&(y=f,w=e.find(r,[y,y]),S=e.convert(0,y),b=e.find(o,[y,y]));var C=c&&p?[]:void 0,_=[],N=[],E=C?[]:void 0,I=[],B,L,z,U,R;for(L=0;L<A;L++){N[L]=_.length;var O=L+1;if(E)for(U=v[L],R=v[L+1],z=U;z<R;z++)B=m[z],I[B]=O,E[B]=p[z];for(U=s[L],R=s[L+1],z=U;z<R;z++)if(B=l[z],E){var G=I[B]===O?E[B]:S,k=b(c[z],G);w(k,S)||(_.push(B),C.push(k))}else _.push(B)}return N[A]=_.length,i.createSparseMatrix({values:C,index:_,ptr:N,size:[x,A],datatype:y})}});var hE="dotMultiply",lV=["typed","matrix","equalScalar","multiplyScalar","concat"],$g=M(hE,lV,t=>{var{typed:e,matrix:r,equalScalar:n,multiplyScalar:i,concat:a}=t,o=Yt({typed:e,equalScalar:n}),c=tp({typed:e,equalScalar:n}),l=nt({typed:e,equalScalar:n}),s=lr({typed:e,matrix:r,concat:a});return e(hE,s({elop:i,SS:c,DS:o,Ss:l}))});function vE(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitAnd");var r=t.constructor;if(t.isNaN()||e.isNaN())return new r(NaN);if(t.isZero()||e.eq(-1)||t.eq(e))return t;if(e.isZero()||t.eq(-1))return e;if(!t.isFinite()||!e.isFinite()){if(!t.isFinite()&&!e.isFinite())return t.isNegative()===e.isNegative()?t:new r(0);if(!t.isFinite())return e.isNegative()?t:t.isNegative()?new r(0):e;if(!e.isFinite())return t.isNegative()?e:e.isNegative()?new r(0):t}return Jg(t,e,function(n,i){return n&i})}function js(t){if(t.isFinite()&&!t.isInteger())throw new Error("Integer expected in function bitNot");var e=t.constructor,r=e.precision;e.config({precision:1e9});var n=t.plus(new e(1));return n.s=-n.s||null,e.config({precision:r}),n}function gE(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitOr");var r=t.constructor;if(t.isNaN()||e.isNaN())return new r(NaN);var n=new r(-1);return t.isZero()||e.eq(n)||t.eq(e)?e:e.isZero()||t.eq(n)?t:!t.isFinite()||!e.isFinite()?!t.isFinite()&&!t.isNegative()&&e.isNegative()||t.isNegative()&&!e.isNegative()&&!e.isFinite()?n:t.isNegative()&&e.isNegative()?t.isFinite()?t:e:t.isFinite()?e:t:Jg(t,e,function(i,a){return i|a})}function Jg(t,e,r){var n=t.constructor,i,a,o=+(t.s<0),c=+(e.s<0);if(o){i=np(js(t));for(var l=0;l<i.length;++l)i[l]^=1}else i=np(t);if(c){a=np(js(e));for(var s=0;s<a.length;++s)a[s]^=1}else a=np(e);var u,f,p;i.length<=a.length?(u=i,f=a,p=o):(u=a,f=i,p=c);var m=u.length,v=f.length,d=r(o,c)^1,g=new n(d^1),x=new n(1),A=new n(2),y=n.precision;for(n.config({precision:1e9});m>0;)r(u[--m],f[--v])===d&&(g=g.plus(x)),x=x.times(A);for(;v>0;)r(p,f[--v])===d&&(g=g.plus(x)),x=x.times(A);return n.config({precision:y}),d===0&&(g.s=-g.s),g}function np(t){for(var e=t.d,r=e[0]+"",n=1;n<e.length;++n){for(var i=e[n]+"",a=7-i.length;a--;)i="0"+i;r+=i}for(var o=r.length;r.charAt(o)==="0";)o--;var c=t.e,l=r.slice(0,o+1||1),s=l.length;if(c>0)if(++c>s)for(c-=s;c--;)l+="0";else c<s&&(l=l.slice(0,c)+"."+l.slice(c));for(var u=[0],f=0;f<l.length;){for(var p=u.length;p--;)u[p]*=10;u[0]+=parseInt(l.charAt(f++));for(var m=0;m<u.length;++m)u[m]>1&&((u[m+1]===null||u[m+1]===void 0)&&(u[m+1]=0),u[m+1]+=u[m]>>1,u[m]&=1)}return u.reverse()}function yE(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitXor");var r=t.constructor;if(t.isNaN()||e.isNaN())return new r(NaN);if(t.isZero())return e;if(e.isZero())return t;if(t.eq(e))return new r(0);var n=new r(-1);return t.eq(n)?js(e):e.eq(n)?js(t):!t.isFinite()||!e.isFinite()?!t.isFinite()&&!e.isFinite()?n:new r(t.isNegative()===e.isNegative()?1/0:-1/0):Jg(t,e,function(i,a){return i^a})}function xE(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function leftShift");var r=t.constructor;return t.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new r(NaN):t.isZero()||e.isZero()?t:!t.isFinite()&&!e.isFinite()?new r(NaN):e.lt(55)?t.times(Math.pow(2,e.toNumber())+""):t.times(new r(2).pow(e))}function bE(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function rightArithShift");var r=t.constructor;return t.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new r(NaN):t.isZero()||e.isZero()?t:e.isFinite()?e.lt(55)?t.div(Math.pow(2,e.toNumber())+"").floor():t.div(new r(2).pow(e)).floor():t.isNegative()?new r(-1):t.isFinite()?new r(0):new r(NaN)}var wE="bitAnd",cV=["typed","matrix","equalScalar","concat"],sl=M(wE,cV,t=>{var{typed:e,matrix:r,equalScalar:n,concat:i}=t,a=Yt({typed:e,equalScalar:n}),o=oo({typed:e,equalScalar:n}),c=nt({typed:e,equalScalar:n}),l=lr({typed:e,matrix:r,concat:i});return e(wE,{"number, number":bv,"BigNumber, BigNumber":vE},l({SS:o,DS:a,Ss:c}))});var DE="bitNot",fV=["typed"],Xg=M(DE,fV,t=>{var{typed:e}=t;return e(DE,{number:wv,BigNumber:js,"Array | Matrix":e.referToSelf(r=>n=>Ge(n,r))})});var SE="bitOr",pV=["typed","matrix","equalScalar","DenseMatrix","concat"],ul=M(SE,pV,t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:i,concat:a}=t,o=Cn({typed:e}),c=Zs({typed:e,equalScalar:n}),l=Qn({typed:e,DenseMatrix:i}),s=lr({typed:e,matrix:r,concat:a});return e(SE,{"number, number":Dv,"BigNumber, BigNumber":gE},s({SS:c,DS:o,Ss:l}))});var mV="matAlgo07xSSf",dV=["typed","DenseMatrix"],Jt=M(mV,dV,t=>{var{typed:e,DenseMatrix:r}=t;return function(a,o,c){var l=a._size,s=a._datatype,u=o._size,f=o._datatype;if(l.length!==u.length)throw new ar(l.length,u.length);if(l[0]!==u[0]||l[1]!==u[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+u+")");var p=l[0],m=l[1],v,d=0,g=c;typeof s=="string"&&s===f&&(v=s,d=e.convert(0,v),g=e.find(c,[v,v]));var x,A,y=[];for(x=0;x<p;x++)y[x]=[];var w=[],S=[],b=[],C=[];for(A=0;A<m;A++){var _=A+1;for(n(a,A,b,w,_),n(o,A,C,S,_),x=0;x<p;x++){var N=b[x]===_?w[x]:d,E=C[x]===_?S[x]:d;y[x][A]=g(N,E)}}return new r({data:y,size:[p,m],datatype:v})};function n(i,a,o,c,l){for(var s=i._values,u=i._index,f=i._ptr,p=f[a],m=f[a+1];p<m;p++){var v=u[p];o[v]=l,c[v]=s[p]}}});var AE="bitXor",hV=["typed","matrix","DenseMatrix","concat"],Qg=M(AE,hV,t=>{var{typed:e,matrix:r,DenseMatrix:n,concat:i}=t,a=dt({typed:e}),o=Jt({typed:e,DenseMatrix:n}),c=Hr({typed:e,DenseMatrix:n}),l=lr({typed:e,matrix:r,concat:i});return e(AE,{"number, number":Sv,"BigNumber, BigNumber":yE},l({SS:o,DS:a,Ss:c}))});var NE="arg",vV=["typed"],Kg=M(NE,vV,t=>{var{typed:e}=t;return e(NE,{number:function(n){return Math.atan2(0,n)},BigNumber:function(n){return n.constructor.atan2(0,n)},Complex:function(n){return n.arg()},"Array | Matrix":e.referToSelf(r=>n=>Ge(n,r))})});var _E="conj",gV=["typed"],ey=M(_E,gV,t=>{var{typed:e}=t;return e(_E,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.conjugate(),"Array | Matrix":e.referToSelf(r=>n=>Ge(n,r))})});var EE="im",yV=["typed"],ry=M(EE,yV,t=>{var{typed:e}=t;return e(EE,{number:()=>0,"BigNumber | Fraction":r=>r.mul(0),Complex:r=>r.im,"Array | Matrix":e.referToSelf(r=>n=>Ge(n,r))})});var ME="re",xV=["typed"],ty=M(ME,xV,t=>{var{typed:e}=t;return e(ME,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.re,"Array | Matrix":e.referToSelf(r=>n=>Ge(n,r))})});var CE="not",bV=["typed"],ny=M(CE,bV,t=>{var{typed:e}=t;return e(CE,{"null | undefined":()=>!0,number:Cv,Complex:function(n){return n.re===0&&n.im===0},BigNumber:function(n){return n.isZero()||n.isNaN()},Unit:e.referToSelf(r=>n=>e.find(r,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(r=>n=>Ge(n,r))})});var TE="or",wV=["typed","matrix","equalScalar","DenseMatrix","concat"],ll=M(TE,wV,t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:i,concat:a}=t,o=dt({typed:e}),c=ao({typed:e,equalScalar:n}),l=Hr({typed:e,DenseMatrix:i}),s=lr({typed:e,matrix:r,concat:a});return e(TE,{"number, number":Tv,"Complex, Complex":function(f,p){return f.re!==0||f.im!==0||p.re!==0||p.im!==0},"BigNumber, BigNumber":function(f,p){return!f.isZero()&&!f.isNaN()||!p.isZero()&&!p.isNaN()},"Unit, Unit":e.referToSelf(u=>(f,p)=>u(f.value||0,p.value||0))},s({SS:c,DS:o,Ss:l}))});var FE="xor",DV=["typed","matrix","DenseMatrix","concat"],iy=M(FE,DV,t=>{var{typed:e,matrix:r,DenseMatrix:n,concat:i}=t,a=dt({typed:e}),o=Jt({typed:e,DenseMatrix:n}),c=Hr({typed:e,DenseMatrix:n}),l=lr({typed:e,matrix:r,concat:i});return e(FE,{"number, number":Fv,"Complex, Complex":function(u,f){return(u.re!==0||u.im!==0)!=(f.re!==0||f.im!==0)},"BigNumber, BigNumber":function(u,f){return(!u.isZero()&&!u.isNaN())!=(!f.isZero()&&!f.isNaN())},"Unit, Unit":e.referToSelf(s=>(u,f)=>s(u.value||0,f.value||0))},l({SS:o,DS:a,Ss:c}))});var IE="concat",SV=["typed","matrix","isInteger"],cl=M(IE,SV,t=>{var{typed:e,matrix:r,isInteger:n}=t;return e(IE,{"...Array | Matrix | number | BigNumber":function(a){var o,c=a.length,l=-1,s,u=!1,f=[];for(o=0;o<c;o++){var p=a[o];if(ze(p)&&(u=!0),tr(p)||Ze(p)){if(o!==c-1)throw new Error("Dimension must be specified as last argument");if(s=l,l=p.valueOf(),!n(l))throw new TypeError("Integer number expected for dimension");if(l<0||o>0&&l>s)throw new xn(l,s+1)}else{var m=Xe(p).valueOf(),v=er(m);if(f[o]=m,s=l,l=v.length-1,o>0&&l!==s)throw new ar(s+1,l+1)}}if(f.length===0)throw new SyntaxError("At least one matrix expected");for(var d=f.shift();f.length;)d=Ih(d,f.shift(),l);return u?r(d):d},"...string":function(a){return a.join("")}})});var OE="column",AV=["typed","Index","matrix","range"],fl=M(OE,AV,t=>{var{typed:e,Index:r,matrix:n,range:i}=t;return e(OE,{"Matrix, number":a,"Array, number":function(c,l){return a(n(Xe(c)),l).valueOf()}});function a(o,c){if(o.size().length!==2)throw new Error("Only two dimensional matrix is supported");tt(c,o.size()[1]);var l=i(0,o.size()[0]),s=new r(l,c),u=o.subset(s);return ze(u)?u:n([[u]])}});var BE="count",NV=["typed","size","prod"],ay=M(BE,NV,t=>{var{typed:e,size:r,prod:n}=t;return e(BE,{string:function(a){return a.length},"Matrix | Array":function(a){return n(r(a))}})});var PE="cross",_V=["typed","matrix","subtract","multiply"],oy=M(PE,_V,t=>{var{typed:e,matrix:r,subtract:n,multiply:i}=t;return e(PE,{"Matrix, Matrix":function(c,l){return r(a(c.toArray(),l.toArray()))},"Matrix, Array":function(c,l){return r(a(c.toArray(),l))},"Array, Matrix":function(c,l){return r(a(c,l.toArray()))},"Array, Array":a});function a(o,c){var l=Math.max(er(o).length,er(c).length);o=Us(o),c=Us(c);var s=er(o),u=er(c);if(s.length!==1||u.length!==1||s[0]!==3||u[0]!==3)throw new RangeError("Vectors with length 3 expected (Size A = ["+s.join(", ")+"], B = ["+u.join(", ")+"])");var f=[n(i(o[1],c[2]),i(o[2],c[1])),n(i(o[2],c[0]),i(o[0],c[2])),n(i(o[0],c[1]),i(o[1],c[0]))];return l>1?[f]:f}});var RE="diag",EV=["typed","matrix","DenseMatrix","SparseMatrix"],sy=M(RE,EV,t=>{var{typed:e,matrix:r,DenseMatrix:n,SparseMatrix:i}=t;return e(RE,{Array:function(s){return a(s,0,er(s),null)},"Array, number":function(s,u){return a(s,u,er(s),null)},"Array, BigNumber":function(s,u){return a(s,u.toNumber(),er(s),null)},"Array, string":function(s,u){return a(s,0,er(s),u)},"Array, number, string":function(s,u,f){return a(s,u,er(s),f)},"Array, BigNumber, string":function(s,u,f){return a(s,u.toNumber(),er(s),f)},Matrix:function(s){return a(s,0,s.size(),s.storage())},"Matrix, number":function(s,u){return a(s,u,s.size(),s.storage())},"Matrix, BigNumber":function(s,u){return a(s,u.toNumber(),s.size(),s.storage())},"Matrix, string":function(s,u){return a(s,0,s.size(),u)},"Matrix, number, string":function(s,u,f){return a(s,u,s.size(),f)},"Matrix, BigNumber, string":function(s,u,f){return a(s,u.toNumber(),s.size(),f)}});function a(l,s,u,f){if(!Ue(s))throw new TypeError("Second parameter in function diag must be an integer");var p=s>0?s:0,m=s<0?-s:0;switch(u.length){case 1:return o(l,s,f,u[0],m,p);case 2:return c(l,s,f,u,m,p)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function o(l,s,u,f,p,m){var v=[f+p,f+m];if(u&&u!=="sparse"&&u!=="dense")throw new TypeError("Unknown matrix type ".concat(u,'"'));var d=u==="sparse"?i.diagonal(v,l,s):n.diagonal(v,l,s);return u!==null?d:d.valueOf()}function c(l,s,u,f,p,m){if(ze(l)){var v=l.diagonal(s);return u!==null?u!==v.storage()?r(v,u):v:v.valueOf()}for(var d=Math.min(f[0]-p,f[1]-m),g=[],x=0;x<d;x++)g[x]=l[x+p][x+m];return u!==null?r(g):g}});var pl=yt(Ah(),1);function Ni(t,e,r,n,i){if(pl.default.isTypedFunction(t)){var a=[e,r,n],o=pl.default.resolve(t,a);if(o)return f(o.implementation,a);var c=[e,r],l=pl.default.resolve(t,c);if(l)return f(l.implementation,c);var s=[e],u=pl.default.resolve(t,s);return u?f(u.implementation,s):f(t,a)}else return t(e,r,n);function f(p,m){try{return p.apply(p,m)}catch(g){var v;if(g instanceof TypeError&&((v=g.data)===null||v===void 0?void 0:v.category)==="wrongType"){var d=[];throw d.push("value: ".concat(Cr(e))),m.length>=2&&d.push("index: ".concat(Cr(r))),m.length>=3&&d.push("array: ".concat(Cr(n))),new TypeError("Function ".concat(i," cannot apply callback arguments ")+"".concat(t.name,"(").concat(d.join(", "),") at index ").concat(JSON.stringify(r)))}else throw new TypeError("Function ".concat(i," cannot apply callback arguments ")+"to function ".concat(t.name,": ").concat(g.message))}}}var MV="filter",CV=["typed"],uy=M(MV,CV,t=>{var{typed:e}=t;return e("filter",{"Array, function":kE,"Matrix, function":function(n,i){return n.create(kE(n.toArray(),i))},"Array, RegExp":qs,"Matrix, RegExp":function(n,i){return n.create(qs(n.toArray(),i))}})});function kE(t,e){return qf(t,function(r,n,i){return Ni(e,r,[n],i,"filter")})}var LE="flatten",TV=["typed","matrix"],ly=M(LE,TV,t=>{var{typed:e,matrix:r}=t;return e(LE,{Array:function(i){return hr(i)},Matrix:function(i){var a=hr(i.toArray());return r(a)}})});var UE="forEach",FV=["typed"],cy=M(UE,FV,t=>{var{typed:e}=t;return e(UE,{"Array, function":IV,"Matrix, function":function(n,i){n.forEach(i)}})});function IV(t,e){var r=function n(i,a){if(Array.isArray(i))Xa(i,function(o,c){n(o,a.concat(c))});else return Ni(e,i,a,t,"forEach")};r(t,[])}var qE="getMatrixDataType",OV=["typed"],fy=M(qE,OV,t=>{var{typed:e}=t;return e(qE,{Array:function(n){return Qa(n,Cr)},Matrix:function(n){return n.getDataType()}})});var VE="identity",BV=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],py=M(VE,BV,t=>{var{typed:e,config:r,matrix:n,BigNumber:i,DenseMatrix:a,SparseMatrix:o}=t;return e(VE,{"":function(){return r.matrix==="Matrix"?n([]):[]},string:function(u){return n(u)},"number | BigNumber":function(u){return l(u,u,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(u,f){return l(u,u,f)},"number | BigNumber, number | BigNumber":function(u,f){return l(u,f,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(u,f,p){return l(u,f,p)},Array:function(u){return c(u)},"Array, string":function(u,f){return c(u,f)},Matrix:function(u){return c(u.valueOf(),u.storage())},"Matrix, string":function(u,f){return c(u.valueOf(),f)}});function c(s,u){switch(s.length){case 0:return u?n(u):[];case 1:return l(s[0],s[0],u);case 2:return l(s[0],s[1],u);default:throw new Error("Vector containing two values expected")}}function l(s,u,f){var p=Ze(s)||Ze(u)?i:null;if(Ze(s)&&(s=s.toNumber()),Ze(u)&&(u=u.toNumber()),!Ue(s)||s<1)throw new Error("Parameters in function identity must be positive integers");if(!Ue(u)||u<1)throw new Error("Parameters in function identity must be positive integers");var m=p?new i(1):1,v=p?new p(0):0,d=[s,u];if(f){if(f==="sparse")return o.diagonal(d,m,0,v);if(f==="dense")return a.diagonal(d,m,0,v);throw new TypeError('Unknown matrix type "'.concat(f,'"'))}for(var g=Vi([],d,v),x=s<u?s:u,A=0;A<x;A++)g[A][A]=m;return g}});var zE="kron",PV=["typed","matrix","multiplyScalar"],my=M(zE,PV,t=>{var{typed:e,matrix:r,multiplyScalar:n}=t;return e(zE,{"Matrix, Matrix":function(o,c){return r(i(o.toArray(),c.toArray()))},"Matrix, Array":function(o,c){return r(i(o.toArray(),c))},"Array, Matrix":function(o,c){return r(i(o,c.toArray()))},"Array, Array":i});function i(a,o){if(er(a).length===1&&(a=[a]),er(o).length===1&&(o=[o]),er(a).length>2||er(o).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(a.length)+", y = "+JSON.stringify(o.length)+")");var c=[],l=[];return a.map(function(s){return o.map(function(u){return l=[],c.push(l),s.map(function(f){return u.map(function(p){return l.push(n(f,p))})})})})&&c}});var HE="map",RV=["typed"],dy=M(HE,RV,t=>{var{typed:e}=t;return e(HE,{"Array, function":kV,"Matrix, function":function(n,i){return n.map(i)}})});function kV(t,e){var r=function n(i,a){return Array.isArray(i)?i.map(function(o,c){return n(o,a.concat(c))}):Ni(e,i,a,t,"map")};return r(t,[])}var YE="diff",LV=["typed","matrix","subtract","number"],ml=M(YE,LV,t=>{var{typed:e,matrix:r,subtract:n,number:i}=t;return e(YE,{"Array | Matrix":function(u){return ze(u)?r(o(u.toArray())):o(u)},"Array | Matrix, number":function(u,f){if(!Ue(f))throw new RangeError("Dimension must be a whole number");return ze(u)?r(a(u.toArray(),f)):a(u,f)},"Array, BigNumber":e.referTo("Array,number",s=>(u,f)=>s(u,i(f))),"Matrix, BigNumber":e.referTo("Matrix,number",s=>(u,f)=>s(u,i(f)))});function a(s,u){if(ze(s)&&(s=s.toArray()),!Array.isArray(s))throw RangeError("Array/Matrix does not have that many dimensions");if(u>0){var f=[];return s.forEach(p=>{f.push(a(p,u-1))}),f}else{if(u===0)return o(s);throw RangeError("Cannot have negative dimension")}}function o(s){for(var u=[],f=s.length,p=1;p<f;p++)u.push(c(s[p-1],s[p]));return u}function c(s,u){ze(s)&&(s=s.toArray()),ze(u)&&(u=u.toArray());var f=Array.isArray(s),p=Array.isArray(u);if(f&&p)return l(s,u);if(!f&&!p)return n(u,s);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}function l(s,u){if(s.length!==u.length)throw RangeError("Not all sub-arrays have the same length");for(var f=[],p=s.length,m=0;m<p;m++)f.push(c(s[m],u[m]));return f}});var UV="ones",qV=["typed","config","matrix","BigNumber"],hy=M(UV,qV,t=>{var{typed:e,config:r,matrix:n,BigNumber:i}=t;return e("ones",{"":function(){return r.matrix==="Array"?a([]):a([],"default")},"...number | BigNumber | string":function(s){var u=s[s.length-1];if(typeof u=="string"){var f=s.pop();return a(s,f)}else return r.matrix==="Array"?a(s):a(s,"default")},Array:a,Matrix:function(s){var u=s.storage();return a(s.valueOf(),u)},"Array | Matrix, string":function(s,u){return a(s.valueOf(),u)}});function a(l,s){var u=o(l),f=u?new i(1):1;if(c(l),s){var p=n(s);return l.length>0?p.resize(l,f):p}else{var m=[];return l.length>0?Vi(m,l,f):m}}function o(l){var s=!1;return l.forEach(function(u,f,p){Ze(u)&&(s=!0,p[f]=u.toNumber())}),s}function c(l){l.forEach(function(s){if(typeof s!="number"||!Ue(s)||s<0)throw new Error("Parameters in function ones must be positive integers")})}});function $s(){throw new Error('No "bignumber" implementation available')}function ip(){throw new Error('No "fraction" implementation available')}function ap(){throw new Error('No "matrix" implementation available')}var GE="range",VV=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],dl=M(GE,VV,t=>{var{typed:e,config:r,matrix:n,bignumber:i,smaller:a,smallerEq:o,larger:c,largerEq:l,add:s,isPositive:u}=t;return e(GE,{string:p,"string, boolean":p,"number, number":function(g,x){return f(m(g,x,1,!1))},"number, number, number":function(g,x,A){return f(m(g,x,A,!1))},"number, number, boolean":function(g,x,A){return f(m(g,x,1,A))},"number, number, number, boolean":function(g,x,A,y){return f(m(g,x,A,y))},"BigNumber, BigNumber":function(g,x){var A=g.constructor;return f(m(g,x,new A(1),!1))},"BigNumber, BigNumber, BigNumber":function(g,x,A){return f(m(g,x,A,!1))},"BigNumber, BigNumber, boolean":function(g,x,A){var y=g.constructor;return f(m(g,x,new y(1),A))},"BigNumber, BigNumber, BigNumber, boolean":function(g,x,A,y){return f(m(g,x,A,y))},"Unit, Unit, Unit":function(g,x,A){return f(m(g,x,A,!1))},"Unit, Unit, Unit, boolean":function(g,x,A,y){return f(m(g,x,A,y))}});function f(d){return r.matrix==="Matrix"?n?n(d):ap():d}function p(d,g){var x=v(d);if(!x)throw new SyntaxError('String "'+d+'" is no valid range');return r.number==="BigNumber"?(i===void 0&&$s(),f(m(i(x.start),i(x.end),i(x.step)),g)):f(m(x.start,x.end,x.step,g))}function m(d,g,x,A){for(var y=[],w=u(x)?A?o:a:A?l:c,S=d;w(S,g);)y.push(S),S=s(S,x);return y}function v(d){var g=d.split(":"),x=g.map(function(y){return Number(y)}),A=x.some(function(y){return isNaN(y)});if(A)return null;switch(x.length){case 2:return{start:x[0],end:x[1],step:1};case 3:return{start:x[0],end:x[2],step:x[1]};default:return null}}});var WE="reshape",zV=["typed","isInteger","matrix"],vy=M(WE,zV,t=>{var{typed:e,isInteger:r}=t;return e(WE,{"Matrix, Array":function(i,a){return i.reshape(a,!0)},"Array, Array":function(i,a){return a.forEach(function(o){if(!r(o))throw new TypeError("Invalid size for dimension: "+o)}),Xu(i,a)}})});var HV="resize",YV=["config","matrix"],gy=M(HV,YV,t=>{var{config:e,matrix:r}=t;return function(a,o,c){if(arguments.length!==2&&arguments.length!==3)throw new _a("resize",arguments.length,2,3);if(ze(o)&&(o=o.valueOf()),Ze(o[0])&&(o=o.map(function(u){return Ze(u)?u.toNumber():u})),ze(a))return a.resize(o,c,!0);if(typeof a=="string")return n(a,o,c);var l=Array.isArray(a)?!1:e.matrix!=="Array";if(o.length===0){for(;Array.isArray(a);)a=a[0];return Xe(a)}else{Array.isArray(a)||(a=[a]),a=Xe(a);var s=Vi(a,o,c);return l?r(s):s}};function n(i,a,o){if(o!==void 0){if(typeof o!="string"||o.length!==1)throw new TypeError("Single character expected as defaultValue")}else o=" ";if(a.length!==1)throw new ar(a.length,1);var c=a[0];if(typeof c!="number"||!Ue(c))throw new TypeError("Invalid size, must contain positive integers (size: "+ir(a)+")");if(i.length>c)return i.substring(0,c);if(i.length<c){for(var l=i,s=0,u=c-i.length;s<u;s++)l+=o;return l}else return i}});var ZE="rotate",GV=["typed","multiply","rotationMatrix"],yy=M(ZE,GV,t=>{var{typed:e,multiply:r,rotationMatrix:n}=t;return e(ZE,{"Array , number | BigNumber | Complex | Unit":function(o,c){i(o,2);var l=r(n(c),o);return l.toArray()},"Matrix , number | BigNumber | Complex | Unit":function(o,c){return i(o,2),r(n(c),o)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function(o,c,l){i(o,3);var s=r(n(c,l),o);return s},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function(o,c,l){return i(o,3),r(n(c,l),o)}});function i(a,o){var c=Array.isArray(a)?er(a):a.size();if(c.length>2)throw new RangeError("Vector must be of dimensions 1x".concat(o));if(c.length===2&&c[1]!==1)throw new RangeError("Vector must be of dimensions 1x".concat(o));if(c[0]!==o)throw new RangeError("Vector must be of dimensions 1x".concat(o))}});var jE="rotationMatrix",WV=["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],xy=M(jE,WV,t=>{var{typed:e,config:r,multiplyScalar:n,addScalar:i,unaryMinus:a,norm:o,BigNumber:c,matrix:l,DenseMatrix:s,SparseMatrix:u,cos:f,sin:p}=t;return e(jE,{"":function(){return r.matrix==="Matrix"?l([]):[]},string:function(y){return l(y)},"number | BigNumber | Complex | Unit":function(y){return m(y,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(y,w){return m(y,w)},"number | BigNumber | Complex | Unit, Array":function(y,w){var S=l(w);return v(S),x(y,S,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(y,w){v(w);var S=w.storage()||(r.matrix==="Matrix"?"dense":void 0);return x(y,w,S)},"number | BigNumber | Complex | Unit, Array, string":function(y,w,S){var b=l(w);return v(b),x(y,b,S)},"number | BigNumber | Complex | Unit, Matrix, string":function(y,w,S){return v(w),x(y,w,S)}});function m(A,y){var w=Ze(A),S=w?new c(-1):-1,b=f(A),C=p(A),_=[[b,n(S,C)],[C,b]];return g(_,y)}function v(A){var y=A.size();if(y.length<1||y[0]!==3)throw new RangeError("Vector must be of dimensions 1x3")}function d(A){return A.reduce((y,w)=>n(y,w))}function g(A,y){if(y){if(y==="sparse")return new u(A);if(y==="dense")return new s(A);throw new TypeError('Unknown matrix type "'.concat(y,'"'))}return A}function x(A,y,w){var S=o(y);if(S===0)throw new RangeError("Rotation around zero vector");var b=Ze(A)?c:null,C=b?new b(1):1,_=b?new b(-1):-1,N=b?new b(y.get([0])/S):y.get([0])/S,E=b?new b(y.get([1])/S):y.get([1])/S,I=b?new b(y.get([2])/S):y.get([2])/S,B=f(A),L=i(C,a(B)),z=p(A),U=i(B,d([N,N,L])),R=i(d([N,E,L]),d([_,I,z])),O=i(d([N,I,L]),d([E,z])),G=i(d([N,E,L]),d([I,z])),k=i(B,d([E,E,L])),Q=i(d([E,I,L]),d([_,N,z])),te=i(d([N,I,L]),d([_,E,z])),X=i(d([E,I,L]),d([N,z])),q=i(B,d([I,I,L])),ne=[[U,R,O],[G,k,Q],[te,X,q]];return g(ne,w)}});var $E="row",ZV=["typed","Index","matrix","range"],hl=M($E,ZV,t=>{var{typed:e,Index:r,matrix:n,range:i}=t;return e($E,{"Matrix, number":a,"Array, number":function(c,l){return a(n(Xe(c)),l).valueOf()}});function a(o,c){if(o.size().length!==2)throw new Error("Only two dimensional matrix is supported");tt(c,o.size()[0]);var l=i(0,o.size()[1]),s=new r(c,l),u=o.subset(s);return ze(u)?u:n([[u]])}});var JE="size",jV=["typed","config","?matrix"],by=M(JE,jV,t=>{var{typed:e,config:r,matrix:n}=t;return e(JE,{Matrix:function(a){return a.create(a.size())},Array:er,string:function(a){return r.matrix==="Array"?[a.length]:n([a.length])},"number | Complex | BigNumber | Unit | boolean | null":function(a){return r.matrix==="Array"?[]:n?n([]):ap()}})});var XE="squeeze",$V=["typed","matrix"],wy=M(XE,$V,t=>{var{typed:e,matrix:r}=t;return e(XE,{Array:function(i){return Us(Xe(i))},Matrix:function(i){var a=Us(i.toArray());return Array.isArray(a)?r(a):a},any:function(i){return Xe(i)}})});var QE="subset",JV=["typed","matrix","zeros","add"],vl=M(QE,JV,t=>{var{typed:e,matrix:r,zeros:n,add:i}=t;return e(QE,{"Matrix, Index":function(c,l){return ko(l)?r():(Ju(c,l),c.subset(l))},"Array, Index":e.referTo("Matrix, Index",function(o){return function(c,l){var s=o(r(c),l);return l.isScalar()?s:s.valueOf()}}),"Object, Index":QV,"string, Index":XV,"Matrix, Index, any, any":function(c,l,s,u){return ko(l)?c:(Ju(c,l),c.clone().subset(l,a(s,l),u))},"Array, Index, any, any":e.referTo("Matrix, Index, any, any",function(o){return function(c,l,s,u){var f=o(r(c),l,s,u);return f.isMatrix?f.valueOf():f}}),"Array, Index, any":e.referTo("Matrix, Index, any, any",function(o){return function(c,l,s){return o(r(c),l,s,void 0).valueOf()}}),"Matrix, Index, any":e.referTo("Matrix, Index, any, any",function(o){return function(c,l,s){return o(c,l,s,void 0)}}),"string, Index, string":KE,"string, Index, string, string":KE,"Object, Index, any":KV});function a(o,c){if(typeof o=="string")throw new Error("can't boradcast a string");if(c._isScalar)return o;var l=c.size();if(l.every(s=>s>0))try{return i(o,n(l))}catch(s){return o}else return o}});function XV(t,e){if(!ja(e))throw new TypeError("Index expected");if(ko(e))return"";if(Ju(Array.from(t),e),e.size().length!==1)throw new ar(e.size().length,1);var r=t.length;tt(e.min()[0],r),tt(e.max()[0],r);var n=e.dimension(0),i="";return n.forEach(function(a){i+=t.charAt(a)}),i}function KE(t,e,r,n){if(!e||e.isIndex!==!0)throw new TypeError("Index expected");if(ko(e))return t;if(Ju(Array.from(t),e),e.size().length!==1)throw new ar(e.size().length,1);if(n!==void 0){if(typeof n!="string"||n.length!==1)throw new TypeError("Single character expected as defaultValue")}else n=" ";var i=e.dimension(0),a=i.size()[0];if(a!==r.length)throw new ar(i.size()[0],r.length);var o=t.length;tt(e.min()[0]),tt(e.max()[0]);for(var c=[],l=0;l<o;l++)c[l]=t.charAt(l);if(i.forEach(function(f,p){c[f]=r.charAt(p[0])}),c.length>o)for(var s=o-1,u=c.length;s<u;s++)c[s]||(c[s]=n);return c.join("")}function QV(t,e){if(!ko(e)){if(e.size().length!==1)throw new ar(e.size(),1);var r=e.dimension(0);if(typeof r!="string")throw new TypeError("String expected as index to retrieve an object property");return At(t,r)}}function KV(t,e,r){if(ko(e))return t;if(e.size().length!==1)throw new ar(e.size(),1);var n=e.dimension(0);if(typeof n!="string")throw new TypeError("String expected as index to retrieve an object property");var i=Xe(t);return ra(i,n,r),i}var eM="transpose",ez=["typed","matrix"],Dy=M(eM,ez,t=>{var{typed:e,matrix:r}=t;return e(eM,{Array:o=>n(r(o)).valueOf(),Matrix:n,any:Xe});function n(o){var c=o.size(),l;switch(c.length){case 1:l=o.clone();break;case 2:{var s=c[0],u=c[1];if(u===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+ir(c)+")");switch(o.storage()){case"dense":l=i(o,s,u);break;case"sparse":l=a(o,s,u);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+ir(c)+")")}return l}function i(o,c,l){for(var s=o._data,u=[],f,p=0;p<l;p++){f=u[p]=[];for(var m=0;m<c;m++)f[m]=Xe(s[m][p])}return o.createDenseMatrix({data:u,size:[l,c],datatype:o._datatype})}function a(o,c,l){for(var s=o._values,u=o._index,f=o._ptr,p=s?[]:void 0,m=[],v=[],d=[],g=0;g<c;g++)d[g]=0;var x,A,y;for(x=0,A=u.length;x<A;x++)d[u[x]]++;for(var w=0,S=0;S<c;S++)v.push(w),w+=d[S],d[S]=v[S];for(v.push(w),y=0;y<l;y++)for(var b=f[y],C=f[y+1],_=b;_<C;_++){var N=d[u[_]]++;m[N]=y,s&&(p[N]=Xe(s[_]))}return o.createSparseMatrix({values:p,index:m,ptr:v,size:[l,c],datatype:o._datatype})}});var rM="ctranspose",rz=["typed","transpose","conj"],Sy=M(rM,rz,t=>{var{typed:e,transpose:r,conj:n}=t;return e(rM,{any:function(a){return n(r(a))}})});var tM="zeros",tz=["typed","config","matrix","BigNumber"],Ay=M(tM,tz,t=>{var{typed:e,config:r,matrix:n,BigNumber:i}=t;return e(tM,{"":function(){return r.matrix==="Array"?a([]):a([],"default")},"...number | BigNumber | string":function(s){var u=s[s.length-1];if(typeof u=="string"){var f=s.pop();return a(s,f)}else return r.matrix==="Array"?a(s):a(s,"default")},Array:a,Matrix:function(s){var u=s.storage();return a(s.valueOf(),u)},"Array | Matrix, string":function(s,u){return a(s.valueOf(),u)}});function a(l,s){var u=o(l),f=u?new i(0):0;if(c(l),s){var p=n(s);return l.length>0?p.resize(l,f):p}else{var m=[];return l.length>0?Vi(m,l,f):m}}function o(l){var s=!1;return l.forEach(function(u,f,p){Ze(u)&&(s=!0,p[f]=u.toNumber())}),s}function c(l){l.forEach(function(s){if(typeof s!="number"||!Ue(s)||s<0)throw new Error("Parameters in function zeros must be positive integers")})}});var nM="fft",nz=["typed","matrix","addScalar","multiplyScalar","divideScalar","exp","tau","i","dotDivide","conj","pow","ceil","log2"],Ny=M(nM,nz,t=>{var{typed:e,matrix:r,addScalar:n,multiplyScalar:i,divideScalar:a,exp:o,tau:c,i:l,dotDivide:s,conj:u,pow:f,ceil:p,log2:m}=t;return e(nM,{Array:v,Matrix:function(y){return y.create(v(y.toArray()))}});function v(A){var y=er(A);return y.length===1?x(A,y[0]):d(A.map(w=>v(w,y.slice(1))),0)}function d(A,y){var w=er(A);if(y!==0)return new Array(w[0]).fill(0).map((b,C)=>d(A[C],y-1));if(w.length===1)return x(A);function S(b){var C=er(b);return new Array(C[1]).fill(0).map((_,N)=>new Array(C[0]).fill(0).map((E,I)=>b[I][N]))}return S(d(S(A),1))}function g(A){for(var y=A.length,w=o(a(i(-1,i(l,c)),y)),S=[],b=1-y;b<y;b++)S.push(f(w,a(f(b,2),2)));for(var C=f(2,p(m(y+y-1))),_=[...new Array(y).fill(0).map((R,O)=>i(A[O],S[y-1+O])),...new Array(C-y).fill(0)],N=[...new Array(y+y-1).fill(0).map((R,O)=>a(1,S[O])),...new Array(C-(y+y-1)).fill(0)],E=x(_),I=x(N),B=new Array(C).fill(0).map((R,O)=>i(E[O],I[O])),L=s(u(v(u(B))),C),z=[],U=y-1;U<y+y-1;U++)z.push(i(L[U],S[U]));return z}function x(A){var y=A.length;if(y===1)return[A[0]];if(y%2===0){for(var w=[...x(A.filter((_,N)=>N%2===0),y/2),...x(A.filter((_,N)=>N%2===1),y/2)],S=0;S<y/2;S++){var b=w[S],C=i(w[S+y/2],o(i(i(c,l),a(-S,y))));w[S]=n(b,C),w[S+y/2]=n(b,i(-1,C))}return w}else return g(A)}});var iM="ifft",iz=["typed","fft","dotDivide","conj"],_y=M(iM,iz,t=>{var{typed:e,fft:r,dotDivide:n,conj:i}=t;return e(iM,{"Array | Matrix":function(o){var c=ze(o)?o.size():er(o);return n(i(r(i(o))),c.reduce((l,s)=>l*s,1))}})});function so(t){"@babel/helpers - typeof";return so=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},so(t)}function Ey(t,e){if(so(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(so(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function My(t){var e=Ey(t,"string");return so(e)=="symbol"?e:String(e)}function jr(t,e,r){return e=My(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function az(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aM(Object(r),!0).forEach(function(n){jr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var oz="solveODE",sz=["typed","add","subtract","multiply","divide","max","map","abs","isPositive","isNegative","larger","smaller","matrix","bignumber","unaryMinus"],Cy=M(oz,sz,t=>{var{typed:e,add:r,subtract:n,multiply:i,divide:a,max:o,map:c,abs:l,isPositive:s,isNegative:u,larger:f,smaller:p,matrix:m,bignumber:v,unaryMinus:d}=t;function g(_){return function(N,E,I,B){var L=!(E.length===2&&(E.every(b)||E.every(vn)));if(L)throw new Error('"tspan" must be an Array of two numeric values or two units [tStart, tEnd]');var z=E[0],U=E[1],R=f(U,z),O=B.firstStep;if(O!==void 0&&!s(O))throw new Error('"firstStep" must be positive');var G=B.maxStep;if(G!==void 0&&!s(G))throw new Error('"maxStep" must be positive');var k=B.minStep;if(k&&u(k))throw new Error('"minStep" must be positive or zero');var Q=[z,U,O,k,G].filter(Re=>Re!==void 0);if(!(Q.every(b)||Q.every(vn)))throw new Error('Inconsistent type of "t" dependant variables');for(var te=1,X=B.tol?B.tol:1e-4,q=B.minDelta?B.minDelta:.2,ne=B.maxDelta?B.maxDelta:5,de=B.maxIter?B.maxIter:1e4,ae=[z,U,...I,G,k].some(Ze),[se,me,le,ce]=ae?[v(_.a),v(_.c),v(_.b),v(_.bp)]:[_.a,_.c,_.b,_.bp],pe=O?R?O:d(O):a(n(U,z),te),xe=[z],Fe=[I],He=n(le,ce),Y=0,j=0,ue=w(R),W=S(R);ue(xe[Y],U);){var J=[];pe=W(xe[Y],U,pe),J.push(N(xe[Y],Fe[Y]));for(var ee=1;ee<me.length;++ee)J.push(N(r(xe[Y],i(me[ee],pe)),r(Fe[Y],i(pe,se[ee],J))));var he=o(l(c(i(He,J),Re=>vn(Re)?Re.value:Re)));he<X&&X/he>1/4&&(xe.push(r(xe[Y],pe)),Fe.push(r(Fe[Y],i(pe,le,J))),Y++);var ve=.84*(X/he)**(1/5);if(p(ve,q)?ve=q:f(ve,ne)&&(ve=ne),ve=ae?v(ve):ve,pe=i(pe,ve),G&&f(l(pe),G)?pe=R?G:d(G):k&&p(l(pe),k)&&(pe=R?k:d(k)),j++,j>de)throw new Error("Maximum number of iterations reached, try changing options")}return{t:xe,y:Fe}}}function x(_,N,E,I){var B=[[],[.5],[0,.75],[.2222222222222222,.3333333333333333,.4444444444444444]],L=[null,1/2,3/4,1],z=[2/9,1/3,4/9,0],U=[7/24,1/4,1/3,1/8],R={a:B,c:L,b:z,bp:U};return g(R)(_,N,E,I)}function A(_,N,E,I){var B=[[],[.2],[.075,.225],[.9777777777777777,-3.7333333333333334,3.5555555555555554],[2.9525986892242035,-11.595793324188385,9.822892851699436,-.2908093278463649],[2.8462752525252526,-10.757575757575758,8.906422717743473,.2784090909090909,-.2735313036020583],[.09114583333333333,0,.44923629829290207,.6510416666666666,-.322376179245283,.13095238095238096]],L=[null,1/5,3/10,4/5,8/9,1,1],z=[35/384,0,500/1113,125/192,-2187/6784,11/84,0],U=[5179/57600,0,7571/16695,393/640,-92097/339200,187/2100,1/40],R={a:B,c:L,b:z,bp:U};return g(R)(_,N,E,I)}function y(_,N,E,I){var B=I.method?I.method:"RK45",L={RK23:x,RK45:A};if(B.toUpperCase()in L){var z=az({},I);return delete z.method,L[B.toUpperCase()](_,N,E,z)}else{var U=Object.keys(L).map(O=>'"'.concat(O,'"')),R="".concat(U.slice(0,-1).join(", ")," and ").concat(U.slice(-1));throw new Error('Unavailable method "'.concat(B,'". Available methods are ').concat(R))}}function w(_){return _?p:f}function S(_){var N=_?f:p;return function(E,I,B){var L=r(E,B);return N(L,I)?n(I,E):B}}function b(_){return Ze(_)||tr(_)}function C(_,N,E,I){var B=y(_,N.toArray(),E.toArray(),I);return{t:m(B.t),y:m(B.y)}}return e("solveODE",{"function, Array, Array, Object":y,"function, Matrix, Matrix, Object":C,"function, Array, Array":(_,N,E)=>y(_,N,E,{}),"function, Matrix, Matrix":(_,N,E)=>C(_,N,E,{}),"function, Array, number | BigNumber | Unit":(_,N,E)=>{var I=y(_,N,[E],{});return{t:I.t,y:I.y.map(B=>B[0])}},"function, Matrix, number | BigNumber | Unit":(_,N,E)=>{var I=y(_,N.toArray(),[E],{});return{t:m(I.t),y:m(I.y.map(B=>B[0]))}},"function, Array, number | BigNumber | Unit, Object":(_,N,E,I)=>{var B=y(_,N,[E],I);return{t:B.t,y:B.y.map(L=>L[0])}},"function, Matrix, number | BigNumber | Unit, Object":(_,N,E,I)=>{var B=y(_,N.toArray(),[E],I);return{t:m(B.t),y:m(B.y.map(L=>L[0]))}}})});var uz="erf",lz=["typed"],Ty=M(uz,lz,t=>{var{typed:e}=t;return e("name",{number:function(o){var c=Math.abs(o);return c>=pz?Di(o):c<=cz?Di(o)*r(c):c<=4?Di(o)*(1-n(c)):Di(o)*(1-i(c))},"Array | Matrix":e.referToSelf(a=>o=>Ge(o,a))});function r(a){var o=a*a,c=Ea[0][4]*o,l=o,s;for(s=0;s<3;s+=1)c=(c+Ea[0][s])*o,l=(l+Js[0][s])*o;return a*(c+Ea[0][3])/(l+Js[0][3])}function n(a){var o=Ea[1][8]*a,c=a,l;for(l=0;l<7;l+=1)o=(o+Ea[1][l])*a,c=(c+Js[1][l])*a;var s=(o+Ea[1][7])/(c+Js[1][7]),u=parseInt(a*16)/16,f=(a-u)*(a+u);return Math.exp(-u*u)*Math.exp(-f)*s}function i(a){var o=1/(a*a),c=Ea[2][5]*o,l=o,s;for(s=0;s<4;s+=1)c=(c+Ea[2][s])*o,l=(l+Js[2][s])*o;var u=o*(c+Ea[2][4])/(l+Js[2][4]);u=(fz-u)/a,o=parseInt(a*16)/16;var f=(a-o)*(a+o);return Math.exp(-o*o)*Math.exp(-f)*u}}),cz=.46875,fz=.5641895835477563,Ea=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,21531153547440383e-24],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],Js=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],pz=Math.pow(2,53);var oM="zeta",mz=["typed","config","multiply","pow","divide","factorial","equal","smallerEq","isNegative","gamma","sin","subtract","add","?Complex","?BigNumber","pi"],Fy=M(oM,mz,t=>{var{typed:e,config:r,multiply:n,pow:i,divide:a,factorial:o,equal:c,smallerEq:l,isNegative:s,gamma:u,sin:f,subtract:p,add:m,Complex:v,BigNumber:d,pi:g}=t;return e(oM,{number:b=>x(b,C=>C,()=>20),BigNumber:b=>x(b,C=>new d(C),()=>Math.abs(Math.log10(r.epsilon))),Complex:A});function x(b,C,_){return c(b,0)?C(-.5):c(b,1)?C(NaN):isFinite(b)?y(b,C,_,N=>N):s(b)?C(NaN):C(1)}function A(b){return b.re===0&&b.im===0?new v(-.5):b.re===1?new v(NaN,NaN):b.re===1/0&&b.im===0?new v(1):b.im===1/0||b.re===-1/0?new v(NaN,NaN):y(b,C=>C,C=>Math.round(1.3*15+.9*Math.abs(C.im)),C=>C.re)}function y(b,C,_,N){var E=_(b);if(N(b)>-(E-1)/2)return S(b,C(E),C);var I=n(i(2,b),i(C(g),p(b,1)));return I=n(I,f(n(a(C(g),2),b))),I=n(I,u(p(1,b))),n(I,y(p(1,b),C,_,N))}function w(b,C){for(var _=b,N=b;l(N,C);N=m(N,1)){var E=a(n(o(m(C,p(N,1))),i(4,N)),n(o(p(C,N)),o(n(2,N))));_=m(_,E)}return n(C,_)}function S(b,C,_){for(var N=a(1,n(w(_(0),C),p(1,i(2,p(1,b))))),E=_(0),I=_(1);l(I,C);I=m(I,1))E=m(E,a(n((-1)**(I-1),w(I,C)),i(I,b)));return n(N,E)}});var sM="mode",dz=["typed","isNaN","isNumeric"],Iy=M(sM,dz,t=>{var{typed:e,isNaN:r,isNumeric:n}=t;return e(sM,{"Array | Matrix":i,"...":function(o){return i(o)}});function i(a){a=hr(a.valueOf());var o=a.length;if(o===0)throw new Error("Cannot calculate mode of an empty array");for(var c={},l=[],s=0,u=0;u<a.length;u++){var f=a[u];if(n(f)&&r(f))throw new Error("Cannot calculate mode of an array containing NaN values");f in c||(c[f]=0),c[f]++,c[f]===s?l.push(f):c[f]>s&&(s=c[f],l=[f])}return l}});function Ot(t,e,r){var n;return String(t).indexOf("Unexpected type")!==-1?(n=arguments.length>2?" (type: "+Cr(r)+", value: "+JSON.stringify(r)+")":" (type: "+t.data.actual+")",new TypeError("Cannot calculate "+e+", unexpected type of argument"+n)):String(t).indexOf("complex numbers")!==-1?(n=arguments.length>2?" (type: "+Cr(r)+", value: "+JSON.stringify(r)+")":"",new TypeError("Cannot calculate "+e+", no ordering relation is defined for complex numbers"+n)):t}var uM="prod",hz=["typed","config","multiplyScalar","numeric"],Oy=M(uM,hz,t=>{var{typed:e,config:r,multiplyScalar:n,numeric:i}=t;return e(uM,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(c,l){throw new Error("prod(A, dim) is not yet supported")},"...":function(c){return a(c)}});function a(o){var c;if(Mn(o,function(l){try{c=c===void 0?l:n(c,l)}catch(s){throw Ot(s,"prod",l)}}),typeof c=="string"&&(c=i(c,r.number)),c===void 0)throw new Error("Cannot calculate prod of an empty array");return c}});var lM="format",vz=["typed"],By=M(lM,vz,t=>{var{typed:e}=t;return e(lM,{any:ir,"any, Object | function | number | BigNumber":ir})});var cM="bin",gz=["typed","format"],Py=M(cM,gz,t=>{var{typed:e,format:r}=t;return e(cM,{"number | BigNumber":function(i){return r(i,{notation:"bin"})},"number | BigNumber, number | BigNumber":function(i,a){return r(i,{notation:"bin",wordSize:a})}})});var fM="oct",yz=["typed","format"],Ry=M(fM,yz,t=>{var{typed:e,format:r}=t;return e(fM,{"number | BigNumber":function(i){return r(i,{notation:"oct"})},"number | BigNumber, number | BigNumber":function(i,a){return r(i,{notation:"oct",wordSize:a})}})});var pM="hex",xz=["typed","format"],ky=M(pM,xz,t=>{var{typed:e,format:r}=t;return e(pM,{"number | BigNumber":function(i){return r(i,{notation:"hex"})},"number | BigNumber, number | BigNumber":function(i,a){return r(i,{notation:"hex",wordSize:a})}})});var op=/\$([\w.]+)/g;var mM="print",bz=["typed"],gl=M(mM,bz,t=>{var{typed:e}=t;return e(mM,{"string, Object | Array":dM,"string, Object | Array, number | Object":dM})});function dM(t,e,r){return t.replace(op,function(n,i){var a=i.split("."),o=e[a.shift()];for(o!==void 0&&o.isMatrix&&(o=o.toArray());a.length&&o!==void 0;){var c=a.shift();o=c?o[c]:o+"."}return o!==void 0?Ft(o)?o:ir(o,r):n})}var hM="to",wz=["typed","matrix","concat"],Ly=M(hM,wz,t=>{var{typed:e,matrix:r,concat:n}=t,i=lr({typed:e,matrix:r,concat:n});return e(hM,{"Unit, Unit | string":(a,o)=>a.to(o)},i({Ds:!0}))});var vM="isPrime",Dz=["typed"],Uy=M(vM,Dz,t=>{var{typed:e}=t;return e(vM,{number:function(n){if(n*0!==0)return!1;if(n<=3)return n>1;if(n%2===0||n%3===0)return!1;for(var i=5;i*i<=n;i+=6)if(n%i===0||n%(i+2)===0)return!1;return!0},BigNumber:function(n){if(n.toNumber()*0!==0)return!1;if(n.lte(3))return n.gt(1);if(n.mod(2).eq(0)||n.mod(3).eq(0))return!1;if(n.lt(Math.pow(2,32))){for(var i=n.toNumber(),a=5;a*a<=i;a+=6)if(i%a===0||i%(a+2)===0)return!1;return!0}function o(A,y,w){for(var S=1;!y.eq(0);)y.mod(2).eq(0)?(y=y.div(2),A=A.mul(A).mod(w)):(y=y.sub(1),S=A.mul(S).mod(w));return S}var c=n.constructor.clone({precision:n.toFixed(0).length*2});n=new c(n);for(var l=0,s=n.sub(1);s.mod(2).eq(0);)s=s.div(2),l+=1;var u=null;if(n.lt("3317044064679887385961981"))u=[2,3,5,7,11,13,17,19,23,29,31,37,41].filter(A=>A<n);else{var f=Math.min(n.toNumber()-2,Math.floor(2*Math.pow(n.toFixed(0).length*Math.log(10),2)));u=[];for(var p=2;p<=f;p+=1)u.push(f)}for(var m=0;m<u.length;m+=1){var v=u[m],d=o(n.sub(n).add(v),s,n);if(!d.eq(1)){for(var g=0,x=d;!x.eq(n.sub(1));g+=1,x=x.mul(x).mod(n))if(g===l-1)return!1}}return!0},"Array | Matrix":e.referToSelf(r=>n=>Ge(n,r))})});var Sz="numeric",Az=["number","?bignumber","?fraction"],qy=M(Sz,Az,t=>{var{number:e,bignumber:r,fraction:n}=t,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},a={number:o=>e(o),BigNumber:r?o=>r(o):$s,Fraction:n?o=>n(o):ip};return function(c){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",s=arguments.length>2?arguments[2]:void 0;if(s!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var u=Cr(c);if(!(u in i))throw new TypeError("Cannot convert "+c+' of type "'+u+'"; valid input types are '+Object.keys(i).join(", "));if(!(l in a))throw new TypeError("Cannot convert "+c+' to type "'+l+'"; valid output types are '+Object.keys(a).join(", "));return l===u?c:a[l](c)}});var gM="divideScalar",Nz=["typed","numeric"],Vy=M(gM,Nz,t=>{var{typed:e,numeric:r}=t;return e(gM,{"number, number":function(i,a){return i/a},"Complex, Complex":function(i,a){return i.div(a)},"BigNumber, BigNumber":function(i,a){return i.div(a)},"Fraction, Fraction":function(i,a){return i.div(a)},"Unit, number | Complex | Fraction | BigNumber | Unit":(n,i)=>n.divide(i),"number | Fraction | Complex | BigNumber, Unit":(n,i)=>i.divideInto(n)})});var yM="pow",_z=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],zy=M(yM,_z,t=>{var{typed:e,config:r,identity:n,multiply:i,matrix:a,inv:o,number:c,fraction:l,Complex:s}=t;return e(yM,{"number, number":u,"Complex, Complex":function(v,d){return v.pow(d)},"BigNumber, BigNumber":function(v,d){return d.isInteger()||v>=0||r.predictable?v.pow(d):new s(v.toNumber(),0).pow(d.toNumber(),0)},"Fraction, Fraction":function(v,d){var g=v.pow(d);if(g!=null)return g;if(r.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return u(v.valueOf(),d.valueOf())},"Array, number":f,"Array, BigNumber":function(v,d){return f(v,d.toNumber())},"Matrix, number":p,"Matrix, BigNumber":function(v,d){return p(v,d.toNumber())},"Unit, number | BigNumber":function(v,d){return v.pow(d)}});function u(m,v){if(r.predictable&&!Ue(v)&&m<0)try{var d=l(v),g=c(d);if((v===g||Math.abs((v-g)/v)<1e-14)&&d.d%2===1)return(d.n%2===0?1:-1)*Math.pow(-m,v)}catch(x){}return r.predictable&&(m<-1&&v===1/0||m>-1&&m<0&&v===-1/0)?NaN:Ue(v)||m>=0||r.predictable?yv(m,v):m*m<1&&v===1/0||m*m>1&&v===-1/0?0:new s(m,0).pow(v,0)}function f(m,v){if(!Ue(v))throw new TypeError("For A^b, b must be an integer (value is "+v+")");var d=er(m);if(d.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+d.length+" dimensions)");if(d[0]!==d[1])throw new Error("For A^b, A must be square (size is "+d[0]+"x"+d[1]+")");if(v<0)try{return f(o(m),-v)}catch(A){throw A.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+v+")"):A}for(var g=n(d[0]).valueOf(),x=m;v>=1;)(v&1)===1&&(g=i(x,g)),v>>=1,x=i(x,x);return g}function p(m,v){return a(f(m.valueOf(),v))}});var Xs="Number of decimals in function round must be an integer",xM="round",Ez=["typed","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],Hy=M(xM,Ez,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,BigNumber:a,DenseMatrix:o}=t,c=nt({typed:e,equalScalar:n}),l=Hr({typed:e,DenseMatrix:o}),s=Ht({typed:e});return e(xM,{number:xv,"number, number":xv,"number, BigNumber":function(f,p){if(!p.isInteger())throw new TypeError(Xs);return new a(f).toDecimalPlaces(p.toNumber())},Complex:function(f){return f.round()},"Complex, number":function(f,p){if(p%1)throw new TypeError(Xs);return f.round(p)},"Complex, BigNumber":function(f,p){if(!p.isInteger())throw new TypeError(Xs);var m=p.toNumber();return f.round(m)},BigNumber:function(f){return f.toDecimalPlaces(0)},"BigNumber, BigNumber":function(f,p){if(!p.isInteger())throw new TypeError(Xs);return f.toDecimalPlaces(p.toNumber())},Fraction:function(f){return f.round()},"Fraction, number":function(f,p){if(p%1)throw new TypeError(Xs);return f.round(p)},"Fraction, BigNumber":function(f,p){if(!p.isInteger())throw new TypeError(Xs);return f.round(p.toNumber())},"Unit, number, Unit":e.referToSelf(u=>function(f,p,m){var v=f.toNumeric(m);return m.multiply(u(v,p))}),"Unit, BigNumber, Unit":e.referToSelf(u=>(f,p,m)=>u(f,p.toNumber(),m)),"Unit, Unit":e.referToSelf(u=>(f,p)=>u(f,0,p)),"Array | Matrix, number, Unit":e.referToSelf(u=>(f,p,m)=>Ge(f,v=>u(v,p,m),!0)),"Array | Matrix, BigNumber, Unit":e.referToSelf(u=>(f,p,m)=>u(f,p.toNumber(),m)),"Array | Matrix, Unit":e.referToSelf(u=>(f,p)=>u(f,0,p)),"Array | Matrix":e.referToSelf(u=>f=>Ge(f,u,!0)),"SparseMatrix, number | BigNumber":e.referToSelf(u=>(f,p)=>c(f,p,u,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(u=>(f,p)=>s(f,p,u,!1)),"Array, number | BigNumber":e.referToSelf(u=>(f,p)=>s(r(f),p,u,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":e.referToSelf(u=>(f,p)=>n(f,0)?i(p.size(),p.storage()):l(p,f,u,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":e.referToSelf(u=>(f,p)=>n(f,0)?i(p.size(),p.storage()):s(p,f,u,!0)),"number | Complex | BigNumber | Fraction, Array":e.referToSelf(u=>(f,p)=>s(r(p),f,u,!0).valueOf())})});var bM="log",Mz=["config","typed","divideScalar","Complex"],Yy=M(bM,Mz,t=>{var{typed:e,config:r,divideScalar:n,Complex:i}=t;return e(bM,{number:function(o){return o>=0||r.predictable?S_(o):new i(o,0).log()},Complex:function(o){return o.log()},BigNumber:function(o){return!o.isNegative()||r.predictable?o.ln():new i(o.toNumber(),0).log()},"any, any":e.referToSelf(a=>(o,c)=>n(a(o),a(c)))})});var wM="log1p",Cz=["typed","config","divideScalar","log","Complex"],Gy=M(wM,Cz,t=>{var{typed:e,config:r,divideScalar:n,log:i,Complex:a}=t;return e(wM,{number:function(l){return l>=-1||r.predictable?Of(l):o(new a(l,0))},Complex:o,BigNumber:function(l){var s=l.plus(1);return!s.isNegative()||r.predictable?s.ln():o(new a(l.toNumber(),0))},"Array | Matrix":e.referToSelf(c=>l=>Ge(l,c)),"any, any":e.referToSelf(c=>(l,s)=>n(c(l),i(s)))});function o(c){var l=c.re+1;return new a(Math.log(Math.sqrt(l*l+c.im*c.im)),Math.atan2(c.im,l))}});var DM="nthRoots",Tz=["config","typed","divideScalar","Complex"],Wy=M(DM,Tz,t=>{var{typed:e,config:r,divideScalar:n,Complex:i}=t,a=[function(l){return new i(l,0)},function(l){return new i(0,l)},function(l){return new i(-l,0)},function(l){return new i(0,-l)}];function o(c,l){if(l<0)throw new Error("Root must be greater than zero");if(l===0)throw new Error("Root must be non-zero");if(l%1!==0)throw new Error("Root must be an integer");if(c===0||c.abs()===0)return[new i(0,0)];var s=typeof c=="number",u;(s||c.re===0||c.im===0)&&(s?u=2*+(c<0):c.im===0?u=2*+(c.re<0):u=2*+(c.im<0)+1);for(var f=c.arg(),p=c.abs(),m=[],v=Math.pow(p,1/l),d=0;d<l;d++){var g=(u+4*d)/l;if(g===Math.round(g)){m.push(a[g%4](v));continue}m.push(new i({r:v,phi:(f+2*Math.PI*d)/l}))}return m}return e(DM,{Complex:function(l){return o(l,2)},"Complex, number":o})});var SM="dotPow",Fz=["typed","equalScalar","matrix","pow","DenseMatrix","concat"],Zy=M(SM,Fz,t=>{var{typed:e,equalScalar:r,matrix:n,pow:i,DenseMatrix:a,concat:o}=t,c=dt({typed:e}),l=Jt({typed:e,DenseMatrix:a}),s=nt({typed:e,equalScalar:r}),u=Hr({typed:e,DenseMatrix:a}),f=lr({typed:e,matrix:n,concat:o}),p={};for(var m in i.signatures)Object.prototype.hasOwnProperty.call(i.signatures,m)&&!m.includes("Matrix")&&!m.includes("Array")&&(p[m]=i.signatures[m]);var v=e(p);return e(SM,f({elop:v,SS:l,DS:c,Ss:s,sS:u}))});var AM="dotDivide",Iz=["typed","matrix","equalScalar","divideScalar","DenseMatrix","concat"],jy=M(AM,Iz,t=>{var{typed:e,matrix:r,equalScalar:n,divideScalar:i,DenseMatrix:a,concat:o}=t,c=Yt({typed:e,equalScalar:n}),l=dt({typed:e}),s=Jt({typed:e,DenseMatrix:a}),u=nt({typed:e,equalScalar:n}),f=Hr({typed:e,DenseMatrix:a}),p=lr({typed:e,matrix:r,concat:o});return e(AM,p({elop:i,SS:s,DS:l,SD:c,Ss:u,sS:f}))});function ia(t){var{DenseMatrix:e}=t;return function(n,i,a){var o=n.size();if(o.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+ir(o)+")");var c=o[0],l=o[1];if(c!==l)throw new RangeError("Matrix must be square (size: "+ir(o)+")");var s=[];if(ze(i)){var u=i.size(),f=i._data;if(u.length===1){if(u[0]!==c)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var p=0;p<c;p++)s[p]=[f[p]];return new e({data:s,size:[c,1],datatype:i._datatype})}if(u.length===2){if(u[0]!==c||u[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(Po(i)){if(a){s=[];for(var m=0;m<c;m++)s[m]=[f[m][0]];return new e({data:s,size:[c,1],datatype:i._datatype})}return i}if(Li(i)){for(var v=0;v<c;v++)s[v]=[0];for(var d=i._values,g=i._index,x=i._ptr,A=x[1],y=x[0];y<A;y++){var w=g[y];s[w][0]=d[y]}return new e({data:s,size:[c,1],datatype:i._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(Ir(i)){var S=er(i);if(S.length===1){if(S[0]!==c)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var b=0;b<c;b++)s[b]=[i[b]];return new e({data:s,size:[c,1]})}if(S.length===2){if(S[0]!==c||S[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var C=0;C<c;C++)s[C]=[i[C][0]];return new e({data:s,size:[c,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var NM="lsolve",Oz=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],$y=M(NM,Oz,t=>{var{typed:e,matrix:r,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:c}=t,l=ia({DenseMatrix:c});return e(NM,{"SparseMatrix, Array | Matrix":function(p,m){return u(p,m)},"DenseMatrix, Array | Matrix":function(p,m){return s(p,m)},"Array, Array | Matrix":function(p,m){var v=r(p),d=s(v,m);return d.valueOf()}});function s(f,p){p=l(f,p,!0);for(var m=p._data,v=f._size[0],d=f._size[1],g=[],x=f._data,A=0;A<d;A++){var y=m[A][0]||0,w=void 0;if(o(y,0))w=0;else{var S=x[A][A];if(o(S,0))throw new Error("Linear system cannot be solved since matrix is singular");w=n(y,S);for(var b=A+1;b<v;b++)m[b]=[a(m[b][0]||0,i(w,x[b][A]))]}g[A]=[w]}return new c({data:g,size:[v,1]})}function u(f,p){p=l(f,p,!0);for(var m=p._data,v=f._size[0],d=f._size[1],g=f._values,x=f._index,A=f._ptr,y=[],w=0;w<d;w++){var S=m[w][0]||0;if(o(S,0))y[w]=[0];else{for(var b=0,C=[],_=[],N=A[w],E=A[w+1],I=N;I<E;I++){var B=x[I];B===w?b=g[I]:B>w&&(C.push(g[I]),_.push(B))}if(o(b,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var L=n(S,b),z=0,U=_.length;z<U;z++){var R=_[z];m[R]=[a(m[R][0]||0,i(L,C[z]))]}y[w]=[L]}}return new c({data:y,size:[v,1]})}});var _M="usolve",Bz=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],Jy=M(_M,Bz,t=>{var{typed:e,matrix:r,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:c}=t,l=ia({DenseMatrix:c});return e(_M,{"SparseMatrix, Array | Matrix":function(p,m){return u(p,m)},"DenseMatrix, Array | Matrix":function(p,m){return s(p,m)},"Array, Array | Matrix":function(p,m){var v=r(p),d=s(v,m);return d.valueOf()}});function s(f,p){p=l(f,p,!0);for(var m=p._data,v=f._size[0],d=f._size[1],g=[],x=f._data,A=d-1;A>=0;A--){var y=m[A][0]||0,w=void 0;if(o(y,0))w=0;else{var S=x[A][A];if(o(S,0))throw new Error("Linear system cannot be solved since matrix is singular");w=n(y,S);for(var b=A-1;b>=0;b--)m[b]=[a(m[b][0]||0,i(w,x[b][A]))]}g[A]=[w]}return new c({data:g,size:[v,1]})}function u(f,p){p=l(f,p,!0);for(var m=p._data,v=f._size[0],d=f._size[1],g=f._values,x=f._index,A=f._ptr,y=[],w=d-1;w>=0;w--){var S=m[w][0]||0;if(o(S,0))y[w]=[0];else{for(var b=0,C=[],_=[],N=A[w],E=A[w+1],I=E-1;I>=N;I--){var B=x[I];B===w?b=g[I]:B<w&&(C.push(g[I]),_.push(B))}if(o(b,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var L=n(S,b),z=0,U=_.length;z<U;z++){var R=_[z];m[R]=[a(m[R][0],i(L,C[z]))]}y[w]=[L]}}return new c({data:y,size:[v,1]})}});var EM="lsolveAll",Pz=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],Xy=M(EM,Pz,t=>{var{typed:e,matrix:r,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:c}=t,l=ia({DenseMatrix:c});return e(EM,{"SparseMatrix, Array | Matrix":function(p,m){return u(p,m)},"DenseMatrix, Array | Matrix":function(p,m){return s(p,m)},"Array, Array | Matrix":function(p,m){var v=r(p),d=s(v,m);return d.map(g=>g.valueOf())}});function s(f,p){for(var m=[l(f,p,!0)._data.map(_=>_[0])],v=f._data,d=f._size[0],g=f._size[1],x=0;x<g;x++)for(var A=m.length,y=0;y<A;y++){var w=m[y];if(o(v[x][x],0))if(o(w[x],0)){if(y===0){var b=[...w];b[x]=1;for(var C=x+1;C<g;C++)b[C]=a(b[C],v[C][x]);m.push(b)}}else{if(y===0)return[];m.splice(y,1),y-=1,A-=1}else{w[x]=n(w[x],v[x][x]);for(var S=x+1;S<g;S++)w[S]=a(w[S],i(w[x],v[S][x]))}}return m.map(_=>new c({data:_.map(N=>[N]),size:[d,1]}))}function u(f,p){for(var m=[l(f,p,!0)._data.map(te=>te[0])],v=f._size[0],d=f._size[1],g=f._values,x=f._index,A=f._ptr,y=0;y<d;y++)for(var w=m.length,S=0;S<w;S++){for(var b=m[S],C=[],_=[],N=A[y],E=A[y+1],I=0,B=N;B<E;B++){var L=x[B];L===y?I=g[B]:L>y&&(C.push(g[B]),_.push(L))}if(o(I,0))if(o(b[y],0)){if(S===0){var O=[...b];O[y]=1;for(var G=0,k=_.length;G<k;G++){var Q=_[G];O[Q]=a(O[Q],C[G])}m.push(O)}}else{if(S===0)return[];m.splice(S,1),S-=1,w-=1}else{b[y]=n(b[y],I);for(var z=0,U=_.length;z<U;z++){var R=_[z];b[R]=a(b[R],i(b[y],C[z]))}}}return m.map(te=>new c({data:te.map(X=>[X]),size:[v,1]}))}});var MM="usolveAll",Rz=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],Qy=M(MM,Rz,t=>{var{typed:e,matrix:r,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:c}=t,l=ia({DenseMatrix:c});return e(MM,{"SparseMatrix, Array | Matrix":function(p,m){return u(p,m)},"DenseMatrix, Array | Matrix":function(p,m){return s(p,m)},"Array, Array | Matrix":function(p,m){var v=r(p),d=s(v,m);return d.map(g=>g.valueOf())}});function s(f,p){for(var m=[l(f,p,!0)._data.map(_=>_[0])],v=f._data,d=f._size[0],g=f._size[1],x=g-1;x>=0;x--)for(var A=m.length,y=0;y<A;y++){var w=m[y];if(o(v[x][x],0))if(o(w[x],0)){if(y===0){var b=[...w];b[x]=1;for(var C=x-1;C>=0;C--)b[C]=a(b[C],v[C][x]);m.push(b)}}else{if(y===0)return[];m.splice(y,1),y-=1,A-=1}else{w[x]=n(w[x],v[x][x]);for(var S=x-1;S>=0;S--)w[S]=a(w[S],i(w[x],v[S][x]))}}return m.map(_=>new c({data:_.map(N=>[N]),size:[d,1]}))}function u(f,p){for(var m=[l(f,p,!0)._data.map(te=>te[0])],v=f._size[0],d=f._size[1],g=f._values,x=f._index,A=f._ptr,y=d-1;y>=0;y--)for(var w=m.length,S=0;S<w;S++){for(var b=m[S],C=[],_=[],N=A[y],E=A[y+1],I=0,B=E-1;B>=N;B--){var L=x[B];L===y?I=g[B]:L<y&&(C.push(g[B]),_.push(L))}if(o(I,0))if(o(b[y],0)){if(S===0){var O=[...b];O[y]=1;for(var G=0,k=_.length;G<k;G++){var Q=_[G];O[Q]=a(O[Q],C[G])}m.push(O)}}else{if(S===0)return[];m.splice(S,1),S-=1,w-=1}else{b[y]=n(b[y],I);for(var z=0,U=_.length;z<U;z++){var R=_[z];b[R]=a(b[R],i(b[y],C[z]))}}}return m.map(te=>new c({data:te.map(X=>[X]),size:[v,1]}))}});var kz="matAlgo08xS0Sid",Lz=["typed","equalScalar"],Qs=M(kz,Lz,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,o){var c=i._values,l=i._index,s=i._ptr,u=i._size,f=i._datatype,p=a._values,m=a._index,v=a._ptr,d=a._size,g=a._datatype;if(u.length!==d.length)throw new ar(u.length,d.length);if(u[0]!==d[0]||u[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+d+")");if(!c||!p)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var x=u[0],A=u[1],y,w=r,S=0,b=o;typeof f=="string"&&f===g&&(y=f,w=e.find(r,[y,y]),S=e.convert(0,y),b=e.find(o,[y,y]));for(var C=[],_=[],N=[],E=[],I=[],B,L,z,U,R=0;R<A;R++){N[R]=_.length;var O=R+1;for(L=s[R],z=s[R+1],B=L;B<z;B++)U=l[B],I[U]=O,E[U]=c[B],_.push(U);for(L=v[R],z=v[R+1],B=L;B<z;B++)U=m[B],I[U]===O&&(E[U]=b(E[U],p[B]));for(B=N[R];B<_.length;){U=_[B];var G=E[U];w(G,S)?_.splice(B,1):(C.push(G),B++)}}return N[A]=_.length,i.createSparseMatrix({values:C,index:_,ptr:N,size:[x,A],datatype:y})}});var Ks=M("useMatrixForArrayScalar",["typed","matrix"],t=>{var{typed:e,matrix:r}=t;return{"Array, number":e.referTo("DenseMatrix, number",n=>(i,a)=>n(r(i),a).valueOf()),"Array, BigNumber":e.referTo("DenseMatrix, BigNumber",n=>(i,a)=>n(r(i),a).valueOf()),"number, Array":e.referTo("number, DenseMatrix",n=>(i,a)=>n(i,r(a)).valueOf()),"BigNumber, Array":e.referTo("BigNumber, DenseMatrix",n=>(i,a)=>n(i,r(a)).valueOf())}});var CM="leftShift",Uz=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],Ky=M(CM,Uz,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,DenseMatrix:a,concat:o}=t,c=Cn({typed:e}),l=Yt({typed:e,equalScalar:n}),s=Qs({typed:e,equalScalar:n}),u=Qn({typed:e,DenseMatrix:a}),f=nt({typed:e,equalScalar:n}),p=Ht({typed:e}),m=lr({typed:e,matrix:r,concat:o}),v=Ks({typed:e,matrix:r});return e(CM,{"number, number":Av,"BigNumber, BigNumber":xE,"SparseMatrix, number | BigNumber":e.referToSelf(d=>(g,x)=>n(x,0)?g.clone():f(g,x,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(g,x)=>n(x,0)?g.clone():p(g,x,d,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(d=>(g,x)=>n(g,0)?i(x.size(),x.storage()):u(x,g,d,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(d=>(g,x)=>n(g,0)?i(x.size(),x.storage()):p(x,g,d,!0))},v,m({SS:s,DS:c,SD:l}))});var TM="rightArithShift",qz=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],e0=M(TM,qz,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,DenseMatrix:a,concat:o}=t,c=Cn({typed:e}),l=Yt({typed:e,equalScalar:n}),s=Qs({typed:e,equalScalar:n}),u=Qn({typed:e,DenseMatrix:a}),f=nt({typed:e,equalScalar:n}),p=Ht({typed:e}),m=lr({typed:e,matrix:r,concat:o}),v=Ks({typed:e,matrix:r});return e(TM,{"number, number":Nv,"BigNumber, BigNumber":bE,"SparseMatrix, number | BigNumber":e.referToSelf(d=>(g,x)=>n(x,0)?g.clone():f(g,x,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(g,x)=>n(x,0)?g.clone():p(g,x,d,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(d=>(g,x)=>n(g,0)?i(x.size(),x.storage()):u(x,g,d,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(d=>(g,x)=>n(g,0)?i(x.size(),x.storage()):p(x,g,d,!0))},v,m({SS:s,DS:c,SD:l}))});var FM="rightLogShift",Vz=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],r0=M(FM,Vz,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,DenseMatrix:a,concat:o}=t,c=Cn({typed:e}),l=Yt({typed:e,equalScalar:n}),s=Qs({typed:e,equalScalar:n}),u=Qn({typed:e,DenseMatrix:a}),f=nt({typed:e,equalScalar:n}),p=Ht({typed:e}),m=lr({typed:e,matrix:r,concat:o}),v=Ks({typed:e,matrix:r});return e(FM,{"number, number":_v,"SparseMatrix, number | BigNumber":e.referToSelf(d=>(g,x)=>n(x,0)?g.clone():f(g,x,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(g,x)=>n(x,0)?g.clone():p(g,x,d,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(d=>(g,x)=>n(g,0)?i(x.size(),x.storage()):u(x,g,d,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(d=>(g,x)=>n(g,0)?i(x.size(),x.storage()):p(x,g,d,!0))},v,m({SS:s,DS:c,SD:l}))});var IM="and",zz=["typed","matrix","equalScalar","zeros","not","concat"],yl=M(IM,zz,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,not:a,concat:o}=t,c=Yt({typed:e,equalScalar:n}),l=oo({typed:e,equalScalar:n}),s=nt({typed:e,equalScalar:n}),u=Ht({typed:e}),f=lr({typed:e,matrix:r,concat:o});return e(IM,{"number, number":Iv,"Complex, Complex":function(m,v){return(m.re!==0||m.im!==0)&&(v.re!==0||v.im!==0)},"BigNumber, BigNumber":function(m,v){return!m.isZero()&&!v.isZero()&&!m.isNaN()&&!v.isNaN()},"Unit, Unit":e.referToSelf(p=>(m,v)=>p(m.value||0,v.value||0)),"SparseMatrix, any":e.referToSelf(p=>(m,v)=>a(v)?i(m.size(),m.storage()):s(m,v,p,!1)),"DenseMatrix, any":e.referToSelf(p=>(m,v)=>a(v)?i(m.size(),m.storage()):u(m,v,p,!1)),"any, SparseMatrix":e.referToSelf(p=>(m,v)=>a(m)?i(m.size(),m.storage()):s(v,m,p,!0)),"any, DenseMatrix":e.referToSelf(p=>(m,v)=>a(m)?i(m.size(),m.storage()):u(v,m,p,!0)),"Array, any":e.referToSelf(p=>(m,v)=>p(r(m),v).valueOf()),"any, Array":e.referToSelf(p=>(m,v)=>p(m,r(v)).valueOf())},f({SS:l,DS:c}))});var sp="compare",Hz=["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],t0=M(sp,Hz,t=>{var{typed:e,config:r,equalScalar:n,matrix:i,BigNumber:a,Fraction:o,DenseMatrix:c,concat:l}=t,s=dt({typed:e}),u=ao({typed:e,equalScalar:n}),f=Hr({typed:e,DenseMatrix:c}),p=lr({typed:e,matrix:i,concat:l}),m=Ai({typed:e});return e(sp,Yz({typed:e,config:r}),{"boolean, boolean":function(d,g){return d===g?0:d>g?1:-1},"BigNumber, BigNumber":function(d,g){return un(d,g,r.epsilon)?new a(0):new a(d.cmp(g))},"Fraction, Fraction":function(d,g){return new o(d.compare(g))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},m,p({SS:u,DS:s,Ss:f}))}),Yz=M(sp,["typed","config"],t=>{var{typed:e,config:r}=t;return e(sp,{"number, number":function(i,a){return zt(i,a,r.epsilon)?0:i>a?1:-1}})});var Ho=yt(BM(),1);var PM="compareNatural",Gz=["typed","compare"],n0=M(PM,Gz,t=>{var{typed:e,compare:r}=t,n=r.signatures["boolean,boolean"];return e(PM,{"any, any":i});function i(l,s){var u=Cr(l),f=Cr(s),p;if((u==="number"||u==="BigNumber"||u==="Fraction")&&(f==="number"||f==="BigNumber"||f==="Fraction"))return p=r(l,s),p.toString()!=="0"?p>0?1:-1:(0,Ho.default)(u,f);var m=["Array","DenseMatrix","SparseMatrix"];if(m.includes(u)||m.includes(f))return p=a(i,l,s),p!==0?p:(0,Ho.default)(u,f);if(u!==f)return(0,Ho.default)(u,f);if(u==="Complex")return Wz(l,s);if(u==="Unit")return l.equalBase(s)?i(l.value,s.value):o(i,l.formatUnits(),s.formatUnits());if(u==="boolean")return n(l,s);if(u==="string")return(0,Ho.default)(l,s);if(u==="Object")return c(i,l,s);if(u==="null"||u==="undefined")return 0;throw new TypeError('Unsupported type of value "'+u+'"')}function a(l,s,u){return Li(s)&&Li(u)?o(l,s.toJSON().values,u.toJSON().values):Li(s)?a(l,s.toArray(),u):Li(u)?a(l,s,u.toArray()):Po(s)?a(l,s.toJSON().data,u):Po(u)?a(l,s,u.toJSON().data):Array.isArray(s)?Array.isArray(u)?o(l,s,u):a(l,s,[u]):a(l,[s],u)}function o(l,s,u){for(var f=0,p=Math.min(s.length,u.length);f<p;f++){var m=l(s[f],u[f]);if(m!==0)return m}return s.length>u.length?1:s.length<u.length?-1:0}function c(l,s,u){var f=Object.keys(s),p=Object.keys(u);f.sort(Ho.default),p.sort(Ho.default);var m=o(l,f,p);if(m!==0)return m;for(var v=0;v<f.length;v++){var d=l(s[f[v]],u[p[v]]);if(d!==0)return d}return 0}});function Wz(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0}var RM="compareText",Zz=["typed","matrix","concat"];Lf.signature="any, any";var i0=M(RM,Zz,t=>{var{typed:e,matrix:r,concat:n}=t,i=lr({typed:e,matrix:r,concat:n});return e(RM,Lf,i({elop:Lf,Ds:!0}))});var up="equal",jz=["typed","matrix","equalScalar","DenseMatrix","concat"],a0=M(up,jz,t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:i,concat:a}=t,o=dt({typed:e}),c=Jt({typed:e,DenseMatrix:i}),l=Hr({typed:e,DenseMatrix:i}),s=lr({typed:e,matrix:r,concat:a});return e(up,$z({typed:e,equalScalar:n}),s({elop:n,SS:c,DS:o,Ss:l}))}),$z=M(up,["typed","equalScalar"],t=>{var{typed:e,equalScalar:r}=t;return e(up,{"any, any":function(i,a){return i===null?a===null:a===null?i===null:i===void 0?a===void 0:a===void 0?i===void 0:r(i,a)}})});var kM="equalText",Jz=["typed","compareText","isZero"],o0=M(kM,Jz,t=>{var{typed:e,compareText:r,isZero:n}=t;return e(kM,{"any, any":function(a,o){return n(r(a,o))}})});var lp="smaller",Xz=["typed","config","matrix","DenseMatrix","concat"],s0=M(lp,Xz,t=>{var{typed:e,config:r,matrix:n,DenseMatrix:i,concat:a}=t,o=dt({typed:e}),c=Jt({typed:e,DenseMatrix:i}),l=Hr({typed:e,DenseMatrix:i}),s=lr({typed:e,matrix:n,concat:a}),u=Ai({typed:e});return e(lp,Qz({typed:e,config:r}),{"boolean, boolean":(f,p)=>f<p,"BigNumber, BigNumber":function(p,m){return p.lt(m)&&!un(p,m,r.epsilon)},"Fraction, Fraction":(f,p)=>f.compare(p)===-1,"Complex, Complex":function(p,m){throw new TypeError("No ordering relation is defined for complex numbers")}},u,s({SS:c,DS:o,Ss:l}))}),Qz=M(lp,["typed","config"],t=>{var{typed:e,config:r}=t;return e(lp,{"number, number":function(i,a){return i<a&&!zt(i,a,r.epsilon)}})});var cp="smallerEq",Kz=["typed","config","matrix","DenseMatrix","concat"],u0=M(cp,Kz,t=>{var{typed:e,config:r,matrix:n,DenseMatrix:i,concat:a}=t,o=dt({typed:e}),c=Jt({typed:e,DenseMatrix:i}),l=Hr({typed:e,DenseMatrix:i}),s=lr({typed:e,matrix:n,concat:a}),u=Ai({typed:e});return e(cp,eH({typed:e,config:r}),{"boolean, boolean":(f,p)=>f<=p,"BigNumber, BigNumber":function(p,m){return p.lte(m)||un(p,m,r.epsilon)},"Fraction, Fraction":(f,p)=>f.compare(p)!==1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},u,s({SS:c,DS:o,Ss:l}))}),eH=M(cp,["typed","config"],t=>{var{typed:e,config:r}=t;return e(cp,{"number, number":function(i,a){return i<=a||zt(i,a,r.epsilon)}})});var fp="larger",rH=["typed","config","matrix","DenseMatrix","concat"],l0=M(fp,rH,t=>{var{typed:e,config:r,matrix:n,DenseMatrix:i,concat:a}=t,o=dt({typed:e}),c=Jt({typed:e,DenseMatrix:i}),l=Hr({typed:e,DenseMatrix:i}),s=lr({typed:e,matrix:n,concat:a}),u=Ai({typed:e});return e(fp,tH({typed:e,config:r}),{"boolean, boolean":(f,p)=>f>p,"BigNumber, BigNumber":function(p,m){return p.gt(m)&&!un(p,m,r.epsilon)},"Fraction, Fraction":(f,p)=>f.compare(p)===1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},u,s({SS:c,DS:o,Ss:l}))}),tH=M(fp,["typed","config"],t=>{var{typed:e,config:r}=t;return e(fp,{"number, number":function(i,a){return i>a&&!zt(i,a,r.epsilon)}})});var pp="largerEq",nH=["typed","config","matrix","DenseMatrix","concat"],c0=M(pp,nH,t=>{var{typed:e,config:r,matrix:n,DenseMatrix:i,concat:a}=t,o=dt({typed:e}),c=Jt({typed:e,DenseMatrix:i}),l=Hr({typed:e,DenseMatrix:i}),s=lr({typed:e,matrix:n,concat:a}),u=Ai({typed:e});return e(pp,iH({typed:e,config:r}),{"boolean, boolean":(f,p)=>f>=p,"BigNumber, BigNumber":function(p,m){return p.gte(m)||un(p,m,r.epsilon)},"Fraction, Fraction":(f,p)=>f.compare(p)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},u,s({SS:c,DS:o,Ss:l}))}),iH=M(pp,["typed","config"],t=>{var{typed:e,config:r}=t;return e(pp,{"number, number":function(i,a){return i>=a||zt(i,a,r.epsilon)}})});var LM="deepEqual",aH=["typed","equal"],f0=M(LM,aH,t=>{var{typed:e,equal:r}=t;return e(LM,{"any, any":function(a,o){return n(a.valueOf(),o.valueOf())}});function n(i,a){if(Array.isArray(i))if(Array.isArray(a)){var o=i.length;if(o!==a.length)return!1;for(var c=0;c<o;c++)if(!n(i[c],a[c]))return!1;return!0}else return!1;else return Array.isArray(a)?!1:r(i,a)}});var mp="unequal",oH=["typed","config","equalScalar","matrix","DenseMatrix","concat"],p0=M(mp,oH,t=>{var{typed:e,config:r,equalScalar:n,matrix:i,DenseMatrix:a,concat:o}=t,c=dt({typed:e}),l=Jt({typed:e,DenseMatrix:a}),s=Hr({typed:e,DenseMatrix:a}),u=lr({typed:e,matrix:i,concat:o});return e(mp,sH({typed:e,equalScalar:n}),u({elop:f,SS:l,DS:c,Ss:s}));function f(p,m){return!n(p,m)}}),sH=M(mp,["typed","equalScalar"],t=>{var{typed:e,equalScalar:r}=t;return e(mp,{"any, any":function(i,a){return i===null?a!==null:a===null?i!==null:i===void 0?a!==void 0:a===void 0?i!==void 0:!r(i,a)}})});var UM="partitionSelect",uH=["typed","isNumeric","isNaN","compare"],m0=M(UM,uH,t=>{var{typed:e,isNumeric:r,isNaN:n,compare:i}=t,a=i,o=(s,u)=>-i(s,u);return e(UM,{"Array | Matrix, number":function(u,f){return c(u,f,a)},"Array | Matrix, number, string":function(u,f,p){if(p==="asc")return c(u,f,a);if(p==="desc")return c(u,f,o);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":c});function c(s,u,f){if(!Ue(u)||u<0)throw new Error("k must be a non-negative integer");if(ze(s)){var p=s.size();if(p.length>1)throw new Error("Only one dimensional matrices supported");return l(s.valueOf(),u,f)}if(Array.isArray(s))return l(s,u,f)}function l(s,u,f){if(u>=s.length)throw new Error("k out of bounds");for(var p=0;p<s.length;p++)if(r(s[p])&&n(s[p]))return s[p];for(var m=0,v=s.length-1;m<v;){for(var d=m,g=v,x=s[Math.floor(Math.random()*(v-m+1))+m];d<g;)if(f(s[d],x)>=0){var A=s[g];s[g]=s[d],s[d]=A,--g}else++d;f(s[d],x)>0&&--d,u<=d?v=d:m=d+1}return s[u]}});var qM="sort",lH=["typed","matrix","compare","compareNatural"],d0=M(qM,lH,t=>{var{typed:e,matrix:r,compare:n,compareNatural:i}=t,a=n,o=(u,f)=>-n(u,f);return e(qM,{Array:function(f){return l(f),f.sort(a)},Matrix:function(f){return s(f),r(f.toArray().sort(a),f.storage())},"Array, function":function(f,p){return l(f),f.sort(p)},"Matrix, function":function(f,p){return s(f),r(f.toArray().sort(p),f.storage())},"Array, string":function(f,p){return l(f),f.sort(c(p))},"Matrix, string":function(f,p){return s(f),r(f.toArray().sort(c(p)),f.storage())}});function c(u){if(u==="asc")return a;if(u==="desc")return o;if(u==="natural")return i;throw new Error('String "asc", "desc", or "natural" expected')}function l(u){if(er(u).length!==1)throw new Error("One dimensional array expected")}function s(u){if(u.size().length!==1)throw new Error("One dimensional matrix expected")}});var VM="max",cH=["typed","config","numeric","larger"],xl=M(VM,cH,t=>{var{typed:e,config:r,numeric:n,larger:i}=t;return e(VM,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(l,s){return io(l,s.valueOf(),a)},"...":function(l){if(Si(l))throw new TypeError("Scalar values expected in function max");return o(l)}});function a(c,l){try{return i(c,l)?c:l}catch(s){throw Ot(s,"max",l)}}function o(c){var l;if(Mn(c,function(s){try{isNaN(s)&&typeof s=="number"?l=NaN:(l===void 0||i(s,l))&&(l=s)}catch(u){throw Ot(u,"max",s)}}),l===void 0)throw new Error("Cannot calculate max of an empty array");return typeof l=="string"&&(l=n(l,r.number)),l}});var zM="min",fH=["typed","config","numeric","smaller"],bl=M(zM,fH,t=>{var{typed:e,config:r,numeric:n,smaller:i}=t;return e(zM,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(l,s){return io(l,s.valueOf(),a)},"...":function(l){if(Si(l))throw new TypeError("Scalar values expected in function min");return o(l)}});function a(c,l){try{return i(c,l)?c:l}catch(s){throw Ot(s,"min",l)}}function o(c){var l;if(Mn(c,function(s){try{isNaN(s)&&typeof s=="number"?l=NaN:(l===void 0||i(s,l))&&(l=s)}catch(u){throw Ot(u,"min",s)}}),l===void 0)throw new Error("Cannot calculate min of an empty array");return typeof l=="string"&&(l=n(l,r.number)),l}});var pH="ImmutableDenseMatrix",mH=["smaller","DenseMatrix"],h0=M(pH,mH,t=>{var{smaller:e,DenseMatrix:r}=t;function n(i,a){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(a&&!Ft(a))throw new Error("Invalid datatype: "+a);if(ze(i)||Ir(i)){var o=new r(i,a);this._data=o._data,this._size=o._size,this._datatype=o._datatype,this._min=null,this._max=null}else if(i&&Ir(i.data)&&Ir(i.size))this._data=i.data,this._size=i.size,this._datatype=i.datatype,this._min=typeof i.min!="undefined"?i.min:null,this._max=typeof i.max!="undefined"?i.max:null;else{if(i)throw new TypeError("Unsupported type of data ("+Cr(i)+")");this._data=[],this._size=[0],this._datatype=a,this._min=null,this._max=null}}return n.prototype=new r,n.prototype.type="ImmutableDenseMatrix",n.prototype.isImmutableDenseMatrix=!0,n.prototype.subset=function(i){switch(arguments.length){case 1:{var a=r.prototype.subset.call(this,i);return ze(a)?new n({data:a._data,size:a._size,datatype:a._datatype}):a}case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},n.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},n.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},n.prototype.clone=function(){return new n({data:Xe(this._data),size:Xe(this._size),datatype:this._datatype})},n.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.fromJSON=function(i){return new n(i)},n.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},n.prototype.min=function(){if(this._min===null){var i=null;this.forEach(function(a){(i===null||e(a,i))&&(i=a)}),this._min=i!==null?i:void 0}return this._min},n.prototype.max=function(){if(this._max===null){var i=null;this.forEach(function(a){(i===null||e(i,a))&&(i=a)}),this._max=i!==null?i:void 0}return this._max},n},{isClass:!0});var dH="Index",hH=["ImmutableDenseMatrix","getMatrixDataType"],v0=M(dH,hH,t=>{var{ImmutableDenseMatrix:e,getMatrixDataType:r}=t;function n(a){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var o=0,c=arguments.length;o<c;o++){var l=arguments[o],s=Ir(l),u=ze(l),f=null;if(ks(l))this._dimensions.push(l),this._isScalar=!1;else if(s||u){var p=void 0;r(l)==="boolean"?(s&&(p=i(HM(l).valueOf())),u&&(p=i(HM(l._data).valueOf())),f=l.valueOf().length):p=i(l.valueOf()),this._dimensions.push(p);var m=p.size();(m.length!==1||m[0]!==1||f!==null)&&(this._isScalar=!1)}else if(typeof l=="number")this._dimensions.push(i([l]));else if(typeof l=="string")this._dimensions.push(l);else throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._sourceSize.push(f)}}n.prototype.type="Index",n.prototype.isIndex=!0;function i(a){for(var o=0,c=a.length;o<c;o++)if(typeof a[o]!="number"||!Ue(a[o]))throw new TypeError("Index parameters must be positive integer numbers");return new e(a)}return n.prototype.clone=function(){var a=new n;return a._dimensions=Xe(this._dimensions),a._isScalar=this._isScalar,a._sourceSize=this._sourceSize,a},n.create=function(a){var o=new n;return n.apply(o,a),o},n.prototype.size=function(){for(var a=[],o=0,c=this._dimensions.length;o<c;o++){var l=this._dimensions[o];a[o]=typeof l=="string"?1:l.size()[0]}return a},n.prototype.max=function(){for(var a=[],o=0,c=this._dimensions.length;o<c;o++){var l=this._dimensions[o];a[o]=typeof l=="string"?l:l.max()}return a},n.prototype.min=function(){for(var a=[],o=0,c=this._dimensions.length;o<c;o++){var l=this._dimensions[o];a[o]=typeof l=="string"?l:l.min()}return a},n.prototype.forEach=function(a){for(var o=0,c=this._dimensions.length;o<c;o++)a(this._dimensions[o],o,this)},n.prototype.dimension=function(a){return this._dimensions[a]||null},n.prototype.isObjectProperty=function(){return this._dimensions.length===1&&typeof this._dimensions[0]=="string"},n.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},n.prototype.isScalar=function(){return this._isScalar},n.prototype.toArray=function(){for(var a=[],o=0,c=this._dimensions.length;o<c;o++){var l=this._dimensions[o];a.push(typeof l=="string"?l:l.toArray())}return a},n.prototype.valueOf=n.prototype.toArray,n.prototype.toString=function(){for(var a=[],o=0,c=this._dimensions.length;o<c;o++){var l=this._dimensions[o];typeof l=="string"?a.push(JSON.stringify(l)):a.push(l.toString())}return"["+a.join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},n.fromJSON=function(a){return n.create(a.dimensions)},n},{isClass:!0});function HM(t){var e=[];return t.forEach((r,n)=>{r&&e.push(n)}),e}var vH="FibonacciHeap",gH=["smaller","larger"],g0=M(vH,gH,t=>{var{smaller:e,larger:r}=t,n=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(u,f){var p={key:u,value:f,degree:0};if(this._minimum){var m=this._minimum;p.left=m,p.right=m.right,m.right=p,p.right.left=p,e(u,m.key)&&(this._minimum=p)}else p.left=p,p.right=p,this._minimum=p;return this._size++,p},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return this._size===0},i.prototype.extractMinimum=function(){var u=this._minimum;if(u===null)return u;for(var f=this._minimum,p=u.degree,m=u.child;p>0;){var v=m.right;m.left.right=m.right,m.right.left=m.left,m.left=f,m.right=f.right,f.right=m,m.right.left=m,m.parent=null,m=v,p--}return u.left.right=u.right,u.right.left=u.left,u===u.right?f=null:(f=u.right,f=s(f,this._size)),this._size--,this._minimum=f,u},i.prototype.remove=function(u){this._minimum=a(this._minimum,u,-1),this.extractMinimum()};function a(u,f,p){f.key=p;var m=f.parent;return m&&e(f.key,m.key)&&(o(u,f,m),c(u,m)),e(f.key,u.key)&&(u=f),u}function o(u,f,p){f.left.right=f.right,f.right.left=f.left,p.degree--,p.child===f&&(p.child=f.right),p.degree===0&&(p.child=null),f.left=u,f.right=u.right,u.right=f,f.right.left=f,f.parent=null,f.mark=!1}function c(u,f){var p=f.parent;p&&(f.mark?(o(u,f,p),c(p)):f.mark=!0)}var l=function(f,p){f.left.right=f.right,f.right.left=f.left,f.parent=p,p.child?(f.left=p.child,f.right=p.child.right,p.child.right=f,f.right.left=f):(p.child=f,f.right=f,f.left=f),p.degree++,f.mark=!1};function s(u,f){var p=Math.floor(Math.log(f)*n)+1,m=new Array(p),v=0,d=u;if(d)for(v++,d=d.right;d!==u;)v++,d=d.right;for(var g;v>0;){for(var x=d.degree,A=d.right;g=m[x],!!g;){if(r(d.key,g.key)){var y=g;g=d,d=y}l(g,d),m[x]=null,x++}m[x]=d,d=A,v--}u=null;for(var w=0;w<p;w++)g=m[w],g&&(u?(g.left.right=g.right,g.right.left=g.left,g.left=u,g.right=u.right,u.right=g,g.right.left=g,e(g.key,u.key)&&(u=g)):u=g);return u}return i},{isClass:!0});var yH="Spa",xH=["addScalar","equalScalar","FibonacciHeap"],y0=M(yH,xH,t=>{var{addScalar:e,equalScalar:r,FibonacciHeap:n}=t;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new n}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(a,o){if(this._values[a])this._values[a].value=o;else{var c=this._heap.insert(a,o);this._values[a]=c}},i.prototype.get=function(a){var o=this._values[a];return o?o.value:0},i.prototype.accumulate=function(a,o){var c=this._values[a];c?c.value=e(c.value,o):(c=this._heap.insert(a,o),this._values[a]=c)},i.prototype.forEach=function(a,o,c){var l=this._heap,s=this._values,u=[],f=l.extractMinimum();for(f&&u.push(f);f&&f.key<=o;)f.key>=a&&(r(f.value,0)||c(f.key,f.value,this)),f=l.extractMinimum(),f&&u.push(f);for(var p=0;p<u.length;p++){var m=u[p];f=l.insert(m.key,m.value),s[f.key]=f}},i.prototype.swap=function(a,o){var c=this._values[a],l=this._values[o];if(!c&&l)c=this._heap.insert(a,l.value),this._heap.remove(l),this._values[a]=c,this._values[o]=void 0;else if(c&&!l)l=this._heap.insert(o,c.value),this._heap.remove(c),this._values[o]=l,this._values[a]=void 0;else if(c&&l){var s=c.value;c.value=l.value,l.value=s}},i},{isClass:!0});var YM=qo(function(t){return new t(1).exp()},{hasher:dp}),GM=qo(function(t){return new t(1).plus(new t(5).sqrt()).div(2)},{hasher:dp}),wl=qo(function(t){return t.acos(-1)},{hasher:dp}),WM=qo(function(t){return wl(t).times(2)},{hasher:dp});function dp(t){return t[0].precision}function ZM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function x0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZM(Object(r),!0).forEach(function(n){jr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var bH="Unit",wH=["?on","config","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],b0=M(bH,wH,t=>{var{on:e,config:r,addScalar:n,subtractScalar:i,multiplyScalar:a,divideScalar:o,pow:c,abs:l,fix:s,round:u,equal:f,isNumeric:p,format:m,number:v,Complex:d,BigNumber:g,Fraction:x}=t,A=v;function y(Y,j){if(!(this instanceof y))throw new Error("Constructor must be called with the new operator");if(!(Y==null||p(Y)||Hn(Y)))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(this.fixPrefix=!1,this.skipAutomaticSimplification=!0,j===void 0)this.units=[],this.dimensions=G.map(W=>0);else if(typeof j=="string"){var ue=y.parse(j);this.units=ue.units,this.dimensions=ue.dimensions}else if(vn(j)&&j.value===null)this.fixPrefix=j.fixPrefix,this.skipAutomaticSimplification=j.skipAutomaticSimplification,this.dimensions=j.dimensions.slice(0),this.units=j.units.map(W=>St({},W));else throw new TypeError("Second parameter in Unit constructor must be a string or valueless Unit");this.value=this._normalize(Y)}Object.defineProperty(y,"name",{value:"Unit"}),y.prototype.constructor=y,y.prototype.type="Unit",y.prototype.isUnit=!0;var w,S,b;function C(){for(;b===" "||b==="	";)E()}function _(Y){return Y>="0"&&Y<="9"||Y==="."}function N(Y){return Y>="0"&&Y<="9"}function E(){S++,b=w.charAt(S)}function I(Y){S=Y,b=w.charAt(S)}function B(){var Y="",j=S;if(b==="+"?E():b==="-"&&(Y+=b,E()),!_(b))return I(j),null;if(b==="."){if(Y+=b,E(),!N(b))return I(j),null}else{for(;N(b);)Y+=b,E();b==="."&&(Y+=b,E())}for(;N(b);)Y+=b,E();if(b==="E"||b==="e"){var ue="",W=S;if(ue+=b,E(),(b==="+"||b==="-")&&(ue+=b,E()),!N(b))return I(W),Y;for(Y=Y+ue;N(b);)Y+=b,E()}return Y}function L(){for(var Y="";N(b)||y.isValidAlpha(b);)Y+=b,E();var j=Y.charAt(0);return y.isValidAlpha(j)?Y:null}function z(Y){return b===Y?(E(),Y):null}y.parse=function(Y,j){if(j=j||{},w=Y,S=-1,b="",typeof w!="string")throw new TypeError("Invalid argument in Unit.parse, string expected");var ue=new y;ue.units=[];var W=1,J=!1;E(),C();var ee=B(),he=null;if(ee){if(r.number==="BigNumber")he=new g(ee);else if(r.number==="Fraction")try{he=new x(ee)}catch(fe){he=parseFloat(ee)}else he=parseFloat(ee);C(),z("*")?(W=1,J=!0):z("/")&&(W=-1,J=!0)}for(var ve=[],Re=1;;){for(C();b==="(";)ve.push(W),Re*=W,W=1,E(),C();var ye=void 0;if(b){var sr=b;if(ye=L(),ye===null)throw new SyntaxError('Unexpected "'+sr+'" in "'+w+'" at index '+S.toString())}else break;var pr=U(ye);if(pr===null)throw new SyntaxError('Unit "'+ye+'" not found.');var kr=W*Re;if(C(),z("^")){C();var or=B();if(or===null)throw new SyntaxError('In "'+Y+'", "^" must be followed by a floating-point number');kr*=or}ue.units.push({unit:pr.unit,prefix:pr.prefix,power:kr});for(var Z=0;Z<G.length;Z++)ue.dimensions[Z]+=(pr.unit.dimensions[Z]||0)*kr;for(C();b===")";){if(ve.length===0)throw new SyntaxError('Unmatched ")" in "'+w+'" at index '+S.toString());Re/=ve.pop(),E(),C()}if(J=!1,z("*")?(W=1,J=!0):z("/")?(W=-1,J=!0):W=1,pr.unit.base){var re=pr.unit.base.key;ae.auto[re]={unit:pr.unit,prefix:pr.prefix}}}if(C(),b)throw new SyntaxError('Could not parse: "'+Y+'"');if(J)throw new SyntaxError('Trailing characters: "'+Y+'"');if(ve.length!==0)throw new SyntaxError('Unmatched "(" in "'+w+'"');if(ue.units.length===0&&!j.allowNoUnits)throw new SyntaxError('"'+Y+'" contains no units');return ue.value=he!==void 0?ue._normalize(he):null,ue},y.prototype.clone=function(){var Y=new y;Y.fixPrefix=this.fixPrefix,Y.skipAutomaticSimplification=this.skipAutomaticSimplification,Y.value=Xe(this.value),Y.dimensions=this.dimensions.slice(0),Y.units=[];for(var j=0;j<this.units.length;j++){Y.units[j]={};for(var ue in this.units[j])Ye(this.units[j],ue)&&(Y.units[j][ue]=this.units[j][ue])}return Y},y.prototype.valueType=function(){return Cr(this.value)},y.prototype._isDerived=function(){return this.units.length===0?!1:this.units.length>1||Math.abs(this.units[0].power-1)>1e-15},y.prototype._normalize=function(Y){if(Y==null||this.units.length===0)return Y;for(var j=Y,ue=y._getNumberConverter(Cr(Y)),W=0;W<this.units.length;W++){var J=ue(this.units[W].unit.value),ee=ue(this.units[W].prefix.value),he=ue(this.units[W].power);j=a(j,c(a(J,ee),he))}return j},y.prototype._denormalize=function(Y,j){if(Y==null||this.units.length===0)return Y;for(var ue=Y,W=y._getNumberConverter(Cr(Y)),J=0;J<this.units.length;J++){var ee=W(this.units[J].unit.value),he=W(this.units[J].prefix.value),ve=W(this.units[J].power);ue=o(ue,c(a(ee,he),ve))}return ue};var U=qo(Y=>{if(Ye(q,Y)){var j=q[Y],ue=j.prefixes[""];return{unit:j,prefix:ue}}for(var W in q)if(Ye(q,W)&&zN(Y,W)){var J=q[W],ee=Y.length-W.length,he=Y.substring(0,ee),ve=Ye(J.prefixes,he)?J.prefixes[he]:void 0;if(ve!==void 0)return{unit:J,prefix:ve}}return null},{hasher:Y=>Y[0],limit:100});y.isValuelessUnit=function(Y){return U(Y)!==null},y.prototype.hasBase=function(Y){if(typeof Y=="string"&&(Y=k[Y]),!Y)return!1;for(var j=0;j<G.length;j++)if(Math.abs((this.dimensions[j]||0)-(Y.dimensions[j]||0))>1e-12)return!1;return!0},y.prototype.equalBase=function(Y){for(var j=0;j<G.length;j++)if(Math.abs((this.dimensions[j]||0)-(Y.dimensions[j]||0))>1e-12)return!1;return!0},y.prototype.equals=function(Y){return this.equalBase(Y)&&f(this.value,Y.value)},y.prototype.multiply=function(Y){for(var j=this.clone(),ue=vn(Y)?Y:new y(Y),W=0;W<G.length;W++)j.dimensions[W]=(this.dimensions[W]||0)+(ue.dimensions[W]||0);for(var J=0;J<ue.units.length;J++){var ee=x0({},ue.units[J]);j.units.push(ee)}if(this.value!==null||ue.value!==null){var he=this.value===null?this._normalize(1):this.value,ve=ue.value===null?ue._normalize(1):ue.value;j.value=a(he,ve)}else j.value=null;return vn(Y)&&(j.skipAutomaticSimplification=!1),R(j)},y.prototype.divideInto=function(Y){return new y(Y).divide(this)},y.prototype.divide=function(Y){for(var j=this.clone(),ue=vn(Y)?Y:new y(Y),W=0;W<G.length;W++)j.dimensions[W]=(this.dimensions[W]||0)-(ue.dimensions[W]||0);for(var J=0;J<ue.units.length;J++){var ee=x0(x0({},ue.units[J]),{},{power:-ue.units[J].power});j.units.push(ee)}if(this.value!==null||ue.value!==null){var he=this.value===null?this._normalize(1):this.value,ve=ue.value===null?ue._normalize(1):ue.value;j.value=o(he,ve)}else j.value=null;return vn(Y)&&(j.skipAutomaticSimplification=!1),R(j)},y.prototype.pow=function(Y){for(var j=this.clone(),ue=0;ue<G.length;ue++)j.dimensions[ue]=(this.dimensions[ue]||0)*Y;for(var W=0;W<j.units.length;W++)j.units[W].power*=Y;return j.value!==null?j.value=c(j.value,Y):j.value=null,j.skipAutomaticSimplification=!1,R(j)};function R(Y){return Y.equalBase(k.NONE)&&Y.value!==null&&!r.predictable?Y.value:Y}y.prototype.abs=function(){var Y=this.clone();if(Y.value!==null)if(Y._isDerived()||Y.units.length===0||Y.units[0].unit.offset===0)Y.value=l(Y.value);else{var j=Y._numberConverter(),ue=j(Y.units[0].unit.value),W=j(Y.units[0].unit.offset),J=a(ue,W);Y.value=i(l(n(Y.value,J)),J)}for(var ee in Y.units)(Y.units[ee].unit.name==="VA"||Y.units[ee].unit.name==="VAR")&&(Y.units[ee].unit=q.W);return Y},y.prototype.to=function(Y){var j=this.value===null?this._normalize(1):this.value,ue;if(typeof Y=="string")ue=y.parse(Y);else if(vn(Y))ue=Y.clone();else throw new Error("String or Unit expected as parameter");if(!this.equalBase(ue))throw new Error("Units do not match ('".concat(ue.toString(),"' != '").concat(this.toString(),"')"));if(ue.value!==null)throw new Error("Cannot convert to a unit with a value");if(this.value===null||this._isDerived()||this.units.length===0||ue.units.length===0||this.units[0].unit.offset===ue.units[0].unit.offset)ue.value=Xe(j);else{var W=y._getNumberConverter(Cr(j)),J=this.units[0].unit.value,ee=this.units[0].unit.offset,he=a(J,ee),ve=ue.units[0].unit.value,Re=ue.units[0].unit.offset,ye=a(ve,Re);ue.value=n(j,W(i(he,ye)))}return ue.fixPrefix=!0,ue.skipAutomaticSimplification=!0,ue},y.prototype.toNumber=function(Y){return A(this.toNumeric(Y))},y.prototype.toNumeric=function(Y){var j;return Y?j=this.to(Y):j=this.clone(),j._isDerived()||j.units.length===0?j._denormalize(j.value):j._denormalize(j.value,j.units[0].prefix.value)},y.prototype.toString=function(){return this.format()},y.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},y.fromJSON=function(Y){var j=new y(Y.value,Y.unit);return j.fixPrefix=Y.fixPrefix||!1,j},y.prototype.valueOf=y.prototype.toString,y.prototype.simplify=function(){var Y=this.clone(),j=[],ue;for(var W in se)if(Ye(se,W)&&Y.hasBase(k[W])){ue=W;break}if(ue==="NONE")Y.units=[];else{var J;if(ue&&Ye(se,ue)&&(J=se[ue]),J)Y.units=[{unit:J.unit,prefix:J.prefix,power:1}];else{for(var ee=!1,he=0;he<G.length;he++){var ve=G[he];Math.abs(Y.dimensions[he]||0)>1e-12&&(Ye(se,ve)?j.push({unit:se[ve].unit,prefix:se[ve].prefix,power:Y.dimensions[he]||0}):ee=!0)}j.length<Y.units.length&&!ee&&(Y.units=j)}}return Y},y.prototype.toSI=function(){for(var Y=this.clone(),j=[],ue=0;ue<G.length;ue++){var W=G[ue];if(Math.abs(Y.dimensions[ue]||0)>1e-12)if(Ye(ae.si,W))j.push({unit:ae.si[W].unit,prefix:ae.si[W].prefix,power:Y.dimensions[ue]||0});else throw new Error("Cannot express custom unit "+W+" in SI units")}return Y.units=j,Y.fixPrefix=!0,Y.skipAutomaticSimplification=!0,this.value!==null?(Y.value=null,this.to(Y)):Y},y.prototype.formatUnits=function(){for(var Y="",j="",ue=0,W=0,J=0;J<this.units.length;J++)this.units[J].power>0?(ue++,Y+=" "+this.units[J].prefix.name+this.units[J].unit.name,Math.abs(this.units[J].power-1)>1e-15&&(Y+="^"+this.units[J].power)):this.units[J].power<0&&W++;if(W>0)for(var ee=0;ee<this.units.length;ee++)this.units[ee].power<0&&(ue>0?(j+=" "+this.units[ee].prefix.name+this.units[ee].unit.name,Math.abs(this.units[ee].power+1)>1e-15&&(j+="^"+-this.units[ee].power)):(j+=" "+this.units[ee].prefix.name+this.units[ee].unit.name,j+="^"+this.units[ee].power));Y=Y.substr(1),j=j.substr(1),ue>1&&W>0&&(Y="("+Y+")"),W>1&&ue>0&&(j="("+j+")");var he=Y;return ue>0&&W>0&&(he+=" / "),he+=j,he},y.prototype.format=function(Y){var j=this.skipAutomaticSimplification||this.value===null?this.clone():this.simplify(),ue=!1;typeof j.value!="undefined"&&j.value!==null&&Hn(j.value)&&(ue=Math.abs(j.value.re)<1e-14);for(var W in j.units)Ye(j.units,W)&&j.units[W].unit&&(j.units[W].unit.name==="VA"&&ue?j.units[W].unit=q.VAR:j.units[W].unit.name==="VAR"&&!ue&&(j.units[W].unit=q.VA));j.units.length===1&&!j.fixPrefix&&Math.abs(j.units[0].power-Math.round(j.units[0].power))<1e-14&&(j.units[0].prefix=j._bestPrefix());var J=j._denormalize(j.value),ee=j.value!==null?m(J,Y||{}):"",he=j.formatUnits();return j.value&&Hn(j.value)&&(ee="("+ee+")"),he.length>0&&ee.length>0&&(ee+=" "),ee+=he,ee},y.prototype._bestPrefix=function(){if(this.units.length!==1)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var Y=this.value!==null?l(this.value):0,j=l(this.units[0].unit.value),ue=this.units[0].prefix;if(Y===0)return ue;var W=this.units[0].power,J=Math.log(Y/Math.pow(ue.value*j,W))/Math.LN10-1.2;if(J>-2.200001&&J<1.800001)return ue;J=Math.abs(J);var ee=this.units[0].unit.prefixes;for(var he in ee)if(Ye(ee,he)){var ve=ee[he];if(ve.scientific){var Re=Math.abs(Math.log(Y/Math.pow(ve.value*j,W))/Math.LN10-1.2);(Re<J||Re===J&&ve.name.length<ue.name.length)&&(ue=ve,J=Re)}}return ue},y.prototype.splitUnit=function(Y){for(var j=this.clone(),ue=[],W=0;W<Y.length&&(j=j.to(Y[W]),W!==Y.length-1);W++){var J=j.toNumeric(),ee=u(J),he=void 0,ve=f(ee,J);ve?he=ee:he=s(j.toNumeric());var Re=new y(he,Y[W].toString());ue.push(Re),j=i(j,Re)}for(var ye=0,sr=0;sr<ue.length;sr++)ye=n(ye,ue[sr].value);return f(ye,this.value)&&(j.value=0),ue.push(j),ue};var O={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},R:{name:"R",value:1e27,scientific:!0},Q:{name:"Q",value:1e30,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0},r:{name:"r",value:1e-27,scientific:!0},q:{name:"q",value:1e-30,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},ronna:{name:"ronna",value:1e27,scientific:!0},quetta:{name:"quetta",value:1e30,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0},ronto:{name:"ronto",value:1e-27,scientific:!0},quecto:{name:"quecto",value:1e-30,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},R:{name:"R",value:1e54,scientific:!0},Q:{name:"Q",value:1e60,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0},r:{name:"r",value:1e-54,scientific:!0},q:{name:"q",value:1e-60,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},R:{name:"R",value:1e81,scientific:!0},Q:{name:"Q",value:1e90,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0},r:{name:"r",value:1e-81,scientific:!0},q:{name:"q",value:1e-90,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};O.SHORTLONG=St({},O.SHORT,O.LONG),O.BINARY_SHORT=St({},O.BINARY_SHORT_SI,O.BINARY_SHORT_IEC),O.BINARY_LONG=St({},O.BINARY_LONG_SI,O.BINARY_LONG_IEC);var G=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],k={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var Q in k)Ye(k,Q)&&(k[Q].key=Q);var te={},X={name:"",base:te,value:1,offset:0,dimensions:G.map(Y=>0)},q={meter:{name:"meter",base:k.LENGTH,prefixes:O.LONG,value:1,offset:0},inch:{name:"inch",base:k.LENGTH,prefixes:O.NONE,value:.0254,offset:0},foot:{name:"foot",base:k.LENGTH,prefixes:O.NONE,value:.3048,offset:0},yard:{name:"yard",base:k.LENGTH,prefixes:O.NONE,value:.9144,offset:0},mile:{name:"mile",base:k.LENGTH,prefixes:O.NONE,value:1609.344,offset:0},link:{name:"link",base:k.LENGTH,prefixes:O.NONE,value:.201168,offset:0},rod:{name:"rod",base:k.LENGTH,prefixes:O.NONE,value:5.0292,offset:0},chain:{name:"chain",base:k.LENGTH,prefixes:O.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:k.LENGTH,prefixes:O.NONE,value:1e-10,offset:0},m:{name:"m",base:k.LENGTH,prefixes:O.SHORT,value:1,offset:0},in:{name:"in",base:k.LENGTH,prefixes:O.NONE,value:.0254,offset:0},ft:{name:"ft",base:k.LENGTH,prefixes:O.NONE,value:.3048,offset:0},yd:{name:"yd",base:k.LENGTH,prefixes:O.NONE,value:.9144,offset:0},mi:{name:"mi",base:k.LENGTH,prefixes:O.NONE,value:1609.344,offset:0},li:{name:"li",base:k.LENGTH,prefixes:O.NONE,value:.201168,offset:0},rd:{name:"rd",base:k.LENGTH,prefixes:O.NONE,value:5.02921,offset:0},ch:{name:"ch",base:k.LENGTH,prefixes:O.NONE,value:20.1168,offset:0},mil:{name:"mil",base:k.LENGTH,prefixes:O.NONE,value:254e-7,offset:0},m2:{name:"m2",base:k.SURFACE,prefixes:O.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:k.SURFACE,prefixes:O.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:k.SURFACE,prefixes:O.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:k.SURFACE,prefixes:O.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:k.SURFACE,prefixes:O.NONE,value:2589988110336e-6,offset:0},sqrd:{name:"sqrd",base:k.SURFACE,prefixes:O.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:k.SURFACE,prefixes:O.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:k.SURFACE,prefixes:O.NONE,value:64516e-14,offset:0},acre:{name:"acre",base:k.SURFACE,prefixes:O.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:k.SURFACE,prefixes:O.NONE,value:1e4,offset:0},m3:{name:"m3",base:k.VOLUME,prefixes:O.CUBIC,value:1,offset:0},L:{name:"L",base:k.VOLUME,prefixes:O.SHORT,value:.001,offset:0},l:{name:"l",base:k.VOLUME,prefixes:O.SHORT,value:.001,offset:0},litre:{name:"litre",base:k.VOLUME,prefixes:O.LONG,value:.001,offset:0},cuin:{name:"cuin",base:k.VOLUME,prefixes:O.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:k.VOLUME,prefixes:O.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:k.VOLUME,prefixes:O.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:k.VOLUME,prefixes:O.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:k.VOLUME,prefixes:O.NONE,value:15e-6,offset:0},drop:{name:"drop",base:k.VOLUME,prefixes:O.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:k.VOLUME,prefixes:O.NONE,value:5e-8,offset:0},minim:{name:"minim",base:k.VOLUME,prefixes:O.NONE,value:6161152e-14,offset:0},fluiddram:{name:"fluiddram",base:k.VOLUME,prefixes:O.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:k.VOLUME,prefixes:O.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:k.VOLUME,prefixes:O.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:k.VOLUME,prefixes:O.NONE,value:1e-6,offset:0},cup:{name:"cup",base:k.VOLUME,prefixes:O.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:k.VOLUME,prefixes:O.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:k.VOLUME,prefixes:O.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:k.VOLUME,prefixes:O.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:k.VOLUME,prefixes:O.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:k.VOLUME,prefixes:O.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:k.VOLUME,prefixes:O.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:k.VOLUME,prefixes:O.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:k.VOLUME,prefixes:O.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:k.VOLUME,prefixes:O.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:k.VOLUME,prefixes:O.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:k.VOLUME,prefixes:O.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:k.VOLUME,prefixes:O.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:k.VOLUME,prefixes:O.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:k.VOLUME,prefixes:O.NONE,value:.1173478,offset:0},obl:{name:"obl",base:k.VOLUME,prefixes:O.NONE,value:.1589873,offset:0},g:{name:"g",base:k.MASS,prefixes:O.SHORT,value:.001,offset:0},gram:{name:"gram",base:k.MASS,prefixes:O.LONG,value:.001,offset:0},ton:{name:"ton",base:k.MASS,prefixes:O.SHORT,value:907.18474,offset:0},t:{name:"t",base:k.MASS,prefixes:O.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:k.MASS,prefixes:O.LONG,value:1e3,offset:0},grain:{name:"grain",base:k.MASS,prefixes:O.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:k.MASS,prefixes:O.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:k.MASS,prefixes:O.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:k.MASS,prefixes:O.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:k.MASS,prefixes:O.NONE,value:45.359237,offset:0},stick:{name:"stick",base:k.MASS,prefixes:O.NONE,value:.115,offset:0},stone:{name:"stone",base:k.MASS,prefixes:O.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:k.MASS,prefixes:O.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:k.MASS,prefixes:O.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:k.MASS,prefixes:O.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:k.MASS,prefixes:O.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:k.MASS,prefixes:O.NONE,value:45.359237,offset:0},s:{name:"s",base:k.TIME,prefixes:O.SHORT,value:1,offset:0},min:{name:"min",base:k.TIME,prefixes:O.NONE,value:60,offset:0},h:{name:"h",base:k.TIME,prefixes:O.NONE,value:3600,offset:0},second:{name:"second",base:k.TIME,prefixes:O.LONG,value:1,offset:0},sec:{name:"sec",base:k.TIME,prefixes:O.LONG,value:1,offset:0},minute:{name:"minute",base:k.TIME,prefixes:O.NONE,value:60,offset:0},hour:{name:"hour",base:k.TIME,prefixes:O.NONE,value:3600,offset:0},day:{name:"day",base:k.TIME,prefixes:O.NONE,value:86400,offset:0},week:{name:"week",base:k.TIME,prefixes:O.NONE,value:7*86400,offset:0},month:{name:"month",base:k.TIME,prefixes:O.NONE,value:2629800,offset:0},year:{name:"year",base:k.TIME,prefixes:O.NONE,value:31557600,offset:0},decade:{name:"decade",base:k.TIME,prefixes:O.NONE,value:315576e3,offset:0},century:{name:"century",base:k.TIME,prefixes:O.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:k.TIME,prefixes:O.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:k.FREQUENCY,prefixes:O.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:k.FREQUENCY,prefixes:O.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:k.ANGLE,prefixes:O.SHORT,value:1,offset:0},radian:{name:"radian",base:k.ANGLE,prefixes:O.LONG,value:1,offset:0},deg:{name:"deg",base:k.ANGLE,prefixes:O.SHORT,value:null,offset:0},degree:{name:"degree",base:k.ANGLE,prefixes:O.LONG,value:null,offset:0},grad:{name:"grad",base:k.ANGLE,prefixes:O.SHORT,value:null,offset:0},gradian:{name:"gradian",base:k.ANGLE,prefixes:O.LONG,value:null,offset:0},cycle:{name:"cycle",base:k.ANGLE,prefixes:O.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:k.ANGLE,prefixes:O.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:k.ANGLE,prefixes:O.NONE,value:null,offset:0},A:{name:"A",base:k.CURRENT,prefixes:O.SHORT,value:1,offset:0},ampere:{name:"ampere",base:k.CURRENT,prefixes:O.LONG,value:1,offset:0},K:{name:"K",base:k.TEMPERATURE,prefixes:O.SHORT,value:1,offset:0},degC:{name:"degC",base:k.TEMPERATURE,prefixes:O.SHORT,value:1,offset:273.15},degF:{name:"degF",base:k.TEMPERATURE,prefixes:O.SHORT,value:new x(5,9),offset:459.67},degR:{name:"degR",base:k.TEMPERATURE,prefixes:O.SHORT,value:new x(5,9),offset:0},kelvin:{name:"kelvin",base:k.TEMPERATURE,prefixes:O.LONG,value:1,offset:0},celsius:{name:"celsius",base:k.TEMPERATURE,prefixes:O.LONG,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:k.TEMPERATURE,prefixes:O.LONG,value:new x(5,9),offset:459.67},rankine:{name:"rankine",base:k.TEMPERATURE,prefixes:O.LONG,value:new x(5,9),offset:0},mol:{name:"mol",base:k.AMOUNT_OF_SUBSTANCE,prefixes:O.SHORT,value:1,offset:0},mole:{name:"mole",base:k.AMOUNT_OF_SUBSTANCE,prefixes:O.LONG,value:1,offset:0},cd:{name:"cd",base:k.LUMINOUS_INTENSITY,prefixes:O.SHORT,value:1,offset:0},candela:{name:"candela",base:k.LUMINOUS_INTENSITY,prefixes:O.LONG,value:1,offset:0},N:{name:"N",base:k.FORCE,prefixes:O.SHORT,value:1,offset:0},newton:{name:"newton",base:k.FORCE,prefixes:O.LONG,value:1,offset:0},dyn:{name:"dyn",base:k.FORCE,prefixes:O.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:k.FORCE,prefixes:O.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:k.FORCE,prefixes:O.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:k.FORCE,prefixes:O.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:k.FORCE,prefixes:O.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:k.FORCE,prefixes:O.NONE,value:9.80665,offset:0},J:{name:"J",base:k.ENERGY,prefixes:O.SHORT,value:1,offset:0},joule:{name:"joule",base:k.ENERGY,prefixes:O.LONG,value:1,offset:0},erg:{name:"erg",base:k.ENERGY,prefixes:O.SHORTLONG,value:1e-7,offset:0},Wh:{name:"Wh",base:k.ENERGY,prefixes:O.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:k.ENERGY,prefixes:O.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:k.ENERGY,prefixes:O.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:k.ENERGY,prefixes:O.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:k.POWER,prefixes:O.SHORT,value:1,offset:0},watt:{name:"watt",base:k.POWER,prefixes:O.LONG,value:1,offset:0},hp:{name:"hp",base:k.POWER,prefixes:O.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:k.POWER,prefixes:O.SHORT,value:d.I,offset:0},VA:{name:"VA",base:k.POWER,prefixes:O.SHORT,value:1,offset:0},Pa:{name:"Pa",base:k.PRESSURE,prefixes:O.SHORT,value:1,offset:0},psi:{name:"psi",base:k.PRESSURE,prefixes:O.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:k.PRESSURE,prefixes:O.NONE,value:101325,offset:0},bar:{name:"bar",base:k.PRESSURE,prefixes:O.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:k.PRESSURE,prefixes:O.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:k.PRESSURE,prefixes:O.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:k.PRESSURE,prefixes:O.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:k.PRESSURE,prefixes:O.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:k.ELECTRIC_CHARGE,prefixes:O.LONG,value:1,offset:0},C:{name:"C",base:k.ELECTRIC_CHARGE,prefixes:O.SHORT,value:1,offset:0},farad:{name:"farad",base:k.ELECTRIC_CAPACITANCE,prefixes:O.LONG,value:1,offset:0},F:{name:"F",base:k.ELECTRIC_CAPACITANCE,prefixes:O.SHORT,value:1,offset:0},volt:{name:"volt",base:k.ELECTRIC_POTENTIAL,prefixes:O.LONG,value:1,offset:0},V:{name:"V",base:k.ELECTRIC_POTENTIAL,prefixes:O.SHORT,value:1,offset:0},ohm:{name:"ohm",base:k.ELECTRIC_RESISTANCE,prefixes:O.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:k.ELECTRIC_INDUCTANCE,prefixes:O.LONG,value:1,offset:0},H:{name:"H",base:k.ELECTRIC_INDUCTANCE,prefixes:O.SHORT,value:1,offset:0},siemens:{name:"siemens",base:k.ELECTRIC_CONDUCTANCE,prefixes:O.LONG,value:1,offset:0},S:{name:"S",base:k.ELECTRIC_CONDUCTANCE,prefixes:O.SHORT,value:1,offset:0},weber:{name:"weber",base:k.MAGNETIC_FLUX,prefixes:O.LONG,value:1,offset:0},Wb:{name:"Wb",base:k.MAGNETIC_FLUX,prefixes:O.SHORT,value:1,offset:0},tesla:{name:"tesla",base:k.MAGNETIC_FLUX_DENSITY,prefixes:O.LONG,value:1,offset:0},T:{name:"T",base:k.MAGNETIC_FLUX_DENSITY,prefixes:O.SHORT,value:1,offset:0},b:{name:"b",base:k.BIT,prefixes:O.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:k.BIT,prefixes:O.BINARY_LONG,value:1,offset:0},B:{name:"B",base:k.BIT,prefixes:O.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:k.BIT,prefixes:O.BINARY_LONG,value:8,offset:0}},ne={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",amps:"ampere",amp:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function de(Y){if(Y.number==="BigNumber"){var j=wl(g);q.rad.value=new g(1),q.deg.value=j.div(180),q.grad.value=j.div(200),q.cycle.value=j.times(2),q.arcsec.value=j.div(648e3),q.arcmin.value=j.div(10800)}else q.rad.value=1,q.deg.value=Math.PI/180,q.grad.value=Math.PI/200,q.cycle.value=Math.PI*2,q.arcsec.value=Math.PI/648e3,q.arcmin.value=Math.PI/10800;q.radian.value=q.rad.value,q.degree.value=q.deg.value,q.gradian.value=q.grad.value}de(r),e&&e("config",function(Y,j){Y.number!==j.number&&de(Y)});var ae={si:{NONE:{unit:X,prefix:O.NONE[""]},LENGTH:{unit:q.m,prefix:O.SHORT[""]},MASS:{unit:q.g,prefix:O.SHORT.k},TIME:{unit:q.s,prefix:O.SHORT[""]},CURRENT:{unit:q.A,prefix:O.SHORT[""]},TEMPERATURE:{unit:q.K,prefix:O.SHORT[""]},LUMINOUS_INTENSITY:{unit:q.cd,prefix:O.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:q.mol,prefix:O.SHORT[""]},ANGLE:{unit:q.rad,prefix:O.SHORT[""]},BIT:{unit:q.bits,prefix:O.SHORT[""]},FORCE:{unit:q.N,prefix:O.SHORT[""]},ENERGY:{unit:q.J,prefix:O.SHORT[""]},POWER:{unit:q.W,prefix:O.SHORT[""]},PRESSURE:{unit:q.Pa,prefix:O.SHORT[""]},ELECTRIC_CHARGE:{unit:q.C,prefix:O.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:q.F,prefix:O.SHORT[""]},ELECTRIC_POTENTIAL:{unit:q.V,prefix:O.SHORT[""]},ELECTRIC_RESISTANCE:{unit:q.ohm,prefix:O.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:q.H,prefix:O.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:q.S,prefix:O.SHORT[""]},MAGNETIC_FLUX:{unit:q.Wb,prefix:O.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:q.T,prefix:O.SHORT[""]},FREQUENCY:{unit:q.Hz,prefix:O.SHORT[""]}}};ae.cgs=JSON.parse(JSON.stringify(ae.si)),ae.cgs.LENGTH={unit:q.m,prefix:O.SHORT.c},ae.cgs.MASS={unit:q.g,prefix:O.SHORT[""]},ae.cgs.FORCE={unit:q.dyn,prefix:O.SHORT[""]},ae.cgs.ENERGY={unit:q.erg,prefix:O.NONE[""]},ae.us=JSON.parse(JSON.stringify(ae.si)),ae.us.LENGTH={unit:q.ft,prefix:O.NONE[""]},ae.us.MASS={unit:q.lbm,prefix:O.NONE[""]},ae.us.TEMPERATURE={unit:q.degF,prefix:O.NONE[""]},ae.us.FORCE={unit:q.lbf,prefix:O.NONE[""]},ae.us.ENERGY={unit:q.BTU,prefix:O.BTU[""]},ae.us.POWER={unit:q.hp,prefix:O.NONE[""]},ae.us.PRESSURE={unit:q.psi,prefix:O.NONE[""]},ae.auto=JSON.parse(JSON.stringify(ae.si));var se=ae.auto;y.setUnitSystem=function(Y){if(Ye(ae,Y))se=ae[Y];else throw new Error("Unit system "+Y+" does not exist. Choices are: "+Object.keys(ae).join(", "))},y.getUnitSystem=function(){for(var Y in ae)if(Ye(ae,Y)&&ae[Y]===se)return Y},y.typeConverters={BigNumber:function(j){return j!=null&&j.isFraction?new g(j.n).div(j.d).times(j.s):new g(j+"")},Fraction:function(j){return new x(j)},Complex:function(j){return j},number:function(j){return j!=null&&j.isFraction?v(j):j}},y.prototype._numberConverter=function(){var Y=y.typeConverters[this.valueType()];if(Y)return Y;throw new TypeError('Unsupported Unit value type "'+this.valueType()+'"')},y._getNumberConverter=function(Y){if(!y.typeConverters[Y])throw new TypeError('Unsupported type "'+Y+'"');return y.typeConverters[Y]};for(var me in q)if(Ye(q,me)){var le=q[me];le.dimensions=le.base.dimensions}for(var ce in ne)if(Ye(ne,ce)){var pe=q[ne[ce]],xe={};for(var Fe in pe)Ye(pe,Fe)&&(xe[Fe]=pe[Fe]);xe.name=ce,q[ce]=xe}y.isValidAlpha=function(j){return/^[a-zA-Z]$/.test(j)};function He(Y){for(var j=0;j<Y.length;j++){if(b=Y.charAt(j),j===0&&!y.isValidAlpha(b))throw new Error('Invalid unit name (must begin with alpha character): "'+Y+'"');if(j>0&&!(y.isValidAlpha(b)||N(b)))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+Y+'"')}}return y.createUnit=function(Y,j){if(typeof Y!="object")throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(j&&j.override){for(var ue in Y)if(Ye(Y,ue)&&y.deleteUnit(ue),Y[ue].aliases)for(var W=0;W<Y[ue].aliases.length;W++)y.deleteUnit(Y[ue].aliases[W])}var J;for(var ee in Y)Ye(Y,ee)&&(J=y.createUnitSingle(ee,Y[ee]));return J},y.createUnitSingle=function(Y,j){if((typeof j=="undefined"||j===null)&&(j={}),typeof Y!="string")throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(Ye(q,Y))throw new Error('Cannot create unit "'+Y+'": a unit with that name already exists');He(Y);var ue=null,W=[],J=0,ee,he,ve;if(j&&j.type==="Unit")ue=j.clone();else if(typeof j=="string")j!==""&&(ee=j);else if(typeof j=="object")ee=j.definition,he=j.prefixes,J=j.offset,ve=j.baseName,j.aliases&&(W=j.aliases.valueOf());else throw new TypeError('Cannot create unit "'+Y+'" from "'+j.toString()+'": expecting "string" or "Unit" or "Object"');if(W){for(var Re=0;Re<W.length;Re++)if(Ye(q,W[Re]))throw new Error('Cannot create alias "'+W[Re]+'": a unit with that name already exists')}if(ee&&typeof ee=="string"&&!ue)try{ue=y.parse(ee,{allowNoUnits:!0})}catch(F){throw F.message='Could not create unit "'+Y+'" from "'+ee+'": '+F.message,F}else ee&&ee.type==="Unit"&&(ue=ee.clone());W=W||[],J=J||0,he&&he.toUpperCase?he=O[he.toUpperCase()]||O.NONE:he=O.NONE;var ye={};if(ue){ye={name:Y,value:ue.value,dimensions:ue.dimensions.slice(0),prefixes:he,offset:J};var or=!1;for(var Z in k)if(Ye(k,Z)){for(var re=!0,fe=0;fe<G.length;fe++)if(Math.abs((ye.dimensions[fe]||0)-(k[Z].dimensions[fe]||0))>1e-12){re=!1;break}if(re){or=!0,ye.base=k[Z];break}}if(!or){ve=ve||Y+"_STUFF";var Se={dimensions:ue.dimensions.slice(0)};Se.key=ve,k[ve]=Se,se[ve]={unit:ye,prefix:O.NONE[""]},ye.base=k[ve]}}else{if(ve=ve||Y+"_STUFF",G.indexOf(ve)>=0)throw new Error('Cannot create new base unit "'+Y+'": a base unit with that name already exists (and cannot be overridden)');G.push(ve);for(var sr in k)Ye(k,sr)&&(k[sr].dimensions[G.length-1]=0);for(var pr={dimensions:[]},kr=0;kr<G.length;kr++)pr.dimensions[kr]=0;pr.dimensions[G.length-1]=1,pr.key=ve,k[ve]=pr,ye={name:Y,value:1,dimensions:k[ve].dimensions.slice(0),prefixes:he,offset:J,base:k[ve]},se[ve]={unit:ye,prefix:O.NONE[""]}}y.UNITS[Y]=ye;for(var _e=0;_e<W.length;_e++){var be=W[_e],Ne={};for(var Ie in ye)Ye(ye,Ie)&&(Ne[Ie]=ye[Ie]);Ne.name=be,y.UNITS[be]=Ne}return delete U.cache,new y(null,Y)},y.deleteUnit=function(Y){delete y.UNITS[Y]},y.PREFIXES=O,y.BASE_DIMENSIONS=G,y.BASE_UNITS=k,y.UNIT_SYSTEMS=ae,y.UNITS=q,y},{isClass:!0});var jM="unit",DH=["typed","Unit"],w0=M(jM,DH,t=>{var{typed:e,Unit:r}=t;return e(jM,{Unit:function(i){return i.clone()},string:function(i){return r.isValuelessUnit(i)?new r(null,i):r.parse(i,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string | Unit":function(i,a){return new r(i,a)},"number | BigNumber | Fraction":function(i){return new r(i)},"Array | Matrix":e.referToSelf(n=>i=>Ge(i,n))})});var $M="sparse",SH=["typed","SparseMatrix"],D0=M($M,SH,t=>{var{typed:e,SparseMatrix:r}=t;return e($M,{"":function(){return new r([])},string:function(i){return new r([],i)},"Array | Matrix":function(i){return new r(i)},"Array | Matrix, string":function(i,a){return new r(i,a)}})});var JM="createUnit",AH=["typed","Unit"],S0=M(JM,AH,t=>{var{typed:e,Unit:r}=t;return e(JM,{"Object, Object":function(i,a){return r.createUnit(i,a)},Object:function(i){return r.createUnit(i,{})},"string, Unit | string | Object, Object":function(i,a,o){var c={};return c[i]=a,r.createUnit(c,o)},"string, Unit | string | Object":function(i,a){var o={};return o[i]=a,r.createUnit(o,{})},string:function(i){var a={};return a[i]={},r.createUnit(a,{})}})});var XM="acos",NH=["typed","config","Complex"],A0=M(XM,NH,t=>{var{typed:e,config:r,Complex:n}=t;return e(XM,{number:function(a){return a>=-1&&a<=1||r.predictable?Math.acos(a):new n(a,0).acos()},Complex:function(a){return a.acos()},BigNumber:function(a){return a.acos()}})});var QM="acosh",_H=["typed","config","Complex"],N0=M(QM,_H,t=>{var{typed:e,config:r,Complex:n}=t;return e(QM,{number:function(a){return a>=1||r.predictable?Pv(a):a<=-1?new n(Math.log(Math.sqrt(a*a-1)-a),Math.PI):new n(a,0).acosh()},Complex:function(a){return a.acosh()},BigNumber:function(a){return a.acosh()}})});var KM="acot",EH=["typed","BigNumber"],_0=M(KM,EH,t=>{var{typed:e,BigNumber:r}=t;return e(KM,{number:Rv,Complex:function(i){return i.acot()},BigNumber:function(i){return new r(1).div(i).atan()}})});var eC="acoth",MH=["typed","config","Complex","BigNumber"],E0=M(eC,MH,t=>{var{typed:e,config:r,Complex:n,BigNumber:i}=t;return e(eC,{number:function(o){return o>=1||o<=-1||r.predictable?kv(o):new n(o,0).acoth()},Complex:function(o){return o.acoth()},BigNumber:function(o){return new i(1).div(o).atanh()}})});var rC="acsc",CH=["typed","config","Complex","BigNumber"],M0=M(rC,CH,t=>{var{typed:e,config:r,Complex:n,BigNumber:i}=t;return e(rC,{number:function(o){return o<=-1||o>=1||r.predictable?Lv(o):new n(o,0).acsc()},Complex:function(o){return o.acsc()},BigNumber:function(o){return new i(1).div(o).asin()}})});var tC="acsch",TH=["typed","BigNumber"],C0=M(tC,TH,t=>{var{typed:e,BigNumber:r}=t;return e(tC,{number:Uv,Complex:function(i){return i.acsch()},BigNumber:function(i){return new r(1).div(i).asinh()}})});var nC="asec",FH=["typed","config","Complex","BigNumber"],T0=M(nC,FH,t=>{var{typed:e,config:r,Complex:n,BigNumber:i}=t;return e(nC,{number:function(o){return o<=-1||o>=1||r.predictable?qv(o):new n(o,0).asec()},Complex:function(o){return o.asec()},BigNumber:function(o){return new i(1).div(o).acos()}})});var iC="asech",IH=["typed","config","Complex","BigNumber"],F0=M(iC,IH,t=>{var{typed:e,config:r,Complex:n,BigNumber:i}=t;return e(iC,{number:function(o){if(o<=1&&o>=-1||r.predictable){var c=1/o;if(c>0||r.predictable)return Vv(o);var l=Math.sqrt(c*c-1);return new n(Math.log(l-c),Math.PI)}return new n(o,0).asech()},Complex:function(o){return o.asech()},BigNumber:function(o){return new i(1).div(o).acosh()}})});var aC="asin",OH=["typed","config","Complex"],I0=M(aC,OH,t=>{var{typed:e,config:r,Complex:n}=t;return e(aC,{number:function(a){return a>=-1&&a<=1||r.predictable?Math.asin(a):new n(a,0).asin()},Complex:function(a){return a.asin()},BigNumber:function(a){return a.asin()}})});var BH="asinh",PH=["typed"],O0=M(BH,PH,t=>{var{typed:e}=t;return e("asinh",{number:zv,Complex:function(n){return n.asinh()},BigNumber:function(n){return n.asinh()}})});var RH="atan",kH=["typed"],B0=M(RH,kH,t=>{var{typed:e}=t;return e("atan",{number:function(n){return Math.atan(n)},Complex:function(n){return n.atan()},BigNumber:function(n){return n.atan()}})});var oC="atan2",LH=["typed","matrix","equalScalar","BigNumber","DenseMatrix","concat"],P0=M(oC,LH,t=>{var{typed:e,matrix:r,equalScalar:n,BigNumber:i,DenseMatrix:a,concat:o}=t,c=Yt({typed:e,equalScalar:n}),l=dt({typed:e}),s=tp({typed:e,equalScalar:n}),u=nt({typed:e,equalScalar:n}),f=Hr({typed:e,DenseMatrix:a}),p=lr({typed:e,matrix:r,concat:o});return e(oC,{"number, number":Math.atan2,"BigNumber, BigNumber":(m,v)=>i.atan2(m,v)},p({scalar:"number | BigNumber",SS:s,DS:l,SD:c,Ss:u,sS:f}))});var sC="atanh",UH=["typed","config","Complex"],R0=M(sC,UH,t=>{var{typed:e,config:r,Complex:n}=t;return e(sC,{number:function(a){return a<=1&&a>=-1||r.predictable?Hv(a):new n(a,0).atanh()},Complex:function(a){return a.atanh()},BigNumber:function(a){return a.atanh()}})});var _i=M("trigUnit",["typed"],t=>{var{typed:e}=t;return{Unit:e.referToSelf(r=>n=>{if(!n.hasBase(n.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return e.find(r,n.valueType())(n.value)})}});var uC="cos",qH=["typed"],k0=M(uC,qH,t=>{var{typed:e}=t,r=_i({typed:e});return e(uC,{number:Math.cos,"Complex | BigNumber":n=>n.cos()},r)});var lC="cosh",VH=["typed"],L0=M(lC,VH,t=>{var{typed:e}=t;return e(lC,{number:Rf,"Complex | BigNumber":r=>r.cosh()})});var cC="cot",zH=["typed","BigNumber"],U0=M(cC,zH,t=>{var{typed:e,BigNumber:r}=t,n=_i({typed:e});return e(cC,{number:Yv,Complex:i=>i.cot(),BigNumber:i=>new r(1).div(i.tan())},n)});var fC="coth",HH=["typed","BigNumber"],q0=M(fC,HH,t=>{var{typed:e,BigNumber:r}=t;return e(fC,{number:Gv,Complex:n=>n.coth(),BigNumber:n=>new r(1).div(n.tanh())})});var pC="csc",YH=["typed","BigNumber"],V0=M(pC,YH,t=>{var{typed:e,BigNumber:r}=t,n=_i({typed:e});return e(pC,{number:Wv,Complex:i=>i.csc(),BigNumber:i=>new r(1).div(i.sin())},n)});var mC="csch",GH=["typed","BigNumber"],z0=M(mC,GH,t=>{var{typed:e,BigNumber:r}=t;return e(mC,{number:Zv,Complex:n=>n.csch(),BigNumber:n=>new r(1).div(n.sinh())})});var dC="sec",WH=["typed","BigNumber"],H0=M(dC,WH,t=>{var{typed:e,BigNumber:r}=t,n=_i({typed:e});return e(dC,{number:jv,Complex:i=>i.sec(),BigNumber:i=>new r(1).div(i.cos())},n)});var hC="sech",ZH=["typed","BigNumber"],Y0=M(hC,ZH,t=>{var{typed:e,BigNumber:r}=t;return e(hC,{number:$v,Complex:n=>n.sech(),BigNumber:n=>new r(1).div(n.cosh())})});var vC="sin",jH=["typed"],G0=M(vC,jH,t=>{var{typed:e}=t,r=_i({typed:e});return e(vC,{number:Math.sin,"Complex | BigNumber":n=>n.sin()},r)});var gC="sinh",$H=["typed"],W0=M(gC,$H,t=>{var{typed:e}=t;return e(gC,{number:Jv,"Complex | BigNumber":r=>r.sinh()})});var yC="tan",JH=["typed"],Z0=M(yC,JH,t=>{var{typed:e}=t,r=_i({typed:e});return e(yC,{number:Math.tan,"Complex | BigNumber":n=>n.tan()},r)});var XH="tanh",QH=["typed"],j0=M(XH,QH,t=>{var{typed:e}=t;return e("tanh",{number:kf,"Complex | BigNumber":r=>r.tanh()})});var xC="setCartesian",KH=["typed","size","subset","compareNatural","Index","DenseMatrix"],$0=M(xC,KH,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=t;return e(xC,{"Array | Matrix, Array | Matrix":function(l,s){var u=[];if(n(r(l),new a(0))!==0&&n(r(s),new a(0))!==0){var f=hr(Array.isArray(l)?l:l.toArray()).sort(i),p=hr(Array.isArray(s)?s:s.toArray()).sort(i);u=[];for(var m=0;m<f.length;m++)for(var v=0;v<p.length;v++)u.push([f[m],p[v]])}return Array.isArray(l)&&Array.isArray(s)?u:new o(u)}})});var bC="setDifference",eY=["typed","size","subset","compareNatural","Index","DenseMatrix"],J0=M(bC,eY,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=t;return e(bC,{"Array | Matrix, Array | Matrix":function(l,s){var u;if(n(r(l),new a(0))===0)u=[];else{if(n(r(s),new a(0))===0)return hr(l.toArray());var f=Da(hr(Array.isArray(l)?l:l.toArray()).sort(i)),p=Da(hr(Array.isArray(s)?s:s.toArray()).sort(i));u=[];for(var m,v=0;v<f.length;v++){m=!1;for(var d=0;d<p.length;d++)if(i(f[v].value,p[d].value)===0&&f[v].identifier===p[d].identifier){m=!0;break}m||u.push(f[v])}}return Array.isArray(l)&&Array.isArray(s)?Vs(u):new o(Vs(u))}})});var wC="setDistinct",rY=["typed","size","subset","compareNatural","Index","DenseMatrix"],X0=M(wC,rY,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=t;return e(wC,{"Array | Matrix":function(l){var s;if(n(r(l),new a(0))===0)s=[];else{var u=hr(Array.isArray(l)?l:l.toArray()).sort(i);s=[],s.push(u[0]);for(var f=1;f<u.length;f++)i(u[f],u[f-1])!==0&&s.push(u[f])}return Array.isArray(l)?s:new o(s)}})});var DC="setIntersect",tY=["typed","size","subset","compareNatural","Index","DenseMatrix"],Q0=M(DC,tY,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=t;return e(DC,{"Array | Matrix, Array | Matrix":function(l,s){var u;if(n(r(l),new a(0))===0||n(r(s),new a(0))===0)u=[];else{var f=Da(hr(Array.isArray(l)?l:l.toArray()).sort(i)),p=Da(hr(Array.isArray(s)?s:s.toArray()).sort(i));u=[];for(var m=0;m<f.length;m++)for(var v=0;v<p.length;v++)if(i(f[m].value,p[v].value)===0&&f[m].identifier===p[v].identifier){u.push(f[m]);break}}return Array.isArray(l)&&Array.isArray(s)?Vs(u):new o(Vs(u))}})});var SC="setIsSubset",nY=["typed","size","subset","compareNatural","Index"],K0=M(SC,nY,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:a}=t;return e(SC,{"Array | Matrix, Array | Matrix":function(c,l){if(n(r(c),new a(0))===0)return!0;if(n(r(l),new a(0))===0)return!1;for(var s=Da(hr(Array.isArray(c)?c:c.toArray()).sort(i)),u=Da(hr(Array.isArray(l)?l:l.toArray()).sort(i)),f,p=0;p<s.length;p++){f=!1;for(var m=0;m<u.length;m++)if(i(s[p].value,u[m].value)===0&&s[p].identifier===u[m].identifier){f=!0;break}if(f===!1)return!1}return!0}})});var AC="setMultiplicity",iY=["typed","size","subset","compareNatural","Index"],ex=M(AC,iY,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:a}=t;return e(AC,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(c,l){if(n(r(l),new a(0))===0)return 0;for(var s=hr(Array.isArray(l)?l:l.toArray()),u=0,f=0;f<s.length;f++)i(s[f],c)===0&&u++;return u}})});var NC="setPowerset",aY=["typed","size","subset","compareNatural","Index"],rx=M(NC,aY,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:a}=t;return e(NC,{"Array | Matrix":function(s){if(n(r(s),new a(0))===0)return[];for(var u=hr(Array.isArray(s)?s:s.toArray()).sort(i),f=[],p=0;p.toString(2).length<=u.length;)f.push(o(u,p.toString(2).split("").reverse())),p++;return c(f)}});function o(l,s){for(var u=[],f=0;f<s.length;f++)s[f]==="1"&&u.push(l[f]);return u}function c(l){for(var s=[],u=l.length-1;u>0;u--)for(var f=0;f<u;f++)l[f].length>l[f+1].length&&(s=l[f],l[f]=l[f+1],l[f+1]=s);return l}});var _C="setSize",oY=["typed","compareNatural"],tx=M(_C,oY,t=>{var{typed:e,compareNatural:r}=t;return e(_C,{"Array | Matrix":function(i){return Array.isArray(i)?hr(i).length:hr(i.toArray()).length},"Array | Matrix, boolean":function(i,a){if(a===!1||i.length===0)return Array.isArray(i)?hr(i).length:hr(i.toArray()).length;for(var o=hr(Array.isArray(i)?i:i.toArray()).sort(r),c=1,l=1;l<o.length;l++)r(o[l],o[l-1])!==0&&c++;return c}})});var EC="setSymDifference",sY=["typed","size","concat","subset","setDifference","Index"],nx=M(EC,sY,t=>{var{typed:e,size:r,concat:n,subset:i,setDifference:a,Index:o}=t;return e(EC,{"Array | Matrix, Array | Matrix":function(l,s){if(i(r(l),new o(0))===0)return hr(s);if(i(r(s),new o(0))===0)return hr(l);var u=hr(l),f=hr(s);return n(a(u,f),a(f,u))}})});var MC="setUnion",uY=["typed","size","concat","subset","setIntersect","setSymDifference","Index"],ix=M(MC,uY,t=>{var{typed:e,size:r,concat:n,subset:i,setIntersect:a,setSymDifference:o,Index:c}=t;return e(MC,{"Array | Matrix, Array | Matrix":function(s,u){if(i(r(s),new c(0))===0)return hr(u);if(i(r(u),new c(0))===0)return hr(s);var f=hr(s),p=hr(u);return n(o(f,p),a(f,p))}})});var CC="add",lY=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],ax=M(CC,lY,t=>{var{typed:e,matrix:r,addScalar:n,equalScalar:i,DenseMatrix:a,SparseMatrix:o,concat:c}=t,l=Cn({typed:e}),s=Zs({typed:e,equalScalar:i}),u=Qn({typed:e,DenseMatrix:a}),f=lr({typed:e,matrix:r,concat:c});return e(CC,{"any, any":n,"any, any, ...any":e.referToSelf(p=>(m,v,d)=>{for(var g=p(m,v),x=0;x<d.length;x++)g=p(g,d[x]);return g})},f({elop:n,DS:l,SS:s,Ss:u}))});var TC="hypot",cY=["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],ox=M(TC,cY,t=>{var{typed:e,abs:r,addScalar:n,divideScalar:i,multiplyScalar:a,sqrt:o,smaller:c,isPositive:l}=t;return e(TC,{"... number | BigNumber":s,Array:s,Matrix:u=>s(hr(u.toArray()))});function s(u){for(var f=0,p=0,m=0;m<u.length;m++){if(Hn(u[m]))throw new TypeError("Unexpected type of argument to hypot");var v=r(u[m]);c(p,v)?(f=a(f,a(i(p,v),i(p,v))),f=n(f,1),p=v):f=n(f,l(v)?a(i(v,p),i(v,p)):v)}return a(p,o(f))}});var FC="norm",fY=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],sx=M(FC,fY,t=>{var{typed:e,abs:r,add:n,pow:i,conj:a,sqrt:o,multiply:c,equalScalar:l,larger:s,smaller:u,matrix:f,ctranspose:p,eigs:m}=t;return e(FC,{number:Math.abs,Complex:function(_){return _.abs()},BigNumber:function(_){return _.abs()},boolean:function(_){return Math.abs(_)},Array:function(_){return b(f(_),2)},Matrix:function(_){return b(_,2)},"Array, number | BigNumber | string":function(_,N){return b(f(_),N)},"Matrix, number | BigNumber | string":function(_,N){return b(_,N)}});function v(C){var _=0;return C.forEach(function(N){var E=r(N);s(E,_)&&(_=E)},!0),_}function d(C){var _;return C.forEach(function(N){var E=r(N);(!_||u(E,_))&&(_=E)},!0),_||0}function g(C,_){if(_===Number.POSITIVE_INFINITY||_==="inf")return v(C);if(_===Number.NEGATIVE_INFINITY||_==="-inf")return d(C);if(_==="fro")return b(C,2);if(typeof _=="number"&&!isNaN(_)){if(!l(_,0)){var N=0;return C.forEach(function(E){N=n(i(r(E),_),N)},!0),i(N,1/_)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}function x(C){var _=0;return C.forEach(function(N,E){_=n(_,c(N,a(N)))}),r(o(_))}function A(C){var _=[],N=0;return C.forEach(function(E,I){var B=I[1],L=n(_[B]||0,r(E));s(L,N)&&(N=L),_[B]=L},!0),N}function y(C){var _=C.size();if(_[0]!==_[1])throw new RangeError("Invalid matrix dimensions");var N=p(C),E=c(N,C),I=m(E).values.toArray(),B=I[I.length-1];return r(o(B))}function w(C){var _=[],N=0;return C.forEach(function(E,I){var B=I[0],L=n(_[B]||0,r(E));s(L,N)&&(N=L),_[B]=L},!0),N}function S(C,_){if(_===1)return A(C);if(_===Number.POSITIVE_INFINITY||_==="inf")return w(C);if(_==="fro")return x(C);if(_===2)return y(C);throw new Error("Unsupported parameter value "+_)}function b(C,_){var N=C.size();if(N.length===1)return g(C,_);if(N.length===2){if(N[0]&&N[1])return S(C,_);throw new RangeError("Invalid matrix dimensions")}}});var IC="dot",pY=["typed","addScalar","multiplyScalar","conj","size"],ux=M(IC,pY,t=>{var{typed:e,addScalar:r,multiplyScalar:n,conj:i,size:a}=t;return e(IC,{"Array | DenseMatrix, Array | DenseMatrix":c,"SparseMatrix, SparseMatrix":l});function o(u,f){var p=s(u),m=s(f),v,d;if(p.length===1)v=p[0];else if(p.length===2&&p[1]===1)v=p[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+p.join(", ")+")");if(m.length===1)d=m[0];else if(m.length===2&&m[1]===1)d=m[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+m.join(", ")+")");if(v!==d)throw new RangeError("Vectors must have equal length ("+v+" != "+d+")");if(v===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return v}function c(u,f){var p=o(u,f),m=ze(u)?u._data:u,v=ze(u)?u._datatype:void 0,d=ze(f)?f._data:f,g=ze(f)?f._datatype:void 0,x=s(u).length===2,A=s(f).length===2,y=r,w=n;if(v&&g&&v===g&&typeof v=="string"){var S=v;y=e.find(r,[S,S]),w=e.find(n,[S,S])}if(!x&&!A){for(var b=w(i(m[0]),d[0]),C=1;C<p;C++)b=y(b,w(i(m[C]),d[C]));return b}if(!x&&A){for(var _=w(i(m[0]),d[0][0]),N=1;N<p;N++)_=y(_,w(i(m[N]),d[N][0]));return _}if(x&&!A){for(var E=w(i(m[0][0]),d[0]),I=1;I<p;I++)E=y(E,w(i(m[I][0]),d[I]));return E}if(x&&A){for(var B=w(i(m[0][0]),d[0][0]),L=1;L<p;L++)B=y(B,w(i(m[L][0]),d[L][0]));return B}}function l(u,f){o(u,f);for(var p=u._index,m=u._values,v=f._index,d=f._values,g=0,x=r,A=n,y=0,w=0;y<p.length&&w<v.length;){var S=p[y],b=v[w];if(S<b){y++;continue}if(S>b){w++;continue}S===b&&(g=x(g,A(m[y],d[w])),y++,w++)}return g}function s(u){return ze(u)?u.size():a(u)}});var mY="trace",dY=["typed","matrix","add"],lx=M(mY,dY,t=>{var{typed:e,matrix:r,add:n}=t;return e("trace",{Array:function(c){return i(r(c))},SparseMatrix:a,DenseMatrix:i,any:Xe});function i(o){var c=o._size,l=o._data;switch(c.length){case 1:if(c[0]===1)return Xe(l[0]);throw new RangeError("Matrix must be square (size: "+ir(c)+")");case 2:{var s=c[0],u=c[1];if(s===u){for(var f=0,p=0;p<s;p++)f=n(f,l[p][p]);return f}else throw new RangeError("Matrix must be square (size: "+ir(c)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+ir(c)+")")}}function a(o){var c=o._values,l=o._index,s=o._ptr,u=o._size,f=u[0],p=u[1];if(f===p){var m=0;if(c.length>0)for(var v=0;v<p;v++)for(var d=s[v],g=s[v+1],x=d;x<g;x++){var A=l[x];if(A===v){m=n(m,c[x]);break}if(A>v)break}return m}throw new RangeError("Matrix must be square (size: "+ir(u)+")")}});var OC="index",hY=["typed","Index"],cx=M(OC,hY,t=>{var{typed:e,Index:r}=t;return e(OC,{"...number | string | BigNumber | Range | Array | Matrix":function(i){var a=i.map(function(c){return Ze(c)?c.toNumber():Ir(c)||ze(c)?c.map(function(l){return Ze(l)?l.toNumber():l}):c}),o=new r;return r.apply(o,a),o}})});var hp=new Set(["end"]);var vY="Node",gY=["mathWithTransform"],fx=M(vY,gY,t=>{var{mathWithTransform:e}=t;function r(i){for(var a of[...hp])if(i.has(a))throw new Error('Scope contains an illegal symbol, "'+a+'" is a reserved keyword')}class n{get type(){return"Node"}get isNode(){return!0}evaluate(a){return this.compile().evaluate(a)}compile(){var a=this._compile(e,{}),o={},c=null;function l(s){var u=Sa(s);return r(u),a(u,o,c)}return{evaluate:l}}_compile(a,o){throw new Error("Method _compile must be implemented by type "+this.type)}forEach(a){throw new Error("Cannot run forEach on a Node interface")}map(a){throw new Error("Cannot run map on a Node interface")}_ifNode(a){if(!_r(a))throw new TypeError("Callback function must return a Node");return a}traverse(a){a(this,null,null);function o(c,l){c.forEach(function(s,u,f){l(s,u,f),o(s,l)})}o(this,a)}transform(a){function o(c,l,s){var u=a(c,l,s);return u!==c?u:c.map(o)}return o(this,null,null)}filter(a){var o=[];return this.traverse(function(c,l,s){a(c,l,s)&&o.push(c)}),o}clone(){throw new Error("Cannot clone a Node interface")}cloneDeep(){return this.map(function(a){return a.cloneDeep()})}equals(a){return a?this.type===a.type&&Ui(this,a):!1}toString(a){var o=this._getCustomString(a);return typeof o!="undefined"?o:this._toString(a)}_toString(){throw new Error("_toString not implemented for "+this.type)}toJSON(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)}toHTML(a){var o=this._getCustomString(a);return typeof o!="undefined"?o:this._toHTML(a)}_toHTML(){throw new Error("_toHTML not implemented for "+this.type)}toTex(a){var o=this._getCustomString(a);return typeof o!="undefined"?o:this._toTex(a)}_toTex(a){throw new Error("_toTex not implemented for "+this.type)}_getCustomString(a){if(a&&typeof a=="object")switch(typeof a.handler){case"object":case"undefined":return;case"function":return a.handler(this,a);default:throw new TypeError("Object or function expected as callback")}}getIdentifier(){return this.type}getContent(){return this}}return n},{isClass:!0,isNode:!0});function ht(t){return t&&t.isIndexError?new xn(t.index+1,t.min+1,t.max!==void 0?t.max+1:void 0):t}function vp(t){var{subset:e}=t;return function(n,i){try{if(Array.isArray(n))return e(n,i);if(n&&typeof n.subset=="function")return n.subset(i);if(typeof n=="string")return e(n,i);if(typeof n=="object"){if(!i.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return At(n,i.getObjectProperty())}else throw new TypeError("Cannot apply index: unsupported type of object")}catch(a){throw ht(a)}}}var gp="AccessorNode",yY=["subset","Node"],px=M(gp,yY,t=>{var{subset:e,Node:r}=t,n=vp({subset:e});function i(o){return!(li(o)||gn(o)||Sr(o)||Yn(o)||Ja(o)||yn(o)||lt(o))}class a extends r{constructor(c,l){if(super(),!_r(c))throw new TypeError('Node expected for parameter "object"');if(!wi(l))throw new TypeError('IndexNode expected for parameter "index"');this.object=c,this.index=l}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return gp}get isAccessorNode(){return!0}_compile(c,l){var s=this.object._compile(c,l),u=this.index._compile(c,l);if(this.index.isObjectProperty()){var f=this.index.getObjectProperty();return function(m,v,d){return At(s(m,v,d),f)}}else return function(m,v,d){var g=s(m,v,d),x=u(m,v,g);return n(g,x)}}forEach(c){c(this.object,"object",this),c(this.index,"index",this)}map(c){return new a(this._ifNode(c(this.object,"object",this)),this._ifNode(c(this.index,"index",this)))}clone(){return new a(this.object,this.index)}_toString(c){var l=this.object.toString(c);return i(this.object)&&(l="("+l+")"),l+this.index.toString(c)}_toHTML(c){var l=this.object.toHTML(c);return i(this.object)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+this.index.toHTML(c)}_toTex(c){var l=this.object.toTex(c);return i(this.object)&&(l="\\left(' + object + '\\right)"),l+this.index.toTex(c)}toJSON(){return{mathjs:gp,object:this.object,index:this.index}}static fromJSON(c){return new a(c.object,c.index)}}return jr(a,"name",gp),a},{isClass:!0,isNode:!0});var yp="ArrayNode",xY=["Node"],mx=M(yp,xY,t=>{var{Node:e}=t;class r extends e{constructor(i){if(super(),this.items=i||[],!Array.isArray(this.items)||!this.items.every(_r))throw new TypeError("Array containing Nodes expected")}get type(){return yp}get isArrayNode(){return!0}_compile(i,a){var o=$n(this.items,function(s){return s._compile(i,a)}),c=i.config.matrix!=="Array";if(c){var l=i.matrix;return function(u,f,p){return l($n(o,function(m){return m(u,f,p)}))}}else return function(u,f,p){return $n(o,function(m){return m(u,f,p)})}}forEach(i){for(var a=0;a<this.items.length;a++){var o=this.items[a];i(o,"items["+a+"]",this)}}map(i){for(var a=[],o=0;o<this.items.length;o++)a[o]=this._ifNode(i(this.items[o],"items["+o+"]",this));return new r(a)}clone(){return new r(this.items.slice(0))}_toString(i){var a=this.items.map(function(o){return o.toString(i)});return"["+a.join(", ")+"]"}toJSON(){return{mathjs:yp,items:this.items}}static fromJSON(i){return new r(i.items)}_toHTML(i){var a=this.items.map(function(o){return o.toHTML(i)});return'<span class="math-parenthesis math-square-parenthesis">[</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(i){function a(o,c){var l=o.some(gn)&&!o.every(gn),s=c||l,u=s?"&":"\\\\",f=o.map(function(p){return p.items?a(p.items,!c):p.toTex(i)}).join(u);return l||!s||s&&!c?"\\begin{bmatrix}"+f+"\\end{bmatrix}":f}return a(this.items,!1)}}return jr(r,"name",yp),r},{isClass:!0,isNode:!0});function BC(t){var{subset:e,matrix:r}=t;return function(i,a,o){try{if(Array.isArray(i)){var c=r(i).subset(a,o).valueOf();return c.forEach((l,s)=>{i[s]=l}),i}else{if(i&&typeof i.subset=="function")return i.subset(a,o);if(typeof i=="string")return e(i,a,o);if(typeof i=="object"){if(!a.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return ra(i,a.getObjectProperty(),o),i}else throw new TypeError("Cannot apply index: unsupported type of object")}}catch(l){throw ht(l)}}}var Ei=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{op:"or",associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{op:"xor",associativity:"left",associativeWith:[]}},{"OperatorNode:and":{op:"and",associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{op:"|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{op:"^|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{op:"&",associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{op:"==",associativity:"left",associativeWith:[]},"OperatorNode:unequal":{op:"!=",associativity:"left",associativeWith:[]},"OperatorNode:smaller":{op:"<",associativity:"left",associativeWith:[]},"OperatorNode:larger":{op:">",associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{op:"<=",associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{op:">=",associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{op:"<<",associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{op:">>",associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{op:">>>",associativity:"left",associativeWith:[]}},{"OperatorNode:to":{op:"to",associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{op:"+",associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{op:"-",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{op:"*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{op:"/",associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{op:".*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{op:"./",associativity:"left",associativeWith:[]},"OperatorNode:mod":{op:"mod",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]}},{"OperatorNode:unaryPlus":{op:"+",associativity:"right"},"OperatorNode:unaryMinus":{op:"-",associativity:"right"},"OperatorNode:bitNot":{op:"~",associativity:"right"},"OperatorNode:not":{op:"not",associativity:"right"}},{"OperatorNode:pow":{op:"^",associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{op:".^",associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{op:"!",associativity:"left"}},{"OperatorNode:ctranspose":{op:"'",associativity:"left"}}];function xp(t,e){if(!e||e!=="auto")return t;for(var r=t;yn(r);)r=r.content;return r}function et(t,e,r,n){var i=t;e!=="keep"&&(i=t.getContent());for(var a=i.getIdentifier(),o=null,c=0;c<Ei.length;c++)if(a in Ei[c]){o=c;break}if(a==="OperatorNode:multiply"&&i.implicit&&r!=="show"){var l=xp(i.args[0],e);!(Sr(l)&&n&&n.getIdentifier()==="OperatorNode:divide"&&$u(xp(n.args[0],e)))&&!(l.getIdentifier()==="OperatorNode:divide"&&$u(xp(l.args[0],e))&&Sr(xp(l.args[1])))&&(o+=1)}return o}function eu(t,e){var r=t;e!=="keep"&&(r=t.getContent());var n=r.getIdentifier(),i=et(r,e);if(i===null)return null;var a=Ei[i][n];if(Ye(a,"associativity")){if(a.associativity==="left")return"left";if(a.associativity==="right")return"right";throw Error("'"+n+"' has the invalid associativity '"+a.associativity+"'.")}return null}function bp(t,e,r){var n=r!=="keep"?t.getContent():t,i=r!=="keep"?t.getContent():e,a=n.getIdentifier(),o=i.getIdentifier(),c=et(n,r);if(c===null)return null;var l=Ei[c][a];if(Ye(l,"associativeWith")&&l.associativeWith instanceof Array){for(var s=0;s<l.associativeWith.length;s++)if(l.associativeWith[s]===o)return!0;return!1}return null}function PC(t){var e="OperatorNode:"+t;for(var r of Ei)if(e in r)return r[e].op;return null}var wp="AssignmentNode",bY=["subset","?matrix","Node"],dx=M(wp,bY,t=>{var{subset:e,matrix:r,Node:n}=t,i=vp({subset:e}),a=BC({subset:e,matrix:r});function o(l,s,u){s||(s="keep");var f=et(l,s,u),p=et(l.value,s,u);return s==="all"||p!==null&&p<=f}class c extends n{constructor(s,u,f){if(super(),this.object=s,this.index=f?u:null,this.value=f||u,!lt(s)&&!li(s))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(lt(s)&&s.name==="end")throw new Error('Cannot assign to symbol "end"');if(this.index&&!wi(this.index))throw new TypeError('IndexNode expected as "index"');if(!_r(this.value))throw new TypeError('Node expected as "value"')}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return wp}get isAssignmentNode(){return!0}_compile(s,u){var f=this.object._compile(s,u),p=this.index?this.index._compile(s,u):null,m=this.value._compile(s,u),v=this.object.name;if(this.index)if(this.index.isObjectProperty()){var d=this.index.getObjectProperty();return function(w,S,b){var C=f(w,S,b),_=m(w,S,b);return ra(C,d,_),_}}else{if(lt(this.object))return function(w,S,b){var C=f(w,S,b),_=m(w,S,b),N=p(w,S,C);return w.set(v,a(C,N,_)),_};var g=this.object.object._compile(s,u);if(this.object.index.isObjectProperty()){var x=this.object.index.getObjectProperty();return function(w,S,b){var C=g(w,S,b),_=At(C,x),N=p(w,S,_),E=m(w,S,b);return ra(C,x,a(_,N,E)),E}}else{var A=this.object.index._compile(s,u);return function(w,S,b){var C=g(w,S,b),_=A(w,S,C),N=i(C,_),E=p(w,S,N),I=m(w,S,b);return a(C,_,a(N,E,I)),I}}}else{if(!lt(this.object))throw new TypeError("SymbolNode expected as object");return function(w,S,b){var C=m(w,S,b);return w.set(v,C),C}}}forEach(s){s(this.object,"object",this),this.index&&s(this.index,"index",this),s(this.value,"value",this)}map(s){var u=this._ifNode(s(this.object,"object",this)),f=this.index?this._ifNode(s(this.index,"index",this)):null,p=this._ifNode(s(this.value,"value",this));return new c(u,f,p)}clone(){return new c(this.object,this.index,this.value)}_toString(s){var u=this.object.toString(s),f=this.index?this.index.toString(s):"",p=this.value.toString(s);return o(this,s&&s.parenthesis,s&&s.implicit)&&(p="("+p+")"),u+f+" = "+p}toJSON(){return{mathjs:wp,object:this.object,index:this.index,value:this.value}}static fromJSON(s){return new c(s.object,s.index,s.value)}_toHTML(s){var u=this.object.toHTML(s),f=this.index?this.index.toHTML(s):"",p=this.value.toHTML(s);return o(this,s&&s.parenthesis,s&&s.implicit)&&(p='<span class="math-paranthesis math-round-parenthesis">(</span>'+p+'<span class="math-paranthesis math-round-parenthesis">)</span>'),u+f+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+p}_toTex(s){var u=this.object.toTex(s),f=this.index?this.index.toTex(s):"",p=this.value.toTex(s);return o(this,s&&s.parenthesis,s&&s.implicit)&&(p="\\left(".concat(p,"\\right)")),u+f+"="+p}}return jr(c,"name",wp),c},{isClass:!0,isNode:!0});var Dp="BlockNode",wY=["ResultSet","Node"],hx=M(Dp,wY,t=>{var{ResultSet:e,Node:r}=t;class n extends r{constructor(a){if(super(),!Array.isArray(a))throw new Error("Array expected");this.blocks=a.map(function(o){var c=o&&o.node,l=o&&o.visible!==void 0?o.visible:!0;if(!_r(c))throw new TypeError('Property "node" must be a Node');if(typeof l!="boolean")throw new TypeError('Property "visible" must be a boolean');return{node:c,visible:l}})}get type(){return Dp}get isBlockNode(){return!0}_compile(a,o){var c=$n(this.blocks,function(l){return{evaluate:l.node._compile(a,o),visible:l.visible}});return function(s,u,f){var p=[];return Xa(c,function(v){var d=v.evaluate(s,u,f);v.visible&&p.push(d)}),new e(p)}}forEach(a){for(var o=0;o<this.blocks.length;o++)a(this.blocks[o].node,"blocks["+o+"].node",this)}map(a){for(var o=[],c=0;c<this.blocks.length;c++){var l=this.blocks[c],s=this._ifNode(a(l.node,"blocks["+c+"].node",this));o[c]={node:s,visible:l.visible}}return new n(o)}clone(){var a=this.blocks.map(function(o){return{node:o.node,visible:o.visible}});return new n(a)}_toString(a){return this.blocks.map(function(o){return o.node.toString(a)+(o.visible?"":";")}).join(`
`)}toJSON(){return{mathjs:Dp,blocks:this.blocks}}static fromJSON(a){return new n(a.blocks)}_toHTML(a){return this.blocks.map(function(o){return o.node.toHTML(a)+(o.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')}_toTex(a){return this.blocks.map(function(o){return o.node.toTex(a)+(o.visible?"":";")}).join(`\\;\\;
`)}}return jr(n,"name",Dp),n},{isClass:!0,isNode:!0});var Sp="ConditionalNode",DY=["Node"],vx=M(Sp,DY,t=>{var{Node:e}=t;function r(i){if(typeof i=="number"||typeof i=="boolean"||typeof i=="string")return!!i;if(i){if(Ze(i))return!i.isZero();if(Hn(i))return!!(i.re||i.im);if(vn(i))return!!i.value}if(i==null)return!1;throw new TypeError('Unsupported type of condition "'+Cr(i)+'"')}class n extends e{constructor(a,o,c){if(super(),!_r(a))throw new TypeError("Parameter condition must be a Node");if(!_r(o))throw new TypeError("Parameter trueExpr must be a Node");if(!_r(c))throw new TypeError("Parameter falseExpr must be a Node");this.condition=a,this.trueExpr=o,this.falseExpr=c}get type(){return Sp}get isConditionalNode(){return!0}_compile(a,o){var c=this.condition._compile(a,o),l=this.trueExpr._compile(a,o),s=this.falseExpr._compile(a,o);return function(f,p,m){return r(c(f,p,m))?l(f,p,m):s(f,p,m)}}forEach(a){a(this.condition,"condition",this),a(this.trueExpr,"trueExpr",this),a(this.falseExpr,"falseExpr",this)}map(a){return new n(this._ifNode(a(this.condition,"condition",this)),this._ifNode(a(this.trueExpr,"trueExpr",this)),this._ifNode(a(this.falseExpr,"falseExpr",this)))}clone(){return new n(this.condition,this.trueExpr,this.falseExpr)}_toString(a){var o=a&&a.parenthesis?a.parenthesis:"keep",c=et(this,o,a&&a.implicit),l=this.condition.toString(a),s=et(this.condition,o,a&&a.implicit);(o==="all"||this.condition.type==="OperatorNode"||s!==null&&s<=c)&&(l="("+l+")");var u=this.trueExpr.toString(a),f=et(this.trueExpr,o,a&&a.implicit);(o==="all"||this.trueExpr.type==="OperatorNode"||f!==null&&f<=c)&&(u="("+u+")");var p=this.falseExpr.toString(a),m=et(this.falseExpr,o,a&&a.implicit);return(o==="all"||this.falseExpr.type==="OperatorNode"||m!==null&&m<=c)&&(p="("+p+")"),l+" ? "+u+" : "+p}toJSON(){return{mathjs:Sp,condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}}static fromJSON(a){return new n(a.condition,a.trueExpr,a.falseExpr)}_toHTML(a){var o=a&&a.parenthesis?a.parenthesis:"keep",c=et(this,o,a&&a.implicit),l=this.condition.toHTML(a),s=et(this.condition,o,a&&a.implicit);(o==="all"||this.condition.type==="OperatorNode"||s!==null&&s<=c)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>');var u=this.trueExpr.toHTML(a),f=et(this.trueExpr,o,a&&a.implicit);(o==="all"||this.trueExpr.type==="OperatorNode"||f!==null&&f<=c)&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>');var p=this.falseExpr.toHTML(a),m=et(this.falseExpr,o,a&&a.implicit);return(o==="all"||this.falseExpr.type==="OperatorNode"||m!==null&&m<=c)&&(p='<span class="math-parenthesis math-round-parenthesis">(</span>'+p+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+'<span class="math-operator math-conditional-operator">?</span>'+u+'<span class="math-operator math-conditional-operator">:</span>'+p}_toTex(a){return"\\begin{cases} {"+this.trueExpr.toTex(a)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(a)+"}\\\\{"+this.falseExpr.toTex(a)+"}, &\\quad{\\text{otherwise}}\\end{cases}"}}return jr(n,"name",Sp),n},{isClass:!0,isNode:!0});var UC=yt(kC(),1);var yx={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},$r={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},xx={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat($r.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat($r.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat($r.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat($r.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat($r.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat($r.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat($r.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat($r.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat($r.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat($r.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat($r.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat($r.bitAnd,"${args[1]}\\right)")},bitNot:{1:$r.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat($r.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat($r.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat($r.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat($r.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat($r.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat($r.and,"${args[1]}\\right)")},not:{1:$r.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat($r.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat($r.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat($r.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},pinv:{1:"\\left(${args[0]}\\right)^{+}"},sqrtm:{1:"{${args[0]}}".concat($r.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat($r.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat($r.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},lgamma:{1:"\\ln\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat($r.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat($r.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat($r.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat($r.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat($r.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat($r.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat($r.to,"${args[1]}\\right)")},numeric:function(e,r){return e.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(yx.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},qC="\\mathrm{${name}}\\left(${args}\\right)",LC={deg:"^\\circ"};function Ap(t){return(0,UC.default)(t,{preserveFormatting:!0})}function Np(t,e){return e=typeof e=="undefined"?!1:e,e?Ye(LC,t)?LC[t]:"\\mathrm{"+Ap(t)+"}":Ye(yx,t)?yx[t]:Ap(t)}var _p="ConstantNode",_Y=["Node"],bx=M(_p,_Y,t=>{var{Node:e}=t;class r extends e{constructor(i){super(),this.value=i}get type(){return _p}get isConstantNode(){return!0}_compile(i,a){var o=this.value;return function(){return o}}forEach(i){}map(i){return this.clone()}clone(){return new r(this.value)}_toString(i){return ir(this.value,i)}_toHTML(i){var a=this._toString(i);switch(Cr(this.value)){case"number":case"BigNumber":case"Fraction":return'<span class="math-number">'+a+"</span>";case"string":return'<span class="math-string">'+a+"</span>";case"boolean":return'<span class="math-boolean">'+a+"</span>";case"null":return'<span class="math-null-symbol">'+a+"</span>";case"undefined":return'<span class="math-undefined">'+a+"</span>";default:return'<span class="math-symbol">'+a+"</span>"}}toJSON(){return{mathjs:_p,value:this.value}}static fromJSON(i){return new r(i.value)}_toTex(i){var a=this._toString(i);switch(Cr(this.value)){case"string":return"\\mathtt{"+Ap(a)+"}";case"number":case"BigNumber":{if(!isFinite(this.value))return this.value.valueOf()<0?"-\\infty":"\\infty";var o=a.toLowerCase().indexOf("e");if(o!==-1)return a.substring(0,o)+"\\cdot10^{"+a.substring(o+1)+"}"}return a;case"Fraction":return this.value.toLatex();default:return a}}}return jr(r,"name",_p),r},{isClass:!0,isNode:!0});var Ep="FunctionAssignmentNode",EY=["typed","Node"],wx=M(Ep,EY,t=>{var{typed:e,Node:r}=t;function n(a,o,c){var l=et(a,o,c),s=et(a.expr,o,c);return o==="all"||s!==null&&s<=l}class i extends r{constructor(o,c,l){if(super(),typeof o!="string")throw new TypeError('String expected for parameter "name"');if(!Array.isArray(c))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!_r(l))throw new TypeError('Node expected for parameter "expr"');if(hp.has(o))throw new Error('Illegal function name, "'+o+'" is a reserved keyword');var s=new Set;for(var u of c){var f=typeof u=="string"?u:u.name;if(s.has(f))throw new Error('Duplicate parameter name "'.concat(f,'"'));s.add(f)}this.name=o,this.params=c.map(function(p){return p&&p.name||p}),this.types=c.map(function(p){return p&&p.type||"any"}),this.expr=l}get type(){return Ep}get isFunctionAssignmentNode(){return!0}_compile(o,c){var l=Object.create(c);Xa(this.params,function(v){l[v]=!0});var s=this.expr._compile(o,l),u=this.name,f=this.params,p=Fh(this.types,","),m=u+"("+Fh(this.params,", ")+")";return function(d,g,x){var A={};A[p]=function(){for(var w=Object.create(g),S=0;S<f.length;S++)w[f[S]]=arguments[S];return s(d,w,x)};var y=e(u,A);return y.syntax=m,d.set(u,y),y}}forEach(o){o(this.expr,"expr",this)}map(o){var c=this._ifNode(o(this.expr,"expr",this));return new i(this.name,this.params.slice(0),c)}clone(){return new i(this.name,this.params.slice(0),this.expr)}_toString(o){var c=o&&o.parenthesis?o.parenthesis:"keep",l=this.expr.toString(o);return n(this,c,o&&o.implicit)&&(l="("+l+")"),this.name+"("+this.params.join(", ")+") = "+l}toJSON(){var o=this.types;return{mathjs:Ep,name:this.name,params:this.params.map(function(c,l){return{name:c,type:o[l]}}),expr:this.expr}}static fromJSON(o){return new i(o.name,o.params,o.expr)}_toHTML(o){for(var c=o&&o.parenthesis?o.parenthesis:"keep",l=[],s=0;s<this.params.length;s++)l.push('<span class="math-symbol math-parameter">'+rn(this.params[s])+"</span>");var u=this.expr.toHTML(o);return n(this,c,o&&o.implicit)&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+rn(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+l.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+u}_toTex(o){var c=o&&o.parenthesis?o.parenthesis:"keep",l=this.expr.toTex(o);return n(this,c,o&&o.implicit)&&(l="\\left(".concat(l,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(Np).join(",")+"\\right)="+l}}return jr(i,"name",Ep),i},{isClass:!0,isNode:!0});var Mp="IndexNode",MY=["Node","size"],Dx=M(Mp,MY,t=>{var{Node:e,size:r}=t;class n extends e{constructor(a,o){if(super(),this.dimensions=a,this.dotNotation=o||!1,!Array.isArray(a)||!a.every(_r))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}get type(){return Mp}get isIndexNode(){return!0}_compile(a,o){var c=$n(this.dimensions,function(s,u){var f=s.filter(v=>v.isSymbolNode&&v.name==="end").length>0;if(f){var p=Object.create(o);p.end=!0;var m=s._compile(a,p);return function(d,g,x){if(!ze(x)&&!Ir(x)&&!Ft(x))throw new TypeError('Cannot resolve "end": context must be a Matrix, Array, or string but is '+Cr(x));var A=r(x).valueOf(),y=Object.create(g);return y.end=A[u],m(d,y,x)}}else return s._compile(a,o)}),l=At(a,"index");return function(u,f,p){var m=$n(c,function(v){return v(u,f,p)});return l(...m)}}forEach(a){for(var o=0;o<this.dimensions.length;o++)a(this.dimensions[o],"dimensions["+o+"]",this)}map(a){for(var o=[],c=0;c<this.dimensions.length;c++)o[c]=this._ifNode(a(this.dimensions[c],"dimensions["+c+"]",this));return new n(o,this.dotNotation)}clone(){return new n(this.dimensions.slice(0),this.dotNotation)}isObjectProperty(){return this.dimensions.length===1&&Sr(this.dimensions[0])&&typeof this.dimensions[0].value=="string"}getObjectProperty(){return this.isObjectProperty()?this.dimensions[0].value:null}_toString(a){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"}toJSON(){return{mathjs:Mp,dimensions:this.dimensions,dotNotation:this.dotNotation}}static fromJSON(a){return new n(a.dimensions,a.dotNotation)}_toHTML(a){for(var o=[],c=0;c<this.dimensions.length;c++)o[c]=this.dimensions[c].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+rn(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+o.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(a){var o=this.dimensions.map(function(c){return c.toTex(a)});return this.dotNotation?"."+this.getObjectProperty():"_{"+o.join(",")+"}"}}return jr(n,"name",Mp),n},{isClass:!0,isNode:!0});var Cp="ObjectNode",CY=["Node"],Sx=M(Cp,CY,t=>{var{Node:e}=t;class r extends e{constructor(i){if(super(),this.properties=i||{},i&&(typeof i!="object"||!Object.keys(i).every(function(a){return _r(i[a])})))throw new TypeError("Object containing Nodes expected")}get type(){return Cp}get isObjectNode(){return!0}_compile(i,a){var o={};for(var c in this.properties)if(Ye(this.properties,c)){var l=Ro(c),s=JSON.parse(l),u=At(this.properties,c);o[s]=u._compile(i,a)}return function(p,m,v){var d={};for(var g in o)Ye(o,g)&&(d[g]=o[g](p,m,v));return d}}forEach(i){for(var a in this.properties)Ye(this.properties,a)&&i(this.properties[a],"properties["+Ro(a)+"]",this)}map(i){var a={};for(var o in this.properties)Ye(this.properties,o)&&(a[o]=this._ifNode(i(this.properties[o],"properties["+Ro(o)+"]",this)));return new r(a)}clone(){var i={};for(var a in this.properties)Ye(this.properties,a)&&(i[a]=this.properties[a]);return new r(i)}_toString(i){var a=[];for(var o in this.properties)Ye(this.properties,o)&&a.push(Ro(o)+": "+this.properties[o].toString(i));return"{"+a.join(", ")+"}"}toJSON(){return{mathjs:Cp,properties:this.properties}}static fromJSON(i){return new r(i.properties)}_toHTML(i){var a=[];for(var o in this.properties)Ye(this.properties,o)&&a.push('<span class="math-symbol math-property">'+rn(o)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[o].toHTML(i));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'}_toTex(i){var a=[];for(var o in this.properties)Ye(this.properties,o)&&a.push("\\mathbf{"+o+":} & "+this.properties[o].toTex(i)+"\\\\");var c="\\left\\{\\begin{array}{ll}"+a.join(`
`)+"\\end{array}\\right\\}";return c}}return jr(r,"name",Cp),r},{isClass:!0,isNode:!0});function Yo(t,e){return new zs(t,new Lo(e),new Set(Object.keys(e)))}var Tp="OperatorNode",TY=["Node"],Ax=M(Tp,TY,t=>{var{Node:e}=t;function r(a,o){var c=a;if(o==="auto")for(;yn(c);)c=c.content;return Sr(c)?!0:wt(c)?r(c.args[0],o):!1}function n(a,o,c,l,s){var u=et(a,o,c),f=eu(a,o);if(o==="all"||l.length>2&&a.getIdentifier()!=="OperatorNode:add"&&a.getIdentifier()!=="OperatorNode:multiply")return l.map(function(E){switch(E.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});var p;switch(l.length){case 0:p=[];break;case 1:{var m=et(l[0],o,c,a);if(s&&m!==null){var v,d;if(o==="keep"?(v=l[0].getIdentifier(),d=a.getIdentifier()):(v=l[0].getContent().getIdentifier(),d=a.getContent().getIdentifier()),Ei[u][d].latexLeftParens===!1){p=[!1];break}if(Ei[m][v].latexParens===!1){p=[!1];break}}if(m===null){p=[!1];break}if(m<=u){p=[!0];break}p=[!1]}break;case 2:{var g,x=et(l[0],o,c,a),A=bp(a,l[0],o);x===null?g=!1:x===u&&f==="right"&&!A||x<u?g=!0:g=!1;var y,w=et(l[1],o,c,a),S=bp(a,l[1],o);if(w===null?y=!1:w===u&&f==="left"&&!S||w<u?y=!0:y=!1,s){var b,C,_;o==="keep"?(b=a.getIdentifier(),C=a.args[0].getIdentifier(),_=a.args[1].getIdentifier()):(b=a.getContent().getIdentifier(),C=a.args[0].getContent().getIdentifier(),_=a.args[1].getContent().getIdentifier()),x!==null&&(Ei[u][b].latexLeftParens===!1&&(g=!1),Ei[x][C].latexParens===!1&&(g=!1)),w!==null&&(Ei[u][b].latexRightParens===!1&&(y=!1),Ei[w][_].latexParens===!1&&(y=!1))}p=[g,y]}break;default:(a.getIdentifier()==="OperatorNode:add"||a.getIdentifier()==="OperatorNode:multiply")&&(p=l.map(function(E){var I=et(E,o,c,a),B=bp(a,E,o),L=eu(E,o);return I===null?!1:u===I&&f===L&&!B?!0:I<u}));break}if(l.length>=2&&a.getIdentifier()==="OperatorNode:multiply"&&a.implicit&&o!=="all"&&c==="hide")for(var N=1;N<p.length;++N)r(l[N],o)&&!p[N-1]&&(o!=="keep"||!yn(l[N-1]))&&(p[N]=!0);return p}class i extends e{constructor(o,c,l,s,u){if(super(),typeof o!="string")throw new TypeError('string expected for parameter "op"');if(typeof c!="string")throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(l)||!l.every(_r))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=s===!0,this.isPercentage=u===!0,this.op=o,this.fn=c,this.args=l||[]}get type(){return Tp}get isOperatorNode(){return!0}_compile(o,c){if(typeof this.fn!="string"||!Vf(o,this.fn))throw o[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var l=At(o,this.fn),s=$n(this.args,function(v){return v._compile(o,c)});if(typeof l=="function"&&l.rawArgs===!0){var u=this.args;return function(d,g,x){return l(u,o,Yo(d,g))}}else if(s.length===1){var f=s[0];return function(d,g,x){return l(f(d,g,x))}}else if(s.length===2){var p=s[0],m=s[1];return function(d,g,x){return l(p(d,g,x),m(d,g,x))}}else return function(d,g,x){return l.apply(null,$n(s,function(A){return A(d,g,x)}))}}forEach(o){for(var c=0;c<this.args.length;c++)o(this.args[c],"args["+c+"]",this)}map(o){for(var c=[],l=0;l<this.args.length;l++)c[l]=this._ifNode(o(this.args[l],"args["+l+"]",this));return new i(this.op,this.fn,c,this.implicit,this.isPercentage)}clone(){return new i(this.op,this.fn,this.args.slice(0),this.implicit,this.isPercentage)}isUnary(){return this.args.length===1}isBinary(){return this.args.length===2}_toString(o){var c=o&&o.parenthesis?o.parenthesis:"keep",l=o&&o.implicit?o.implicit:"hide",s=this.args,u=n(this,c,l,s,!1);if(s.length===1){var f=eu(this,c),p=s[0].toString(o);u[0]&&(p="("+p+")");var m=/[a-zA-Z]+/.test(this.op);return f==="right"?this.op+(m?" ":"")+p:f==="left"?p+(m?" ":"")+this.op:p+this.op}else if(s.length===2){var v=s[0].toString(o),d=s[1].toString(o);return u[0]&&(v="("+v+")"),u[1]&&(d="("+d+")"),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?v+" "+d:v+" "+this.op+" "+d}else if(s.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var g=s.map(function(x,A){return x=x.toString(o),u[A]&&(x="("+x+")"),x});return this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?g.join(" "):g.join(" "+this.op+" ")}else return this.fn+"("+this.args.join(", ")+")"}toJSON(){return{mathjs:Tp,op:this.op,fn:this.fn,args:this.args,implicit:this.implicit,isPercentage:this.isPercentage}}static fromJSON(o){return new i(o.op,o.fn,o.args,o.implicit,o.isPercentage)}_toHTML(o){var c=o&&o.parenthesis?o.parenthesis:"keep",l=o&&o.implicit?o.implicit:"hide",s=this.args,u=n(this,c,l,s,!1);if(s.length===1){var f=eu(this,c),p=s[0].toHTML(o);return u[0]&&(p='<span class="math-parenthesis math-round-parenthesis">(</span>'+p+'<span class="math-parenthesis math-round-parenthesis">)</span>'),f==="right"?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+rn(this.op)+"</span>"+p:p+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+rn(this.op)+"</span>"}else if(s.length===2){var m=s[0].toHTML(o),v=s[1].toHTML(o);return u[0]&&(m='<span class="math-parenthesis math-round-parenthesis">(</span>'+m+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u[1]&&(v='<span class="math-parenthesis math-round-parenthesis">(</span>'+v+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?m+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+v:m+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+rn(this.op)+"</span>"+v}else{var d=s.map(function(g,x){return g=g.toHTML(o),u[x]&&(g='<span class="math-parenthesis math-round-parenthesis">(</span>'+g+'<span class="math-parenthesis math-round-parenthesis">)</span>'),g});return s.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")?this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?d.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):d.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+rn(this.op)+"</span>"):'<span class="math-function">'+rn(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+d.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}}_toTex(o){var c=o&&o.parenthesis?o.parenthesis:"keep",l=o&&o.implicit?o.implicit:"hide",s=this.args,u=n(this,c,l,s,!0),f=$r[this.fn];if(f=typeof f=="undefined"?this.op:f,s.length===1){var p=eu(this,c),m=s[0].toTex(o);return u[0]&&(m="\\left(".concat(m,"\\right)")),p==="right"?f+m:m+f}else if(s.length===2){var v=s[0],d=v.toTex(o);u[0]&&(d="\\left(".concat(d,"\\right)"));var g=s[1],x=g.toTex(o);u[1]&&(x="\\left(".concat(x,"\\right)"));var A;switch(c==="keep"?A=v.getIdentifier():A=v.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return f+"{"+d+"}{"+x+"}";case"OperatorNode:pow":switch(d="{"+d+"}",x="{"+x+"}",A){case"ConditionalNode":case"OperatorNode:divide":d="\\left(".concat(d,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&l==="hide")return d+"~"+x}return d+f+x}else if(s.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var y=s.map(function(w,S){return w=w.toTex(o),u[S]&&(w="\\left(".concat(w,"\\right)")),w});return this.getIdentifier()==="OperatorNode:multiply"&&this.implicit&&l==="hide"?y.join("~"):y.join(f)}else return"\\mathrm{"+this.fn+"}\\left("+s.map(function(w){return w.toTex(o)}).join(",")+"\\right)"}getIdentifier(){return this.type+":"+this.fn}}return jr(i,"name",Tp),i},{isClass:!0,isNode:!0});var Fp="ParenthesisNode",FY=["Node"],Nx=M(Fp,FY,t=>{var{Node:e}=t;class r extends e{constructor(i){if(super(),!_r(i))throw new TypeError('Node expected for parameter "content"');this.content=i}get type(){return Fp}get isParenthesisNode(){return!0}_compile(i,a){return this.content._compile(i,a)}getContent(){return this.content.getContent()}forEach(i){i(this.content,"content",this)}map(i){var a=i(this.content,"content",this);return new r(a)}clone(){return new r(this.content)}_toString(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?"("+this.content.toString(i)+")":this.content.toString(i)}toJSON(){return{mathjs:Fp,content:this.content}}static fromJSON(i){return new r(i.content)}_toHTML(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(i)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(i)}_toTex(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?"\\left(".concat(this.content.toTex(i),"\\right)"):this.content.toTex(i)}}return jr(r,"name",Fp),r},{isClass:!0,isNode:!0});var Ip="RangeNode",IY=["Node"],_x=M(Ip,IY,t=>{var{Node:e}=t;function r(i,a,o){var c=et(i,a,o),l={},s=et(i.start,a,o);if(l.start=s!==null&&s<=c||a==="all",i.step){var u=et(i.step,a,o);l.step=u!==null&&u<=c||a==="all"}var f=et(i.end,a,o);return l.end=f!==null&&f<=c||a==="all",l}class n extends e{constructor(a,o,c){if(super(),!_r(a))throw new TypeError("Node expected");if(!_r(o))throw new TypeError("Node expected");if(c&&!_r(c))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=a,this.end=o,this.step=c||null}get type(){return Ip}get isRangeNode(){return!0}needsEnd(){var a=this.filter(function(o){return lt(o)&&o.name==="end"});return a.length>0}_compile(a,o){var c=a.range,l=this.start._compile(a,o),s=this.end._compile(a,o);if(this.step){var u=this.step._compile(a,o);return function(p,m,v){return c(l(p,m,v),s(p,m,v),u(p,m,v))}}else return function(p,m,v){return c(l(p,m,v),s(p,m,v))}}forEach(a){a(this.start,"start",this),a(this.end,"end",this),this.step&&a(this.step,"step",this)}map(a){return new n(this._ifNode(a(this.start,"start",this)),this._ifNode(a(this.end,"end",this)),this.step&&this._ifNode(a(this.step,"step",this)))}clone(){return new n(this.start,this.end,this.step&&this.step)}_toString(a){var o=a&&a.parenthesis?a.parenthesis:"keep",c=r(this,o,a&&a.implicit),l,s=this.start.toString(a);if(c.start&&(s="("+s+")"),l=s,this.step){var u=this.step.toString(a);c.step&&(u="("+u+")"),l+=":"+u}var f=this.end.toString(a);return c.end&&(f="("+f+")"),l+=":"+f,l}toJSON(){return{mathjs:Ip,start:this.start,end:this.end,step:this.step}}static fromJSON(a){return new n(a.start,a.end,a.step)}_toHTML(a){var o=a&&a.parenthesis?a.parenthesis:"keep",c=r(this,o,a&&a.implicit),l,s=this.start.toHTML(a);if(c.start&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l=s,this.step){var u=this.step.toHTML(a);c.step&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+='<span class="math-operator math-range-operator">:</span>'+u}var f=this.end.toHTML(a);return c.end&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+='<span class="math-operator math-range-operator">:</span>'+f,l}_toTex(a){var o=a&&a.parenthesis?a.parenthesis:"keep",c=r(this,o,a&&a.implicit),l=this.start.toTex(a);if(c.start&&(l="\\left(".concat(l,"\\right)")),this.step){var s=this.step.toTex(a);c.step&&(s="\\left(".concat(s,"\\right)")),l+=":"+s}var u=this.end.toTex(a);return c.end&&(u="\\left(".concat(u,"\\right)")),l+=":"+u,l}}return jr(n,"name",Ip),n},{isClass:!0,isNode:!0});var Op="RelationalNode",OY=["Node"],Ex=M(Op,OY,t=>{var{Node:e}=t,r={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="};class n extends e{constructor(a,o){if(super(),!Array.isArray(a))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(o))throw new TypeError("Parameter params must be an array");if(a.length!==o.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=a,this.params=o}get type(){return Op}get isRelationalNode(){return!0}_compile(a,o){var c=this,l=this.params.map(s=>s._compile(a,o));return function(u,f,p){for(var m,v=l[0](u,f,p),d=0;d<c.conditionals.length;d++){m=v,v=l[d+1](u,f,p);var g=At(a,c.conditionals[d]);if(!g(m,v))return!1}return!0}}forEach(a){this.params.forEach((o,c)=>a(o,"params["+c+"]",this),this)}map(a){return new n(this.conditionals.slice(),this.params.map((o,c)=>this._ifNode(a(o,"params["+c+"]",this)),this))}clone(){return new n(this.conditionals,this.params)}_toString(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",c=et(this,o,a&&a.implicit),l=this.params.map(function(f,p){var m=et(f,o,a&&a.implicit);return o==="all"||m!==null&&m<=c?"("+f.toString(a)+")":f.toString(a)}),s=l[0],u=0;u<this.conditionals.length;u++)s+=" "+r[this.conditionals[u]],s+=" "+l[u+1];return s}toJSON(){return{mathjs:Op,conditionals:this.conditionals,params:this.params}}static fromJSON(a){return new n(a.conditionals,a.params)}_toHTML(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",c=et(this,o,a&&a.implicit),l=this.params.map(function(f,p){var m=et(f,o,a&&a.implicit);return o==="all"||m!==null&&m<=c?'<span class="math-parenthesis math-round-parenthesis">(</span>'+f.toHTML(a)+'<span class="math-parenthesis math-round-parenthesis">)</span>':f.toHTML(a)}),s=l[0],u=0;u<this.conditionals.length;u++)s+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+rn(r[this.conditionals[u]])+"</span>"+l[u+1];return s}_toTex(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",c=et(this,o,a&&a.implicit),l=this.params.map(function(f,p){var m=et(f,o,a&&a.implicit);return o==="all"||m!==null&&m<=c?"\\left("+f.toTex(a)+"\right)":f.toTex(a)}),s=l[0],u=0;u<this.conditionals.length;u++)s+=$r[this.conditionals[u]]+l[u+1];return s}}return jr(n,"name",Op),n},{isClass:!0,isNode:!0});var BY="SymbolNode",PY=["math","?Unit","Node"],Mx=M(BY,PY,t=>{var{math:e,Unit:r,Node:n}=t;function i(o){return r?r.isValuelessUnit(o):!1}class a extends n{constructor(c){if(super(),typeof c!="string")throw new TypeError('String expected for parameter "name"');this.name=c}get type(){return"SymbolNode"}get isSymbolNode(){return!0}_compile(c,l){var s=this.name;if(l[s]===!0)return function(f,p,m){return At(p,s)};if(s in c)return function(f,p,m){return f.has(s)?f.get(s):At(c,s)};var u=i(s);return function(f,p,m){return f.has(s)?f.get(s):u?new r(null,s):a.onUndefinedSymbol(s)}}forEach(c){}map(c){return this.clone()}static onUndefinedSymbol(c){throw new Error("Undefined symbol "+c)}clone(){return new a(this.name)}_toString(c){return this.name}_toHTML(c){var l=rn(this.name);return l==="true"||l==="false"?'<span class="math-symbol math-boolean">'+l+"</span>":l==="i"?'<span class="math-symbol math-imaginary-symbol">'+l+"</span>":l==="Infinity"?'<span class="math-symbol math-infinity-symbol">'+l+"</span>":l==="NaN"?'<span class="math-symbol math-nan-symbol">'+l+"</span>":l==="null"?'<span class="math-symbol math-null-symbol">'+l+"</span>":l==="undefined"?'<span class="math-symbol math-undefined-symbol">'+l+"</span>":'<span class="math-symbol">'+l+"</span>"}toJSON(){return{mathjs:"SymbolNode",name:this.name}}static fromJSON(c){return new a(c.name)}_toTex(c){var l=!1;typeof e[this.name]=="undefined"&&i(this.name)&&(l=!0);var s=Np(this.name,l);return s[0]==="\\"?s:" "+s}}return a},{isClass:!0,isNode:!0});var Bp="FunctionNode",RY=["math","Node","SymbolNode"],Cx=M(Bp,RY,t=>{var e,{math:r,Node:n,SymbolNode:i}=t,a=l=>ir(l,{truncate:78});function o(l,s,u){for(var f="",p=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,m=0,v;(v=p.exec(l))!==null;)if(f+=l.substring(m,v.index),m=v.index,v[0]==="$$")f+="$",m++;else{m+=v[0].length;var d=s[v[1]];if(!d)throw new ReferenceError("Template: Property "+v[1]+" does not exist.");if(v[2]===void 0)switch(typeof d){case"string":f+=d;break;case"object":if(_r(d))f+=d.toTex(u);else if(Array.isArray(d))f+=d.map(function(g,x){if(_r(g))return g.toTex(u);throw new TypeError("Template: "+v[1]+"["+x+"] is not a Node.")}).join(",");else throw new TypeError("Template: "+v[1]+" has to be a Node, String or array of Nodes");break;default:throw new TypeError("Template: "+v[1]+" has to be a Node, String or array of Nodes")}else if(_r(d[v[2]]&&d[v[2]]))f+=d[v[2]].toTex(u);else throw new TypeError("Template: "+v[1]+"["+v[2]+"] is not a Node.")}return f+=l.slice(m),f}class c extends n{constructor(s,u){if(super(),typeof s=="string"&&(s=new i(s)),!_r(s))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(u)||!u.every(_r))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=s,this.args=u||[]}get name(){return this.fn.name||""}get type(){return Bp}get isFunctionNode(){return!0}_compile(s,u){var f=this.args.map(_=>_._compile(s,u));if(lt(this.fn)){var p=this.fn.name;if(u[p]){var x=this.args;return function(N,E,I){var B=At(E,p);if(typeof B!="function")throw new TypeError("Argument '".concat(p,"' was not a function; received: ").concat(a(B)));if(B.rawArgs)return B(x,s,Yo(N,E));var L=f.map(z=>z(N,E,I));return B.apply(B,L)}}else{var m=p in s?At(s,p):void 0,v=typeof m=="function"&&m.rawArgs===!0,d=_=>{var N;if(_.has(p))N=_.get(p);else if(p in s)N=At(s,p);else return c.onUndefinedFunction(p);if(typeof N=="function")return N;throw new TypeError("'".concat(p,`' is not a function; its value is:
  `).concat(a(N)))};if(v){var g=this.args;return function(N,E,I){var B=d(N);return B(g,s,Yo(N,E))}}else switch(f.length){case 0:return function(N,E,I){var B=d(N);return B()};case 1:return function(N,E,I){var B=d(N),L=f[0];return B(L(N,E,I))};case 2:return function(N,E,I){var B=d(N),L=f[0],z=f[1];return B(L(N,E,I),z(N,E,I))};default:return function(N,E,I){var B=d(N),L=f.map(z=>z(N,E,I));return B(...L)}}}}else if(li(this.fn)&&wi(this.fn.index)&&this.fn.index.isObjectProperty()){var A=this.fn.object._compile(s,u),y=this.fn.index.getObjectProperty(),w=this.args;return function(N,E,I){var B=A(N,E,I),L=XN(B,y);if(L!=null&&L.rawArgs)return L(w,s,Yo(N,E));var z=f.map(U=>U(N,E,I));return L.apply(B,z)}}else{var S=this.fn.toString(),b=this.fn._compile(s,u),C=this.args;return function(N,E,I){var B=b(N,E,I);if(typeof B!="function")throw new TypeError("Expression '".concat(S,"' did not evaluate to a function; value is:")+`
  `.concat(a(B)));if(B.rawArgs)return B(C,s,Yo(N,E));var L=f.map(z=>z(N,E,I));return B.apply(B,L)}}}forEach(s){s(this.fn,"fn",this);for(var u=0;u<this.args.length;u++)s(this.args[u],"args["+u+"]",this)}map(s){for(var u=this._ifNode(s(this.fn,"fn",this)),f=[],p=0;p<this.args.length;p++)f[p]=this._ifNode(s(this.args[p],"args["+p+"]",this));return new c(u,f)}clone(){return new c(this.fn,this.args.slice(0))}toString(s){var u,f=this.fn.toString(s);return s&&typeof s.handler=="object"&&Ye(s.handler,f)&&(u=s.handler[f](this,s)),typeof u!="undefined"?u:super.toString(s)}_toString(s){var u=this.args.map(function(p){return p.toString(s)}),f=ea(this.fn)?"("+this.fn.toString(s)+")":this.fn.toString(s);return f+"("+u.join(", ")+")"}toJSON(){return{mathjs:Bp,fn:this.fn,args:this.args}}_toHTML(s){var u=this.args.map(function(f){return f.toHTML(s)});return'<span class="math-function">'+rn(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+u.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}toTex(s){var u;return s&&typeof s.handler=="object"&&Ye(s.handler,this.name)&&(u=s.handler[this.name](this,s)),typeof u!="undefined"?u:super.toTex(s)}_toTex(s){var u=this.args.map(function(m){return m.toTex(s)}),f;xx[this.name]&&(f=xx[this.name]),r[this.name]&&(typeof r[this.name].toTex=="function"||typeof r[this.name].toTex=="object"||typeof r[this.name].toTex=="string")&&(f=r[this.name].toTex);var p;switch(typeof f){case"function":p=f(this,s);break;case"string":p=o(f,this,s);break;case"object":switch(typeof f[u.length]){case"function":p=f[u.length](this,s);break;case"string":p=o(f[u.length],this,s);break}}return typeof p!="undefined"?p:o(qC,this,s)}getIdentifier(){return this.type+":"+this.name}}return e=c,jr(c,"name",Bp),jr(c,"onUndefinedFunction",function(l){throw new Error("Undefined function "+l)}),jr(c,"fromJSON",function(l){return new e(l.fn,l.args)}),c},{isClass:!0,isNode:!0});var VC="parse",kY=["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],Tx=M(VC,kY,t=>{var{typed:e,numeric:r,config:n,AccessorNode:i,ArrayNode:a,AssignmentNode:o,BlockNode:c,ConditionalNode:l,ConstantNode:s,FunctionAssignmentNode:u,FunctionNode:f,IndexNode:p,ObjectNode:m,OperatorNode:v,ParenthesisNode:d,RangeNode:g,RelationalNode:x,SymbolNode:A}=t,y=e(VC,{string:function(H){return te(H,{})},"Array | Matrix":function(H){return w(H,{})},"string, Object":function(H,oe){var we=oe.nodes!==void 0?oe.nodes:{};return te(H,we)},"Array | Matrix, Object":w});function w(F){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},oe=H.nodes!==void 0?H.nodes:{};return Ge(F,function(we){if(typeof we!="string")throw new TypeError("String expected");return te(we,oe)})}var S={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},b={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},C={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},_={true:!0,false:!1,null:null,undefined:void 0},N=["NaN","Infinity"],E={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function I(){return{extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:S.NULL,nestingLevel:0,conditionalLevel:null}}function B(F,H){return F.expression.substr(F.index,H)}function L(F){return B(F,1)}function z(F){F.index++}function U(F){return F.expression.charAt(F.index-1)}function R(F){return F.expression.charAt(F.index+1)}function O(F){for(F.tokenType=S.NULL,F.token="",F.comment="";;){if(L(F)==="#")for(;L(F)!==`
`&&L(F)!=="";)F.comment+=L(F),z(F);if(y.isWhitespace(L(F),F.nestingLevel))z(F);else break}if(L(F)===""){F.tokenType=S.DELIMITER;return}if(L(F)===`
`&&!F.nestingLevel){F.tokenType=S.DELIMITER,F.token=L(F),z(F);return}var H=L(F),oe=B(F,2),we=B(F,3);if(we.length===3&&b[we]){F.tokenType=S.DELIMITER,F.token=we,z(F),z(F),z(F);return}if(oe.length===2&&b[oe]){F.tokenType=S.DELIMITER,F.token=oe,z(F),z(F);return}if(b[H]){F.tokenType=S.DELIMITER,F.token=H,z(F);return}if(y.isDigitDot(H)){F.tokenType=S.NUMBER;var je=B(F,2);if(je==="0b"||je==="0o"||je==="0x"){for(F.token+=L(F),z(F),F.token+=L(F),z(F);y.isHexDigit(L(F));)F.token+=L(F),z(F);if(L(F)===".")for(F.token+=".",z(F);y.isHexDigit(L(F));)F.token+=L(F),z(F);else if(L(F)==="i")for(F.token+="i",z(F);y.isDigit(L(F));)F.token+=L(F),z(F);return}if(L(F)==="."){if(F.token+=L(F),z(F),!y.isDigit(L(F))){F.tokenType=S.DELIMITER;return}}else{for(;y.isDigit(L(F));)F.token+=L(F),z(F);y.isDecimalMark(L(F),R(F))&&(F.token+=L(F),z(F))}for(;y.isDigit(L(F));)F.token+=L(F),z(F);if(L(F)==="E"||L(F)==="e"){if(y.isDigit(R(F))||R(F)==="-"||R(F)==="+"){if(F.token+=L(F),z(F),(L(F)==="+"||L(F)==="-")&&(F.token+=L(F),z(F)),!y.isDigit(L(F)))throw Ne(F,'Digit expected, got "'+L(F)+'"');for(;y.isDigit(L(F));)F.token+=L(F),z(F);if(y.isDecimalMark(L(F),R(F)))throw Ne(F,'Digit expected, got "'+L(F)+'"')}else if(R(F)===".")throw z(F),Ne(F,'Digit expected, got "'+L(F)+'"')}return}if(y.isAlpha(L(F),U(F),R(F))){for(;y.isAlpha(L(F),U(F),R(F))||y.isDigit(L(F));)F.token+=L(F),z(F);Ye(C,F.token)?F.tokenType=S.DELIMITER:F.tokenType=S.SYMBOL;return}for(F.tokenType=S.UNKNOWN;L(F)!=="";)F.token+=L(F),z(F);throw Ne(F,'Syntax error in part "'+F.token+'"')}function G(F){do O(F);while(F.token===`
`)}function k(F){F.nestingLevel++}function Q(F){F.nestingLevel--}y.isAlpha=function(H,oe,we){return y.isValidLatinOrGreek(H)||y.isValidMathSymbol(H,we)||y.isValidMathSymbol(oe,H)},y.isValidLatinOrGreek=function(H){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(H)},y.isValidMathSymbol=function(H,oe){return/^[\uD835]$/.test(H)&&/^[\uDC00-\uDFFF]$/.test(oe)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(oe)},y.isWhitespace=function(H,oe){return H===" "||H==="	"||H===`
`&&oe>0},y.isDecimalMark=function(H,oe){return H==="."&&oe!=="/"&&oe!=="*"&&oe!=="^"},y.isDigitDot=function(H){return H>="0"&&H<="9"||H==="."},y.isDigit=function(H){return H>="0"&&H<="9"},y.isHexDigit=function(H){return H>="0"&&H<="9"||H>="a"&&H<="f"||H>="A"&&H<="F"};function te(F,H){var oe=I();St(oe,{expression:F,extraNodes:H}),O(oe);var we=X(oe);if(oe.token!=="")throw oe.tokenType===S.DELIMITER?Ie(oe,"Unexpected operator "+oe.token):Ne(oe,'Unexpected part "'+oe.token+'"');return we}function X(F){var H,oe=[],we;for(F.token!==""&&F.token!==`
`&&F.token!==";"&&(H=q(F),F.comment&&(H.comment=F.comment));F.token===`
`||F.token===";";)oe.length===0&&H&&(we=F.token!==";",oe.push({node:H,visible:we})),O(F),F.token!==`
`&&F.token!==";"&&F.token!==""&&(H=q(F),F.comment&&(H.comment=F.comment),we=F.token!==";",oe.push({node:H,visible:we}));return oe.length>0?new c(oe):(H||(H=new s(void 0),F.comment&&(H.comment=F.comment)),H)}function q(F){var H,oe,we,je,nr=ne(F);if(F.token==="="){if(lt(nr))return H=nr.name,G(F),we=q(F),new o(new A(H),we);if(li(nr))return G(F),we=q(F),new o(nr.object,nr.index,we);if(Yn(nr)&&lt(nr.fn)&&(je=!0,oe=[],H=nr.name,nr.args.forEach(function(Be,Rn){lt(Be)?oe[Rn]=Be.name:je=!1}),je))return G(F),we=q(F),new u(H,oe,we);throw Ne(F,"Invalid left hand side of assignment operator =")}return nr}function ne(F){for(var H=de(F);F.token==="?";){var oe=F.conditionalLevel;F.conditionalLevel=F.nestingLevel,G(F);var we=H,je=q(F);if(F.token!==":")throw Ne(F,"False part of conditional expression expected");F.conditionalLevel=null,G(F);var nr=q(F);H=new l(we,je,nr),F.conditionalLevel=oe}return H}function de(F){for(var H=ae(F);F.token==="or";)G(F),H=new v("or","or",[H,ae(F)]);return H}function ae(F){for(var H=se(F);F.token==="xor";)G(F),H=new v("xor","xor",[H,se(F)]);return H}function se(F){for(var H=me(F);F.token==="and";)G(F),H=new v("and","and",[H,me(F)]);return H}function me(F){for(var H=le(F);F.token==="|";)G(F),H=new v("|","bitOr",[H,le(F)]);return H}function le(F){for(var H=ce(F);F.token==="^|";)G(F),H=new v("^|","bitXor",[H,ce(F)]);return H}function ce(F){for(var H=pe(F);F.token==="&";)G(F),H=new v("&","bitAnd",[H,pe(F)]);return H}function pe(F){for(var H=[xe(F)],oe=[],we={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};Ye(we,F.token);){var je={name:F.token,fn:we[F.token]};oe.push(je),G(F),H.push(xe(F))}return H.length===1?H[0]:H.length===2?new v(oe[0].name,oe[0].fn,H):new x(oe.map(nr=>nr.fn),H)}function xe(F){var H,oe,we,je;H=Fe(F);for(var nr={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};Ye(nr,F.token);)oe=F.token,we=nr[oe],G(F),je=[H,Fe(F)],H=new v(oe,we,je);return H}function Fe(F){var H,oe,we,je;H=He(F);for(var nr={to:"to",in:"to"};Ye(nr,F.token);)oe=F.token,we=nr[oe],G(F),oe==="in"&&F.token===""?H=new v("*","multiply",[H,new A("in")],!0):(je=[H,He(F)],H=new v(oe,we,je));return H}function He(F){var H,oe=[];if(F.token===":"?H=new s(1):H=Y(F),F.token===":"&&F.conditionalLevel!==F.nestingLevel){for(oe.push(H);F.token===":"&&oe.length<3;)G(F),F.token===")"||F.token==="]"||F.token===","||F.token===""?oe.push(new A("end")):oe.push(Y(F));oe.length===3?H=new g(oe[0],oe[2],oe[1]):H=new g(oe[0],oe[1])}return H}function Y(F){var H,oe,we,je;H=j(F);for(var nr={"+":"add","-":"subtract"};Ye(nr,F.token);){oe=F.token,we=nr[oe],G(F);var Be=j(F);Be.isPercentage?je=[H,new v("*","multiply",[H,Be])]:je=[H,Be],H=new v(oe,we,je)}return H}function j(F){var H,oe,we,je;H=ue(F),oe=H;for(var nr={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide"};Ye(nr,F.token);)we=F.token,je=nr[we],G(F),oe=ue(F),H=new v(we,je,[H,oe]);return H}function ue(F){var H,oe;for(H=W(F),oe=H;F.tokenType===S.SYMBOL||F.token==="in"&&Sr(H)||F.tokenType===S.NUMBER&&!Sr(oe)&&(!wt(oe)||oe.op==="!")||F.token==="(";)oe=W(F),H=new v("*","multiply",[H,oe],!0);return H}function W(F){for(var H=J(F),oe=H,we=[];F.token==="/"&&$u(oe);)if(we.push(St({},F)),G(F),F.tokenType===S.NUMBER)if(we.push(St({},F)),G(F),F.tokenType===S.SYMBOL||F.token==="(")St(F,we.pop()),we.pop(),oe=J(F),H=new v("/","divide",[H,oe]);else{we.pop(),St(F,we.pop());break}else{St(F,we.pop());break}return H}function J(F){var H,oe,we,je;H=ee(F);for(var nr={"%":"mod",mod:"mod"};Ye(nr,F.token);)oe=F.token,we=nr[oe],G(F),oe==="%"&&F.tokenType===S.DELIMITER&&F.token!=="("?H=new v("/","divide",[H,new s(100)],!1,!0):(je=[H,ee(F)],H=new v(oe,we,je));return H}function ee(F){var H,oe,we,je={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return Ye(je,F.token)?(we=je[F.token],H=F.token,G(F),oe=[ee(F)],new v(H,we,oe)):he(F)}function he(F){var H,oe,we,je;return H=ve(F),(F.token==="^"||F.token===".^")&&(oe=F.token,we=oe==="^"?"pow":"dotPow",G(F),je=[H,ee(F)],H=new v(oe,we,je)),H}function ve(F){var H,oe,we,je;H=Re(F);for(var nr={"!":"factorial","'":"ctranspose"};Ye(nr,F.token);)oe=F.token,we=nr[oe],O(F),je=[H],H=new v(oe,we,je),H=sr(F,H);return H}function Re(F){var H=[];if(F.tokenType===S.SYMBOL&&Ye(F.extraNodes,F.token)){var oe=F.extraNodes[F.token];if(O(F),F.token==="("){if(H=[],k(F),O(F),F.token!==")")for(H.push(q(F));F.token===",";)O(F),H.push(q(F));if(F.token!==")")throw Ne(F,"Parenthesis ) expected");Q(F),O(F)}return new oe(H)}return ye(F)}function ye(F){var H,oe;return F.tokenType===S.SYMBOL||F.tokenType===S.DELIMITER&&F.token in C?(oe=F.token,O(F),Ye(_,oe)?H=new s(_[oe]):N.indexOf(oe)!==-1?H=new s(r(oe,"number")):H=new A(oe),H=sr(F,H),H):pr(F)}function sr(F,H,oe){for(var we;(F.token==="("||F.token==="["||F.token===".")&&(!oe||oe.indexOf(F.token)!==-1);)if(we=[],F.token==="(")if(lt(H)||li(H)){if(k(F),O(F),F.token!==")")for(we.push(q(F));F.token===",";)O(F),we.push(q(F));if(F.token!==")")throw Ne(F,"Parenthesis ) expected");Q(F),O(F),H=new f(H,we)}else return H;else if(F.token==="["){if(k(F),O(F),F.token!=="]")for(we.push(q(F));F.token===",";)O(F),we.push(q(F));if(F.token!=="]")throw Ne(F,"Parenthesis ] expected");Q(F),O(F),H=new i(H,new p(we))}else{O(F);var je=F.tokenType===S.SYMBOL||F.tokenType===S.DELIMITER&&F.token in C;if(!je)throw Ne(F,"Property name expected after dot");we.push(new s(F.token)),O(F);var nr=!0;H=new i(H,new p(we,nr))}return H}function pr(F){var H,oe;return F.token==='"'||F.token==="'"?(oe=kr(F,F.token),H=new s(oe),H=sr(F,H),H):or(F)}function kr(F,H){for(var oe="";L(F)!==""&&L(F)!==H;)if(L(F)==="\\"){z(F);var we=L(F),je=E[we];if(je!==void 0)oe+=je,F.index+=1;else if(we==="u"){var nr=F.expression.slice(F.index+1,F.index+5);if(/^[0-9A-Fa-f]{4}$/.test(nr))oe+=String.fromCharCode(parseInt(nr,16)),F.index+=5;else throw Ne(F,"Invalid unicode character \\u".concat(nr))}else throw Ne(F,"Bad escape character \\".concat(we))}else oe+=L(F),z(F);if(O(F),F.token!==H)throw Ne(F,"End of string ".concat(H," expected"));return O(F),oe}function or(F){var H,oe,we,je;if(F.token==="["){if(k(F),O(F),F.token!=="]"){var nr=Z(F);if(F.token===";"){for(we=1,oe=[nr];F.token===";";)O(F),oe[we]=Z(F),we++;if(F.token!=="]")throw Ne(F,"End of matrix ] expected");Q(F),O(F),je=oe[0].items.length;for(var Be=1;Be<we;Be++)if(oe[Be].items.length!==je)throw Ie(F,"Column dimensions mismatch ("+oe[Be].items.length+" !== "+je+")");H=new a(oe)}else{if(F.token!=="]")throw Ne(F,"End of matrix ] expected");Q(F),O(F),H=nr}}else Q(F),O(F),H=new a([]);return sr(F,H)}return re(F)}function Z(F){for(var H=[q(F)],oe=1;F.token===",";)O(F),H[oe]=q(F),oe++;return new a(H)}function re(F){if(F.token==="{"){k(F);var H,oe={};do if(O(F),F.token!=="}"){if(F.token==='"'||F.token==="'")H=kr(F,F.token);else if(F.tokenType===S.SYMBOL||F.tokenType===S.DELIMITER&&F.token in C)H=F.token,O(F);else throw Ne(F,"Symbol or string expected as object key");if(F.token!==":")throw Ne(F,"Colon : expected after object key");O(F),oe[H]=q(F)}while(F.token===",");if(F.token!=="}")throw Ne(F,"Comma , or bracket } expected after object value");Q(F),O(F);var we=new m(oe);return we=sr(F,we),we}return fe(F)}function fe(F){var H;return F.tokenType===S.NUMBER?(H=F.token,O(F),new s(r(H,n.number))):Se(F)}function Se(F){var H;if(F.token==="("){if(k(F),O(F),H=q(F),F.token!==")")throw Ne(F,"Parenthesis ) expected");return Q(F),O(F),H=new d(H),H=sr(F,H),H}return _e(F)}function _e(F){throw F.token===""?Ne(F,"Unexpected end of expression"):Ne(F,"Value expected")}function be(F){return F.index-F.token.length+1}function Ne(F,H){var oe=be(F),we=new SyntaxError(H+" (char "+oe+")");return we.char=oe,we}function Ie(F,H){var oe=be(F),we=new SyntaxError(H+" (char "+oe+")");return we.char=oe,we}return e.addConversion({from:"string",to:"Node",convert:y}),y});var zC="compile",LY=["typed","parse"],Fx=M(zC,LY,t=>{var{typed:e,parse:r}=t;return e(zC,{string:function(i){return r(i).compile()},"Array | Matrix":function(i){return Ge(i,function(a){return r(a).compile()})}})});var HC="evaluate",UY=["typed","parse"],Ix=M(HC,UY,t=>{var{typed:e,parse:r}=t;return e(HC,{string:function(i){var a=Ka();return r(i).compile().evaluate(a)},"string, Map | Object":function(i,a){return r(i).compile().evaluate(a)},"Array | Matrix":function(i){var a=Ka();return Ge(i,function(o){return r(o).compile().evaluate(a)})},"Array | Matrix, Map | Object":function(i,a){return Ge(i,function(o){return r(o).compile().evaluate(a)})}})});var qY="Parser",VY=["evaluate"],Ox=M(qY,VY,t=>{var{evaluate:e}=t;function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");Object.defineProperty(this,"scope",{value:Ka(),writable:!1})}return r.prototype.type="Parser",r.prototype.isParser=!0,r.prototype.evaluate=function(n){return e(n,this.scope)},r.prototype.get=function(n){if(this.scope.has(n))return this.scope.get(n)},r.prototype.getAll=function(){return e_(this.scope)},r.prototype.getAllAsMap=function(){return this.scope},r.prototype.set=function(n,i){return this.scope.set(n,i),i},r.prototype.remove=function(n){this.scope.delete(n)},r.prototype.clear=function(){this.scope.clear()},r},{isClass:!0});var YC="parser",zY=["typed","Parser"],Bx=M(YC,zY,t=>{var{typed:e,Parser:r}=t;return e(YC,{"":function(){return new r}})});var GC="lup",HY=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],Px=M(GC,HY,t=>{var{typed:e,matrix:r,abs:n,addScalar:i,divideScalar:a,multiplyScalar:o,subtractScalar:c,larger:l,equalScalar:s,unaryMinus:u,DenseMatrix:f,SparseMatrix:p,Spa:m}=t;return e(GC,{DenseMatrix:function(x){return v(x)},SparseMatrix:function(x){return d(x)},Array:function(x){var A=r(x),y=v(A);return{L:y.L.valueOf(),U:y.U.valueOf(),p:y.p}}});function v(g){var x=g._size[0],A=g._size[1],y=Math.min(x,A),w=Xe(g._data),S=[],b=[x,y],C=[],_=[y,A],N,E,I,B=[];for(N=0;N<x;N++)B[N]=N;for(E=0;E<A;E++){if(E>0)for(N=0;N<x;N++){var L=Math.min(N,E),z=0;for(I=0;I<L;I++)z=i(z,o(w[N][I],w[I][E]));w[N][E]=c(w[N][E],z)}var U=E,R=0,O=0;for(N=E;N<x;N++){var G=w[N][E],k=n(G);l(k,R)&&(U=N,R=k,O=G)}if(E!==U&&(B[E]=[B[U],B[U]=B[E]][0],f._swapRows(E,U,w)),E<x)for(N=E+1;N<x;N++){var Q=w[N][E];s(Q,0)||(w[N][E]=a(w[N][E],O))}}for(E=0;E<A;E++)for(N=0;N<x;N++){if(E===0&&(N<A&&(C[N]=[]),S[N]=[]),N<E){N<A&&(C[N][E]=w[N][E]),E<x&&(S[N][E]=0);continue}if(N===E){N<A&&(C[N][E]=w[N][E]),E<x&&(S[N][E]=1);continue}N<A&&(C[N][E]=0),E<x&&(S[N][E]=w[N][E])}var te=new f({data:S,size:b}),X=new f({data:C,size:_}),q=[];for(N=0,y=B.length;N<y;N++)q[B[N]]=N;return{L:te,U:X,p:q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function d(g){var x=g._size[0],A=g._size[1],y=Math.min(x,A),w=g._values,S=g._index,b=g._ptr,C=[],_=[],N=[],E=[x,y],I=[],B=[],L=[],z=[y,A],U,R,O,G=[],k=[];for(U=0;U<x;U++)G[U]=U,k[U]=U;var Q=function(q,ne){var de=k[q],ae=k[ne];G[de]=ne,G[ae]=q,k[q]=ae,k[ne]=de},te=function(){var q=new m;R<x&&(N.push(C.length),C.push(1),_.push(R)),L.push(I.length);var ne=b[R],de=b[R+1];for(O=ne;O<de;O++)U=S[O],q.set(G[U],w[O]);R>0&&q.forEach(0,R-1,function(le,ce){p._forEachRow(le,C,_,N,function(pe,xe){pe>le&&q.accumulate(pe,u(o(xe,ce)))})});var ae=R,se=q.get(R),me=n(se);q.forEach(R+1,x-1,function(le,ce){var pe=n(ce);l(pe,me)&&(ae=le,me=pe,se=ce)}),R!==ae&&(p._swapRows(R,ae,E[1],C,_,N),p._swapRows(R,ae,z[1],I,B,L),q.swap(R,ae),Q(R,ae)),q.forEach(0,x-1,function(le,ce){le<=R?(I.push(ce),B.push(le)):(ce=a(ce,se),s(ce,0)||(C.push(ce),_.push(le)))})};for(R=0;R<A;R++)te();return L.push(I.length),N.push(C.length),{L:new p({values:C,index:_,ptr:N,size:E}),U:new p({values:I,index:B,ptr:L,size:z}),p:G,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}});var WC="qr",YY=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtractScalar","complex"],Rx=M(WC,YY,t=>{var{typed:e,matrix:r,zeros:n,identity:i,isZero:a,equal:o,sign:c,sqrt:l,conj:s,unaryMinus:u,addScalar:f,divideScalar:p,multiplyScalar:m,subtractScalar:v,complex:d}=t;return St(e(WC,{DenseMatrix:function(w){return x(w)},SparseMatrix:function(w){return A(w)},Array:function(w){var S=r(w),b=x(S);return{Q:b.Q.valueOf(),R:b.R.valueOf()}}}),{_denseQRimpl:g});function g(y){var w=y._size[0],S=y._size[1],b=i([w],"dense"),C=b._data,_=y.clone(),N=_._data,E,I,B,L=n([w],"");for(B=0;B<Math.min(S,w);++B){var z=N[B][B],U=u(o(z,0)?1:c(z)),R=s(U),O=0;for(E=B;E<w;E++)O=f(O,m(N[E][B],s(N[E][B])));var G=m(U,l(O));if(!a(G)){var k=v(z,G);for(L[B]=1,E=B+1;E<w;E++)L[E]=p(N[E][B],k);var Q=u(s(p(k,G))),te=void 0;for(I=B;I<S;I++){for(te=0,E=B;E<w;E++)te=f(te,m(s(L[E]),N[E][I]));for(te=m(te,Q),E=B;E<w;E++)N[E][I]=m(v(N[E][I],m(L[E],te)),R)}for(E=0;E<w;E++){for(te=0,I=B;I<w;I++)te=f(te,m(C[E][I],L[I]));for(te=m(te,Q),I=B;I<w;++I)C[E][I]=p(v(C[E][I],m(te,s(L[I]))),R)}}}return{Q:b,R:_,toString:function(){return"Q: "+this.Q.toString()+`
R: `+this.R.toString()}}}function x(y){var w=g(y),S=w.R._data;if(y._data.length>0)for(var b=S[0][0].type==="Complex"?d(0):0,C=0;C<S.length;++C)for(var _=0;_<C&&_<(S[0]||[]).length;++_)S[C][_]=b;return w}function A(y){throw new Error("qr not implemented for sparse matrices yet")}});function ZC(t,e,r,n){for(var i=t._values,a=t._index,o=t._ptr,c=t._size,l=t._datatype,s=c[0],u=c[1],f=n&&t._values?[]:null,p=[],m=[],v=0,d=0;d<u;d++){m[d]=v;for(var g=r?r[d]:d,x=o[g],A=o[g+1],y=x;y<A;y++){var w=e?e[a[y]]:a[y];p[v]=w,f&&(f[v]=i[y]),v++}}return m[u]=v,t.createSparseMatrix({values:f,index:p,ptr:m,size:[s,u],datatype:l})}function Pp(t,e,r,n,i,a,o){var c=0;for(r[o]=t;c>=0;){var l=r[o+c],s=r[n+l];s===-1?(c--,a[e++]=l):(r[n+l]=r[i+s],++c,r[o+c]=s)}return e}function jC(t,e){if(!t)return null;var r=0,n,i=[],a=[],o=0,c=e,l=2*e;for(n=0;n<e;n++)a[o+n]=-1;for(n=e-1;n>=0;n--)t[n]!==-1&&(a[c+n]=a[o+t[n]],a[o+t[n]]=n);for(n=0;n<e;n++)t[n]===-1&&(r=Pp(n,r,a,o,c,i,l));return i}function $C(t,e){if(!t)return null;var r=t._index,n=t._ptr,i=t._size,a=i[0],o=i[1],c=[],l=[],s=0,u=o,f,p;if(e)for(f=0;f<a;f++)l[u+f]=-1;for(var m=0;m<o;m++){c[m]=-1,l[s+m]=-1;for(var v=n[m],d=n[m+1],g=v;g<d;g++){var x=r[g];for(f=e?l[u+x]:x;f!==-1&&f<m;f=p)p=l[s+f],l[s+f]=m,p===-1&&(c[f]=m);e&&(l[u+x]=m)}}return c}function JC(t,e,r){for(var n=t._values,i=t._index,a=t._ptr,o=t._size,c=o[1],l=0,s=0;s<c;s++){var u=a[s];for(a[s]=l;u<a[s+1];u++)e(i[u],s,n?n[u]:1,r)&&(i[l]=i[u],n&&(n[l]=n[u]),l++)}return a[c]=l,i.splice(l,i.length-l),n&&n.splice(l,n.length-l),l}function Yi(t){return-t-2}var GY="csAmd",WY=["add","multiply","transpose"],XC=M(GY,WY,t=>{var{add:e,multiply:r,transpose:n}=t;return function(u,f){if(!f||u<=0||u>3)return null;var p=f._size,m=p[0],v=p[1],d=0,g=Math.max(16,10*Math.sqrt(v));g=Math.min(v-2,g);var x=i(u,f,m,v,g);JC(x,l,null);for(var A=x._index,y=x._ptr,w=y[v],S=[],b=[],C=0,_=v+1,N=2*(v+1),E=3*(v+1),I=4*(v+1),B=5*(v+1),L=6*(v+1),z=7*(v+1),U=S,R=a(v,y,b,C,E,U,N,z,_,L,I,B),O=o(v,y,b,B,I,L,g,_,E,U,N),G=0,k,Q,te,X,q,ne,de,ae,se,me,le,ce,pe,xe,Fe,He;O<v;){for(te=-1;G<v&&(te=b[E+G])===-1;G++);b[N+te]!==-1&&(U[b[N+te]]=-1),b[E+G]=b[N+te];var Y=b[I+te],j=b[_+te];O+=j;var ue=0;b[_+te]=-j;var W=y[te],J=Y===0?W:w,ee=J;for(X=1;X<=Y+1;X++){for(X>Y?(ne=te,de=W,ae=b[C+te]-Y):(ne=A[W++],de=y[ne],ae=b[C+ne]),q=1;q<=ae;q++)k=A[de++],!((se=b[_+k])<=0)&&(ue+=se,b[_+k]=-se,A[ee++]=k,b[N+k]!==-1&&(U[b[N+k]]=U[k]),U[k]!==-1?b[N+U[k]]=b[N+k]:b[E+b[B+k]]=b[N+k]);ne!==te&&(y[ne]=Yi(te),b[L+ne]=0)}for(Y!==0&&(w=ee),b[B+te]=ue,y[te]=J,b[C+te]=ee-J,b[I+te]=-2,R=c(R,d,b,L,v),me=J;me<ee;me++)if(k=A[me],!((le=b[I+k])<=0)){se=-b[_+k];var he=R-se;for(W=y[k],ce=y[k]+le-1;W<=ce;W++)ne=A[W],b[L+ne]>=R?b[L+ne]-=se:b[L+ne]!==0&&(b[L+ne]=b[B+ne]+he)}for(me=J;me<ee;me++){for(k=A[me],ce=y[k],pe=ce+b[I+k]-1,xe=ce,Fe=0,He=0,W=ce;W<=pe;W++)if(ne=A[W],b[L+ne]!==0){var ve=b[L+ne]-R;ve>0?(He+=ve,A[xe++]=ne,Fe+=ne):(y[ne]=Yi(te),b[L+ne]=0)}b[I+k]=xe-ce+1;var Re=xe,ye=ce+b[C+k];for(W=pe+1;W<ye;W++){Q=A[W];var sr=b[_+Q];sr<=0||(He+=sr,A[xe++]=Q,Fe+=Q)}He===0?(y[k]=Yi(te),se=-b[_+k],ue-=se,j+=se,O+=se,b[_+k]=0,b[I+k]=-1):(b[B+k]=Math.min(b[B+k],He),A[xe]=A[Re],A[Re]=A[ce],A[ce]=te,b[C+k]=xe-ce+1,Fe=(Fe<0?-Fe:Fe)%v,b[N+k]=b[z+Fe],b[z+Fe]=k,U[k]=Fe)}for(b[B+te]=ue,d=Math.max(d,ue),R=c(R+d,d,b,L,v),me=J;me<ee;me++)if(k=A[me],!(b[_+k]>=0))for(Fe=U[k],k=b[z+Fe],b[z+Fe]=-1;k!==-1&&b[N+k]!==-1;k=b[N+k],R++){for(ae=b[C+k],le=b[I+k],W=y[k]+1;W<=y[k]+ae-1;W++)b[L+A[W]]=R;var pr=k;for(Q=b[N+k];Q!==-1;){var kr=b[C+Q]===ae&&b[I+Q]===le;for(W=y[Q]+1;kr&&W<=y[Q]+ae-1;W++)b[L+A[W]]!==R&&(kr=0);kr?(y[Q]=Yi(k),b[_+k]+=b[_+Q],b[_+Q]=0,b[I+Q]=-1,Q=b[N+Q],b[N+pr]=Q):(pr=Q,Q=b[N+Q])}}for(W=J,me=J;me<ee;me++)k=A[me],!((se=-b[_+k])<=0)&&(b[_+k]=se,He=b[B+k]+ue-se,He=Math.min(He,v-O-se),b[E+He]!==-1&&(U[b[E+He]]=k),b[N+k]=b[E+He],U[k]=-1,b[E+He]=k,G=Math.min(G,He),b[B+k]=He,A[W++]=k);b[_+te]=j,(b[C+te]=W-J)===0&&(y[te]=-1,b[L+te]=0),Y!==0&&(w=W)}for(k=0;k<v;k++)y[k]=Yi(y[k]);for(Q=0;Q<=v;Q++)b[E+Q]=-1;for(Q=v;Q>=0;Q--)b[_+Q]>0||(b[N+Q]=b[E+y[Q]],b[E+y[Q]]=Q);for(ne=v;ne>=0;ne--)b[_+ne]<=0||y[ne]!==-1&&(b[N+ne]=b[E+y[ne]],b[E+y[ne]]=ne);for(te=0,k=0;k<=v;k++)y[k]===-1&&(te=Pp(k,te,b,E,N,S,L));return S.splice(S.length-1,1),S};function i(s,u,f,p,m){var v=n(u);if(s===1&&p===f)return e(u,v);if(s===2){for(var d=v._index,g=v._ptr,x=0,A=0;A<f;A++){var y=g[A];if(g[A]=x,!(g[A+1]-y>m))for(var w=g[A+1];y<w;y++)d[x++]=d[y]}return g[f]=x,u=n(v),r(v,u)}return r(v,u)}function a(s,u,f,p,m,v,d,g,x,A,y,w){for(var S=0;S<s;S++)f[p+S]=u[S+1]-u[S];f[p+s]=0;for(var b=0;b<=s;b++)f[m+b]=-1,v[b]=-1,f[d+b]=-1,f[g+b]=-1,f[x+b]=1,f[A+b]=1,f[y+b]=0,f[w+b]=f[p+b];var C=c(0,0,f,A,s);return f[y+s]=-2,u[s]=-1,f[A+s]=0,C}function o(s,u,f,p,m,v,d,g,x,A,y){for(var w=0,S=0;S<s;S++){var b=f[p+S];if(b===0)f[m+S]=-2,w++,u[S]=-1,f[v+S]=0;else if(b>d)f[g+S]=0,f[m+S]=-1,w++,u[S]=Yi(s),f[g+s]++;else{var C=f[x+b];C!==-1&&(A[C]=S),f[y+S]=f[x+b],f[x+b]=S}}return w}function c(s,u,f,p,m){if(s<2||s+u<0){for(var v=0;v<m;v++)f[p+v]!==0&&(f[p+v]=1);s=2}return s}function l(s,u){return s!==u}});function QC(t,e,r,n,i,a,o){var c,l,s=0,u;if(t<=e||r[n+e]<=r[i+t])return-1;r[i+t]=r[n+e];var f=r[a+t];if(r[a+t]=e,f===-1)s=1,u=t;else{for(s=2,u=f;u!==r[o+u];u=r[o+u]);for(c=f;c!==u;c=l)l=r[o+c],r[o+c]=u}return{jleaf:s,q:u}}var ZY="csCounts",jY=["transpose"],KC=M(ZY,jY,t=>{var{transpose:e}=t;return function(r,n,i,a){if(!r||!n||!i)return null;var o=r._size,c=o[0],l=o[1],s,u,f,p,m,v,d,g=4*l+(a?l+c+1:0),x=[],A=0,y=l,w=2*l,S=3*l,b=4*l,C=5*l+1;for(f=0;f<g;f++)x[f]=-1;var _=[],N=e(r),E=N._index,I=N._ptr;for(f=0;f<l;f++)for(u=i[f],_[u]=x[S+u]===-1?1:0;u!==-1&&x[S+u]===-1;u=n[u])x[S+u]=f;if(a){for(f=0;f<l;f++)x[i[f]]=f;for(s=0;s<c;s++){for(f=l,v=I[s],d=I[s+1],m=v;m<d;m++)f=Math.min(f,x[E[m]]);x[C+s]=x[b+f],x[b+f]=s}}for(s=0;s<l;s++)x[A+s]=s;for(f=0;f<l;f++){for(u=i[f],n[u]!==-1&&_[n[u]]--,p=a?x[b+f]:u;p!==-1;p=a?x[C+p]:-1)for(m=I[p];m<I[p+1];m++){s=E[m];var B=QC(s,u,x,S,y,w,A);B.jleaf>=1&&_[u]++,B.jleaf===2&&_[B.q]--}n[u]!==-1&&(x[A+u]=n[u])}for(u=0;u<l;u++)n[u]!==-1&&(_[n[u]]+=_[u]);return _}});var $Y="csSqr",JY=["add","multiply","transpose"],eT=M($Y,JY,t=>{var{add:e,multiply:r,transpose:n}=t,i=XC({add:e,multiply:r,transpose:n}),a=KC({transpose:n});return function(l,s,u){var f=s._ptr,p=s._size,m=p[1],v,d={};if(d.q=i(l,s),l&&!d.q)return null;if(u){var g=l?ZC(s,null,d.q,0):s;d.parent=$C(g,1);var x=jC(d.parent,m);if(d.cp=a(g,d.parent,x,1),g&&d.parent&&d.cp&&o(g,d))for(d.unz=0,v=0;v<m;v++)d.unz+=d.cp[v]}else d.unz=4*f[m]+m,d.lnz=d.unz;return d};function o(c,l){var s=c._ptr,u=c._index,f=c._size,p=f[0],m=f[1];l.pinv=[],l.leftmost=[];var v=l.parent,d=l.pinv,g=l.leftmost,x=[],A=0,y=p,w=p+m,S=p+2*m,b,C,_,N,E;for(C=0;C<m;C++)x[y+C]=-1,x[w+C]=-1,x[S+C]=0;for(b=0;b<p;b++)g[b]=-1;for(C=m-1;C>=0;C--)for(N=s[C],E=s[C+1],_=N;_<E;_++)g[u[_]]=C;for(b=p-1;b>=0;b--)d[b]=-1,C=g[b],C!==-1&&(x[S+C]++===0&&(x[w+C]=b),x[A+b]=x[y+C],x[y+C]=b);for(l.lnz=0,l.m2=p,C=0;C<m;C++)if(b=x[y+C],l.lnz++,b<0&&(b=l.m2++),d[b]=C,!(--S[C]<=0)){l.lnz+=x[S+C];var I=v[C];I!==-1&&(x[S+I]===0&&(x[w+I]=x[w+C]),x[A+x[w+C]]=x[y+I],x[y+I]=x[A+b],x[S+I]+=x[S+C])}for(b=0;b<p;b++)d[b]<0&&(d[b]=C++);return!0}});function Dl(t,e){return t[e]<0}function Rp(t,e){t[e]=Yi(t[e])}function kx(t){return t<0?Yi(t):t}function rT(t,e,r,n,i){var a=e._index,o=e._ptr,c=e._size,l=c[1],s,u,f,p=0;for(n[0]=t;p>=0;){t=n[p];var m=i?i[t]:t;Dl(o,t)||(Rp(o,t),n[l+p]=m<0?0:kx(o[m]));var v=1;for(u=n[l+p],f=m<0?0:kx(o[m+1]);u<f;u++)if(s=a[u],!Dl(o,s)){n[l+p]=u,n[++p]=s,v=0;break}v&&(p--,n[--r]=t)}return r}function tT(t,e,r,n,i){var a=t._ptr,o=t._size,c=e._index,l=e._ptr,s=o[1],u,f,p,m=s;for(f=l[r],p=l[r+1],u=f;u<p;u++){var v=c[u];Dl(a,v)||(m=rT(v,t,m,n,i))}for(u=m;u<s;u++)Rp(a,n[u]);return m}var XY="csSpsolve",QY=["divideScalar","multiply","subtract"],nT=M(XY,QY,t=>{var{divideScalar:e,multiply:r,subtract:n}=t;return function(a,o,c,l,s,u,f){var p=a._values,m=a._index,v=a._ptr,d=a._size,g=d[1],x=o._values,A=o._index,y=o._ptr,w,S,b,C,_=tT(a,o,c,l,u);for(w=_;w<g;w++)s[l[w]]=0;for(S=y[c],b=y[c+1],w=S;w<b;w++)s[A[w]]=x[w];for(var N=_;N<g;N++){var E=l[N],I=u?u[E]:E;if(!(I<0))for(S=v[I],b=v[I+1],s[E]=e(s[E],p[f?S:b-1]),w=f?S+1:S,C=f?b:b-1;w<C;w++){var B=m[w];s[B]=n(s[B],r(p[w],s[E]))}}return _}});var KY="csLu",eG=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],iT=M(KY,eG,t=>{var{abs:e,divideScalar:r,multiply:n,subtract:i,larger:a,largerEq:o,SparseMatrix:c}=t,l=nT({divideScalar:r,multiply:n,subtract:i});return function(u,f,p){if(!u)return null;var m=u._size,v=m[1],d,g=100,x=100;f&&(d=f.q,g=f.lnz||g,x=f.unz||x);var A=[],y=[],w=[],S=new c({values:A,index:y,ptr:w,size:[v,v]}),b=[],C=[],_=[],N=new c({values:b,index:C,ptr:_,size:[v,v]}),E=[],I,B,L=[],z=[];for(I=0;I<v;I++)L[I]=0,E[I]=-1,w[I+1]=0;g=0,x=0;for(var U=0;U<v;U++){w[U]=g,_[U]=x;var R=d?d[U]:U,O=l(S,u,R,z,L,E,1),G=-1,k=-1;for(B=O;B<v;B++)if(I=z[B],E[I]<0){var Q=e(L[I]);a(Q,k)&&(k=Q,G=I)}else C[x]=E[I],b[x++]=L[I];if(G===-1||k<=0)return null;E[R]<0&&o(e(L[R]),n(k,p))&&(G=R);var te=L[G];for(C[x]=U,b[x++]=te,E[G]=U,y[g]=G,A[g++]=1,B=O;B<v;B++)I=z[B],E[I]<0&&(y[g]=I,A[g++]=r(L[I],te)),L[I]=0}for(w[v]=g,_[v]=x,B=0;B<g;B++)y[B]=E[y[B]];return A.splice(g,A.length-g),y.splice(g,y.length-g),b.splice(x,b.length-x),C.splice(x,C.length-x),{L:S,U:N,pinv:E}}});var aT="slu",rG=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],Lx=M(aT,rG,t=>{var{typed:e,abs:r,add:n,multiply:i,transpose:a,divideScalar:o,subtract:c,larger:l,largerEq:s,SparseMatrix:u}=t,f=eT({add:n,multiply:i,transpose:a}),p=iT({abs:r,divideScalar:o,multiply:i,subtract:c,larger:l,largerEq:s,SparseMatrix:u});return e(aT,{"SparseMatrix, number, number":function(v,d,g){if(!Ue(d)||d<0||d>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(g<0||g>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var x=f(d,v,!1),A=p(v,x,g);return{L:A.L,U:A.U,p:A.pinv,q:x.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function Ux(t,e){var r,n=e.length,i=[];if(t)for(r=0;r<n;r++)i[t[r]]=e[r];else for(r=0;r<n;r++)i[r]=e[r];return i}var oT="lusolve",tG=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],qx=M(oT,tG,t=>{var{typed:e,matrix:r,lup:n,slu:i,usolve:a,lsolve:o,DenseMatrix:c}=t,l=ia({DenseMatrix:c});return e(oT,{"Array, Array | Matrix":function(p,m){p=r(p);var v=n(p),d=u(v.L,v.U,v.p,null,m);return d.valueOf()},"DenseMatrix, Array | Matrix":function(p,m){var v=n(p);return u(v.L,v.U,v.p,null,m)},"SparseMatrix, Array | Matrix":function(p,m){var v=n(p);return u(v.L,v.U,v.p,null,m)},"SparseMatrix, Array | Matrix, number, number":function(p,m,v,d){var g=i(p,v,d);return u(g.L,g.U,g.p,g.q,m)},"Object, Array | Matrix":function(p,m){return u(p.L,p.U,p.p,p.q,m)}});function s(f){if(ze(f))return f;if(Ir(f))return r(f);throw new TypeError("Invalid Matrix LU decomposition")}function u(f,p,m,v,d){f=s(f),p=s(p),m&&(d=l(f,d,!0),d._data=Ux(m,d._data));var g=o(f,d),x=a(p,g);return v&&(x._data=Ux(v,x._data)),x}});var sT="polynomialRoot",nG=["typed","isZero","equalScalar","add","subtract","multiply","divide","sqrt","unaryMinus","cbrt","typeOf","im","re"],Vx=M(sT,nG,t=>{var{typed:e,isZero:r,equalScalar:n,add:i,subtract:a,multiply:o,divide:c,sqrt:l,unaryMinus:s,cbrt:u,typeOf:f,im:p,re:m}=t;return e(sT,{"number|Complex, ...number|Complex":(v,d)=>{for(var g=[v,...d];g.length>0&&r(g[g.length-1]);)g.pop();if(g.length<2)throw new RangeError("Polynomial [".concat(v,", ").concat(d,"] must have a non-zero non-constant coefficient"));switch(g.length){case 2:return[s(c(g[0],g[1]))];case 3:{var[x,A,y]=g,w=o(2,y),S=o(A,A),b=o(4,y,x);if(n(S,b))return[c(s(A),w)];var C=l(a(S,b));return[c(a(C,A),w),c(a(s(C),A),w)]}case 4:{var[_,N,E,I]=g,B=s(o(3,I)),L=o(E,E),z=o(3,I,N),U=i(o(2,E,E,E),o(27,I,I,_)),R=o(9,I,E,N);if(n(L,z)&&n(U,R))return[c(E,B)];var O=a(L,z),G=a(U,R),k=i(o(18,I,E,N,_),o(E,E,N,N)),Q=i(o(4,E,E,E,_),o(4,I,N,N,N),o(27,I,I,_,_));if(n(k,Q))return[c(a(o(4,I,E,N),i(o(9,I,I,_),o(E,E,E))),o(I,O)),c(a(o(9,I,_),o(E,N)),o(2,O))];var te;n(L,z)?te=G:te=c(i(G,l(a(o(G,G),o(4,O,O,O)))),2);var X=!0,q=u(te,X).toArray().map(ne=>c(i(E,ne,c(O,ne)),B));return q.map(ne=>f(ne)==="Complex"&&n(m(ne),m(ne)+p(ne))?m(ne):ne)}default:throw new RangeError("only implemented for cubic or lower-order polynomials, not ".concat(g))}}})});var iG="Help",aG=["evaluate"],zx=M(iG,aG,t=>{var{evaluate:e}=t;function r(n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!n)throw new Error('Argument "doc" missing');this.doc=n}return r.prototype.type="Help",r.prototype.isHelp=!0,r.prototype.toString=function(){var n=this.doc||{},i=`
`;if(n.name&&(i+="Name: "+n.name+`

`),n.category&&(i+="Category: "+n.category+`

`),n.description&&(i+=`Description:
    `+n.description+`

`),n.syntax&&(i+=`Syntax:
    `+n.syntax.join(`
    `)+`

`),n.examples){i+=`Examples:
`;for(var a=!1,o=e("config()"),c={config:f=>(a=!0,e("config(newConfig)",{newConfig:f}))},l=0;l<n.examples.length;l++){var s=n.examples[l];i+="    "+s+`
`;var u=void 0;try{u=e(s,c)}catch(f){u=f}u!==void 0&&!Tf(u)&&(i+="        "+ir(u,{precision:14})+`
`)}i+=`
`,a&&e("config(originalConfig)",{originalConfig:o})}return n.mayThrow&&n.mayThrow.length&&(i+="Throws: "+n.mayThrow.join(", ")+`

`),n.seealso&&n.seealso.length&&(i+="See also: "+n.seealso.join(", ")+`
`),i},r.prototype.toJSON=function(){var n=Xe(this.doc);return n.mathjs="Help",n},r.fromJSON=function(n){var i={};return Object.keys(n).filter(a=>a!=="mathjs").forEach(a=>{i[a]=n[a]}),new r(i)},r.prototype.valueOf=r.prototype.toString,r},{isClass:!0});var oG="Chain",sG=["?on","math","typed"],Hx=M(oG,sG,t=>{var{on:e,math:r,typed:n}=t;function i(s){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");Ff(s)?this.value=s.value:this.value=s}i.prototype.type="Chain",i.prototype.isChain=!0,i.prototype.done=function(){return this.value},i.prototype.valueOf=function(){return this.value},i.prototype.toString=function(){return ir(this.value)},i.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},i.fromJSON=function(s){return new i(s.value)};function a(s,u){typeof u=="function"&&(i.prototype[s]=c(u))}function o(s,u){wN(i.prototype,s,function(){var p=u();if(typeof p=="function")return c(p)})}function c(s){return function(){if(arguments.length===0)return new i(s(this.value));for(var u=[this.value],f=0;f<arguments.length;f++)u[f+1]=arguments[f];if(n.isTypedFunction(s)){var p=n.resolve(s,u);if(p.params.length===1)throw new Error("chain function "+s.name+" cannot match rest parameter between chain value and additional arguments.");return new i(p.implementation.apply(s,u))}return new i(s.apply(s,u))}}i.createProxy=function(s,u){if(typeof s=="string")a(s,u);else{var f=function(v){Ye(s,v)&&l[v]===void 0&&o(v,()=>s[v])};for(var p in s)f(p)}};var l={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return i.createProxy(r),e&&e("import",function(s,u,f){f||o(s,u)}),i},{isClass:!0});var Yx={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]};var uT={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]};var lT={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]};var cT={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]};var fT={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]};var pT={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]};var mT={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]};var dT={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]};var hT={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]};var vT={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]};var gT={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]};var Gx={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]};var yT={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]};var xT={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]};var bT={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]};var wT={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]};var DT={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]};var ST={name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","fraction","index","matrix","string","unit"]};var AT={name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]};var NT={name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]};var _T={name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]};var ET={name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(matrix)","fraction(num,den)","fraction({n: num, d: den})"],description:"Create a fraction from a number or from integer numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)","fraction({n: 333, d: 53})","fraction([sqrt(9), sqrt(10), sqrt(11)])"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]};var MT={name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[1:2, 1:2] = 1","B = [1, 2, 3]","B[B>1 and B<3]"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]};var CT={name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]};var TT={name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","boolean","complex","fraction","index","matrix","string","unit"]};var FT={name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]};var IT={name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]};var OT={name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]};var BT={name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]};var PT={name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]};var RT={name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]};var kT={name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number": f(x)=x+x, "string": f(x)=concat(x,x) })',"double(2)",'double("hello")'],seealso:[]};var LT={name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]};var UT={name:"leafCount",category:"Algebra",syntax:["leafCount(expr)"],description:"Computes the number of leaves in the parse tree of the given expression",examples:['leafCount("e^(i*pi)-1")','leafCount(parse("{a: 22/7, b: 10^(1/2)}"))'],seealso:["simplify"]};var qT={name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]};var VT={name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]};var zT={name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]};var HT={name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]};var YT={name:"polynomialRoot",category:"Algebra",syntax:["x=polynomialRoot(-6, 3)","x=polynomialRoot(4, -4, 1)","x=polynomialRoot(-8, 12, -6, 1)"],description:"Finds the roots of a univariate polynomial given by its coefficients starting from constant, linear, and so on, increasing in degree.",examples:["a = polynomialRoot(-6, 11, -6, 1)"],seealso:["cbrt","sqrt"]};var GT={name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]};var WT={name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]};var ZT={name:"resolve",category:"Algebra",syntax:["resolve(node, scope)"],description:"Recursively substitute variables in an expression tree.",examples:['resolve(parse("1 + x"), { x: 7 })','resolve(parse("size(text)"), { text: "Hello World" })','resolve(parse("x + y"), { x: parse("3z") })','resolve(parse("3x"), { x: parse("y+z"), z: parse("w^y") })'],seealso:["simplify","evaluate"],mayThrow:["ReferenceError"]};var jT={name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["simplifyCore","derivative","evaluate","parse","rationalize","resolve"]};var $T={name:"simplifyConstant",category:"Algebra",syntax:["simplifyConstant(expr)","simplifyConstant(expr, options)"],description:"Replace constant subexpressions of node with their values.",examples:['simplifyConstant("(3-3)*x")','simplifyConstant(parse("z-cos(tau/8)"))'],seealso:["simplify","simplifyCore","evaluate"]};var JT={name:"simplifyCore",category:"Algebra",syntax:["simplifyCore(node)"],description:"Perform simple one-pass simplifications on an expression tree.",examples:['simplifyCore(parse("0*x"))','simplifyCore(parse("(x+0)*2"))'],seealso:["simplify","simplifyConstant","evaluate"]};var XT={name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]};var QT={name:"symbolicEqual",category:"Algebra",syntax:["symbolicEqual(expr1, expr2)","symbolicEqual(expr1, expr2, options)"],description:"Returns true if the difference of the expressions simplifies to 0",examples:['symbolicEqual("x*y","y*x")','symbolicEqual("abs(x^2)", "x^2")','symbolicEqual("abs(x)", "x", {context: {abs: {trivial: true}}})'],seealso:["simplify","evaluate"]};var KT={name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]};var e2={name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]};var r2={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]};var t2={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]};var n2={name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]};var i2={name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]};var a2={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]};var o2={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]};var s2={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]};var u2={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]};var l2={name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]};var c2={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]};var f2={name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]};var p2={name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]};var m2={name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]};var d2={name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]};var h2={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]};var v2={name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenusa of a list with values. ",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]};var g2={name:"invmod",category:"Arithmetic",syntax:["invmod(a, b)"],description:"Calculate the (modular) multiplicative inverse of a modulo b. Solution to the equation ax \u2263 1 (mod b)",examples:["invmod(8, 12)","invmod(7, 13)","invmod(15151, 15122)"],seealso:["gcd","xgcd"]};var y2={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]};var x2={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]};var b2={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]};var w2={name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]};var D2={name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]};var S2={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]};var A2={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]};var N2={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']};var _2={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]};var E2={name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]};var M2={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)","pow([[1, 2], [4, 3]], 2)","pow([[1, 2], [4, 3]], -1)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]};var C2={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)","round(unit, valuelessUnit)","round(unit, n, valuelessUnit)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)","round(3.241cm, 2, cm)","round([3.2, 3.8, -4.7])"],seealso:["ceil","floor","fix"]};var T2={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]};var F2={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]};var I2={name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[33, 24], [48, 57]])"],seealso:["sqrt","abs","square","multiply"]};var O2={name:"sylvester",category:"Algebra",syntax:["sylvester(A,B,C)"],description:"Solves the real-valued Sylvester equation AX+XB=C for X",examples:["sylvester([[-1, -2], [1, 1]], [[-2, 1], [-1, 2]], [[-3, 2], [3, 0]])","A = [[-1, -2], [1, 1]]; B = [[2, -1], [1, -2]]; C = [[-3, 2], [3, 0]]","sylvester(A, B, C)"],seealso:["schur","lyap"]};var B2={name:"schur",category:"Algebra",syntax:["schur(A)"],description:"Performs a real Schur decomposition of the real matrix A = UTU'",examples:["schur([[1, 0], [-4, 3]])","A = [[1, 0], [-4, 3]]","schur(A)"],seealso:["lyap","sylvester"]};var P2={name:"lyap",category:"Algebra",syntax:["lyap(A,Q)"],description:"Solves the Continuous-time Lyapunov equation AP+PA'+Q=0 for P",examples:["lyap([[-2, 0], [1, -4]], [[3, 1], [1, 3]])","A = [[-2, 0], [1, -4]]","Q = [[3, 1], [1, 3]]","lyap(A,Q)"],seealso:["schur","sylvester"]};var R2={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]};var k2={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]};var L2={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]};var U2={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]};var q2={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]};var V2={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]};var z2={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]};var H2={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]};var Y2={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]};var G2={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]};var W2={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]};var Z2={name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]};var j2={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]};var $2={name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]};var J2={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]};var X2={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]};var Q2={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]};var K2={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]};var eF={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]};var rF={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]};var tF={name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate(expression, scope)","evaluate([expr1, expr2, expr3, ...])","evaluate([expr1, expr2, expr3, ...], scope)"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(16)")','evaluate("2 inch to cm")','evaluate("sin(x * pi)", { "x": 1/2 })','evaluate(["width=2", "height=4","width*height"])'],seealso:[]};var nF={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]};var iF={name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]};var aF={name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]};var oF={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]};var sF={name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]};var uF={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]};var lF={name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]};var cF={name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row","matrixFromColumns"]};var fF={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var pF={name:"count",category:"Matrix",syntax:["count(x)"],description:"Count the number of elements of a matrix, array or string.",examples:["a = [1, 2; 3, 4; 5, 6]","count(a)","size(a)",'count("hello world")'],seealso:["size"]};var mF={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]};var dF={name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]};var hF={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var vF={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var gF={name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicant the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["A = [1, 2, 4, 7, 0]","diff(A)","diff(A, 1)","B = [[1, 2], [3, 4]]","diff(B)","diff(B, 1)","diff(B, 2)","diff(B, bignumber(2))","diff([[1, 2], matrix([3, 4])], 2)"],seealso:["subtract","partitionSelect"]};var yF={name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]};var xF={name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and optionally eigenvectors of a square matrix",examples:["eigs([[5, 2.3], [2.3, 1]])","eigs([[1, 2, 3], [4, 5, 6], [7, 8, 9]], { precision: 1e-6, eigenvectors: false })"],seealso:["inv"]};var bF={name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]};var wF={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]};var DF={name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["numberOfPets = {}","addPet(n) = numberOfPets[n] = (numberOfPets[n] ? numberOfPets[n]:0 ) + 1;",'forEach(["Dog","Cat","Cat"], addPet)',"numberOfPets"],seealso:["map","sort","filter"]};var SF={name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]};var AF={name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var NF={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var _F={name:"pinv",category:"Matrix",syntax:["pinv(x)"],description:"Calculate the Moore\u2013Penrose inverse of a matrix",examples:["pinv([1, 2; 3, 4])","pinv([[1, 0], [0, 1], [0, 1]])","pinv(4)"],seealso:["inv"]};var EF={name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]};var MF={name:"map",category:"Matrix",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], square)"],seealso:["filter","forEach"]};var CF={name:"matrixFromColumns",category:"Matrix",syntax:["matrixFromColumns(...arr)","matrixFromColumns(row1, row2)","matrixFromColumns(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual columns.",examples:["matrixFromColumns([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromRows","matrixFromFunction","zeros"]};var TF={name:"matrixFromFunction",category:"Matrix",syntax:["matrixFromFunction(size, fn)","matrixFromFunction(size, fn, format)","matrixFromFunction(size, fn, format, datatype)","matrixFromFunction(size, format, fn)","matrixFromFunction(size, format, datatype, fn)"],description:"Create a matrix by evaluating a generating function at each index.",examples:["f(I) = I[1] - I[2]","matrixFromFunction([3,3], f)","g(I) = I[1] - I[2] == 1 ? 4 : 0",'matrixFromFunction([100, 100], "sparse", g)',"matrixFromFunction([5], random)"],seealso:["matrix","matrixFromRows","matrixFromColumns","zeros"]};var FF={name:"matrixFromRows",category:"Matrix",syntax:["matrixFromRows(...arr)","matrixFromRows(row1, row2)","matrixFromRows(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual rows.",examples:["matrixFromRows([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromColumns","matrixFromFunction","zeros"]};var IF={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]};var OF={name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1, compareText)',"arr = [5, 2, 1]","partitionSelect(arr, 0) # returns 1, arr is now: [1, 2, 5]","arr","partitionSelect(arr, 1, 'desc') # returns 2, arr is now: [5, 2, 1]","arr"],seealso:["sort"]};var BF={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"range(1m, 1m, 3m)","a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]};var PF={name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])","reshape([1, 2, 3, 4], [-1, 2])"],seealso:["size","squeeze","resize"]};var RF={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]};var kF={name:"rotate",category:"Matrix",syntax:["rotate(w, theta)","rotate(w, theta, v)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotate([1, 0], pi / 2)",'rotate(matrix([1, 0]), unit("35deg"))','rotate([1, 0, 0], unit("90deg"), [0, 0, 1])','rotate(matrix([1, 0, 0]), unit("90deg"), matrix([0, 0, 1]))'],seealso:["matrix","rotationMatrix"]};var LF={name:"rotationMatrix",category:"Matrix",syntax:["rotationMatrix(theta)","rotationMatrix(theta, v)","rotationMatrix(theta, v, format)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotationMatrix(pi / 2)",'rotationMatrix(unit("45deg"), [0, 0, 1])','rotationMatrix(1, matrix([0, 0, 1]), "sparse")'],seealso:["cos","sin"]};var UF={name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column","matrixFromRows"]};var qF={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","count","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]};var VF={name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"], "natural")',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]};var zF={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]};var HF={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of the entries of a matrix or characters of a string. Indexes are one-based. There should be one index specification for each dimension of the target. Each specification can be a single index, a list of indices, or a range in colon notation `l:u`. In a range, both the lower bound l and upper bound u are included; and if a bound is omitted it defaults to the most extreme valid value. The cartesian product of the indices specified in each dimension determines the target of the operation.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]","f[[1,2], [1,3]] = [9, 10; 11, 12]","f"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]};var YF={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]};var GF={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]};var WF={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]};var ZF={name:"fft",category:"Matrix",syntax:["fft(x)"],description:"Calculate N-dimensional fourier transform",examples:["fft([[1, 0], [1, 0]])"],seealso:["ifft"]};var jF={name:"ifft",category:"Matrix",syntax:["ifft(x)"],description:"Calculate N-dimensional inverse fourier transform",examples:["ifft([[2, 2], [0, 0]])"],seealso:["fft"]};var $F={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]};var JF={name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]};var XF={name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]};var QF={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]};var KF={name:"lgamma",category:"Probability",syntax:["lgamma(n)"],description:"Logarithm of the gamma function for real, positive numbers and complex numbers, using Lanczos approximation for numbers and Stirling series for complex numbers.",examples:["lgamma(4)","lgamma(1/2)","lgamma(i)","lgamma(complex(1.1, 2))"],seealso:["gamma"]};var eI={name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]};var rI={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]};var tI={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]};var nI={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]};var iI={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]};var aI={name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]};var oI={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]};var sI={name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]};var uI={name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]};var lI={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]};var cI={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]};var fI={name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]};var pI={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]};var mI={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]};var dI={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]};var hI={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]};var vI={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]};var gI={name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays and the values will be sorted in ascending order before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]};var yI={name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]};var xI={name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]};var bI={name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]};var wI={name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]};var DI={name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]};var SI={name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]};var AI={name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]};var NI={name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]};var _I={name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]};var EI={name:"zpk2tf",category:"Signal",syntax:["zpk2tf(z, p, k)"],description:"Compute the transfer function of a zero-pole-gain model.",examples:["zpk2tf([1, 2], [-1, -2], 1)","zpk2tf([1, 2], [-1, -2])","zpk2tf([1 - 3i, 2 + 2i], [-1, -2])"],seealso:[]};var MI={name:"freqz",category:"Signal",syntax:["freqz(b, a)","freqz(b, a, w)"],description:"Calculates the frequency response of a filter given its numerator and denominator coefficients.",examples:["freqz([1, 2], [1, 2, 3])","freqz([1, 2], [1, 2, 3], [0, 1])","freqz([1, 2], [1, 2, 3], 512)"],seealso:[]};var CI={name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]};var TI={name:"zeta",category:"Special",syntax:["zeta(s)"],description:"Compute the Riemann Zeta Function using an infinite series and Riemanns Functional Equation for the entire complex plane",examples:["zeta(0.2)","zeta(-0.5)","zeta(4)"],seealso:[]};var FI={name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]};var II={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dimension)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]};var OI={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dimension)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]};var BI={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]};var PI={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dimension)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]};var RI={name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]};var kI={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]};var LI={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:`Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. 

In case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.`,examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]};var UI={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, dimension)","std(A, normalization)","std(A, dimension, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]};var qI={name:"cumsum",category:"Statistics",syntax:["cumsum(a, b, c, ...)","cumsum(A)"],description:"Compute the cumulative sum of all values.",examples:["cumsum(2, 3, 4, 1)","cumsum([2, 3, 4, 1])","cumsum([1, 2; 3, 4])","cumsum([1, 2; 3, 4], 1)","cumsum([1, 2; 3, 4], 2)"],seealso:["max","mean","median","min","prod","std","sum","variance"]};var VI={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)","sum(A, dimension)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","variance"]};var zI={name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, dimension)","variance(A, normalization)","variance(A, dimension, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]};var HI={name:"corr",category:"Statistics",syntax:["corr(A,B)"],description:"Compute the correlation coefficient of a two list with values, For matrices, the matrix correlation coefficient is calculated.",examples:["corr([2, 4, 6, 8],[1, 2, 3, 6])","corr(matrix([[1, 2.2, 3, 4.8, 5], [1, 2, 3, 4, 5]]), matrix([[4, 5.3, 6.6, 7, 8], [1, 2, 3, 4, 5]]))"],seealso:["max","mean","min","median","min","prod","std","sum"]};var YI={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]};var GI={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]};var WI={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]};var ZI={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]};var jI={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]};var $I={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]};var JI={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]};var XI={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]};var QI={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]};var KI={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]};var eO={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]};var rO={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]};var tO={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]};var nO={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]};var iO={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]};var aO={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]};var oO={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]};var sO={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]};var uO={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]};var lO={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]};var cO={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]};var fO={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]};var pO={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]};var mO={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]};var dO={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]};var hO={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]};var vO={name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]};var gO={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]};var yO={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]};var xO={name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]};var bO={name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]};var wO={name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]};var DO={name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]};var SO={name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]};var AO={name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]};var NO={name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]};var _O={name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]};var EO={name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]};var MO={name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "BigNumber")','numeric("4", "Fraction")','numeric(4, "Fraction")','numeric(fraction(2, 5), "number")'],seealso:["number","fraction","bignumber","string","format"]};var CO={name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]};var TO={name:"print",category:"Utils",syntax:["print(template, values)","print(template, values, precision)"],description:"Interpolate values into a string template.",examples:['print("Lucy is $age years old", {age: 5})','print("The value of pi is $pi", {pi: pi}, 3)','print("Hello, $user.name!", {user: {name: "John"}})','print("Values: $1, $2, $3", [6, 9, 4])'],seealso:["format"]};var FO={name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]};var IO={name:"solveODE",category:"Numeric",syntax:["solveODE(func, tspan, y0)","solveODE(func, tspan, y0, options)"],description:"Numerical Integration of Ordinary Differential Equations.",examples:["f(t,y) = y","tspan = [0, 4]","solveODE(f, tspan, 1)","solveODE(f, tspan, [1, 2])",'solveODE(f, tspan, 1, { method:"RK23", maxStep:0.1 })'],seealso:["derivative","simplifyCore"]};var OO={bignumber:ST,boolean:AT,complex:NT,createUnit:_T,fraction:ET,index:MT,matrix:CT,number:TT,sparse:FT,splitUnit:IT,string:OT,unit:BT,e:Yx,E:Yx,false:uT,i:lT,Infinity:cT,LN2:pT,LN10:fT,LOG2E:dT,LOG10E:mT,NaN:hT,null:vT,pi:Gx,PI:Gx,phi:gT,SQRT1_2:yT,SQRT2:xT,tau:bT,true:wT,version:DT,speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant",examples:["coulomb"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Borh magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Borh radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:LT,lsolve:qT,lsolveAll:VT,lup:zT,lusolve:HT,leafCount:UT,polynomialRoot:YT,resolve:ZT,simplify:jT,simplifyConstant:$T,simplifyCore:JT,symbolicEqual:QT,rationalize:WT,slu:XT,usolve:KT,usolveAll:e2,qr:GT,abs:r2,add:t2,cbrt:n2,ceil:i2,cube:a2,divide:o2,dotDivide:s2,dotMultiply:u2,dotPow:l2,exp:c2,expm:f2,expm1:p2,fix:m2,floor:d2,gcd:h2,hypot:v2,lcm:y2,log:x2,log2:D2,log1p:w2,log10:b2,mod:S2,multiply:A2,norm:N2,nthRoot:_2,nthRoots:E2,pow:M2,round:C2,sign:T2,sqrt:F2,sqrtm:I2,square:R2,subtract:k2,unaryMinus:L2,unaryPlus:U2,xgcd:q2,invmod:g2,bitAnd:V2,bitNot:z2,bitOr:H2,bitXor:Y2,leftShift:G2,rightArithShift:W2,rightLogShift:Z2,bellNumbers:j2,catalan:$2,composition:J2,stirlingS2:X2,config:PT,import:RT,typed:kT,arg:Q2,conj:K2,re:rF,im:eF,evaluate:tF,help:nF,distance:iF,intersect:aF,and:oF,not:sF,or:uF,xor:lF,concat:fF,count:pF,cross:mF,column:cF,ctranspose:dF,det:hF,diag:vF,diff:gF,dot:yF,getMatrixDataType:SF,identity:AF,filter:bF,flatten:wF,forEach:DF,inv:NF,pinv:_F,eigs:xF,kron:EF,matrixFromFunction:TF,matrixFromRows:FF,matrixFromColumns:CF,map:MF,ones:IF,partitionSelect:OF,range:BF,resize:RF,reshape:PF,rotate:kF,rotationMatrix:LF,row:UF,size:qF,sort:VF,squeeze:zF,subset:HF,trace:YF,transpose:GF,zeros:WF,fft:ZF,ifft:jF,sylvester:O2,schur:B2,lyap:P2,solveODE:IO,combinations:$F,combinationsWithRep:JF,factorial:XF,gamma:QF,kldivergence:eI,lgamma:KF,multinomial:rI,permutations:tI,pickRandom:nI,random:iI,randomInt:aI,compare:oI,compareNatural:sI,compareText:uI,deepEqual:lI,equal:cI,equalText:fI,larger:pI,largerEq:mI,smaller:dI,smallerEq:hI,unequal:vI,setCartesian:gI,setDifference:yI,setDistinct:xI,setIntersect:bI,setIsSubset:wI,setMultiplicity:DI,setPowerset:SI,setSize:AI,setSymDifference:NI,setUnion:_I,zpk2tf:EI,freqz:MI,erf:CI,zeta:TI,cumsum:qI,mad:FI,max:II,mean:OI,median:BI,min:PI,mode:RI,prod:kI,quantileSeq:LI,std:UI,sum:VI,variance:zI,corr:HI,acos:YI,acosh:GI,acot:WI,acoth:ZI,acsc:jI,acsch:$I,asec:JI,asech:XI,asin:QI,asinh:KI,atan:eO,atanh:tO,atan2:rO,cos:nO,cosh:iO,cot:aO,coth:oO,csc:sO,csch:uO,sec:lO,sech:cO,sin:fO,sinh:pO,tan:mO,tanh:dO,to:hO,clone:gO,format:yO,bin:vO,oct:CO,hex:bO,isNaN:DO,isInteger:wO,isNegative:SO,isNumeric:AO,hasNumericValue:xO,isPositive:NO,isPrime:_O,isZero:EO,print:TO,typeOf:FO,numeric:MO};var BO="help",uG=["typed","mathWithTransform","Help"],Wx=M(BO,uG,t=>{var{typed:e,mathWithTransform:r,Help:n}=t;return e(BO,{any:function(a){var o,c=a;if(typeof a!="string"){for(o in r)if(Ye(r,o)&&a===r[o]){c=o;break}}var l=At(OO,c);if(!l){var s=typeof c=="function"?c.name:c;throw new Error('No documentation found on "'+s+'"')}return new n(l)}})});var PO="chain",lG=["typed","Chain"],Zx=M(PO,lG,t=>{var{typed:e,Chain:r}=t;return e(PO,{"":function(){return new r},any:function(i){return new r(i)}})});var RO="det",cG=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],jx=M(RO,cG,t=>{var{typed:e,matrix:r,subtractScalar:n,multiply:i,divideScalar:a,isZero:o,unaryMinus:c}=t;return e(RO,{any:function(u){return Xe(u)},"Array | Matrix":function(u){var f;switch(ze(u)?f=u.size():Array.isArray(u)?(u=r(u),f=u.size()):f=[],f.length){case 0:return Xe(u);case 1:if(f[0]===1)return Xe(u.valueOf()[0]);if(f[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+ir(f)+")");case 2:{var p=f[0],m=f[1];if(p===m)return l(u.clone().valueOf(),p,m);if(m===0)return 1;throw new RangeError("Matrix must be square (size: "+ir(f)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+ir(f)+")")}}});function l(s,u,f){if(u===1)return Xe(s[0][0]);if(u===2)return n(i(s[0][0],s[1][1]),i(s[1][0],s[0][1]));for(var p=!1,m=new Array(u).fill(0).map((C,_)=>_),v=0;v<u;v++){var d=m[v];if(o(s[d][v])){var g=void 0;for(g=v+1;g<u;g++)if(!o(s[m[g]][v])){d=m[g],m[g]=m[v],m[v]=d,p=!p;break}if(g===u)return s[d][v]}for(var x=s[d][v],A=v===0?1:s[m[v-1]][v-1],y=v+1;y<u;y++)for(var w=m[y],S=v+1;S<u;S++)s[w][S]=a(n(i(s[w][S],x),i(s[w][v],s[d][S])),A)}var b=s[m[u-1]][u-1];return p?c(b):b}});var kO="inv",fG=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],$x=M(kO,fG,t=>{var{typed:e,matrix:r,divideScalar:n,addScalar:i,multiply:a,unaryMinus:o,det:c,identity:l,abs:s}=t;return e(kO,{"Array | Matrix":function(p){var m=ze(p)?p.size():er(p);switch(m.length){case 1:if(m[0]===1)return ze(p)?r([n(1,p.valueOf()[0])]):[n(1,p[0])];throw new RangeError("Matrix must be square (size: "+ir(m)+")");case 2:{var v=m[0],d=m[1];if(v===d)return ze(p)?r(u(p.valueOf(),v,d),p.storage()):u(p,v,d);throw new RangeError("Matrix must be square (size: "+ir(m)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+ir(m)+")")}},any:function(p){return n(1,p)}});function u(f,p,m){var v,d,g,x,A;if(p===1){if(x=f[0][0],x===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,x)]]}else if(p===2){var y=c(f);if(y===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(f[1][1],y),n(o(f[0][1]),y)],[n(o(f[1][0]),y),n(f[0][0],y)]]}else{var w=f.concat();for(v=0;v<p;v++)w[v]=w[v].concat();for(var S=l(p).valueOf(),b=0;b<m;b++){var C=s(w[b][b]),_=b;for(v=b+1;v<p;)s(w[v][b])>C&&(C=s(w[v][b]),_=v),v++;if(C===0)throw Error("Cannot calculate inverse, determinant is zero");v=_,v!==b&&(A=w[b],w[b]=w[v],w[v]=A,A=S[b],S[b]=S[v],S[v]=A);var N=w[b],E=S[b];for(v=0;v<p;v++){var I=w[v],B=S[v];if(v!==b){if(I[b]!==0){for(g=n(o(I[b]),N[b]),d=b;d<m;d++)I[d]=i(I[d],a(g,N[d]));for(d=0;d<m;d++)B[d]=i(B[d],a(g,E[d]))}}else{for(g=N[b],d=b;d<m;d++)I[d]=n(I[d],g);for(d=0;d<m;d++)B[d]=n(B[d],g)}}}return S}}});var LO="pinv",pG=["typed","matrix","inv","deepEqual","equal","dotDivide","dot","ctranspose","divideScalar","multiply","add","Complex"],Jx=M(LO,pG,t=>{var{typed:e,matrix:r,inv:n,deepEqual:i,equal:a,dotDivide:o,dot:c,ctranspose:l,divideScalar:s,multiply:u,add:f,Complex:p}=t;return e(LO,{"Array | Matrix":function(y){var w=ze(y)?y.size():er(y);switch(w.length){case 1:return x(y)?l(y):w[0]===1?n(y):o(l(y),c(y,y));case 2:{if(x(y))return l(y);var S=w[0],b=w[1];if(S===b)try{return n(y)}catch(C){if(!(C instanceof Error&&C.message.match(/Cannot calculate inverse, determinant is zero/)))throw C}return ze(y)?r(m(y.valueOf(),S,b),y.storage()):m(y,S,b)}default:throw new RangeError("Matrix must be two dimensional (size: "+ir(w)+")")}},any:function(y){return a(y,0)?Xe(y):s(1,y)}});function m(A,y,w){var{C:S,F:b}=d(A,y,w),C=u(n(u(l(S),S)),l(S)),_=u(l(b),n(u(b,l(b))));return u(_,C)}function v(A,y,w){for(var S=Xe(A),b=0,C=0;C<y;C++){if(w<=b)return S;for(var _=C;g(S[_][b]);)if(_++,y===_&&(_=C,b++,w===b))return S;[S[_],S[C]]=[S[C],S[_]];for(var N=S[C][b],E=0;E<w;E++)S[C][E]=o(S[C][E],N);for(var I=0;I<y;I++)if(I!==C){N=S[I][b];for(var B=0;B<w;B++)S[I][B]=f(S[I][B],u(-1,u(N,S[C][B])))}b++}return S}function d(A,y,w){var S=v(A,y,w),b=A.map((_,N)=>_.filter((E,I)=>I<y&&!g(c(S[I],S[I])))),C=S.filter((_,N)=>!g(c(S[N],S[N])));return{C:b,F:C}}function g(A){return a(f(A,p(1,1)),f(0,p(1,1)))}function x(A){return i(f(A,p(1,1)),f(u(A,0),p(1,1)))}});function UO(t){var{addScalar:e,subtract:r,flatten:n,multiply:i,multiplyScalar:a,divideScalar:o,sqrt:c,abs:l,bignumber:s,diag:u,size:f,reshape:p,inv:m,qr:v,usolve:d,usolveAll:g,equal:x,complex:A,larger:y,smaller:w,matrixFromColumns:S,dot:b}=t;function C(X,q,ne,de){var ae=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,se=_(X,q,ne,de,ae);N(X,q,ne,de,ae,se);var{values:me,C:le}=E(X,q,ne,de,ae);if(ae){var ce=I(X,q,le,se,me,ne,de);return{values:me,eigenvectors:ce}}return{values:me}}function _(X,q,ne,de,ae){var se=de==="BigNumber",me=de==="Complex",le=se?s(0):0,ce=se?s(1):me?A(1):1,pe=se?s(1):1,xe=se?s(10):2,Fe=a(xe,xe),He;ae&&(He=Array(q).fill(ce));for(var Y=!1;!Y;){Y=!0;for(var j=0;j<q;j++){for(var ue=le,W=le,J=0;J<q;J++)j!==J&&(ue=e(ue,l(X[J][j])),W=e(W,l(X[j][J])));if(!x(ue,0)&&!x(W,0)){for(var ee=pe,he=ue,ve=o(W,xe),Re=a(W,xe);w(he,ve);)he=a(he,Fe),ee=a(ee,xe);for(;y(he,Re);)he=o(he,Fe),ee=o(ee,xe);var ye=w(o(e(he,W),ee),a(e(ue,W),.95));if(ye){Y=!1;for(var sr=o(1,ee),pr=0;pr<q;pr++)j!==pr&&(X[j][pr]=a(X[j][pr],sr),X[pr][j]=a(X[pr][j],ee));ae&&(He[j]=a(He[j],sr))}}}}return ae?u(He):null}function N(X,q,ne,de,ae,se){var me=de==="BigNumber",le=de==="Complex",ce=me?s(0):le?A(0):0;me&&(ne=s(ne));for(var pe=0;pe<q-2;pe++){for(var xe=0,Fe=ce,He=pe+1;He<q;He++){var Y=X[He][pe];w(l(Fe),l(Y))&&(Fe=Y,xe=He)}if(!w(l(Fe),ne)){if(xe!==pe+1){var j=X[xe];X[xe]=X[pe+1],X[pe+1]=j;for(var ue=0;ue<q;ue++){var W=X[ue][xe];X[ue][xe]=X[ue][pe+1],X[ue][pe+1]=W}if(ae){var J=se[xe];se[xe]=se[pe+1],se[pe+1]=J}}for(var ee=pe+2;ee<q;ee++){var he=o(X[ee][pe],Fe);if(he!==0){for(var ve=0;ve<q;ve++)X[ee][ve]=r(X[ee][ve],a(he,X[pe+1][ve]));for(var Re=0;Re<q;Re++)X[Re][pe+1]=e(X[Re][pe+1],a(he,X[Re][ee]));if(ae)for(var ye=0;ye<q;ye++)se[ee][ye]=r(se[ee][ye],a(he,se[pe+1][ye]))}}}}return se}function E(X,q,ne,de,ae){var se=de==="BigNumber",me=de==="Complex",le=se?s(1):me?A(1):1;se&&(ne=s(ne));for(var ce=Xe(X),pe=[],xe=q,Fe=[],He=ae?u(Array(q).fill(le)):void 0,Y=ae?u(Array(xe).fill(le)):void 0,j=0;j<=100;){j+=1;for(var ue=ce[xe-1][xe-1],W=0;W<xe;W++)ce[W][W]=r(ce[W][W],ue);var{Q:J,R:ee}=v(ce);ce=i(ee,J);for(var he=0;he<xe;he++)ce[he][he]=e(ce[he][he],ue);if(ae&&(Y=i(Y,J)),xe===1||w(l(ce[xe-1][xe-2]),ne)){j=0,pe.push(ce[xe-1][xe-1]),ae&&(Fe.unshift([[1]]),z(Y,q),He=i(He,Y),xe>1&&(Y=u(Array(xe-1).fill(le)))),xe-=1,ce.pop();for(var ve=0;ve<xe;ve++)ce[ve].pop()}else if(xe===2||w(l(ce[xe-2][xe-3]),ne)){j=0;var Re=B(ce[xe-2][xe-2],ce[xe-2][xe-1],ce[xe-1][xe-2],ce[xe-1][xe-1]);pe.push(...Re),ae&&(Fe.unshift(L(ce[xe-2][xe-2],ce[xe-2][xe-1],ce[xe-1][xe-2],ce[xe-1][xe-1],Re[0],Re[1],ne,de)),z(Y,q),He=i(He,Y),xe>2&&(Y=u(Array(xe-2).fill(le)))),xe-=2,ce.pop(),ce.pop();for(var ye=0;ye<xe;ye++)ce[ye].pop(),ce[ye].pop()}if(xe===0)break}if(pe.sort((kr,or)=>+r(l(kr),l(or))),j>100){var sr=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+pe.join(", "));throw sr.values=pe,sr.vectors=[],sr}var pr=ae?i(He,U(Fe,q)):void 0;return{values:pe,C:pr}}function I(X,q,ne,de,ae,se,me){var le=m(ne),ce=i(le,X,ne),pe=me==="BigNumber",xe=me==="Complex",Fe=pe?s(0):xe?A(0):0,He=pe?s(1):xe?A(1):1,Y=[],j=[];for(var ue of ae){var W=R(Y,ue,x);W===-1?(Y.push(ue),j.push(1)):j[W]+=1}for(var J=[],ee=Y.length,he=Array(q).fill(Fe),ve=u(Array(q).fill(He)),Re=function(){var pr=Y[ye],kr=r(ce,i(pr,ve)),or=g(kr,he);for(or.shift();or.length<j[ye];){var Z=O(kr,q,or,se,me);if(Z===null)break;or.push(Z)}var re=i(m(de),ne);or=or.map(fe=>i(re,fe)),J.push(...or.map(fe=>({value:pr,vector:n(fe)})))},ye=0;ye<ee;ye++)Re();return J}function B(X,q,ne,de){var ae=e(X,de),se=r(a(X,de),a(q,ne)),me=a(ae,.5),le=a(c(r(a(ae,ae),a(4,se))),.5);return[e(me,le),r(me,le)]}function L(X,q,ne,de,ae,se,me,le){var ce=le==="BigNumber",pe=le==="Complex",xe=ce?s(0):pe?A(0):0,Fe=ce?s(1):pe?A(1):1;if(w(l(ne),me))return[[Fe,xe],[xe,Fe]];if(y(l(r(ae,se)),me))return[[r(ae,de),r(se,de)],[ne,ne]];var He=r(X,ae),Y=r(de,ae);return w(l(q),me)&&w(l(Y),me)?[[He,Fe],[ne,xe]]:[[q,xe],[Y,Fe]]}function z(X,q){for(var ne=0;ne<X.length;ne++)X[ne].push(...Array(q-X[ne].length).fill(0));for(var de=X.length;de<q;de++)X.push(Array(q).fill(0)),X[de][de]=1;return X}function U(X,q){for(var ne=[],de=0;de<q;de++)ne[de]=Array(q).fill(0);var ae=0;for(var se of X){for(var me=se.length,le=0;le<me;le++)for(var ce=0;ce<me;ce++)ne[ae+le][ae+ce]=se[le][ce];ae+=me}return ne}function R(X,q,ne){for(var de=0;de<X.length;de++)if(ne(X[de],q))return de;return-1}function O(X,q,ne,de,ae){for(var se=ae==="BigNumber"?s(1e3):1e3,me,le=0;le<5;++le){me=G(q,ne,ae);try{me=d(X,me)}catch(pe){continue}if(y(Q(me),se))break}if(le>=5)return null;for(le=0;;){var ce=d(X,me);if(w(Q(k(me,[ce])),de))break;if(++le>=10)return null;me=te(ce)}return me}function G(X,q,ne){var de=ne==="BigNumber",ae=ne==="Complex",se=Array(X).fill(0).map(me=>2*Math.random()-1);return de&&(se=se.map(me=>s(me))),ae&&(se=se.map(me=>A(me))),se=k(se,q),te(se,ne)}function k(X,q){var ne=f(X);for(var de of q)de=p(de,ne),X=r(X,i(o(b(de,X),b(de,de)),de));return X}function Q(X){return l(c(b(X,X)))}function te(X,q){var ne=q==="BigNumber",de=q==="Complex",ae=ne?s(1):de?A(1):1;return i(o(ae,Q(X)),X)}return C}function qO(t){var{config:e,addScalar:r,subtract:n,abs:i,atan:a,cos:o,sin:c,multiplyScalar:l,inv:s,bignumber:u,multiply:f,add:p}=t;function m(N,E){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.epsilon,B=arguments.length>3?arguments[3]:void 0,L=arguments.length>4?arguments[4]:void 0;if(B==="number")return v(N,I,L);if(B==="BigNumber")return d(N,I,L);throw TypeError("Unsupported data type: "+B)}function v(N,E,I){var B=N.length,L=Math.abs(E/B),z,U;if(I){U=new Array(B);for(var R=0;R<B;R++)U[R]=Array(B).fill(0),U[R][R]=1}for(var O=b(N);Math.abs(O[1])>=Math.abs(L);){var G=O[0][0],k=O[0][1];z=g(N[G][G],N[k][k],N[G][k]),N=S(N,z,G,k),I&&(U=A(U,z,G,k)),O=b(N)}for(var Q=Array(B).fill(0),te=0;te<B;te++)Q[te]=N[te][te];return _(Xe(Q),U,I)}function d(N,E,I){var B=N.length,L=i(E/B),z,U;if(I){U=new Array(B);for(var R=0;R<B;R++)U[R]=Array(B).fill(0),U[R][R]=1}for(var O=C(N);i(O[1])>=i(L);){var G=O[0][0],k=O[0][1];z=x(N[G][G],N[k][k],N[G][k]),N=w(N,z,G,k),I&&(U=y(U,z,G,k)),O=C(N)}for(var Q=Array(B).fill(0),te=0;te<B;te++)Q[te]=N[te][te];return _(Xe(Q),U,I)}function g(N,E,I){var B=E-N;return Math.abs(B)<=e.epsilon?Math.PI/4:.5*Math.atan(2*I/(E-N))}function x(N,E,I){var B=n(E,N);return i(B)<=e.epsilon?u(-1).acos().div(4):l(.5,a(f(2,I,s(B))))}function A(N,E,I,B){for(var L=N.length,z=Math.cos(E),U=Math.sin(E),R=Array(L).fill(0),O=Array(L).fill(0),G=0;G<L;G++)R[G]=z*N[G][I]-U*N[G][B],O[G]=U*N[G][I]+z*N[G][B];for(var k=0;k<L;k++)N[k][I]=R[k],N[k][B]=O[k];return N}function y(N,E,I,B){for(var L=N.length,z=o(E),U=c(E),R=Array(L).fill(u(0)),O=Array(L).fill(u(0)),G=0;G<L;G++)R[G]=n(l(z,N[G][I]),l(U,N[G][B])),O[G]=r(l(U,N[G][I]),l(z,N[G][B]));for(var k=0;k<L;k++)N[k][I]=R[k],N[k][B]=O[k];return N}function w(N,E,I,B){for(var L=N.length,z=u(o(E)),U=u(c(E)),R=l(z,z),O=l(U,U),G=Array(L).fill(u(0)),k=Array(L).fill(u(0)),Q=f(u(2),z,U,N[I][B]),te=r(n(l(R,N[I][I]),Q),l(O,N[B][B])),X=p(l(O,N[I][I]),Q,l(R,N[B][B])),q=0;q<L;q++)G[q]=n(l(z,N[I][q]),l(U,N[B][q])),k[q]=r(l(U,N[I][q]),l(z,N[B][q]));N[I][I]=te,N[B][B]=X,N[I][B]=u(0),N[B][I]=u(0);for(var ne=0;ne<L;ne++)ne!==I&&ne!==B&&(N[I][ne]=G[ne],N[ne][I]=G[ne],N[B][ne]=k[ne],N[ne][B]=k[ne]);return N}function S(N,E,I,B){for(var L=N.length,z=Math.cos(E),U=Math.sin(E),R=z*z,O=U*U,G=Array(L).fill(0),k=Array(L).fill(0),Q=R*N[I][I]-2*z*U*N[I][B]+O*N[B][B],te=O*N[I][I]+2*z*U*N[I][B]+R*N[B][B],X=0;X<L;X++)G[X]=z*N[I][X]-U*N[B][X],k[X]=U*N[I][X]+z*N[B][X];N[I][I]=Q,N[B][B]=te,N[I][B]=0,N[B][I]=0;for(var q=0;q<L;q++)q!==I&&q!==B&&(N[I][q]=G[q],N[q][I]=G[q],N[B][q]=k[q],N[q][B]=k[q]);return N}function b(N){for(var E=N.length,I=0,B=[0,1],L=0;L<E;L++)for(var z=L+1;z<E;z++)Math.abs(I)<Math.abs(N[L][z])&&(I=Math.abs(N[L][z]),B=[L,z]);return[B,I]}function C(N){for(var E=N.length,I=0,B=[0,1],L=0;L<E;L++)for(var z=L+1;z<E;z++)i(I)<i(N[L][z])&&(I=i(N[L][z]),B=[L,z]);return[B,I]}function _(N,E,I){var B=N.length,L=Array(B),z;if(I){z=Array(B);for(var U=0;U<B;U++)z[U]=Array(B)}for(var R=0;R<B;R++){for(var O=0,G=N[0],k=0;k<N.length;k++)i(N[k])<i(G)&&(O=k,G=N[O]);if(L[R]=N.splice(O,1)[0],I)for(var Q=0;Q<B;Q++)z[R][Q]=E[Q][O],E[Q].splice(O,1)}if(!I)return{values:L};var te=z.map((X,q)=>({value:L[q],vector:X}));return{values:L,eigenvectors:te}}return m}var mG="eigs",dG=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","size","reshape","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],Xx=M(mG,dG,t=>{var{config:e,typed:r,matrix:n,addScalar:i,subtract:a,equal:o,abs:c,atan:l,cos:s,sin:u,multiplyScalar:f,divideScalar:p,inv:m,bignumber:v,multiply:d,add:g,larger:x,column:A,flatten:y,number:w,complex:S,sqrt:b,diag:C,size:_,reshape:N,qr:E,usolve:I,usolveAll:B,im:L,re:z,smaller:U,matrixFromColumns:R,dot:O}=t,G=qO({config:e,addScalar:i,subtract:a,column:A,flatten:y,equal:o,abs:c,atan:l,cos:s,sin:u,multiplyScalar:f,inv:m,bignumber:v,complex:S,multiply:d,add:g}),k=UO({config:e,addScalar:i,subtract:a,multiply:d,multiplyScalar:f,flatten:y,divideScalar:p,sqrt:b,abs:c,bignumber:v,diag:C,size:_,reshape:N,qr:E,inv:m,usolve:I,usolveAll:B,equal:o,complex:S,larger:x,smaller:U,matrixFromColumns:R,dot:O});return r("eigs",{Array:function(se){return Q(n(se))},"Array, number|BigNumber":function(se,me){return Q(n(se),{precision:me})},"Array, Object"(ae,se){return Q(n(ae),se)},Matrix:function(se){return Q(se,{matricize:!0})},"Matrix, number|BigNumber":function(se,me){return Q(se,{precision:me,matricize:!0})},"Matrix, Object":function(se,me){var le={matricize:!0};return St(le,me),Q(se,le)}});function Q(ae){var se,me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},le="eigenvectors"in me?me.eigenvectors:!0,ce=(se=me.precision)!==null&&se!==void 0?se:e.epsilon,pe=te(ae,ce,le);return me.matricize&&(pe.values=n(pe.values),le&&(pe.eigenvectors=pe.eigenvectors.map(xe=>{var{value:Fe,vector:He}=xe;return{value:Fe,vector:n(He)}}))),le&&Object.defineProperty(pe,"vectors",{enumerable:!1,get:()=>{throw new Error("eigs(M).vectors replaced with eigs(M).eigenvectors")}}),pe}function te(ae,se,me){var le=ae.toArray(),ce=ae.size();if(ce.length!==2||ce[0]!==ce[1])throw new RangeError("Matrix must be square (size: ".concat(ir(ce),")"));var pe=ce[0];if(q(le,pe,se)&&(ne(le,pe),X(le,pe,se))){var xe=de(ae,le,pe);return G(le,pe,se,xe,me)}var Fe=de(ae,le,pe);return k(le,pe,se,Fe,me)}function X(ae,se,me){for(var le=0;le<se;le++)for(var ce=le;ce<se;ce++)if(x(v(c(a(ae[le][ce],ae[ce][le]))),me))return!1;return!0}function q(ae,se,me){for(var le=0;le<se;le++)for(var ce=0;ce<se;ce++)if(x(v(c(L(ae[le][ce]))),me))return!1;return!0}function ne(ae,se){for(var me=0;me<se;me++)for(var le=0;le<se;le++)ae[me][le]=z(ae[me][le])}function de(ae,se,me){var le=ae.datatype();if(le==="number"||le==="BigNumber"||le==="Complex")return le;for(var ce=!1,pe=!1,xe=!1,Fe=0;Fe<me;Fe++)for(var He=0;He<me;He++){var Y=se[Fe][He];if(tr(Y)||wa(Y))ce=!0;else if(Ze(Y))pe=!0;else if(Hn(Y))xe=!0;else throw TypeError("Unsupported type in Matrix: "+Cr(Y))}if(pe&&xe&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),xe){for(var j=0;j<me;j++)for(var ue=0;ue<me;ue++)se[j][ue]=S(se[j][ue]);return"Complex"}if(pe){for(var W=0;W<me;W++)for(var J=0;J<me;J++)se[W][J]=v(se[W][J]);return"BigNumber"}if(ce){for(var ee=0;ee<me;ee++)for(var he=0;he<me;he++)se[ee][he]=w(se[ee][he]);return"number"}else throw TypeError("Matrix contains unsupported types only.")}});var VO="expm",hG=["typed","abs","add","identity","inv","multiply"],Qx=M(VO,hG,t=>{var{typed:e,abs:r,add:n,identity:i,inv:a,multiply:o}=t;return e(VO,{Matrix:function(f){var p=f.size();if(p.length!==2||p[0]!==p[1])throw new RangeError("Matrix must be square (size: "+ir(p)+")");for(var m=p[0],v=1e-15,d=c(f),g=l(d,v),x=g.q,A=g.j,y=o(f,Math.pow(2,-A)),w=i(m),S=i(m),b=1,C=y,_=-1,N=1;N<=x;N++)N>1&&(C=o(C,y),_=-_),b=b*(x-N+1)/((2*x-N+1)*N),w=n(w,o(b,C)),S=n(S,o(b*_,C));for(var E=o(a(S),w),I=0;I<A;I++)E=o(E,E);return Li(f)?f.createSparseMatrix(E):E}});function c(u){for(var f=u.size()[0],p=0,m=0;m<f;m++){for(var v=0,d=0;d<f;d++)v+=r(u.get([m,d]));p=Math.max(v,p)}return p}function l(u,f){for(var p=30,m=0;m<p;m++)for(var v=0;v<=m;v++){var d=m-v;if(s(u,v,d)<f)return{q:v,j:d}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}function s(u,f,p){for(var m=1,v=2;v<=f;v++)m*=v;for(var d=m,g=f+1;g<=2*f;g++)d*=g;var x=d*(2*f+1);return 8*Math.pow(u/Math.pow(2,p),2*f)*m*m/(d*x)}});var zO="sqrtm",vG=["typed","abs","add","multiply","map","sqrt","subtract","inv","size","max","identity"],Kx=M(zO,vG,t=>{var{typed:e,abs:r,add:n,multiply:i,map:a,sqrt:o,subtract:c,inv:l,size:s,max:u,identity:f}=t,p=1e3,m=1e-6;function v(d){var g,x=0,A=d,y=f(s(d));do{var w=A;if(A=i(.5,n(w,l(y))),y=i(.5,n(y,l(w))),g=u(r(c(A,w))),g>m&&++x>p)throw new Error("computing square root of matrix: iterative method could not converge")}while(g>m);return A}return e(zO,{"Array | Matrix":function(g){var x=ze(g)?g.size():er(g);switch(x.length){case 1:if(x[0]===1)return a(g,o);throw new RangeError("Matrix must be square (size: "+ir(x)+")");case 2:{var A=x[0],y=x[1];if(A===y)return v(g);throw new RangeError("Matrix must be square (size: "+ir(x)+")")}default:throw new RangeError("Matrix must be at most two dimensional (size: "+ir(x)+")")}}})});var HO="sylvester",gG=["typed","schur","matrixFromColumns","matrix","multiply","range","concat","transpose","index","subset","add","subtract","identity","lusolve","abs"],eb=M(HO,gG,t=>{var{typed:e,schur:r,matrixFromColumns:n,matrix:i,multiply:a,range:o,concat:c,transpose:l,index:s,subset:u,add:f,subtract:p,identity:m,lusolve:v,abs:d}=t;return e(HO,{"Matrix, Matrix, Matrix":g,"Array, Matrix, Matrix":function(A,y,w){return g(i(A),y,w)},"Array, Array, Matrix":function(A,y,w){return g(i(A),i(y),w)},"Array, Matrix, Array":function(A,y,w){return g(i(A),y,i(w))},"Matrix, Array, Matrix":function(A,y,w){return g(A,i(y),w)},"Matrix, Array, Array":function(A,y,w){return g(A,i(y),i(w))},"Matrix, Matrix, Array":function(A,y,w){return g(A,y,i(w))},"Array, Array, Array":function(A,y,w){return g(i(A),i(y),i(w)).toArray()}});function g(x,A,y){for(var w=A.size()[0],S=x.size()[0],b=r(x),C=b.T,_=b.U,N=r(a(-1,A)),E=N.T,I=N.U,B=a(a(l(_),y),I),L=o(0,S),z=[],U=(xe,Fe)=>c(xe,Fe,1),R=(xe,Fe)=>c(xe,Fe,0),O=0;O<w;O++)if(O<w-1&&d(u(E,s(O+1,O)))>1e-5){for(var G=R(u(B,s(L,O)),u(B,s(L,O+1))),k=0;k<O;k++)G=f(G,R(a(z[k],u(E,s(k,O))),a(z[k],u(E,s(k,O+1)))));var Q=a(m(S),a(-1,u(E,s(O,O)))),te=a(m(S),a(-1,u(E,s(O+1,O)))),X=a(m(S),a(-1,u(E,s(O,O+1)))),q=a(m(S),a(-1,u(E,s(O+1,O+1)))),ne=R(U(f(C,Q),te),U(X,f(C,q))),de=v(ne,G);z[O]=de.subset(s(o(0,S),0)),z[O+1]=de.subset(s(o(S,2*S),0)),O++}else{for(var ae=u(B,s(L,O)),se=0;se<O;se++)ae=f(ae,a(z[se],u(E,s(se,O))));var me=u(E,s(O,O)),le=p(C,a(me,m(S)));z[O]=v(le,ae)}var ce=i(n(...z)),pe=a(_,a(ce,l(I)));return pe}});var YO="schur",yG=["typed","matrix","identity","multiply","qr","norm","subtract"],rb=M(YO,yG,t=>{var{typed:e,matrix:r,identity:n,multiply:i,qr:a,norm:o,subtract:c}=t;return e(YO,{Array:function(u){var f=l(r(u));return{U:f.U.valueOf(),T:f.T.valueOf()}},Matrix:function(u){return l(u)}});function l(s){var u=s.size()[0],f=s,p=n(u),m=0,v;do{v=f;var d=a(f),g=d.Q,x=d.R;if(f=i(x,g),p=i(p,g),m++>100)break}while(o(c(f,v))>1e-4);return{U:p,T:f}}});var GO="lyap",xG=["typed","matrix","sylvester","multiply","transpose"],tb=M(GO,xG,t=>{var{typed:e,matrix:r,sylvester:n,multiply:i,transpose:a}=t;return e(GO,{"Matrix, Matrix":function(c,l){return n(c,a(c),i(-1,l))},"Array, Matrix":function(c,l){return n(r(c),a(r(c)),i(-1,l))},"Matrix, Array":function(c,l){return n(c,a(r(c)),r(i(-1,l)))},"Array, Array":function(c,l){return n(r(c),a(r(c)),r(i(-1,l))).toArray()}})});var bG="divide",wG=["typed","matrix","multiply","equalScalar","divideScalar","inv"],nb=M(bG,wG,t=>{var{typed:e,matrix:r,multiply:n,equalScalar:i,divideScalar:a,inv:o}=t,c=nt({typed:e,equalScalar:i}),l=Ht({typed:e});return e("divide",If({"Array | Matrix, Array | Matrix":function(u,f){return n(u,o(f))},"DenseMatrix, any":function(u,f){return l(u,f,a,!1)},"SparseMatrix, any":function(u,f){return c(u,f,a,!1)},"Array, any":function(u,f){return l(r(u),f,a,!1).valueOf()},"any, Array | Matrix":function(u,f){return n(u,o(f))}},a.signatures))});var WO="distance",DG=["typed","addScalar","subtractScalar","divideScalar","multiplyScalar","deepEqual","sqrt","abs"],ib=M(WO,DG,t=>{var{typed:e,addScalar:r,subtractScalar:n,multiplyScalar:i,divideScalar:a,deepEqual:o,sqrt:c,abs:l}=t;return e(WO,{"Array, Array, Array":function(S,b,C){if(S.length===2&&b.length===2&&C.length===2){if(!u(S))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!u(b))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!u(C))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(o(b,C))throw new TypeError("LinePoint1 should not be same with LinePoint2");var _=n(C[1],b[1]),N=n(b[0],C[0]),E=n(i(C[0],b[1]),i(b[0],C[1]));return g(S[0],S[1],_,N,E)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(S,b,C){if(Object.keys(S).length===2&&Object.keys(b).length===2&&Object.keys(C).length===2){if(!u(S))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!u(b))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!u(C))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if(o(v(b),v(C)))throw new TypeError("LinePoint1 should not be same with LinePoint2");if("pointX"in S&&"pointY"in S&&"lineOnePtX"in b&&"lineOnePtY"in b&&"lineTwoPtX"in C&&"lineTwoPtY"in C){var _=n(C.lineTwoPtY,b.lineOnePtY),N=n(b.lineOnePtX,C.lineTwoPtX),E=n(i(C.lineTwoPtX,b.lineOnePtY),i(b.lineOnePtX,C.lineTwoPtY));return g(S.pointX,S.pointY,_,N,E)}else throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(S,b){if(S.length===2&&b.length===3){if(!u(S))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!f(b))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return g(S[0],S[1],b[0],b[1],b[2])}else if(S.length===3&&b.length===6){if(!f(S))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!m(b))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return x(S[0],S[1],S[2],b[0],b[1],b[2],b[3],b[4],b[5])}else if(S.length===b.length&&S.length>0){if(!p(S))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!p(b))throw new TypeError("All values of an array should be numbers or BigNumbers");return A(S,b)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(S,b){if(Object.keys(S).length===2&&Object.keys(b).length===3){if(!u(S))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!f(b))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in S&&"pointY"in S&&"xCoeffLine"in b&&"yCoeffLine"in b&&"constant"in b)return g(S.pointX,S.pointY,b.xCoeffLine,b.yCoeffLine,b.constant);throw new TypeError("Key names do not match")}else if(Object.keys(S).length===3&&Object.keys(b).length===6){if(!f(S))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!m(b))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in S&&"pointY"in S&&"x0"in b&&"y0"in b&&"z0"in b&&"a"in b&&"b"in b&&"c"in b)return x(S.pointX,S.pointY,S.pointZ,b.x0,b.y0,b.z0,b.a,b.b,b.c);throw new TypeError("Key names do not match")}else if(Object.keys(S).length===2&&Object.keys(b).length===2){if(!u(S))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!u(b))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in S&&"pointOneY"in S&&"pointTwoX"in b&&"pointTwoY"in b)return A([S.pointOneX,S.pointOneY],[b.pointTwoX,b.pointTwoY]);throw new TypeError("Key names do not match")}else if(Object.keys(S).length===3&&Object.keys(b).length===3){if(!f(S))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!f(b))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in S&&"pointOneY"in S&&"pointOneZ"in S&&"pointTwoX"in b&&"pointTwoY"in b&&"pointTwoZ"in b)return A([S.pointOneX,S.pointOneY,S.pointOneZ],[b.pointTwoX,b.pointTwoY,b.pointTwoZ]);throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},Array:function(S){if(!d(S))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return y(S)}});function s(w){return typeof w=="number"||Ze(w)}function u(w){return w.constructor!==Array&&(w=v(w)),s(w[0])&&s(w[1])}function f(w){return w.constructor!==Array&&(w=v(w)),s(w[0])&&s(w[1])&&s(w[2])}function p(w){return Array.isArray(w)||(w=v(w)),w.every(s)}function m(w){return w.constructor!==Array&&(w=v(w)),s(w[0])&&s(w[1])&&s(w[2])&&s(w[3])&&s(w[4])&&s(w[5])}function v(w){for(var S=Object.keys(w),b=[],C=0;C<S.length;C++)b.push(w[S[C]]);return b}function d(w){if(w[0].length===2&&s(w[0][0])&&s(w[0][1])){if(w.some(S=>S.length!==2||!s(S[0])||!s(S[1])))return!1}else if(w[0].length===3&&s(w[0][0])&&s(w[0][1])&&s(w[0][2])){if(w.some(S=>S.length!==3||!s(S[0])||!s(S[1])||!s(S[2])))return!1}else return!1;return!0}function g(w,S,b,C,_){var N=l(r(r(i(b,w),i(C,S)),_)),E=c(r(i(b,b),i(C,C)));return a(N,E)}function x(w,S,b,C,_,N,E,I,B){var L=[n(i(n(_,S),B),i(n(N,b),I)),n(i(n(N,b),E),i(n(C,w),B)),n(i(n(C,w),I),i(n(_,S),E))];L=c(r(r(i(L[0],L[0]),i(L[1],L[1])),i(L[2],L[2])));var z=c(r(r(i(E,E),i(I,I)),i(B,B)));return a(L,z)}function A(w,S){for(var b=w.length,C=0,_=0,N=0;N<b;N++)_=n(w[N],S[N]),C=r(i(_,_),C);return c(C)}function y(w){for(var S=[],b=[],C=[],_=0;_<w.length-1;_++)for(var N=_+1;N<w.length;N++)w[0].length===2?(b=[w[_][0],w[_][1]],C=[w[N][0],w[N][1]]):w[0].length===3&&(b=[w[_][0],w[_][1],w[_][2]],C=[w[N][0],w[N][1],w[N][2]]),S.push(A(b,C));return S}});var SG="intersect",AG=["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar","flatten","isZero","isNumeric"],ab=M(SG,AG,t=>{var{typed:e,config:r,abs:n,add:i,addScalar:a,matrix:o,multiply:c,multiplyScalar:l,divideScalar:s,subtract:u,smaller:f,equalScalar:p,flatten:m,isZero:v,isNumeric:d}=t;return e("intersect",{"Array, Array, Array":g,"Array, Array, Array, Array":x,"Matrix, Matrix, Matrix":function(I,B,L){var z=g(I.valueOf(),B.valueOf(),L.valueOf());return z===null?null:o(z)},"Matrix, Matrix, Matrix, Matrix":function(I,B,L,z){var U=x(I.valueOf(),B.valueOf(),L.valueOf(),z.valueOf());return U===null?null:o(U)}});function g(E,I,B){if(E=A(E),I=A(I),B=A(B),!w(E))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!w(I))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!S(B))throw new TypeError("Array with 4 numbers expected as third argument");return N(E[0],E[1],E[2],I[0],I[1],I[2],B[0],B[1],B[2],B[3])}function x(E,I,B,L){if(E=A(E),I=A(I),B=A(B),L=A(L),E.length===2){if(!y(E))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!y(I))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!y(B))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!y(L))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return b(E,I,B,L)}else if(E.length===3){if(!w(E))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!w(I))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!w(B))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!w(L))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return _(E[0],E[1],E[2],I[0],I[1],I[2],B[0],B[1],B[2],L[0],L[1],L[2])}else throw new TypeError("Arrays with two or thee dimensional points expected")}function A(E){return E.length===1?E[0]:E.length>1&&Array.isArray(E[0])&&E.every(I=>Array.isArray(I)&&I.length===1)?m(E):E}function y(E){return E.length===2&&d(E[0])&&d(E[1])}function w(E){return E.length===3&&d(E[0])&&d(E[1])&&d(E[2])}function S(E){return E.length===4&&d(E[0])&&d(E[1])&&d(E[2])&&d(E[3])}function b(E,I,B,L){var z=E,U=B,R=u(z,I),O=u(U,L),G=u(l(R[0],O[1]),l(O[0],R[1]));if(v(G)||f(n(G),r.epsilon))return null;var k=l(O[0],z[1]),Q=l(O[1],z[0]),te=l(O[0],U[1]),X=l(O[1],U[0]),q=s(a(u(u(k,Q),te),X),G);return i(c(R,q),z)}function C(E,I,B,L,z,U,R,O,G,k,Q,te){var X=l(u(E,I),u(B,L)),q=l(u(z,U),u(R,O)),ne=l(u(G,k),u(Q,te));return a(a(X,q),ne)}function _(E,I,B,L,z,U,R,O,G,k,Q,te){var X=C(E,R,k,R,I,O,Q,O,B,G,te,G),q=C(k,R,L,E,Q,O,z,I,te,G,U,B),ne=C(E,R,L,E,I,O,z,I,B,G,U,B),de=C(k,R,k,R,Q,O,Q,O,te,G,te,G),ae=C(L,E,L,E,z,I,z,I,U,B,U,B),se=u(l(X,q),l(ne,de)),me=u(l(ae,de),l(q,q));if(v(me))return null;var le=s(se,me),ce=s(a(X,l(le,q)),de),pe=a(E,l(le,u(L,E))),xe=a(I,l(le,u(z,I))),Fe=a(B,l(le,u(U,B))),He=a(R,l(ce,u(k,R))),Y=a(O,l(ce,u(Q,O))),j=a(G,l(ce,u(te,G)));return p(pe,He)&&p(xe,Y)&&p(Fe,j)?[pe,xe,Fe]:null}function N(E,I,B,L,z,U,R,O,G,k){var Q=l(E,R),te=l(L,R),X=l(I,O),q=l(z,O),ne=l(B,G),de=l(U,G),ae=u(u(u(k,Q),X),ne),se=u(u(u(a(a(te,q),de),Q),X),ne),me=s(ae,se),le=a(E,l(me,u(L,E))),ce=a(I,l(me,u(z,I))),pe=a(B,l(me,u(U,B)));return[le,ce,pe]}});var ZO="sum",NG=["typed","config","add","numeric"],Sl=M(ZO,NG,t=>{var{typed:e,config:r,add:n,numeric:i}=t;return e(ZO,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":o,"...":function(l){if(Si(l))throw new TypeError("Scalar values expected in function sum");return a(l)}});function a(c){var l;return Mn(c,function(s){try{l=l===void 0?s:n(l,s)}catch(u){throw Ot(u,"sum",s)}}),l===void 0&&(l=i(0,r.number)),typeof l=="string"&&(l=i(l,r.number)),l}function o(c,l){try{var s=io(c,l,n);return s}catch(u){throw Ot(u,"sum")}}});var kp="cumsum",_G=["typed","add","unaryPlus"],Al=M(kp,_G,t=>{var{typed:e,add:r,unaryPlus:n}=t;return e(kp,{Array:i,Matrix:function(s){return s.create(i(s.valueOf()))},"Array, number | BigNumber":o,"Matrix, number | BigNumber":function(s,u){return s.create(o(s.valueOf(),u))},"...":function(s){if(Si(s))throw new TypeError("All values expected to be scalar in function cumsum");return i(s)}});function i(l){try{return a(l)}catch(s){throw Ot(s,kp)}}function a(l){if(l.length===0)return[];for(var s=[n(l[0])],u=1;u<l.length;++u)s.push(r(s[u-1],l[u]));return s}function o(l,s){var u=er(l);if(s<0||s>=u.length)throw new xn(s,u.length);try{return c(l,s)}catch(f){throw Ot(f,kp)}}function c(l,s){var u,f,p;if(s<=0){var m=l[0][0];if(Array.isArray(m)){for(p=Xf(l),f=[],u=0;u<p.length;u++)f[u]=c(p[u],s-1);return f}else return a(l)}else{for(f=[],u=0;u<l.length;u++)f[u]=c(l[u],s-1);return f}}});var jO="mean",EG=["typed","add","divide"],Nl=M(jO,EG,t=>{var{typed:e,add:r,divide:n}=t;return e(jO,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":i,"...":function(c){if(Si(c))throw new TypeError("Scalar values expected in function mean");return a(c)}});function i(o,c){try{var l=io(o,c,r),s=Array.isArray(o)?er(o):o.size();return n(l,s[c])}catch(u){throw Ot(u,"mean")}}function a(o){var c,l=0;if(Mn(o,function(s){try{c=c===void 0?s:r(c,s),l++}catch(u){throw Ot(u,"mean",s)}}),l===0)throw new Error("Cannot calculate the mean of an empty array");return n(c,l)}});var $O="median",MG=["typed","add","divide","compare","partitionSelect"],ob=M($O,MG,t=>{var{typed:e,add:r,divide:n,compare:i,partitionSelect:a}=t;function o(s){try{s=hr(s.valueOf());var u=s.length;if(u===0)throw new Error("Cannot calculate median of an empty array");if(u%2===0){for(var f=u/2-1,p=a(s,f+1),m=s[f],v=0;v<f;++v)i(s[v],m)>0&&(m=s[v]);return l(m,p)}else{var d=a(s,(u-1)/2);return c(d)}}catch(g){throw Ot(g,"median")}}var c=e({"number | BigNumber | Complex | Unit":function(u){return u}}),l=e({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(u,f){return n(r(u,f),2)}});return e($O,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(u,f){throw new Error("median(A, dim) is not yet supported")},"...":function(u){if(Si(u))throw new TypeError("Scalar values expected in function median");return o(u)}})});var JO="mad",CG=["typed","abs","map","median","subtract"],sb=M(JO,CG,t=>{var{typed:e,abs:r,map:n,median:i,subtract:a}=t;return e(JO,{"Array | Matrix":o,"...":function(l){return o(l)}});function o(c){if(c=hr(c.valueOf()),c.length===0)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var l=i(c);return i(n(c,function(s){return r(a(s,l))}))}catch(s){throw s instanceof TypeError&&s.message.indexOf("median")!==-1?new TypeError(s.message.replace("median","mad")):Ot(s,"mad")}}});var ub="unbiased",XO="variance",TG=["typed","add","subtract","multiply","divide","apply","isNaN"],_l=M(XO,TG,t=>{var{typed:e,add:r,subtract:n,multiply:i,divide:a,apply:o,isNaN:c}=t;return e(XO,{"Array | Matrix":function(f){return l(f,ub)},"Array | Matrix, string":l,"Array | Matrix, number | BigNumber":function(f,p){return s(f,p,ub)},"Array | Matrix, number | BigNumber, string":s,"...":function(f){return l(f,ub)}});function l(u,f){var p,m=0;if(u.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(Mn(u,function(g){try{p=p===void 0?g:r(p,g),m++}catch(x){throw Ot(x,"variance",g)}}),m===0)throw new Error("Cannot calculate variance of an empty array");var v=a(p,m);if(p=void 0,Mn(u,function(g){var x=n(g,v);p=p===void 0?i(x,x):r(p,i(x,x))}),c(p))return p;switch(f){case"uncorrected":return a(p,m);case"biased":return a(p,m+1);case"unbiased":{var d=Ze(p)?p.mul(0):0;return m===1?d:a(p,m-1)}default:throw new Error('Unknown normalization "'+f+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function s(u,f,p){try{if(u.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return o(u,f,m=>l(m,p))}catch(m){throw Ot(m,"variance")}}});var QO="quantileSeq",FG=["typed","?bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],El=M(QO,FG,t=>{var{typed:e,bignumber:r,add:n,subtract:i,divide:a,multiply:o,partitionSelect:c,compare:l,isInteger:s,smaller:u,smallerEq:f,larger:p}=t,m=zo({typed:e,isInteger:s});return e(QO,{"Array | Matrix, number | BigNumber":(A,y)=>d(A,y,!1),"Array | Matrix, number | BigNumber, number":(A,y,w)=>v(A,y,!1,w,d),"Array | Matrix, number | BigNumber, boolean":d,"Array | Matrix, number | BigNumber, boolean, number":(A,y,w,S)=>v(A,y,w,S,d),"Array | Matrix, Array | Matrix":(A,y)=>g(A,y,!1),"Array | Matrix, Array | Matrix, number":(A,y,w)=>v(A,y,!1,w,g),"Array | Matrix, Array | Matrix, boolean":g,"Array | Matrix, Array | Matrix, boolean, number":(A,y,w,S)=>v(A,y,w,S,g)});function v(A,y,w,S,b){return m(A,S,C=>b(C,y,w))}function d(A,y,w){var S,b=A.valueOf();if(u(y,0))throw new Error("N/prob must be non-negative");if(f(y,1))return tr(y)?x(b,y,w):r(x(b,y,w));if(p(y,1)){if(!s(y))throw new Error("N must be a positive integer");if(p(y,4294967295))throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var C=n(y,1);S=[];for(var _=0;u(_,y);_++){var N=a(_+1,C);S.push(x(b,N,w))}return tr(y)?S:r(S)}}function g(A,y,w){for(var S=A.valueOf(),b=y.valueOf(),C=[],_=0;_<b.length;++_)C.push(x(S,b[_],w));return C}function x(A,y,w){var S=hr(A),b=S.length;if(b===0)throw new Error("Cannot calculate quantile of an empty sequence");var C=tr(y)?y*(b-1):y.times(b-1),_=tr(y)?Math.floor(C):C.floor().toNumber(),N=tr(y)?C%1:C.minus(_);if(s(C))return w?S[C]:c(S,tr(y)?C:C.valueOf());var E,I;if(w)E=S[_],I=S[_+1];else{I=c(S,_+1),E=S[_];for(var B=0;B<_;++B)l(S[B],E)>0&&(E=S[B])}return n(o(E,i(1,N)),o(I,N))}});var KO="std",IG=["typed","map","sqrt","variance"],Ml=M(KO,IG,t=>{var{typed:e,map:r,sqrt:n,variance:i}=t;return e(KO,{"Array | Matrix":a,"Array | Matrix, string":a,"Array | Matrix, number | BigNumber":a,"Array | Matrix, number | BigNumber, string":a,"...":function(c){return a(c)}});function a(o,c){if(o.length===0)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{var l=i.apply(null,arguments);return kt(l)?r(l,n):n(l)}catch(s){throw s instanceof TypeError&&s.message.indexOf(" variance")!==-1?new TypeError(s.message.replace(" variance"," std")):s}}});var eB="corr",OG=["typed","matrix","mean","sqrt","sum","add","subtract","multiply","pow","divide"],lb=M(eB,OG,t=>{var{typed:e,matrix:r,sqrt:n,sum:i,add:a,subtract:o,multiply:c,pow:l,divide:s}=t;return e(eB,{"Array, Array":function(m,v){return u(m,v)},"Matrix, Matrix":function(m,v){var d=u(m.toArray(),v.toArray());return Array.isArray(d)?r(d):d}});function u(p,m){var v=[];if(Array.isArray(p[0])&&Array.isArray(m[0])){if(p.length!==m.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same length.");for(var d=0;d<p.length;d++){if(p[d].length!==m[d].length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");v.push(f(p[d],m[d]))}return v}else{if(p.length!==m.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");return f(p,m)}}function f(p,m){var v=p.length,d=i(p),g=i(m),x=p.reduce((b,C,_)=>a(b,c(C,m[_])),0),A=i(p.map(b=>l(b,2))),y=i(m.map(b=>l(b,2))),w=o(c(v,x),c(d,g)),S=n(c(o(c(v,A),l(d,2)),o(c(v,y),l(g,2))));return s(w,S)}});var rB="combinations",BG=["typed"],cb=M(rB,BG,t=>{var{typed:e}=t;return e(rB,{"number, number":Ev,"BigNumber, BigNumber":function(n,i){var a=n.constructor,o,c,l=n.minus(i),s=new a(1);if(!tB(n)||!tB(i))throw new TypeError("Positive integer value expected in function combinations");if(i.gt(n))throw new TypeError("k must be less than n in function combinations");if(o=s,i.lt(l))for(c=s;c.lte(l);c=c.plus(s))o=o.times(i.plus(c)).dividedBy(c);else for(c=s;c.lte(i);c=c.plus(s))o=o.times(l.plus(c)).dividedBy(c);return o}})});function tB(t){return t.isInteger()&&t.gte(0)}var nB="combinationsWithRep",PG=["typed"],fb=M(nB,PG,t=>{var{typed:e}=t;return e(nB,{"number, number":function(n,i){if(!Ue(n)||n<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!Ue(i)||i<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(n<1)throw new TypeError("k must be less than or equal to n + k - 1");if(i<n-1){var a=ci(n,n+i-1);return a/ci(1,i)}var o=ci(i+1,n+i-1);return o/ci(1,n-1)},"BigNumber, BigNumber":function(n,i){var a=n.constructor,o,c,l=new a(1),s=n.minus(l);if(!iB(n)||!iB(i))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(n.lt(l))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(o=l,i.lt(s))for(c=l;c.lte(s);c=c.plus(l))o=o.times(i.plus(c)).dividedBy(c);else for(c=l;c.lte(i);c=c.plus(l))o=o.times(s.plus(c)).dividedBy(c);return o}})});function iB(t){return t.isInteger()&&t.gte(0)}var aB="gamma",RG=["typed","config","multiplyScalar","pow","BigNumber","Complex"],pb=M(aB,RG,t=>{var{typed:e,config:r,multiplyScalar:n,pow:i,BigNumber:a,Complex:o}=t;function c(s){if(s.im===0)return tl(s.re);if(s.re<.5){var u=new o(1-s.re,-s.im),f=new o(Math.PI*s.re,Math.PI*s.im);return new o(Math.PI).div(f.sin()).div(c(u))}s=new o(s.re-1,s.im);for(var p=new o(Vo[0],0),m=1;m<Vo.length;++m){var v=new o(Vo[m],0);p=p.add(v.div(s.add(m)))}var d=new o(s.re+Ov+.5,s.im),g=Math.sqrt(2*Math.PI),x=d.pow(s.add(.5)),A=d.neg().exp();return p.mul(g).mul(x).mul(A)}return e(aB,{number:tl,Complex:c,BigNumber:function(u){if(u.isInteger())return u.isNegative()||u.isZero()?new a(1/0):l(u.minus(1));if(!u.isFinite())return new a(u.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")}});function l(s){if(s<8)return new a([1,1,2,6,24,120,720,5040][s]);var u=r.precision+(Math.log(s.toNumber())|0),f=a.clone({precision:u});if(s%2===1)return s.times(l(new a(s-1)));for(var p=s,m=new f(s),v=s.toNumber();p>2;)p-=2,v+=p,m=m.times(v);return new a(m.toPrecision(a.precision))}});var oB="lgamma",kG=["Complex","typed"],mb=M(oB,kG,t=>{var{Complex:e,typed:r}=t,n=7,i=7,a=[-.029550653594771242,.00641025641025641,-.0019175269175269176,.0008417508417508417,-.0005952380952380953,.0007936507936507937,-.002777777777777778,.08333333333333333];return r(oB,{number:nl,Complex:o,BigNumber:function(){throw new Error("mathjs doesn't yet provide an implementation of the algorithm lgamma for BigNumber")}});function o(s){var u=6.283185307179586,f=1.1447298858494002,p=.1;if(s.isNaN())return new e(NaN,NaN);if(s.im===0)return new e(nl(s.re),0);if(s.re>=n||Math.abs(s.im)>=i)return c(s);if(s.re<=p){var m=kN(u,s.im)*Math.floor(.5*s.re+.25),v=s.mul(Math.PI).sin().log(),d=o(new e(1-s.re,-s.im));return new e(f,m).sub(v).sub(d)}else return s.im>=0?l(s):l(s.conjugate()).conjugate()}function c(s){for(var u=s.sub(.5).mul(s.log()).sub(s).add(Bv),f=new e(1,0).div(s),p=f.div(s),m=a[0],v=a[1],d=2*p.re,g=p.re*p.re+p.im*p.im,x=2;x<8;x++){var A=v;v=-g*m+a[x],m=d*m+A}var y=f.mul(p.mul(m).add(v));return u.add(y)}function l(s){var u=0,f=0,p=s;for(s=s.add(1);s.re<=n;){p=p.mul(s);var m=p.im<0?1:0;m!==0&&f===0&&u++,f=m,s=s.add(1)}return c(s).sub(p.log()).sub(new e(0,u*2*Math.PI*1))}});var sB="factorial",LG=["typed","gamma"],db=M(sB,LG,t=>{var{typed:e,gamma:r}=t;return e(sB,{number:function(i){if(i<0)throw new Error("Value must be non-negative");return r(i+1)},BigNumber:function(i){if(i.isNegative())throw new Error("Value must be non-negative");return r(i.plus(1))},"Array | Matrix":e.referToSelf(n=>i=>Ge(i,n))})});var uB="kldivergence",UG=["typed","matrix","divide","sum","multiply","map","dotDivide","log","isNumeric"],hb=M(uB,UG,t=>{var{typed:e,matrix:r,divide:n,sum:i,multiply:a,map:o,dotDivide:c,log:l,isNumeric:s}=t;return e(uB,{"Array, Array":function(p,m){return u(r(p),r(m))},"Matrix, Array":function(p,m){return u(p,r(m))},"Array, Matrix":function(p,m){return u(r(p),m)},"Matrix, Matrix":function(p,m){return u(p,m)}});function u(f,p){var m=p.size().length,v=f.size().length;if(m>1)throw new Error("first object must be one dimensional");if(v>1)throw new Error("second object must be one dimensional");if(m!==v)throw new Error("Length of two vectors must be equal");var d=i(f);if(d===0)throw new Error("Sum of elements in first object must be non zero");var g=i(p);if(g===0)throw new Error("Sum of elements in second object must be non zero");var x=n(f,i(f)),A=n(p,i(p)),y=i(a(x,o(c(x,A),w=>l(w))));return s(y)?y:Number.NaN}});var lB="multinomial",qG=["typed","add","divide","multiply","factorial","isInteger","isPositive"],vb=M(lB,qG,t=>{var{typed:e,add:r,divide:n,multiply:i,factorial:a,isInteger:o,isPositive:c}=t;return e(lB,{"Array | Matrix":function(s){var u=0,f=1;return Mn(s,function(p){if(!o(p)||!c(p))throw new TypeError("Positive integer value expected in function multinomial");u=r(u,p),f=i(f,a(p))}),n(a(u),f)}})});var cB="permutations",VG=["typed","factorial"],gb=M(cB,VG,t=>{var{typed:e,factorial:r}=t;return e(cB,{"number | BigNumber":r,"number, number":function(i,a){if(!Ue(i)||i<0)throw new TypeError("Positive integer value expected in function permutations");if(!Ue(a)||a<0)throw new TypeError("Positive integer value expected in function permutations");if(a>i)throw new TypeError("second argument k must be less than or equal to first argument n");return ci(i-a+1,i)},"BigNumber, BigNumber":function(i,a){var o,c;if(!fB(i)||!fB(a))throw new TypeError("Positive integer value expected in function permutations");if(a.gt(i))throw new TypeError("second argument k must be less than or equal to first argument n");var l=i.mul(0).add(1);for(o=l,c=i.minus(a).plus(1);c.lte(i);c=c.plus(1))o=o.times(c);return o}})});function fB(t){return t.isInteger()&&t.gte(0)}var Ab=yt(EB(),1),jG=(0,Ab.default)(Date.now());function Ma(t){var e;function r(i){e=i===null?jG:(0,Ab.default)(String(i))}r(t);function n(){return e()}return n}var MB="pickRandom",$G=["typed","config","?on"],Nb=M(MB,$G,t=>{var{typed:e,config:r,on:n}=t,i=Ma(r.randomSeed);return n&&n("config",function(o,c){o.randomSeed!==c.randomSeed&&(i=Ma(o.randomSeed))}),e(MB,{"Array | Matrix":function(c){return a(c,{})},"Array | Matrix, Object":function(c,l){return a(c,l)},"Array | Matrix, number":function(c,l){return a(c,{number:l})},"Array | Matrix, Array | Matrix":function(c,l){return a(c,{weights:l})},"Array | Matrix, Array | Matrix, number":function(c,l,s){return a(c,{number:s,weights:l})},"Array | Matrix, number, Array | Matrix":function(c,l,s){return a(c,{number:l,weights:s})}});function a(o,c){var{number:l,weights:s,elementWise:u=!0}=c,f=typeof l=="undefined";f&&(l=1);var p=ze(o)?o.create:ze(s)?s.create:null;o=o.valueOf(),s&&(s=s.valueOf()),u===!0&&(o=hr(o),s=hr(s));var m=0;if(typeof s!="undefined"){if(s.length!==o.length)throw new Error("Weights must have the same length as possibles");for(var v=0,d=s.length;v<d;v++){if(!tr(s[v])||s[v]<0)throw new Error("Weights must be an array of positive numbers");m+=s[v]}}for(var g=o.length,x=[],A;x.length<l;){if(typeof s=="undefined")A=o[Math.floor(i()*g)];else for(var y=i()*m,w=0,S=o.length;w<S;w++)if(y-=s[w],y<0){A=o[w];break}x.push(A)}return f?x[0]:p?p(x):x}});function Cl(t,e){var r=[];if(t=t.slice(0),t.length>1)for(var n=0,i=t.shift();n<i;n++)r.push(Cl(t,e));else for(var a=0,o=t.shift();a<o;a++)r.push(e());return r}var CB="random",JG=["typed","config","?on"],_b=M(CB,JG,t=>{var{typed:e,config:r,on:n}=t,i=Ma(r.randomSeed);return n&&n("config",function(c,l){c.randomSeed!==l.randomSeed&&(i=Ma(c.randomSeed))}),e(CB,{"":()=>o(0,1),number:c=>o(0,c),"number, number":(c,l)=>o(c,l),"Array | Matrix":c=>a(c,0,1),"Array | Matrix, number":(c,l)=>a(c,0,l),"Array | Matrix, number, number":(c,l,s)=>a(c,l,s)});function a(c,l,s){var u=Cl(c.valueOf(),()=>o(l,s));return ze(c)?c.create(u):u}function o(c,l){return c+i()*(l-c)}});var TB="randomInt",XG=["typed","config","?on"],Eb=M(TB,XG,t=>{var{typed:e,config:r,on:n}=t,i=Ma(r.randomSeed);return n&&n("config",function(c,l){c.randomSeed!==l.randomSeed&&(i=Ma(c.randomSeed))}),e(TB,{"":()=>o(0,1),number:c=>o(0,c),"number, number":(c,l)=>o(c,l),"Array | Matrix":c=>a(c,0,1),"Array | Matrix, number":(c,l)=>a(c,0,l),"Array | Matrix, number, number":(c,l,s)=>a(c,l,s)});function a(c,l,s){var u=Cl(c.valueOf(),()=>o(l,s));return ze(c)?c.create(u):u}function o(c,l){return Math.floor(c+i()*(l-c))}});var FB="stirlingS2",QG=["typed","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","number","?bignumber","larger"],Mb=M(FB,QG,t=>{var{typed:e,addScalar:r,subtractScalar:n,multiplyScalar:i,divideScalar:a,pow:o,factorial:c,combinations:l,isNegative:s,isInteger:u,number:f,bignumber:p,larger:m}=t,v=[],d=[];return e(FB,{"number | BigNumber, number | BigNumber":function(x,A){if(!u(x)||s(x)||!u(A)||s(A))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(m(A,x))throw new TypeError("k must be less than or equal to n in function stirlingS2");var y=!(tr(x)&&tr(A)),w=y?d:v,S=y?p:f,b=f(x),C=f(A);if(w[b]&&w[b].length>C)return w[b][C];for(var _=0;_<=b;++_)if(w[_]||(w[_]=[S(_===0?1:0)]),_!==0)for(var N=w[_],E=w[_-1],I=N.length;I<=_&&I<=C;++I)I===_?N[I]=1:N[I]=r(i(S(I),E[I]),E[I-1]);return w[b][C]}})});var IB="bellNumbers",KG=["typed","addScalar","isNegative","isInteger","stirlingS2"],Cb=M(IB,KG,t=>{var{typed:e,addScalar:r,isNegative:n,isInteger:i,stirlingS2:a}=t;return e(IB,{"number | BigNumber":function(c){if(!i(c)||n(c))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var l=0,s=0;s<=c;s++)l=r(l,a(c,s));return l}})});var OB="catalan",eW=["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],Tb=M(OB,eW,t=>{var{typed:e,addScalar:r,divideScalar:n,multiplyScalar:i,combinations:a,isNegative:o,isInteger:c}=t;return e(OB,{"number | BigNumber":function(s){if(!c(s)||o(s))throw new TypeError("Non-negative integer value expected in function catalan");return n(a(i(s,2),s),r(s,1))}})});var BB="composition",rW=["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],Fb=M(BB,rW,t=>{var{typed:e,addScalar:r,combinations:n,isPositive:i,isNegative:a,isInteger:o,larger:c}=t;return e(BB,{"number | BigNumber, number | BigNumber":function(s,u){if(!o(s)||!i(s)||!o(u)||!i(u))throw new TypeError("Positive integer value expected in function composition");if(c(u,s))throw new TypeError("k must be less than or equal to n in function composition");return n(r(s,-1),r(u,-1))}})});var PB="leafCount",tW=["parse","typed"],Ib=M(PB,tW,t=>{var{parse:e,typed:r}=t;function n(i){var a=0;return i.forEach(o=>{a+=n(o)}),a||1}return r(PB,{Node:function(a){return n(a)}})});function Ob(t){return Sr(t)||wt(t)&&t.isUnary()&&Sr(t.args[0])}function Tl(t){return!!(Sr(t)||(Yn(t)||wt(t))&&t.args.every(Tl)||yn(t)&&Tl(t.content))}function RB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RB(Object(r),!0).forEach(function(n){jr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var nW="simplifyUtil",iW=["FunctionNode","OperatorNode","SymbolNode"],ru=M(nW,iW,t=>{var{FunctionNode:e,OperatorNode:r,SymbolNode:n}=t,i=!0,a=!1,o="defaultF",c={add:{trivial:i,total:i,commutative:i,associative:i},unaryPlus:{trivial:i,total:i,commutative:i,associative:i},subtract:{trivial:a,total:i,commutative:a,associative:a},multiply:{trivial:i,total:i,commutative:i,associative:i},divide:{trivial:a,total:i,commutative:a,associative:a},paren:{trivial:i,total:i,commutative:i,associative:a},defaultF:{trivial:a,total:i,commutative:a,associative:a}},l={divide:{total:a},log:{total:a}},s={subtract:{total:a},abs:{trivial:i},log:{total:i}};function u(y,w){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:c,b=o;if(typeof y=="string"?b=y:wt(y)?b=y.fn.toString():Yn(y)?b=y.name:yn(y)&&(b="paren"),Ye(S,b)){var C=S[b];if(Ye(C,w))return C[w];if(Ye(c,b))return c[b][w]}if(Ye(S,o)){var _=S[o];return Ye(_,w)?_[w]:c[o][w]}if(Ye(c,b)){var N=c[b];if(Ye(N,w))return N[w]}return c[o][w]}function f(y){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:c;return u(y,"commutative",w)}function p(y){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:c;return u(y,"associative",w)}function m(y,w){var S=Bb({},y);for(var b in w)Ye(y,b)?S[b]=Bb(Bb({},w[b]),y[b]):S[b]=w[b];return S}function v(y,w){if(!y.args||y.args.length===0)return y;y.args=d(y,w);for(var S=0;S<y.args.length;S++)v(y.args[S],w)}function d(y,w){var S,b=[],C=function _(N){for(var E=0;E<N.args.length;E++){var I=N.args[E];wt(I)&&S===I.op?_(I):b.push(I)}};return p(y,w)?(S=y.op,C(y),b):y.args}function g(y,w){if(!(!y.args||y.args.length===0)){for(var S=A(y),b=y.args.length,C=0;C<b;C++)g(y.args[C],w);if(b>2&&p(y,w)){for(var _=y.args.pop();y.args.length>0;)_=S([y.args.pop(),_]);y.args=_.args}}}function x(y,w){if(!(!y.args||y.args.length===0)){for(var S=A(y),b=y.args.length,C=0;C<b;C++)x(y.args[C],w);if(b>2&&p(y,w)){for(var _=y.args.shift();y.args.length>0;)_=S([_,y.args.shift()]);y.args=_.args}}}function A(y){return wt(y)?function(w){try{return new r(y.op,y.fn,w,y.implicit)}catch(S){return console.error(S),[]}}:function(w){return new e(new n(y.name),w)}}return{createMakeNodeFunction:A,hasProperty:u,isCommutative:f,isAssociative:p,mergeContext:m,flatten:v,allChildren:d,unflattenr:g,unflattenl:x,defaultContext:c,realContext:l,positiveContext:s}});var aW="simplify",oW=["config","typed","parse","add","subtract","multiply","divide","pow","isZero","equal","resolve","simplifyConstant","simplifyCore","?fraction","?bignumber","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],Pb=M(aW,oW,t=>{var{config:e,typed:r,parse:n,add:i,subtract:a,multiply:o,divide:c,pow:l,isZero:s,equal:u,resolve:f,simplifyConstant:p,simplifyCore:m,fraction:v,bignumber:d,mathWithTransform:g,matrix:x,AccessorNode:A,ArrayNode:y,ConstantNode:w,FunctionNode:S,IndexNode:b,ObjectNode:C,OperatorNode:_,ParenthesisNode:N,SymbolNode:E}=t,{hasProperty:I,isCommutative:B,isAssociative:L,mergeContext:z,flatten:U,unflattenr:R,unflattenl:O,createMakeNodeFunction:G,defaultContext:k,realContext:Q,positiveContext:te}=ru({FunctionNode:S,OperatorNode:_,SymbolNode:E});r.addConversion({from:"Object",to:"Map",convert:Sa});var X=r("simplify",{Node:le,"Node, Map":(W,J)=>le(W,!1,J),"Node, Map, Object":(W,J,ee)=>le(W,!1,J,ee),"Node, Array":le,"Node, Array, Map":le,"Node, Array, Map, Object":le});r.removeConversion({from:"Object",to:"Map",convert:Sa}),X.defaultContext=k,X.realContext=Q,X.positiveContext=te;function q(W){return W.transform(function(J,ee,he){return yn(J)?q(J.content):J})}var ne={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};X.rules=[m,{l:"log(e)",r:"1"},{s:"n-n1 -> n+-n1",assuming:{subtract:{total:!0}}},{s:"n-n -> 0",assuming:{subtract:{total:!1}}},{s:"-(cl*v) -> v * (-cl)",assuming:{multiply:{commutative:!0},subtract:{total:!0}}},{s:"-(cl*v) -> (-cl) * v",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{s:"-(v*cl) -> v * (-cl)",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{l:"-(n1/n2)",r:"-n1/n2"},{l:"-v",r:"v * (-1)"},{l:"(n1 + n2)*(-1)",r:"n1*(-1) + n2*(-1)",repeat:!0},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{s:"(n1*n2)^n3 -> n1^n3 * n2^n3",assuming:{multiply:{commutative:!0}}},{s:"(n1*n2)^(-1) -> n2^(-1) * n1^(-1)",assuming:{multiply:{commutative:!1}}},{s:"(n ^ n1) ^ n2 -> n ^ (n1 * n2)",assuming:{divide:{total:!0}}},{l:" vd   * ( vd   * n1 + n2)",r:"vd^2       * n1 +  vd   * n2"},{s:" vd   * (vd^n4 * n1 + n2)   ->  vd^(1+n4)  * n1 +  vd   * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * ( vd   * n1 + n2)   ->  vd^(n3+1)  * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * (vd^n4 * n1 + n2)   ->  vd^(n3+n4) * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{l:"n*n",r:"n^2"},{s:"n * n^n1 -> n^(n1+1)",assuming:{divide:{total:!0}}},{s:"n^n1 * n^n2 -> n^(n1+n2)",assuming:{divide:{total:!0}}},p,{s:"n+n -> 2*n",assuming:{add:{total:!0}}},{l:"n+-n",r:"0"},{l:"vd*n + vd",r:"vd*(n+1)"},{l:"n3*n1 + n3*n2",r:"n3*(n1+n2)"},{l:"n3^(-n4)*n1 +   n3  * n2",r:"n3^(-n4)*(n1 + n3^(n4+1) *n2)"},{l:"n3^(-n4)*n1 + n3^n5 * n2",r:"n3^(-n4)*(n1 + n3^(n4+n5)*n2)"},{s:"n*vd + vd -> (n+1)*vd",assuming:{multiply:{commutative:!1}}},{s:"vd + n*vd -> (1+n)*vd",assuming:{multiply:{commutative:!1}}},{s:"n1*n3 + n2*n3 -> (n1+n2)*n3",assuming:{multiply:{commutative:!1}}},{s:"n^n1 * n -> n^(n1+1)",assuming:{divide:{total:!0},multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3    -> (n1 + n2*n3^(n4 +  1))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3^n5 -> (n1 + n2*n3^(n4 + n5))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{l:"n*cd + cd",r:"(n+1)*cd"},{s:"cd*n + cd -> cd*(n+1)",assuming:{multiply:{commutative:!1}}},{s:"cd + cd*n -> cd*(1+n)",assuming:{multiply:{commutative:!1}}},p,{s:"(-n)*n1 -> -(n*n1)",assuming:{subtract:{total:!0}}},{s:"n1*(-n) -> -(n1*n)",assuming:{subtract:{total:!0},multiply:{commutative:!1}}},{s:"ce+ve -> ve+ce",assuming:{add:{commutative:!0}},imposeContext:{add:{commutative:!1}}},{s:"vd*cd -> cd*vd",assuming:{multiply:{commutative:!0}},imposeContext:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n+-(n1)",r:"n-(n1)"},{s:"n*(n1^-1) -> n/n1",assuming:{multiply:{commutative:!0}}},{s:"n*n1^-n2 -> n/n1^n2",assuming:{multiply:{commutative:!0}}},{s:"n^-1 -> 1/n",assuming:{multiply:{commutative:!0}}},{l:"n^1",r:"n"},{s:"n*(n1/n2) -> (n*n1)/n2",assuming:{multiply:{associative:!0}}},{s:"n-(n1+n2) -> n-n1-n2",assuming:{addition:{associative:!0,commutative:!0}}},{l:"1*n",r:"n",imposeContext:{multiply:{commutative:!0}}},{s:"n1/(n2/n3) -> (n1*n3)/n2",assuming:{multiply:{associative:!0}}},{l:"n1/(-n2)",r:"-n1/n2"}];function de(W,J){var ee={};if(W.s){var he=W.s.split("->");if(he.length===2)ee.l=he[0],ee.r=he[1];else throw SyntaxError("Could not parse rule: "+W.s)}else ee.l=W.l,ee.r=W.r;ee.l=q(n(ee.l)),ee.r=q(n(ee.r));for(var ve of["imposeContext","repeat","assuming"])ve in W&&(ee[ve]=W[ve]);if(W.evaluate&&(ee.evaluate=n(W.evaluate)),L(ee.l,J)){var Re=!B(ee.l,J),ye;Re&&(ye=me());var sr=G(ee.l),pr=me();ee.expanded={},ee.expanded.l=sr([ee.l,pr]),U(ee.expanded.l,J),R(ee.expanded.l,J),ee.expanded.r=sr([ee.r,pr]),Re&&(ee.expandedNC1={},ee.expandedNC1.l=sr([ye,ee.l]),ee.expandedNC1.r=sr([ye,ee.r]),ee.expandedNC2={},ee.expandedNC2.l=sr([ye,ee.expanded.l]),ee.expandedNC2.r=sr([ye,ee.expanded.r]))}return ee}function ae(W,J){for(var ee=[],he=0;he<W.length;he++){var ve=W[he],Re=void 0,ye=typeof ve;switch(ye){case"string":ve={s:ve};case"object":Re=de(ve,J);break;case"function":Re=ve;break;default:throw TypeError("Unsupported type of rule: "+ye)}ee.push(Re)}return ee}var se=0;function me(){return new E("_p"+se++)}function le(W,J){var ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ka(),he=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},ve=he.consoleDebug;J=ae(J||X.rules,he.context);var Re=f(W,ee);Re=q(Re);for(var ye={},sr=Re.toString({parenthesis:"all"});!ye[sr];){ye[sr]=!0,se=0;var pr=sr;ve&&console.log("Working on: ",sr);for(var kr=0;kr<J.length;kr++){var or="";if(typeof J[kr]=="function"?(Re=J[kr](Re,he),ve&&(or=J[kr].name)):(U(Re,he.context),Re=pe(Re,J[kr],he.context),ve&&(or="".concat(J[kr].l.toString()," -> ").concat(J[kr].r.toString()))),ve){var Z=Re.toString({parenthesis:"all"});Z!==pr&&(console.log("Applying",or,"produced",Z),pr=Z)}O(Re,he.context)}sr=Re.toString({parenthesis:"all"})}return Re}function ce(W,J,ee){var he=W;if(W)for(var ve=0;ve<W.length;++ve){var Re=pe(W[ve],J,ee);Re!==W[ve]&&(he===W&&(he=W.slice()),he[ve]=Re)}return he}function pe(W,J,ee){if(J.assuming){for(var he in J.assuming)for(var ve in J.assuming[he])if(I(he,ve,ee)!==J.assuming[he][ve])return W}var Re=z(J.imposeContext,ee),ye=W;if(ye instanceof _||ye instanceof S){var sr=ce(ye.args,J,ee);sr!==ye.args&&(ye=ye.clone(),ye.args=sr)}else if(ye instanceof N){if(ye.content){var pr=pe(ye.content,J,ee);pr!==ye.content&&(ye=new N(pr))}}else if(ye instanceof y){var kr=ce(ye.items,J,ee);kr!==ye.items&&(ye=new y(kr))}else if(ye instanceof A){var or=ye.object;ye.object&&(or=pe(ye.object,J,ee));var Z=ye.index;ye.index&&(Z=pe(ye.index,J,ee)),(or!==ye.object||Z!==ye.index)&&(ye=new A(or,Z))}else if(ye instanceof b){var re=ce(ye.dimensions,J,ee);re!==ye.dimensions&&(ye=new b(re))}else if(ye instanceof C){var fe=!1,Se={};for(var _e in ye.properties)Se[_e]=pe(ye.properties[_e],J,ee),Se[_e]!==ye.properties[_e]&&(fe=!0);fe&&(ye=new C(Se))}var be=J.r,Ne=j(J.l,ye,Re)[0];if(!Ne&&J.expanded&&(be=J.expanded.r,Ne=j(J.expanded.l,ye,Re)[0]),!Ne&&J.expandedNC1&&(be=J.expandedNC1.r,Ne=j(J.expandedNC1.l,ye,Re)[0],Ne||(be=J.expandedNC2.r,Ne=j(J.expandedNC2.l,ye,Re)[0])),Ne){var Ie=ye.implicit;ye=be.clone(),Ie&&"implicit"in be&&(ye.implicit=!0),ye=ye.transform(function(F){return F.isSymbolNode&&Ye(Ne.placeholders,F.name)?Ne.placeholders[F.name].clone():F})}return J.repeat&&ye!==W&&(ye=pe(ye,J,ee)),ye}function xe(W,J){var ee=[],he,ve,Re=G(W);if(B(W,J))for(var ye=0;ye<W.args.length;ye++)ve=W.args.slice(0),ve.splice(ye,1),he=ve.length===1?ve[0]:Re(ve),ee.push(Re([W.args[ye],he]));else for(var sr=1;sr<W.args.length;sr++){var pr=W.args[0];sr>1&&(pr=Re(W.args.slice(0,sr))),ve=W.args.slice(sr),he=ve.length===1?ve[0]:Re(ve),ee.push(Re([pr,he]))}return ee}function Fe(W,J){var ee={placeholders:{}};if(!W.placeholders&&!J.placeholders)return ee;if(W.placeholders){if(!J.placeholders)return W}else return J;for(var he in W.placeholders)if(Ye(W.placeholders,he)&&(ee.placeholders[he]=W.placeholders[he],Ye(J.placeholders,he)&&!ue(W.placeholders[he],J.placeholders[he])))return null;for(var ve in J.placeholders)Ye(J.placeholders,ve)&&(ee.placeholders[ve]=J.placeholders[ve]);return ee}function He(W,J){var ee=[];if(W.length===0||J.length===0)return ee;for(var he,ve=0;ve<W.length;ve++)for(var Re=0;Re<J.length;Re++)he=Fe(W[ve],J[Re]),he&&ee.push(he);return ee}function Y(W){if(W.length===0)return W;for(var J=W.reduce(He),ee=[],he={},ve=0;ve<J.length;ve++){var Re=JSON.stringify(J[ve]);he[Re]||(he[Re]=!0,ee.push(J[ve]))}return ee}function j(W,J,ee,he){var ve=[{placeholders:{}}];if(W instanceof _&&J instanceof _||W instanceof S&&J instanceof S){if(W instanceof _){if(W.op!==J.op||W.fn!==J.fn)return[]}else if(W instanceof S&&W.name!==J.name)return[];if(J.args.length===1&&W.args.length===1||!L(J,ee)&&J.args.length===W.args.length||he){for(var Re=[],ye=0;ye<W.args.length;ye++){var sr=j(W.args[ye],J.args[ye],ee);if(sr.length===0)break;Re.push(sr)}if(Re.length!==W.args.length){if(!B(J,ee)||W.args.length===1)return[];if(W.args.length>2)throw new Error("permuting >2 commutative non-associative rule arguments not yet implemented");var pr=j(W.args[0],J.args[1],ee);if(pr.length===0)return[];var kr=j(W.args[1],J.args[0],ee);if(kr.length===0)return[];Re=[pr,kr]}ve=Y(Re)}else if(J.args.length>=2&&W.args.length===2){for(var or=xe(J,ee),Z=[],re=0;re<or.length;re++){var fe=j(W,or[re],ee,!0);Z=Z.concat(fe)}return Z}else{if(W.args.length>2)throw Error("Unexpected non-binary associative function: "+W.toString());return[]}}else if(W instanceof E){if(W.name.length===0)throw new Error("Symbol in rule has 0 length...!?");if(ne[W.name]){if(W.name!==J.name)return[]}else switch(W.name[1]>="a"&&W.name[1]<="z"?W.name.substring(0,2):W.name[0]){case"n":case"_p":ve[0].placeholders[W.name]=J;break;case"c":case"cl":if(Sr(J))ve[0].placeholders[W.name]=J;else return[];break;case"v":if(!Sr(J))ve[0].placeholders[W.name]=J;else return[];break;case"vl":if(lt(J))ve[0].placeholders[W.name]=J;else return[];break;case"cd":if(Ob(J))ve[0].placeholders[W.name]=J;else return[];break;case"vd":if(!Ob(J))ve[0].placeholders[W.name]=J;else return[];break;case"ce":if(Tl(J))ve[0].placeholders[W.name]=J;else return[];break;case"ve":if(!Tl(J))ve[0].placeholders[W.name]=J;else return[];break;default:throw new Error("Invalid symbol in rule: "+W.name)}}else if(W instanceof w){if(!u(W.value,J.value))return[]}else return[];return ve}function ue(W,J){if(W instanceof w&&J instanceof w){if(!u(W.value,J.value))return!1}else if(W instanceof E&&J instanceof E){if(W.name!==J.name)return!1}else if(W instanceof _&&J instanceof _||W instanceof S&&J instanceof S){if(W instanceof _){if(W.op!==J.op||W.fn!==J.fn)return!1}else if(W instanceof S&&W.name!==J.name)return!1;if(W.args.length!==J.args.length)return!1;for(var ee=0;ee<W.args.length;ee++)if(!ue(W.args[ee],J.args[ee]))return!1}else return!1;return!0}return X});var sW="simplifyConstant",uW=["typed","config","mathWithTransform","matrix","?fraction","?bignumber","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode"],Rb=M(sW,uW,t=>{var{typed:e,config:r,mathWithTransform:n,matrix:i,fraction:a,bignumber:o,AccessorNode:c,ArrayNode:l,ConstantNode:s,FunctionNode:u,IndexNode:f,ObjectNode:p,OperatorNode:m,SymbolNode:v}=t,{isCommutative:d,isAssociative:g,allChildren:x,createMakeNodeFunction:A}=ru({FunctionNode:u,OperatorNode:m,SymbolNode:v}),y=e("simplifyConstant",{Node:U=>C(z(U,{})),"Node, Object":function(R,O){return C(z(R,O))}});function w(U){return wa(U)?U.valueOf():U instanceof Array?U.map(w):ze(U)?i(w(U.valueOf())):U}function S(U,R,O){try{return n[U].apply(null,R)}catch(G){return R=R.map(w),N(n[U].apply(null,R),O)}}var b=e({Fraction:I,number:function(R){return R<0?E(new s(-R)):new s(R)},BigNumber:function(R){return R<0?E(new s(-R)):new s(R)},Complex:function(R){throw new Error("Cannot convert Complex number to Node")},string:function(R){return new s(R)},Matrix:function(R){return new l(R.valueOf().map(O=>b(O)))}});function C(U){return _r(U)?U:b(U)}function _(U,R){var O=R&&R.exactFractions!==!1;if(O&&isFinite(U)&&a){var G=a(U),k=R&&typeof R.fractionsLimit=="number"?R.fractionsLimit:1/0;if(G.valueOf()===U&&G.n<k&&G.d<k)return G}return U}var N=e({"string, Object":function(R,O){if(r.number==="BigNumber")return o===void 0&&$s(),o(R);if(r.number==="Fraction")return a===void 0&&ip(),a(R);var G=parseFloat(R);return _(G,O)},"Fraction, Object":function(R,O){return R},"BigNumber, Object":function(R,O){return R},"number, Object":function(R,O){return _(R,O)},"Complex, Object":function(R,O){return R.im!==0?R:_(R.re,O)},"Matrix, Object":function(R,O){return i(_(R.valueOf()))},"Array, Object":function(R,O){return R.map(_)}});function E(U){return new m("-","unaryMinus",[U])}function I(U){var R,O=U.s*U.n;return O<0?R=new m("-","unaryMinus",[new s(-O)]):R=new s(O),U.d===1?R:new m("/","divide",[R,new s(U.d)])}function B(U,R,O){if(!wi(R))return new c(C(U),C(R));if(gn(U)||ze(U)){for(var G=Array.from(R.dimensions);G.length>0;)if(Sr(G[0])&&typeof G[0].value!="string"){var k=N(G.shift().value,O);gn(U)?U=U.items[k-1]:(U=U.valueOf()[k-1],U instanceof Array&&(U=i(U)))}else if(G.length>1&&Sr(G[1])&&typeof G[1].value!="string"){var Q=N(G[1].value,O),te=[],X=gn(U)?U.items:U.valueOf();for(var q of X)if(gn(q))te.push(q.items[Q-1]);else if(ze(U))te.push(q[Q-1]);else break;if(te.length===X.length)gn(U)?U=new l(te):U=i(te),G.splice(1,1);else break}else break;return G.length===R.dimensions.length?new c(C(U),R):G.length>0?(R=new f(G),new c(C(U),R)):U}if(Ja(U)&&R.dimensions.length===1&&Sr(R.dimensions[0])){var ne=R.dimensions[0].value;return ne in U.properties?U.properties[ne]:new s}return new c(C(U),R)}function L(U,R,O,G){var k=R.shift(),Q=R.reduce((te,X)=>{if(!_r(X)){var q=te.pop();if(_r(q))return[q,X];try{return te.push(S(U,[q,X],G)),te}catch(de){te.push(q)}}te.push(C(te.pop()));var ne=te.length===1?te[0]:O(te);return[O([ne,C(X)])]},[k]);return Q.length===1?Q[0]:O([Q[0],b(Q[1])])}function z(U,R){switch(U.type){case"SymbolNode":return U;case"ConstantNode":switch(typeof U.value){case"number":return N(U.value,R);case"string":return U.value;default:if(!isNaN(U.value))return N(U.value,R)}return U;case"FunctionNode":if(n[U.name]&&n[U.name].rawArgs)return U;{var O=["add","multiply"];if(O.indexOf(U.name)===-1){var G=U.args.map(pe=>z(pe,R));if(!G.some(_r))try{return S(U.name,G,R)}catch(pe){}if(U.name==="size"&&G.length===1&&gn(G[0])){for(var k=[],Q=G[0];gn(Q);)k.push(Q.items.length),Q=Q.items[0];return i(k)}return new u(U.name,G.map(C))}}case"OperatorNode":{var te=U.fn.toString(),X,q,ne=A(U);if(wt(U)&&U.isUnary())X=[z(U.args[0],R)],_r(X[0])?q=ne(X):q=S(te,X,R);else if(g(U,R.context))if(X=x(U,R.context),X=X.map(pe=>z(pe,R)),d(te,R.context)){for(var de=[],ae=[],se=0;se<X.length;se++)_r(X[se])?ae.push(X[se]):de.push(X[se]);de.length>1?(q=L(te,de,ne,R),ae.unshift(q),q=L(te,ae,ne,R)):q=L(te,X,ne,R)}else q=L(te,X,ne,R);else X=U.args.map(pe=>z(pe,R)),q=L(te,X,ne,R);return q}case"ParenthesisNode":return z(U.content,R);case"AccessorNode":return B(z(U.object,R),z(U.index,R),R);case"ArrayNode":{var me=U.items.map(pe=>z(pe,R));return me.some(_r)?new l(me.map(C)):i(me)}case"IndexNode":return new f(U.dimensions.map(pe=>y(pe,R)));case"ObjectNode":{var le={};for(var ce in U.properties)le[ce]=y(U.properties[ce],R);return new p(le)}case"AssignmentNode":case"BlockNode":case"FunctionAssignmentNode":case"RangeNode":case"ConditionalNode":default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(U.type))}}return y});var kB="simplifyCore",lW=["typed","parse","equal","isZero","add","subtract","multiply","divide","pow","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],kb=M(kB,lW,t=>{var{typed:e,parse:r,equal:n,isZero:i,add:a,subtract:o,multiply:c,divide:l,pow:s,AccessorNode:u,ArrayNode:f,ConstantNode:p,FunctionNode:m,IndexNode:v,ObjectNode:d,OperatorNode:g,ParenthesisNode:x,SymbolNode:A}=t,y=new p(0),w=new p(1),S=new p(!0),b=new p(!1);function C(I){return wt(I)&&["and","not","or"].includes(I.op)}var{hasProperty:_,isCommutative:N}=ru({FunctionNode:m,OperatorNode:g,SymbolNode:A});function E(I){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},L=B?B.context:void 0;if(_(I,"trivial",L)){if(Yn(I)&&I.args.length===1)return E(I.args[0],B);var z=!1,U=0;if(I.forEach(ae=>{++U,U===1&&(z=E(ae,B))}),U===1)return z}var R=I;if(Yn(R)){var O=PC(R.name);if(O){if(R.args.length>2&&_(R,"associative",L))for(;R.args.length>2;){var G=R.args.pop(),k=R.args.pop();R.args.push(new g(O,R.name,[G,k]))}R=new g(O,R.name,R.args)}else return new m(E(R.fn),R.args.map(ae=>E(ae,B)))}if(wt(R)&&R.isUnary()){var Q=E(R.args[0],B);if(R.op==="~"&&wt(Q)&&Q.isUnary()&&Q.op==="~"||R.op==="not"&&wt(Q)&&Q.isUnary()&&Q.op==="not"&&C(Q.args[0]))return Q.args[0];var te=!0;if(R.op==="-"&&wt(Q)&&(Q.isBinary()&&Q.fn==="subtract"&&(R=new g("-","subtract",[Q.args[1],Q.args[0]]),te=!1),Q.isUnary()&&Q.op==="-"))return Q.args[0];if(te)return new g(R.op,R.fn,[Q])}if(wt(R)&&R.isBinary()){var X=E(R.args[0],B),q=E(R.args[1],B);if(R.op==="+"){if(Sr(X)&&i(X.value))return q;if(Sr(q)&&i(q.value))return X;wt(q)&&q.isUnary()&&q.op==="-"&&(q=q.args[0],R=new g("-","subtract",[X,q]))}if(R.op==="-")return wt(q)&&q.isUnary()&&q.op==="-"?E(new g("+","add",[X,q.args[0]]),B):Sr(X)&&i(X.value)?E(new g("-","unaryMinus",[q])):Sr(q)&&i(q.value)?X:new g(R.op,R.fn,[X,q]);if(R.op==="*"){if(Sr(X)){if(i(X.value))return y;if(n(X.value,1))return q}if(Sr(q)){if(i(q.value))return y;if(n(q.value,1))return X;if(N(R,L))return new g(R.op,R.fn,[q,X],R.implicit)}return new g(R.op,R.fn,[X,q],R.implicit)}if(R.op==="/")return Sr(X)&&i(X.value)?y:Sr(q)&&n(q.value,1)?X:new g(R.op,R.fn,[X,q]);if(R.op==="^"&&Sr(q)){if(i(q.value))return w;if(n(q.value,1))return X}if(R.op==="and"){if(Sr(X))if(X.value){if(C(q))return q}else return b;if(Sr(q))if(q.value){if(C(X))return X}else return b}if(R.op==="or"){if(Sr(X)){if(X.value)return S;if(C(q))return q}if(Sr(q)){if(q.value)return S;if(C(X))return X}}return new g(R.op,R.fn,[X,q])}if(wt(R))return new g(R.op,R.fn,R.args.map(ae=>E(ae,B)));if(gn(R))return new f(R.items.map(ae=>E(ae,B)));if(li(R))return new u(E(R.object,B),E(R.index,B));if(wi(R))return new v(R.dimensions.map(ae=>E(ae,B)));if(Ja(R)){var ne={};for(var de in R.properties)ne[de]=E(R.properties[de],B);return new d(ne)}return R}return e(kB,{Node:E,"Node,Object":E})});var cW="resolve",fW=["typed","parse","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode"],Lb=M(cW,fW,t=>{var{typed:e,parse:r,ConstantNode:n,FunctionNode:i,OperatorNode:a,ParenthesisNode:o}=t;function c(l,s){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Set;if(!s)return l;if(lt(l)){if(u.has(l.name)){var f=Array.from(u).join(", ");throw new ReferenceError("recursive loop of variable definitions among {".concat(f,"}"))}var p=s.get(l.name);if(_r(p)){var m=new Set(u);return m.add(l.name),c(p,s,m)}else return typeof p=="number"?r(String(p)):p!==void 0?new n(p):l}else if(wt(l)){var v=l.args.map(function(g){return c(g,s,u)});return new a(l.op,l.fn,v,l.implicit)}else{if(yn(l))return new o(c(l.content,s,u));if(Yn(l)){var d=l.args.map(function(g){return c(g,s,u)});return new i(l.name,d)}}return l.map(g=>c(g,s,u))}return e("resolve",{Node:c,"Node, Map | null | undefined":c,"Node, Object":(l,s)=>c(l,Sa(s)),"Array | Matrix":e.referToSelf(l=>s=>s.map(u=>l(u))),"Array | Matrix, null | undefined":e.referToSelf(l=>s=>s.map(u=>l(u))),"Array, Object":e.referTo("Array,Map",l=>(s,u)=>l(s,Sa(u))),"Matrix, Object":e.referTo("Matrix,Map",l=>(s,u)=>l(s,Sa(u))),"Array | Matrix, Map":e.referToSelf(l=>(s,u)=>s.map(f=>l(f,u)))})});var LB="symbolicEqual",pW=["parse","simplify","typed","OperatorNode"],Ub=M(LB,pW,t=>{var{parse:e,simplify:r,typed:n,OperatorNode:i}=t;function a(o,c){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=new i("-","subtract",[o,c]),u=r(s,{},l);return Sr(u)&&!u.value}return n(LB,{"Node, Node":a,"Node, Node, Object":a})});var UB="derivative",mW=["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],qb=M(UB,mW,t=>{var{typed:e,config:r,parse:n,simplify:i,equal:a,isZero:o,numeric:c,ConstantNode:l,FunctionNode:s,OperatorNode:u,ParenthesisNode:f,SymbolNode:p}=t;function m(y,w){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{simplify:!0},b={};g(b,y,w.name);var C=x(y,b);return S.simplify?i(C):C}e.addConversion({from:"identifier",to:"SymbolNode",convert:n});var v=e(UB,{"Node, SymbolNode":m,"Node, SymbolNode, Object":m});e.removeConversion({from:"identifier",to:"SymbolNode",convert:n}),v._simplify=!0,v.toTex=function(y){return d.apply(null,y.args)};var d=e("_derivTex",{"Node, SymbolNode":function(w,S){return Sr(w)&&Cr(w.value)==="string"?d(n(w.value).toString(),S.toString(),1):d(w.toTex(),S.toString(),1)},"Node, ConstantNode":function(w,S){if(Cr(S.value)==="string")return d(w,n(S.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(w,S,b){return d(w.toString(),S.name,b.value)},"string, string, number":function(w,S,b){var C;return b===1?C="{d\\over d"+S+"}":C="{d^{"+b+"}\\over d"+S+"^{"+b+"}}",C+"\\left[".concat(w,"\\right]")}}),g=e("constTag",{"Object, ConstantNode, string":function(w,S){return w[S]=!0,!0},"Object, SymbolNode, string":function(w,S,b){return S.name!==b?(w[S]=!0,!0):!1},"Object, ParenthesisNode, string":function(w,S,b){return g(w,S.content,b)},"Object, FunctionAssignmentNode, string":function(w,S,b){return S.params.indexOf(b)===-1?(w[S]=!0,!0):g(w,S.expr,b)},"Object, FunctionNode | OperatorNode, string":function(w,S,b){if(S.args.length>0){for(var C=g(w,S.args[0],b),_=1;_<S.args.length;++_)C=g(w,S.args[_],b)&&C;if(C)return w[S]=!0,!0}return!1}}),x=e("_derivative",{"ConstantNode, Object":function(w){return A(0)},"SymbolNode, Object":function(w,S){return S[w]!==void 0?A(0):A(1)},"ParenthesisNode, Object":function(w,S){return new f(x(w.content,S))},"FunctionAssignmentNode, Object":function(w,S){return S[w]!==void 0?A(0):x(w.expr,S)},"FunctionNode, Object":function(w,S){if(S[w]!==void 0)return A(0);var b=w.args[0],C,_=!1,N=!1,E;switch(w.name){case"cbrt":_=!0,E=new u("*","multiply",[A(3),new u("^","pow",[b,new u("/","divide",[A(2),A(3)])])]);break;case"sqrt":case"nthRoot":if(w.args.length===1)_=!0,E=new u("*","multiply",[A(2),new s("sqrt",[b])]);else if(w.args.length===2)return C=new u("/","divide",[A(1),w.args[1]]),S[C]=S[w.args[1]],x(new u("^","pow",[b,C]),S);break;case"log10":C=A(10);case"log":if(!C&&w.args.length===1)E=b.clone(),_=!0;else if(w.args.length===1&&C||w.args.length===2&&S[w.args[1]]!==void 0)E=new u("*","multiply",[b.clone(),new s("log",[C||w.args[1]])]),_=!0;else if(w.args.length===2)return x(new u("/","divide",[new s("log",[b]),new s("log",[w.args[1]])]),S);break;case"pow":if(w.args.length===2)return S[C]=S[w.args[1]],x(new u("^","pow",[b,w.args[1]]),S);break;case"exp":E=new s("exp",[b.clone()]);break;case"sin":E=new s("cos",[b.clone()]);break;case"cos":E=new u("-","unaryMinus",[new s("sin",[b.clone()])]);break;case"tan":E=new u("^","pow",[new s("sec",[b.clone()]),A(2)]);break;case"sec":E=new u("*","multiply",[w,new s("tan",[b.clone()])]);break;case"csc":N=!0,E=new u("*","multiply",[w,new s("cot",[b.clone()])]);break;case"cot":N=!0,E=new u("^","pow",[new s("csc",[b.clone()]),A(2)]);break;case"asin":_=!0,E=new s("sqrt",[new u("-","subtract",[A(1),new u("^","pow",[b.clone(),A(2)])])]);break;case"acos":_=!0,N=!0,E=new s("sqrt",[new u("-","subtract",[A(1),new u("^","pow",[b.clone(),A(2)])])]);break;case"atan":_=!0,E=new u("+","add",[new u("^","pow",[b.clone(),A(2)]),A(1)]);break;case"asec":_=!0,E=new u("*","multiply",[new s("abs",[b.clone()]),new s("sqrt",[new u("-","subtract",[new u("^","pow",[b.clone(),A(2)]),A(1)])])]);break;case"acsc":_=!0,N=!0,E=new u("*","multiply",[new s("abs",[b.clone()]),new s("sqrt",[new u("-","subtract",[new u("^","pow",[b.clone(),A(2)]),A(1)])])]);break;case"acot":_=!0,N=!0,E=new u("+","add",[new u("^","pow",[b.clone(),A(2)]),A(1)]);break;case"sinh":E=new s("cosh",[b.clone()]);break;case"cosh":E=new s("sinh",[b.clone()]);break;case"tanh":E=new u("^","pow",[new s("sech",[b.clone()]),A(2)]);break;case"sech":N=!0,E=new u("*","multiply",[w,new s("tanh",[b.clone()])]);break;case"csch":N=!0,E=new u("*","multiply",[w,new s("coth",[b.clone()])]);break;case"coth":N=!0,E=new u("^","pow",[new s("csch",[b.clone()]),A(2)]);break;case"asinh":_=!0,E=new s("sqrt",[new u("+","add",[new u("^","pow",[b.clone(),A(2)]),A(1)])]);break;case"acosh":_=!0,E=new s("sqrt",[new u("-","subtract",[new u("^","pow",[b.clone(),A(2)]),A(1)])]);break;case"atanh":_=!0,E=new u("-","subtract",[A(1),new u("^","pow",[b.clone(),A(2)])]);break;case"asech":_=!0,N=!0,E=new u("*","multiply",[b.clone(),new s("sqrt",[new u("-","subtract",[A(1),new u("^","pow",[b.clone(),A(2)])])])]);break;case"acsch":_=!0,N=!0,E=new u("*","multiply",[new s("abs",[b.clone()]),new s("sqrt",[new u("+","add",[new u("^","pow",[b.clone(),A(2)]),A(1)])])]);break;case"acoth":_=!0,N=!0,E=new u("-","subtract",[A(1),new u("^","pow",[b.clone(),A(2)])]);break;case"abs":E=new u("/","divide",[new s(new p("abs"),[b.clone()]),b.clone()]);break;case"gamma":default:throw new Error('Cannot process function "'+w.name+'" in derivative: the function is not supported, undefined, or the number of arguments passed to it are not supported')}var I,B;_?(I="/",B="divide"):(I="*",B="multiply");var L=x(b,S);return N&&(L=new u("-","unaryMinus",[L])),new u(I,B,[L,E])},"OperatorNode, Object":function(w,S){if(S[w]!==void 0)return A(0);if(w.op==="+")return new u(w.op,w.fn,w.args.map(function(U){return x(U,S)}));if(w.op==="-"){if(w.isUnary())return new u(w.op,w.fn,[x(w.args[0],S)]);if(w.isBinary())return new u(w.op,w.fn,[x(w.args[0],S),x(w.args[1],S)])}if(w.op==="*"){var b=w.args.filter(function(U){return S[U]!==void 0});if(b.length>0){var C=w.args.filter(function(U){return S[U]===void 0}),_=C.length===1?C[0]:new u("*","multiply",C),N=b.concat(x(_,S));return new u("*","multiply",N)}return new u("+","add",w.args.map(function(U){return new u("*","multiply",w.args.map(function(R){return R===U?x(R,S):R.clone()}))}))}if(w.op==="/"&&w.isBinary()){var E=w.args[0],I=w.args[1];return S[I]!==void 0?new u("/","divide",[x(E,S),I]):S[E]!==void 0?new u("*","multiply",[new u("-","unaryMinus",[E]),new u("/","divide",[x(I,S),new u("^","pow",[I.clone(),A(2)])])]):new u("/","divide",[new u("-","subtract",[new u("*","multiply",[x(E,S),I.clone()]),new u("*","multiply",[E.clone(),x(I,S)])]),new u("^","pow",[I.clone(),A(2)])])}if(w.op==="^"&&w.isBinary()){var B=w.args[0],L=w.args[1];if(S[B]!==void 0)return Sr(B)&&(o(B.value)||a(B.value,1))?A(0):new u("*","multiply",[w,new u("*","multiply",[new s("log",[B.clone()]),x(L.clone(),S)])]);if(S[L]!==void 0){if(Sr(L)){if(o(L.value))return A(0);if(a(L.value,1))return x(B,S)}var z=new u("^","pow",[B.clone(),new u("-","subtract",[L,A(1)])]);return new u("*","multiply",[L.clone(),new u("*","multiply",[x(B,S),z])])}return new u("*","multiply",[new u("^","pow",[B.clone(),L.clone()]),new u("+","add",[new u("*","multiply",[x(B,S),new u("/","divide",[L.clone(),B.clone()])]),new u("*","multiply",[x(L,S),new s("log",[B.clone()])])])])}throw new Error('Cannot process operator "'+w.op+'" in derivative: the operator is not supported, undefined, or the number of arguments passed to it are not supported')}});function A(y,w){return new l(c(y,w||r.number))}return v});var qB="rationalize",dW=["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplifyConstant","simplifyCore","simplify","?bignumber","?fraction","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode","ParenthesisNode"],Vb=M(qB,dW,t=>{var{config:e,typed:r,equal:n,isZero:i,add:a,subtract:o,multiply:c,divide:l,pow:s,parse:u,simplifyConstant:f,simplifyCore:p,simplify:m,fraction:v,bignumber:d,mathWithTransform:g,matrix:x,AccessorNode:A,ArrayNode:y,ConstantNode:w,FunctionNode:S,IndexNode:b,ObjectNode:C,OperatorNode:_,SymbolNode:N,ParenthesisNode:E}=t;function I(R){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,k=L(),Q=B(R,O,!0,k.firstRules),te=Q.variables.length,X={exactFractions:!1},q={exactFractions:!0};if(R=Q.expression,te>=1){R=z(R);var ne,de,ae=!0,se=!1;R=m(R,k.firstRules,{},X);for(var me;de=ae?k.distrDivRules:k.sucDivRules,R=m(R,de,{},q),ae=!ae,me=R.toString(),me!==ne;)se=!0,ne=me;se&&(R=m(R,k.firstRulesAgain,{},X)),R=m(R,k.finalRules,{},X)}var le=[],ce={};return R.type==="OperatorNode"&&R.isBinary()&&R.op==="/"?(te===1&&(R.args[0]=U(R.args[0],le),R.args[1]=U(R.args[1])),G&&(ce.numerator=R.args[0],ce.denominator=R.args[1])):(te===1&&(R=U(R,le)),G&&(ce.numerator=R,ce.denominator=null)),G?(ce.coefficients=le,ce.variables=Q.variables,ce.expression=R,ce):R}return r(qB,{Node:I,"Node, boolean":(R,O)=>I(R,{},O),"Node, Object":I,"Node, Object, boolean":I});function B(R,O,G,k){var Q=[],te=m(R,k,O,{exactFractions:!1});G=!!G;var X="+-*"+(G?"/":"");ne(te);var q={};return q.expression=te,q.variables=Q,q;function ne(de){var ae=de.type;if(ae==="FunctionNode")throw new Error("There is an unsolved function call");if(ae==="OperatorNode")if(de.op==="^"){if(de.args[1].type!=="ConstantNode"||!Ue(parseFloat(de.args[1].value)))throw new Error("There is a non-integer exponent");ne(de.args[0])}else{if(X.indexOf(de.op)===-1)throw new Error("Operator "+de.op+" invalid in polynomial expression");for(var se=0;se<de.args.length;se++)ne(de.args[se])}else if(ae==="SymbolNode"){var me=de.name,le=Q.indexOf(me);le===-1&&Q.push(me)}else if(ae==="ParenthesisNode")ne(de.content);else if(ae!=="ConstantNode")throw new Error("type "+ae+" is not allowed in polynomial expression")}}function L(){var R=[p,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},f,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],O=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],G=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],k=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],Q={};return Q.firstRules=R.concat(O,k),Q.distrDivRules=G,Q.sucDivRules=k,Q.firstRulesAgain=R.concat(O),Q.finalRules=[p,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},f,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],Q}function z(R,O,G){var k=R.type,Q=arguments.length>1;if(k==="OperatorNode"&&R.isBinary()){var te=!1,X;if(R.op==="^"&&(R.args[0].type==="ParenthesisNode"||R.args[0].type==="OperatorNode")&&R.args[1].type==="ConstantNode"&&(X=parseFloat(R.args[1].value),te=X>=2&&Ue(X)),te){if(X>2){var q=R.args[0],ne=new _("^","pow",[R.args[0].cloneDeep(),new w(X-1)]);R=new _("*","multiply",[q,ne])}else R=new _("*","multiply",[R.args[0],R.args[0].cloneDeep()]);Q&&(G==="content"?O.content=R:O.args[G]=R)}}if(k==="ParenthesisNode")z(R.content,R,"content");else if(k!=="ConstantNode"&&k!=="SymbolNode")for(var de=0;de<R.args.length;de++)z(R.args[de],R,de);if(!Q)return R}function U(R,O){O===void 0&&(O=[]),O[0]=0;var G={};G.cte=1,G.oper="+",G.fire="";var k=0,Q="";me(R,null,G),k=O.length-1;for(var te=!0,X,q=k;q>=0;q--)if(O[q]!==0){var ne=new w(te?O[q]:Math.abs(O[q])),de=O[q]<0?"-":"+";if(q>0){var ae=new N(Q);if(q>1){var se=new w(q);ae=new _("^","pow",[ae,se])}O[q]===-1&&te?ne=new _("-","unaryMinus",[ae]):Math.abs(O[q])===1?ne=ae:ne=new _("*","multiply",[ne,ae])}te?X=ne:de==="+"?X=new _("+","add",[X,ne]):X=new _("-","subtract",[X,ne]),te=!1}if(te)return new w(0);return X;function me(le,ce,pe){var xe=le.type;if(xe==="FunctionNode")throw new Error("There is an unsolved function call");if(xe==="OperatorNode"){if("+-*^".indexOf(le.op)===-1)throw new Error("Operator "+le.op+" invalid");if(ce!==null){if((le.fn==="unaryMinus"||le.fn==="pow")&&ce.fn!=="add"&&ce.fn!=="subtract"&&ce.fn!=="multiply")throw new Error("Invalid "+le.op+" placing");if((le.fn==="subtract"||le.fn==="add"||le.fn==="multiply")&&ce.fn!=="add"&&ce.fn!=="subtract")throw new Error("Invalid "+le.op+" placing");if((le.fn==="subtract"||le.fn==="add"||le.fn==="unaryMinus")&&pe.noFil!==0)throw new Error("Invalid "+le.op+" placing")}(le.op==="^"||le.op==="*")&&(pe.fire=le.op);for(var Fe=0;Fe<le.args.length;Fe++)le.fn==="unaryMinus"&&(pe.oper="-"),(le.op==="+"||le.fn==="subtract")&&(pe.fire="",pe.cte=1,pe.oper=Fe===0?"+":le.op),pe.noFil=Fe,me(le.args[Fe],le,pe)}else if(xe==="SymbolNode"){if(le.name!==Q&&Q!=="")throw new Error("There is more than one variable");if(Q=le.name,ce===null){O[1]=1;return}if(ce.op==="^"&&pe.noFil!==0)throw new Error("In power the variable should be the first parameter");if(ce.op==="*"&&pe.noFil!==1)throw new Error("In multiply the variable should be the second parameter");(pe.fire===""||pe.fire==="*")&&(k<1&&(O[1]=0),O[1]+=pe.cte*(pe.oper==="+"?1:-1),k=Math.max(1,k))}else if(xe==="ConstantNode"){var He=parseFloat(le.value);if(ce===null){O[0]=He;return}if(ce.op==="^"){if(pe.noFil!==1)throw new Error("Constant cannot be powered");if(!Ue(He)||He<=0)throw new Error("Non-integer exponent is not allowed");for(var Y=k+1;Y<He;Y++)O[Y]=0;He>k&&(O[He]=0),O[He]+=pe.cte*(pe.oper==="+"?1:-1),k=Math.max(He,k);return}pe.cte=He,pe.fire===""&&(O[0]+=pe.cte*(pe.oper==="+"?1:-1))}else throw new Error("Type "+xe+" is not allowed")}}});var VB="zpk2tf",hW=["typed","add","multiply","Complex","number"],zb=M(VB,hW,t=>{var{typed:e,add:r,multiply:n,Complex:i,number:a}=t;return e(VB,{"Array,Array,number":function(s,u,f){return o(s,u,f)},"Array,Array":function(s,u){return o(s,u,1)},"Matrix,Matrix,number":function(s,u,f){return o(s.valueOf(),u.valueOf(),f)},"Matrix,Matrix":function(s,u){return o(s.valueOf(),u.valueOf(),1)}});function o(l,s,u){l.some(A=>A.type==="BigNumber")&&(l=l.map(A=>a(A))),s.some(A=>A.type==="BigNumber")&&(s=s.map(A=>a(A)));for(var f=[i(1,0)],p=[i(1,0)],m=0;m<l.length;m++){var v=l[m];typeof v=="number"&&(v=i(v,0)),f=c(f,[i(1,0),i(-v.re,-v.im)])}for(var d=0;d<s.length;d++){var g=s[d];typeof g=="number"&&(g=i(g,0)),p=c(p,[i(1,0),i(-g.re,-g.im)])}for(var x=0;x<f.length;x++)f[x]=n(f[x],u);return[f,p]}function c(l,s){for(var u=[],f=0;f<l.length+s.length-1;f++){u[f]=i(0,0);for(var p=0;p<l.length;p++)f-p>=0&&f-p<s.length&&(u[f]=r(u[f],n(l[p],s[f-p])))}return u}});var zB="freqz",vW=["typed","add","multiply","Complex","divide","matrix"],Hb=M(zB,vW,t=>{var{typed:e,add:r,multiply:n,Complex:i,divide:a,matrix:o}=t;return e(zB,{"Array, Array":function(u,f){var p=l(512);return c(u,f,p)},"Array, Array, Array":function(u,f,p){return c(u,f,p)},"Array, Array, number":function(u,f,p){if(p<0)throw new Error("w must be a positive number");var m=l(p);return c(u,f,m)},"Matrix, Matrix":function(u,f){var p=l(512),{w:m,h:v}=c(u.valueOf(),f.valueOf(),p);return{w:o(m),h:o(v)}},"Matrix, Matrix, Matrix":function(u,f,p){var{h:m}=c(u.valueOf(),f.valueOf(),p.valueOf());return{h:o(m),w:o(p)}},"Matrix, Matrix, number":function(u,f,p){if(p<0)throw new Error("w must be a positive number");var m=l(p),{h:v}=c(u.valueOf(),f.valueOf(),m);return{h:o(v),w:o(m)}}});function c(s,u,f){for(var p=[],m=[],v=0;v<f.length;v++){for(var d=i(0,0),g=i(0,0),x=0;x<s.length;x++)d=r(d,n(s[x],i(Math.cos(-x*f[v]),Math.sin(-x*f[v]))));for(var A=0;A<u.length;A++)g=r(g,n(u[A],i(Math.cos(-A*f[v]),Math.sin(-A*f[v]))));p.push(d),m.push(g)}for(var y=[],w=0;w<p.length;w++)y.push(a(p[w],m[w]));return{h:y,w:f}}function l(s){for(var u=[],f=0;f<s;f++)u.push(f/s*Math.PI);return u}});var gW="reviver",yW=["classes"],Yb=M(gW,yW,t=>{var{classes:e}=t;return function(n,i){var a=e[i&&i.mathjs];return a&&typeof a.fromJSON=="function"?a.fromJSON(i):i}});var xW="replacer",bW=[],Gb=M(xW,bW,()=>function(e,r){return typeof r=="number"&&(!isFinite(r)||isNaN(r))?{mathjs:"number",value:String(r)}:r});var HB="12.3.2";var Wb=M("true",[],()=>!0),Zb=M("false",[],()=>!1),jb=M("null",[],()=>null),$b=fi("Infinity",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(1/0):1/0}),Jb=fi("NaN",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(NaN):NaN}),Xb=fi("pi",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?wl(r):A_}),Qb=fi("tau",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?WM(r):N_}),Kb=fi("e",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?YM(r):__}),e1=fi("phi",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?GM(r):E_}),r1=fi("LN2",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(2).ln():Math.LN2}),t1=fi("LN10",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(10).ln():Math.LN10}),n1=fi("LOG2E",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(1).div(new r(2).ln()):Math.LOG2E}),i1=fi("LOG10E",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(1).div(new r(10).ln()):Math.LOG10E}),a1=fi("SQRT1_2",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r("0.5").sqrt():Math.SQRT1_2}),o1=fi("SQRT2",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(2).sqrt():Math.SQRT2}),s1=fi("i",["Complex"],t=>{var{Complex:e}=t;return e.I});var u1=M("version",[],()=>HB);function fi(t,e,r){return M(t,e,r,{recreateOnConfigChange:!0})}var l1=Mr("speedOfLight","299792458","m s^-1"),c1=Mr("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),f1=Mr("planckConstant","6.62607015e-34","J s"),p1=Mr("reducedPlanckConstant","1.0545718176461565e-34","J s"),m1=Mr("magneticConstant","1.25663706212e-6","N A^-2"),d1=Mr("electricConstant","8.8541878128e-12","F m^-1"),h1=Mr("vacuumImpedance","376.730313667","ohm"),v1=Mr("coulomb","8.987551792261171e9","N m^2 C^-2"),g1=Mr("elementaryCharge","1.602176634e-19","C"),y1=Mr("bohrMagneton","9.2740100783e-24","J T^-1"),x1=Mr("conductanceQuantum","7.748091729863649e-5","S"),b1=Mr("inverseConductanceQuantum","12906.403729652257","ohm"),w1=Mr("magneticFluxQuantum","2.0678338484619295e-15","Wb"),D1=Mr("nuclearMagneton","5.0507837461e-27","J T^-1"),S1=Mr("klitzing","25812.807459304513","ohm");var A1=Mr("bohrRadius","5.29177210903e-11","m"),N1=Mr("classicalElectronRadius","2.8179403262e-15","m"),_1=Mr("electronMass","9.1093837015e-31","kg"),E1=Mr("fermiCoupling","1.1663787e-5","GeV^-2"),M1=Up("fineStructure",.0072973525693),C1=Mr("hartreeEnergy","4.3597447222071e-18","J"),T1=Mr("protonMass","1.67262192369e-27","kg"),F1=Mr("deuteronMass","3.3435830926e-27","kg"),I1=Mr("neutronMass","1.6749271613e-27","kg"),O1=Mr("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),B1=Mr("rydberg","10973731.568160","m^-1"),P1=Mr("thomsonCrossSection","6.6524587321e-29","m^2"),R1=Up("weakMixingAngle",.2229),k1=Up("efimovFactor",22.7),L1=Mr("atomicMass","1.66053906660e-27","kg"),U1=Mr("avogadro","6.02214076e23","mol^-1"),q1=Mr("boltzmann","1.380649e-23","J K^-1"),V1=Mr("faraday","96485.33212331001","C mol^-1"),z1=Mr("firstRadiation","3.7417718521927573e-16","W m^2"),H1=Mr("loschmidt","2.686780111798444e25","m^-3"),Y1=Mr("gasConstant","8.31446261815324","J K^-1 mol^-1"),G1=Mr("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),W1=Mr("molarVolume","0.022413969545014137","m^3 mol^-1"),Z1=Up("sackurTetrode",-1.16487052358),j1=Mr("secondRadiation","0.014387768775039337","m K"),$1=Mr("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),J1=Mr("wienDisplacement","2.897771955e-3","m K"),X1=Mr("molarMass","0.99999999965e-3","kg mol^-1"),Q1=Mr("molarMassC12","11.9999999958e-3","kg mol^-1"),K1=Mr("gravity","9.80665","m s^-2"),ew=Mr("planckLength","1.616255e-35","m"),rw=Mr("planckMass","2.176435e-8","kg"),tw=Mr("planckTime","5.391245e-44","s"),nw=Mr("planckCharge","1.87554603778e-18","C"),iw=Mr("planckTemperature","1.416785e+32","K");function Mr(t,e,r){var n=["config","Unit","BigNumber"];return M(t,n,i=>{var{config:a,Unit:o,BigNumber:c}=i,l=a.number==="BigNumber"?new c(e):parseFloat(e),s=new o(l,r);return s.fixPrefix=!0,s})}function Up(t,e){var r=["config","BigNumber"];return M(t,r,n=>{var{config:i,BigNumber:a}=n;return i.number==="BigNumber"?new a(e):e})}var wW="apply",DW=["typed","isInteger"],aw=M(wW,DW,t=>{var{typed:e,isInteger:r}=t,n=zo({typed:e,isInteger:r});return e("apply",{"...any":function(a){var o=a[1];tr(o)?a[1]=o-1:Ze(o)&&(a[1]=o.minus(1));try{return n.apply(null,a)}catch(c){throw ht(c)}}})},{isTransformFunction:!0});var SW="column",AW=["typed","Index","matrix","range"],ow=M(SW,AW,t=>{var{typed:e,Index:r,matrix:n,range:i}=t,a=fl({typed:e,Index:r,matrix:n,range:i});return e("column",{"...any":function(c){var l=c.length-1,s=c[l];tr(s)&&(c[l]=s-1);try{return a.apply(null,c)}catch(u){throw ht(u)}}})},{isTransformFunction:!0});function tu(t,e,r){var n=t.filter(function(l){return lt(l)&&!(l.name in e)&&!r.has(l.name)})[0];if(!n)throw new Error('No undefined variable found in inline expression "'+t+'"');var i=n.name,a=new Map,o=new zs(r,a,new Set([i])),c=t.compile();return function(s){return a.set(i,s),c.evaluate(o)}}var NW="filter",_W=["typed"],sw=M(NW,_W,t=>{var{typed:e}=t;function r(i,a,o){var c,l;return i[0]&&(c=i[0].compile().evaluate(o)),i[1]&&(lt(i[1])||ea(i[1])?l=i[1].compile().evaluate(o):l=tu(i[1],a,o)),n(c,l)}r.rawArgs=!0;var n=e("filter",{"Array, function":YB,"Matrix, function":function(a,o){return a.create(YB(a.toArray(),o))},"Array, RegExp":qs,"Matrix, RegExp":function(a,o){return a.create(qs(a.toArray(),o))}});return r},{isTransformFunction:!0});function YB(t,e){return qf(t,function(r,n,i){return Ni(e,r,[n+1],i,"filter")})}var EW="forEach",MW=["typed"],uw=M(EW,MW,t=>{var{typed:e}=t;function r(i,a,o){var c,l;return i[0]&&(c=i[0].compile().evaluate(o)),i[1]&&(lt(i[1])||ea(i[1])?l=i[1].compile().evaluate(o):l=tu(i[1],a,o)),n(c,l)}r.rawArgs=!0;var n=e("forEach",{"Array | Matrix, function":function(a,o){var c=function l(s,u){if(Array.isArray(s))Xa(s,function(f,p){l(f,u.concat(p+1))});else return Ni(o,s,u,a,"forEach")};c(a.valueOf(),[])}});return r},{isTransformFunction:!0});var CW="index",TW=["Index","getMatrixDataType"],lw=M(CW,TW,t=>{var{Index:e,getMatrixDataType:r}=t;return function(){for(var i=[],a=0,o=arguments.length;a<o;a++){var c=arguments[a];if(ks(c))c.start--,c.end-=c.step>0?0:2;else if(c&&c.isSet===!0)c=c.map(function(s){return s-1});else if(Ir(c)||ze(c))r(c)!=="boolean"&&(c=c.map(function(s){return s-1}));else if(tr(c))c--;else if(Ze(c))c=c.toNumber()-1;else if(typeof c!="string")throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");i[a]=c}var l=new e;return e.apply(l,i),l}},{isTransformFunction:!0});var FW="map",IW=["typed"],cw=M(FW,IW,t=>{var{typed:e}=t;function r(i,a,o){var c,l;return i[0]&&(c=i[0].compile().evaluate(o)),i[1]&&(lt(i[1])||ea(i[1])?l=i[1].compile().evaluate(o):l=tu(i[1],a,o)),n(c,l)}r.rawArgs=!0;var n=e("map",{"Array, function":function(a,o){return GB(a,o,a)},"Matrix, function":function(a,o){return a.create(GB(a.valueOf(),o,a))}});return r},{isTransformFunction:!0});function GB(t,e,r){function n(i,a){return Array.isArray(i)?$n(i,function(o,c){return n(o,a.concat(c+1))}):Ni(e,i,a,r,"map")}return n(t,[])}function Tn(t){if(t.length===2&&kt(t[0])){t=t.slice();var e=t[1];tr(e)?t[1]=e-1:Ze(e)&&(t[1]=e.minus(1))}return t}var OW="max",BW=["typed","config","numeric","larger"],fw=M(OW,BW,t=>{var{typed:e,config:r,numeric:n,larger:i}=t,a=xl({typed:e,config:r,numeric:n,larger:i});return e("max",{"...any":function(c){c=Tn(c);try{return a.apply(null,c)}catch(l){throw ht(l)}}})},{isTransformFunction:!0});var PW="mean",RW=["typed","add","divide"],pw=M(PW,RW,t=>{var{typed:e,add:r,divide:n}=t,i=Nl({typed:e,add:r,divide:n});return e("mean",{"...any":function(o){o=Tn(o);try{return i.apply(null,o)}catch(c){throw ht(c)}}})},{isTransformFunction:!0});var kW="min",LW=["typed","config","numeric","smaller"],mw=M(kW,LW,t=>{var{typed:e,config:r,numeric:n,smaller:i}=t,a=bl({typed:e,config:r,numeric:n,smaller:i});return e("min",{"...any":function(c){c=Tn(c);try{return a.apply(null,c)}catch(l){throw ht(l)}}})},{isTransformFunction:!0});var UW="range",qW=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],dw=M(UW,qW,t=>{var{typed:e,config:r,matrix:n,bignumber:i,smaller:a,smallerEq:o,larger:c,largerEq:l,add:s,isPositive:u}=t,f=dl({typed:e,config:r,matrix:n,bignumber:i,smaller:a,smallerEq:o,larger:c,largerEq:l,add:s,isPositive:u});return e("range",{"...any":function(m){var v=m.length-1,d=m[v];return typeof d!="boolean"&&m.push(!0),f.apply(null,m)}})},{isTransformFunction:!0});var VW="row",zW=["typed","Index","matrix","range"],hw=M(VW,zW,t=>{var{typed:e,Index:r,matrix:n,range:i}=t,a=hl({typed:e,Index:r,matrix:n,range:i});return e("row",{"...any":function(c){var l=c.length-1,s=c[l];tr(s)&&(c[l]=s-1);try{return a.apply(null,c)}catch(u){throw ht(u)}}})},{isTransformFunction:!0});var HW="subset",YW=["typed","matrix","zeros","add"],vw=M(HW,YW,t=>{var{typed:e,matrix:r,zeros:n,add:i}=t,a=vl({typed:e,matrix:r,zeros:n,add:i});return e("subset",{"...any":function(c){try{return a.apply(null,c)}catch(l){throw ht(l)}}})},{isTransformFunction:!0});var GW="concat",WW=["typed","matrix","isInteger"],gw=M(GW,WW,t=>{var{typed:e,matrix:r,isInteger:n}=t,i=cl({typed:e,matrix:r,isInteger:n});return e("concat",{"...any":function(o){var c=o.length-1,l=o[c];tr(l)?o[c]=l-1:Ze(l)&&(o[c]=l.minus(1));try{return i.apply(null,o)}catch(s){throw ht(s)}}})},{isTransformFunction:!0});var WB="diff",ZW=["typed","matrix","subtract","number","bignumber"],yw=M(WB,ZW,t=>{var{typed:e,matrix:r,subtract:n,number:i,bignumber:a}=t,o=ml({typed:e,matrix:r,subtract:n,number:i,bignumber:a});return e(WB,{"...any":function(l){l=Tn(l);try{return o.apply(null,l)}catch(s){throw ht(s)}}})},{isTransformFunction:!0});var jW="std",$W=["typed","map","sqrt","variance"],xw=M(jW,$W,t=>{var{typed:e,map:r,sqrt:n,variance:i}=t,a=Ml({typed:e,map:r,sqrt:n,variance:i});return e("std",{"...any":function(c){c=Tn(c);try{return a.apply(null,c)}catch(l){throw ht(l)}}})},{isTransformFunction:!0});var ZB="sum",JW=["typed","config","add","numeric"],bw=M(ZB,JW,t=>{var{typed:e,config:r,add:n,numeric:i}=t,a=Sl({typed:e,config:r,add:n,numeric:i});return e(ZB,{"...any":function(c){c=Tn(c);try{return a.apply(null,c)}catch(l){throw ht(l)}}})},{isTransformFunction:!0});var XW="quantileSeq",QW=["typed","bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],ww=M(XW,QW,t=>{var{typed:e,bignumber:r,add:n,subtract:i,divide:a,multiply:o,partitionSelect:c,compare:l,isInteger:s,smaller:u,smallerEq:f,larger:p}=t,m=El({typed:e,bignumber:r,add:n,subtract:i,divide:a,multiply:o,partitionSelect:c,compare:l,isInteger:s,smaller:u,smallerEq:f,larger:p});return e("quantileSeq",{"Array | Matrix, number | BigNumber":m,"Array | Matrix, number | BigNumber, number":(d,g,x)=>m(d,g,v(x)),"Array | Matrix, number | BigNumber, boolean":m,"Array | Matrix, number | BigNumber, boolean, number":(d,g,x,A)=>m(d,g,x,v(A)),"Array | Matrix, Array | Matrix":m,"Array | Matrix, Array | Matrix, number":(d,g,x)=>m(d,g,v(x)),"Array | Matrix, Array | Matrix, boolean":m,"Array | Matrix, Array | Matrix, boolean, number":(d,g,x,A)=>m(d,g,x,v(A))});function v(d){return Tn([[],d])[1]}},{isTransformFunction:!0});var jB="cumsum",KW=["typed","add","unaryPlus"],Dw=M(jB,KW,t=>{var{typed:e,add:r,unaryPlus:n}=t,i=Al({typed:e,add:r,unaryPlus:n});return e(jB,{"...any":function(o){if(o.length===2&&kt(o[0])){var c=o[1];tr(c)?o[1]=c-1:Ze(c)&&(o[1]=c.minus(1))}try{return i.apply(null,o)}catch(l){throw ht(l)}}})},{isTransformFunction:!0});var $B="variance",eZ=["typed","add","subtract","multiply","divide","apply","isNaN"],Sw=M($B,eZ,t=>{var{typed:e,add:r,subtract:n,multiply:i,divide:a,apply:o,isNaN:c}=t,l=_l({typed:e,add:r,subtract:n,multiply:i,divide:a,apply:o,isNaN:c});return e($B,{"...any":function(u){u=Tn(u);try{return l.apply(null,u)}catch(f){throw ht(f)}}})},{isTransformFunction:!0});var JB="print",rZ=["typed","matrix","zeros","add"],Aw=M(JB,rZ,t=>{var{typed:e,matrix:r,zeros:n,add:i}=t,a=gl({typed:e,matrix:r,zeros:n,add:i});return e(JB,{"string, Object | Array":function(l,s){return a(o(l),s)},"string, Object | Array, number | Object":function(l,s,u){return a(o(l),s,u)}});function o(c){return c.replace(op,l=>{var s=l.slice(1).split("."),u=s.map(function(f){return!isNaN(f)&&f.length>0?parseInt(f)-1:f});return"$"+u.join(".")})}},{isTransformFunction:!0});var tZ="and",nZ=["typed","matrix","zeros","add","equalScalar","not","concat"],Nw=M(tZ,nZ,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,not:a,concat:o}=t,c=yl({typed:e,matrix:r,equalScalar:n,zeros:i,not:a,concat:o});function l(s,u,f){var p=s[0].compile().evaluate(f);if(!kt(p)&&!c(p,!0))return!1;var m=s[1].compile().evaluate(f);return c(p,m)}return l.rawArgs=!0,l},{isTransformFunction:!0});var iZ="or",aZ=["typed","matrix","equalScalar","DenseMatrix","concat"],_w=M(iZ,aZ,t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:i,concat:a}=t,o=ll({typed:e,matrix:r,equalScalar:n,DenseMatrix:i,concat:a});function c(l,s,u){var f=l[0].compile().evaluate(u);if(!kt(f)&&o(f,!1))return!0;var p=l[1].compile().evaluate(u);return o(f,p)}return c.rawArgs=!0,c},{isTransformFunction:!0});var oZ="bitAnd",sZ=["typed","matrix","zeros","add","equalScalar","not","concat"],Ew=M(oZ,sZ,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,not:a,concat:o}=t,c=sl({typed:e,matrix:r,equalScalar:n,zeros:i,not:a,concat:o});function l(s,u,f){var p=s[0].compile().evaluate(f);if(!kt(p)){if(isNaN(p))return NaN;if(p===0||p===!1)return 0}var m=s[1].compile().evaluate(f);return c(p,m)}return l.rawArgs=!0,l},{isTransformFunction:!0});var uZ="bitOr",lZ=["typed","matrix","equalScalar","DenseMatrix","concat"],Mw=M(uZ,lZ,t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:i,concat:a}=t,o=ul({typed:e,matrix:r,equalScalar:n,DenseMatrix:i,concat:a});function c(l,s,u){var f=l[0].compile().evaluate(u);if(!kt(f)){if(isNaN(f))return NaN;if(f===-1)return-1;if(f===!0)return 1}var p=l[1].compile().evaluate(u);return o(f,p)}return c.rawArgs=!0,c},{isTransformFunction:!0});var Pe=Wh({config:De}),vt=jh({}),Cw=Kb({BigNumber:Pe,config:De}),XB=Zb({}),QB=M1({BigNumber:Pe,config:De}),uo=Jh({}),Tw=s1({Complex:vt}),KB=$b({BigNumber:Pe,config:De}),eP=t1({BigNumber:Pe,config:De}),rP=i1({BigNumber:Pe,config:De}),Fl=Qh({}),tP=Jb({BigNumber:Pe,config:De}),nP=jb({}),iP=e1({BigNumber:Pe,config:De}),aP=Xh({}),Fw=Uh({}),oP=a1({BigNumber:Pe,config:De}),sP=Z1({BigNumber:Pe,config:De}),Iw=Qb({BigNumber:Pe,config:De}),uP=Wb({}),lP=u1({}),Tr=Kh({Matrix:Fl}),cP=k1({BigNumber:Pe,config:De}),fP=r1({BigNumber:Pe,config:De}),qp=Xb({BigNumber:Pe,config:De}),pP=Gb({}),mP=o1({BigNumber:Pe,config:De}),$=Lh({BigNumber:Pe,Complex:vt,DenseMatrix:Tr,Fraction:uo}),Vp=Dg({BigNumber:Pe,config:De,typed:$}),dP=R1({BigNumber:Pe,config:De}),Fn=Sg({typed:$}),hP=A0({Complex:vt,config:De,typed:$}),vP=_0({BigNumber:Pe,typed:$}),gP=M0({BigNumber:Pe,Complex:vt,config:De,typed:$}),Xt=Ag({typed:$}),yP=Kg({typed:$}),xP=F0({BigNumber:Pe,Complex:vt,config:De,typed:$}),bP=O0({typed:$}),Ow=B0({typed:$}),wP=R0({Complex:vt,config:De,typed:$}),Kn=mg({BigNumber:Pe,typed:$}),DP=Xg({typed:$}),SP=pg({typed:$}),AP=ev({typed:$}),Il=cb({typed:$}),Ol=dg({Complex:vt,typed:$}),lo=ey({typed:$}),zp=k0({typed:$}),NP=U0({BigNumber:Pe,typed:$}),_P=V0({BigNumber:Pe,typed:$}),EP=Cg({typed:$}),Br=ug({config:De,typed:$}),MP=Ty({typed:$}),Bw=Tg({typed:$}),CP=Fg({Complex:vt,typed:$}),TP=uy({typed:$}),FP=cy({typed:$}),nu=By({typed:$}),Hp=fy({typed:$}),IP=ky({format:nu,typed:$}),Yp=ry({typed:$}),Gn=tv({typed:$}),Ca=rg({typed:$}),co=ig({typed:$}),Mi=ag({typed:$}),OP=n1({BigNumber:Pe,config:De}),BP=mb({Complex:vt,typed:$}),PP=Lg({Complex:vt,config:De,typed:$}),Pw=Ug({Complex:vt,config:De,typed:$}),fo=dy({typed:$}),Lt=qg({typed:$}),Bl=ny({typed:$}),aa=cg({typed:$}),RP=Ry({format:nu,typed:$}),kP=Nb({config:De,typed:$}),LP=gl({typed:$}),UP=_b({config:De,typed:$}),Gp=ty({typed:$}),qP=H0({BigNumber:Pe,typed:$}),Rw=Hg({BigNumber:Pe,Fraction:uo,complex:Ol,typed:$}),Pl=G0({typed:$}),oa=lg({Matrix:Fl,equalScalar:Br,typed:$}),VP=bg({typed:$}),zP=Gg({typed:$}),HP=fg({typed:$}),pi=Ng({typed:$}),YP=Z0({typed:$}),kw=sg({typed:$}),GP=N0({Complex:vt,config:De,typed:$}),WP=C0({BigNumber:Pe,typed:$}),Wp=zo({isInteger:Gn,typed:$}),ZP=T0({BigNumber:Pe,Complex:vt,config:De,typed:$}),jP=Py({format:nu,typed:$}),$P=fb({typed:$}),JP=L0({typed:$}),XP=z0({BigNumber:Pe,typed:$}),iu=og({typed:$}),QP=Uy({typed:$}),KP=Eb({config:De,typed:$}),eR=Y0({BigNumber:Pe,typed:$}),rR=W0({typed:$}),tR=D0({SparseMatrix:oa,typed:$}),Ci=Yg({Complex:vt,config:De,typed:$}),nR=j0({typed:$}),Gi=wg({typed:$}),iR=E0({BigNumber:Pe,Complex:vt,config:De,typed:$}),aR=q0({BigNumber:Pe,typed:$}),Wo=hg({Fraction:uo,typed:$}),po=tg({typed:$}),Oe=vg({DenseMatrix:Tr,Matrix:Fl,SparseMatrix:oa,typed:$}),oR=gg({isZero:Mi,matrix:Oe,typed:$}),sR=Iy({isNaN:iu,isNumeric:po,typed:$}),Ti=qy({bignumber:Kn,fraction:Wo,number:aa}),Lw=Oy({config:De,multiplyScalar:Lt,numeric:Ti,typed:$}),Uw=vy({isInteger:Gn,matrix:Oe,typed:$}),ln=by({matrix:Oe,config:De,typed:$}),uR=wy({matrix:Oe,typed:$}),au=Dy({matrix:Oe,typed:$}),qw=Zg({BigNumber:Pe,config:De,matrix:Oe,typed:$}),cn=Ay({BigNumber:Pe,config:De,matrix:Oe,typed:$}),lR=I0({Complex:vt,config:De,typed:$}),Vw=_g({BigNumber:Pe,Complex:vt,Fraction:uo,config:De,isNegative:Ca,matrix:Oe,typed:$,unaryMinus:Gi}),Jr=cl({isInteger:Gn,matrix:Oe,typed:$}),cR=ay({prod:Lw,size:ln,typed:$}),Zp=Sy({conj:lo,transpose:au,typed:$}),zw=sy({DenseMatrix:Tr,SparseMatrix:oa,matrix:Oe,typed:$}),Mt=Vy({numeric:Ti,typed:$}),ou=jy({DenseMatrix:Tr,concat:Jr,divideScalar:Mt,equalScalar:Br,matrix:Oe,typed:$}),mi=a0({DenseMatrix:Tr,concat:Jr,equalScalar:Br,matrix:Oe,typed:$}),su=ly({matrix:Oe,typed:$}),fR=ng({isNumeric:po,typed:$}),Ta=py({BigNumber:Pe,DenseMatrix:Tr,SparseMatrix:oa,config:De,matrix:Oe,typed:$}),pR=my({matrix:Oe,multiplyScalar:Lt,typed:$}),Rl=c0({DenseMatrix:Tr,concat:Jr,config:De,matrix:Oe,typed:$}),mR=Ky({DenseMatrix:Tr,concat:Jr,equalScalar:Br,matrix:Oe,typed:$,zeros:cn}),Hw=$y({DenseMatrix:Tr,divideScalar:Mt,equalScalar:Br,matrix:Oe,multiplyScalar:Lt,subtractScalar:pi,typed:$}),jp=xg({flatten:su,matrix:Oe,size:ln,typed:$}),dR=zg({BigNumber:Pe,concat:Jr,equalScalar:Br,matrix:Oe,typed:$}),hR=hy({BigNumber:Pe,config:De,matrix:Oe,typed:$}),$p=Rx({addScalar:Xt,complex:Ol,conj:lo,divideScalar:Mt,equal:mi,identity:Ta,isZero:Mi,matrix:Oe,multiplyScalar:Lt,sign:Rw,sqrt:Ci,subtractScalar:pi,typed:$,unaryMinus:Gi,zeros:cn}),vR=gy({config:De,matrix:Oe}),gR=e0({DenseMatrix:Tr,concat:Jr,equalScalar:Br,matrix:Oe,typed:$,zeros:cn}),Zo=Hy({BigNumber:Pe,DenseMatrix:Tr,equalScalar:Br,matrix:Oe,typed:$,zeros:cn}),In=s0({DenseMatrix:Tr,concat:Jr,config:De,matrix:Oe,typed:$}),Ut=Wg({DenseMatrix:Tr,concat:Jr,equalScalar:Br,matrix:Oe,subtractScalar:pi,typed:$,unaryMinus:Gi}),yR=Ly({concat:Jr,matrix:Oe,typed:$}),xR=p0({DenseMatrix:Tr,concat:Jr,config:De,equalScalar:Br,matrix:Oe,typed:$}),Jp=Jy({DenseMatrix:Tr,divideScalar:Mt,equalScalar:Br,matrix:Oe,multiplyScalar:Lt,subtractScalar:pi,typed:$}),bR=iy({DenseMatrix:Tr,concat:Jr,matrix:Oe,typed:$}),qr=ax({DenseMatrix:Tr,SparseMatrix:oa,addScalar:Xt,concat:Jr,equalScalar:Br,matrix:Oe,typed:$}),wR=P0({BigNumber:Pe,DenseMatrix:Tr,concat:Jr,equalScalar:Br,matrix:Oe,typed:$}),DR=sl({concat:Jr,equalScalar:Br,matrix:Oe,typed:$}),SR=ul({DenseMatrix:Tr,concat:Jr,equalScalar:Br,matrix:Oe,typed:$}),AR=Qg({DenseMatrix:Tr,concat:Jr,matrix:Oe,typed:$}),NR=Tb({addScalar:Xt,combinations:Il,divideScalar:Mt,isInteger:Gn,isNegative:Ca,multiplyScalar:Lt,typed:$}),mo=t0({BigNumber:Pe,DenseMatrix:Tr,Fraction:uo,concat:Jr,config:De,equalScalar:Br,matrix:Oe,typed:$}),Yw=i0({concat:Jr,matrix:Oe,typed:$}),_R=Al({add:qr,typed:$,unaryPlus:Vp}),Xp=f0({equal:mi,typed:$}),ER=ml({matrix:Oe,number:aa,subtract:Ut,typed:$}),MR=ib({abs:Fn,addScalar:Xt,deepEqual:Xp,divideScalar:Mt,multiplyScalar:Lt,sqrt:Ci,subtractScalar:pi,typed:$}),kl=ux({addScalar:Xt,conj:lo,multiplyScalar:Lt,size:ln,typed:$}),CR=o0({compareText:Yw,isZero:Mi,typed:$}),Gw=al({DenseMatrix:Tr,config:De,equalScalar:Br,matrix:Oe,round:Zo,typed:$,zeros:cn}),TR=Rg({BigNumber:Pe,DenseMatrix:Tr,concat:Jr,config:De,equalScalar:Br,matrix:Oe,round:Zo,typed:$,zeros:cn}),FR=ox({abs:Fn,addScalar:Xt,divideScalar:Mt,isPositive:co,multiplyScalar:Lt,smaller:In,sqrt:Ci,typed:$}),Ww=h0({DenseMatrix:Tr,smaller:In}),wn=v0({ImmutableDenseMatrix:Ww,getMatrixDataType:Hp}),On=l0({DenseMatrix:Tr,concat:Jr,config:De,matrix:Oe,typed:$}),Qp=Yy({Complex:vt,config:De,divideScalar:Mt,typed:$}),IR=Xy({DenseMatrix:Tr,divideScalar:Mt,equalScalar:Br,matrix:Oe,multiplyScalar:Lt,subtractScalar:pi,typed:$}),OR=yg({flatten:su,matrix:Oe,size:ln,typed:$}),BR=bl({config:De,numeric:Ti,smaller:In,typed:$}),Zw=ol({DenseMatrix:Tr,concat:Jr,config:De,equalScalar:Br,matrix:Oe,round:Zo,typed:$,zeros:cn}),it=Vg({addScalar:Xt,dot:kl,equalScalar:Br,matrix:Oe,multiplyScalar:Lt,typed:$}),PR=Wy({Complex:vt,config:De,divideScalar:Mt,typed:$}),RR=ll({DenseMatrix:Tr,concat:Jr,equalScalar:Br,matrix:Oe,typed:$}),Ll=m0({compare:mo,isNaN:iu,isNumeric:po,typed:$}),kR=r0({DenseMatrix:Tr,concat:Jr,equalScalar:Br,matrix:Oe,typed:$,zeros:cn}),jw=Lx({SparseMatrix:oa,abs:Fn,add:qr,divideScalar:Mt,larger:On,largerEq:Rl,multiply:it,subtract:Ut,transpose:au,typed:$}),ei=vl({add:qr,matrix:Oe,typed:$,zeros:cn}),Kp=Sl({add:qr,config:De,numeric:Ti,typed:$}),LR=lx({add:qr,matrix:Oe,typed:$}),$w=Qy({DenseMatrix:Tr,divideScalar:Mt,equalScalar:Br,matrix:Oe,multiplyScalar:Lt,subtractScalar:pi,typed:$}),UR=zb({Complex:vt,add:qr,multiply:it,number:aa,typed:$}),em=Mg({DenseMatrix:Tr,config:De,equalScalar:Br,matrix:Oe,round:Zo,typed:$,zeros:cn}),Wi=n0({compare:mo,typed:$}),qR=Fb({addScalar:Xt,combinations:Il,isInteger:Gn,isNegative:Ca,isPositive:co,larger:On,typed:$}),VR=oy({matrix:Oe,multiply:it,subtract:Ut,typed:$}),Jw=jx({divideScalar:Mt,isZero:Mi,matrix:Oe,multiply:it,subtractScalar:pi,typed:$,unaryMinus:Gi}),zR=$g({concat:Jr,equalScalar:Br,matrix:Oe,multiplyScalar:Lt,typed:$}),Xw=g0({larger:On,smaller:In}),Qw=Og({Complex:vt,DenseMatrix:Tr,ceil:em,equalScalar:Br,floor:Gw,matrix:Oe,typed:$,zeros:cn}),Kw=cx({Index:wn,typed:$}),HR=ab({abs:Fn,add:qr,addScalar:Xt,config:De,divideScalar:Mt,equalScalar:Br,flatten:su,isNumeric:po,isZero:Mi,matrix:Oe,multiply:it,multiplyScalar:Lt,smaller:In,subtract:Ut,typed:$}),YR=jg({BigNumber:Pe,add:qr,config:De,equal:mi,isInteger:Gn,mod:Zw,smaller:In,typed:$,xgcd:qw}),GR=kg({concat:Jr,equalScalar:Br,matrix:Oe,typed:$}),WR=Gy({Complex:vt,config:De,divideScalar:Mt,log:Qp,typed:$}),rm=xl({config:De,larger:On,numeric:Ti,typed:$}),ZR=$0({DenseMatrix:Tr,Index:wn,compareNatural:Wi,size:ln,subset:ei,typed:$}),jR=X0({DenseMatrix:Tr,Index:wn,compareNatural:Wi,size:ln,subset:ei,typed:$}),$R=K0({Index:wn,compareNatural:Wi,size:ln,subset:ei,typed:$}),JR=rx({Index:wn,compareNatural:Wi,size:ln,subset:ei,typed:$}),jo=u0({DenseMatrix:Tr,concat:Jr,config:De,matrix:Oe,typed:$}),XR=d0({compare:mo,compareNatural:Wi,matrix:Oe,typed:$}),QR=yl({concat:Jr,equalScalar:Br,matrix:Oe,not:Bl,typed:$,zeros:cn}),$o=dl({bignumber:Kn,matrix:Oe,add:qr,config:De,isPositive:co,larger:On,largerEq:Rl,smaller:In,smallerEq:jo,typed:$}),KR=hl({Index:wn,matrix:Oe,range:$o,typed:$}),eD=J0({DenseMatrix:Tr,Index:wn,compareNatural:Wi,size:ln,subset:ei,typed:$}),e3=ex({Index:wn,compareNatural:Wi,size:ln,subset:ei,typed:$}),rD=nx({Index:wn,concat:Jr,setDifference:eD,size:ln,subset:ei,typed:$}),tD=y0({FibonacciHeap:Xw,addScalar:Xt,equalScalar:Br}),nD=fl({Index:wn,matrix:Oe,range:$o,typed:$}),ho=$x({abs:Fn,addScalar:Xt,det:Jw,divideScalar:Mt,identity:Ta,matrix:Oe,multiply:it,typed:$,unaryMinus:Gi}),iD=Px({DenseMatrix:Tr,Spa:tD,SparseMatrix:oa,abs:Fn,addScalar:Xt,divideScalar:Mt,equalScalar:Br,larger:On,matrix:Oe,multiplyScalar:Lt,subtractScalar:pi,typed:$,unaryMinus:Gi}),r3=Jx({Complex:vt,add:qr,ctranspose:Zp,deepEqual:Xp,divideScalar:Mt,dot:kl,dotDivide:ou,equal:mi,inv:ho,matrix:Oe,multiply:it,typed:$}),di=zy({Complex:vt,config:De,fraction:Wo,identity:Ta,inv:ho,matrix:Oe,multiply:it,number:aa,typed:$}),aD=Q0({DenseMatrix:Tr,Index:wn,compareNatural:Wi,size:ln,subset:ei,typed:$}),t3=ix({Index:wn,concat:Jr,setIntersect:aD,setSymDifference:rD,size:ln,subset:ei,typed:$}),n3=Kx({abs:Fn,add:qr,identity:Ta,inv:ho,map:fo,max:rm,multiply:it,size:ln,sqrt:Ci,subtract:Ut,typed:$}),xr=b0({BigNumber:Pe,Complex:vt,Fraction:uo,abs:Fn,addScalar:Xt,config:De,divideScalar:Mt,equal:mi,fix:Qw,format:nu,isNumeric:po,multiplyScalar:Lt,number:aa,pow:di,round:Zo,subtractScalar:pi}),i3=h1({BigNumber:Pe,Unit:xr,config:De}),a3=J1({BigNumber:Pe,Unit:xr,config:De}),o3=L1({BigNumber:Pe,Unit:xr,config:De}),s3=y1({BigNumber:Pe,Unit:xr,config:De}),u3=q1({BigNumber:Pe,Unit:xr,config:De}),l3=x1({BigNumber:Pe,Unit:xr,config:De}),c3=v1({BigNumber:Pe,Unit:xr,config:De}),f3=F1({BigNumber:Pe,Unit:xr,config:De}),p3=Zy({DenseMatrix:Tr,concat:Jr,equalScalar:Br,matrix:Oe,pow:di,typed:$}),m3=d1({BigNumber:Pe,Unit:xr,config:De}),d3=g1({BigNumber:Pe,Unit:xr,config:De}),h3=Qx({abs:Fn,add:qr,identity:Ta,inv:ho,multiply:it,typed:$}),v3=V1({BigNumber:Pe,Unit:xr,config:De}),oD=Ny({addScalar:Xt,ceil:em,conj:lo,divideScalar:Mt,dotDivide:ou,exp:Bw,i:Tw,log2:Pw,matrix:Oe,multiplyScalar:Lt,pow:di,tau:Iw,typed:$}),tm=pb({BigNumber:Pe,Complex:vt,config:De,multiplyScalar:Lt,pow:di,typed:$}),g3=c1({BigNumber:Pe,Unit:xr,config:De}),y3=C1({BigNumber:Pe,Unit:xr,config:De}),x3=_y({conj:lo,dotDivide:ou,fft:oD,typed:$}),b3=S1({BigNumber:Pe,Unit:xr,config:De}),w3=H1({BigNumber:Pe,Unit:xr,config:De}),D3=m1({BigNumber:Pe,Unit:xr,config:De}),S3=X1({BigNumber:Pe,Unit:xr,config:De}),A3=G1({BigNumber:Pe,Unit:xr,config:De}),N3=I1({BigNumber:Pe,Unit:xr,config:De}),_3=D1({BigNumber:Pe,Unit:xr,config:De}),E3=nw({BigNumber:Pe,Unit:xr,config:De}),M3=ew({BigNumber:Pe,Unit:xr,config:De}),C3=iw({BigNumber:Pe,Unit:xr,config:De}),T3=T1({BigNumber:Pe,Unit:xr,config:De}),F3=O1({BigNumber:Pe,Unit:xr,config:De}),I3=p1({BigNumber:Pe,Unit:xr,config:De}),O3=B1({BigNumber:Pe,Unit:xr,config:De}),B3=j1({BigNumber:Pe,Unit:xr,config:De}),P3=l1({BigNumber:Pe,Unit:xr,config:De}),R3=$1({BigNumber:Pe,Unit:xr,config:De}),k3=P1({BigNumber:Pe,Unit:xr,config:De}),L3=U1({BigNumber:Pe,Unit:xr,config:De}),U3=A1({BigNumber:Pe,Unit:xr,config:De}),q3=S0({Unit:xr,typed:$}),nn=nb({divideScalar:Mt,equalScalar:Br,inv:ho,matrix:Oe,multiply:it,typed:$}),V3=_1({BigNumber:Pe,Unit:xr,config:De}),uu=db({gamma:tm,typed:$}),z3=z1({BigNumber:Pe,Unit:xr,config:De}),H3=K1({BigNumber:Pe,Unit:xr,config:De}),Y3=b1({BigNumber:Pe,Unit:xr,config:De}),sD=qx({DenseMatrix:Tr,lsolve:Hw,lup:iD,matrix:Oe,slu:jw,typed:$,usolve:Jp}),G3=w1({BigNumber:Pe,Unit:xr,config:De}),W3=Q1({BigNumber:Pe,Unit:xr,config:De}),Z3=vb({add:qr,divide:nn,factorial:uu,isInteger:Gn,isPositive:co,multiply:it,typed:$}),j3=gb({factorial:uu,typed:$}),$3=rw({BigNumber:Pe,Unit:xr,config:De}),J3=Vx({add:qr,cbrt:Vw,divide:nn,equalScalar:Br,im:Yp,isZero:Mi,multiply:it,re:Gp,sqrt:Ci,subtract:Ut,typeOf:kw,typed:$,unaryMinus:Gi}),X3=tx({compareNatural:Wi,typed:$}),Q3=Cy({abs:Fn,add:qr,bignumber:Kn,divide:nn,isNegative:Ca,isPositive:co,larger:On,map:fo,matrix:Oe,max:rm,multiply:it,smaller:In,subtract:Ut,typed:$,unaryMinus:Gi}),uD=Mb({bignumber:Kn,addScalar:Xt,combinations:Il,divideScalar:Mt,factorial:uu,isInteger:Gn,isNegative:Ca,larger:On,multiplyScalar:Lt,number:aa,pow:di,subtractScalar:pi,typed:$}),K3=w0({Unit:xr,typed:$}),ek=Cb({addScalar:Xt,isInteger:Gn,isNegative:Ca,stirlingS2:uD,typed:$}),lD=Xx({abs:Fn,add:qr,addScalar:Xt,atan:Ow,bignumber:Kn,column:nD,complex:Ol,config:De,cos:zp,diag:zw,divideScalar:Mt,dot:kl,equal:mi,flatten:su,im:Yp,inv:ho,larger:On,matrix:Oe,matrixFromColumns:jp,multiply:it,multiplyScalar:Lt,number:aa,qr:$p,re:Gp,reshape:Uw,sin:Pl,size:ln,smaller:In,sqrt:Ci,subtract:Ut,typed:$,usolve:Jp,usolveAll:$w}),rk=E1({BigNumber:Pe,Unit:xr,config:De}),tk=Y1({BigNumber:Pe,Unit:xr,config:De}),nk=hb({divide:nn,dotDivide:ou,isNumeric:po,log:Qp,map:fo,matrix:Oe,multiply:it,sum:Kp,typed:$}),cD=Nl({add:qr,divide:nn,typed:$}),ik=W1({BigNumber:Pe,Unit:xr,config:De}),ak=f1({BigNumber:Pe,Unit:xr,config:De}),ok=El({bignumber:Kn,add:qr,compare:mo,divide:nn,isInteger:Gn,larger:On,multiply:it,partitionSelect:Ll,smaller:In,smallerEq:jo,subtract:Ut,typed:$}),nm=_l({add:qr,apply:Wp,divide:nn,isNaN:iu,multiply:it,subtract:Ut,typed:$}),sk=N1({BigNumber:Pe,Unit:xr,config:De}),fD=ob({add:qr,compare:mo,divide:nn,partitionSelect:Ll,typed:$}),uk=lb({add:qr,divide:nn,matrix:Oe,mean:cD,multiply:it,pow:di,sqrt:Ci,subtract:Ut,sum:Kp,typed:$}),lk=Hb({Complex:vt,add:qr,divide:nn,matrix:Oe,multiply:it,typed:$}),ck=sb({abs:Fn,map:fo,median:fD,subtract:Ut,typed:$}),fk=Ml({map:fo,sqrt:Ci,typed:$,variance:nm}),pk=Fy({BigNumber:Pe,Complex:vt,add:qr,config:De,divide:nn,equal:mi,factorial:uu,gamma:tm,isNegative:Ca,multiply:it,pi:qp,pow:di,sin:Pl,smallerEq:jo,subtract:Ut,typed:$}),im=sx({abs:Fn,add:qr,conj:lo,ctranspose:Zp,eigs:lD,equalScalar:Br,larger:On,matrix:Oe,multiply:it,pow:di,smaller:In,sqrt:Ci,typed:$}),pD=xy({BigNumber:Pe,DenseMatrix:Tr,SparseMatrix:oa,addScalar:Xt,config:De,cos:zp,matrix:Oe,multiplyScalar:Lt,norm:im,sin:Pl,typed:$,unaryMinus:Gi}),mk=tw({BigNumber:Pe,Unit:xr,config:De}),mD=rb({identity:Ta,matrix:Oe,multiply:it,norm:im,qr:$p,subtract:Ut,typed:$}),dk=yy({multiply:it,rotationMatrix:pD,typed:$}),dD=eb({abs:Fn,add:qr,concat:Jr,identity:Ta,index:Kw,lusolve:sD,matrix:Oe,matrixFromColumns:jp,multiply:it,range:$o,schur:mD,subset:ei,subtract:Ut,transpose:au,typed:$}),hk=tb({matrix:Oe,multiply:it,sylvester:dD,transpose:au,typed:$});var lu={},cu={},vk={},Bn=fx({mathWithTransform:cu}),fu=Sx({Node:Bn}),Fa=Ax({Node:Bn}),Jo=Nx({Node:Bn}),gk=Ex({Node:Bn}),pu=mx({Node:Bn}),yk=hx({Node:Bn,ResultSet:Fw}),xk=vx({Node:Bn}),vo=bx({Node:Bn}),bk=_x({Node:Bn}),cZ=Yb({classes:vk}),hD=Hx({math:lu,typed:$}),wk=wx({Node:Bn,typed:$}),fZ=Zx({Chain:hD,typed:$}),mu=Dx({Node:Bn,size:ln}),du=px({Node:Bn,subset:ei}),Dk=dx({matrix:Oe,Node:Bn,subset:ei}),go=Mx({Unit:xr,Node:Bn,math:lu}),yo=Cx({Node:Bn,SymbolNode:go,math:lu}),sa=Tx({AccessorNode:du,ArrayNode:pu,AssignmentNode:Dk,BlockNode:yk,ConditionalNode:xk,ConstantNode:vo,FunctionAssignmentNode:wk,FunctionNode:yo,IndexNode:mu,ObjectNode:fu,OperatorNode:Fa,ParenthesisNode:Jo,RangeNode:bk,RelationalNode:gk,SymbolNode:go,config:De,numeric:Ti,typed:$}),Sk=Lb({ConstantNode:vo,FunctionNode:yo,OperatorNode:Fa,ParenthesisNode:Jo,parse:sa,typed:$}),vD=Rb({bignumber:Kn,fraction:Wo,AccessorNode:du,ArrayNode:pu,ConstantNode:vo,FunctionNode:yo,IndexNode:mu,ObjectNode:fu,OperatorNode:Fa,SymbolNode:go,config:De,mathWithTransform:cu,matrix:Oe,typed:$}),gD=Fx({parse:sa,typed:$}),yD=kb({AccessorNode:du,ArrayNode:pu,ConstantNode:vo,FunctionNode:yo,IndexNode:mu,ObjectNode:fu,OperatorNode:Fa,ParenthesisNode:Jo,SymbolNode:go,add:qr,divide:nn,equal:mi,isZero:Mi,multiply:it,parse:sa,pow:di,subtract:Ut,typed:$}),xD=Ix({parse:sa,typed:$}),Ak=zx({evaluate:xD}),Nk=Ox({evaluate:xD}),am=Pb({bignumber:Kn,fraction:Wo,AccessorNode:du,ArrayNode:pu,ConstantNode:vo,FunctionNode:yo,IndexNode:mu,ObjectNode:fu,OperatorNode:Fa,ParenthesisNode:Jo,SymbolNode:go,add:qr,config:De,divide:nn,equal:mi,isZero:Mi,mathWithTransform:cu,matrix:Oe,multiply:it,parse:sa,pow:di,resolve:Sk,simplifyConstant:vD,simplifyCore:yD,subtract:Ut,typed:$}),pZ=Ub({OperatorNode:Fa,parse:sa,simplify:am,typed:$}),mZ=Ib({parse:sa,typed:$}),dZ=Bx({Parser:Nk,typed:$}),hZ=Vb({bignumber:Kn,fraction:Wo,AccessorNode:du,ArrayNode:pu,ConstantNode:vo,FunctionNode:yo,IndexNode:mu,ObjectNode:fu,OperatorNode:Fa,ParenthesisNode:Jo,SymbolNode:go,add:qr,config:De,divide:nn,equal:mi,isZero:Mi,mathWithTransform:cu,matrix:Oe,multiply:it,parse:sa,pow:di,simplify:am,simplifyConstant:vD,simplifyCore:yD,subtract:Ut,typed:$}),vZ=qb({ConstantNode:vo,FunctionNode:yo,OperatorNode:Fa,ParenthesisNode:Jo,SymbolNode:go,config:De,equal:mi,isZero:Mi,numeric:Ti,parse:sa,simplify:am,typed:$}),gZ=Wx({Help:Ak,mathWithTransform:cu,typed:$});St(lu,{e:Cw,false:XB,fineStructure:QB,i:Tw,Infinity:KB,LN10:eP,LOG10E:rP,NaN:tP,null:nP,phi:iP,SQRT1_2:oP,sackurTetrode:sP,tau:Iw,true:uP,E:Cw,version:lP,efimovFactor:cP,LN2:fP,pi:qp,replacer:pP,reviver:cZ,SQRT2:mP,typed:$,unaryPlus:Vp,PI:qp,weakMixingAngle:dP,abs:Fn,acos:hP,acot:vP,acsc:gP,addScalar:Xt,arg:yP,asech:xP,asinh:bP,atan:Ow,atanh:wP,bignumber:Kn,bitNot:DP,boolean:SP,clone:AP,combinations:Il,complex:Ol,conj:lo,cos:zp,cot:NP,csc:_P,cube:EP,equalScalar:Br,erf:MP,exp:Bw,expm1:CP,filter:TP,forEach:FP,format:nu,getMatrixDataType:Hp,hex:IP,im:Yp,isInteger:Gn,isNegative:Ca,isPositive:co,isZero:Mi,LOG2E:OP,lgamma:BP,log10:PP,log2:Pw,map:fo,multiplyScalar:Lt,not:Bl,number:aa,oct:RP,pickRandom:kP,print:LP,random:UP,re:Gp,sec:qP,sign:Rw,sin:Pl,splitUnit:VP,square:zP,string:HP,subtractScalar:pi,tan:YP,typeOf:kw,acosh:GP,acsch:WP,apply:Wp,asec:ZP,bin:jP,chain:fZ,combinationsWithRep:$P,cosh:JP,csch:XP,isNaN:iu,isPrime:QP,randomInt:KP,sech:eR,sinh:rR,sparse:tR,sqrt:Ci,tanh:nR,unaryMinus:Gi,acoth:iR,coth:aR,fraction:Wo,isNumeric:po,matrix:Oe,matrixFromFunction:oR,mode:sR,numeric:Ti,prod:Lw,reshape:Uw,size:ln,squeeze:uR,transpose:au,xgcd:qw,zeros:cn,asin:lR,cbrt:Vw,concat:Jr,count:cR,ctranspose:Zp,diag:zw,divideScalar:Mt,dotDivide:ou,equal:mi,flatten:su,hasNumericValue:fR,identity:Ta,kron:pR,largerEq:Rl,leftShift:mR,lsolve:Hw,matrixFromColumns:jp,nthRoot:dR,ones:hR,qr:$p,resize:vR,rightArithShift:gR,round:Zo,smaller:In,subtract:Ut,to:yR,unequal:xR,usolve:Jp,xor:bR,add:qr,atan2:wR,bitAnd:DR,bitOr:SR,bitXor:AR,catalan:NR,compare:mo,compareText:Yw,cumsum:_R,deepEqual:Xp,diff:ER,distance:MR,dot:kl,equalText:CR,floor:Gw,gcd:TR,hypot:FR,larger:On,log:Qp,lsolveAll:IR,matrixFromRows:OR,min:BR,mod:Zw,multiply:it,nthRoots:PR,or:RR,partitionSelect:Ll,rightLogShift:kR,slu:jw,subset:ei,sum:Kp,trace:LR,usolveAll:$w,zpk2tf:UR,ceil:em,compareNatural:Wi,composition:qR,cross:VR,det:Jw,dotMultiply:zR,fix:Qw,index:Kw,intersect:HR,invmod:YR,lcm:GR,log1p:WR,max:rm,setCartesian:ZR,setDistinct:jR,setIsSubset:$R,setPowerset:JR,smallerEq:jo,sort:XR,and:QR,range:$o,row:KR,setDifference:eD,setMultiplicity:e3,setSymDifference:rD,column:nD,inv:ho,lup:iD,pinv:r3,pow:di,setIntersect:aD,setUnion:t3,sqrtm:n3,vacuumImpedance:i3,wienDisplacement:a3,atomicMass:o3,bohrMagneton:s3,boltzmann:u3,conductanceQuantum:l3,coulomb:c3,deuteronMass:f3,dotPow:p3,electricConstant:m3,elementaryCharge:d3,expm:h3,faraday:v3,fft:oD,gamma:tm,gravitationConstant:g3,hartreeEnergy:y3,ifft:x3,klitzing:b3,loschmidt:w3,magneticConstant:D3,molarMass:S3,molarPlanckConstant:A3,neutronMass:N3,nuclearMagneton:_3,planckCharge:E3,planckLength:M3,planckTemperature:C3,protonMass:T3,quantumOfCirculation:F3,reducedPlanckConstant:I3,rydberg:O3,secondRadiation:B3,speedOfLight:P3,stefanBoltzmann:R3,thomsonCrossSection:k3,avogadro:L3,bohrRadius:U3,createUnit:q3,divide:nn,electronMass:V3,factorial:uu,firstRadiation:z3,gravity:H3,inverseConductanceQuantum:Y3,lusolve:sD,magneticFluxQuantum:G3,molarMassC12:W3,multinomial:Z3,parse:sa,permutations:j3,planckMass:$3,polynomialRoot:J3,resolve:Sk,setSize:X3,simplifyConstant:vD,solveODE:Q3,stirlingS2:uD,unit:K3,bellNumbers:ek,compile:gD,eigs:lD,fermiCoupling:rk,gasConstant:tk,kldivergence:nk,mean:cD,molarVolume:ik,planckConstant:ak,quantileSeq:ok,simplifyCore:yD,variance:nm,classicalElectronRadius:sk,evaluate:xD,median:fD,simplify:am,symbolicEqual:pZ,corr:uk,freqz:lk,leafCount:mZ,mad:ck,parser:dZ,rationalize:hZ,std:fk,zeta:pk,derivative:vZ,norm:im,rotationMatrix:pD,help:gZ,planckTime:mk,schur:mD,rotate:dk,sylvester:dD,lyap:hk,config:De});St(cu,lu,{filter:sw({typed:$}),forEach:uw({typed:$}),map:cw({typed:$}),apply:aw({isInteger:Gn,typed:$}),or:_w({DenseMatrix:Tr,concat:Jr,equalScalar:Br,matrix:Oe,typed:$}),and:Nw({add:qr,concat:Jr,equalScalar:Br,matrix:Oe,not:Bl,typed:$,zeros:cn}),concat:gw({isInteger:Gn,matrix:Oe,typed:$}),max:fw({config:De,larger:On,numeric:Ti,typed:$}),print:Aw({add:qr,matrix:Oe,typed:$,zeros:cn}),bitAnd:Ew({add:qr,concat:Jr,equalScalar:Br,matrix:Oe,not:Bl,typed:$,zeros:cn}),diff:yw({bignumber:Kn,matrix:Oe,number:aa,subtract:Ut,typed:$}),min:mw({config:De,numeric:Ti,smaller:In,typed:$}),subset:vw({add:qr,matrix:Oe,typed:$,zeros:cn}),bitOr:Mw({DenseMatrix:Tr,concat:Jr,equalScalar:Br,matrix:Oe,typed:$}),cumsum:Dw({add:qr,typed:$,unaryPlus:Vp}),index:lw({Index:wn,getMatrixDataType:Hp}),sum:bw({add:qr,config:De,numeric:Ti,typed:$}),range:dw({bignumber:Kn,matrix:Oe,add:qr,config:De,isPositive:co,larger:On,largerEq:Rl,smaller:In,smallerEq:jo,typed:$}),row:hw({Index:wn,matrix:Oe,range:$o,typed:$}),column:ow({Index:wn,matrix:Oe,range:$o,typed:$}),mean:pw({add:qr,divide:nn,typed:$}),quantileSeq:ww({add:qr,bignumber:Kn,compare:mo,divide:nn,isInteger:Gn,larger:On,multiply:it,partitionSelect:Ll,smaller:In,smallerEq:jo,subtract:Ut,typed:$}),variance:Sw({add:qr,apply:Wp,divide:nn,isNaN:iu,multiply:it,subtract:Ut,typed:$}),std:xw({map:fo,sqrt:Ci,typed:$,variance:nm})});St(vk,{BigNumber:Pe,Complex:vt,Fraction:uo,Matrix:Fl,Node:Bn,ObjectNode:fu,OperatorNode:Fa,ParenthesisNode:Jo,Range:aP,RelationalNode:gk,ResultSet:Fw,ArrayNode:pu,BlockNode:yk,ConditionalNode:xk,ConstantNode:vo,DenseMatrix:Tr,RangeNode:bk,Chain:hD,FunctionAssignmentNode:wk,SparseMatrix:oa,IndexNode:mu,ImmutableDenseMatrix:Ww,Index:wn,AccessorNode:du,AssignmentNode:Dk,FibonacciHeap:Xw,Spa:tD,Unit:xr,SymbolNode:go,FunctionNode:yo,Help:Ak,Parser:Nk});hD.createProxy(lu);var om=class extends Za{constructor(e){super(e),this.hidden=!1,this.hasError=!1}buildVariables(){var r;let e=0;this.expressionStr="",this.variables=[];for(let n of(r=this.base.getDeclaration().templateDeclaration)!=null?r:[])if(typeof n!="string"){let i={bindTargetDeclaration:n,inputSignal:new pn(void 0),uuid:$t(),contextName:`MB_VAR_${e}`};this.variables.push(i),this.expressionStr+=i.contextName,e+=1}else this.expressionStr+=n;this.expression=gD(this.expressionStr)}buildMathJSContext(){var r,n;let e={};for(let i of(r=this.variables)!=null?r:[])!i.contextName||!i.inputSignal||(e[i.contextName]=(n=i.inputSignal.get())!=null?n:"");return e}computeValue(){var r;if(this.hasError=!1,!this.expression)return this.handleComputeError(new ya({errorLevel:"ERROR",effect:"failed to evaluate expression",cause:"expression is undefined"}));let e=this.buildMathJSContext();try{return oi((r=this.expression.evaluate(e))==null?void 0:r.toString())}catch(n){return n instanceof Error?this.handleComputeError(new ya({errorLevel:"ERROR",effect:"failed to evaluate expression",cause:n,context:{expression:this.expressionStr,context:e}})):this.handleComputeError(new Error("failed to evaluate js expression because of: unexpected thrown value"))}}onInitialRender(e){}onRerender(e,r){this.hasError?Ar.addClass(e,"mb-error"):Ar.removeClass(e,"mb-error"),e.innerText=r}handleComputeError(e){return this.hasError=!0,console.warn(e),e.message}};var sm=class extends Za{constructor(e){super(e),this.renderMarkdown=!1}buildVariables(){var r;this.textParts=[];let e=0;this.variables=[];for(let n of(r=this.base.getDeclaration().templateDeclaration)!=null?r:[])if(typeof n!="string"){let i={bindTargetDeclaration:n,inputSignal:new pn(void 0),uuid:$t(),contextName:`MB_VAR_${e}`};this.variables.push(i),this.textParts.push(e),e+=1}else this.textParts.push(n)}computeValue(){if(!this.textParts)throw new ya({errorLevel:"CRITICAL",effect:"failed to evaluate text view field",cause:"content parts is undefined"});return this.textParts.map(e=>typeof e=="number"?Ac(this.variables[e].inputSignal.get(),this.base.plugin.settings.viewFieldDisplayNullAsEmpty):e).join("")}onInitialRender(e){var r,n;this.renderMarkdown=(n=(r=this.base.getArgument("renderMarkdown"))==null?void 0:r.value)!=null?n:!1,this.renderMarkdown&&Ar.addClass(e,"mb-view-markdown")}onRerender(e,r){return Fr(this,null,function*(){var n;this.renderMarkdown?((n=this.markdownUnloadCallback)==null||n.call(this),this.markdownUnloadCallback=yield this.base.plugin.internal.renderMarkdown(r,e,this.base.getFilePath())):e.innerText=r})}onUnmount(){var e;super.onUnmount(),(e=this.markdownUnloadCallback)==null||e.call(this)}};function yZ(t){let e,r;return e=new of({props:{elements:t[0],$$slots:{default:[wZ,({element:n})=>({1:n}),({element:n})=>n?2:0]},$$scope:{ctx:t}}}),{c(){Xr(e.$$.fragment)},m(n,i){Wr(e,n,i),r=!0},p(n,i){let a={};i&1&&(a.elements=n[0]),i&6&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){r||(We(e.$$.fragment,n),r=!0)},o(n){rr(e.$$.fragment,n),r=!1},d(n){Zr(e,n)}}}function xZ(t){let e,r;return e=new Wa({props:{mdLink:t[0][0]}}),{c(){Xr(e.$$.fragment)},m(n,i){Wr(e,n,i),r=!0},p(n,i){let a={};i&1&&(a.mdLink=n[0][0]),e.$set(a)},i(n){r||(We(e.$$.fragment,n),r=!0)},o(n){rr(e.$$.fragment,n),r=!1},d(n){Zr(e,n)}}}function bZ(t){let e;return{c(){e=Ee("span")},m(r,n){Te(r,e,n)},p:Ke,i:Ke,o:Ke,d(r){r&&Me(e)}}}function wZ(t){let e,r;return e=new Wa({props:{mdLink:t[1]}}),{c(){Xr(e.$$.fragment)},m(n,i){Wr(e,n,i),r=!0},p(n,i){let a={};i&2&&(a.mdLink=n[1]),e.$set(a)},i(n){r||(We(e.$$.fragment,n),r=!0)},o(n){rr(e.$$.fragment,n),r=!1},d(n){Zr(e,n)}}}function DZ(t){let e,r,n,i,a=[bZ,xZ,yZ],o=[];function c(l,s){return l[0].length===0?0:l[0].length===1?1:2}return e=c(t,-1),r=o[e]=a[e](t),{c(){r.c(),n=mn()},m(l,s){o[e].m(l,s),Te(l,n,s),i=!0},p(l,[s]){let u=e;e=c(l,s),e===u?o[e].p(l,s):(qt(),rr(o[u],1,1,()=>{o[u]=null}),Vt(),r=o[e],r?r.p(l,s):(r=o[e]=a[e](l),r.c()),We(r,1),r.m(n.parentNode,n))},i(l){i||(We(r),i=!0)},o(l){rr(r),i=!1},d(l){l&&Me(n),o[e].d(l)}}}function SZ(t,e,r){let{mdLinkList:n}=e;return t.$$set=i=>{"mdLinkList"in i&&r(0,n=i.mdLinkList)},[n]}var bD=class extends cr{constructor(e){super(),dr(this,e,SZ,DZ,mr,{mdLinkList:0})}},wD=bD;var um=class extends Za{constructor(e){super(e)}buildVariables(){let e=this.base.getDeclaration().templateDeclaration.filter(n=>typeof n=="string"?n:!0);if(e.length!==1)throw new Iu({errorLevel:"ERROR",effect:"can not create view field",cause:"link view filed only supports exactly a single bind target and not text content"});let r=e[0];if(typeof r=="string")throw new Iu({errorLevel:"ERROR",effect:"can not create view field",cause:"link view filed only supports exactly a single bind target and not text content"});this.variables=[{bindTargetDeclaration:r,inputSignal:new pn(void 0),uuid:$t(),contextName:"MB_VAR_0"}]}computeValue(){if(this.variables.length!==1)throw new ya({errorLevel:"CRITICAL",effect:"failed to evaluate link view field",cause:"there should be exactly one variable"});let r=this.variables[0].inputSignal.get();return typeof r=="string"?Vn.convertToLinkString(r):Array.isArray(r)?r.filter(i=>typeof i=="string").map(i=>Vn.convertToLinkString(i)).filter(i=>i!=="").join(", "):""}onInitialRender(e){this.component=new wD({target:e,props:{mdLinkList:[]}})}onRerender(e,r){return Fr(this,null,function*(){let n=Vn.parseLinkList(r);this.component=new wD({target:e,props:{mdLinkList:n}})})}onUnmount(){var e;super.onUnmount(),(e=this.component)==null||e.$destroy()}};var lm=class{constructor(e){this.plugin=e}createViewField(e){let r=e.declaration.viewFieldType;if(r==="math")return new om(e);if(r==="text")return new sm(e);if(r==="link")return new um(e)}};var Fi=class extends Ya{constructor(e,r,n){super(),this.plugin=e,this.filePath=n,this.uuid=r}getUuid(){return this.uuid}getFilePath(){return this.filePath}};var cm=class extends Fi{constructor(e,r,n,i,a){super(e,r,n),this.renderChildType=i,this.declaration=a,this.declarationString=a.fullDeclaration,this.errorCollection=new mt(this.getUuid()),this.errorCollection.merge(a.errorCollection)}hasArgument(e){return this.getArguments(e).length>0}getArgument(e){return this.getArguments(e).at(0)}getArguments(e){if(this.declaration.errorCollection.hasErrors())throw new xt({errorLevel:"CRITICAL",effect:"can not retrieve arguments",cause:"inputFieldDeclaration has errors"});return this.declaration.argumentContainer.getAll(e)}getBindTarget(){return this.declaration.bindTarget}shouldAddCardContainer(){let e=this.declaration.inputFieldType==="select"||this.declaration.inputFieldType==="multiSelect"||this.declaration.inputFieldType==="list",r=this.hasArgument("showcase")||this.hasArgument("title");return this.renderChildType==="block"&&(e||r)}createContainer(e){if(this.shouldAddCardContainer()){let r=Ar.createElement(e,"div");Ar.addClass(r,"mb-card");let n=this.getArgument("title");return n&&Ar.createElement(r,"h3",{text:n.value}),r}return e}addShowcase(e){if(this.getArgument("showcase")&&this.shouldAddCardContainer()){let n=Ar.createElement(e,"code",{class:"mb-none"}),i=Ar.createElement(n,"a",{text:this.declarationString,class:"mb-no-link"});i.href=Et.linkToInputField(this.declaration.inputFieldType)}}createInputField(){if(!this.errorCollection.hasErrors())try{this.inputField=this.plugin.api.inputFieldFactory.createInputField(this)}catch(e){this.errorCollection.add(e)}!this.errorCollection.hasErrors()&&!this.inputField&&this.errorCollection.add(new xt({errorLevel:"CRITICAL",effect:"can't render input field",cause:"input field is undefined"}))}createErrorIndicator(e){this.plugin.internal.createErrorIndicator(e,{errorCollection:this.errorCollection,errorText:"Errors caused the creation of the field to fail. Sometimes one error only occurs because of another.",warningText:"Warnings will not cause the creation of a field to fail, but they indicate that a part of the declaration was invalid or uses deprecated functionality.",code:this.declarationString})}onMount(e){var a;if(console.debug("meta-bind | InputFieldBase >> mount",this.declaration),Ar.empty(e),Ar.addClass(e,"mb-input"),this.createInputField(),this.errorCollection.hasErrors()){this.createErrorIndicator(e);return}let r=this.createContainer(e);this.createErrorIndicator(r);let n=Ar.createElement(r,"div",{class:"mb-input-wrapper"});(a=this.inputField)==null||a.mount(n);let i=this.getArguments("class");for(let o of i)Ar.addClasses(n,o.value);Ar.addClass(n,`mb-input-type-${this.declaration.inputFieldType}`),this.renderChildType==="block"?Ar.addClass(e,"mb-input-block"):Ar.addClass(e,"mb-input-inline"),this.addShowcase(r)}onUnmount(e){var r;console.debug("meta-bind | InputFieldBase >> destroy",this.declaration),(r=this.inputField)==null||r.destroy(),$i(e,"input field")}};var fm=class extends Fi{constructor(e,r,n,i,a){super(e,r,n),this.renderChildType=i,this.declaration=a,this.declarationString=a.fullDeclaration,this.errorCollection=new mt(this.getUuid()),this.errorCollection.merge(a.errorCollection)}hasArgument(e){return this.getArguments(e).length>0}getArgument(e){return this.getArguments(e).at(0)}getArguments(e){if(this.declaration.errorCollection.hasErrors())throw new xt({errorLevel:"ERROR",effect:"an not retrieve arguments",cause:"viewFieldDeclaration has errors"});return this.declaration.argumentContainer.getAll(e)}getDeclaration(){return this.declaration}createViewField(){if(!this.errorCollection.hasErrors())try{this.viewField=this.plugin.api.viewFieldFactory.createViewField(this)}catch(e){this.errorCollection.add(e)}!this.errorCollection.hasErrors()&&!this.viewField&&this.errorCollection.add(new xt({errorLevel:"CRITICAL",effect:"can't render view field",cause:"view field is undefined"}))}createErrorIndicator(e){this.plugin.internal.createErrorIndicator(e,{errorCollection:this.errorCollection,errorText:"Errors caused the creation of the field to fail. Sometimes one error only occurs because of another.",warningText:"Warnings will not cause the creation of a field to fail, but they indicate that a part of the declaration was invalid or uses deprecated functionality.",code:this.declarationString})}onMount(e){var n;if(console.debug("meta-bind | ViewFieldBase >> mount",this.declaration),Ar.empty(e),Ar.addClass(e,"mb-view"),this.createViewField(),this.errorCollection.hasErrors()){this.createErrorIndicator(e);return}let r=document.createElement("div");Ar.addClass(r,"mb-view-wrapper");try{(n=this.viewField)==null||n.mount(r)}catch(i){this.errorCollection.add(i)}this.createErrorIndicator(e),e.append(r),Ar.addClass(r,`mb-view-type-${this.declaration.viewFieldType}`),this.renderChildType==="block"?Ar.addClass(e,"mb-view-block"):Ar.addClass(e,"mb-view-inline")}onUnmount(e){var r;console.debug("meta-bind | ViewFieldBase >> unmount",this.declaration),(r=this.viewField)==null||r.unmount(),$i(e,"view field")}};var pm=class extends Fi{constructor(e,r,n,i,a){super(e,r,n),this.renderChildType=i,this.declaration=a,this.declarationString=a.fullDeclaration,this.errorCollection=new mt(this.getUuid()),this.errorCollection.merge(a.errorCollection),this.variables=[],this.buildVariables()}buildVariables(){var e;if(this.errorCollection.isEmpty())try{for(let r of(e=this.declaration.bindTargetMappings)!=null?e:[])this.variables.push({bindTargetDeclaration:r.bindTarget,inputSignal:new pn(void 0),uuid:$t(),contextName:r.name})}catch(r){this.errorCollection.add(r)}}buildContext(){var r,n;let e={};for(let i of(r=this.variables)!=null?r:[])!i.contextName||!i.inputSignal||(e[i.contextName]=(n=i.inputSignal.get())!=null?n:"");return e}evaluate(){return Fr(this,null,function*(){var e;return(e=this.jsRenderer)==null?void 0:e.evaluate({bound:this.buildContext()})})}registerSelfToMetadataManager(){let e=new pn(void 0);this.metadataSubscription=this.plugin.metadataManager.subscribeComputed(this.getUuid(),e,this.declaration.writeToBindTarget,this.variables.map(r=>({bindTarget:r.bindTargetDeclaration,callbackSignal:r.inputSignal})),()=>Fr(this,null,function*(){return yield this.evaluate()}),()=>this.unmount())}unregisterSelfFromMetadataManager(){var e;(e=this.metadataSubscription)==null||e.unsubscribe()}createErrorIndicator(e){this.plugin.internal.createErrorIndicator(e,{errorCollection:this.errorCollection,errorText:"Errors caused the creation of the field to fail. Sometimes one error only occurs because of another.",warningText:"Warnings will not cause the creation of a field to fail, but they indicate that a part of the declaration was invalid or uses deprecated functionality.",code:this.declarationString})}onMount(e){if(console.debug("meta-bind | JsViewField >> mount",this.declaration),Ar.addClass(e,"mb-view"),Ar.empty(e),this.plugin.internal.isJsEngineAvailable()||this.errorCollection.add(new Ou({errorLevel:"ERROR",effect:"can not create js view field",cause:"The JS Engine plugin is not installed and enabled."})),!this.plugin.settings.enableJs)throw new Ou({errorLevel:"CRITICAL",effect:"Can't evaluate expression.",cause:"JS expressions are disabled in the plugin settings."});if(this.createErrorIndicator(e),this.errorCollection.hasErrors())return;let r=document.createElement("div");Ar.addClass(r,"mb-view-wrapper"),this.jsRenderer=this.plugin.internal.createJsRenderer(r,this.getFilePath(),this.declaration.code),this.registerSelfToMetadataManager(),e.appendChild(r)}onUnmount(e){console.debug("meta-bind | JsViewField >> unmount",this.declaration),this.unregisterSelfFromMetadataManager(),$i(e,"js view field")}};var Ul=yt(ii());var _k=yt(yi()),AZ=Ul.P.sequenceMap((t,e)=>e,Ul.P.string("BUTTON"),Ul.P.manyNotOf("[],^").separateBy(Ul.P.string(",").trim(_k.P_UTILS.optionalWhitespace())).wrapString("[","]")),mm=class{static parseString(e){return on(AZ,e)}};function DD(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(u){try{s(n.next(u))}catch(f){o(f)}}function l(u){try{s(n.throw(u))}catch(f){o(f)}}function s(u){u.done?a(u.value):i(u.value).then(c,l)}s((n=n.apply(t,e||[])).next())})}function NZ(t){Qi(t,"svelte-12xcpmj","button.svelte-12xcpmj{gap:var(--size-4-1)}.mod-plain.svelte-12xcpmj{background:none;box-shadow:none;border:none;color:var(--text-muted)}.mod-plain.svelte-12xcpmj:hover{color:var(--text-normal)}.disabled.svelte-12xcpmj{opacity:0.6}")}function _Z(t){let e,r,n,i;return{c(){e=Ee("button"),r=Gr(t[3]),ie(e,"class","mb-button-inner svelte-12xcpmj"),ie(e,"aria-label",t[2]),e.disabled=t[0],gt(e,"mod-cta",t[1]==="primary"),gt(e,"mod-warning",t[1]==="destructive"),gt(e,"mod-plain",t[1]==="plain"),gt(e,"disabled",t[0]),gt(e,"mb-error",t[4])},m(a,o){Te(a,e,o),ke(e,r),n||(i=qe(e,"click",t[7]),n=!0)},p(a,[o]){o&8&&Kr(r,a[3]),o&4&&ie(e,"aria-label",a[2]),o&1&&(e.disabled=a[0]),o&2&&gt(e,"mod-cta",a[1]==="primary"),o&2&&gt(e,"mod-warning",a[1]==="destructive"),o&2&&gt(e,"mod-plain",a[1]==="plain"),o&1&&gt(e,"disabled",a[0]),o&16&&gt(e,"mb-error",a[4])},i:Ke,o:Ke,d(a){a&&Me(e),n=!1,i()}}}function EZ(t,e,r){let{variant:n="default"}=e,{disabled:i=!1}=e,{tooltip:a=""}=e,{label:o=""}=e,{error:c=!1}=e,{onClick:l=()=>DD(void 0,void 0,void 0,function*(){})}=e;function s(){return DD(this,void 0,void 0,function*(){if(!i){r(0,i=!0);try{yield l()}catch(f){console.warn("failed to run button component on click",f)}finally{r(0,i=!1)}}})}let u=()=>s();return t.$$set=f=>{"variant"in f&&r(1,n=f.variant),"disabled"in f&&r(0,i=f.disabled),"tooltip"in f&&r(2,a=f.tooltip),"label"in f&&r(3,o=f.label),"error"in f&&r(4,c=f.error),"onClick"in f&&r(6,l=f.onClick)},[i,n,a,o,c,s,l,u]}var SD=class extends cr{constructor(e){super(),dr(this,e,EZ,_Z,mr,{variant:1,disabled:0,tooltip:2,label:3,error:4,onClick:6},NZ)}},dm=SD;var st;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{let a={};for(let o of i)a[o]=o;return a},t.getValidEnumValues=i=>{let a=t.objectKeys(i).filter(c=>typeof i[i[c]]!="number"),o={};for(let c of a)o[c]=i[c];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{let a=[];for(let o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},t.find=(i,a)=>{for(let o of i)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(st||(st={}));var ND;(function(t){t.mergeShapes=(e,r)=>Ae(Ae({},e),r)})(ND||(ND={}));var $e=st.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),xo=t=>{switch(typeof t){case"undefined":return $e.undefined;case"string":return $e.string;case"number":return isNaN(t)?$e.nan:$e.number;case"boolean":return $e.boolean;case"function":return $e.function;case"bigint":return $e.bigint;case"symbol":return $e.symbol;case"object":return Array.isArray(t)?$e.array:t===null?$e.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?$e.promise:typeof Map!="undefined"&&t instanceof Map?$e.map:typeof Set!="undefined"&&t instanceof Set?$e.set:typeof Date!="undefined"&&t instanceof Date?$e.date:$e.object;default:return $e.unknown}},Ve=st.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),MZ=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),hi=class extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let r=e||function(a){return a.message},n={_errors:[]},i=a=>{for(let o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let c=n,l=0;for(;l<o.path.length;){let s=o.path[l];l===o.path.length-1?(c[s]=c[s]||{_errors:[]},c[s]._errors.push(r(o))):c[s]=c[s]||{_errors:[]},c=c[s],l++}}};return i(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,st.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r={},n=[];for(let i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};hi.create=t=>new hi(t);var ql=(t,e)=>{let r;switch(t.code){case Ve.invalid_type:t.received===$e.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Ve.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,st.jsonStringifyReplacer)}`;break;case Ve.unrecognized_keys:r=`Unrecognized key(s) in object: ${st.joinValues(t.keys,", ")}`;break;case Ve.invalid_union:r="Invalid input";break;case Ve.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${st.joinValues(t.options)}`;break;case Ve.invalid_enum_value:r=`Invalid enum value. Expected ${st.joinValues(t.options)}, received '${t.received}'`;break;case Ve.invalid_arguments:r="Invalid function arguments";break;case Ve.invalid_return_type:r="Invalid function return type";break;case Ve.invalid_date:r="Invalid date";break;case Ve.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:st.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Ve.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Ve.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Ve.custom:r="Invalid input";break;case Ve.invalid_intersection_types:r="Intersection results could not be merged";break;case Ve.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Ve.not_finite:r="Number must be finite";break;default:r=e.defaultError,st.assertNever(t)}return{message:r}},Ck=ql;function CZ(t){Ck=t}function vm(){return Ck}var gm=t=>{let{data:e,path:r,errorMaps:n,issueData:i}=t,a=[...r,...i.path||[]],o=br(Ae({},i),{path:a}),c="",l=n.filter(s=>!!s).slice().reverse();for(let s of l)c=s(o,{data:e,defaultError:c}).message;return br(Ae({},i),{path:a,message:i.message||c})},TZ=[];function Qe(t,e){let r=gm({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,vm(),ql].filter(n=>!!n)});t.common.issues.push(r)}var Pn=class t{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){let n=[];for(let i of r){if(i.status==="aborted")return Or;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static mergeObjectAsync(e,r){return Fr(this,null,function*(){let n=[];for(let i of r)n.push({key:yield i.key,value:yield i.value});return t.mergeObjectSync(e,n)})}static mergeObjectSync(e,r){let n={};for(let i of r){let{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return Or;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value!="undefined"||i.alwaysSet)&&(n[a.value]=o.value)}return{status:e.value,value:n}}},Or=Object.freeze({status:"aborted"}),Tk=t=>({status:"dirty",value:t}),Wn=t=>({status:"valid",value:t}),_D=t=>t.status==="aborted",ED=t=>t.status==="dirty",Vl=t=>t.status==="valid",ym=t=>typeof Promise!="undefined"&&t instanceof Promise,fr;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(fr||(fr={}));var Ii=class{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},Ek=(t,e)=>{if(Vl(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new hi(t.common.issues);return this._error=r,this._error}}};function Pr(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,c)=>o.code!=="invalid_type"?{message:c.defaultError}:typeof c.data=="undefined"?{message:n!=null?n:c.defaultError}:{message:r!=null?r:c.defaultError},description:i}}var Rr=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return xo(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:xo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Pn,ctx:{common:e.parent.common,data:e.data,parsedType:xo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let r=this._parse(e);if(ym(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){let r=this._parse(e);return Promise.resolve(r)}parse(e,r){let n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;let i={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:xo(e)},a=this._parseSync({data:e,path:i.path,parent:i});return Ek(i,a)}parseAsync(e,r){return Fr(this,null,function*(){let n=yield this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error})}safeParseAsync(e,r){return Fr(this,null,function*(){let n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:xo(e)},i=this._parse({data:e,path:n.path,parent:n}),a=yield ym(i)?i:Promise.resolve(i);return Ek(n,a)})}refine(e,r){let n=i=>typeof r=="string"||typeof r=="undefined"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,a)=>{let o=e(i),c=()=>a.addIssue(Ae({code:Ve.custom},n(i)));return typeof Promise!="undefined"&&o instanceof Promise?o.then(l=>l?!0:(c(),!1)):o?!0:(c(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new vi({schema:this,typeName:Dr.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Zi.create(this,this._def)}nullable(){return Ba.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Oa.create(this,this._def)}promise(){return Do.create(this,this._def)}or(e){return ns.create([this,e],this._def)}and(e){return is.create(this,e,this._def)}transform(e){return new vi(br(Ae({},Pr(this._def)),{schema:this,typeName:Dr.ZodEffects,effect:{type:"transform",transform:e}}))}default(e){let r=typeof e=="function"?e:()=>e;return new ls(br(Ae({},Pr(this._def)),{innerType:this,defaultValue:r,typeName:Dr.ZodDefault}))}brand(){return new Dm(Ae({typeName:Dr.ZodBranded,type:this},Pr(this._def)))}catch(e){let r=typeof e=="function"?e:()=>e;return new bu(br(Ae({},Pr(this._def)),{innerType:this,catchValue:r,typeName:Dr.ZodCatch}))}describe(e){let r=this.constructor;return new r(br(Ae({},this._def),{description:e}))}pipe(e){return zl.create(this,e)}readonly(){return Du.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},FZ=/^c[^\s-]{8,}$/i,IZ=/^[a-z][a-z0-9]*$/,OZ=/^[0-9A-HJKMNP-TV-Z]{26}$/,BZ=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,PZ=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,RZ="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",AD,kZ=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,LZ=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,UZ=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function qZ(t,e){return!!((e==="v4"||!e)&&kZ.test(t)||(e==="v6"||!e)&&LZ.test(t))}var bo=class t extends Rr{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==$e.string){let a=this._getOrReturnCtx(e);return Qe(a,{code:Ve.invalid_type,expected:$e.string,received:a.parsedType}),Or}let n=new Pn,i;for(let a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),Qe(i,{code:Ve.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),Qe(i,{code:Ve.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){let o=e.data.length>a.value,c=e.data.length<a.value;(o||c)&&(i=this._getOrReturnCtx(e,i),o?Qe(i,{code:Ve.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):c&&Qe(i,{code:Ve.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")PZ.test(e.data)||(i=this._getOrReturnCtx(e,i),Qe(i,{validation:"email",code:Ve.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")AD||(AD=new RegExp(RZ,"u")),AD.test(e.data)||(i=this._getOrReturnCtx(e,i),Qe(i,{validation:"emoji",code:Ve.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")BZ.test(e.data)||(i=this._getOrReturnCtx(e,i),Qe(i,{validation:"uuid",code:Ve.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")FZ.test(e.data)||(i=this._getOrReturnCtx(e,i),Qe(i,{validation:"cuid",code:Ve.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")IZ.test(e.data)||(i=this._getOrReturnCtx(e,i),Qe(i,{validation:"cuid2",code:Ve.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")OZ.test(e.data)||(i=this._getOrReturnCtx(e,i),Qe(i,{validation:"ulid",code:Ve.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch(o){i=this._getOrReturnCtx(e,i),Qe(i,{validation:"url",code:Ve.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Qe(i,{validation:"regex",code:Ve.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),Qe(i,{code:Ve.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),Qe(i,{code:Ve.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),Qe(i,{code:Ve.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?UZ(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Qe(i,{code:Ve.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="ip"?qZ(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Qe(i,{validation:"ip",code:Ve.invalid_string,message:a.message}),n.dirty()):st.assertNever(a);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),Ae({validation:r,code:Ve.invalid_string},fr.errToObj(n)))}_addCheck(e){return new t(br(Ae({},this._def),{checks:[...this._def.checks,e]}))}email(e){return this._addCheck(Ae({kind:"email"},fr.errToObj(e)))}url(e){return this._addCheck(Ae({kind:"url"},fr.errToObj(e)))}emoji(e){return this._addCheck(Ae({kind:"emoji"},fr.errToObj(e)))}uuid(e){return this._addCheck(Ae({kind:"uuid"},fr.errToObj(e)))}cuid(e){return this._addCheck(Ae({kind:"cuid"},fr.errToObj(e)))}cuid2(e){return this._addCheck(Ae({kind:"cuid2"},fr.errToObj(e)))}ulid(e){return this._addCheck(Ae({kind:"ulid"},fr.errToObj(e)))}ip(e){return this._addCheck(Ae({kind:"ip"},fr.errToObj(e)))}datetime(e){var r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck(Ae({kind:"datetime",precision:typeof(e==null?void 0:e.precision)=="undefined"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1},fr.errToObj(e==null?void 0:e.message)))}regex(e,r){return this._addCheck(Ae({kind:"regex",regex:e},fr.errToObj(r)))}includes(e,r){return this._addCheck(Ae({kind:"includes",value:e,position:r==null?void 0:r.position},fr.errToObj(r==null?void 0:r.message)))}startsWith(e,r){return this._addCheck(Ae({kind:"startsWith",value:e},fr.errToObj(r)))}endsWith(e,r){return this._addCheck(Ae({kind:"endsWith",value:e},fr.errToObj(r)))}min(e,r){return this._addCheck(Ae({kind:"min",value:e},fr.errToObj(r)))}max(e,r){return this._addCheck(Ae({kind:"max",value:e},fr.errToObj(r)))}length(e,r){return this._addCheck(Ae({kind:"length",value:e},fr.errToObj(r)))}nonempty(e){return this.min(1,fr.errToObj(e))}trim(){return new t(br(Ae({},this._def),{checks:[...this._def.checks,{kind:"trim"}]}))}toLowerCase(){return new t(br(Ae({},this._def),{checks:[...this._def.checks,{kind:"toLowerCase"}]}))}toUpperCase(){return new t(br(Ae({},this._def),{checks:[...this._def.checks,{kind:"toUpperCase"}]}))}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};bo.create=t=>{var e;return new bo(Ae({checks:[],typeName:Dr.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1},Pr(t)))};function VZ(t,e){let r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,a=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return a%o/Math.pow(10,i)}var Xo=class t extends Rr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==$e.number){let a=this._getOrReturnCtx(e);return Qe(a,{code:Ve.invalid_type,expected:$e.number,received:a.parsedType}),Or}let n,i=new Pn;for(let a of this._def.checks)a.kind==="int"?st.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Qe(n,{code:Ve.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),Qe(n,{code:Ve.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),Qe(n,{code:Ve.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?VZ(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),Qe(n,{code:Ve.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Qe(n,{code:Ve.not_finite,message:a.message}),i.dirty()):st.assertNever(a);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,fr.toString(r))}gt(e,r){return this.setLimit("min",e,!1,fr.toString(r))}lte(e,r){return this.setLimit("max",e,!0,fr.toString(r))}lt(e,r){return this.setLimit("max",e,!1,fr.toString(r))}setLimit(e,r,n,i){return new t(br(Ae({},this._def),{checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:fr.toString(i)}]}))}_addCheck(e){return new t(br(Ae({},this._def),{checks:[...this._def.checks,e]}))}int(e){return this._addCheck({kind:"int",message:fr.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:fr.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:fr.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:fr.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:fr.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:fr.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:fr.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:fr.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:fr.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&st.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}};Xo.create=t=>new Xo(Ae({checks:[],typeName:Dr.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1},Pr(t)));var Qo=class t extends Rr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==$e.bigint){let a=this._getOrReturnCtx(e);return Qe(a,{code:Ve.invalid_type,expected:$e.bigint,received:a.parsedType}),Or}let n,i=new Pn;for(let a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),Qe(n,{code:Ve.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),Qe(n,{code:Ve.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Qe(n,{code:Ve.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):st.assertNever(a);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,fr.toString(r))}gt(e,r){return this.setLimit("min",e,!1,fr.toString(r))}lte(e,r){return this.setLimit("max",e,!0,fr.toString(r))}lt(e,r){return this.setLimit("max",e,!1,fr.toString(r))}setLimit(e,r,n,i){return new t(br(Ae({},this._def),{checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:fr.toString(i)}]}))}_addCheck(e){return new t(br(Ae({},this._def),{checks:[...this._def.checks,e]}))}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:fr.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:fr.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:fr.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:fr.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:fr.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};Qo.create=t=>{var e;return new Qo(Ae({checks:[],typeName:Dr.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1},Pr(t)))};var Ko=class extends Rr{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==$e.boolean){let n=this._getOrReturnCtx(e);return Qe(n,{code:Ve.invalid_type,expected:$e.boolean,received:n.parsedType}),Or}return Wn(e.data)}};Ko.create=t=>new Ko(Ae({typeName:Dr.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1},Pr(t)));var es=class t extends Rr{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==$e.date){let a=this._getOrReturnCtx(e);return Qe(a,{code:Ve.invalid_type,expected:$e.date,received:a.parsedType}),Or}if(isNaN(e.data.getTime())){let a=this._getOrReturnCtx(e);return Qe(a,{code:Ve.invalid_date}),Or}let n=new Pn,i;for(let a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),Qe(i,{code:Ve.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),Qe(i,{code:Ve.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):st.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new t(br(Ae({},this._def),{checks:[...this._def.checks,e]}))}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:fr.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:fr.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};es.create=t=>new es(Ae({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Dr.ZodDate},Pr(t)));var vu=class extends Rr{_parse(e){if(this._getType(e)!==$e.symbol){let n=this._getOrReturnCtx(e);return Qe(n,{code:Ve.invalid_type,expected:$e.symbol,received:n.parsedType}),Or}return Wn(e.data)}};vu.create=t=>new vu(Ae({typeName:Dr.ZodSymbol},Pr(t)));var rs=class extends Rr{_parse(e){if(this._getType(e)!==$e.undefined){let n=this._getOrReturnCtx(e);return Qe(n,{code:Ve.invalid_type,expected:$e.undefined,received:n.parsedType}),Or}return Wn(e.data)}};rs.create=t=>new rs(Ae({typeName:Dr.ZodUndefined},Pr(t)));var ts=class extends Rr{_parse(e){if(this._getType(e)!==$e.null){let n=this._getOrReturnCtx(e);return Qe(n,{code:Ve.invalid_type,expected:$e.null,received:n.parsedType}),Or}return Wn(e.data)}};ts.create=t=>new ts(Ae({typeName:Dr.ZodNull},Pr(t)));var wo=class extends Rr{constructor(){super(...arguments),this._any=!0}_parse(e){return Wn(e.data)}};wo.create=t=>new wo(Ae({typeName:Dr.ZodAny},Pr(t)));var Ia=class extends Rr{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Wn(e.data)}};Ia.create=t=>new Ia(Ae({typeName:Dr.ZodUnknown},Pr(t)));var ji=class extends Rr{_parse(e){let r=this._getOrReturnCtx(e);return Qe(r,{code:Ve.invalid_type,expected:$e.never,received:r.parsedType}),Or}};ji.create=t=>new ji(Ae({typeName:Dr.ZodNever},Pr(t)));var gu=class extends Rr{_parse(e){if(this._getType(e)!==$e.undefined){let n=this._getOrReturnCtx(e);return Qe(n,{code:Ve.invalid_type,expected:$e.void,received:n.parsedType}),Or}return Wn(e.data)}};gu.create=t=>new gu(Ae({typeName:Dr.ZodVoid},Pr(t)));var Oa=class t extends Rr{_parse(e){let{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==$e.array)return Qe(r,{code:Ve.invalid_type,expected:$e.array,received:r.parsedType}),Or;if(i.exactLength!==null){let o=r.data.length>i.exactLength.value,c=r.data.length<i.exactLength.value;(o||c)&&(Qe(r,{code:o?Ve.too_big:Ve.too_small,minimum:c?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(Qe(r,{code:Ve.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(Qe(r,{code:Ve.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,c)=>i.type._parseAsync(new Ii(r,o,r.path,c)))).then(o=>Pn.mergeArray(n,o));let a=[...r.data].map((o,c)=>i.type._parseSync(new Ii(r,o,r.path,c)));return Pn.mergeArray(n,a)}get element(){return this._def.type}min(e,r){return new t(br(Ae({},this._def),{minLength:{value:e,message:fr.toString(r)}}))}max(e,r){return new t(br(Ae({},this._def),{maxLength:{value:e,message:fr.toString(r)}}))}length(e,r){return new t(br(Ae({},this._def),{exactLength:{value:e,message:fr.toString(r)}}))}nonempty(e){return this.min(1,e)}};Oa.create=(t,e)=>new Oa(Ae({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Dr.ZodArray},Pr(e)));function hu(t){if(t instanceof ri){let e={};for(let r in t.shape){let n=t.shape[r];e[r]=Zi.create(hu(n))}return new ri(br(Ae({},t._def),{shape:()=>e}))}else return t instanceof Oa?new Oa(br(Ae({},t._def),{type:hu(t.element)})):t instanceof Zi?Zi.create(hu(t.unwrap())):t instanceof Ba?Ba.create(hu(t.unwrap())):t instanceof ua?ua.create(t.items.map(e=>hu(e))):t}var ri=class t extends Rr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),r=st.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==$e.object){let s=this._getOrReturnCtx(e);return Qe(s,{code:Ve.invalid_type,expected:$e.object,received:s.parsedType}),Or}let{status:n,ctx:i}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),c=[];if(!(this._def.catchall instanceof ji&&this._def.unknownKeys==="strip"))for(let s in i.data)o.includes(s)||c.push(s);let l=[];for(let s of o){let u=a[s],f=i.data[s];l.push({key:{status:"valid",value:s},value:u._parse(new Ii(i,f,i.path,s)),alwaysSet:s in i.data})}if(this._def.catchall instanceof ji){let s=this._def.unknownKeys;if(s==="passthrough")for(let u of c)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(s==="strict")c.length>0&&(Qe(i,{code:Ve.unrecognized_keys,keys:c}),n.dirty());else if(s!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let s=this._def.catchall;for(let u of c){let f=i.data[u];l.push({key:{status:"valid",value:u},value:s._parse(new Ii(i,f,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(()=>Fr(this,null,function*(){let s=[];for(let u of l){let f=yield u.key;s.push({key:f,value:yield u.value,alwaysSet:u.alwaysSet})}return s})).then(s=>Pn.mergeObjectSync(n,s)):Pn.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(e){return fr.errToObj,new t(Ae(br(Ae({},this._def),{unknownKeys:"strict"}),e!==void 0?{errorMap:(r,n)=>{var i,a,o,c;let l=(o=(a=(i=this._def).errorMap)===null||a===void 0?void 0:a.call(i,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(c=fr.errToObj(e).message)!==null&&c!==void 0?c:l}:{message:l}}}:{}))}strip(){return new t(br(Ae({},this._def),{unknownKeys:"strip"}))}passthrough(){return new t(br(Ae({},this._def),{unknownKeys:"passthrough"}))}extend(e){return new t(br(Ae({},this._def),{shape:()=>Ae(Ae({},this._def.shape()),e)}))}merge(e){return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>Ae(Ae({},this._def.shape()),e._def.shape()),typeName:Dr.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new t(br(Ae({},this._def),{catchall:e}))}pick(e){let r={};return st.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new t(br(Ae({},this._def),{shape:()=>r}))}omit(e){let r={};return st.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new t(br(Ae({},this._def),{shape:()=>r}))}deepPartial(){return hu(this)}partial(e){let r={};return st.objectKeys(this.shape).forEach(n=>{let i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}),new t(br(Ae({},this._def),{shape:()=>r}))}required(e){let r={};return st.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof Zi;)a=a._def.innerType;r[n]=a}}),new t(br(Ae({},this._def),{shape:()=>r}))}keyof(){return Fk(st.objectKeys(this.shape))}};ri.create=(t,e)=>new ri(Ae({shape:()=>t,unknownKeys:"strip",catchall:ji.create(),typeName:Dr.ZodObject},Pr(e)));ri.strictCreate=(t,e)=>new ri(Ae({shape:()=>t,unknownKeys:"strict",catchall:ji.create(),typeName:Dr.ZodObject},Pr(e)));ri.lazycreate=(t,e)=>new ri(Ae({shape:t,unknownKeys:"strip",catchall:ji.create(),typeName:Dr.ZodObject},Pr(e)));var ns=class extends Rr{_parse(e){let{ctx:r}=this._processInputParams(e),n=this._def.options;function i(a){for(let c of a)if(c.result.status==="valid")return c.result;for(let c of a)if(c.result.status==="dirty")return r.common.issues.push(...c.ctx.common.issues),c.result;let o=a.map(c=>new hi(c.ctx.common.issues));return Qe(r,{code:Ve.invalid_union,unionErrors:o}),Or}if(r.common.async)return Promise.all(n.map(a=>Fr(this,null,function*(){let o=br(Ae({},r),{common:br(Ae({},r.common),{issues:[]}),parent:null});return{result:yield a._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}}))).then(i);{let a,o=[];for(let l of n){let s=br(Ae({},r),{common:br(Ae({},r.common),{issues:[]}),parent:null}),u=l._parseSync({data:r.data,path:r.path,parent:s});if(u.status==="valid")return u;u.status==="dirty"&&!a&&(a={result:u,ctx:s}),s.common.issues.length&&o.push(s.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;let c=o.map(l=>new hi(l));return Qe(r,{code:Ve.invalid_union,unionErrors:c}),Or}}get options(){return this._def.options}};ns.create=(t,e)=>new ns(Ae({options:t,typeName:Dr.ZodUnion},Pr(e)));var hm=t=>t instanceof as?hm(t.schema):t instanceof vi?hm(t.innerType()):t instanceof os?[t.value]:t instanceof ss?t.options:t instanceof us?Object.keys(t.enum):t instanceof ls?hm(t._def.innerType):t instanceof rs?[void 0]:t instanceof ts?[null]:null,xm=class t extends Rr{_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==$e.object)return Qe(r,{code:Ve.invalid_type,expected:$e.object,received:r.parsedType}),Or;let n=this.discriminator,i=r.data[n],a=this.optionsMap.get(i);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(Qe(r,{code:Ve.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Or)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){let i=new Map;for(let a of r){let o=hm(a.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let c of o){if(i.has(c))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(c)}`);i.set(c,a)}}return new t(Ae({typeName:Dr.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i},Pr(n)))}};function MD(t,e){let r=xo(t),n=xo(e);if(t===e)return{valid:!0,data:t};if(r===$e.object&&n===$e.object){let i=st.objectKeys(e),a=st.objectKeys(t).filter(c=>i.indexOf(c)!==-1),o=Ae(Ae({},t),e);for(let c of a){let l=MD(t[c],e[c]);if(!l.valid)return{valid:!1};o[c]=l.data}return{valid:!0,data:o}}else if(r===$e.array&&n===$e.array){if(t.length!==e.length)return{valid:!1};let i=[];for(let a=0;a<t.length;a++){let o=t[a],c=e[a],l=MD(o,c);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return r===$e.date&&n===$e.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var is=class extends Rr{_parse(e){let{status:r,ctx:n}=this._processInputParams(e),i=(a,o)=>{if(_D(a)||_D(o))return Or;let c=MD(a.value,o.value);return c.valid?((ED(a)||ED(o))&&r.dirty(),{status:r.value,value:c.data}):(Qe(n,{code:Ve.invalid_intersection_types}),Or)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};is.create=(t,e,r)=>new is(Ae({left:t,right:e,typeName:Dr.ZodIntersection},Pr(r)));var ua=class t extends Rr{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==$e.array)return Qe(n,{code:Ve.invalid_type,expected:$e.array,received:n.parsedType}),Or;if(n.data.length<this._def.items.length)return Qe(n,{code:Ve.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Or;!this._def.rest&&n.data.length>this._def.items.length&&(Qe(n,{code:Ve.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let a=[...n.data].map((o,c)=>{let l=this._def.items[c]||this._def.rest;return l?l._parse(new Ii(n,o,n.path,c)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>Pn.mergeArray(r,o)):Pn.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new t(br(Ae({},this._def),{rest:e}))}};ua.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ua(Ae({items:t,typeName:Dr.ZodTuple,rest:null},Pr(e)))};var bm=class t extends Rr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==$e.object)return Qe(n,{code:Ve.invalid_type,expected:$e.object,received:n.parsedType}),Or;let i=[],a=this._def.keyType,o=this._def.valueType;for(let c in n.data)i.push({key:a._parse(new Ii(n,c,n.path,c)),value:o._parse(new Ii(n,n.data[c],n.path,c))});return n.common.async?Pn.mergeObjectAsync(r,i):Pn.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof Rr?new t(Ae({keyType:e,valueType:r,typeName:Dr.ZodRecord},Pr(n))):new t(Ae({keyType:bo.create(),valueType:e,typeName:Dr.ZodRecord},Pr(r)))}},yu=class extends Rr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==$e.map)return Qe(n,{code:Ve.invalid_type,expected:$e.map,received:n.parsedType}),Or;let i=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([c,l],s)=>({key:i._parse(new Ii(n,c,n.path,[s,"key"])),value:a._parse(new Ii(n,l,n.path,[s,"value"]))}));if(n.common.async){let c=new Map;return Promise.resolve().then(()=>Fr(this,null,function*(){for(let l of o){let s=yield l.key,u=yield l.value;if(s.status==="aborted"||u.status==="aborted")return Or;(s.status==="dirty"||u.status==="dirty")&&r.dirty(),c.set(s.value,u.value)}return{status:r.value,value:c}}))}else{let c=new Map;for(let l of o){let s=l.key,u=l.value;if(s.status==="aborted"||u.status==="aborted")return Or;(s.status==="dirty"||u.status==="dirty")&&r.dirty(),c.set(s.value,u.value)}return{status:r.value,value:c}}}};yu.create=(t,e,r)=>new yu(Ae({valueType:e,keyType:t,typeName:Dr.ZodMap},Pr(r)));var xu=class t extends Rr{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==$e.set)return Qe(n,{code:Ve.invalid_type,expected:$e.set,received:n.parsedType}),Or;let i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(Qe(n,{code:Ve.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(Qe(n,{code:Ve.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());let a=this._def.valueType;function o(l){let s=new Set;for(let u of l){if(u.status==="aborted")return Or;u.status==="dirty"&&r.dirty(),s.add(u.value)}return{status:r.value,value:s}}let c=[...n.data.values()].map((l,s)=>a._parse(new Ii(n,l,n.path,s)));return n.common.async?Promise.all(c).then(l=>o(l)):o(c)}min(e,r){return new t(br(Ae({},this._def),{minSize:{value:e,message:fr.toString(r)}}))}max(e,r){return new t(br(Ae({},this._def),{maxSize:{value:e,message:fr.toString(r)}}))}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};xu.create=(t,e)=>new xu(Ae({valueType:t,minSize:null,maxSize:null,typeName:Dr.ZodSet},Pr(e)));var wm=class t extends Rr{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==$e.function)return Qe(r,{code:Ve.invalid_type,expected:$e.function,received:r.parsedType}),Or;function n(c,l){return gm({data:c,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,vm(),ql].filter(s=>!!s),issueData:{code:Ve.invalid_arguments,argumentsError:l}})}function i(c,l){return gm({data:c,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,vm(),ql].filter(s=>!!s),issueData:{code:Ve.invalid_return_type,returnTypeError:l}})}let a={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof Do){let c=this;return Wn(function(...l){return Fr(this,null,function*(){let s=new hi([]),u=yield c._def.args.parseAsync(l,a).catch(m=>{throw s.addIssue(n(l,m)),s}),f=yield Reflect.apply(o,this,u);return yield c._def.returns._def.type.parseAsync(f,a).catch(m=>{throw s.addIssue(i(f,m)),s})})})}else{let c=this;return Wn(function(...l){let s=c._def.args.safeParse(l,a);if(!s.success)throw new hi([n(l,s.error)]);let u=Reflect.apply(o,this,s.data),f=c._def.returns.safeParse(u,a);if(!f.success)throw new hi([i(u,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new t(br(Ae({},this._def),{args:ua.create(e).rest(Ia.create())}))}returns(e){return new t(br(Ae({},this._def),{returns:e}))}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new t(Ae({args:e||ua.create([]).rest(Ia.create()),returns:r||Ia.create(),typeName:Dr.ZodFunction},Pr(n)))}},as=class extends Rr{get schema(){return this._def.getter()}_parse(e){let{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};as.create=(t,e)=>new as(Ae({getter:t,typeName:Dr.ZodLazy},Pr(e)));var os=class extends Rr{_parse(e){if(e.data!==this._def.value){let r=this._getOrReturnCtx(e);return Qe(r,{received:r.data,code:Ve.invalid_literal,expected:this._def.value}),Or}return{status:"valid",value:e.data}}get value(){return this._def.value}};os.create=(t,e)=>new os(Ae({value:t,typeName:Dr.ZodLiteral},Pr(e)));function Fk(t,e){return new ss(Ae({values:t,typeName:Dr.ZodEnum},Pr(e)))}var ss=class t extends Rr{_parse(e){if(typeof e.data!="string"){let r=this._getOrReturnCtx(e),n=this._def.values;return Qe(r,{expected:st.joinValues(n),received:r.parsedType,code:Ve.invalid_type}),Or}if(this._def.values.indexOf(e.data)===-1){let r=this._getOrReturnCtx(e),n=this._def.values;return Qe(r,{received:r.data,code:Ve.invalid_enum_value,options:n}),Or}return Wn(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e){return t.create(e)}exclude(e){return t.create(this.options.filter(r=>!e.includes(r)))}};ss.create=Fk;var us=class extends Rr{_parse(e){let r=st.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==$e.string&&n.parsedType!==$e.number){let i=st.objectValues(r);return Qe(n,{expected:st.joinValues(i),received:n.parsedType,code:Ve.invalid_type}),Or}if(r.indexOf(e.data)===-1){let i=st.objectValues(r);return Qe(n,{received:n.data,code:Ve.invalid_enum_value,options:i}),Or}return Wn(e.data)}get enum(){return this._def.values}};us.create=(t,e)=>new us(Ae({values:t,typeName:Dr.ZodNativeEnum},Pr(e)));var Do=class extends Rr{unwrap(){return this._def.type}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==$e.promise&&r.common.async===!1)return Qe(r,{code:Ve.invalid_type,expected:$e.promise,received:r.parsedType}),Or;let n=r.parsedType===$e.promise?r.data:Promise.resolve(r.data);return Wn(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}};Do.create=(t,e)=>new Do(Ae({type:t,typeName:Dr.ZodPromise},Pr(e)));var vi=class extends Rr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Dr.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:o=>{Qe(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){let o=i.transform(n.data,a);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(o).then(c=>this._def.schema._parseAsync({data:c,path:n.path,parent:n})):this._def.schema._parseSync({data:o,path:n.path,parent:n})}if(i.type==="refinement"){let o=c=>{let l=i.refinement(c,a);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(n.common.async===!1){let c=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return c.status==="aborted"?Or:(c.status==="dirty"&&r.dirty(),o(c.value),{status:r.value,value:c.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(c=>c.status==="aborted"?Or:(c.status==="dirty"&&r.dirty(),o(c.value).then(()=>({status:r.value,value:c.value}))))}if(i.type==="transform")if(n.common.async===!1){let o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Vl(o))return o;let c=i.transform(o.value,a);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:c}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Vl(o)?Promise.resolve(i.transform(o.value,a)).then(c=>({status:r.value,value:c})):o);st.assertNever(i)}};vi.create=(t,e,r)=>new vi(Ae({schema:t,typeName:Dr.ZodEffects,effect:e},Pr(r)));vi.createWithPreprocess=(t,e,r)=>new vi(Ae({schema:e,effect:{type:"preprocess",transform:t},typeName:Dr.ZodEffects},Pr(r)));var Zi=class extends Rr{_parse(e){return this._getType(e)===$e.undefined?Wn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Zi.create=(t,e)=>new Zi(Ae({innerType:t,typeName:Dr.ZodOptional},Pr(e)));var Ba=class extends Rr{_parse(e){return this._getType(e)===$e.null?Wn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Ba.create=(t,e)=>new Ba(Ae({innerType:t,typeName:Dr.ZodNullable},Pr(e)));var ls=class extends Rr{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return r.parsedType===$e.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};ls.create=(t,e)=>new ls(Ae({innerType:t,typeName:Dr.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default},Pr(e)));var bu=class extends Rr{_parse(e){let{ctx:r}=this._processInputParams(e),n=br(Ae({},r),{common:br(Ae({},r.common),{issues:[]})}),i=this._def.innerType._parse({data:n.data,path:n.path,parent:Ae({},n)});return ym(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new hi(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new hi(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};bu.create=(t,e)=>new bu(Ae({innerType:t,typeName:Dr.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch},Pr(e)));var wu=class extends Rr{_parse(e){if(this._getType(e)!==$e.nan){let n=this._getOrReturnCtx(e);return Qe(n,{code:Ve.invalid_type,expected:$e.nan,received:n.parsedType}),Or}return{status:"valid",value:e.data}}};wu.create=t=>new wu(Ae({typeName:Dr.ZodNaN},Pr(t)));var zZ=Symbol("zod_brand"),Dm=class extends Rr{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},zl=class t extends Rr{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return Fr(this,null,function*(){let a=yield this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Or:a.status==="dirty"?(r.dirty(),Tk(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})});{let i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Or:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new t({in:e,out:r,typeName:Dr.ZodPipeline})}},Du=class extends Rr{_parse(e){let r=this._def.innerType._parse(e);return Vl(r)&&(r.value=Object.freeze(r.value)),r}};Du.create=(t,e)=>new Du(Ae({innerType:t,typeName:Dr.ZodReadonly},Pr(e)));var Ik=(t,e={},r)=>t?wo.create().superRefine((n,i)=>{var a,o;if(!t(n)){let c=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,l=(o=(a=c.fatal)!==null&&a!==void 0?a:r)!==null&&o!==void 0?o:!0,s=typeof c=="string"?{message:c}:c;i.addIssue(br(Ae({code:"custom"},s),{fatal:l}))}}):wo.create(),HZ={object:ri.lazycreate},Dr;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Dr||(Dr={}));var YZ=(t,e={message:`Input not instance of ${t.name}`})=>Ik(r=>r instanceof t,e),Ok=bo.create,Bk=Xo.create,GZ=wu.create,WZ=Qo.create,Pk=Ko.create,ZZ=es.create,jZ=vu.create,$Z=rs.create,JZ=ts.create,XZ=wo.create,QZ=Ia.create,KZ=ji.create,ej=gu.create,rj=Oa.create,tj=ri.create,nj=ri.strictCreate,ij=ns.create,aj=xm.create,oj=is.create,sj=ua.create,uj=bm.create,lj=yu.create,cj=xu.create,fj=wm.create,pj=as.create,mj=os.create,dj=ss.create,hj=us.create,vj=Do.create,Mk=vi.create,gj=Zi.create,yj=Ba.create,xj=vi.createWithPreprocess,bj=zl.create,wj=()=>Ok().optional(),Dj=()=>Bk().optional(),Sj=()=>Pk().optional(),Aj={string:t=>bo.create(br(Ae({},t),{coerce:!0})),number:t=>Xo.create(br(Ae({},t),{coerce:!0})),boolean:t=>Ko.create(br(Ae({},t),{coerce:!0})),bigint:t=>Qo.create(br(Ae({},t),{coerce:!0})),date:t=>es.create(br(Ae({},t),{coerce:!0}))},Nj=Or,Yr=Object.freeze({__proto__:null,defaultErrorMap:ql,setErrorMap:CZ,getErrorMap:vm,makeIssue:gm,EMPTY_PATH:TZ,addIssueToContext:Qe,ParseStatus:Pn,INVALID:Or,DIRTY:Tk,OK:Wn,isAborted:_D,isDirty:ED,isValid:Vl,isAsync:ym,get util(){return st},get objectUtil(){return ND},ZodParsedType:$e,getParsedType:xo,ZodType:Rr,ZodString:bo,ZodNumber:Xo,ZodBigInt:Qo,ZodBoolean:Ko,ZodDate:es,ZodSymbol:vu,ZodUndefined:rs,ZodNull:ts,ZodAny:wo,ZodUnknown:Ia,ZodNever:ji,ZodVoid:gu,ZodArray:Oa,ZodObject:ri,ZodUnion:ns,ZodDiscriminatedUnion:xm,ZodIntersection:is,ZodTuple:ua,ZodRecord:bm,ZodMap:yu,ZodSet:xu,ZodFunction:wm,ZodLazy:as,ZodLiteral:os,ZodEnum:ss,ZodNativeEnum:us,ZodPromise:Do,ZodEffects:vi,ZodTransformer:vi,ZodOptional:Zi,ZodNullable:Ba,ZodDefault:ls,ZodCatch:bu,ZodNaN:wu,BRAND:zZ,ZodBranded:Dm,ZodPipeline:zl,ZodReadonly:Du,custom:Ik,Schema:Rr,ZodSchema:Rr,late:HZ,get ZodFirstPartyTypeKind(){return Dr},coerce:Aj,any:XZ,array:rj,bigint:WZ,boolean:Pk,date:ZZ,discriminatedUnion:aj,effect:Mk,enum:dj,function:fj,instanceof:YZ,intersection:oj,lazy:pj,literal:mj,map:lj,nan:GZ,nativeEnum:hj,never:KZ,null:JZ,nullable:yj,number:Bk,object:tj,oboolean:Sj,onumber:Dj,optional:gj,ostring:wj,pipeline:bj,preprocess:xj,promise:vj,record:uj,set:cj,strictObject:nj,string:Ok,symbol:jZ,transformer:Mk,tuple:sj,undefined:$Z,union:ij,unknown:QZ,void:ej,NEVER:Nj,ZodIssueCode:Ve,quotelessJson:MZ,ZodError:hi});var _j=/[$_\p{ID_Start}][$\u200c\u200d\p{ID_Continue}]*/u;function Rk(t){return t.length===1?t[0].toString():t.reduce((e,r)=>{if(typeof r=="number")return e+"["+r.toString()+"]";if(r.includes('"'))return e+'["'+Ej(r)+'"]';if(!_j.test(r))return e+'["'+r+'"]';let n=e.length===0?"":".";return e+n+r},"")}function Ej(t){return t.replace(/"/g,'\\"')}function kk(t){return t.length!==0}var Mj=99,Cj="; ",Tj=", or ",Lk="Validation error",Fj=": ",Sm=class extends Error{constructor(r,n=[]){super(r);Wt(this,"details");Wt(this,"name");this.details=n,this.name="ZodValidationError"}toString(){return this.message}};function Uk(t){let{issue:e,issueSeparator:r,unionSeparator:n,includePath:i}=t;if(e.code==="invalid_union")return e.unionErrors.reduce((a,o)=>{let c=o.issues.map(l=>Uk({issue:l,issueSeparator:r,unionSeparator:n,includePath:i})).join(r);return a.includes(c)||a.push(c),a},[]).join(n);if(i&&kk(e.path)){if(e.path.length===1){let a=e.path[0];if(typeof a=="number")return`${e.message} at index ${a}`}return`${e.message} at "${Rk(e.path)}"`}return e.message}function Ij(t,e,r){return e!==null?t.length>0?[e,t].join(r):e:t.length>0?t:Lk}function CD(t,e={}){let{maxIssuesInMessage:r=Mj,issueSeparator:n=Cj,unionSeparator:i=Tj,prefixSeparator:a=Fj,prefix:o=Lk,includePath:c=!0}=e,l=t.errors.slice(0,r).map(u=>Uk({issue:u,issueSeparator:n,unionSeparator:i,includePath:c})).join(n),s=Ij(l,o,a);return new Sm(s,t.errors)}function qk(t,e){return(r,n)=>r[t]===void 0==(r[e]===void 0)?(n.addIssue({code:Yr.ZodIssueCode.custom,message:`Either ${t} or ${e} must be filled, but not both`}),!1):!0}function la(){return function(t){return t}}var Oj=la()(Yr.object({type:Yr.literal("command"),command:Yr.string()})),Bj=la()(Yr.object({type:Yr.literal("js"),file:Yr.string()})),Pj=la()(Yr.object({type:Yr.literal("open"),link:Yr.string(),newTab:Yr.boolean().optional()})),Rj=la()(Yr.object({type:Yr.literal("input"),str:Yr.string()})),kj=la()(Yr.object({type:Yr.literal("sleep"),ms:Yr.number()})),Lj=la()(Yr.object({type:Yr.literal("templaterCreateNote"),templateFile:Yr.string(),folderPath:Yr.string().optional(),fileName:Yr.string().optional(),openNote:Yr.boolean().optional()})),Uj=la()(Yr.object({type:Yr.literal("updateMetadata"),bindTarget:Yr.string(),evaluate:Yr.boolean(),value:Yr.coerce.string()})),Vk=la()(Yr.union([Oj,Bj,Pj,Rj,kj,Lj,Uj])),qj=Yr.nativeEnum(Oo),zk=la()(Yr.object({label:Yr.string(),style:qj,class:Yr.string().optional(),tooltip:Yr.string().optional(),id:Yr.string().optional(),hidden:Yr.boolean().optional(),action:Vk.optional(),actions:Vk.array().optional()}).superRefine(qk("action","actions")));var Su=class{constructor(e,r,n,i,a){this.plugin=e,this.unvalidatedConfig=r,this.filePath=n,this.inline=i,this.config=void 0,this.isPreview=a}renderButton(e){if(this.config===void 0)return;let r=this.config;this.buttonComponent=new dm({target:e,props:{variant:r.style,label:r.label,tooltip:gS(r.tooltip)?r.tooltip:r.label,onClick:()=>Fr(this,null,function*(){yield this.plugin.api.buttonActionRunner.runButtonAction(r,this.filePath)})}})}mount(e){Ar.empty(e),Ar.addClasses(e,["mb-button",this.inline?"mb-button-inline":"mb-button-block"]);let r=zk.safeParse(this.unvalidatedConfig);if(!r.success){let n=CD(r.error,{unionSeparator:`
OR `,issueSeparator:" AND ",prefix:null});throw new To({errorLevel:"ERROR",effect:"can not parse button config",cause:"zod validation failed. Check your button syntax",positionContext:n.message,docs:[Et.linkToButtonConfig()]})}this.config=r.data,!(!this.inline&&!this.isPreview&&(this.config.id&&this.plugin.api.buttonManager.addButton(this.filePath,this.config),this.config.hidden))&&(this.config.class&&Ar.addClasses(e,this.config.class.split(" ").filter(n=>n!=="")),this.renderButton(e))}unmount(){var e,r;(e=this.buttonComponent)==null||e.$destroy(),this.inline||(r=this.config)!=null&&r.id&&this.plugin.api.buttonManager.removeButton(this.filePath,this.config.id)}};var Am=class{constructor(e,r,n){this.cleanupCallbacks=[];this.plugin=e,this.content=r,this.filePath=n,this.cleanupCallbacks=[]}renderInitialButton(e,r){return new dm({target:e,props:{variant:"default",label:"Button ID not Found",tooltip:`No button with id '${r}' found`,error:!0,onClick:()=>Fr(this,null,function*(){})}})}mount(e){Ar.empty(e),Ar.addClass(e,"mb-button-group");let r=mm.parseString(this.content);for(let n of r){let i=Ar.createElement(e,"span",{class:"mb-button mb-button-inline"}),a=this.renderInitialButton(i,n),o,c=this.plugin.api.buttonManager.registerButtonLoadListener(this.filePath,n,l=>{a==null||a.$destroy(),o=new Su(this.plugin,l,this.filePath,!0,!1),o.mount(i)});this.cleanupCallbacks.push(()=>{a==null||a.$destroy(),o==null||o.unmount(),c()})}}unmount(){for(let e of this.cleanupCallbacks)e()}};var Nm=class extends Fi{constructor(e,r,n,i){super(e,r,n),this.declarationString=i,this.errorCollection=new mt(this.getUuid())}onMount(e){console.debug("meta-bind | InlineButtonBase >> mount",this.declarationString),Ar.removeAllClasses(e),this.buttonField=new Am(this.plugin,this.declarationString,this.getFilePath());try{this.buttonField.mount(e)}catch(r){this.errorCollection.add(r),this.plugin.internal.createErrorIndicator(e,{errorCollection:this.errorCollection,errorText:"Errors caused the creation of the field to fail. Sometimes one error only occurs because of another.",warningText:"Warnings will not cause the creation of a field to fail, but they indicate that a part of the declaration was invalid or uses deprecated functionality.",code:this.declarationString})}}onUnmount(e){var r;console.debug("meta-bind | InlineButtonBase >> destroy",this.declarationString),(r=this.buttonField)==null||r.unmount(),$i(e,"inline button")}};var _m=class extends Fi{constructor(e,r,n,i,a){super(e,r,n),this.declarationString=i,this.isPreview=a,this.errorCollection=new mt(this.getUuid())}onMount(e){console.debug("meta-bind | ButtonBase >> mount",this.declarationString),Ar.removeAllClasses(e);let r=this.plugin.internal.parseYaml(this.declarationString);this.buttonField=new Su(this.plugin,r,this.getFilePath(),!1,this.isPreview);try{this.buttonField.mount(e)}catch(n){this.errorCollection.add(n),this.plugin.internal.createErrorIndicator(e,{errorCollection:this.errorCollection,errorText:"Errors caused the creation of the field to fail. Sometimes one error only occurs because of another.",warningText:"Warnings will not cause the creation of a field to fail, but they indicate that a part of the declaration was invalid or uses deprecated functionality.",code:this.declarationString})}}onUnmount(e){var r;console.debug("meta-bind | ButtonBase >> destroy",this.declarationString),(r=this.buttonField)==null||r.unmount(),$i(e,"button")}};var bh=(a=>(a.INPUT_FIELD="INPUT_FIELD",a.VIEW_FIELD="VIEW_FIELD",a.JS_VIEW_FIELD="JS_VIEW_FIELD",a.INLINE_BUTTON="INLINE_BUTTON",a.BUTTON="BUTTON",a))(bh||{});function Vj(t){return t==="INPUT_FIELD"||t==="VIEW_FIELD"||t==="INLINE_BUTTON"}var Em=class{constructor(e,r){var n,i,a,o,c,l,s,u;this.plugin=e,this.inputField=new Wc(e),this.inputFieldParser=(n=r==null?void 0:r.inputFieldParser)!=null?n:new kc(e),this.viewFieldParser=(i=r==null?void 0:r.viewFieldParser)!=null?i:new Hc(e),this.bindTargetParser=(a=r==null?void 0:r.bindTargetParser)!=null?a:new Gc(e),this.inputFieldFactory=(o=r==null?void 0:r.inputFieldFactory)!=null?o:new Df(e),this.viewFieldFactory=(c=r==null?void 0:r.viewFieldFactory)!=null?c:new lm(e),this.buttonActionRunner=(l=r==null?void 0:r.buttonActionRunner)!=null?l:new Sf(e),this.buttonManager=(s=r==null?void 0:r.buttonManager)!=null?s:new Nf(e),this.syntaxHighlighting=(u=r==null?void 0:r.syntaxHighlighting)!=null?u:new Cf(e)}createField(e,r,n,i,a){let o=$t();if(e==="INPUT_FIELD"){let c=this.inputFieldParser.parseString(i,r,a);return new cm(this.plugin,o,r,n,c)}else if(e==="VIEW_FIELD"){let c=this.viewFieldParser.parseString(i,r,a);return new fm(this.plugin,o,r,n,c)}else if(e==="JS_VIEW_FIELD"){let c=this.viewFieldParser.parseJsString(i,r);return new pm(this.plugin,o,r,n,c)}else{if(e==="INLINE_BUTTON")return new Nm(this.plugin,o,r,i);if(e==="BUTTON")return new _m(this.plugin,o,r,i,!1)}throw new Error(`Unknown field type: ${e}`)}getInlineFieldDeclarationPrefix(e){if(e==="INPUT_FIELD")return"INPUT";if(e==="VIEW_FIELD")return"VIEW";if(e==="INLINE_BUTTON")return"BUTTON";throw new xt({errorLevel:"CRITICAL",effect:"failed to get declaration prefix",cause:`Invalid inline mdrc type "${e}"`})}isInlineFieldDeclaration(e,r){let n=this.getInlineFieldDeclarationPrefix(e)+"[";return r.startsWith(n)&&r.endsWith("]")}isInlineFieldDeclarationAndGetType(e){if(e.endsWith("]"))for(let r of Object.values(bh)){if(!Vj(r))continue;let n=this.getInlineFieldDeclarationPrefix(r)+"[";if(e.startsWith(n))return r}}};var Hk=ic("obsidian/publish");var Mm=class extends Hk.MarkdownRenderChild{constructor(e,r,n){super(n),this.plugin=e,this.filePath=r,this.uuid=$t()}onload(){super.onload()}onunload(){super.onunload()}};var Cm=class extends Mm{constructor(e,r,n){super(e,r.getFilePath(),n),this.base=r}onload(){this.base.mount(this.containerEl),super.onload()}onunload(){this.base.unmount(),super.onunload()}};var Tm=class extends Em{constructor(e){super(e)}createMDRC(e,r,n,i,a,o,c){let l=this.createField(e,i,n,r,c),s=new Cm(this.plugin,l,a);return o.addChild(s),s}};var Fm=class{constructor(e){this.plugin=e}openDatePickerModal(e){}openImageSuggesterModal(e,r){}openSuggesterModal(e,r){}openTextPromptModal(e,r,n,i,a,o){}renderMarkdown(e,r,n){return Fr(this,null,function*(){return r.innerText+=e,()=>{}})}executeCommandById(e){throw new Error("not implemented")}isJsEngineAvailable(){return!1}jsEngineRunFile(e,r,n){return Promise.reject(new Error("not implemented"))}jsEngineRunCode(e,r,n){return Promise.reject(new Error("not implemented"))}createJsRenderer(e,r,n){throw new Error("not implemented")}openFile(e,r,n){throw new Error("not implemented")}getFilePathByName(e){return e}showNotice(e){}createErrorIndicator(e,r){}parseYaml(e){return{}}setIcon(e,r){}imagePathToUri(e){return e}};function Yk(t,e){return t.evaluate?new Function("x",`return ${t.value};`)(e):oi(t.value)}var Im=class{constructor(e,r,n,i,a){this.uuid=e,this.callbackSignal=r,this.metadataManager=n,this.bindTarget=i,this.onDelete=a,this.deleted=!1}unsubscribe(){this.metadataManager.unsubscribe(this)}update(e){this.metadataManager.update(e,this)}applyUpdate(e){let r=this.callbackSignal.get(),n=Yk(e,r);this.update(n)}notify(e){this.callbackSignal.set(e)}getDependencies(){return[]}delete(){this.deleted=!0,this.onDelete()}};var Om=class{constructor(e,r,n,i,a,o,c){this.uuid=e,this.callbackSignal=r,this.metadataManager=n,this.bindTarget=i,this.dependencies=a,this.dependencySubscriptions=[],this.computeFunction=o,this.onDelete=c,this.deleted=!1}init(){for(let e of this.dependencies){let r=this.uuid+"/"+$t();this.dependencySubscriptions.push(this.metadataManager.subscribe(r,e.callbackSignal,e.bindTarget,()=>this.delete())),e.callbackSignal.registerListener({callback:()=>void this.computeValue()})}this.computeValue()}computeValue(){return Fr(this,null,function*(){let e=this.dependencySubscriptions.map(n=>n.callbackSignal.get()),r=yield this.computeFunction(e);this.callbackSignal.set(r),this.metadataManager.update(r,this)})}unsubscribe(){for(let e of this.dependencySubscriptions)e.unsubscribe();this.metadataManager.unsubscribe(this)}notify(e){}getDependencies(){return this.dependencies}delete(){this.deleted=!0;for(let e of this.dependencySubscriptions)e.deleted||e.delete();this.onDelete(),this.unsubscribe()}};var Gk=5,zj=5*60;function TD(t,e){return t===void 0||e===void 0||t.storageType!==e.storageType||t.storagePath!==e.storagePath?!1:Wk(t.storageProp.toStringArray(),e.storageProp.toStringArray(),e.listenToChildren)}function Wk(t,e,r){return vS(t,e)||hd(e,t)?!0:r&&hd(t,e)}function Hj(t){return t===void 0?"undefined":`${t.storagePath}#${t.storageProp.toString()}`}var Bm=class{constructor(){this.sources=new Map,this.defaultSource="CHANGE_THE_DEFAULT_SOURCE"}registerSource(e){this.sources.set(e.id,e)}setDefaultSource(e){if(this.sources.has(e))this.defaultSource=e;else throw new xt({errorLevel:"CRITICAL",effect:"can not set default source",cause:`Source "${e}" does not exist`})}unregisterSource(e){this.sources.delete(e.id)}getSource(e){return this.sources.get(e)}iterateSources(){return this.sources.keys()}subscribe(e,r,n,i){let a=new Im(e,r,this,n,i);return this.subscribeSubscription(a),a}subscribeComputed(e,r,n,i,a,o){let c=new Om(e,r,this,n,i,a,o);return this.checkForLoops(c),c.init(),this.subscribeSubscription(c),c}unsubscribe(e){if(e.bindTarget===void 0)return;let r=this.getSource(e.bindTarget.storageType);if(r===void 0)throw new xt({errorLevel:"ERROR",effect:"can not unsubscribe subscription",cause:`Source "${e.bindTarget.storageType}" does not exist`});r.unsubscribe(e)}subscribeSubscription(e){if(e.bindTarget===void 0)return;let r=this.getSource(e.bindTarget.storageType);if(r===void 0)throw new xt({errorLevel:"ERROR",effect:"can not subscribe subscription",cause:`Source "${e.bindTarget.storageType}" does not exist`});let n=r.subscribe(e);n.inactive=!1,n.cyclesSinceInactive=0,e.notify(r.readCacheItem(n,e.bindTarget.storageProp))}checkForLoops(e){for(let r of this.getAllSubscriptionsToDependencies(e))this.recCheckForLoops([e,r])}recCheckForLoops(e){let r=e.at(0),n=e.at(-1);if(!(n===void 0||r===void 0)){if(TD(r.bindTarget,n.bindTarget))throw new ac({errorLevel:"ERROR",effect:"bind target dependency loop detected",cause:`the loop is as follows: ${e.map(i=>`"${Hj(i.bindTarget)}"`).join(" -> ")}`,docs:["https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/guides/viewfields/#circular-dependencies"]});for(let i of this.getAllSubscriptionsToDependencies(n))this.recCheckForLoops([...e,i])}}getAllSubscriptionsToDependencies(e){return e.getDependencies().map(r=>this.getAllSubscriptionsToBindTarget(r.bindTarget)).flat()}getAllSubscriptionsToBindTarget(e){if(e===void 0)return[];let r=this.getCacheItemForBindTarget(e);if(!r)return[];let n=[];for(let i of r.subscriptions)TD(i.bindTarget,e)&&n.push(i);return r.subscriptions.filter(i=>TD(i.bindTarget,e))}getCacheItemForBindTarget(e){var r;return(r=this.getSource(e.storageType))==null?void 0:r.getCacheItemForStoragePath(e.storagePath)}cycle(){for(let e of this.sources.values()){let r=[];for(let n of e.iterateCacheItems()){if(e.onCycle(n),n.pendingInternalChange){try{e.syncExternal(n)}catch(i){console.warn("failed to update frontmatter",i)}n.pendingInternalChange=!1}n.cyclesSinceInternalChange+=1,n.inactive&&(n.cyclesSinceInactive+=1),n.cyclesSinceInactive>zj&&e.shouldDelete(n)&&r.push(n)}for(let n of r)e.delete(n)}}update(e,r){if(r.bindTarget===void 0)return;let n=this.getSource(r.bindTarget.storageType);if(n===void 0)throw new xt({errorLevel:"ERROR",effect:"can not update metadata",cause:`Source "${r.bindTarget.storageType}" does not exist`});let i=n.update(e,r);i.pendingInternalChange=!0,i.cyclesSinceInternalChange=0,this.notifyListeners(n,r)}isCacheExternalWriteLocked(e){return e.cyclesSinceInternalChange<Gk}notifyListeners(e,r){if(r.bindTarget===void 0)return;let n=e.getCacheItemForStoragePath(r.bindTarget.storagePath);if(n!==void 0){for(let i of n.subscriptions)if(!(r.uuid===i.uuid||i.bindTarget===void 0)&&Wk(r.bindTarget.storageProp.toStringArray(),i.bindTarget.storageProp.toStringArray(),i.bindTarget.listenToChildren)){let a=e.readCache(i.bindTarget);i.notify(a)}}}notifyAllListeners(e,r){for(let n of r.subscriptions){if(n.bindTarget===void 0)continue;let i=e.readCache(n.bindTarget);n.notify(i)}}deleteCachesForStoragePath(e){for(let r of this.sources.values()){let n=r.getCacheItemForStoragePath(e);n!==void 0&&(n.subscriptions.forEach(i=>i.delete()),r.delete(n))}}getDefaultCacheItem(){return{subscriptions:[],cyclesSinceInternalChange:Gk+1,pendingInternalChange:!1,cyclesSinceInactive:0,inactive:!0}}onExternalUpdate(e,r,n){let i=e.getCacheItemForStoragePath(r);i===void 0||this.isCacheExternalWriteLocked(i)||(e.updateEntireCache(n,i),this.notifyAllListeners(e,i))}onStoragePathDeleted(e){this.deleteCachesForStoragePath(e)}onStoragePathRenamed(e,r){this.deleteCachesForStoragePath(e)}};var So=class{static get(e,r){return r.get(e).child}static tryGet(e,r){var n;return(n=r.tryGet(e))==null?void 0:n.child}static fullGet(e,r){return r.get(e)}static set(e,r,n){r.set(e,n)}static setAndCreate(e,r,n){r.setAndCreate(e,n)}};var Pm=class{constructor(e,r){this.id=e,this.manager=r,this.cache=new Map}validateStoragePath(e,r,n,i){return i.validateStoragePathAsFilePath(e,n)}resolveBindTargetScope(e,r,n){return e}subscribe(e){if(e.bindTarget===void 0)throw new xt({errorLevel:"CRITICAL",effect:"can not subscribe",cause:"subscription bind target undefined"});let r=this.cache.get(e.bindTarget.storagePath);return r===void 0&&(r=this.getDefaultCacheItem(e.bindTarget.storagePath),this.cache.set(e.bindTarget.storagePath,r)),r.subscriptions.push(e),r}unsubscribe(e){if(e.bindTarget===void 0)throw new xt({errorLevel:"CRITICAL",effect:"can not unsubscribe",cause:"subscription bind target undefined"});let r=this.cache.get(e.bindTarget.storagePath);if(r===void 0)throw new xt({errorLevel:"CRITICAL",effect:"can not unsubscribe",cause:"cache item does not exist"});return r.subscriptions=r.subscriptions.filter(n=>n.uuid!==e.uuid),r}getCacheItemForStoragePath(e){return this.cache.get(e)}onCycle(e){}iterateCacheItems(){return this.cache.values()}shouldDelete(e){return!0}delete(e){this.cache.delete(e.storagePath)}update(e,r){if(r.bindTarget===void 0)throw new xt({errorLevel:"CRITICAL",effect:"can not update metadata",cause:"subscription bind target undefined"});let n=this.cache.get(r.bindTarget.storagePath);if(n===void 0)throw new xt({errorLevel:"CRITICAL",effect:"can not update metadata",cause:"cache item does not exist"});return So.setAndCreate(n.data,r.bindTarget.storageProp,e),n}updateEntireCache(e,r){r.data=e}readCache(e){if(e.storageType!==this.id)throw new xt({errorLevel:"ERROR",effect:"can not read cache",cause:`Source "${e.storageType}" does not match`});let r=this.getCacheItemForStoragePath(e.storagePath);if(r===void 0)throw new xt({errorLevel:"ERROR",effect:"can not read cache",cause:`Cache item for path "${e.storagePath}" does not exist or is not loaded`});return this.readCacheItem(r,e.storageProp)}readCacheItem(e,r){return So.tryGet(e.data,r)}readEntireCacheItem(e){return e.data}};var Hl=class extends Pm{getDefaultCacheItem(e){return Ae({data:{},storagePath:e},this.manager.getDefaultCacheItem())}syncExternal(e){return Fr(this,null,function*(){})}},Rm=class{constructor(e,r){this.id=e,this.manager=r,this.cache=Ae({data:{}},this.manager.getDefaultCacheItem())}validateStoragePath(e,r,n,i){if(r)throw new Kt("ERROR","Bind Target Validator","Failed to parse bind target. Bind target storage type 'global_memory' does not support a storage path.",n,e.position);return""}resolveBindTargetScope(e,r,n){return e}delete(e){}getCacheItemForStoragePath(e){return this.cache}iterateCacheItems(){return[this.cache][Symbol.iterator]()}onCycle(e){}readCache(e){return this.readCacheItem(this.cache,e.storageProp)}readCacheItem(e,r){return So.tryGet(e.data,r)}shouldDelete(e){return!1}subscribe(e){return this.cache.subscriptions.push(e),this.cache}syncExternal(e){}unsubscribe(e){return this.cache.subscriptions=this.cache.subscriptions.filter(r=>r.uuid!==e.uuid),this.cache}update(e,r){if(r.bindTarget===void 0)throw new xt({errorLevel:"CRITICAL",effect:"can not update metadata",cause:"subscription bind target undefined"});return So.setAndCreate(this.cache.data,r.bindTarget.storageProp,e),this.cache}updateEntireCache(e,r){r.data=e}readEntireCacheItem(e){return e.data}};var km=class{constructor(e){this.settings=e,this.api=new Tm(this),this.internal=new Fm(this),this.metadataManager=new Bm,this.setUpMetadataManager(),this.load()}setUpMetadataManager(){this.metadataManager.registerSource(new Hl("frontmatter",this.metadataManager)),this.metadataManager.registerSource(new Hl("memory",this.metadataManager)),this.metadataManager.registerSource(new Rm("globalMemory",this.metadataManager)),this.metadataManager.setDefaultSource("frontmatter"),window.setInterval(()=>this.metadataManager.cycle(),this.settings.syncInterval)}onLoad(){console.log("meta-bind-publish | loaded"),console.log(publish),publish.registerMarkdownPostProcessor((e,r)=>{let n=e.querySelectorAll("code"),i=r.sourcePath;for(let a=0;a<n.length;a++){let o=n.item(a);if(o.hasClass("mb-none"))continue;let c=o.innerText,l=this.api.isInlineFieldDeclarationAndGetType(c);if(console.log(c,l),l===void 0)continue;this.api.createMDRC(l,c,"inline",i,o,r,void 0).load()}},1)}onUnload(){console.log("meta-bind-publish | unloaded")}load(){this.onLoad()}unload(){this.onUnload()}getFilePathsByName(e){return[e]}};new km(mb_settings);return y8(Yj);})();
/*! Bundled license information:

moment/moment.js:
  (*! moment.js *)
  (*! version : 2.30.1 *)
  (*! authors : Tim Wood, Iskren Chernev, Moment.js contributors *)
  (*! license : MIT *)
  (*! momentjs.com *)

complex.js/complex.js:
  (**
   * @license Complex.js v2.1.1 12/05/2020
   *
   * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
   * Dual licensed under the MIT or GPL Version 2 licenses.
   **)

fraction.js/fraction.js:
  (**
   * @license Fraction.js v4.3.0 20/08/2023
   * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
   *
   * Copyright (c) 2023, Robert Eisele (robert@raw.org)
   * Dual licensed under the MIT or GPL Version 2 licenses.
   **)

decimal.js/decimal.mjs:
  (*!
   *  decimal.js v10.4.3
   *  An arbitrary-precision Decimal type for JavaScript.
   *  https://github.com/MikeMcl/decimal.js
   *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
   *  MIT Licence
   *)
*/
